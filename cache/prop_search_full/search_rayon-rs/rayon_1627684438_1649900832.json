[{"url": "https://api.github.com/repos/rayon-rs/rayon/issues/928", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/928/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/928/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/928/events", "html_url": "https://github.com/rayon-rs/rayon/pull/928", "id": 1203905698, "node_id": "PR_kwDOAXlGLs42NT8M", "number": 928, "title": "Release rayon 1.5.2 / rayon-core 1.9.2", "user": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-14T00:21:57Z", "updated_at": "2023-02-25T17:58:32Z", "closed_at": "2022-04-14T00:45:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/928", "html_url": "https://github.com/rayon-rs/rayon/pull/928", "diff_url": "https://github.com/rayon-rs/rayon/pull/928.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/928.patch", "merged_at": "2022-04-14T00:45:11Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/928/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/928/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/927", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/927/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/927/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/927/events", "html_url": "https://github.com/rayon-rs/rayon/pull/927", "id": 1194941864, "node_id": "PR_kwDOAXlGLs41wFf4", "number": 927, "title": "Upgrade rayon-demo to glium 0.31", "user": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-06T17:51:24Z", "updated_at": "2023-02-25T17:58:19Z", "closed_at": "2022-04-06T18:22:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/927", "html_url": "https://github.com/rayon-rs/rayon/pull/927", "diff_url": "https://github.com/rayon-rs/rayon/pull/927.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/927.patch", "merged_at": "2022-04-06T18:22:03Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/927/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/926", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/926/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/926/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/926/events", "html_url": "https://github.com/rayon-rs/rayon/pull/926", "id": 1194923850, "node_id": "PR_kwDOAXlGLs41wBen", "number": 926, "title": "Enforce THREADS_MAX and expose it with max_num_threads()", "user": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-04-06T17:38:56Z", "updated_at": "2023-02-25T17:58:37Z", "closed_at": "2022-04-13T23:46:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/926", "html_url": "https://github.com/rayon-rs/rayon/pull/926", "diff_url": "https://github.com/rayon-rs/rayon/pull/926.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/926.patch", "merged_at": "2022-04-13T23:46:47Z"}, "body": "We have an inherent maximum on the number of threads we can support in a\r\nsingle thread pool, based on the number of `THREADS_BITS` we are using\r\nin the atomic sleep counters. However, we were not enforcing this, so a\r\nlarger pool could be created and end up wrapping the counters. In debug\r\nbuilds this would fail an assertion, otherwise it may lead to errors in\r\nthe desired sleep and wakeup behavior.\r\n\r\nWe now assert this limit in `Sleep::new`, and also impose it as a soft\r\nlimit in `Registry::new`, automatically reducing to the maximum. A\r\ntop-level `pub fn max_num_threads()` returns the maximum for users.\r\n\r\nAt the same time, the value of `THREADS_BITS` is now adjusted for\r\ndifferent machine sizes. It was 10 bits everywhere, but 32-bit systems\r\nnow use 8 bits for max 255 threads (leaving more room for the JEC),\r\nwhile 64-bit systems now use 16 bits for a maximum of 65,535 threads.\r\n\r\nFixes #883.\r\n", "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/926/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/926/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/923", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/923/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/923/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/923/events", "html_url": "https://github.com/rayon-rs/rayon/pull/923", "id": 1173188176, "node_id": "PR_kwDOAXlGLs40ozfP", "number": 923, "title": "Use SPDX license format", "user": {"login": "atouchet", "id": 26315797, "node_id": "MDQ6VXNlcjI2MzE1Nzk3", "avatar_url": "https://avatars.githubusercontent.com/u/26315797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atouchet", "html_url": "https://github.com/atouchet", "followers_url": "https://api.github.com/users/atouchet/followers", "following_url": "https://api.github.com/users/atouchet/following{/other_user}", "gists_url": "https://api.github.com/users/atouchet/gists{/gist_id}", "starred_url": "https://api.github.com/users/atouchet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atouchet/subscriptions", "organizations_url": "https://api.github.com/users/atouchet/orgs", "repos_url": "https://api.github.com/users/atouchet/repos", "events_url": "https://api.github.com/users/atouchet/events{/privacy}", "received_events_url": "https://api.github.com/users/atouchet/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-18T04:55:33Z", "updated_at": "2022-03-21T20:29:22Z", "closed_at": "2022-03-21T20:29:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/923", "html_url": "https://github.com/rayon-rs/rayon/pull/923", "diff_url": "https://github.com/rayon-rs/rayon/pull/923.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/923.patch", "merged_at": "2022-03-21T20:29:22Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/923/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/923/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/907", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/907/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/907/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/907/events", "html_url": "https://github.com/rayon-rs/rayon/pull/907", "id": 1092927103, "node_id": "PR_kwDOAXlGLs4wfQU-", "number": 907, "title": "Address SB/provenance issues found by cargo miri test", "user": {"login": "saethlin", "id": 12105168, "node_id": "MDQ6VXNlcjEyMTA1MTY4", "avatar_url": "https://avatars.githubusercontent.com/u/12105168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saethlin", "html_url": "https://github.com/saethlin", "followers_url": "https://api.github.com/users/saethlin/followers", "following_url": "https://api.github.com/users/saethlin/following{/other_user}", "gists_url": "https://api.github.com/users/saethlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/saethlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saethlin/subscriptions", "organizations_url": "https://api.github.com/users/saethlin/orgs", "repos_url": "https://api.github.com/users/saethlin/repos", "events_url": "https://api.github.com/users/saethlin/events{/privacy}", "received_events_url": "https://api.github.com/users/saethlin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-01-04T01:03:37Z", "updated_at": "2022-04-06T17:22:01Z", "closed_at": "2022-04-06T17:05:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/907", "html_url": "https://github.com/rayon-rs/rayon/pull/907", "diff_url": "https://github.com/rayon-rs/rayon/pull/907.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/907.patch", "merged_at": "2022-04-06T17:05:01Z"}, "body": "I've submitted a few PRs to other libraries to address errors from running `cargo miri test` on them. Not all of the code that Miri rejects as not conforming to Stacked Borrows is necessarily invalid in terms of current rustc+LLVM semantics, but some of it is a little dubious on its own, and also I think it would be really nice for core libraries to be clean against miri so that we can use miri to understand how well people follow the prototype rules without Miri being halted by non-conforming code in dependencies.\r\n\r\nTo that end, I'm here because I was running `cargo miri test --features=rayon` in the `hashbrown` crate, and I got an error that I could trace back to this crate. Then I started running `cargo miri test` with `MIRIFLAGS=\"-Zmiri-disable-isolation -Zmiri-tag-raw-pointers\"` on this crate's tests, and I found a few things. This PR fixes everything I found. My motivation is a little bit of column A (some of this code is like... maybe let's not do it that way, but also not definitely broken) and a little bit of column B (I got here via another crate's tests).\r\n\r\nIn two cases, this code was going through the `Deref` to a slice impl on `Vec` in order to get a pointer into the uninitialized region between len and capacity. As far as I understand, under the Stacked Borrows model, references narrow provenance, thus it is not valid to use such a pointer outside the initialized region.\r\n\r\nThe collecting code has a related problem, where it is trying to merge slices that were originally derived from the same array by rebuilding a larger slice by using a pointer based on one of the subslices. To construct a valid merged slice we need access to the original provenance of the whole array. It is possible to resolve this by keeping a `&mut[]` as well as a `*mut`, using the raw pointer to construct the merged slice because it has sufficent provenance. But I think that ends up juggling a few too many pieces of data, so I implemented a fix by replacing the slice with a pointer and length. I also tried to add a bit more description to some names to help out in reading the more arcane implementation.", "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/907/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/907/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/898", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/898/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/898/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/898/events", "html_url": "https://github.com/rayon-rs/rayon/pull/898", "id": 1038039788, "node_id": "PR_kwDOAXlGLs4txdc9", "number": 898, "title": "Fix dead link (renamed function)", "user": {"login": "fzyzcjy", "id": 5236035, "node_id": "MDQ6VXNlcjUyMzYwMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/5236035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fzyzcjy", "html_url": "https://github.com/fzyzcjy", "followers_url": "https://api.github.com/users/fzyzcjy/followers", "following_url": "https://api.github.com/users/fzyzcjy/following{/other_user}", "gists_url": "https://api.github.com/users/fzyzcjy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fzyzcjy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fzyzcjy/subscriptions", "organizations_url": "https://api.github.com/users/fzyzcjy/orgs", "repos_url": "https://api.github.com/users/fzyzcjy/repos", "events_url": "https://api.github.com/users/fzyzcjy/events{/privacy}", "received_events_url": "https://api.github.com/users/fzyzcjy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-10-28T03:18:04Z", "updated_at": "2021-10-28T22:40:32Z", "closed_at": "2021-10-28T22:40:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/898", "html_url": "https://github.com/rayon-rs/rayon/pull/898", "diff_url": "https://github.com/rayon-rs/rayon/pull/898.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/898.patch", "merged_at": "2021-10-28T22:40:31Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/898/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/897", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/897/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/897/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/897/events", "html_url": "https://github.com/rayon-rs/rayon/pull/897", "id": 1037624066, "node_id": "PR_kwDOAXlGLs4twH-U", "number": 897, "title": "Use the wording 'rayon job' for with_min/max_len", "user": {"login": "bluss", "id": 3209739, "node_id": "MDQ6VXNlcjMyMDk3Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bluss", "html_url": "https://github.com/bluss", "followers_url": "https://api.github.com/users/bluss/followers", "following_url": "https://api.github.com/users/bluss/following{/other_user}", "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}", "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bluss/subscriptions", "organizations_url": "https://api.github.com/users/bluss/orgs", "repos_url": "https://api.github.com/users/bluss/repos", "events_url": "https://api.github.com/users/bluss/events{/privacy}", "received_events_url": "https://api.github.com/users/bluss/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-27T16:29:41Z", "updated_at": "2022-05-01T08:48:12Z", "closed_at": "2022-04-01T16:51:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/897", "html_url": "https://github.com/rayon-rs/rayon/pull/897", "diff_url": "https://github.com/rayon-rs/rayon/pull/897.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/897.patch", "merged_at": "2022-04-01T16:51:31Z"}, "body": "Because it depends on scheduling and job size how many jobs are\r\nprocessed per thread, it seems more consistent to say rayon job here.", "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/897/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/897/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/887", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/887/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/887/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/887/events", "html_url": "https://github.com/rayon-rs/rayon/pull/887", "id": 1020369032, "node_id": "PR_kwDOAXlGLs4s6NV2", "number": 887, "title": "Reduce the amount of generic code for ParallelExtend", "user": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-07T19:08:29Z", "updated_at": "2023-02-25T17:58:17Z", "closed_at": "2022-04-01T16:59:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/887", "html_url": "https://github.com/rayon-rs/rayon/pull/887", "diff_url": "https://github.com/rayon-rs/rayon/pull/887.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/887.patch", "merged_at": "2022-04-01T16:59:12Z"}, "body": "For unindexed parallel itererators, we've implemented `ParallelExtend`\r\nfor most collections using an intermediate `LinkedList<Vec<T>>` like:\r\n\r\n```rust\r\n    par_iter\r\n        .into_par_iter()\r\n        .fold(Vec::new, vec_push)\r\n        .map(as_list)\r\n        .reduce(LinkedList::new, list_append)\r\n```\r\n\r\nHowever, this introduces `Fold`, `Map`, and `Reduce` types that are all\r\ndependent on the input iterator type. When it comes to very complicated\r\ncases like nested tuple unzips, this can add up quickly. For example, in\r\nrust-lang/rust#68926 an 8-way unzip leads to 3.7GB of LLVM IR, with\r\nlines up to 67K characters in long generic types.\r\n\r\nNow we add a new `ListVecConsumer` that is not generic at all itself,\r\nand implements `Consumer<T>` etc. generic only on the item type. So each\r\ncollection now gets the same `LinkedList<Vec<T>>` as before with:\r\n\r\n```rust\r\n    par_iter.into_par_iter().drive_unindexed(ListVecConsumer);\r\n```\r\n\r\nEach implementation now also separates the code that doesn't need to be\r\niterator-specific to a separate function, for their `reserve` and final\r\n`extend` from the list data.\r\n\r\nThat 8-way unzip is now _only_ 1.5GB with lines up to 17K characters.\r\nCompile time drops from 12.8s to 7.7s debug, 32.1s to 26.9s release.\r\n", "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/887/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/887/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/886", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/886/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/886/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/886/events", "html_url": "https://github.com/rayon-rs/rayon/pull/886", "id": 998402177, "node_id": "PR_kwDOAXlGLs4r2NPd", "number": 886, "title": "Add mini-section on Wasm usage", "user": {"login": "RReverser", "id": 557590, "node_id": "MDQ6VXNlcjU1NzU5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/557590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RReverser", "html_url": "https://github.com/RReverser", "followers_url": "https://api.github.com/users/RReverser/followers", "following_url": "https://api.github.com/users/RReverser/following{/other_user}", "gists_url": "https://api.github.com/users/RReverser/gists{/gist_id}", "starred_url": "https://api.github.com/users/RReverser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RReverser/subscriptions", "organizations_url": "https://api.github.com/users/RReverser/orgs", "repos_url": "https://api.github.com/users/RReverser/repos", "events_url": "https://api.github.com/users/RReverser/events{/privacy}", "received_events_url": "https://api.github.com/users/RReverser/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-16T16:25:33Z", "updated_at": "2021-09-17T21:20:20Z", "closed_at": "2021-09-17T19:41:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/886", "html_url": "https://github.com/rayon-rs/rayon/pull/886", "diff_url": "https://github.com/rayon-rs/rayon/pull/886.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/886.patch", "merged_at": "2021-09-17T19:41:32Z"}, "body": "I wasn't sure at first if you'd be interested in linking to the adapter from Rayon docs, but seeing more and more projects using this integration already, figured it might be useful.\r\n\r\nFeel free to close if you think otherwise.", "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/886/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/886/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/884", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/884/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/884/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/884/events", "html_url": "https://github.com/rayon-rs/rayon/pull/884", "id": 990415404, "node_id": "MDExOlB1bGxSZXF1ZXN0NzI5MDA3NjY4", "number": 884, "title": "Update to try_trait_v2 and stable ControlFlow", "user": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-07T23:02:37Z", "updated_at": "2023-02-25T17:58:17Z", "closed_at": "2021-09-09T14:56:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/884", "html_url": "https://github.com/rayon-rs/rayon/pull/884", "diff_url": "https://github.com/rayon-rs/rayon/pull/884.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/884.patch", "merged_at": "2021-09-09T14:56:38Z"}, "body": "While `std::ops::Try` is still unstable, we can privately mirror recent changes to our own copy. Rust 1.55 _is_ stabilizing `enum ControlFlow` though, which also implements `Try` for the stable `?`-operator and `Iterator::try_*`, so we can support that as well. Finally, `std::task::Poll` was stabilized in 1.36, with `Try` implementations for `Poll<Result<T, E>>` and `Poll<Option<Result<T, E>>>`, so again we can mimic that.", "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/884/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/884/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/882", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/882/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/882/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/882/events", "html_url": "https://github.com/rayon-rs/rayon/pull/882", "id": 985413217, "node_id": "MDExOlB1bGxSZXF1ZXN0NzI0NzExNjc3", "number": 882, "title": "Remove unused `lazy_static` from rayon-core", "user": {"login": "paolobarbolini", "id": 6215781, "node_id": "MDQ6VXNlcjYyMTU3ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/6215781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paolobarbolini", "html_url": "https://github.com/paolobarbolini", "followers_url": "https://api.github.com/users/paolobarbolini/followers", "following_url": "https://api.github.com/users/paolobarbolini/following{/other_user}", "gists_url": "https://api.github.com/users/paolobarbolini/gists{/gist_id}", "starred_url": "https://api.github.com/users/paolobarbolini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paolobarbolini/subscriptions", "organizations_url": "https://api.github.com/users/paolobarbolini/orgs", "repos_url": "https://api.github.com/users/paolobarbolini/repos", "events_url": "https://api.github.com/users/paolobarbolini/events{/privacy}", "received_events_url": "https://api.github.com/users/paolobarbolini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-09-01T17:31:02Z", "updated_at": "2021-09-01T17:52:49Z", "closed_at": "2021-09-01T17:52:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/882", "html_url": "https://github.com/rayon-rs/rayon/pull/882", "diff_url": "https://github.com/rayon-rs/rayon/pull/882.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/882.patch", "merged_at": "2021-09-01T17:52:49Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/882/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/882/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/876", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/876/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/876/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/876/events", "html_url": "https://github.com/rayon-rs/rayon/pull/876", "id": 961396180, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA0MzM1MzM3", "number": 876, "title": "Update dependencies for cargo audit", "user": {"login": "nyanzebra", "id": 6096983, "node_id": "MDQ6VXNlcjYwOTY5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/6096983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyanzebra", "html_url": "https://github.com/nyanzebra", "followers_url": "https://api.github.com/users/nyanzebra/followers", "following_url": "https://api.github.com/users/nyanzebra/following{/other_user}", "gists_url": "https://api.github.com/users/nyanzebra/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyanzebra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyanzebra/subscriptions", "organizations_url": "https://api.github.com/users/nyanzebra/orgs", "repos_url": "https://api.github.com/users/nyanzebra/repos", "events_url": "https://api.github.com/users/nyanzebra/events{/privacy}", "received_events_url": "https://api.github.com/users/nyanzebra/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-08-05T03:41:46Z", "updated_at": "2021-09-01T16:55:53Z", "closed_at": "2021-08-23T22:22:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/876", "html_url": "https://github.com/rayon-rs/rayon/pull/876", "diff_url": "https://github.com/rayon-rs/rayon/pull/876.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/876.patch", "merged_at": "2021-08-23T22:22:03Z"}, "body": "Updates crossbeam and glium for cargo audit purposes. crossbeam had security vulnerability in 0.8.0 so am giving some range availability in which version to pick, ideally this makes updates like this pr needed less frequently", "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/876/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/869", "repository_url": "https://api.github.com/repos/rayon-rs/rayon", "labels_url": "https://api.github.com/repos/rayon-rs/rayon/issues/869/labels{/name}", "comments_url": "https://api.github.com/repos/rayon-rs/rayon/issues/869/comments", "events_url": "https://api.github.com/repos/rayon-rs/rayon/issues/869/events", "html_url": "https://github.com/rayon-rs/rayon/pull/869", "id": 923137018, "node_id": "MDExOlB1bGxSZXF1ZXN0NjcxOTMyMTQ0", "number": 869, "title": "impl Pattern for &[char]", "user": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-16T21:44:35Z", "updated_at": "2023-02-25T17:58:26Z", "closed_at": "2022-04-01T17:17:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rayon-rs/rayon/pulls/869", "html_url": "https://github.com/rayon-rs/rayon/pull/869", "diff_url": "https://github.com/rayon-rs/rayon/pull/869.diff", "patch_url": "https://github.com/rayon-rs/rayon/pull/869.patch", "merged_at": "2022-04-01T17:17:20Z"}, "body": "The standard library has had this since 1.0, so I don't know why we didn't add it here.", "reactions": {"url": "https://api.github.com/repos/rayon-rs/rayon/issues/869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rayon-rs/rayon/issues/869/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]