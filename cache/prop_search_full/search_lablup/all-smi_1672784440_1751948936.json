[{"url": "https://api.github.com/repos/lablup/all-smi/issues/1", "repository_url": "https://api.github.com/repos/lablup/all-smi", "labels_url": "https://api.github.com/repos/lablup/all-smi/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/lablup/all-smi/issues/1/comments", "events_url": "https://api.github.com/repos/lablup/all-smi/issues/1/events", "html_url": "https://github.com/lablup/all-smi/pull/1", "id": 3210744691, "node_id": "PR_kwDOMhmHsc6d2gfz", "number": 1, "title": "refactor: major architecture refactoring and remote monitoring improvements", "user": {"login": "inureyes", "id": 949915, "node_id": "MDQ6VXNlcjk0OTkxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/949915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inureyes", "html_url": "https://github.com/inureyes", "followers_url": "https://api.github.com/users/inureyes/followers", "following_url": "https://api.github.com/users/inureyes/following{/other_user}", "gists_url": "https://api.github.com/users/inureyes/gists{/gist_id}", "starred_url": "https://api.github.com/users/inureyes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inureyes/subscriptions", "organizations_url": "https://api.github.com/users/inureyes/orgs", "repos_url": "https://api.github.com/users/inureyes/repos", "events_url": "https://api.github.com/users/inureyes/events{/privacy}", "received_events_url": "https://api.github.com/users/inureyes/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7311793521, "node_id": "LA_kwDOMhmHsc8AAAABs9EdcQ", "url": "https://api.github.com/repos/lablup/all-smi/labels/type:enhancement", "name": "type:enhancement", "color": "0052CC", "default": false, "description": "New feature or request"}, {"id": 9216485582, "node_id": "LA_kwDOMhmHsc8AAAACJVhozg", "url": "https://api.github.com/repos/lablup/all-smi/labels/status:done", "name": "status:done", "color": "6f42c1", "default": false, "description": "Completed"}, {"id": 9259593990, "node_id": "LA_kwDOMhmHsc8AAAACJ-oxBg", "url": "https://api.github.com/repos/lablup/all-smi/labels/priority:high", "name": "priority:high", "color": "D73A49", "default": false, "description": "High priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "inureyes", "id": 949915, "node_id": "MDQ6VXNlcjk0OTkxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/949915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inureyes", "html_url": "https://github.com/inureyes", "followers_url": "https://api.github.com/users/inureyes/followers", "following_url": "https://api.github.com/users/inureyes/following{/other_user}", "gists_url": "https://api.github.com/users/inureyes/gists{/gist_id}", "starred_url": "https://api.github.com/users/inureyes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inureyes/subscriptions", "organizations_url": "https://api.github.com/users/inureyes/orgs", "repos_url": "https://api.github.com/users/inureyes/repos", "events_url": "https://api.github.com/users/inureyes/events{/privacy}", "received_events_url": "https://api.github.com/users/inureyes/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "inureyes", "id": 949915, "node_id": "MDQ6VXNlcjk0OTkxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/949915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inureyes", "html_url": "https://github.com/inureyes", "followers_url": "https://api.github.com/users/inureyes/followers", "following_url": "https://api.github.com/users/inureyes/following{/other_user}", "gists_url": "https://api.github.com/users/inureyes/gists{/gist_id}", "starred_url": "https://api.github.com/users/inureyes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inureyes/subscriptions", "organizations_url": "https://api.github.com/users/inureyes/orgs", "repos_url": "https://api.github.com/users/inureyes/repos", "events_url": "https://api.github.com/users/inureyes/events{/privacy}", "received_events_url": "https://api.github.com/users/inureyes/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2025-07-08T01:58:23Z", "updated_at": "2025-10-28T03:14:07Z", "closed_at": "2025-07-08T03:21:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lablup/all-smi/pulls/1", "html_url": "https://github.com/lablup/all-smi/pull/1", "diff_url": "https://github.com/lablup/all-smi/pull/1.diff", "patch_url": "https://github.com/lablup/all-smi/pull/1.patch", "merged_at": "2025-07-08T03:21:59Z"}, "body": "## Summary\r\n\r\nThis pull request represents a comprehensive refactoring of the all-smi codebase, transforming it from a monolithic structure to a modular, maintainable architecture while significantly enhancing remote monitoring capabilities and introducing advanced testing features.\r\n\r\n## Major Architectural Changes\r\n\r\n### Complete Modular Restructure\r\n- **Before**: Monolithic structure with tightly coupled components\r\n- **After**: Clean modular architecture with separated concerns\r\n- **New Module Structure**:\r\n  - `src/common/` - Shared utilities and configuration\r\n  - `src/metrics/` - Data aggregation and coordination\r\n  - `src/network/` - Remote monitoring and client functionality  \r\n  - `src/ui/` - User interface components and rendering\r\n  - `src/view/` - Application orchestration and data flow\r\n  - `src/device/` - Hardware abstraction and platform detection\r\n  - `src/utils/` - Utility functions and helpers\r\n\r\n### Enhanced Rendering System\r\n- **Refactored**: Complete rendering logic overhaul for better performance\r\n- **Improvements**: \r\n  - Modular device renderers for different hardware types\r\n  - Optimized UI component separation\r\n  - Better text rendering and formatting utilities\r\n  - Enhanced dashboard with cleaner layout calculations\r\n\r\n### Responsive Event Handling\r\n- **Enhancement**: Significantly improved event handling responsiveness\r\n- **Features**:\r\n  - Better mouse event capturing\r\n  - More responsive keyboard interactions\r\n  - Smoother tab navigation and scrolling\r\n  - Fixed time series output issues\r\n\r\n## Remote Monitoring Enhancements\r\n\r\n### Advanced Connection Management\r\n- **Real-time Updates**: Dynamic tab and node view updates with disconnected node tracking\r\n- **Connection Status**: Comprehensive tracking of node connectivity states\r\n- **Placeholder Logic**: Smart tab naming for inaccessible nodes with automatic updates\r\n- **Order Preservation**: Maintains host order from configuration files\r\n\r\n### \ud83d\udcc8 Live Statistics Integration\r\n- **Node Statistics**: Live/Total node count display (e.g., \"2/5 nodes\")\r\n- **Visual Indicators**: Improved connection status visualization\r\n- **Health Monitoring**: Real-time cluster health overview\r\n\r\n## Testing and Development Features\r\n\r\n### Mock Server Capabilities\r\n- **Failure Simulation**: Advanced node failure simulation with `--failure-nodes` parameter\r\n- **Realistic Testing**: Configurable failure patterns for comprehensive testing\r\n- **Disk Metrics**: Consistent Prometheus-compatible disk terminology\r\n- **Development Tools**: Makefile for streamlined testing workflows\r\n\r\n### Code Quality Improvements\r\n- **Warning Resolution**: Comprehensive warning and lint fixes throughout codebase\r\n- **Format Consistency**: Standardized code formatting across all modules\r\n- **Best Practices**: Implementation of Rust best practices and patterns\r\n- **Documentation**: Enhanced inline documentation and comments\r\n\r\n## Technical Improvements\r\n\r\n### New Runner Architecture\r\n- **Modular Design**: Separated terminal management from UI logic\r\n- **Better Abstraction**: Clean separation between data collection and presentation\r\n- **Improved Performance**: More efficient resource utilization\r\n- **Maintainability**: Easier to extend and modify individual components\r\n\r\n### UI/UX Enhancements\r\n- **Dashboard Improvements**: Enhanced system overview with better layout\r\n- **Device Rendering**: Specialized renderers for different device types\r\n- **Notification System**: Improved notification management and display\r\n- **Layout Optimization**: Better space utilization and responsive design\r\n\r\n### \ud83d\udd17 Network Layer Improvements\r\n- **Client Architecture**: Robust HTTP client with connection pooling\r\n- **Metrics Parsing**: Enhanced Prometheus metrics parsing capabilities\r\n- **Error Handling**: Comprehensive error handling and recovery mechanisms\r\n- **Performance**: Optimized network requests and response handling\r\n\r\n## Documentation and Developer Experience\r\n\r\n### Documentation Updates\r\n- **README**: Updated with new architecture and usage examples\r\n- **CLAUDE.md**: Comprehensive development guidelines and architecture documentation\r\n- **Makefile**: Simplified testing and development workflows\r\n- **Code Comments**: Enhanced inline documentation throughout\r\n\r\n### Development Tools\r\n- **Build System**: Improved build configuration and feature flags\r\n- **Testing**: Enhanced testing capabilities with mock server improvements\r\n- **Linting**: Comprehensive clippy and formatting compliance\r\n- **CI/CD Ready**: Structure prepared for continuous integration workflows\r\n\r\n## Breaking Changes\r\n\r\n### Module Reorganization\r\n- File paths have changed due to modular restructuring\r\n- Import statements may need updates for external integrations\r\n- Configuration file structure remains backward compatible\r\n\r\n### API Changes\r\n- Internal API structure updated for better separation of concerns\r\n- Public CLI interface remains unchanged for user compatibility\r\n- Mock server parameters enhanced with new testing features\r\n\r\n## Migration Guide\r\n\r\n### For Users\r\n- No changes required - CLI interface remains identical\r\n- New features available through optional parameters\r\n- Enhanced functionality with existing workflows\r\n\r\n### For Developers\r\n- Update import statements to use new module structure\r\n- Review new architecture documentation in CLAUDE.md\r\n- Utilize new development tools and testing capabilities\r\n\r\n## Files Changed\r\n\r\n### Core Architecture\r\n- `src/main.rs` - Application entry point and orchestration\r\n- `src/app_state.rs` - Enhanced state management\r\n- `src/common/*` - New shared utilities module\r\n- `src/metrics/*` - New metrics coordination system\r\n- `src/view/*` - Refactored application logic\r\n\r\n### UI System\r\n- `src/ui/*` - Complete UI system overhaul\r\n- `src/ui/dashboard.rs` - Enhanced system dashboard\r\n- `src/ui/device_renderers.rs` - Specialized device rendering\r\n- `src/ui/widgets.rs` - Reusable UI components\r\n\r\n### Network & Remote Monitoring\r\n- `src/network/client.rs` - Advanced HTTP client\r\n- `src/network/metrics_parser.rs` - Enhanced metrics parsing\r\n- `src/bin/all-smi-mock-server.rs` - Enhanced mock server\r\n\r\n### Development Tools\r\n- `Makefile` - New development workflow automation\r\n- `README.md` - Updated documentation\r\n- Multiple test and configuration files\r\n\r\n## Test Plan\r\n\r\n- [x] Verify modular architecture builds successfully\r\n- [x] Confirm all existing functionality preserved\r\n- [x] Test new remote monitoring features\r\n- [x] Validate mock server enhancements\r\n- [x] Verify responsive event handling\r\n- [x] Test cross-platform compatibility\r\n- [x] Confirm performance improvements\r\n- [x] Validate documentation accuracy\r\n- [x] Test development workflow tools\r\n- [x] Verify no regressions in core functionality\r\n\r\n## Performance Impact\r\n\r\n### Improvements\r\n- **Faster Rendering**: Modular UI components reduce overhead\r\n- **Better Memory Usage**: Improved data structure organization\r\n- **Network Efficiency**: Enhanced connection management and pooling\r\n- **Responsive UI**: Significantly improved event handling performance\r\n\r\n### Metrics\r\n- Reduced compilation time due to modular structure\r\n- Lower memory footprint with optimized data structures\r\n- Faster startup time with streamlined initialization\r\n- Improved responsiveness in high-node-count scenarios\r\n\r\n---\r\n\r\nThis refactoring establishes all-smi as a robust, maintainable, and extensible monitoring solution with enterprise-grade remote monitoring capabilities and comprehensive testing tools.", "reactions": {"url": "https://api.github.com/repos/lablup/all-smi/issues/1/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lablup/all-smi/issues/1/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]