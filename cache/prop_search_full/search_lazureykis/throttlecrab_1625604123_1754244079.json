[{"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/47", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/47/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/47/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/47", "id": 3287343874, "node_id": "PR_kwDOPU5kG86h5TgM", "number": 47, "title": "update readme", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2025-08-03T16:51:49Z", "updated_at": "2025-08-03T16:54:36Z", "closed_at": "2025-08-03T16:52:49Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/47", "html_url": "https://github.com/lazureykis/throttlecrab/pull/47", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/47.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/47.patch", "merged_at": "2025-08-03T16:52:49Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/47/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/47/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/46", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/46/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/46/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/46", "id": 3285911840, "node_id": "PR_kwDOPU5kG86h0zi_", "number": 46, "title": "Release v0.4.1", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-02T12:54:51Z", "updated_at": "2025-08-02T12:56:48Z", "closed_at": "2025-08-02T12:56:28Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/46", "html_url": "https://github.com/lazureykis/throttlecrab/pull/46", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/46.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/46.patch", "merged_at": "2025-08-02T12:56:28Z"}, "body": "## Summary\nPatch release with documentation improvements for better discoverability and usability.\n\n## Changes\n\n### Documentation\n- \ud83d\udcda Improved crate metadata for better discoverability on crates.io\n  - Added explicit documentation URLs\n  - Added homepage URLs\n  - Updated keywords to include \"api-protection\" and \"redis\"\n  - Fixed categories (removed incorrect \"no-std\")\n\n- \ud83d\udcd6 Enhanced README files\n  - Completely rewrote main README for easier onboarding\n  - Added \"Choose Your Path\" section for quick decision making\n  - Added examples in Python and JavaScript\n  - Simplified installation instructions\n  - Fixed memory usage calculations with accurate breakdown\n\n- \ud83d\ude80 Added Redis protocol documentation\n  - Comprehensive Redis/RESP protocol docs in server README\n  - Examples using redis-cli and client libraries\n\n- \ud83c\udf0d Made tagline language-agnostic\n  - Changed from \"for Rust applications\" to \"for any application\"\n  - Better reflects multi-protocol server support\n\n### No Breaking Changes\nThis is a documentation-only release with no code changes.", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/46/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/46/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/45", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/45/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/45/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/45", "id": 3285910511, "node_id": "PR_kwDOPU5kG86h0zSk", "number": 45, "title": "Update tagline to be language-agnostic", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-02T12:52:32Z", "updated_at": "2025-08-02T12:54:10Z", "closed_at": "2025-08-02T12:52:47Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/45", "html_url": "https://github.com/lazureykis/throttlecrab/pull/45", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/45.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/45.patch", "merged_at": "2025-08-02T12:52:47Z"}, "body": "## Summary\nChange the main tagline from \"High-performance rate limiting for Rust applications\" to \"High-performance rate limiting for any application\" to better reflect that ThrottleCrab supports all programming languages through its server with HTTP, gRPC, and Redis protocols.\n\nThe previous tagline was misleading as it suggested ThrottleCrab was only for Rust applications, when in fact the server makes it accessible to any language.", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/45/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/44", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/44/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/44/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/44", "id": 3285903320, "node_id": "PR_kwDOPU5kG86h0x1g", "number": 44, "title": "Improve main README for better user onboarding", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-02T12:40:17Z", "updated_at": "2025-08-02T12:50:08Z", "closed_at": "2025-08-02T12:50:07Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/44", "html_url": "https://github.com/lazureykis/throttlecrab/pull/44", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/44.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/44.patch", "merged_at": "2025-08-02T12:50:06Z"}, "body": "## Summary\nComplete rewrite of the main README to make it much easier for new users to get started with ThrottleCrab.\n\n## Changes\n\n### New Structure\n- **Choose Your Path** section at the top for quick decision making\n- **30-second quickstart** for immediate gratification\n- **Clear examples** in multiple languages (Python, JavaScript)\n- **Simplified installation** with all options in one place\n\n### Content Improvements\n- Removed ~200 lines of duplicate/verbose content\n- Moved technical details to the end\n- Added emoji sparingly for visual hierarchy\n- Focused on getting users running quickly\n- Consolidated all installation methods\n\n### Better Flow\n1. Quick path selection (server vs library)\n2. Immediate working example\n3. Brief explanation of what it is\n4. More examples in popular languages\n5. Installation options\n6. Technical details at the end\n\n## Result\nThe README now gets users from zero to working rate limiter in under 30 seconds, while still providing all necessary information for advanced users.", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/44/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/44/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/43", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/43/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/43/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/43", "id": 3285893517, "node_id": "PR_kwDOPU5kG86h0vqP", "number": 43, "title": "Improve crate metadata and polish server documentation", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-02T12:32:34Z", "updated_at": "2025-08-02T12:37:29Z", "closed_at": "2025-08-02T12:37:27Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/43", "html_url": "https://github.com/lazureykis/throttlecrab/pull/43", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/43.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/43.patch", "merged_at": "2025-08-02T12:37:27Z"}, "body": "## Summary\n- Updated crate keywords and categories for better discoverability on crates.io\n- Enhanced server README with Redis protocol documentation\n- Cleaned up redundant content and improved clarity\n\n## Changes\n\n### Crate Metadata\n- **throttlecrab**: Updated keywords to include \"api-protection\" and removed incorrect \"no-std\" category\n- **throttlecrab-server**: Added \"redis\" keyword and aligned keywords with main crate\n\n### Documentation Improvements\n- Added comprehensive Redis protocol documentation to server README\n- Simplified Quick Start section with practical curl examples\n- Added Docker Hub badge for easy access\n- Updated transport performance comparison with latest benchmarks\n- Removed redundant sections (performance tuning, verbose examples, dual licensing)\n\n## Test Plan\n- [x] Verified `cargo check` passes\n- [x] Reviewed all README files for consistency\n- [x] Confirmed no dual licensing references remain", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/43/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/43/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/42", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/42/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/42/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/42", "id": 3284755543, "node_id": "PR_kwDOPU5kG86hw_Rm", "number": 42, "title": "Update architecture docs", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-01T18:17:48Z", "updated_at": "2025-08-01T18:19:36Z", "closed_at": "2025-08-01T18:17:54Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/42", "html_url": "https://github.com/lazureykis/throttlecrab/pull/42", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/42.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/42.patch", "merged_at": "2025-08-01T18:17:54Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/42/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/42/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/41", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/41/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/41/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/41", "id": 3284373879, "node_id": "PR_kwDOPU5kG86hvrPQ", "number": 41, "title": "Release v0.4.0", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-01T15:51:43Z", "updated_at": "2025-08-01T15:58:42Z", "closed_at": "2025-08-01T15:58:40Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/41", "html_url": "https://github.com/lazureykis/throttlecrab/pull/41", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/41.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/41.patch", "merged_at": "2025-08-01T15:58:40Z"}, "body": "## Summary\n- Release version 0.4.0 with significant new features and improvements\n\n## What's New in v0.4.0\n\n### Features\n- Advanced metrics collection and observability for rate limiter insights (#40)\n- Redis/RESP protocol support for high-performance rate limiting (#38)\n- Comprehensive metrics system with performance monitoring (#36)\n- Local Docker build script replacing GitHub workflow (#39)\n\n### Improvements\n- Simplified project structure and reduced redundancy (#34)\n- Updated documentation to fix broken links and outdated references (#33)\n- Added key length limitations and best practices documentation (#35)\n\n### Breaking Changes\n- Removed native transport protocol in favor of standardized protocols (#37)\n\n## Release Checklist\n- [x] Updated CHANGELOG.md with all changes since v0.3.0\n- [x] Bumped version to 0.4.0 in all Cargo.toml files\n- [x] All tests pass\n- [x] All linters pass (clippy, fmt)\n- [x] Created git tag v0.4.0", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/41/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/41/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/40", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/40/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/40/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/40", "id": 3284022278, "node_id": "PR_kwDOPU5kG86hueLK", "number": 40, "title": "feat: add advanced metrics for rate limiter insights", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-01T13:51:22Z", "updated_at": "2025-08-01T15:10:48Z", "closed_at": "2025-08-01T15:10:46Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/40", "html_url": "https://github.com/lazureykis/throttlecrab/pull/40", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/40.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/40.patch", "merged_at": "2025-08-01T15:10:46Z"}, "body": "## Summary\n- Adds comprehensive metrics to provide insights into rate limiter behavior\n- Tracks top 100 denied keys to identify problematic clients\n- Monitors denial rates and request patterns for operational visibility\n\n## New Metrics\n\n### Top Denied Keys\n- `throttlecrab_top_denied_keys{key=\"...\", rank=\"N\"}` - Top 100 keys by denial count\n- Efficient HashMap implementation with periodic cleanup\n- Key length validation (max 256 chars) prevents DoS attacks\n\n### Denial Rate\n- `throttlecrab_denial_rate_percent` - Percentage of requests denied in last 5 minutes\n- Rolling window that automatically resets\n\n### Traffic Patterns\n- `throttlecrab_requests_per_minute` - Total requests in the last minute\n- 60-minute circular buffer for historical data\n\n### Store Performance\n- `throttlecrab_cleanup_duration_seconds` - Duration of last cleanup operation\n- `throttlecrab_last_cleanup_evicted_keys` - Keys evicted in last cleanup\n- `throttlecrab_estimated_memory_bytes` - Estimated memory usage\n\n## Implementation Details\n\n- Added `record_request_with_key()` method to pass key information to metrics\n- Updated all transports (HTTP, gRPC, Redis) to use new method\n- Comprehensive Prometheus label escaping for security\n- Memory-efficient implementation with bounded data structures\n\n## Performance Impact\n\nBenchmarked with 32 threads, 10,000 requests/thread (320,000 total):\n- HTTP: 175,479 req/sec (no change)\n- gRPC: 165,483 req/sec (no change)\n- Redis: 183,096 req/sec (no change)\n\n## Security Improvements\n\n- Proper escaping of all Prometheus label values (quotes, backslashes, newlines, control chars)\n- Key length validation prevents memory exhaustion\n- Bounded memory usage with automatic cleanup\n\n## Test plan\n- [x] All existing tests pass\n- [x] New metrics tests added\n- [x] Performance benchmarks show no regression\n- [x] Manual testing of metrics endpoint", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/40/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/40/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/39", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/39/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/39/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/39", "id": 3283783448, "node_id": "PR_kwDOPU5kG86htpXB", "number": 39, "title": "feat: Replace GitHub workflow with local Docker build script", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-01T12:36:31Z", "updated_at": "2025-08-01T13:13:50Z", "closed_at": "2025-08-01T13:13:49Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/39", "html_url": "https://github.com/lazureykis/throttlecrab/pull/39", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/39.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/39.patch", "merged_at": "2025-08-01T13:13:49Z"}, "body": "## Summary\n\n- Removed GitHub Actions workflow for Docker builds in favor of local script for faster iteration\n- Created a flexible multi-platform Docker build script with push capability\n- Added Redis protocol support to Dockerfile configuration\n- Simplified the build process to a single command\n- Fixed security and reliability issues in the build script\n\n## Changes\n\n### Docker Build Script (`scripts/docker-build.sh`)\n- Multi-platform support for `linux/amd64` and `linux/arm64`\n- Automatic version detection from Cargo.toml with validation\n- Docker buildx builder management\n- Improved authentication verification before pushing\n- Environment variable support for custom Docker username\n- **Security improvements**:\n  - Removed eval usage - commands are executed directly\n  - Better login verification using imagetools inspect\n  - Improved platform detection using uname\n  - Version validation to ensure proper format\n\n### Dockerfile Updates\n- Added Redis port (6379) to EXPOSE directive\n- Added THROTTLECRAB_REDIS environment variable (defaults to false)\n- Added comprehensive documentation header explaining all supported protocols\n\n### Usage\n```bash\n# Build locally (current platform only)\n./scripts/docker-build.sh\n\n# Build and push multi-platform images to Docker Hub\n./scripts/docker-build.sh --push\n```\n\n## Benefits\n- Faster local builds without waiting for GitHub Actions\n- More control over the build process\n- Ability to test multi-platform builds locally\n- Simplified workflow for releases\n- Improved security and reliability\n\n## Notes\n- Initially attempted to support `linux/arm/v7` but removed due to `rust:alpine` base image limitations\n- The script handles existing buildx builders gracefully\n- Images are tagged with both version number and `latest`\n- All security concerns have been addressed in the latest commits", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/39/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/39/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/38", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/38/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/38/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/38", "id": 3283613678, "node_id": "PR_kwDOPU5kG86htEUq", "number": 38, "title": "feat: add Redis/RESP protocol support", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-01T11:37:17Z", "updated_at": "2025-08-01T12:03:31Z", "closed_at": "2025-08-01T12:03:30Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/38", "html_url": "https://github.com/lazureykis/throttlecrab/pull/38", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/38.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/38.patch", "merged_at": "2025-08-01T12:03:30Z"}, "body": "## Summary\n\nThis PR adds Redis protocol (RESP) support to ThrottleCrab, allowing Redis clients to interact with the rate limiter using native Redis commands.\n\n### Key Features\n- Full RESP (Redis Serialization Protocol) parser and serializer\n- Custom `THROTTLE` command for rate limiting\n- Support for `PING` and `QUIT` commands\n- Redis-compatible responses\n\n### Performance\nRedis protocol achieves the **highest performance** among all transports:\n- **Redis/RESP**: 185,582 req/s (168 \u03bcs P50, 249 \u03bcs P99)\n- **HTTP/JSON**: 173,544 req/s (178 \u03bcs P50, 302 \u03bcs P99)\n- **gRPC**: 161,591 req/s (190 \u03bcs P50, 381 \u03bcs P99)\n\n### Security Hardening\nThis implementation includes comprehensive security measures:\n- **Buffer overflow protection**: 64KB max buffer per connection\n- **Integer overflow protection**: Bounds checking on all size values\n- **Stack overflow protection**: Max array nesting depth of 128\n- **Input validation**: Size limits on bulk strings (512MB) and arrays (1M elements)\n- **Proper error handling**: No `expect()` or `panic\\!` in production code\n\n### Usage Example\n```python\nimport redis\n\n# Connect to ThrottleCrab\nr = redis.Redis(host='localhost', port=6379)\n\n# Check rate limit\n# THROTTLE key max_burst count_per_period period [quantity]\nresult = r.execute_command('THROTTLE', 'user:123', 10, 100, 60, 1)\n\n# Result: [allowed, limit, remaining, reset_after, retry_after]\n# Example: [1, 10, 9, 60, 0]\nallowed = result[0] == 1\nremaining = result[2]\n```\n\n### Testing\n- Comprehensive unit tests with test helpers\n- Security-focused test suite covering attack vectors\n- Integration tests using real Redis client\n- All tests passing, no clippy warnings\n\n### Implementation Details\n- Actor-based architecture integration\n- Shared rate limiter state across all protocols\n- Zero-copy parsing where possible\n- Async/await with Tokio\n\n## Checklist\n- [x] Tests pass\n- [x] No clippy warnings\n- [x] Security vulnerabilities addressed\n- [x] Documentation updated\n- [x] Performance benchmarks updated", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/38/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/38/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/37", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/37/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/37/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/37", "id": 3282428771, "node_id": "PR_kwDOPU5kG86hpA_D", "number": 37, "title": "refactor: remove native transport protocol", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-01T03:35:48Z", "updated_at": "2025-08-01T10:27:10Z", "closed_at": "2025-08-01T10:27:08Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/37", "html_url": "https://github.com/lazureykis/throttlecrab/pull/37", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/37.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/37.patch", "merged_at": "2025-08-01T10:27:08Z"}, "body": "## Summary\n- Removed native transport protocol implementation to simplify the codebase\n- Updated all related code, tests, benchmarks, examples, and documentation\n- The native protocol provided minimal performance benefits compared to HTTP while adding significant complexity\n\n## Changes Made\n\n### Core Changes\n- Removed `transport/native.rs` module containing the native binary protocol implementation\n- Removed native transport configuration from `config.rs`\n- Removed native transport references from `main.rs` and transport module\n- Removed `NativeTransport` metric type from metrics enum\n\n### Test and Benchmark Updates\n- Renamed `tcp_throughput.rs` benchmark to `http_throughput.rs`\n- Updated all benchmark files to remove native protocol code\n- Fixed `reqwest::blocking` compilation errors by using async versions\n- Updated integration tests to remove native transport tests\n- **NEW**: Removed Native variant from Transport enum in integration tests\n- **NEW**: Removed NativeConnectionPool and all native protocol implementations from integration tests\n- **NEW**: Updated all integration test files to use only HTTP and gRPC transports\n\n### Documentation Updates\n- Updated README.md to remove native protocol references\n- Updated performance documentation to remove native protocol claims\n- Updated Docker documentation and compose files\n- Removed native protocol from transport comparison tables\n- **NEW**: Updated throttlecrab/README.md to remove Native Binary interfaces mention\n- **NEW**: Updated src/types.rs comment to remove Native serialization reference\n- **NEW**: Updated tests/README.md to remove Native transport from performance documentation\n\n### Example Updates\n- Removed `test_optimized.rs` - entirely dedicated to native protocol testing\n- Removed `protocol_demo.rs` - only demonstrated native protocol\n- Removed `benchmark_demo.rs` - benchmarked native protocol performance\n\n### Script Updates\n- Updated `run-benchmarks.sh` to reference `http_throughput` instead of `tcp_throughput`\n- Verified `run-transport-test.sh` already only supports HTTP/gRPC\n\n## Test Results\n- All tests pass \u2705\n- All benchmarks compile and run successfully \u2705\n- No clippy warnings \u2705\n- Code is properly formatted \u2705\n- No remaining references to native transport (except in git history and one unrelated comment) \u2705\n\n## Breaking Changes\nThis is a breaking change for users relying on the native transport protocol. They will need to switch to either HTTP or gRPC protocols.\n\n## Complete File List of Changes\n- Removed: `src/transport/native.rs`\n- Removed: `examples/test_optimized.rs`\n- Removed: `examples/protocol_demo.rs`\n- Removed: `examples/benchmark_demo.rs`\n- Modified: `src/config.rs`, `src/main.rs`, `src/transport/mod.rs`, `src/metrics.rs`, `src/types.rs`\n- Modified: `benches/` - all benchmark files\n- Modified: `tests/integration/` - all integration test files\n- Modified: Multiple documentation files", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/37/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/37/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/36", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/36/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/36/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/36", "id": 3282324344, "node_id": "PR_kwDOPU5kG86hopzk", "number": 36, "title": "feat: add metrics collection and observability", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-01T02:47:51Z", "updated_at": "2025-08-01T03:21:56Z", "closed_at": "2025-08-01T03:21:54Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/36", "html_url": "https://github.com/lazureykis/throttlecrab/pull/36", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/36.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/36.patch", "merged_at": "2025-08-01T03:21:54Z"}, "body": "## Summary\n- Implemented lightweight metrics collection using atomic counters for zero-allocation performance\n- Added `/metrics` HTTP endpoint with Prometheus-compatible format\n- Integrated metrics collection into all transport layers (HTTP, gRPC, Native)\n\n## Implementation Details\n\n### Metrics Module\n- Created new `metrics.rs` module with atomic counters for thread-safe, lock-free operation\n- No external dependencies - uses only standard library atomics\n- Zero allocations in hot path - just atomic increments\n\n### Metrics Collected\n- **Request Metrics**: Total requests, per-transport breakdown, allowed/denied counts\n- **Latency Metrics**: Request duration histogram with fixed buckets (1ms, 10ms, 100ms, 1s)\n- **Connection Metrics**: Active connections per transport\n- **Server Metrics**: Uptime, active keys count, store evictions\n\n### Integration Points\n- HTTP transport: Records metrics for every request with latency tracking\n- gRPC transport: Same metrics collection as HTTP\n- Native transport: Tracks connections and request metrics\n- Actor: Passes metrics instance through to transports\n\n### Prometheus Export\n- Standard Prometheus text format for easy integration with monitoring stacks\n- Exposed at `/metrics` endpoint on HTTP transport\n- Includes proper HELP and TYPE annotations\n\n## Test Plan\n- [x] Added comprehensive unit tests for metrics module\n- [x] Tested metrics endpoint manually with curl\n- [x] Verified metrics increment correctly with test requests\n- [x] All existing tests pass\n- [x] Clippy and formatting checks pass\n\n## Performance Impact\nMinimal - atomic operations only, no locks or allocations in request path.\n\n## Example Output\n```\n# HELP throttlecrab_uptime_seconds Time since server start in seconds\n# TYPE throttlecrab_uptime_seconds gauge\nthrottlecrab_uptime_seconds 42\n\n# HELP throttlecrab_requests_total Total number of requests processed\n# TYPE throttlecrab_requests_total counter\nthrottlecrab_requests_total 1337\n```", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/36/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/36/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/35", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/35/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/35/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/35", "id": 3282174068, "node_id": "PR_kwDOPU5kG86hoJMb", "number": 35, "title": "Document key length limitations and best practices", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-01T01:22:42Z", "updated_at": "2025-08-01T10:29:13Z", "closed_at": "2025-08-01T01:28:06Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/35", "html_url": "https://github.com/lazureykis/throttlecrab/pull/35", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/35.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/35.patch", "merged_at": "2025-08-01T01:28:06Z"}, "body": "## Summary\n\nThis PR documents the existing key length limitations and adds best practices for efficient key design.\n\n## Changes\n\n### \ud83d\udcda Documentation Updates\n\n1. **Protocol-specific key length documentation**:\n   - Native protocol: 255-byte limit (technical constraint)\n   - HTTP/gRPC: No limit (policy decision)\n   - Added to transport comparison table\n\n2. **Key design best practices section**:\n   - Recommendations for short, efficient keys\n   - Memory impact calculations\n   - Performance benefits of shorter keys\n   - Real-world examples\n\n3. **Protocol documentation improvements**:\n   - Added key length limitation notice to native protocol module\n   - Fixed outdated HTTP example (removed timestamp field)\n   - Updated request/response sizes for native protocol\n\n## Philosophy\n\nAs discussed, we're not adding artificial limits - just documenting what exists and providing guidance for optimal usage. Users are free to use any key length they want (within protocol constraints).\n\n## Examples Added\n\n- **Good keys**: `u:123`, `ip:1.2.3.4`, `a:abc`\n- **Avoid**: `user_id:123`, `ip_address:1.2.3.4`, `api_key:abc`\n\n## Memory Impact Documentation\n\nShows real numbers for planning:\n- 10-char keys with 1M entries: ~90 MB\n- 50-char keys with 1M entries: ~130 MB\n- 100-char keys with 1M entries: ~180 MB\n\nThis helps users make informed decisions about their key design.", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/35/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/35/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/34", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/34/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/34/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/34", "id": 3282127112, "node_id": "PR_kwDOPU5kG86hn_Bo", "number": 34, "title": "Simplify project structure and reduce redundancy", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-01T00:58:48Z", "updated_at": "2025-08-01T01:12:07Z", "closed_at": "2025-08-01T01:12:02Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/34", "html_url": "https://github.com/lazureykis/throttlecrab/pull/34", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/34.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/34.patch", "merged_at": "2025-08-01T01:12:02Z"}, "body": "## Summary\n\nThis PR simplifies the project structure by removing redundancy and consolidating similar functionality, making the codebase easier to navigate and maintain.\n\n## Changes\n\n### \ud83e\uddf9 Cleaned up benchmark artifacts\n- Removed old timestamped benchmark result directories (`benchmark-results-*`)\n- Added proper `.gitignore` patterns to prevent future accumulation\n\n### \ud83d\udd27 Consolidated scripts\n- Merged `run-benchmarks.sh` and `run-criterion-benchmarks.sh` into a single unified script\n- New script supports both Criterion and integration benchmarks with a simple flag\n- Reduced complexity from 130+ lines to a cleaner implementation\n\n### \ud83d\udcdd Simplified examples\n- Consolidated `access_patterns.rs` and `access_patterns_simple.rs` into one comprehensive example\n- Improved the unified example with better structure and clearer output\n- Removed duplicate pattern generation logic\n\n### \ud83d\udccb Improved .gitignore\n- Added comprehensive patterns for benchmark results, IDE files, and OS-specific files\n- Prevents future accumulation of temporary files\n\n## Benefits\n\n- **Reduced file count**: Fewer files to navigate and understand\n- **Eliminated duplication**: No more maintaining similar code in multiple places\n- **Clearer structure**: Easier for new contributors to understand the project\n- **Better maintenance**: Less code to update when making changes\n\n## Test Plan\n- [x] All tests pass (`cargo test --all`)\n- [x] Clippy passes (`cargo clippy --all-targets --all-features -- -D warnings`)\n- [x] Code is formatted (`cargo fmt --all`)\n- [x] Unified benchmark script works for both Criterion and integration benchmarks\n- [x] Examples compile and run correctly\n\n## Migration Notes\nIf you were using the old scripts:\n- `run-criterion-benchmarks.sh` \u2192 `run-benchmarks.sh -t criterion`\n- `run-benchmarks.sh` (old) \u2192 `run-benchmarks.sh -t integration`", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/34/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/34/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/33", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/33/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/33/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/33", "id": 3282093578, "node_id": "PR_kwDOPU5kG86hn3yY", "number": 33, "title": "Fix broken links and outdated references in documentation", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-01T00:37:58Z", "updated_at": "2025-08-01T00:51:53Z", "closed_at": "2025-08-01T00:51:49Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/33", "html_url": "https://github.com/lazureykis/throttlecrab/pull/33", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/33.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/33.patch", "merged_at": "2025-08-01T00:51:49Z"}, "body": "## Summary\n\nThis PR fixes various broken links and outdated references found in the documentation files.\n\n## Changes\n\n### Fixed broken links:\n- \u2705 Fixed proto file path references: `proto/throttlecrab.proto` \u2192 `throttlecrab-server/proto/throttlecrab.proto`\n- \u2705 Fixed LICENSE references: `LICENSE-MIT`/`LICENSE-APACHE` \u2192 `LICENSE`\n- \u2705 Made proto file path a clickable link in server README\n\n### Updated outdated content:\n- \u2705 Updated file structure in ARCHITECTURE.md to reflect current project structure\n- \u2705 Updated dependencies in ARCHITECTURE.md:\n  - Changed `hyper` to `axum` for HTTP transport\n  - Added missing dependencies (gRPC, throttlecrab core)\n  - Removed misleading \"No dependencies\" comment\n\n## Files changed:\n- `README.md` - Fixed proto path and LICENSE link\n- `throttlecrab/README.md` - Fixed LICENSE link\n- `throttlecrab-server/README.md` - Fixed LICENSE link, proto path, removed Apache license reference\n- `ARCHITECTURE.md` - Updated file structure and dependencies\n\n## Test Plan\n- [x] All links now point to existing files\n- [x] All tests pass (`cargo test --all`)\n- [x] Clippy passes (`cargo clippy --all-targets --all-features -- -D warnings`)\n- [x] Code is formatted (`cargo fmt --all`)", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/33/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/33/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/32", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/32/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/32/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/32", "id": 3282063494, "node_id": "PR_kwDOPU5kG86hnxaZ", "number": 32, "title": "Release v0.3.0", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-01T00:17:49Z", "updated_at": "2025-08-01T00:24:37Z", "closed_at": "2025-08-01T00:24:34Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/32", "html_url": "https://github.com/lazureykis/throttlecrab/pull/32", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/32.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/32.patch", "merged_at": "2025-08-01T00:24:34Z"}, "body": "## Summary\n\nThis release includes significant improvements to the rate limiter and removes client timestamps from all protocols.\n\n## Major Changes\n\n### Breaking Changes\n- **Removed client timestamps from all protocols** (HTTP, gRPC, Native) - server now always uses its own timestamps\n- Simplified API by removing timestamp parameters from client requests\n\n### Bug Fixes\n- **Fixed remaining token count calculation** that was always showing full capacity\n- Corrected the TAT (Theoretical Arrival Time) distance calculation in rate limiter\n- Added division by zero protection in remaining count calculation\n\n### Improvements\n- Added comprehensive test coverage for quantity variations and token replenishment scenarios\n- Added tests for edge cases including zero quantity, negative quantity, and burst limit handling\n- Added tests for fractional token accumulation and time jitter handling\n\n## Changelog\n\nSee [CHANGELOG.md](CHANGELOG.md) for detailed changes.\n\n## Migration Guide\n\nIf you were passing timestamps in your requests, simply remove them:\n\n### Before (v0.2.x)\n```json\n{\n  \"key\": \"user:123\",\n  \"max_burst\": 10,\n  \"count_per_period\": 100,\n  \"period\": 60,\n  \"quantity\": 1,\n  \"timestamp\": \"2024-01-01T00:00:00Z\"\n}\n```\n\n### After (v0.3.0)\n```json\n{\n  \"key\": \"user:123\",\n  \"max_burst\": 10,\n  \"count_per_period\": 100,\n  \"period\": 60,\n  \"quantity\": 1\n}\n```\n\nThe server now always uses its own timestamp for all rate limiting decisions.\n\n## Test Plan\n- [x] All tests pass (`cargo test --all`)\n- [x] Clippy passes (`cargo clippy --all-targets --all-features -- -D warnings`)\n- [x] Code is formatted (`cargo fmt --all`)", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/32/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/32/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/31", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/31/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/31/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/31", "id": 3282021918, "node_id": "PR_kwDOPU5kG86hno1z", "number": 31, "title": "fix: correct remaining token calculation in rate limiter", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-31T23:54:33Z", "updated_at": "2025-08-01T00:11:27Z", "closed_at": "2025-08-01T00:08:53Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/31", "html_url": "https://github.com/lazureykis/throttlecrab/pull/31", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/31.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/31.patch", "merged_at": "2025-08-01T00:08:53Z"}, "body": "## Summary\nFixed the remaining token calculation that was always showing full capacity.\n\n## Problem\nAfter the recent timestamp removal PR, the `remaining` count in rate limit responses was incorrect - it always showed the full burst capacity (e.g., 10) instead of decreasing as requests were made.\n\n## Root Cause\nThe calculation used `current_tat.saturating_sub(now_ns)` which would return 0 when `current_tat < now_ns` (which happens when there's available capacity). This made the subsequent calculations incorrect.\n\n## Solution\nChanged the calculation to directly compute the distance from the current TAT to the burst limit:\n- Burst limit = `now + delay_variation_tolerance`\n- Room until limit = `burst_limit - current_tat`\n- Remaining tokens = `room_until_limit / emission_interval`\n\nAlso added division by zero protection for edge cases.\n\n## Testing\n- All unit tests pass \u2705\n- Manual testing confirms remaining count now decreases correctly\n- No clippy warnings\n- Added comprehensive test coverage:\n  - `test_remaining_count_accuracy`: Tests full lifecycle of token consumption and replenishment\n  - `test_remaining_count_all_stores`: Ensures all store types behave consistently\n  - `test_edge_cases_zero_remaining`: Tests edge cases including \"allowed with 0 remaining\"\n\n## Manual Test Results\n```bash\n# First request: remaining = 9\n{\"allowed\":true,\"limit\":10,\"remaining\":9,\"reset_after\":5,\"retry_after\":0}\n\n# After consuming burst: remaining = 0\n{\"allowed\":true,\"limit\":10,\"remaining\":0,\"reset_after\":10,\"retry_after\":0}\n\n# When rate limited\n{\"allowed\":false,\"limit\":10,\"remaining\":0,\"reset_after\":10,\"retry_after\":0}\n\n# After token replenishes (allowed but remaining still 0)\n{\"allowed\":true,\"limit\":10,\"remaining\":0,\"reset_after\":10,\"retry_after\":0}\n```\n\nThe last case (allowed with 0 remaining) is correct GCRA behavior - the request is allowed because a token was replenished, but remaining is 0 because that token is immediately consumed.", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/31/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/31/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/30", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/30/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/30/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/30", "id": 3282001165, "node_id": "PR_kwDOPU5kG86hnkXy", "number": 30, "title": "chore: remove DST-related test", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-07-31T23:37:43Z", "updated_at": "2025-07-31T23:51:28Z", "closed_at": "2025-07-31T23:51:24Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/30", "html_url": "https://github.com/lazureykis/throttlecrab/pull/30", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/30.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/30.patch", "merged_at": "2025-07-31T23:51:24Z"}, "body": "## Summary\n- Removed the `test_daylight_saving_time_transitions` test from the codebase\n\n## Rationale\nUnix timestamps are UTC-based and represent absolute points in time, unaffected by DST (Daylight Saving Time) changes. DST is purely a display/timezone concern and doesn't affect the underlying timestamp calculations used in our rate limiting algorithm.\n\nThe existing `test_rapid_time_changes` test already covers general time adjustment scenarios (clock adjustments, NTP corrections, etc.), making the DST-specific test redundant.\n\n## Changes\n- Removed `test_daylight_saving_time_transitions` function from `throttlecrab/src/core/tests.rs`\n- No documentation changes needed as there were no DST-related docs\n\n## Testing\n- All tests pass \u2705\n- Clippy passes with no warnings \u2705\n- Code formatted with cargo fmt \u2705", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/30/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/30/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/29", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/29/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/29/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/29", "id": 3281976512, "node_id": "PR_kwDOPU5kG86hnfRe", "number": 29, "title": "feat: remove client timestamps from all protocols", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-31T23:18:18Z", "updated_at": "2025-07-31T23:37:39Z", "closed_at": "2025-07-31T23:27:03Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/29", "html_url": "https://github.com/lazureykis/throttlecrab/pull/29", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/29.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/29.patch", "merged_at": "2025-07-31T23:27:03Z"}, "body": "## Summary\n\nThis PR removes client-provided timestamps from all protocols (Native, HTTP, gRPC) and makes the server always use its own timestamp via `SystemTime::now()`.\n\n## Breaking Changes\n\n\u26a0\ufe0f **This is a breaking change** - clients will need to be updated to use the new protocol format.\n\n### Protocol Changes\n\n#### Native Protocol\n- Request size reduced from 42 to 34 bytes (removed 8-byte timestamp field)\n- Clients no longer send timestamp in requests\n\n#### HTTP/JSON Protocol\n- Removed optional `timestamp` field from request body\n- Requests now only include: `key`, `max_burst`, `count_per_period`, `period`, `quantity`\n\n#### gRPC Protocol\n- Removed `timestamp` field from `ThrottleRequest` protobuf message\n- Regenerated protobuf code\n\n## Benefits\n\n- **\ud83d\udd12 Security**: Eliminates timestamp manipulation attacks where malicious clients could bypass rate limits\n- **\ud83c\udfaf Simplicity**: Clients no longer need to worry about time synchronization or timestamp formatting\n- **\u26a1 Consistency**: All rate limiting decisions based on single source of truth (server time)\n- **\ud83d\udee1\ufe0f Reliability**: No more clock drift issues between clients and servers\n\n## Changes Made\n\n- Updated all three transport protocols to remove timestamp handling\n- Modified server handlers to use `SystemTime::now()` instead of client timestamps\n- Updated all tests, benchmarks, and examples\n- Updated documentation in README\n- Updated integration tests\n\n## Migration Guide\n\n### Native Protocol Clients\nRemove the timestamp field from your request structure. The new format is:\n```\ncmd (1 byte) + key_len (1 byte) + burst (8 bytes) + rate (8 bytes) + period (8 bytes) + quantity (8 bytes) + key (variable)\n```\n\n### HTTP Clients\nRemove the `timestamp` field from your JSON request body:\n```json\n{\n  \"key\": \"user:123\",\n  \"max_burst\": 10,\n  \"count_per_period\": 100,\n  \"period\": 60,\n  \"quantity\": 1\n}\n```\n\n### gRPC Clients\nRegenerate your client code from the updated proto file. The `ThrottleRequest` message no longer has a `timestamp` field.\n\n## Test Plan\n\n- [x] All unit tests pass\n- [x] All integration tests updated and passing\n- [x] Benchmarks updated and working\n- [x] Examples updated and tested\n- [x] No clippy warnings", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/29/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/29/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/28", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/28/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/28/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/28", "id": 3281686876, "node_id": "PR_kwDOPU5kG86hmgsr", "number": 28, "title": "feat: native multi-arch Docker builds using matrix strategy", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-31T20:42:47Z", "updated_at": "2025-07-31T20:52:09Z", "closed_at": "2025-07-31T20:52:04Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/28", "html_url": "https://github.com/lazureykis/throttlecrab/pull/28", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/28.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/28.patch", "merged_at": "2025-07-31T20:52:04Z"}, "body": "## Summary\n- Replace QEMU-based multi-arch builds with native builds using GitHub Actions matrix strategy\n- Build each architecture on its native runner for significantly faster builds\n- Create unified multi-arch manifest after both builds complete\n\n## Changes\n- Use matrix strategy to build AMD64 on `ubuntu-latest` and ARM64 on `ubuntu-24.04-arm64`\n- Remove QEMU setup as builds now run natively on each architecture\n- Add separate manifest job that creates multi-arch manifests from architecture-specific images\n- Each architecture image is tagged with `-amd64` or `-arm64` suffix during build\n- Final manifest combines both architectures under the original tag names\n\n## Benefits\n- **Much faster builds**: No emulation overhead, each architecture builds natively\n- **Better reliability**: Avoids QEMU stability issues\n- **Resource efficiency**: Each runner uses its native architecture optimally\n- **Same user experience**: Users can still pull images without specifying architecture\n\n## Test plan\n- [x] Workflow syntax is valid\n- [ ] AMD64 builds successfully on ubuntu-latest\n- [ ] ARM64 builds successfully on ubuntu-24.04-arm64\n- [ ] Multi-arch manifest is created correctly\n- [ ] Users can pull images on both architectures", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/28/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/28/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/27", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/27/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/27/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/27", "id": 3281525337, "node_id": "PR_kwDOPU5kG86hl9zY", "number": 27, "title": "feat: add Docker support for throttlecrab-server", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-31T19:24:59Z", "updated_at": "2025-07-31T20:00:52Z", "closed_at": "2025-07-31T19:59:09Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/27", "html_url": "https://github.com/lazureykis/throttlecrab/pull/27", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/27.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/27.patch", "merged_at": "2025-07-31T19:59:09Z"}, "body": "## Summary\n\n- Added Docker support for easy deployment of throttlecrab-server\n- Multi-platform builds for linux/amd64 and linux/arm64\n- Automated Docker image publishing to Docker Hub\n\n## Changes\n\n### Dockerfile\n- Multi-stage build for optimized image size (~50MB)\n- Runs as non-root user for security\n- Includes curl for health checks\n- Exposes all protocol ports (8080, 50051, 8072)\n- Uses separate Cargo.docker.toml to exclude integration-tests from Docker builds\n\n### Docker Compose\n- Example configuration with health checks\n- Resource limits and reservations\n- Environment variable configuration\n- Restart policy\n\n### GitHub Actions\n- Automated builds on push to main and version tags\n- Multi-platform support using Docker Buildx\n- Smart tagging:\n  - `latest` from main branch\n  - Version tags: `0.2.3`, `0.2`, `0`\n- Caching for faster builds\n\n### Documentation\n- Updated README with Docker deployment instructions\n- Added Docker Hub badge\n- Examples for docker run and docker-compose\n\n### Build Fix\n- Created Cargo.docker.toml that excludes integration-tests from workspace\n- Docker build now completes successfully without requiring integration-tests\n\n## Docker Hub\n\nImages will be published to: https://hub.docker.com/r/lazureykis/throttlecrab\n\n## Test Plan\n\n- [x] Dockerfile builds successfully\n- [x] Docker build tested locally\n- [x] Docker Compose configuration is valid\n- [x] GitHub Actions workflow syntax is correct\n- [x] Container runs and shows help correctly\n- [x] Secrets configured in repository settings\n- [ ] Test image runs correctly after merge", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/27/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/27/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/26", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/26/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/26/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/26", "id": 3281400455, "node_id": "PR_kwDOPU5kG86hlipJ", "number": 26, "title": "docs: add comprehensive documentation for throttlecrab-server", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-31T18:32:32Z", "updated_at": "2025-07-31T18:50:07Z", "closed_at": "2025-07-31T18:49:00Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/26", "html_url": "https://github.com/lazureykis/throttlecrab/pull/26", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/26.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/26.patch", "merged_at": "2025-07-31T18:49:00Z"}, "body": "## Summary\n\n- Added comprehensive documentation for the throttlecrab-server crate\n- Focused on user-friendly guidance for installation, configuration, and usage\n- Documented all transport protocols and internal architecture\n\n## Changes\n\n### Crate-level Documentation (`lib.rs`)\n- Added installation instructions with `cargo install`\n- Created Quick Start section with `--help` and common usage examples\n- Added Configuration section showing both CLI and environment variable options\n- Simplified \"How It Works\" to focus on practical understanding\n\n### Transport Documentation\n- **Native protocol**: Added binary protocol specification with field layouts\n- **HTTP transport**: Documented REST API endpoints and JSON formats\n- **gRPC transport**: Added Protocol Buffers integration and service definition\n\n### Architecture Documentation\n- **Actor pattern** (`actor.rs`): Explained thread-safe state management\n- **Configuration** (`config.rs`): Documented all CLI options and env vars\n- **Types** (`types.rs`): Added request/response structure documentation\n- **Store factory** (`store.rs`): Explained different store types and use cases\n\n## Test Plan\n\n- [x] Documentation builds successfully with `cargo doc --no-deps`\n- [x] All code examples in documentation are properly formatted\n- [x] No breaking changes to existing functionality", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/26/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/26/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/25", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/25/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/25/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/25", "id": 3280954132, "node_id": "PR_kwDOPU5kG86hkBTo", "number": 25, "title": "Remove MessagePack protocol support", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-31T15:49:40Z", "updated_at": "2025-07-31T16:52:54Z", "closed_at": "2025-07-31T16:51:30Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/25", "html_url": "https://github.com/lazureykis/throttlecrab/pull/25", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/25.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/25.patch", "merged_at": "2025-07-31T16:51:30Z"}, "body": "## Summary\n\nThis PR removes MessagePack protocol support from throttlecrab, simplifying the codebase while keeping the most popular and performant protocols.\n\n## Changes\n\n- Removed MessagePack transport implementation files\n- Removed `rmp-serde` dependency from all crates\n- Updated CLI to remove MessagePack-related arguments  \n- Updated all documentation to remove MessagePack references\n- Converted benchmarks and examples to use native protocol instead\n- Updated integration tests to support only HTTP, gRPC, and Native\n\n## Rationale\n\nMessagePack was the slowest protocol based on our benchmarks:\n- **MessagePack**: 146K req/s \n- **gRPC**: 163K req/s\n- **HTTP**: 173K req/s (only 6% slower than native\\!)\n- **Native**: 183K req/s\n\nSince HTTP is far more popular and nearly as fast as the native protocol, and MessagePack offered no significant advantages, removing it simplifies maintenance and reduces dependencies.\n\n## Remaining Protocols\n\nThe server now supports 3 protocols:\n1. **Native Binary** - Highest performance for internal services\n2. **HTTP/JSON** - Best for general integration, excellent performance\n3. **gRPC** - Good for service mesh and type-safe clients\n\n## Testing\n\n- \u2705 All tests pass\n- \u2705 All benchmarks updated and working\n- \u2705 Examples updated to use native protocol\n- \u2705 No clippy warnings", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/25/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/25/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/24", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/24/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/24/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/24", "id": 3280104786, "node_id": "PR_kwDOPU5kG86hhIAL", "number": 24, "title": "Documentation cleanup and enhancement", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-31T11:29:48Z", "updated_at": "2025-07-31T15:38:39Z", "closed_at": "2025-07-31T15:29:31Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/24", "html_url": "https://github.com/lazureykis/throttlecrab/pull/24", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/24.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/24.patch", "merged_at": "2025-07-31T15:29:31Z"}, "body": "## Summary\n\nThis PR enhances the project documentation and removes the experimental throttlecrab-client crate.\n\n### Changes Made:\n\n1. **Documentation Updates:**\n   - Improved README with better examples and clearer explanations\n   - Added comprehensive performance section with benchmark insights\n   - Enhanced API documentation with better code examples\n   - Added practical client integration examples\n\n2. **Removed throttlecrab-client crate:**\n   - The native client didn't achieve the expected performance improvements over HTTP\n   - Removed all client-related code and documentation\n   - Updated README to recommend using established HTTP clients like `reqwest` which provide:\n     - Robust connection pooling and management\n     - Automatic retry mechanisms\n     - Proper timeout handling\n     - Well-tested production stability\n\n3. **Code Quality:**\n   - All tests pass\n   - Code is properly formatted with `cargo fmt`\n   - No clippy warnings\n\n### Rationale\n\nAfter extensive testing, we found that the native binary protocol client couldn't significantly outperform well-established HTTP clients like `reqwest`. Given the additional maintenance burden and the excellent performance of HTTP (only ~6% slower than native), it makes more sense to recommend using mature HTTP clients that already handle connection management, retries, and error handling properly.\n\n### Testing\n\n- \u2705 All unit tests pass\n- \u2705 All integration tests pass\n- \u2705 Clippy reports no warnings\n- \u2705 Code is properly formatted", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/24/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/24/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/23", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/23/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/23/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/23", "id": 3279137578, "node_id": "PR_kwDOPU5kG86hd5cQ", "number": 23, "title": "refactor: Remove unused log_debug method from Store trait", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-31T05:06:26Z", "updated_at": "2025-08-01T10:29:15Z", "closed_at": "2025-07-31T05:09:51Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/23", "html_url": "https://github.com/lazureykis/throttlecrab/pull/23", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/23.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/23.patch", "merged_at": "2025-07-31T05:09:51Z"}, "body": "## Summary\n- Removed the unused `log_debug` method from the `Store` trait and all implementations\n- This method was never called anywhere in the codebase\n- All implementations were no-ops, making this dead code\n\n## Changes\n- Removed `log_debug` method from `Store` trait definition in `mod.rs`\n- Removed implementations from all store types:\n  - `PeriodicStore`\n  - `ProbabilisticStore`  \n  - `AdaptiveStore`\n  - `FastMemoryStore`\n  - `FixedSizeStore` (SimpleHashStore)\n  - Benchmark `AHashStore`\n\n## Test Plan\n- [x] `cargo check --all-targets` passes\n- [x] `cargo fmt --all` applied\n- [x] `cargo clippy --all-targets --all-features -- -D warnings` passes\n- [x] All existing tests pass (no functional changes)", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/23/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/23/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/21", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/21/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/21/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/21", "id": 3278927548, "node_id": "PR_kwDOPU5kG86hdNPo", "number": 21, "title": "Add connection pooling and integration tests for massive performance improvements", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-31T02:28:18Z", "updated_at": "2025-07-31T03:49:20Z", "closed_at": "2025-07-31T03:49:20Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/21", "html_url": "https://github.com/lazureykis/throttlecrab/pull/21", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/21.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/21.patch", "merged_at": "2025-07-31T03:49:20Z"}, "body": "## Summary\n\nThis PR introduces significant performance improvements through connection pooling and adds comprehensive integration testing infrastructure for ThrottleCrab.\n\n### Key Changes\n\n1. **Connection Pooling Implementation**\n   - HTTP: Leverages reqwest's built-in connection pooling\n   - gRPC: Removed mutex contention by making clients cloneable\n   - MessagePack/Native: Custom connection pools with health checks\n   - Added configurable pool parameters and error handling\n\n2. **Integration Test Infrastructure**\n   - Created separate `integration-tests` project\n   - Multi-transport performance testing framework\n   - Automated test scripts with server lifecycle management\n   - Support for all transports (HTTP, gRPC, MessagePack, Native)\n\n3. **Native Protocol Fixes**\n   - Fixed critical response size bug (34 bytes, not 33)\n   - Resolved connection handling issues\n   - Added proper error response flushing\n   - Updated protocol documentation\n\n### Performance Improvements\n\nBefore (connection per request):\n- ~500 RPS across all transports\n\nAfter (with connection pooling):\n- **Native: 161,318 RPS** (322x improvement)\n- **HTTP: 156,923 RPS** (314x improvement)\n- **gRPC: 140,328 RPS** (281x improvement)\n- **MessagePack: 111,944 RPS** (224x improvement)\n\nAll transports now achieve 100% success rate with stable performance.\n\n### Test Infrastructure\n\nNew testing capabilities:\n- `run-transport-test.sh` - Test individual or all transports\n- `run-heavy-test.sh` - High-load testing (1M requests)\n- `run-custom-test.sh` - Customizable performance tests\n- Workload patterns: steady, burst, ramp, wave\n- Detailed latency percentiles (P50, P90, P95, P99, P99.9)\n\n### Usage Examples\n\n```bash\n# Test specific transport\n./run-transport-test.sh -t grpc -T 32 -r 100000\n\n# Test all transports\n./run-transport-test.sh -t all\n\n# Heavy load test\n./run-heavy-test.sh\n```\n\n### Follow-up Improvements\n\nBased on review feedback, the following improvements could be made in future PRs:\n1. Connection pool size limits with semaphore-based control\n2. Connection timeout configuration\n3. Long-running stability tests\n4. Memory leak detection\n\nThis PR delivers substantial performance gains and establishes a robust testing framework for continued optimization.", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/21/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/21/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/19", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/19/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/19/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/19", "id": 3278840133, "node_id": "PR_kwDOPU5kG86hc7XA", "number": 19, "title": "Add environment variables and enhanced CLI arguments support", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-31T01:17:37Z", "updated_at": "2025-08-01T10:29:24Z", "closed_at": "2025-07-31T01:30:02Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/19", "html_url": "https://github.com/lazureykis/throttlecrab/pull/19", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/19.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/19.patch", "merged_at": "2025-07-31T01:30:02Z"}, "body": "## Summary\nThis PR adds comprehensive environment variable support and enhances the CLI argument structure for throttlecrab-server.\n\n## Key Changes\n\n### CLI Arguments Enhancement\n- **No default transport** - Users must explicitly specify at least one transport (--http, --grpc, --msgpack, --native)\n- **Multiple transports** - Can run multiple transports simultaneously with individual configuration\n- **Store configuration** - Support for periodic, probabilistic, and adaptive stores with specific parameters\n- **Generous defaults** - Large capacity defaults (100k entries, 100k buffer size)\n\n### Environment Variables\n- All CLI arguments can be configured via environment variables with `THROTTLECRAB_` prefix\n- Proper precedence: CLI arguments override environment variables\n- Implemented using clap's built-in env support for automatic handling\n\n### Core Library Updates\n- Added builder patterns for all store types (PeriodicStore, ProbabilisticStore, AdaptiveStore)\n- Made store configuration parameters customizable\n- Updated actor system to support different store implementations\n\n## Usage Examples\n\n```bash\n# Single transport\nthrottlecrab-server --msgpack\n\n# Multiple transports with custom configuration\nthrottlecrab-server --http --http-port 7070 --grpc --grpc-port 7075\n\n# With adaptive store\nthrottlecrab-server --msgpack --store adaptive --store-min-interval 5\n\n# Using environment variables\nTHROTTLECRAB_HTTP=true THROTTLECRAB_HTTP_PORT=8080 throttlecrab-server\n\n# CLI overrides env vars\nTHROTTLECRAB_HTTP_PORT=8080 throttlecrab-server --http --http-port 7070\n```\n\n## Breaking Changes\n- Removed `--server` flag - transport must be explicitly specified\n- Removed demo mode\n- Changed default port assignments for consistency\n\n## Testing\n- Verified CLI argument parsing works correctly\n- Tested environment variable support\n- Confirmed CLI arguments properly override environment variables\n- All tests pass, code formatted with rustfmt, clippy warnings resolved", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/19/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/19/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/18", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/18/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/18/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/18", "id": 3278784749, "node_id": "PR_kwDOPU5kG86hcwpG", "number": 18, "title": "Store naming improvements and InternedStore removal", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-31T00:30:18Z", "updated_at": "2025-08-01T10:29:24Z", "closed_at": "2025-07-31T00:38:03Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/18", "html_url": "https://github.com/lazureykis/throttlecrab/pull/18", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/18.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/18.patch", "merged_at": "2025-07-31T00:38:03Z"}, "body": "## Summary\n\nThis PR improves the store naming consistency and removes the misleading InternedStore implementation.\n\n## Changes Made\n\n### 1. Store Renaming (Better Names)\n- \u274c Removed deprecated `MemoryStore` implementation from mod.rs\n- \u2705 Renamed `OptimizedMemoryStore` \u2192 `PeriodicStore` (describes cleanup strategy)\n- \u2705 Renamed `ProbabilisticMemoryStore` \u2192 `ProbabilisticStore` (removed redundant \"Memory\")\n- \u2705 Renamed `AdaptiveMemoryStore` \u2192 `AdaptiveStore` (removed redundant \"Memory\")\n- \u2705 Renamed file: `optimized.rs` \u2192 `periodic.rs`\n\n### 2. InternedStore Analysis and Removal\nInitially made InternedStore public for evaluation, but analysis revealed:\n- **No memory benefit**: Both PeriodicStore and InternedStore store each unique string exactly once\n- **Higher memory usage**: InternedStore uses MORE memory due to:\n  - Two HashMaps instead of one\n  - Additional usize IDs for each key\n  - Extra HashMap overhead\n- **Added complexity**: More code, more potential bugs, no benefit\n- \u274c Removed InternedStore implementation entirely\n\n### 3. Updated All References\n- \u2705 Updated all imports across 24 files\n- \u2705 Updated benchmarks to use new store names\n- \u2705 Updated examples and tests\n- \u2705 Updated documentation in README.md\n- \u2705 Fixed duplicate store benchmarks in examples\n\n### 4. Final State\nThe codebase now has 3 clear store implementations:\n- **PeriodicStore**: Cleans up expired entries every 60 seconds\n- **ProbabilisticStore**: Random cleanup probability to spread load\n- **AdaptiveStore**: Adapts cleanup frequency based on workload\n\n## Statistics\n- **Files changed**: 24\n- **Lines removed**: ~500 (net reduction)\n- **Deleted files**: `optimized.rs`\n- **Added files**: `periodic.rs`\n\n## Testing\n- \u2705 All unit tests pass\n- \u2705 All benchmarks updated and working\n- \u2705 No clippy warnings\n- \u2705 Code formatted with rustfmt", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/18/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/18/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/16", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/16/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/16/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/16", "id": 3278534474, "node_id": "PR_kwDOPU5kG86hb9bF", "number": 16, "title": "Remove 'optimized' terminology from transports", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-30T21:54:05Z", "updated_at": "2025-08-01T10:29:26Z", "closed_at": "2025-07-30T21:58:30Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/16", "html_url": "https://github.com/lazureykis/throttlecrab/pull/16", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/16.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/16.patch", "merged_at": "2025-07-30T21:58:30Z"}, "body": "## Summary\n- Removed the word \"optimized\" from MessagePack transport debug message\n- Confirmed that the native transport already has all performance optimizations\n\n## Context\nBoth the MessagePack and native transports now use the same optimization techniques:\n- TCP_NODELAY for low latency\n- Pre-allocated and reused buffers  \n- Efficient buffer management with minimal allocations\n- Batched write operations where applicable\n\nThere's no need to call one \"optimized\" since they both implement best practices for performance.\n\n## Test plan\n- [x] Code compiles successfully\n- [x] All tests pass\n- [x] Linter and formatter checks pass", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/16/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/16/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/15", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/15/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/15/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/15", "id": 3278522826, "node_id": "PR_kwDOPU5kG86hb6-w", "number": 15, "title": "Rename compact protocol to native protocol", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-30T21:46:46Z", "updated_at": "2025-07-30T21:52:59Z", "closed_at": "2025-07-30T21:49:43Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/15", "html_url": "https://github.com/lazureykis/throttlecrab/pull/15", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/15.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/15.patch", "merged_at": "2025-07-30T21:49:43Z"}, "body": "## Summary\n- Renamed the compact binary protocol to \"native\" protocol\n- The name \"native\" better represents that this is throttlecrab's native/custom binary protocol\n\n## Changes\n- Renamed `src/transport/compact_protocol.rs` \u2192 `src/transport/native.rs`\n- Updated struct name from `CompactProtocolTransport` to `NativeTransport`\n- Changed CLI flag from `--compact` to `--native`\n- Updated all imports and references in:\n  - `main.rs`\n  - `transport/mod.rs`\n  - `examples/protocol_demo.rs`\n  - `benches/protocol_comparison.rs`\n- Updated comments and documentation\n\n## Test plan\n- [x] Code compiles successfully\n- [x] All tests pass\n- [x] Linter and formatter checks pass\n- [x] Examples and benchmarks updated", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/15/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/15/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/14", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/14/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/14/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/14", "id": 3278501057, "node_id": "PR_kwDOPU5kG86hb2Vk", "number": 14, "title": "Consolidate MessagePack implementations", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-30T21:33:17Z", "updated_at": "2025-07-30T21:52:21Z", "closed_at": "2025-07-30T21:37:59Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/14", "html_url": "https://github.com/lazureykis/throttlecrab/pull/14", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/14.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/14.patch", "merged_at": "2025-07-30T21:37:59Z"}, "body": "## Summary\n- Removed the regular MessagePack transport implementation\n- Renamed OptimizedMsgPackTransport to MsgPackTransport, making the optimized version the default\n- Updated CLI to use `--msgpack` flag instead of `--optimized`\n\n## Changes\n- Deleted `src/transport/msgpack.rs` (the non-optimized version)\n- Renamed `src/transport/msgpack_optimized.rs` \u2192 `src/transport/msgpack.rs`\n- Updated struct name from `OptimizedMsgPackTransport` to `MsgPackTransport`\n- Removed `msgpack_optimized` module from exports\n- Updated `main.rs` to remove the `--optimized` flag and add `--msgpack` flag\n- Updated example files to reflect the consolidation\n\n## Result\nThe codebase now has a single, performant MessagePack implementation with:\n- TCP_NODELAY for lower latency\n- Pre-allocated and reused buffers\n- Batched write operations\n- Better performance characteristics\n\n## Test plan\n- [x] Code compiles successfully\n- [x] All tests pass\n- [x] Linter and formatter checks pass\n- [x] Example code updated to reflect changes", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/14/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/14/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/13", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/13/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/13/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/13", "id": 3278283549, "node_id": "PR_kwDOPU5kG86hbI-h", "number": 13, "title": "Use single timestamp field with nanosecond precision across all protocols", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-30T19:58:25Z", "updated_at": "2025-07-30T21:52:51Z", "closed_at": "2025-07-30T20:42:09Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/13", "html_url": "https://github.com/lazureykis/throttlecrab/pull/13", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/13.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/13.patch", "merged_at": "2025-07-30T20:42:09Z"}, "body": "## Summary\n- Simplified the gRPC protocol by replacing two timestamp fields (timestamp_secs and timestamp_nanos) with a single timestamp field\n- Uses **nanosecond precision** to support high-frequency rate limiting\n\n## Changes\n- Updated protobuf definition to use single `int64 timestamp` field with nanosecond precision\n- Modified gRPC transport to convert nanoseconds to SystemTime\n- Updated all examples and benchmarks to use the new field structure\n- All tests pass, code formatted and linted\n\n## Benefits\n- Simpler protocol (one field instead of two)\n- Maintains full nanosecond precision for sub-second rate limiting\n- Supports high-frequency use cases (e.g., 100 requests per 500ms)\n- No loss of functionality - matches internal GCRA precision\n\n## Test Results\n- All 41 tests pass\n- Clippy passes with no warnings\n- Code properly formatted with cargo fmt", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/13/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/13/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/12", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/12/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/12/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/12", "id": 3278195964, "node_id": "PR_kwDOPU5kG86ha18Y", "number": 12, "title": "Split project into library and server crates", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-30T19:18:36Z", "updated_at": "2025-07-30T19:46:53Z", "closed_at": "2025-07-30T19:46:37Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/12", "html_url": "https://github.com/lazureykis/throttlecrab/pull/12", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/12.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/12.patch", "merged_at": "2025-07-30T19:46:37Z"}, "body": "## Summary\nThis PR splits the throttlecrab project into two separate crates:\n- `throttlecrab` - Pure Rust rate limiting library with zero dependencies\n- `throttlecrab-server` - Server binary with all transports (HTTP, gRPC, MessagePack)\n\n## Changes\n- Created a Cargo workspace with two member crates\n- Moved core rate limiting functionality to the library crate\n- Moved all server code, transports, and CLI to the server crate\n- Updated all imports to use the new structure\n- Added separate README files for each crate\n- Updated dependencies to use workspace inheritance for consistent versions\n\n## Benefits\n- **Lightweight library**: Users who only need the rate limiting algorithm can use the library without pulling in server dependencies\n- **Cleaner separation**: Clear boundary between core functionality and server implementation\n- **Better versioning**: Library and server can be versioned independently\n- **Reduced compile times**: Library users don't need to compile server dependencies\n\n## Testing\n- All existing tests pass\n- Both crates build successfully\n- Examples and benchmarks have been updated and work correctly\n- Code is formatted and passes clippy checks\n\n## Migration\nFor library users:\n```toml\n[dependencies]\nthrottlecrab = \"0.1.0\"\n```\n\nFor server users:\n```bash\ncargo install throttlecrab-server\n```\n\n## Note\nThe `throttlecrab-server` crate name has already been reserved on crates.io with a placeholder v0.0.1 release.", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/12/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/10", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/10/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/10/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/10", "id": 3278058340, "node_id": "PR_kwDOPU5kG86haYn4", "number": 10, "title": "feat: Add HTTP transport layer with Axum", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-30T18:20:31Z", "updated_at": "2025-07-30T18:36:47Z", "closed_at": "2025-07-30T18:31:30Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/10", "html_url": "https://github.com/lazureykis/throttlecrab/pull/10", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/10.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/10.patch", "merged_at": "2025-07-30T18:31:30Z"}, "body": "## Summary\n\nThis PR adds HTTP transport support to ThrottleCrab, providing a standard REST API alongside the existing TCP/MsgPack and gRPC transports.\n\n## Changes\n\n### New Features\n- **HTTP Transport Layer**: Implemented using Axum web framework for high performance\n- **JSON REST API**: Standard HTTP POST endpoint at `/throttle` for rate limiting requests\n- **Health Check**: Added `/health` endpoint for monitoring\n- **CLI Support**: Added `--http` flag to start server with HTTP transport\n\n### Implementation Details\n- Created `src/transport/http.rs` with Axum-based HTTP server\n- Request/response models with proper JSON serialization\n- Error handling with appropriate HTTP status codes\n- Integration with existing actor-based rate limiter\n\n### Dependency Updates\n- Updated to latest versions of dependencies:\n  - axum: 0.8.4\n  - tonic: 0.14.0\n  - prost: 0.14.1\n  - clap: 4.5.42\n- Added tonic-prost for better protobuf integration\n- All tests pass with updated dependencies\n\n### Examples & Tests\n- Added `examples/http_client.rs` demonstrating HTTP API usage\n- Created unit tests for request/response serialization\n- All existing tests continue to pass\n\n### Documentation\n- Updated README with HTTP API documentation including request/response formats\n- Added comprehensive scaling strategy section\n- Documented horizontal scaling approach using client-side sharding\n\n## Transport Comparison\n\n| Transport | Use Case | Performance | Ease of Integration |\n|-----------|----------|-------------|-------------------|\n| TCP + MsgPack | Maximum efficiency | Highest | Requires MsgPack client |\n| HTTP + JSON | Standard REST API | Good | Easy - any HTTP client |\n| gRPC | Service mesh | High | Requires protobuf |\n\n## API Example\n\n```bash\ncurl -X POST http://localhost:9090/throttle \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"key\": \"user:123\",\n    \"max_burst\": 10,\n    \"count_per_period\": 100,\n    \"period\": 60,\n    \"quantity\": 1\n  }'\n```\n\nResponse:\n```json\n{\n  \"allowed\": true,\n  \"limit\": 10,\n  \"remaining\": 9,\n  \"reset_after\": 60,\n  \"retry_after\": 0\n}\n```\n\n## Testing\n\n- [x] Unit tests added\n- [x] Integration tests pass\n- [x] Manual testing with example client\n- [x] No clippy warnings\n- [x] Code formatted with `cargo fmt`\n- [x] All tests pass with updated dependencies", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/10/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/9", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/9/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/9/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/9", "id": 3277764502, "node_id": "PR_kwDOPU5kG86hZZD7", "number": 9, "title": "Data Structure Optimizations - Multiple High-Performance Store Implementations", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2025-07-30T16:39:03Z", "updated_at": "2025-07-30T18:03:22Z", "closed_at": "2025-07-30T18:03:18Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/9", "html_url": "https://github.com/lazureykis/throttlecrab/pull/9", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/9.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/9.patch", "merged_at": "2025-07-30T18:03:18Z"}, "body": "## Summary\n\nThis PR implements high-performance data structure optimizations for the rate limiter, providing 15-22x speedups over the baseline implementation.\n\n## Changes Made\n\n### New Store Implementations (4 total)\n1. **AdaptiveMemoryStore** (21.6x speedup) - Multi-trigger cleanup with dynamic intervals\n2. **OptimizedMemoryStore** (18.2x speedup) - Simple time-based periodic cleanup  \n3. **InternedMemoryStore** (15.6x speedup) - String interning for repeated keys\n4. **ProbabilisticMemoryStore** (16.8x speedup) - Deterministic pseudo-random cleanup\n\n### Removed Implementations\n- **CompactMemoryStore** - Removed due to u32 timestamp overflow issues\n- **AmortizedMemoryStore** - Removed due to HashMap iteration order concerns\n- Other experimental stores (TimingWheel, BloomFilter, etc.) - Lower performance\n\n### Issues Fixed (from PR review)\n- \u2705 Removed CompactMemoryStore to eliminate integer overflow risk\n- \u2705 Removed AmortizedMemoryStore to eliminate non-deterministic cleanup\n- \u2705 Added overflow protection to InternedMemoryStore ID counter  \n- \u2705 Removed debug assertions from production code\n- \u2705 Removed unused cleanup_probability field\n\n## Performance Results\n\nBenchmarks show significant improvements across all access patterns:\n- Sequential access: 15-22x faster\n- Random access: 14-20x faster  \n- Hot key workloads: 16-23x faster\n- Sparse access: 13-19x faster\n\n## Recommendations\n\nFor production use:\n- **Primary**: AdaptiveMemoryStore - Best overall performance and reliability\n- **Alternative**: OptimizedMemoryStore - Simple and effective\n- **Specialized**: InternedMemoryStore - For workloads with repeated keys\n\n## Test Coverage\n\n- All stores pass comprehensive test suite (34 tests)\n- Multiple access pattern benchmarks included\n- Edge cases covered (expiration, CAS operations, overflow)\n\nGenerated with Claude Code", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/9/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/9/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/8", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/8/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/8/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/8", "id": 3276572372, "node_id": "PR_kwDOPU5kG86hVQ52", "number": 8, "title": "feat: Add gRPC transport support", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-07-30T10:55:11Z", "updated_at": "2025-07-30T21:52:44Z", "closed_at": "2025-07-30T11:00:22Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/8", "html_url": "https://github.com/lazureykis/throttlecrab/pull/8", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/8.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/8.patch", "merged_at": "2025-07-30T11:00:22Z"}, "body": "## Summary\n\nThis PR adds gRPC transport support to throttlecrab, providing a standard RPC protocol option alongside the existing MessagePack variants.\n\n## Features Added\n\n- **gRPC Server Implementation**: Full gRPC server using the tonic framework\n- **Protocol Buffer Schema**: Defined service and message types for the rate limiting API\n- **Performance Benchmarks**: Comprehensive benchmarks comparing gRPC with existing transports\n- **Auto-detection of protoc**: Build script automatically finds protoc installation\n- **Connection Pooling**: Benchmarks use connection pooling to avoid exhaustion\n\n## Performance\n\nBased on benchmark results:\n- **Sequential requests**: ~16-17K requests/sec (~60\u03bcs per request)\n- **Concurrent clients**: Scales to 100K+ requests/sec with proper connection pooling\n- **Comparable performance**: gRPC performs competitively with existing binary protocols\n\n## Usage\n\n```bash\n# Start gRPC server (requires protoc installed)\nthrottlecrab --server --grpc\n\n# Or specify custom port\nthrottlecrab --server --port 9093 --grpc\n```\n\n## Dependencies\n\n- Added `tonic` and `prost` for gRPC support\n- Requires `protoc` installed (`brew install protobuf` on macOS)\n\n## Testing\n\n- Added unit tests for gRPC transport\n- Added gRPC client example (`examples/grpc_client.rs`)\n- Extended protocol comparison benchmarks\n- Added dedicated gRPC throughput benchmarks\n\n## Benefits\n\n- **Cross-language support**: gRPC clients available in many languages\n- **Better tooling**: Protocol buffer tooling and code generation\n- **Type safety**: Strong typing through protobuf definitions\n- **Future streaming support**: Foundation for potential streaming APIs", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/8/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/8/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/7", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/7/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/7/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/7", "id": 3275320936, "node_id": "PR_kwDOPU5kG86hREp0", "number": 7, "title": "Add Claude Code GitHub Workflow", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-30T00:24:13Z", "updated_at": "2025-07-30T10:29:14Z", "closed_at": "2025-07-30T00:24:21Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/7", "html_url": "https://github.com/lazureykis/throttlecrab/pull/7", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/7.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/7.patch", "merged_at": "2025-07-30T00:24:21Z"}, "body": "## \ud83e\udd16 Installing Claude Code GitHub App\r\n\r\nThis PR adds a GitHub Actions workflow that enables Claude Code integration in our repository.\r\n\r\n### What is Claude Code?\r\n\r\n[Claude Code](https://claude.ai/code) is an AI coding agent that can help with:\r\n- Bug fixes and improvements  \r\n- Documentation updates\r\n- Implementing new features\r\n- Code reviews and suggestions\r\n- Writing tests\r\n- And more!\r\n\r\n### How it works\r\n\r\nOnce this PR is merged, we'll be able to interact with Claude by mentioning @claude in a pull request or issue comment.\r\nOnce the workflow is triggered, Claude will analyze the comment and surrounding context, and execute on the request in a GitHub action.\r\n\r\n### Important Notes\r\n\r\n- **This workflow won't take effect until this PR is merged**\r\n- **@claude mentions won't work until after the merge is complete**\r\n- The workflow runs automatically whenever Claude is mentioned in PR or issue comments\r\n- Claude gets access to the entire PR or issue context including files, diffs, and previous comments\r\n\r\n### Security\r\n\r\n- Our Anthropic API key is securely stored as a GitHub Actions secret\r\n- Only users with write access to the repository can trigger the workflow\r\n- All Claude runs are stored in the GitHub Actions run history\r\n- Claude's default tools are limited to reading/writing files and interacting with our repo by creating comments, branches, and commits.\r\n- We can add more allowed tools by adding them to the workflow file like:\r\n\r\n```\r\nallowed_tools: Bash(npm install),Bash(npm run build),Bash(npm run lint),Bash(npm run test)\r\n```\r\n\r\nThere's more information in the [Claude Code action repo](https://github.com/anthropics/claude-code-action).\r\n\r\nAfter merging this PR, let's try mentioning @claude in a comment on any PR to get started!", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/7/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/7/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/6", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/6/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/6/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/6", "id": 3275101252, "node_id": "PR_kwDOPU5kG86hQXma", "number": 6, "title": "Optimize MessagePack serialization and add compact binary protocol", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-29T22:04:39Z", "updated_at": "2025-07-30T10:29:13Z", "closed_at": "2025-07-30T00:30:04Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/6", "html_url": "https://github.com/lazureykis/throttlecrab/pull/6", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/6.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/6.patch", "merged_at": "2025-07-30T00:30:04Z"}, "body": "## Summary\n\nThis PR implements comprehensive performance optimizations for both network protocols and the core rate limiter:\n\n### \ud83d\ude80 Performance Improvements\n\n1. **Memory Store Optimization**: 171x faster with 10,000 keys\n   - Standard MemoryStore: 8K req/s \u2192 Optimized: 1.38M req/s\n   - Deferred cleanup strategy (every 60s vs every operation)\n   - Pre-allocated HashMap capacity to avoid rehashing\n   - AHash as default hasher for 37% additional speedup\n\n2. **MessagePack Protocol Optimization**\n   - Optimized transport with pre-allocated buffers\n   - TCP_NODELAY for lower latency\n   - Compact binary protocol option for minimal overhead\n\n3. **Core Algorithm Performance**\n   - Single key: 25.8M req/s (39 ns/op)\n   - 10,000 keys with AHash: 14.9M req/s (67 ns/op)\n   - Only 1.7x slowdown with 10K keys vs 100x before\\!\n\n## Key Changes\n\n### Memory Store Optimizations\n- `OptimizedMemoryStore`: Deferred cleanup + pre-allocation\n- `AdaptiveMemoryStore`: Self-tuning cleanup intervals\n- `AmortizedMemoryStore`: Spreads cleanup cost evenly\n- AHash enabled by default (optional feature)\n\n### Protocol Optimizations\n- `OptimizedMsgPackTransport`: Buffer reuse, TCP_NODELAY\n- `CompactProtocolTransport`: Fixed-size binary format\n- Benchmarks showing protocol performance differences\n\n### Cleanup Strategies\n- **Eager** (standard): O(n) every operation - slow\n- **Periodic** (optimized): Every 60s or 20% expired - fast\n- **Amortized**: Small batches every N ops - consistent latency\n- **Adaptive**: Self-tuning based on cleanup effectiveness\n\n## Benchmarks\n\nComprehensive benchmarks added:\n- `core_performance`: Raw rate limiter speed\n- `store_shootout`: All store implementations\n- `protocol_comparison`: Network protocol performance\n- `cleanup_strategies`: Different cleanup approaches\n\n## Examples\n- `performance_demo`: Shows 171x improvement\n- `protocol_demo`: Compares protocol latencies\n- `benchmark_demo`: TCP throughput testing\n\n## Breaking Changes\nNone - all optimizations are backward compatible. AHash is optional but enabled by default.\n\n## Test plan\n- [x] All existing tests pass\n- [x] Core performance benchmarks show improvements\n- [x] Network protocols work correctly\n- [x] Examples demonstrate performance gains\n- [x] Test with `--no-default-features` for zero dependencies\n- [x] Verify cleanup actually happens (cleanup tests updated)", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/6/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/6/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/5", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/5/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/5/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/5", "id": 3275064060, "node_id": "PR_kwDOPU5kG86hQPys", "number": 5, "title": "Fix benchmark protocol to match actual wire format", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-07-29T21:41:56Z", "updated_at": "2025-07-29T22:01:59Z", "closed_at": "2025-07-29T21:55:23Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/5", "html_url": "https://github.com/lazureykis/throttlecrab/pull/5", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/5.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/5.patch", "merged_at": "2025-07-29T21:55:23Z"}, "body": "## Summary\nFixed the benchmark protocol to match the actual MessagePack wire format used by the server and optimized benchmarks to reuse connections.\n\n## Changes\n### Protocol Fixes\n- Updated Request/Response structs in benchmarks to match server expectations\n- Fixed field names to match protocol: `max_burst`\u2192`burst`, `count_per_period`\u2192`rate`\n- Added required `cmd` field (1 = throttle) to requests\n- Changed `allowed` field from bool to u8 (0/1)\n- Updated README documentation with correct protocol details\n- Fixed default port from 7777 to 9090\n\n### Benchmark Optimizations\n- Modified all benchmarks to create connections once and reuse them\n- Added TCP_NODELAY to reduce latency\n- Created connection pool benchmark to test pooled connections\n- Fixed multi-threaded benchmarks to maintain persistent connections\n- Changed default log level from debug to info to reduce noise\n\n## Performance Results\n\n### Single-threaded Performance\n- **~15.6k requests/second** (63.9\u00b5s per request)\n- Includes full TCP round-trip + MessagePack serialization\n\n### Multi-threaded Scaling\n- 2 threads: **~42.8k req/s** (2.7x scaling)\n- 4 threads: **~77k req/s** (4.9x scaling)\n- 8 threads: **~142.9k req/s** (9.1x scaling)\n- 16 threads: **~271.5k req/s** (17.4x scaling)\n\n### Connection Pool Performance\n- 8 threads with 16 connection pool: **~193k req/s**\n- Pool sizes show consistent ~17k req/s per connection\n\n### Key Insights\n1. **Excellent linear scaling** with thread count\n2. **No actor contention** - single-threaded actor handles 270k+ req/s\n3. **~60\u00b5s per request** including all overhead\n4. **Competitive with Redis** performance levels\n\n## Test Plan\n- [x] Verified benchmark_demo example works\n- [x] Ran all benchmarks successfully\n- [x] Confirmed server accepts the corrected protocol\n- [x] Tested connection pooling scenarios\n- [x] Measured performance with reused connections", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/5/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/5/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/4", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/4/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/4/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/4", "id": 3275003962, "node_id": "PR_kwDOPU5kG86hQDbP", "number": 4, "title": "Refactor RateLimiter to accept all parameters in rate_limit method", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-07-29T21:11:43Z", "updated_at": "2025-07-29T21:27:12Z", "closed_at": "2025-07-29T21:21:06Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/4", "html_url": "https://github.com/lazureykis/throttlecrab/pull/4", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/4.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/4.patch", "merged_at": "2025-07-29T21:21:06Z"}, "body": "## Summary\n- Refactored `RateLimiter` to accept all rate limiting parameters in the `rate_limit` method instead of storing them in the struct\n- Actor now creates a single `RateLimiter` instance that owns the `MemoryStore`\n- This design provides maximum flexibility for different rate limits per request\n\n## Changes\n1. **Simplified RateLimiter struct** - Now only holds the store, removed stored parameters (delay_variation_tolerance, emission_interval, limit)\n2. **Updated rate_limit method** - All parameters (max_burst, count_per_period, period) are now passed as arguments\n3. **Single RateLimiter instance** - Actor creates one instance that owns the MemoryStore instead of creating new instances per request\n4. **Store trait implementation** - Implemented Store trait for MemoryStore directly (not just &mut MemoryStore)\n5. **Updated tests** - All tests updated to use the new API\n\n## Benefits\n- Different requests can have different rate limits without creating multiple RateLimiter instances\n- Cleaner separation of concerns - RateLimiter is just a stateful service that applies GCRA\n- More flexible API that matches the user's requirements\n\n## Test plan\n- [x] All unit tests pass\n- [x] All integration tests pass\n- [x] cargo fmt run\n- [x] cargo clippy shows no warnings", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/4/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/4/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/3", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/3/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/3/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/3", "id": 3274912429, "node_id": "PR_kwDOPU5kG86hPvr6", "number": 3, "title": "Pure rate limiter library + MessagePack TCP transport", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-07-29T20:33:13Z", "updated_at": "2025-07-29T20:51:44Z", "closed_at": "2025-07-29T20:51:41Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/3", "html_url": "https://github.com/lazureykis/throttlecrab/pull/3", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/3.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/3.patch", "merged_at": "2025-07-29T20:51:41Z"}, "body": "## Summary\n- Refactored crate into a pure rate limiting library with zero network dependencies\n- Implemented MessagePack over TCP transport in the binary\n- Removed all system time calls from library - now accepts timestamps as parameters\n\n## Changes\n\n### Library (pure, minimal dependencies)\n- **Zero async/network dependencies** - only depends on `thiserror`\n- **Synchronous API** - no tokio, no async\n- **No system calls** - accepts timestamps as parameters instead of calling `SystemTime::now()`\n- **Minimal exports** - only core rate limiting types exposed\n\n### Binary (all network/async code)\n- **Actor pattern** - wraps synchronous rate limiter with async interface\n- **MessagePack over TCP** - framed protocol with 4-byte length header\n- **CLI interface** - server mode and demo mode\n- **All dependencies** - tokio, serde, rmp-serde, etc. only in binary\n\n### Benefits\n- Library can be used in any context (embedded, WASM, no_std with alloc)\n- No system calls = faster and more predictable performance\n- Clear separation of concerns\n- Zero network attack surface in the library\n\n### Breaking Changes\n- `Store` trait methods now require `SystemTime` parameter\n- `RateLimiter::rate_limit()` now requires `SystemTime` parameter\n\n## Test Plan\n- [x] All library tests pass\n- [x] All binary tests pass\n- [x] cargo fmt clean\n- [x] cargo clippy clean\n- [ ] Manual testing of TCP server\n- [ ] Performance benchmarks", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/3/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/3/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/2", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/2/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/2/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/2", "id": 3274498911, "node_id": "PR_kwDOPU5kG86hOWl8", "number": 2, "title": "Add GitHub Actions workflows and CI/CD pipeline", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-07-29T17:59:24Z", "updated_at": "2025-07-30T10:29:16Z", "closed_at": "2025-07-29T20:01:57Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/2", "html_url": "https://github.com/lazureykis/throttlecrab/pull/2", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/2.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/2.patch", "merged_at": "2025-07-29T20:01:56Z"}, "body": "## Summary\n- Added essential GitHub Actions workflows for CI/CD\n- Fixed all rustfmt and clippy warnings\n- Simplified CI setup with focused workflows\n- Switched to MIT license only\n\n## Changes Made\n\n### GitHub Actions Workflows\n- **ci.yml**: Code quality checks (rustfmt, clippy, doc generation)\n- **test.yml**: Test suite running on Ubuntu with stable Rust\n- **security.yml**: Security audits with cargo-audit and cargo-deny\n- **dependabot.yml**: Automated dependency updates\n\n### Code Improvements\n- Fixed all clippy warnings:\n  - Removed redundant closures\n  - Added Default implementation for MemoryStore\n  - Fixed unused imports\n  - Resolved mutable reference issues\n- Applied rustfmt to entire codebase\n- Fixed nested test module naming conflicts\n\n### Configuration Files Added\n- **rustfmt.toml**: Code formatting rules\n- **clippy.toml**: Linting configuration\n- **deny.toml**: Security and license policies\n\n### Other Changes\n- Updated dependencies (thiserror v2, config v0, criterion v0.7)\n- Switched from dual MIT/Apache-2.0 to MIT license only\n- Added proper #[cfg(test)] attributes to test modules\n\n## Notes\n- Simplified CI compared to initial approach - removed complex workflows in favor of essential checks\n- All tests pass on stable Rust\n- Code is now fully compliant with rustfmt and clippy standards", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/2/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/2/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/1", "repository_url": "https://api.github.com/repos/lazureykis/throttlecrab", "labels_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/1/comments", "events_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/1/events", "html_url": "https://github.com/lazureykis/throttlecrab/pull/1", "id": 3274484468, "node_id": "PR_kwDOPU5kG86hOTd3", "number": 1, "title": "Add comprehensive unit tests for GCRA rate limiter", "user": {"login": "lazureykis", "id": 89552, "node_id": "MDQ6VXNlcjg5NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/89552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazureykis", "html_url": "https://github.com/lazureykis", "followers_url": "https://api.github.com/users/lazureykis/followers", "following_url": "https://api.github.com/users/lazureykis/following{/other_user}", "gists_url": "https://api.github.com/users/lazureykis/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazureykis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazureykis/subscriptions", "organizations_url": "https://api.github.com/users/lazureykis/orgs", "repos_url": "https://api.github.com/users/lazureykis/repos", "events_url": "https://api.github.com/users/lazureykis/events{/privacy}", "received_events_url": "https://api.github.com/users/lazureykis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-07-29T17:54:38Z", "updated_at": "2025-07-29T17:59:02Z", "closed_at": "2025-07-29T17:55:23Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/pulls/1", "html_url": "https://github.com/lazureykis/throttlecrab/pull/1", "diff_url": "https://github.com/lazureykis/throttlecrab/pull/1.diff", "patch_url": "https://github.com/lazureykis/throttlecrab/pull/1.patch", "merged_at": "2025-07-29T17:55:23Z"}, "body": "## Summary\n- Added unit tests for all core modules (actor, rate, store, rate_limiter)\n- Fixed GCRA algorithm to properly handle burst capacity\n- Fixed Store trait implementation for proper borrowing\n- All 22 tests now passing\n\n## Changes\n- Added test modules for Rate, Store, and core functionality\n- Fixed initial TAT calculation to start at `now - emission_interval`\n- Fixed remaining tokens calculation to show tokens available after current request\n- Adjusted Store trait implementation for `&mut MemoryStore`\n- Added tests for edge cases including concurrent requests, multiple keys, and burst capacity\n\n## Test Coverage\n- \u2705 Basic rate limiting functionality\n- \u2705 Burst capacity handling\n- \u2705 Multiple keys with independent limits\n- \u2705 Quantity parameter support\n- \u2705 Rate replenishment over time\n- \u2705 Invalid parameter handling\n- \u2705 Concurrent request handling\n- \u2705 Reset timing calculations\n- \u2705 High burst/low rate scenarios\n- \u2705 Store operations (get, set, CAS)\n- \u2705 Rate calculations (per second/minute/hour/day)\n\n## Notes\nThe GCRA algorithm now correctly matches redis-cell behavior with proper burst capacity and token calculations.", "reactions": {"url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/1/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lazureykis/throttlecrab/issues/1/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]