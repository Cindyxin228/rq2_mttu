[{"url": "https://api.github.com/repos/dpc/rdedup/issues/197", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/197/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/197/events", "html_url": "https://github.com/dpc/rdedup/pull/197", "id": 925504060, "node_id": "MDExOlB1bGxSZXF1ZXN0NjczOTYyMzg5", "number": 197, "title": "Make the Backblaze B2 backend optional in the lib", "user": {"login": "mkroman", "id": 173308, "node_id": "MDQ6VXNlcjE3MzMwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/173308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkroman", "html_url": "https://github.com/mkroman", "followers_url": "https://api.github.com/users/mkroman/followers", "following_url": "https://api.github.com/users/mkroman/following{/other_user}", "gists_url": "https://api.github.com/users/mkroman/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkroman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkroman/subscriptions", "organizations_url": "https://api.github.com/users/mkroman/orgs", "repos_url": "https://api.github.com/users/mkroman/repos", "events_url": "https://api.github.com/users/mkroman/events{/privacy}", "received_events_url": "https://api.github.com/users/mkroman/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-20T02:12:01Z", "updated_at": "2021-06-20T03:33:55Z", "closed_at": "2021-06-20T03:33:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/197", "html_url": "https://github.com/dpc/rdedup/pull/197", "diff_url": "https://github.com/dpc/rdedup/pull/197.diff", "patch_url": "https://github.com/dpc/rdedup/pull/197.patch", "merged_at": "2021-06-20T03:33:55Z"}, "body": "Hi,\r\n\r\nI'm currently working on a project where I'm using `rdedup_lib` as a de-duplicating mechanism for a cache, and because of that I don't need any backend besides the local one.\r\n\r\nIn this PR I've made the Backblaze B2 backend optional through the `backend-b2` feature flag, which I've also added to the default set of features.\r\n\r\nSince the standard error mechanism returns an `std::io::Error`, which isn't very descriptive, I opted for panicking when the requested backend isn't enabled.\r\n\r\n**Note: I haven't actually tested the success and failure path of `rdedup_lib::aio::backend_from_url` as I don't actually use `rdedup`, nor do I have access to Backblaze B2.**", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/197/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/192", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/192/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/192/events", "html_url": "https://github.com/dpc/rdedup/pull/192", "id": 831692808, "node_id": "MDExOlB1bGxSZXF1ZXN0NTkyOTc0NTc5", "number": 192, "title": "Fix build error with clap v3 beta, bump to latest beta.", "user": {"login": "tim-seoss", "id": 5011760, "node_id": "MDQ6VXNlcjUwMTE3NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/5011760?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-seoss", "html_url": "https://github.com/tim-seoss", "followers_url": "https://api.github.com/users/tim-seoss/followers", "following_url": "https://api.github.com/users/tim-seoss/following{/other_user}", "gists_url": "https://api.github.com/users/tim-seoss/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-seoss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-seoss/subscriptions", "organizations_url": "https://api.github.com/users/tim-seoss/orgs", "repos_url": "https://api.github.com/users/tim-seoss/repos", "events_url": "https://api.github.com/users/tim-seoss/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-seoss/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-15T11:01:14Z", "updated_at": "2021-03-17T10:50:08Z", "closed_at": "2021-03-15T19:45:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/192", "html_url": "https://github.com/dpc/rdedup/pull/192", "diff_url": "https://github.com/dpc/rdedup/pull/192.diff", "patch_url": "https://github.com/dpc/rdedup/pull/192.patch", "merged_at": "2021-03-15T19:45:01Z"}, "body": "I was unable to build rdedup from git master with rust v1.50.0  (x86_64-unknown-linux-gnu).  This PR fixes that for me and passes cursory testing.  I'm not sure what broke this previously, however!", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/192/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/184", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/184/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/184/events", "html_url": "https://github.com/dpc/rdedup/pull/184", "id": 738517681, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE3MzQzODM3", "number": 184, "title": "Make AIO backend API available", "user": {"login": "jendakol", "id": 1770097, "node_id": "MDQ6VXNlcjE3NzAwOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1770097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jendakol", "html_url": "https://github.com/jendakol", "followers_url": "https://api.github.com/users/jendakol/followers", "following_url": "https://api.github.com/users/jendakol/following{/other_user}", "gists_url": "https://api.github.com/users/jendakol/gists{/gist_id}", "starred_url": "https://api.github.com/users/jendakol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jendakol/subscriptions", "organizations_url": "https://api.github.com/users/jendakol/orgs", "repos_url": "https://api.github.com/users/jendakol/repos", "events_url": "https://api.github.com/users/jendakol/events{/privacy}", "received_events_url": "https://api.github.com/users/jendakol/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-08T17:47:19Z", "updated_at": "2020-11-13T19:07:45Z", "closed_at": "2020-11-13T17:28:40Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/184", "html_url": "https://github.com/dpc/rdedup/pull/184", "diff_url": "https://github.com/dpc/rdedup/pull/184.diff", "patch_url": "https://github.com/dpc/rdedup/pull/184.patch", "merged_at": "2020-11-13T17:28:40Z"}, "body": "Hello,\r\nas I've announced in advance, I'm offering a small code refactoring.\r\n\r\nWhile the `rdedup_lib` internals are well-ready for a new backend being implemented, currently one has to implement it directly to the `rdedup_lib` which is not very handy. This PR changes this - it only makes some necessary structs and traits visible so anyone can implement a new backend into his own code and use `redup_lib` as it is, only as a dependency.  \r\nAn example how the usage will look like afterward can be seen here: [`RemoteBackend`](https://github.com/jendakol/rbackup2-poc/blob/master/client/src/remote.rs) and [its usage](https://github.com/jendakol/rbackup2-poc/blob/master/client/src/main.rs#L29) (please mind/excuse its PoC status).\r\n\r\nThe API is exposed via some [artificial modules](https://github.com/jendakol/rdedup/blob/84aa1764db6c968c7f7fd63c9c8467a0e9a30616/lib/src/lib.rs#L60). The reason is that exposing them with their real _nestings_ would IMHO look confusing to a newcomer and, on the other hand, refactoring it to follow these artificial modules structure would be much bigger cut to the library - maybe worth it though. It's up to you, of course.\r\n\r\nThanks for your great work :handshake: ", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/184/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/179", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/179/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/179/events", "html_url": "https://github.com/dpc/rdedup/pull/179", "id": 678860616, "node_id": "MDExOlB1bGxSZXF1ZXN0NDY3NzM4MzQz", "number": 179, "title": "Update crates to `edition=2018`", "user": {"login": "pfernie", "id": 1976913, "node_id": "MDQ6VXNlcjE5NzY5MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1976913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfernie", "html_url": "https://github.com/pfernie", "followers_url": "https://api.github.com/users/pfernie/followers", "following_url": "https://api.github.com/users/pfernie/following{/other_user}", "gists_url": "https://api.github.com/users/pfernie/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfernie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfernie/subscriptions", "organizations_url": "https://api.github.com/users/pfernie/orgs", "repos_url": "https://api.github.com/users/pfernie/repos", "events_url": "https://api.github.com/users/pfernie/events{/privacy}", "received_events_url": "https://api.github.com/users/pfernie/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-14T02:59:49Z", "updated_at": "2020-08-14T16:18:57Z", "closed_at": "2020-08-14T16:18:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/179", "html_url": "https://github.com/dpc/rdedup/pull/179", "diff_url": "https://github.com/dpc/rdedup/pull/179.diff", "patch_url": "https://github.com/dpc/rdedup/pull/179.patch", "merged_at": "2020-08-14T16:18:57Z"}, "body": "Update to `edition=2018` and apply applicable idioms.", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/179/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/178", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/178/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/178/events", "html_url": "https://github.com/dpc/rdedup/pull/178", "id": 676981578, "node_id": "MDExOlB1bGxSZXF1ZXN0NDY2MTg3MzE0", "number": 178, "title": "Implement `created` for `Metadata`", "user": {"login": "pfernie", "id": 1976913, "node_id": "MDQ6VXNlcjE5NzY5MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1976913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfernie", "html_url": "https://github.com/pfernie", "followers_url": "https://api.github.com/users/pfernie/followers", "following_url": "https://api.github.com/users/pfernie/following{/other_user}", "gists_url": "https://api.github.com/users/pfernie/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfernie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfernie/subscriptions", "organizations_url": "https://api.github.com/users/pfernie/orgs", "repos_url": "https://api.github.com/users/pfernie/repos", "events_url": "https://api.github.com/users/pfernie/events{/privacy}", "received_events_url": "https://api.github.com/users/pfernie/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-11T15:38:27Z", "updated_at": "2021-07-29T02:15:57Z", "closed_at": "2021-07-29T02:15:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/178", "html_url": "https://github.com/dpc/rdedup/pull/178", "diff_url": "https://github.com/dpc/rdedup/pull/178.diff", "patch_url": "https://github.com/dpc/rdedup/pull/178.patch", "merged_at": "2021-07-29T02:15:57Z"}, "body": "Implements field `created` for `Metadata` for #176 use.\r\n\r\n* Implements for both `Local` and `B2` `Backends`. However, `B2` backend is untested (I do not use)\r\n* Currently errors if the `read_metadata` implementation cannot provide either `created` or `modified` values. These are utilized to support backwards compatibility, to fill in the `Name.created` value when it is not present in the configuration file.\r\n* With this implementation, if a `Name` is deserialized without a `created` value, it is populated from filesystem data and the configuration file re-written. **This may not work appropriately with the `lock_shared` semantics of \"read\" operations?**\r\n* If the `write` operation fails when attempting to update a legacy `Name` configuration to include `created` information, the error is **silently ignored**. This is to avoid breaking, e.g., somebody trying to read legacy configurations from a read-only system for restoration, etc. This should at least, however, be logged, but current implementation does not pass a `Logger`.", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/178/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/178/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/177", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/177/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/177/events", "html_url": "https://github.com/dpc/rdedup/pull/177", "id": 676975905, "node_id": "MDExOlB1bGxSZXF1ZXN0NDY2MTgyNzgz", "number": 177, "title": "Chore updates (version bumps, formatting)", "user": {"login": "pfernie", "id": 1976913, "node_id": "MDQ6VXNlcjE5NzY5MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1976913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfernie", "html_url": "https://github.com/pfernie", "followers_url": "https://api.github.com/users/pfernie/followers", "following_url": "https://api.github.com/users/pfernie/following{/other_user}", "gists_url": "https://api.github.com/users/pfernie/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfernie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfernie/subscriptions", "organizations_url": "https://api.github.com/users/pfernie/orgs", "repos_url": "https://api.github.com/users/pfernie/repos", "events_url": "https://api.github.com/users/pfernie/events{/privacy}", "received_events_url": "https://api.github.com/users/pfernie/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-11T15:31:11Z", "updated_at": "2020-08-12T15:59:30Z", "closed_at": "2020-08-12T15:59:30Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/177", "html_url": "https://github.com/dpc/rdedup/pull/177", "diff_url": "https://github.com/dpc/rdedup/pull/177.diff", "patch_url": "https://github.com/dpc/rdedup/pull/177.patch", "merged_at": "2020-08-12T15:59:29Z"}, "body": "A general housekeeping PR to update most dependencies, fix a few `cargo clippy` warnings, and make some formatting consistent.\r\n\r\nDoes not update `hyper` or `url` versions, as these are more invasive changes.", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/177/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/175", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/175/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/175/events", "html_url": "https://github.com/dpc/rdedup/pull/175", "id": 673116820, "node_id": "MDExOlB1bGxSZXF1ZXN0NDYzMDM3Mjk3", "number": 175, "title": "Migrate to `clap` beta for integrated `structopt` support", "user": {"login": "pfernie", "id": 1976913, "node_id": "MDQ6VXNlcjE5NzY5MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1976913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfernie", "html_url": "https://github.com/pfernie", "followers_url": "https://api.github.com/users/pfernie/followers", "following_url": "https://api.github.com/users/pfernie/following{/other_user}", "gists_url": "https://api.github.com/users/pfernie/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfernie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfernie/subscriptions", "organizations_url": "https://api.github.com/users/pfernie/orgs", "repos_url": "https://api.github.com/users/pfernie/repos", "events_url": "https://api.github.com/users/pfernie/events{/privacy}", "received_events_url": "https://api.github.com/users/pfernie/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-04T22:12:55Z", "updated_at": "2020-08-05T13:15:44Z", "closed_at": "2020-08-04T23:22:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/175", "html_url": "https://github.com/dpc/rdedup/pull/175", "diff_url": "https://github.com/dpc/rdedup/pull/175.diff", "patch_url": "https://github.com/dpc/rdedup/pull/175.patch", "merged_at": "2020-08-04T23:22:00Z"}, "body": "Moves to the beta release of `clap` for `structopt` functionality, building on #174 ", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/174", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/174/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/174/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/174/events", "html_url": "https://github.com/dpc/rdedup/pull/174", "id": 673116309, "node_id": "MDExOlB1bGxSZXF1ZXN0NDYzMDM2ODcw", "number": 174, "title": "Convert to `structopt`", "user": {"login": "pfernie", "id": 1976913, "node_id": "MDQ6VXNlcjE5NzY5MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1976913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfernie", "html_url": "https://github.com/pfernie", "followers_url": "https://api.github.com/users/pfernie/followers", "following_url": "https://api.github.com/users/pfernie/following{/other_user}", "gists_url": "https://api.github.com/users/pfernie/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfernie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfernie/subscriptions", "organizations_url": "https://api.github.com/users/pfernie/orgs", "repos_url": "https://api.github.com/users/pfernie/repos", "events_url": "https://api.github.com/users/pfernie/events{/privacy}", "received_events_url": "https://api.github.com/users/pfernie/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-04T22:11:42Z", "updated_at": "2020-08-05T13:18:17Z", "closed_at": "2020-08-04T23:22:02Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/174", "html_url": "https://github.com/dpc/rdedup/pull/174", "diff_url": "https://github.com/dpc/rdedup/pull/174.diff", "patch_url": "https://github.com/dpc/rdedup/pull/174.patch", "merged_at": "2020-08-04T23:22:02Z"}, "body": "Implements #173 to use `structopt` for argument parsing. I had put these changes together a few days ago, and was unaware of future integration of `structopt` into `clap`. So another PR will follow which builds on this PR but switches back to `clap` `v3.0.0-beta.1`.\r\n\r\nNote that due to what I believe is currently a [bug](https://github.com/TeXitoi/structopt/issues/418) in `structopt`, the help text for the `remove` command lists the `rm` alias twice:\r\n\r\n```\r\n    remove               Remove names stored in the repository [aliases: rm, rm]\r\n```\r\n\r\nOtherwise, I believe the new changes produce consistent usage to the existing.", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/174/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/170", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/170/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/170/events", "html_url": "https://github.com/dpc/rdedup/pull/170", "id": 598679053, "node_id": "MDExOlB1bGxSZXF1ZXN0NDAyNDc2OTE1", "number": 170, "title": "Fix Windows local path. #169", "user": {"login": "zjzdy", "id": 10596496, "node_id": "MDQ6VXNlcjEwNTk2NDk2", "avatar_url": "https://avatars.githubusercontent.com/u/10596496?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zjzdy", "html_url": "https://github.com/zjzdy", "followers_url": "https://api.github.com/users/zjzdy/followers", "following_url": "https://api.github.com/users/zjzdy/following{/other_user}", "gists_url": "https://api.github.com/users/zjzdy/gists{/gist_id}", "starred_url": "https://api.github.com/users/zjzdy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zjzdy/subscriptions", "organizations_url": "https://api.github.com/users/zjzdy/orgs", "repos_url": "https://api.github.com/users/zjzdy/repos", "events_url": "https://api.github.com/users/zjzdy/events{/privacy}", "received_events_url": "https://api.github.com/users/zjzdy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-13T05:16:42Z", "updated_at": "2020-04-13T06:33:30Z", "closed_at": "2020-04-13T06:33:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/170", "html_url": "https://github.com/dpc/rdedup/pull/170", "diff_url": "https://github.com/dpc/rdedup/pull/170.diff", "patch_url": "https://github.com/dpc/rdedup/pull/170.patch", "merged_at": "2020-04-13T06:33:30Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/167", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/167/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/167/events", "html_url": "https://github.com/dpc/rdedup/pull/167", "id": 544732890, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU4NzgzMzYy", "number": 167, "title": "Added RDEDUP_PASSPHRASE_FILE env variable", "user": {"login": "misuzu", "id": 248143, "node_id": "MDQ6VXNlcjI0ODE0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/248143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/misuzu", "html_url": "https://github.com/misuzu", "followers_url": "https://api.github.com/users/misuzu/followers", "following_url": "https://api.github.com/users/misuzu/following{/other_user}", "gists_url": "https://api.github.com/users/misuzu/gists{/gist_id}", "starred_url": "https://api.github.com/users/misuzu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/misuzu/subscriptions", "organizations_url": "https://api.github.com/users/misuzu/orgs", "repos_url": "https://api.github.com/users/misuzu/repos", "events_url": "https://api.github.com/users/misuzu/events{/privacy}", "received_events_url": "https://api.github.com/users/misuzu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-02T20:25:45Z", "updated_at": "2020-01-14T19:45:54Z", "closed_at": "2020-01-03T00:09:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/167", "html_url": "https://github.com/dpc/rdedup/pull/167", "diff_url": "https://github.com/dpc/rdedup/pull/167.diff", "patch_url": "https://github.com/dpc/rdedup/pull/167.patch", "merged_at": "2020-01-03T00:09:34Z"}, "body": "A more secure alternative to ```RDEDUP_PASSPHRASE```.", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/167/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/165", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/165/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/165/events", "html_url": "https://github.com/dpc/rdedup/pull/165", "id": 544062382, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU4MjU2Mjcw", "number": 165, "title": "Bump crossbeam and rpassword version", "user": {"login": "aidanhs", "id": 1050652, "node_id": "MDQ6VXNlcjEwNTA2NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1050652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aidanhs", "html_url": "https://github.com/aidanhs", "followers_url": "https://api.github.com/users/aidanhs/followers", "following_url": "https://api.github.com/users/aidanhs/following{/other_user}", "gists_url": "https://api.github.com/users/aidanhs/gists{/gist_id}", "starred_url": "https://api.github.com/users/aidanhs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aidanhs/subscriptions", "organizations_url": "https://api.github.com/users/aidanhs/orgs", "repos_url": "https://api.github.com/users/aidanhs/repos", "events_url": "https://api.github.com/users/aidanhs/events{/privacy}", "received_events_url": "https://api.github.com/users/aidanhs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-31T01:48:51Z", "updated_at": "2019-12-31T13:45:35Z", "closed_at": "2019-12-31T03:57:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/165", "html_url": "https://github.com/dpc/rdedup/pull/165", "diff_url": "https://github.com/dpc/rdedup/pull/165.diff", "patch_url": "https://github.com/dpc/rdedup/pull/165.patch", "merged_at": "2019-12-31T03:57:48Z"}, "body": "**please review and merge https://github.com/dpc/rdedup/pull/164 first, as this is based on top**\r\n\r\nThis bumps the version of crossbeam, eliminating a redundant crossbeam-utils from the Cargo.lock.", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/165/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/164", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/164/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/164/events", "html_url": "https://github.com/dpc/rdedup/pull/164", "id": 544059468, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU4MjU0MzMz", "number": 164, "title": "Fix and simplify CI", "user": {"login": "aidanhs", "id": 1050652, "node_id": "MDQ6VXNlcjEwNTA2NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1050652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aidanhs", "html_url": "https://github.com/aidanhs", "followers_url": "https://api.github.com/users/aidanhs/followers", "following_url": "https://api.github.com/users/aidanhs/following{/other_user}", "gists_url": "https://api.github.com/users/aidanhs/gists{/gist_id}", "starred_url": "https://api.github.com/users/aidanhs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aidanhs/subscriptions", "organizations_url": "https://api.github.com/users/aidanhs/orgs", "repos_url": "https://api.github.com/users/aidanhs/repos", "events_url": "https://api.github.com/users/aidanhs/events{/privacy}", "received_events_url": "https://api.github.com/users/aidanhs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-31T01:29:19Z", "updated_at": "2019-12-31T13:45:42Z", "closed_at": "2019-12-31T03:57:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/164", "html_url": "https://github.com/dpc/rdedup/pull/164", "diff_url": "https://github.com/dpc/rdedup/pull/164.diff", "patch_url": "https://github.com/dpc/rdedup/pull/164.patch", "merged_at": "2019-12-31T03:57:07Z"}, "body": " - The build was broken because of the use of `--frozen` - this doesn't permit downloading anything at all. Instead I've migrated to use `--locked`, which instead ensures that the lockfile is already up to date\r\n - Per https://docs.travis-ci.com/user/job-lifecycle#breaking-the-build, a failure in `script` will not cause an immediate failure. This is undesirable (if you can't do the initial build, there's no point doing tests and it can cause confusing error messages) so I've consolidated it all into one\r\n - As part of this, I'm 80% sure that each `script` step is run in a separate shell, so `export` was redundant and not doing anything - I've eliminated it\r\n - I've consolidated `before_install` and `install` together, and removed a seemingly redundant step\r\n\r\nCI now passes, which it didn't before :smile:  - you can see my successful build at https://travis-ci.org/aidanhs/rdedup/builds/631141736", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/164/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/163", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/163/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/163/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/163/events", "html_url": "https://github.com/dpc/rdedup/pull/163", "id": 544035209, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU4MjM1NjE2", "number": 163, "title": "Fix default feature opt-out, fix rdedup lib docs link", "user": {"login": "aidanhs", "id": 1050652, "node_id": "MDQ6VXNlcjEwNTA2NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1050652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aidanhs", "html_url": "https://github.com/aidanhs", "followers_url": "https://api.github.com/users/aidanhs/followers", "following_url": "https://api.github.com/users/aidanhs/following{/other_user}", "gists_url": "https://api.github.com/users/aidanhs/gists{/gist_id}", "starred_url": "https://api.github.com/users/aidanhs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aidanhs/subscriptions", "organizations_url": "https://api.github.com/users/aidanhs/orgs", "repos_url": "https://api.github.com/users/aidanhs/repos", "events_url": "https://api.github.com/users/aidanhs/events{/privacy}", "received_events_url": "https://api.github.com/users/aidanhs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-30T22:54:57Z", "updated_at": "2019-12-31T00:08:16Z", "closed_at": "2019-12-30T22:59:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/163", "html_url": "https://github.com/dpc/rdedup/pull/163", "diff_url": "https://github.com/dpc/rdedup/pull/163.diff", "patch_url": "https://github.com/dpc/rdedup/pull/163.patch", "merged_at": "2019-12-30T22:59:14Z"}, "body": "Previously opting out of rdedup features wouldn't do anything because rdedup-lib was depended on with default features.\r\n\r\nThis allows people building rdedup itself to use `--no-default-features`, which then correctly propagates to rdedup-lib.\r\n\r\nThis does not affect the default build of rdedup.", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/163/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/162", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/162/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/162/events", "html_url": "https://github.com/dpc/rdedup/pull/162", "id": 544034790, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU4MjM1MjYw", "number": 162, "title": "Bump libsodium so it's now bundled with -sys crate", "user": {"login": "aidanhs", "id": 1050652, "node_id": "MDQ6VXNlcjEwNTA2NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1050652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aidanhs", "html_url": "https://github.com/aidanhs", "followers_url": "https://api.github.com/users/aidanhs/followers", "following_url": "https://api.github.com/users/aidanhs/following{/other_user}", "gists_url": "https://api.github.com/users/aidanhs/gists{/gist_id}", "starred_url": "https://api.github.com/users/aidanhs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aidanhs/subscriptions", "organizations_url": "https://api.github.com/users/aidanhs/orgs", "repos_url": "https://api.github.com/users/aidanhs/repos", "events_url": "https://api.github.com/users/aidanhs/events{/privacy}", "received_events_url": "https://api.github.com/users/aidanhs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-30T22:52:29Z", "updated_at": "2019-12-31T00:08:32Z", "closed_at": "2019-12-30T23:00:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/162", "html_url": "https://github.com/dpc/rdedup/pull/162", "diff_url": "https://github.com/dpc/rdedup/pull/162.diff", "patch_url": "https://github.com/dpc/rdedup/pull/162.patch", "merged_at": "2019-12-30T22:59:59Z"}, "body": "Means no need to install it ourselves any more, potentially fixing https://github.com/dpc/rdedup/issues/157 because the version bundled is known to be correct.\r\n\r\nAlso means no need for bindgen or clang in the build environment.", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/162/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/160", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/160/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/160/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/160/events", "html_url": "https://github.com/dpc/rdedup/pull/160", "id": 534534700, "node_id": "MDExOlB1bGxSZXF1ZXN0MzUwNDA3Mjc4", "number": 160, "title": "Fix deprecations and some general improvements", "user": {"login": "sandreas", "id": 2050604, "node_id": "MDQ6VXNlcjIwNTA2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2050604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandreas", "html_url": "https://github.com/sandreas", "followers_url": "https://api.github.com/users/sandreas/followers", "following_url": "https://api.github.com/users/sandreas/following{/other_user}", "gists_url": "https://api.github.com/users/sandreas/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandreas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandreas/subscriptions", "organizations_url": "https://api.github.com/users/sandreas/orgs", "repos_url": "https://api.github.com/users/sandreas/repos", "events_url": "https://api.github.com/users/sandreas/events{/privacy}", "received_events_url": "https://api.github.com/users/sandreas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-12-08T12:27:56Z", "updated_at": "2019-12-13T04:34:30Z", "closed_at": "2019-12-13T04:21:09Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/160", "html_url": "https://github.com/dpc/rdedup/pull/160", "diff_url": "https://github.com/dpc/rdedup/pull/160.diff", "patch_url": "https://github.com/dpc/rdedup/pull/160.patch", "merged_at": "2019-12-13T04:21:08Z"}, "body": "Thanks for this awesome project, I'm impressed. Would love to see more community activity here... Tried to improve some minor things reported by `cargo check` and *IntelliJ* in this pull request. Since I'm pretty new to rust, i hope i did not break anything....\r\n\r\nThis project is nearly exactly what i was looking for. One thing i would like to implement is a recursive file iterator to enable standalone usage (no `rdup` required) considering https://github.com/sharkdp/fd as a start. I have to find out how `rdup` and `rdup-up` exactly work, but what do you think about a wrapper around `&mut io::stdin()` to provide a reader that merges/redirects a possible input argument iterator AND all `stdin`? Like:\r\n\r\n```\r\n# still works\r\nrdup -x /dev/null \"$HOME\" | rdedup store home\r\nrdedup load home | rdup-up \"$HOME.restored\"\r\n\r\n# also works without rdup\r\nrdedup store home \"$HOME\"\r\nrdedup load home \"$HOME.restored\"\r\n```\r\n\r\nBefore doing so i have to read some more code and further rust docs first - this multithreading code is far from being easy to understand - but maybe i do not need to even touch many parts of the code to get the above working.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/160/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/159", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/159/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/159/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/159/events", "html_url": "https://github.com/dpc/rdedup/pull/159", "id": 493855061, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE3NzIyNzM0", "number": 159, "title": "Update README.md", "user": {"login": "fredeil", "id": 17533404, "node_id": "MDQ6VXNlcjE3NTMzNDA0", "avatar_url": "https://avatars.githubusercontent.com/u/17533404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredeil", "html_url": "https://github.com/fredeil", "followers_url": "https://api.github.com/users/fredeil/followers", "following_url": "https://api.github.com/users/fredeil/following{/other_user}", "gists_url": "https://api.github.com/users/fredeil/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredeil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredeil/subscriptions", "organizations_url": "https://api.github.com/users/fredeil/orgs", "repos_url": "https://api.github.com/users/fredeil/repos", "events_url": "https://api.github.com/users/fredeil/events{/privacy}", "received_events_url": "https://api.github.com/users/fredeil/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-16T05:34:42Z", "updated_at": "2019-09-16T05:37:10Z", "closed_at": "2019-09-16T05:37:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/159", "html_url": "https://github.com/dpc/rdedup/pull/159", "diff_url": "https://github.com/dpc/rdedup/pull/159.diff", "patch_url": "https://github.com/dpc/rdedup/pull/159.patch", "merged_at": "2019-09-16T05:37:05Z"}, "body": "Fix broken link", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/159/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/155", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/155/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/155/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/155/events", "html_url": "https://github.com/dpc/rdedup/pull/155", "id": 408527025, "node_id": "MDExOlB1bGxSZXF1ZXN0MjUxNzMzMzky", "number": 155, "title": "Cargo.lock: commit after rebuild", "user": {"login": "steveej", "id": 1181362, "node_id": "MDQ6VXNlcjExODEzNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1181362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveej", "html_url": "https://github.com/steveej", "followers_url": "https://api.github.com/users/steveej/followers", "following_url": "https://api.github.com/users/steveej/following{/other_user}", "gists_url": "https://api.github.com/users/steveej/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveej/subscriptions", "organizations_url": "https://api.github.com/users/steveej/orgs", "repos_url": "https://api.github.com/users/steveej/repos", "events_url": "https://api.github.com/users/steveej/events{/privacy}", "received_events_url": "https://api.github.com/users/steveej/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-02-10T11:47:11Z", "updated_at": "2019-02-10T17:57:20Z", "closed_at": "2019-02-10T17:30:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/155", "html_url": "https://github.com/dpc/rdedup/pull/155", "diff_url": "https://github.com/dpc/rdedup/pull/155.diff", "patch_url": "https://github.com/dpc/rdedup/pull/155.patch", "merged_at": "2019-02-10T17:30:25Z"}, "body": "This fixes building with `--frozen`.", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/155/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/dpc/rdedup/issues/154", "repository_url": "https://api.github.com/repos/dpc/rdedup", "labels_url": "https://api.github.com/repos/dpc/rdedup/issues/154/labels{/name}", "comments_url": "https://api.github.com/repos/dpc/rdedup/issues/154/comments", "events_url": "https://api.github.com/repos/dpc/rdedup/issues/154/events", "html_url": "https://github.com/dpc/rdedup/pull/154", "id": 408526666, "node_id": "MDExOlB1bGxSZXF1ZXN0MjUxNzMzMTUw", "number": 154, "title": "shell.nix: fix openssl, export env vars, refactor", "user": {"login": "steveej", "id": 1181362, "node_id": "MDQ6VXNlcjExODEzNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1181362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveej", "html_url": "https://github.com/steveej", "followers_url": "https://api.github.com/users/steveej/followers", "following_url": "https://api.github.com/users/steveej/following{/other_user}", "gists_url": "https://api.github.com/users/steveej/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveej/subscriptions", "organizations_url": "https://api.github.com/users/steveej/orgs", "repos_url": "https://api.github.com/users/steveej/repos", "events_url": "https://api.github.com/users/steveej/events{/privacy}", "received_events_url": "https://api.github.com/users/steveej/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-10T11:42:04Z", "updated_at": "2019-02-10T17:59:57Z", "closed_at": "2019-02-10T17:31:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/dpc/rdedup/pulls/154", "html_url": "https://github.com/dpc/rdedup/pull/154", "diff_url": "https://github.com/dpc/rdedup/pull/154.diff", "patch_url": "https://github.com/dpc/rdedup/pull/154.patch", "merged_at": "2019-02-10T17:31:07Z"}, "body": "I encountered some errors trying to build this using direnv and Nix.\r\n\r\n```console\r\n$ cargo build\r\n(...)\r\nerror: failed to run custom build command for `rust-lzma v0.2.1`\r\nprocess didn't exit successfully: `/home/steveej/src/others/rdedup/target/debug/build/rust-lzma-5d3b1f2545b5a696/build-script-build` (exit code: 101)\r\n--- stderr\r\nthread 'main' panicked at 'Could not find liblzma using pkg-config', /home/steveej/.cargo/registry/src/github.com-1ecc6299db9ec823/rust-lzma-0.2.1/build.rs:10:3\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n```\r\n\r\nAfter exporting the variables I was still left with this error about openssl not found:\r\n\r\n```console\r\n$ cargo build\r\n   Compiling openssl-sys v0.9.40\r\n   Compiling idna v0.1.5\r\n   Compiling atty v0.2.11\r\n   Compiling which v1.0.5\r\n   Compiling rand v0.4.2\r\n   Compiling num_cpus v1.8.0\r\n   Compiling rand v0.5.4\r\n   Compiling time v0.1.40\r\nerror: failed to run custom build command for `openssl-sys v0.9.40`\r\nprocess didn't exit successfully: `/home/steveej/src/others/rdedup/target/debug/build/openssl-sys-29710816a9b93766/build-script-main` (exit code: 101)\r\n--- stdout\r\ncargo:rerun-if-env-changed=X86_64_UNKNOWN_LINUX_GNU_OPENSSL_LIB_DIR\r\ncargo:rerun-if-env-changed=OPENSSL_LIB_DIR\r\ncargo:rerun-if-env-changed=X86_64_UNKNOWN_LINUX_GNU_OPENSSL_INCLUDE_DIR\r\ncargo:rerun-if-env-changed=OPENSSL_INCLUDE_DIR\r\ncargo:rerun-if-env-changed=X86_64_UNKNOWN_LINUX_GNU_OPENSSL_DIR\r\ncargo:rerun-if-env-changed=OPENSSL_DIR\r\nrun pkg_config fail: \"`\\\"pkg-config\\\" \\\"--libs\\\" \\\"--cflags\\\" \\\"openssl\\\"` did not exit successfully: exit code: 1\\n--- stderr\\nPackage openssl was not found in the pkg-config search path.\\nPerhaps you should add the directory containing `openssl.pc\\'\\nto the PKG_CONFIG_PATH environment variable\\nNo package \\'openssl\\' found\\n\"\r\n\r\n--- stderr\r\nthread 'main' panicked at '\r\n\r\nCould not find directory of OpenSSL installation, and this `-sys` crate cannot\r\nproceed without this knowledge. If OpenSSL is installed and this crate had\r\ntrouble finding it,  you can set the `OPENSSL_DIR` environment variable for the\r\ncompilation process.\r\n\r\nMake sure you also have the development packages of openssl installed.\r\nFor example, `libssl-dev` on Ubuntu or `openssl-devel` on Fedora.\r\n\r\nIf you're in a situation where you think the directory *should* be found\r\nautomatically, please open a bug at https://github.com/sfackler/rust-openssl\r\nand include information about your system as well as this message.\r\n\r\n    $HOST = x86_64-unknown-linux-gnu\r\n    $TARGET = x86_64-unknown-linux-gnu\r\n    openssl-sys = 0.9.40\r\n\r\n', /home/steveej/.cargo/registry/src/github.com-1ecc6299db9ec823/openssl-sys-0.9.40/build/main.rs:269:9\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n\r\nwarning: build failed, waiting for other jobs to finish...\r\n```\r\n\r\nUsing `openssl.dev` instead of `openssl` fixed this for me.", "reactions": {"url": "https://api.github.com/repos/dpc/rdedup/issues/154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/dpc/rdedup/issues/154/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]