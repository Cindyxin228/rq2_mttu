[{"url": "https://api.github.com/repos/wravery/webview2-rs/issues/8", "repository_url": "https://api.github.com/repos/wravery/webview2-rs", "labels_url": "https://api.github.com/repos/wravery/webview2-rs/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/wravery/webview2-rs/issues/8/comments", "events_url": "https://api.github.com/repos/wravery/webview2-rs/issues/8/events", "html_url": "https://github.com/wravery/webview2-rs/pull/8", "id": 1242178161, "node_id": "PR_kwDOGAu3I844JB-Z", "number": 8, "title": "Update to windows-rs 0.37.0 now that rustc 1.61 is stable", "user": {"login": "wravery", "id": 6502881, "node_id": "MDQ6VXNlcjY1MDI4ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/6502881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wravery", "html_url": "https://github.com/wravery", "followers_url": "https://api.github.com/users/wravery/followers", "following_url": "https://api.github.com/users/wravery/following{/other_user}", "gists_url": "https://api.github.com/users/wravery/gists{/gist_id}", "starred_url": "https://api.github.com/users/wravery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wravery/subscriptions", "organizations_url": "https://api.github.com/users/wravery/orgs", "repos_url": "https://api.github.com/users/wravery/repos", "events_url": "https://api.github.com/users/wravery/events{/privacy}", "received_events_url": "https://api.github.com/users/wravery/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-19T18:44:52Z", "updated_at": "2022-05-19T19:26:09Z", "closed_at": "2022-05-19T19:26:04Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/wravery/webview2-rs/pulls/8", "html_url": "https://github.com/wravery/webview2-rs/pull/8", "diff_url": "https://github.com/wravery/webview2-rs/pull/8.diff", "patch_url": "https://github.com/wravery/webview2-rs/pull/8.patch", "merged_at": "2022-05-19T19:26:04Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/wravery/webview2-rs/issues/8/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/wravery/webview2-rs/issues/8/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/wravery/webview2-rs/issues/6", "repository_url": "https://api.github.com/repos/wravery/webview2-rs", "labels_url": "https://api.github.com/repos/wravery/webview2-rs/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/wravery/webview2-rs/issues/6/comments", "events_url": "https://api.github.com/repos/wravery/webview2-rs/issues/6/events", "html_url": "https://github.com/wravery/webview2-rs/pull/6", "id": 1129216292, "node_id": "PR_kwDOGAu3I84yVgpj", "number": 6, "title": "Add support for cross-compilation and  *-pc-windows-gnu targets", "user": {"login": "wravery", "id": 6502881, "node_id": "MDQ6VXNlcjY1MDI4ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/6502881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wravery", "html_url": "https://github.com/wravery", "followers_url": "https://api.github.com/users/wravery/followers", "following_url": "https://api.github.com/users/wravery/following{/other_user}", "gists_url": "https://api.github.com/users/wravery/gists{/gist_id}", "starred_url": "https://api.github.com/users/wravery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wravery/subscriptions", "organizations_url": "https://api.github.com/users/wravery/orgs", "repos_url": "https://api.github.com/users/wravery/repos", "events_url": "https://api.github.com/users/wravery/events{/privacy}", "received_events_url": "https://api.github.com/users/wravery/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-09T23:55:11Z", "updated_at": "2022-02-10T00:12:05Z", "closed_at": "2022-02-10T00:12:00Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/wravery/webview2-rs/pulls/6", "html_url": "https://github.com/wravery/webview2-rs/pull/6", "diff_url": "https://github.com/wravery/webview2-rs/pull/6.diff", "patch_url": "https://github.com/wravery/webview2-rs/pull/6.patch", "merged_at": "2022-02-10T00:12:00Z"}, "body": "Cross-compilation needs to use `mono` to run the `nuget.exe` CLI tool and download the WebView2 SDK to the output directory. Now that there's support for that, the binaries no longer need to be committed to the repo, the build script can do it every time, as long as `mono` is installed. If `mono` is not installed, the build script will show an error (with `panic!`) indicating that it needs `mono` to run `nuget.exe`.\r\n\r\nThe `*-pc-windows-msvc` targets support linking against the `WebView2LoaderStatic.lib` static library, but the `*-pc-windows-gnu` targets used in most cross-compilation scenarios need to link to the `WebView2Loader.dll` DLL with the `WebView2Loader.dll.lib` import library. To get this working, I had to patch the generated bindings and replace the `#[link(...)]` attributes with different versions wrapped in `#[cfg_attr(...)]` for `target = \"msvc\"` and `not(target = \"msvc\")`.\r\n\r\nNow that every host system is expected to run `nuget.exe`, there's no more reason to copy the binaries to the `.windows/` directory. Adding the path from the NuGet package installation under `target/` to `cargo:rustc-link-search` in the build script automatically adds it to the DLL search path when you run a test or example through `cargo`. This should also apply to consumers of `webview2-com`. ", "reactions": {"url": "https://api.github.com/repos/wravery/webview2-rs/issues/6/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/wravery/webview2-rs/issues/6/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/wravery/webview2-rs/issues/4", "repository_url": "https://api.github.com/repos/wravery/webview2-rs", "labels_url": "https://api.github.com/repos/wravery/webview2-rs/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/wravery/webview2-rs/issues/4/comments", "events_url": "https://api.github.com/repos/wravery/webview2-rs/issues/4/events", "html_url": "https://github.com/wravery/webview2-rs/pull/4", "id": 1125208587, "node_id": "PR_kwDOGAu3I84yIcXX", "number": 4, "title": "fix(webview2-com-sys): add source on nuget CLI usage, halt on error", "user": {"login": "lucasfernog", "id": 20051258, "node_id": "MDQ6VXNlcjIwMDUxMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/20051258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucasfernog", "html_url": "https://github.com/lucasfernog", "followers_url": "https://api.github.com/users/lucasfernog/followers", "following_url": "https://api.github.com/users/lucasfernog/following{/other_user}", "gists_url": "https://api.github.com/users/lucasfernog/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucasfernog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucasfernog/subscriptions", "organizations_url": "https://api.github.com/users/lucasfernog/orgs", "repos_url": "https://api.github.com/users/lucasfernog/repos", "events_url": "https://api.github.com/users/lucasfernog/events{/privacy}", "received_events_url": "https://api.github.com/users/lucasfernog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-06T13:49:19Z", "updated_at": "2022-02-06T20:15:30Z", "closed_at": "2022-02-06T18:33:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/wravery/webview2-rs/pulls/4", "html_url": "https://github.com/wravery/webview2-rs/pull/4", "diff_url": "https://github.com/wravery/webview2-rs/pull/4.diff", "patch_url": "https://github.com/wravery/webview2-rs/pull/4.patch", "merged_at": "2022-02-06T18:33:44Z"}, "body": "On Windows, sometimes the Nuget configuration is not set so the CLI fails without a source to load a packag. We're seeing this issue oftenly at Tauri, and even had to start our [FAQ](https://tauri.studio/docs/faq) with a way to troubleshoot this issue. I believe this happened to almost 10 users.\r\n\r\nThis PR changes the build script to exit if the nuget installation fails, showing the CLI output to help users find the problem.", "reactions": {"url": "https://api.github.com/repos/wravery/webview2-rs/issues/4/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/wravery/webview2-rs/issues/4/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]