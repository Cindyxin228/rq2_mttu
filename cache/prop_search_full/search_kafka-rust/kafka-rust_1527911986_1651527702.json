[{"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/203", "repository_url": "https://api.github.com/repos/kafka-rust/kafka-rust", "labels_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/203/labels{/name}", "comments_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/203/comments", "events_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/203/events", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/203", "id": 1160642070, "node_id": "PR_kwDOAhmfds40AQWB", "number": 203, "title": "Depency upgrade & Minor refactorings", "user": {"login": "midnightexigent", "id": 36641328, "node_id": "MDQ6VXNlcjM2NjQxMzI4", "avatar_url": "https://avatars.githubusercontent.com/u/36641328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midnightexigent", "html_url": "https://github.com/midnightexigent", "followers_url": "https://api.github.com/users/midnightexigent/followers", "following_url": "https://api.github.com/users/midnightexigent/following{/other_user}", "gists_url": "https://api.github.com/users/midnightexigent/gists{/gist_id}", "starred_url": "https://api.github.com/users/midnightexigent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midnightexigent/subscriptions", "organizations_url": "https://api.github.com/users/midnightexigent/orgs", "repos_url": "https://api.github.com/users/midnightexigent/repos", "events_url": "https://api.github.com/users/midnightexigent/events{/privacy}", "received_events_url": "https://api.github.com/users/midnightexigent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-06T15:39:52Z", "updated_at": "2022-04-28T18:53:28Z", "closed_at": "2022-04-28T18:53:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/pulls/203", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/203", "diff_url": "https://github.com/kafka-rust/kafka-rust/pull/203.diff", "patch_url": "https://github.com/kafka-rust/kafka-rust/pull/203.patch", "merged_at": "2022-04-28T18:53:28Z"}, "body": "Hi, I see that the status of the project is \r\n\r\n> This project is starting to be maintained by John Ward, the current status is that I am bringing the project up to date with the latest dependencies, removing deprecated Rust code and adjusting the tests\r\n\r\nI made some adjustments towards that goal, notably, upgraded the dependencies, replaced the deprecated `error_chain` with `thiserror`, `log` with `tracing` and made `cargo-clippy` happy\r\n\r\nThis is a draft, for now, all of the integration tests and examples don't work due to breaking api changes", "reactions": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/203/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/203/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/201", "repository_url": "https://api.github.com/repos/kafka-rust/kafka-rust", "labels_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/201/comments", "events_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/201/events", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/201", "id": 978404354, "node_id": "MDExOlB1bGxSZXF1ZXN0NzE4OTk3MDkz", "number": 201, "title": "bump deps", "user": {"login": "tshepang", "id": 588486, "node_id": "MDQ6VXNlcjU4ODQ4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/588486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tshepang", "html_url": "https://github.com/tshepang", "followers_url": "https://api.github.com/users/tshepang/followers", "following_url": "https://api.github.com/users/tshepang/following{/other_user}", "gists_url": "https://api.github.com/users/tshepang/gists{/gist_id}", "starred_url": "https://api.github.com/users/tshepang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tshepang/subscriptions", "organizations_url": "https://api.github.com/users/tshepang/orgs", "repos_url": "https://api.github.com/users/tshepang/repos", "events_url": "https://api.github.com/users/tshepang/events{/privacy}", "received_events_url": "https://api.github.com/users/tshepang/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-24T19:12:42Z", "updated_at": "2021-10-27T21:19:21Z", "closed_at": "2021-10-27T14:46:54Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/pulls/201", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/201", "diff_url": "https://github.com/kafka-rust/kafka-rust/pull/201.diff", "patch_url": "https://github.com/kafka-rust/kafka-rust/pull/201.patch", "merged_at": "2021-10-27T14:46:54Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/201/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/200", "repository_url": "https://api.github.com/repos/kafka-rust/kafka-rust", "labels_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/200/comments", "events_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/200/events", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/200", "id": 965682446, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA3OTc4NzUw", "number": 200, "title": "use automatic tooling to modernise codebase", "user": {"login": "tshepang", "id": 588486, "node_id": "MDQ6VXNlcjU4ODQ4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/588486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tshepang", "html_url": "https://github.com/tshepang", "followers_url": "https://api.github.com/users/tshepang/followers", "following_url": "https://api.github.com/users/tshepang/following{/other_user}", "gists_url": "https://api.github.com/users/tshepang/gists{/gist_id}", "starred_url": "https://api.github.com/users/tshepang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tshepang/subscriptions", "organizations_url": "https://api.github.com/users/tshepang/orgs", "repos_url": "https://api.github.com/users/tshepang/repos", "events_url": "https://api.github.com/users/tshepang/events{/privacy}", "received_events_url": "https://api.github.com/users/tshepang/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-11T01:41:34Z", "updated_at": "2021-08-24T18:34:42Z", "closed_at": "2021-08-24T10:13:36Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/pulls/200", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/200", "diff_url": "https://github.com/kafka-rust/kafka-rust/pull/200.diff", "patch_url": "https://github.com/kafka-rust/kafka-rust/pull/200.patch", "merged_at": "2021-08-24T10:13:36Z"}, "body": "This is a redone #173, but:\r\n\r\n- There remains build warnings\r\n- Dependencies are not updated\r\n\r\nAm thinking those can be done in follow-up PRs... this one is already large enough.", "reactions": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/200/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/196", "repository_url": "https://api.github.com/repos/kafka-rust/kafka-rust", "labels_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/196/comments", "events_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/196/events", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/196", "id": 839329343, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk5MzYxMzc5", "number": 196, "title": "Fix tests", "user": {"login": "dead10ck", "id": 846275, "node_id": "MDQ6VXNlcjg0NjI3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/846275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dead10ck", "html_url": "https://github.com/dead10ck", "followers_url": "https://api.github.com/users/dead10ck/followers", "following_url": "https://api.github.com/users/dead10ck/following{/other_user}", "gists_url": "https://api.github.com/users/dead10ck/gists{/gist_id}", "starred_url": "https://api.github.com/users/dead10ck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dead10ck/subscriptions", "organizations_url": "https://api.github.com/users/dead10ck/orgs", "repos_url": "https://api.github.com/users/dead10ck/repos", "events_url": "https://api.github.com/users/dead10ck/events{/privacy}", "received_events_url": "https://api.github.com/users/dead10ck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-24T04:18:59Z", "updated_at": "2021-06-27T19:11:44Z", "closed_at": "2021-06-27T19:11:29Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/pulls/196", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/196", "diff_url": "https://github.com/kafka-rust/kafka-rust/pull/196.diff", "patch_url": "https://github.com/kafka-rust/kafka-rust/pull/196.patch", "merged_at": "2021-06-27T19:11:29Z"}, "body": "* Fixes integration tests on newer versions of openssl that have stricter defaults by setting the security level to 0. This is okay as this is just a dummy key in memory that is only meant to test the mechanics of whether encryption and decryption work.\r\n* I made a Docker Hub free account to get around the rate limiting problem and put a token in the environment variables in Travis. I added back the full matrix of tests.\r\n\r\n@johnward could you test this locally for me and verify if this fixes the issue for you too?", "reactions": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/196/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/180", "repository_url": "https://api.github.com/repos/kafka-rust/kafka-rust", "labels_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/180/comments", "events_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/180/events", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/180", "id": 583935594, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwNjA4MTIw", "number": 180, "title": "Mutable producer underlying client", "user": {"login": "scirner22", "id": 541726, "node_id": "MDQ6VXNlcjU0MTcyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/541726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scirner22", "html_url": "https://github.com/scirner22", "followers_url": "https://api.github.com/users/scirner22/followers", "following_url": "https://api.github.com/users/scirner22/following{/other_user}", "gists_url": "https://api.github.com/users/scirner22/gists{/gist_id}", "starred_url": "https://api.github.com/users/scirner22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scirner22/subscriptions", "organizations_url": "https://api.github.com/users/scirner22/orgs", "repos_url": "https://api.github.com/users/scirner22/repos", "events_url": "https://api.github.com/users/scirner22/events{/privacy}", "received_events_url": "https://api.github.com/users/scirner22/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-18T18:51:36Z", "updated_at": "2021-08-10T07:05:04Z", "closed_at": "2021-08-10T07:05:04Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/pulls/180", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/180", "diff_url": "https://github.com/kafka-rust/kafka-rust/pull/180.diff", "patch_url": "https://github.com/kafka-rust/kafka-rust/pull/180.patch", "merged_at": "2021-08-10T07:05:03Z"}, "body": "Adds a function to kafka producer to get the underlying client as mutable.\r\n\r\nFor the same reasons that were specified here: https://github.com/spicavigo/kafka-rust/pull/160. I need to be able to reload metadata on certain error types.", "reactions": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/180/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/176", "repository_url": "https://api.github.com/repos/kafka-rust/kafka-rust", "labels_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/176/comments", "events_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/176/events", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/176", "id": 502365407, "node_id": "MDExOlB1bGxSZXF1ZXN0MzI0NDYzNzA1", "number": 176, "title": "Correct the usage of kafka-topics.sh", "user": {"login": "msk", "id": 19195, "node_id": "MDQ6VXNlcjE5MTk1", "avatar_url": "https://avatars.githubusercontent.com/u/19195?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msk", "html_url": "https://github.com/msk", "followers_url": "https://api.github.com/users/msk/followers", "following_url": "https://api.github.com/users/msk/following{/other_user}", "gists_url": "https://api.github.com/users/msk/gists{/gist_id}", "starred_url": "https://api.github.com/users/msk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msk/subscriptions", "organizations_url": "https://api.github.com/users/msk/orgs", "repos_url": "https://api.github.com/users/msk/repos", "events_url": "https://api.github.com/users/msk/events{/privacy}", "received_events_url": "https://api.github.com/users/msk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-04T00:36:12Z", "updated_at": "2020-08-01T19:40:16Z", "closed_at": "2020-08-01T18:43:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/pulls/176", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/176", "diff_url": "https://github.com/kafka-rust/kafka-rust/pull/176.diff", "patch_url": "https://github.com/kafka-rust/kafka-rust/pull/176.patch", "merged_at": "2020-08-01T18:43:53Z"}, "body": "The option for the number of partitions is `--partitions`, not\r\n`--partition`.", "reactions": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/176/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/175", "repository_url": "https://api.github.com/repos/kafka-rust/kafka-rust", "labels_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/175/comments", "events_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/175/events", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/175", "id": 493005232, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE3MDY5MTQ4", "number": 175, "title": "Update README.md", "user": {"login": "humb1t", "id": 5635032, "node_id": "MDQ6VXNlcjU2MzUwMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5635032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/humb1t", "html_url": "https://github.com/humb1t", "followers_url": "https://api.github.com/users/humb1t/followers", "following_url": "https://api.github.com/users/humb1t/following{/other_user}", "gists_url": "https://api.github.com/users/humb1t/gists{/gist_id}", "starred_url": "https://api.github.com/users/humb1t/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/humb1t/subscriptions", "organizations_url": "https://api.github.com/users/humb1t/orgs", "repos_url": "https://api.github.com/users/humb1t/repos", "events_url": "https://api.github.com/users/humb1t/events{/privacy}", "received_events_url": "https://api.github.com/users/humb1t/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-12T20:10:27Z", "updated_at": "2019-09-15T21:14:57Z", "closed_at": "2019-09-15T21:14:57Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/pulls/175", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/175", "diff_url": "https://github.com/kafka-rust/kafka-rust/pull/175.diff", "patch_url": "https://github.com/kafka-rust/kafka-rust/pull/175.patch", "merged_at": "2019-09-15T21:14:57Z"}, "body": "Version bumped to 0.8", "reactions": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/162", "repository_url": "https://api.github.com/repos/kafka-rust/kafka-rust", "labels_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/162/comments", "events_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/162/events", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/162", "id": 273098149, "node_id": "MDExOlB1bGxSZXF1ZXN0MTUyMDMwNDc1", "number": 162, "title": "Perform all tests under various compression and security settings", "user": {"login": "dead10ck", "id": 846275, "node_id": "MDQ6VXNlcjg0NjI3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/846275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dead10ck", "html_url": "https://github.com/dead10ck", "followers_url": "https://api.github.com/users/dead10ck/followers", "following_url": "https://api.github.com/users/dead10ck/following{/other_user}", "gists_url": "https://api.github.com/users/dead10ck/gists{/gist_id}", "starred_url": "https://api.github.com/users/dead10ck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dead10ck/subscriptions", "organizations_url": "https://api.github.com/users/dead10ck/orgs", "repos_url": "https://api.github.com/users/dead10ck/repos", "events_url": "https://api.github.com/users/dead10ck/events{/privacy}", "received_events_url": "https://api.github.com/users/dead10ck/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-11T00:34:00Z", "updated_at": "2019-09-10T21:52:37Z", "closed_at": "2019-09-10T21:52:37Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/pulls/162", "html_url": "https://github.com/kafka-rust/kafka-rust/pull/162", "diff_url": "https://github.com/kafka-rust/kafka-rust/pull/162.diff", "patch_url": "https://github.com/kafka-rust/kafka-rust/pull/162.patch", "merged_at": "2019-09-10T21:52:37Z"}, "body": "This changes the integration testing framework to be able to run the entire test suite with all combinations of client settings for compression and security. This essentially makes sure that plaintext clients perform functionally identically to clients that are configured with compression, SSL, or any combination thereof.\r\n\r\nSecurity settings are very bare. It does not do CA nor host verification, and does not do authentication. It generates a new random RSA key pair every time a client is constructed. The intended purpose is simply to ensure that TLS transport works.\r\n\r\nThis has the side effect of blowing up the number of Travis jobs, so to mitigate this, I removed nightly from the Travis settings. I figure aren't targeting any specific non-stable Rust features, so I'm not sure that testing against nightly is necessary. Feel free to object to this, if you think we still should test against nightly.\r\n\r\n## wurstmeister woes\r\n\r\nUnfortunately, the author of the pre-packaged Kafka Docker images I was using does not maintain his older versions of Kafka very well. Some issues I ran into were:\r\n\r\n* [Multi-broker setup does not work](https://github.com/wurstmeister/kafka-docker/pull/160)\r\n* The 0.8 image ignores the advertised port setting\r\n* The images don't provide an easy way to set up SSL key pairs for running brokers with SSL, so one would have to resort to hacks like manually changing the `CMD` of the image in the `docker-compose.yml` file\u2014which would *also* necessitate further hacks like having two different Compose services: one that is configured securely, and another that is not. I actually did this at first, but then I ran into the following bullet point.\r\n* [0.9 somehow doesn't have the JDK's `keytool` utility installed](https://github.com/wurstmeister/kafka-docker/issues/231), so setting up a certificate for testing SSL was impossible\r\n\r\nFor these reasons, I found it necessary to just manage our own Docker images for Kafka. I did this by just copying the `wurstmeister/kafka-docker` repo and ripping out a lot of the stuff that is unnecessary for our purposes.\r\n\r\n## The rest of the story\r\n\r\nAt this point, I think the integration testing is in a semi-satisfactory place. The only major thing left I'd like to do is setting this up with multiple brokers. In that case, we'll have the capability of testing issues like #81\u2014and maybe, possibly, be able to set up integration tests for broker failures.\r\n\r\nBut my overall goal in improving the integration testing story here was to enable safer changes to the code around core functionality, and I think I've gotten it to a point now where I'd feel comfortable making changes like adding support for newer API versions, and adding asynchronous requests. During this whole process, I've learned a lot about the code base, and these are some of my general thoughts. I'll probably collect some of them into individual issues at some point, but I thought you might be interested to see some of my rough thoughts.\r\n\r\n## Notes\r\n### Fix\r\n* It should support the newer data formats from newer API versions. It's currently stuck on version 0 of every API query. This will be difficult to do while keeping a sane API.\r\n\r\n* `fetch_messages_for_partition` does not seem to do what its stated intention is. It fetches a single message with a topic, message, and offset, but its documentation and name suggest that it is supposed to fetch all messages for a partition (this doesn't even really make sense\u2014 why do this?). Should probably be changed to reflect that it only fetches one single message.\r\n\r\n* `Consumer::commit_message` should take a Message, instead of arbitrary numbers.  It appears that it checks for a valid topic, but not a valid partition, so it would just put a non-existent partition into the consumer state.\r\n\r\n### API Improvements\r\n\r\n* Make a separate config struct for the KafkaClient. There is unlikely to be any need to chnage this configuration on-the-fly at runtime, and it makes it hard to pick out configuration from functionality in the API.\r\n* Make type aliases for the various Kafka protocol fields, like commit, offset, etc.\r\n* `KafkaClient::fetch_offsets` return type should change from\r\n\r\n  `Result<HashMap<String, Vec<PartitionOffset>>>`\r\n\r\n  to\r\n\r\n  `Result<HashMap<String, HashMap<Partition, Offset>>>`\r\n  \r\n  It's almost useless as a PartitionOffset struct, since you'll likely have to munge it into the above shape before being able to use it anyway.\r\n\r\n* `KafkaConsumer::poll` needs to have a timeout option\r\n* `consumer::builder::new` -> `pub(crate) consumer::builder::Builder::new`\r\n\r\n### Support newer API versions from the protocol\r\n\r\n* Maybe there can be one struct for each version, i.e.,\r\n  * `ProduceRequestV0`\r\n  * `ProduceResponseV0`\r\n  * `ProduceRequestV1`\r\n  * `ProduceResponseV1`\r\n  * ...\r\n\r\n  and all of these can be variants inside a wrapper enum like:\r\n\r\n  ```rust\r\n  enum ProduceRequest {\r\n      V0(ProduceRequestV0),\r\n      V1(ProduceRequestV1),\r\n      ...\r\n  }\r\n  ```\r\n  * Maybe this can be supported by a trait something like:\r\n\r\n    ```rust\r\n    trait IntoRequest {\r\n        type M: MessageToSend;\r\n        type R: RequestType;\r\n\r\n        fn into_request(api_version: i64, message: M) -> R;\r\n    }\r\n    ```\r\n\r\n    where perhaps `MessageToSend` and `RequestType` can be marker traits:\r\n\r\n    ```rust\r\n    trait Request: ToBytes;\r\n    trait Response: FromBytes;\r\n\r\n    impl Request for ProduceRequest {};\r\n    impl Response for ProduceResponse {};\r\n    ```", "reactions": {"url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kafka-rust/kafka-rust/issues/162/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]