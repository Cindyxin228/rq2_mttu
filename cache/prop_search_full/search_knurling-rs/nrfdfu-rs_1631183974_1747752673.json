[{"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/27", "repository_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs", "labels_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/27/comments", "events_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/27/events", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/27", "id": 3076862800, "node_id": "PR_kwDOFPOqz86W4jLa", "number": 27, "title": "serialport: Disable udev dependency", "user": {"login": "chrysn", "id": 442326, "node_id": "MDQ6VXNlcjQ0MjMyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/442326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrysn", "html_url": "https://github.com/chrysn", "followers_url": "https://api.github.com/users/chrysn/followers", "following_url": "https://api.github.com/users/chrysn/following{/other_user}", "gists_url": "https://api.github.com/users/chrysn/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrysn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrysn/subscriptions", "organizations_url": "https://api.github.com/users/chrysn/orgs", "repos_url": "https://api.github.com/users/chrysn/repos", "events_url": "https://api.github.com/users/chrysn/events{/privacy}", "received_events_url": "https://api.github.com/users/chrysn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-05-20T12:32:28Z", "updated_at": "2025-05-20T12:49:46Z", "closed_at": "2025-05-20T12:43:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/pulls/27", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/27", "diff_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/27.diff", "patch_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/27.patch", "merged_at": "2025-05-20T12:43:39Z"}, "body": "This affects only Linux and \"won't expose as much information and may return ports that don't exist physically\", but it does expose VID/PID and serial number, and the nonexisting devices should not affect USB either.\r\n\r\n---\r\n\r\nThe reason to do this is to cut build dependencies. (The underlying effort in serialport was [done](https://github.com/serialport/serialport-rs/pull/220) for probe-rs for the benefit of not pulling libudev as a build dependency in there).\r\n\r\nIn theory this might speed up builds, but my timings vary too much to say whether the speedup is significant.", "reactions": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/27/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/27/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/26", "repository_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs", "labels_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/26/comments", "events_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/26/events", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/26", "id": 3076441969, "node_id": "PR_kwDOFPOqz86W3JUY", "number": 26, "title": "Add buffering to serial input", "user": {"login": "jonathanpallant", "id": 18005923, "node_id": "MDQ6VXNlcjE4MDA1OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/18005923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanpallant", "html_url": "https://github.com/jonathanpallant", "followers_url": "https://api.github.com/users/jonathanpallant/followers", "following_url": "https://api.github.com/users/jonathanpallant/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanpallant/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanpallant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanpallant/subscriptions", "organizations_url": "https://api.github.com/users/jonathanpallant/orgs", "repos_url": "https://api.github.com/users/jonathanpallant/repos", "events_url": "https://api.github.com/users/jonathanpallant/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanpallant/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-05-20T10:03:11Z", "updated_at": "2025-05-20T12:32:13Z", "closed_at": "2025-05-20T12:32:12Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/pulls/26", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/26", "diff_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/26.diff", "patch_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/26.patch", "merged_at": "2025-05-20T12:32:12Z"}, "body": "clippy points out that iterating over bytes (with `.bytes()`) on a plain `impl io::Read` is expensive because each byte will be a sys call.\r\n\r\nIn benchmarks it makes basically no difference, because we read so little back from the device, but sure - why not.\r\n", "reactions": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/26/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/26/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/25", "repository_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs", "labels_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/25/comments", "events_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/25/events", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/25", "id": 3076432251, "node_id": "PR_kwDOFPOqz86W3Hp2", "number": 25, "title": "Release v0.2.0", "user": {"login": "jonathanpallant", "id": 18005923, "node_id": "MDQ6VXNlcjE4MDA1OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/18005923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanpallant", "html_url": "https://github.com/jonathanpallant", "followers_url": "https://api.github.com/users/jonathanpallant/followers", "following_url": "https://api.github.com/users/jonathanpallant/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanpallant/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanpallant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanpallant/subscriptions", "organizations_url": "https://api.github.com/users/jonathanpallant/orgs", "repos_url": "https://api.github.com/users/jonathanpallant/repos", "events_url": "https://api.github.com/users/jonathanpallant/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanpallant/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-05-20T10:00:23Z", "updated_at": "2025-05-20T13:48:18Z", "closed_at": "2025-05-20T13:48:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/pulls/25", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/25", "diff_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/25.diff", "patch_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/25.patch", "merged_at": "2025-05-20T13:48:18Z"}, "body": "Preparing release v0.2.0\r\n", "reactions": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/25/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/25/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/24", "repository_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs", "labels_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/24/comments", "events_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/24/events", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/24", "id": 3073969523, "node_id": "PR_kwDOFPOqz86Wuxk6", "number": 24, "title": "Package updates", "user": {"login": "jonathanpallant", "id": 18005923, "node_id": "MDQ6VXNlcjE4MDA1OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/18005923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanpallant", "html_url": "https://github.com/jonathanpallant", "followers_url": "https://api.github.com/users/jonathanpallant/followers", "following_url": "https://api.github.com/users/jonathanpallant/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanpallant/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanpallant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanpallant/subscriptions", "organizations_url": "https://api.github.com/users/jonathanpallant/orgs", "repos_url": "https://api.github.com/users/jonathanpallant/repos", "events_url": "https://api.github.com/users/jonathanpallant/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanpallant/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-05-19T14:04:17Z", "updated_at": "2025-05-20T02:22:18Z", "closed_at": "2025-05-19T14:35:31Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/pulls/24", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/24", "diff_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/24.diff", "patch_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/24.patch", "merged_at": "2025-05-19T14:35:31Z"}, "body": "Updates packages to more recent versions, including dropping our custom hot fix on the serial port crate.\r\n", "reactions": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/24/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/24/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/23", "repository_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs", "labels_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/23/comments", "events_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/23/events", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/23", "id": 3070063251, "node_id": "PR_kwDOFPOqz86Wh5Q8", "number": 23, "title": "Add `--all` option", "user": {"login": "chrysn", "id": 442326, "node_id": "MDQ6VXNlcjQ0MjMyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/442326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrysn", "html_url": "https://github.com/chrysn", "followers_url": "https://api.github.com/users/chrysn/followers", "following_url": "https://api.github.com/users/chrysn/following{/other_user}", "gists_url": "https://api.github.com/users/chrysn/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrysn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrysn/subscriptions", "organizations_url": "https://api.github.com/users/chrysn/orgs", "repos_url": "https://api.github.com/users/chrysn/repos", "events_url": "https://api.github.com/users/chrysn/events{/privacy}", "received_events_url": "https://api.github.com/users/chrysn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2025-05-16T23:44:31Z", "updated_at": "2025-05-19T13:25:51Z", "closed_at": "2025-05-19T13:18:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/pulls/23", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/23", "diff_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/23.diff", "patch_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/23.patch", "merged_at": "2025-05-19T13:18:05Z"}, "body": "This option applies the requested operation at *all* connected bootloaders.\r\n\r\nThere's one use case I think for which this is really practical: listing the devices using `--get-image` or `--all`.\r\n\r\nWhen `--all` is given, the device (and serial number) is shown in front of all items, so you might get:\r\n\r\n```\r\n$ nrfdfu --all\r\nPort /dev/ttyACM2 (serial: \"EB86723B4658\")\r\nPort /dev/ttyACM3 (serial: \"D2C505A7E0C6\")\r\nerror: No actions performed; provide an .elf file on the command line to flash, or set querying options.\r\n$ nrfdfu --all --get-images\r\nPort /dev/ttyACM2 (serial: \"EB86723B4658\")\r\n* image 0: Bootloader, version 0. Starting 0xe0000, length 122880.\r\n* image 1: Application, version 0. Starting 0x1000, length 9412.\r\nPort /dev/ttyACM3 (serial: \"D2C505A7E0C6\")\r\n* image 0: Bootloader, version 0. Starting 0xe0000, length 122880.\r\n* image 1: Application, version 0. Starting 0x1000, length 19556.\r\n```\r\n\r\nI'm not sure there are use cases for all combinations, but they kind of fall out neatly from how things are set up -- so you can also flash a file to all connected chips (convenient device-to-device tests) or reboot them all into the firmware. The most useful application IMO is getting the serial numbers for later use with `--serial` -- that wouldn't need `--all` fundamentally, but it fits nicely. I'm open to other ideas just as well (eg. not making it too `--all`ish and instead having a `--list` option that behaves largely like `--all` now standalone, but only combines with `--get-images`). Or anything else that makes this better user-experience-wise.", "reactions": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/23/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/23/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/21", "repository_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs", "labels_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/21/comments", "events_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/21/events", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/21", "id": 3052682988, "node_id": "PR_kwDOFPOqz86VnToI", "number": 21, "title": "Implement version-get, selection by serial number and reboot", "user": {"login": "chrysn", "id": 442326, "node_id": "MDQ6VXNlcjQ0MjMyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/442326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrysn", "html_url": "https://github.com/chrysn", "followers_url": "https://api.github.com/users/chrysn/followers", "following_url": "https://api.github.com/users/chrysn/following{/other_user}", "gists_url": "https://api.github.com/users/chrysn/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrysn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrysn/subscriptions", "organizations_url": "https://api.github.com/users/chrysn/orgs", "repos_url": "https://api.github.com/users/chrysn/repos", "events_url": "https://api.github.com/users/chrysn/events{/privacy}", "received_events_url": "https://api.github.com/users/chrysn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2855927449, "node_id": "MDU6TGFiZWwyODU1OTI3NDQ5", "url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2025-05-09T16:44:08Z", "updated_at": "2025-05-19T13:25:53Z", "closed_at": "2025-05-16T16:55:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/pulls/21", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/21", "diff_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/21.diff", "patch_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/21.patch", "merged_at": "2025-05-16T16:55:10Z"}, "body": "This change set extends the functionality with a few basic additions that depend on \"proper\" command line parsing (done through clap):\r\n\r\n* --get-versions lists the software versions. (I'm very open to naming this differently, b/c as long as this tool is used, the version is always 0, but it shows the start address and image type and length as well):\r\n  ```\r\n  * image 0: Bootloader, version 0. Starting 0xe0000, length 122880.\r\n  * image 1: Application, version 0. Starting 0x1000, length 9412.\r\n  ```\r\n\r\n  It'd also be an option to move printing the hardware version on this command (rather than always printing it when `RUST_LOG=debug` is set).\r\n\r\n* --serial allows limiting the command to a particular connected device -- useful when working with multiple boards at the same time (eg. doing radio stuff).\r\n\r\n* --abort sends a device that is in bootloader mode back to the application -- useful for lazy folk like me who don't want to unplug/replug the device but keep their hands on the keyboard (and, more seriously, convenient during testing of enter-the-bootloader functionality)\r\n\r\nThere's one more thing that might make sense here, adding a `--all` command that applies the operation to any discovered board (esp. nice with get-versions and maybe listing the serial), but I don't want to overdo it in one PR.\r\n\r\nFull `--help` output:\r\n\r\n```\r\nA flashing tool for the nRF bootloader\r\n\r\nUsage: nrfdfu [OPTIONS] [ELF_PATH]\r\n\r\nArguments:\r\n  [ELF_PATH]  File to flash\r\n\r\nOptions:\r\n      --get-versions     Prints the bootloader and application version, along with their memory areas\r\n      --serial <SERIAL>  Selects the USB device with the given serial number\r\n      --abort            Reboots into the application even if no other application was performed\r\n  -h, --help             Print help\r\n  -V, --version          Print version\r\n```", "reactions": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/21/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/21/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/20", "repository_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs", "labels_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/20/comments", "events_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/20/events", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/20", "id": 3051536965, "node_id": "PR_kwDOFPOqz86Vjbha", "number": 20, "title": "Add CI files", "user": {"login": "jonathanpallant", "id": 18005923, "node_id": "MDQ6VXNlcjE4MDA1OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/18005923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanpallant", "html_url": "https://github.com/jonathanpallant", "followers_url": "https://api.github.com/users/jonathanpallant/followers", "following_url": "https://api.github.com/users/jonathanpallant/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanpallant/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanpallant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanpallant/subscriptions", "organizations_url": "https://api.github.com/users/jonathanpallant/orgs", "repos_url": "https://api.github.com/users/jonathanpallant/repos", "events_url": "https://api.github.com/users/jonathanpallant/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanpallant/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2855927449, "node_id": "MDU6TGFiZWwyODU1OTI3NDQ5", "url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-05-09T09:08:08Z", "updated_at": "2025-05-16T08:43:24Z", "closed_at": "2025-05-16T08:43:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/pulls/20", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/20", "diff_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/20.diff", "patch_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/20.patch", "merged_at": "2025-05-16T08:43:24Z"}, "body": "Based on the ones in mdslides, but split to run in parallel.\r\n\r\nI was going to copy over the cargo-dist stuff, but it uses Ubuntu 20.04 (which is now deprecated on Github Actions) and it won't let me manually change the file to use a later Ubuntu release.\r\n\r\nEdit: Now we're actually doing clippy runs, I had to fix a bunch of clippy lints.", "reactions": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/20/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/20/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/19", "repository_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs", "labels_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/19/comments", "events_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/19/events", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/19", "id": 3046433170, "node_id": "PR_kwDOFPOqz86VTGUh", "number": 19, "title": "elf: Add regression test", "user": {"login": "chrysn", "id": 442326, "node_id": "MDQ6VXNlcjQ0MjMyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/442326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrysn", "html_url": "https://github.com/chrysn", "followers_url": "https://api.github.com/users/chrysn/followers", "following_url": "https://api.github.com/users/chrysn/following{/other_user}", "gists_url": "https://api.github.com/users/chrysn/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrysn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrysn/subscriptions", "organizations_url": "https://api.github.com/users/chrysn/orgs", "repos_url": "https://api.github.com/users/chrysn/repos", "events_url": "https://api.github.com/users/chrysn/events{/privacy}", "received_events_url": "https://api.github.com/users/chrysn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-05-07T15:44:35Z", "updated_at": "2025-05-09T15:51:14Z", "closed_at": "2025-05-09T12:56:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/pulls/19", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/19", "diff_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/19.diff", "patch_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/19.patch", "merged_at": "2025-05-09T12:56:51Z"}, "body": "This might complement #18 -- independently of whether you want to do tests precisely this way, this is the corpus I'm using there.", "reactions": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/19/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/19/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/18", "repository_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs", "labels_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/18/comments", "events_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/18/events", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/18", "id": 3042727247, "node_id": "PR_kwDOFPOqz86VGiIP", "number": 18, "title": "elf: Ignore bytes in program before first section", "user": {"login": "chrysn", "id": 442326, "node_id": "MDQ6VXNlcjQ0MjMyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/442326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrysn", "html_url": "https://github.com/chrysn", "followers_url": "https://api.github.com/users/chrysn/followers", "following_url": "https://api.github.com/users/chrysn/following{/other_user}", "gists_url": "https://api.github.com/users/chrysn/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrysn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrysn/subscriptions", "organizations_url": "https://api.github.com/users/chrysn/orgs", "repos_url": "https://api.github.com/users/chrysn/repos", "events_url": "https://api.github.com/users/chrysn/events{/privacy}", "received_events_url": "https://api.github.com/users/chrysn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2025-05-06T12:48:36Z", "updated_at": "2025-05-09T15:51:17Z", "closed_at": "2025-05-09T12:56:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/pulls/18", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/18", "diff_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/18.diff", "patch_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/18.patch", "merged_at": "2025-05-09T12:56:23Z"}, "body": "Some binaries that can be flashed correctly via nrfutil (by objdump'ing the file into ihex and running `nrfutil pkg generate`) can not be flashed with nrfdfu because it copies the whole elf program out, checking for the start but disregarding that the first section may not even be at the start of the program data.\r\n\r\nThis PR enhances the trace output and refactors to the point where those programs work.\r\n\r\nI do have some changes around that'd establish test cases (I ran tests here but it's hard to verify those remotely), but that'd depend on either building 3rd party projects during the tests, or checking in binaries to the source tree, or hand-crafting ELF files (which I wouldn't even know how to do); should I add the checked-in files as a regression test, or do you have different preferences?\r\n\r\n[edit:] If this is accepted, RIOT could finally switch over to a free programming tool for nrf52840dongle & similar boards; see https://github.com/RIOT-OS/RIOT/pull/21466.", "reactions": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/18/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/18/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/15", "repository_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs", "labels_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/15/comments", "events_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/15/events", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/15", "id": 1178645652, "node_id": "PR_kwDOFPOqz8406NyM", "number": 15, "title": "relaxing address check", "user": {"login": "nexoscp", "id": 5007045, "node_id": "MDQ6VXNlcjUwMDcwNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5007045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nexoscp", "html_url": "https://github.com/nexoscp", "followers_url": "https://api.github.com/users/nexoscp/followers", "following_url": "https://api.github.com/users/nexoscp/following{/other_user}", "gists_url": "https://api.github.com/users/nexoscp/gists{/gist_id}", "starred_url": "https://api.github.com/users/nexoscp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nexoscp/subscriptions", "organizations_url": "https://api.github.com/users/nexoscp/orgs", "repos_url": "https://api.github.com/users/nexoscp/repos", "events_url": "https://api.github.com/users/nexoscp/events{/privacy}", "received_events_url": "https://api.github.com/users/nexoscp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-23T20:44:28Z", "updated_at": "2022-04-03T22:29:26Z", "closed_at": "2022-03-24T11:34:27Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/pulls/15", "html_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/15", "diff_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/15.diff", "patch_url": "https://github.com/knurling-rs/nrfdfu-rs/pull/15.patch", "merged_at": "2022-03-24T11:34:26Z"}, "body": "as discussed in https://github.com/ferrous-systems/nrfdfu-rs/issues/14", "reactions": {"url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/15/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/knurling-rs/nrfdfu-rs/issues/15/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]