[{"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/204", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/204/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/204/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/204", "id": 1095725055, "node_id": "PR_kwDOFR5pIs4woSS2", "number": 204, "title": "Release 0.6.0", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-06T21:50:51Z", "updated_at": "2022-01-06T22:00:52Z", "closed_at": "2022-01-06T22:00:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/204", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/204", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/204.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/204.patch", "merged_at": "2022-01-06T22:00:52Z"}, "body": "Switch to published ostree crate\r\n\r\nIn prep for releasing a new version.\r\n\r\n---\r\n\r\nRelease 0.6.0\r\n\r\nSemver bump because of various API changes.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/203", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/203/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/203/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/203/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/203", "id": 1094800406, "node_id": "PR_kwDOFR5pIs4wlUvR", "number": 203, "title": "lib: Switch to released containers-image-proxy version", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-05T22:37:15Z", "updated_at": "2022-01-06T17:53:54Z", "closed_at": "2022-01-06T17:53:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/203", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/203", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/203.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/203.patch", "merged_at": "2022-01-06T17:53:54Z"}, "body": "We cut a new version upstream, let's switch back to crate dependencies.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/203/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/202", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/202/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/202/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/202", "id": 1093790804, "node_id": "PR_kwDOFR5pIs4wiDi_", "number": 202, "title": "lib/src/cli: Update BuildOpts fields to denote they might not be read", "user": {"login": "jmarrero", "id": 1894385, "node_id": "MDQ6VXNlcjE4OTQzODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1894385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmarrero", "html_url": "https://github.com/jmarrero", "followers_url": "https://api.github.com/users/jmarrero/followers", "following_url": "https://api.github.com/users/jmarrero/following{/other_user}", "gists_url": "https://api.github.com/users/jmarrero/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmarrero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmarrero/subscriptions", "organizations_url": "https://api.github.com/users/jmarrero/orgs", "repos_url": "https://api.github.com/users/jmarrero/repos", "events_url": "https://api.github.com/users/jmarrero/events{/privacy}", "received_events_url": "https://api.github.com/users/jmarrero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-04T22:05:38Z", "updated_at": "2022-01-05T02:18:12Z", "closed_at": "2022-01-05T02:18:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/202", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/202", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/202.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/202.patch", "merged_at": "2022-01-05T02:18:12Z"}, "body": "This fixes the above warning:\r\n```\r\ncargo build\r\n   Compiling ostree-ext v0.5.1 (/var/home/jmarrero/Development/github/ostreedev/ostree-rs-ext/lib)\r\nwarning: field is never read: `repo`\r\n  --> lib/src/cli.rs:31:5\r\n   |\r\n31 |     repo: String,\r\n   |     ^^^^^^^^^^^^\r\n   |\r\n   = note: `#[warn(dead_code)]` on by default\r\n\r\nwarning: field is never read: `ostree_ref`\r\n  --> lib/src/cli.rs:34:5\r\n   |\r\n34 |     ostree_ref: String,\r\n   |     ^^^^^^^^^^^^^^^^^^\r\n\r\nwarning: field is never read: `oci_dir`\r\n  --> lib/src/cli.rs:37:5\r\n   |\r\n37 |     oci_dir: String,\r\n   |     ^^^^^^^^^^^^^^^\r\n\r\nwarning: `ostree-ext` (lib) generated 3 warnings\r\n```\r\n\r\nAlso making the struct and fields pub will fix it but since the other struct in the module are not pub I am just adding the underscore here.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/202/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/201", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/201/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/201/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/201", "id": 1093601451, "node_id": "PR_kwDOFR5pIs4whcP4", "number": 201, "title": "Use rustix instead of nix", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-01-04T17:29:34Z", "updated_at": "2022-01-06T20:44:34Z", "closed_at": "2022-01-06T20:44:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/201", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/201", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/201.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/201.patch", "merged_at": "2022-01-06T20:44:34Z"}, "body": "In this actually, the owned/borrowed FD stuff is definitely nicer.  I still need to investigate whether the rustix ecosystem has something like this fd passing-to-`Command` that we need.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/201/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/200", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/200/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/200/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/200", "id": 1093597267, "node_id": "PR_kwDOFR5pIs4whbXw", "number": 200, "title": "ima: Use std's `last_os_error()` instead of nix", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-04T17:24:18Z", "updated_at": "2022-01-04T17:56:17Z", "closed_at": "2022-01-04T17:56:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/200", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/200", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/200.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/200.patch", "merged_at": "2022-01-04T17:56:16Z"}, "body": "Part of investigating using rustix instead of nix.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/200/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/199", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/199/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/199/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/199", "id": 1093486253, "node_id": "PR_kwDOFR5pIs4whDRS", "number": 199, "title": "Replace lazy_static with once_cell", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-04T15:50:41Z", "updated_at": "2022-01-04T16:46:41Z", "closed_at": "2022-01-04T16:46:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/199", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/199", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/199.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/199.patch", "merged_at": "2022-01-04T16:46:41Z"}, "body": "I saw https://github.com/dtolnay/cxx/pull/995 go by and\r\nit looks better.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/199/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/197", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/197/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/197/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/197", "id": 1086996816, "node_id": "PR_kwDOFR5pIs4wMXhX", "number": 197, "title": "lib/container_utils: Add helper `is_ostree_contaner()`", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-22T16:36:19Z", "updated_at": "2021-12-23T15:27:52Z", "closed_at": "2021-12-22T17:53:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/197", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/197", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/197.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/197.patch", "merged_at": "2021-12-22T17:53:02Z"}, "body": "This came up in https://github.com/coreos/rpm-ostree/pull/3297\r\n\r\nMost of our checks are going to be for this.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/197/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/196", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/196/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/196/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/196", "id": 1086311653, "node_id": "PR_kwDOFR5pIs4wKHHr", "number": 196, "title": "tar: Move repo config into `/sysroot/config` by default for backcompat", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-21T23:37:12Z", "updated_at": "2021-12-22T03:36:38Z", "closed_at": "2021-12-22T03:36:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/196", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/196", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/196.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/196.patch", "merged_at": "2021-12-22T03:36:38Z"}, "body": "It turns out adding `/sysroot/ostree/repo/config` into the export\r\nstream broke compat with older code.  Now in theory this is all\r\nexperimental and changeable, but it breaks the FCOS upgrade testing\r\nbecause the export format there is \"production\" for some values of\r\nproduction.\r\n\r\nAnd for our own sanity, it's helpful to be compatible.\r\nAnd add format versioning into the tar export code, and default to v0\r\nwhere we put the config into `/sysroot/config` where it will be ignored\r\nby older ostree.\r\n\r\nThis in particular should allow us to update rpm-ostree to the\r\nlatest ostree-ext in https://github.com/coreos/rpm-ostree/pull/3285", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/196/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/195", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/195/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/195/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/195", "id": 1085941399, "node_id": "PR_kwDOFR5pIs4wI3yS", "number": 195, "title": "tar/export: Correctly set size and entry type for denormal links", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-21T15:18:15Z", "updated_at": "2021-12-21T15:34:48Z", "closed_at": "2021-12-21T15:34:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/195", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/195", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/195.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/195.patch", "merged_at": "2021-12-21T15:34:48Z"}, "body": "Fixes https://discussion.fedoraproject.org/t/rebasing-from-container-registry/35356\r\n\r\n(This needs unit tests I know, but right now our content set is\r\n a manually-generated fixed tarball, and I have some patches in the\r\n work to improve the test suite)", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/195/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/194", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/194/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/194/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/194", "id": 1085158495, "node_id": "PR_kwDOFR5pIs4wGSgh", "number": 194, "title": "Use a self-enabled `integration-testing-api` feature", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-20T20:06:15Z", "updated_at": "2021-12-20T20:58:27Z", "closed_at": "2021-12-20T20:58:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/194", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/194", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/194.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/194.patch", "merged_at": "2021-12-20T20:58:27Z"}, "body": "Most of our current testing is via an integration test,\r\nwhich I designed after reading\r\nhttps://matklad.github.io/2021/02/27/delete-cargo-integration-tests.html\r\n\r\nHowever, I then wanted to use our internal OCI build tooling from the\r\nintegration test, which is blocked (by design) from seeing non-`pub`\r\nthings.\r\n\r\nI initially tried doing:\r\n```\r\n#[cfg(test)]\r\npub fn do_oci_stuff(...)\r\n```\r\n\r\nbut that didn't work.  (Perhaps it should?)\r\n\r\nAfter some searching I came across this gem:\r\nhttps://github.com/rust-lang/cargo/issues/2911#issuecomment-749580481\r\nWhich, looks an amazing hack.  But it works.\r\n\r\nThe *big* downside of this is that now in order to properly test\r\nbuilding without the integration test feature, one must do so\r\nvia a fully distinct crate.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/194/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/193", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/193/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/193/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/193", "id": 1083625232, "node_id": "PR_kwDOFR5pIs4wBcXp", "number": 193, "title": "tar/export: Add a repo/config with mode `bare-split-xattrs`", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-17T21:24:36Z", "updated_at": "2021-12-20T15:36:28Z", "closed_at": "2021-12-20T15:36:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/193", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/193", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/193.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/193.patch", "merged_at": "2021-12-20T15:36:27Z"}, "body": "tar/export: Add a repo/config with mode `bare-split-xattrs`\r\n\r\nPart of https://github.com/ostreedev/ostree/issues/2499\r\n\r\nBasically, ostree core should have first-class support for\r\nreading and parsing this.  The primary motivation is to support\r\nostree-in-container better.\r\n\r\nThe real main wrinkle here is xattrs, as usual.  We can't rely on\r\nbeing able to read/write xattrs inside a container.\r\n\r\nFor now, this will serve sufficient to *identify* this format,\r\nbut it will pave the way for ostree core to support read/write.\r\n\r\n(Note that if we go to implement writes, a notable wrinkle is that\r\n garbage collection of the `xattrs` subdirectory will require\r\n another special handling pass)\r\n\r\n---\r\n\r\ncontainer_utils: Add a method to detect `bare-split-xattrs`\r\n\r\nThis will be used for an integration test once we rebuild\r\nour current container image.\r\n\r\nBut also, this will help out cases like\r\nhttps://github.com/coreos/rpm-ostree/pull/3280\r\n\r\nAs well as supporting finalization inside a container.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/193/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/192", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/192/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/192/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/192", "id": 1083596975, "node_id": "PR_kwDOFR5pIs4wBWbr", "number": 192, "title": "tar/export: Do checksum \u2192 string a bit smarter", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-17T20:32:49Z", "updated_at": "2021-12-20T15:17:03Z", "closed_at": "2021-12-20T15:17:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/192", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/192", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/192.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/192.patch", "merged_at": "2021-12-20T15:17:03Z"}, "body": "I was working on this area of code for a previous PR, and I almost\r\nmade a refactoring that shared the `hexbuf`.  I think the stack\r\nallocation here was a premature optimization.  Let's just heap\r\nallocate - modern allocators are fast with thread-local\r\nstorage and caches etc.  The C side allocates a ton anyways.\r\n\r\nHowever there is an optimization we can make here - by passing\r\nownership of the checksum string into the recursive dirtree walk,\r\nwe can drop it before recursing.   Now there's only one heap\r\nallocation there instead of it being O(depth).", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/192/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/191", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/191/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/191/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/191", "id": 1083382794, "node_id": "PR_kwDOFR5pIs4wApDM", "number": 191, "title": "tar/export: Do emit dirmeta for `/sysroot`", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-17T15:40:24Z", "updated_at": "2021-12-17T16:02:49Z", "closed_at": "2021-12-17T16:02:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/191", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/191", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/191.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/191.patch", "merged_at": "2021-12-17T16:02:48Z"}, "body": "This fixes an important regression from https://github.com/ostreedev/ostree-rs-ext/pull/186\r\n\r\nBasically we have now a really ugly hack around `/sysroot` that\r\nwasn't caught by the unit tests here because the OS content doesn't\r\nhave it.  I'm going to do a followup where we extend our integration\r\ntesting more here.\r\n\r\nBut anyways, we still need to emit the dirmeta object for `/sysroot`,\r\neven if not its contents.  (Actually, it *should* be empty in an\r\nostree commit, hmm probably ostree should enforce that)", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/191/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/190", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/190/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/190/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/190", "id": 1082619691, "node_id": "PR_kwDOFR5pIs4v-Ivr", "number": 190, "title": "Add a container_utils module with API to detect containerization", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-16T20:33:26Z", "updated_at": "2021-12-17T15:27:10Z", "closed_at": "2021-12-16T20:52:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/190", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/190", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/190.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/190.patch", "merged_at": "2021-12-16T20:52:08Z"}, "body": "This isn't going to be perfect, but it will serve for now.\r\n\r\nWe will need it in both this codebase as well as rpm-ostree, so let's\r\nmake it a public API.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/190/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/189", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/189/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/189/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/189", "id": 1082486755, "node_id": "PR_kwDOFR5pIs4v9sja", "number": 189, "title": "Add new integration testing flow", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-16T17:54:53Z", "updated_at": "2021-12-16T22:04:28Z", "closed_at": "2021-12-16T22:04:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/189", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/189", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/189.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/189.patch", "merged_at": "2021-12-16T22:04:28Z"}, "body": "The core idea here is that we take our built binary and inject\r\nit into a fcos container image, where we can do further testing.\r\n\r\nFor now just to prove this out I've added an internal testutils\r\ncommand.\r\n\r\n(I think I'd like to write more tests in Rust, but to do that\r\n correctly we also want a `bin-unit-tests` feature like rpm-ostree\r\n has, which can come later)", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/189/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/188", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/188/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/188/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/188", "id": 1082374093, "node_id": "PR_kwDOFR5pIs4v9Uat", "number": 188, "title": "container: Use more `split_once`", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-16T15:59:57Z", "updated_at": "2021-12-16T16:14:06Z", "closed_at": "2021-12-16T16:14:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/188", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/188", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/188.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/188.patch", "merged_at": "2021-12-16T16:14:05Z"}, "body": "Followup to https://github.com/ostreedev/ostree-rs-ext/pull/187/commits/0ec9e980d3274a3a8fe2f99d3fd253c8d03fb160\r\n\r\nMotivated by dropping some `.unwrap()` calls.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/188/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/187", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/187/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/187/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/187", "id": 1082241765, "node_id": "PR_kwDOFR5pIs4v831c", "number": 187, "title": "cli: Use `split_once` to parse `key=value`", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-16T14:10:42Z", "updated_at": "2021-12-16T14:29:57Z", "closed_at": "2021-12-16T14:29:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/187", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/187", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/187.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/187.patch", "merged_at": "2021-12-16T14:29:57Z"}, "body": "Motivated by dropping an `unwrap()` call.\r\nThis is the example in the doc even!\r\n\r\nI remembered this after seeing\r\nhttps://github.com/coreos/rpm-ostree/pull/3281", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/187/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/186", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/186/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/186/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/186", "id": 1081393958, "node_id": "PR_kwDOFR5pIs4v6Ika", "number": 186, "title": "tar: Write directory hierarchy correctly", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-12-15T19:04:36Z", "updated_at": "2021-12-16T15:22:54Z", "closed_at": "2021-12-16T15:22:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/186", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/186", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/186.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/186.patch", "merged_at": "2021-12-16T15:22:54Z"}, "body": "\r\n\r\nI hit on the fact that we were missing `/tmp` in the exported\r\ncontainer, and this is because we were actually missing writing\r\ndirectory entries.  It only works because container runtimes\r\nwill auto-create parent directories.\r\n\r\nBut we clearly want to reflect the intended uid/gid/mode in the\r\ntar stream too, and we definitely want empty toplevel dirs like\r\n`/tmp`.\r\n\r\nThe simple fix of emitting them in our current flow actually fails\r\nwhen trying to import into `containers/storage`, complaining about\r\nduplicate entries.\r\n\r\nAnd this is because the simple fix ends up writing a `sysroot` entry\r\nwith two different modes (0755 and 0700).  One or the other needs\r\nto win, let's just have it be 0755 for now, though it doesn't really\r\nmatter for this.\r\n\r\nSo to really make this work, rework the flow so that the tar stream\r\nlooks like:\r\n\r\n- root directory\r\n- sysroot/ base structure\r\n- commit object\r\n- commit metadata\r\n- contents of root recursively *except* sysroot\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/186/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/185", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/185/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/185/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/185", "id": 1079622593, "node_id": "PR_kwDOFR5pIs4v0PWE", "number": 185, "title": "lib/container: fix error prefix for invalid ostree imgref scheme", "user": {"login": "lucab", "id": 98086, "node_id": "MDQ6VXNlcjk4MDg2", "avatar_url": "https://avatars.githubusercontent.com/u/98086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucab", "html_url": "https://github.com/lucab", "followers_url": "https://api.github.com/users/lucab/followers", "following_url": "https://api.github.com/users/lucab/following{/other_user}", "gists_url": "https://api.github.com/users/lucab/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucab/subscriptions", "organizations_url": "https://api.github.com/users/lucab/orgs", "repos_url": "https://api.github.com/users/lucab/repos", "events_url": "https://api.github.com/users/lucab/events{/privacy}", "received_events_url": "https://api.github.com/users/lucab/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-14T11:09:39Z", "updated_at": "2021-12-14T15:22:08Z", "closed_at": "2021-12-14T13:58:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/185", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/185", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/185.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/185.patch", "merged_at": "2021-12-14T13:58:31Z"}, "body": "This fixes a wrong and colliding error prefix, possibly coming\r\nfrom a copy-paste mistake.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/185/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/184", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/184/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/184/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/184", "id": 1079136841, "node_id": "PR_kwDOFR5pIs4vypRu", "number": 184, "title": "container: Make layering more directly re-use unencapsulation", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-13T23:27:05Z", "updated_at": "2021-12-14T14:07:23Z", "closed_at": "2021-12-14T14:07:23Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/184", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/184", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/184.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/184.patch", "merged_at": "2021-12-14T14:07:23Z"}, "body": "This came out of some prep work on\r\nhttps://github.com/ostreedev/ostree-rs-ext/issues/69\r\n\r\nRight now it's confusing, the layering code ended up re-implementing\r\nthe \"fetch and unpack tarball\" logic from the unencapsulation path\r\nunnecessarily.\r\n\r\nI think it's much clearer if the layering path just calls down\r\ninto the unencapsulation path first.\r\n\r\nAmong other things this will also ensure we're honoring the image\r\nverification string.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/184/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/183", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/183/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/183/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/183", "id": 1077222975, "node_id": "PR_kwDOFR5pIs4vsqrW", "number": 183, "title": "container: Add history struct to oci writing, tweak history description", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-10T20:57:13Z", "updated_at": "2021-12-10T21:45:02Z", "closed_at": "2021-12-10T21:45:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/183", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/183", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/183.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/183.patch", "merged_at": "2021-12-10T21:45:02Z"}, "body": "Prep for https://github.com/ostreedev/ostree-rs-ext/issues/69\r\nwhere we'll split up the input ostree commit into content-addressed\r\nblobs.\r\n\r\nWe want to inject something useful into the the `history` in the\r\nconfig git that describes each chunk, so add support for that\r\ninto our OCI writer.\r\n\r\nChange the default description for the (currently single) layer\r\nto include the commit subject, if present; otherwise the\r\ncommit hash.\r\n\r\nThe description of the layer shouldn't change as this tool changes,\r\njust as the input changes.\r\n\r\n(Side note; today rpm-ostree isn't adding a subject description,\r\n but hey, maybe someone else is)", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/183/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/183/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/181", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/181/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/181/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/181", "id": 1076171096, "node_id": "PR_kwDOFR5pIs4vpRT6", "number": 181, "title": " containers: Better handle errors from worker and/or driver", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-09T23:14:21Z", "updated_at": "2021-12-14T01:28:38Z", "closed_at": "2021-12-10T14:07:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/181", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/181", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/181.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/181.patch", "merged_at": "2021-12-10T14:07:46Z"}, "body": "\r\nI was seeing this in a `cosa build`:\r\n\r\n> `+ rpm-ostree ex-container image deploy --imgref ostree-unverified-image:oci-archive:/var/srv/walters/builds/rhcos-master/builds/410.84.202112092014-0-1/x86_64/rhcos-410.84.202112092014-0-ostree.x86_64.ociarchive --stateroot rhcos --sysroot /tmp/rootfs --karg=random.trust_cpu=on --karg=console=tty0 --karg=console=ttyS0,115200n8 --karg=ignition.platform.id=qemu '--karg=$ignition_firstboot'\r\nerror: Performing deployment: remote error: write |1: broken pipe`\r\n\r\nwhich is not useful.\r\n\r\nThis is really a brutal hack around the fact that an error can occur\r\non either our side or in the proxy.  But if an error occurs on our\r\nside, then we will close the pipe, which will *also* cause the proxy\r\nto error out.\r\n\r\nWhat we really want is for the proxy to tell us when it got an\r\nerror from us closing the pipe.  Or, we could store that state\r\non our side.  Both are slightly tricky, so we have this (again)\r\nhacky thing where we just search for `broken pipe` in the error text.\r\n\r\nOr to restate all of the above - what this function does is check\r\nto see if the worker function had an error *and* if the proxy\r\nhad an error, but if the proxy's error ends in `broken pipe`\r\nthen it means the real only error is from the worker.\r\n\r\nNow:\r\n\r\n> `+ rpm-ostree ex-container image deploy --imgref ostree-unverified-image:oci-archive:/var/srv/walters/builds/rhcos-master/builds/410.84.202112092014-0-1/x86_64/rhcos-410.84.202112092014-0-ostree.x86_64.ociarchive --stateroot rhcos --sysroot /tmp/rootfs --karg=random.trust_cpu=on --karg=console=tty0 --karg=console=ttyS0,115200n8 --karg=ignition.platform.id=qemu '--karg=$ignition_firstboot'\r\n> error: Performing deployment: Parsing blob sha256:9448e2c9ad473c7d63d7d7789eadd28e5ae72f37eb8a1c4901b7bd76764e9bd0: object 4f/5cc466c863110ecd782153cc3a126ba8593d531dde621539a2d1a290b6482b.file: Processing content object 4f5cc466c863110ecd782153cc3a126ba8593d531dde621539a2d1a290b6482b: Writing content object: Corrupted file object; checksum expected='4f5cc466c863110ecd782153cc3a126ba8593d531dde621539a2d1a290b6482b' actual='63e8321f6ed6f189d37d98d61e782e6e8c9031103c97c983c696de6ca42702f4'`\r\n\r\n\r\n(But why is that object corrupted?  Don't know yet,\r\n that's an exciting new problem!)", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/181/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/180", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/180/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/180/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/180", "id": 1075739000, "node_id": "PR_kwDOFR5pIs4vn01-", "number": 180, "title": "cli: Expose certificate_directory", "user": {"login": "mkenigs", "id": 40775676, "node_id": "MDQ6VXNlcjQwNzc1Njc2", "avatar_url": "https://avatars.githubusercontent.com/u/40775676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkenigs", "html_url": "https://github.com/mkenigs", "followers_url": "https://api.github.com/users/mkenigs/followers", "following_url": "https://api.github.com/users/mkenigs/following{/other_user}", "gists_url": "https://api.github.com/users/mkenigs/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkenigs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkenigs/subscriptions", "organizations_url": "https://api.github.com/users/mkenigs/orgs", "repos_url": "https://api.github.com/users/mkenigs/repos", "events_url": "https://api.github.com/users/mkenigs/events{/privacy}", "received_events_url": "https://api.github.com/users/mkenigs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-12-09T16:02:32Z", "updated_at": "2021-12-21T21:16:37Z", "closed_at": "2021-12-09T21:47:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/180", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/180", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/180.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/180.patch", "merged_at": "2021-12-09T21:47:28Z"}, "body": "Exposes the corresponding options from containers-image-proxy and\r\nskopeo\r\n\r\nAlso changes authfile type from String to PathBuf for consistency\r\n\r\nHelps https://github.com/ostreedev/ostree-rs-ext/issues/121\r\nDepends https://github.com/containers/containers-image-proxy-rs/pull/22", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/180/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/179", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/179/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/179/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/179", "id": 1074194720, "node_id": "PR_kwDOFR5pIs4vixlQ", "number": 179, "title": "lib/cargo: update stale dependencies", "user": {"login": "lucab", "id": 98086, "node_id": "MDQ6VXNlcjk4MDg2", "avatar_url": "https://avatars.githubusercontent.com/u/98086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucab", "html_url": "https://github.com/lucab", "followers_url": "https://api.github.com/users/lucab/followers", "following_url": "https://api.github.com/users/lucab/following{/other_user}", "gists_url": "https://api.github.com/users/lucab/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucab/subscriptions", "organizations_url": "https://api.github.com/users/lucab/orgs", "repos_url": "https://api.github.com/users/lucab/repos", "events_url": "https://api.github.com/users/lucab/events{/privacy}", "received_events_url": "https://api.github.com/users/lucab/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-08T09:30:44Z", "updated_at": "2021-12-14T10:21:04Z", "closed_at": "2021-12-08T14:21:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/179", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/179", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/179.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/179.patch", "merged_at": "2021-12-08T14:21:24Z"}, "body": "This refreshes `nix` and `phf` dependencies, making sure everything\r\nis up-to-date.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/179/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/178", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/178/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/178/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/178", "id": 1073443902, "node_id": "PR_kwDOFR5pIs4vgVgX", "number": 178, "title": "Add some missing `#[derive(Debug)]`", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-07T14:51:09Z", "updated_at": "2021-12-07T16:49:05Z", "closed_at": "2021-12-07T16:46:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/178", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/178", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/178.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/178.patch", "merged_at": "2021-12-07T16:46:18Z"}, "body": "Add some missing `#[derive(Debug)]`\r\n\r\nHit this when I wanted to add `dbg!`.\r\n\r\n---\r\n\r\nDrop ununused `bytes` dependency\r\n\r\nWe aren't doing HTTP directly anymore.\r\n\r\n---\r\n\r\nlib: Also add `unreachable_pub` to opted-in lint\r\n\r\nAnd link to the list.\r\n\r\nI plan to cargo cult this elsewhere.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/178/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/177", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/177/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/177/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/177", "id": 1073406248, "node_id": "PR_kwDOFR5pIs4vgNlB", "number": 177, "title": "container/unencapsulate: Only create one proxy in default pull path", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-07T14:17:32Z", "updated_at": "2021-12-07T14:48:17Z", "closed_at": "2021-12-07T14:48:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/177", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/177", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/177.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/177.patch", "merged_at": "2021-12-07T14:48:17Z"}, "body": "A while ago I split up the APIs so we support\r\n\r\n- fetching just the manifest\r\n- fetching an image from an already fetched manifest\r\n- combining the two\r\n\r\nHowever, the latter API ended up creating two proxies, one to\r\nfetch the manifest and one for the rest.  That's inefficent,\r\nso rework things so we have internal APIs that take a proxy and\r\nonly create it once.\r\n\r\nJust noticed when reading the code for unrelated reasons.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/177/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/176", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/176/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/176/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/176", "id": 1072696534, "node_id": "PR_kwDOFR5pIs4vd3Vn", "number": 176, "title": "container/store: Also parse and save image configuration", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-06T22:43:23Z", "updated_at": "2021-12-15T03:26:25Z", "closed_at": "2021-12-15T03:26:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/176", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/176", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/176.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/176.patch", "merged_at": "2021-12-15T03:26:25Z"}, "body": "Prep for using this for copies.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/176/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/175", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/175/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/175/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/175", "id": 1068250737, "node_id": "PR_kwDOFR5pIs4vPaDk", "number": 175, "title": "ci: add GH workflow for linting ", "user": {"login": "lucab", "id": 98086, "node_id": "MDQ6VXNlcjk4MDg2", "avatar_url": "https://avatars.githubusercontent.com/u/98086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucab", "html_url": "https://github.com/lucab", "followers_url": "https://api.github.com/users/lucab/followers", "following_url": "https://api.github.com/users/lucab/following{/other_user}", "gists_url": "https://api.github.com/users/lucab/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucab/subscriptions", "organizations_url": "https://api.github.com/users/lucab/orgs", "repos_url": "https://api.github.com/users/lucab/repos", "events_url": "https://api.github.com/users/lucab/events{/privacy}", "received_events_url": "https://api.github.com/users/lucab/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-01T10:49:27Z", "updated_at": "2021-12-01T14:21:53Z", "closed_at": "2021-12-01T14:21:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/175", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/175", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/175.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/175.patch", "merged_at": "2021-12-01T14:21:05Z"}, "body": "This fixes the following warnings highlighted by clippy:\r\n * https://rust-lang.github.io/rust-clippy/master/index.html#from_over_into\r\n * https://rust-lang.github.io/rust-clippy/master/index.html#needless_borrow\r\n\r\nIt also adds a new CI job dedicated to linting, which includes steps for\r\nrustfmt and clippy.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/174", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/174/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/174/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/174/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/174", "id": 1067362173, "node_id": "PR_kwDOFR5pIs4vMep4", "number": 174, "title": "Release 0.5.1", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-30T15:21:11Z", "updated_at": "2021-11-30T15:37:05Z", "closed_at": "2021-11-30T15:37:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/174", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/174", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/174.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/174.patch", "merged_at": "2021-11-30T15:37:05Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/174/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/173", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/173/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/173/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/173", "id": 1067355422, "node_id": "PR_kwDOFR5pIs4vMdOq", "number": 173, "title": "ci: add GH workflow for Minimum Supported Rust Version (MSRV)", "user": {"login": "lucab", "id": 98086, "node_id": "MDQ6VXNlcjk4MDg2", "avatar_url": "https://avatars.githubusercontent.com/u/98086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucab", "html_url": "https://github.com/lucab", "followers_url": "https://api.github.com/users/lucab/followers", "following_url": "https://api.github.com/users/lucab/following{/other_user}", "gists_url": "https://api.github.com/users/lucab/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucab/subscriptions", "organizations_url": "https://api.github.com/users/lucab/orgs", "repos_url": "https://api.github.com/users/lucab/repos", "events_url": "https://api.github.com/users/lucab/events{/privacy}", "received_events_url": "https://api.github.com/users/lucab/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-11-30T15:15:14Z", "updated_at": "2021-12-01T14:51:58Z", "closed_at": "2021-11-30T15:59:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/173", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/173", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/173.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/173.patch", "merged_at": "2021-11-30T15:59:39Z"}, "body": "This adds a new CI jobs to make sure the code is building fine under\r\na given MSRV. It mostly helps making sure we stay compatible with\r\nsystem toolchains shipped by distros (e.g. RHEL8).\r\nThis keeps using system dependencies from FCOS buildroot (notably,\r\na fresh ostree), but it drop the installed toolchain in favor\r\nof a CI-pinned one.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/173/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/172", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/172/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/172/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/172", "id": 1067298750, "node_id": "PR_kwDOFR5pIs4vMRO9", "number": 172, "title": "container/encapsulate: Be compatible with Rust 1.54", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-30T14:25:14Z", "updated_at": "2021-11-30T14:38:01Z", "closed_at": "2021-11-30T14:38:01Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/172", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/172", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/172.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/172.patch", "merged_at": "2021-11-30T14:38:00Z"}, "body": "Since that's what's in CentOS8 at the moment.  The `From` impl\r\non `HashMap` for tuples is too new.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/172/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/171", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/171/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/171/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/171/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/171", "id": 1066225010, "node_id": "PR_kwDOFR5pIs4vIzwz", "number": 171, "title": " tar/export: Create all parent directories too", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-29T16:13:08Z", "updated_at": "2021-11-30T14:25:25Z", "closed_at": "2021-11-30T14:25:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/171", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/171", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/171.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/171.patch", "merged_at": "2021-11-30T14:25:24Z"}, "body": "tar: Factor out helper to write default directory\r\n\r\nPrep for ensuring we create all parent dirs to aid containers/storage.\r\n\r\n---\r\n\r\ntar/export: Create all parent directories too\r\n\r\nThis is really the standard/expected thing to do.  The current\r\ncontainers/storage stack handles this, but the experimental chunked\r\nback end did not until\r\nhttps://github.com/containers/storage/pull/1072/commits/501611fd510f3406aab3acf25b18545d321ebb79\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/171/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/170", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/170/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/170/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/170", "id": 1062680397, "node_id": "PR_kwDOFR5pIs4u-ml4", "number": 170, "title": "tar/export: Fix numeric export for objects directories", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-24T17:15:05Z", "updated_at": "2021-11-24T17:26:56Z", "closed_at": "2021-11-24T17:26:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/170", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/170", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/170.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/170.patch", "merged_at": "2021-11-24T17:26:56Z"}, "body": "Currently it looks like `sysroot/ostree/repo/objects/0xf5`\r\nwhen it should obviously be\r\n`sysroot/ostree/repo/objects/f5`.\r\n\r\nReported by @giuseppe ", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/169", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/169/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/169/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/169", "id": 1062065555, "node_id": "PR_kwDOFR5pIs4u8nma", "number": 169, "title": "readme: fix the broken container/store docs.rs url", "user": {"login": "juhp", "id": 82731, "node_id": "MDQ6VXNlcjgyNzMx", "avatar_url": "https://avatars.githubusercontent.com/u/82731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juhp", "html_url": "https://github.com/juhp", "followers_url": "https://api.github.com/users/juhp/followers", "following_url": "https://api.github.com/users/juhp/following{/other_user}", "gists_url": "https://api.github.com/users/juhp/gists{/gist_id}", "starred_url": "https://api.github.com/users/juhp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juhp/subscriptions", "organizations_url": "https://api.github.com/users/juhp/orgs", "repos_url": "https://api.github.com/users/juhp/repos", "events_url": "https://api.github.com/users/juhp/events{/privacy}", "received_events_url": "https://api.github.com/users/juhp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-11-24T06:54:15Z", "updated_at": "2021-11-30T17:21:52Z", "closed_at": "2021-11-29T23:16:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/169", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/169", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/169.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/169.patch", "merged_at": "2021-11-29T23:16:14Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/169/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/168", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/168/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/168/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/168", "id": 1061509930, "node_id": "PR_kwDOFR5pIs4u6zaR", "number": 168, "title": "container/encapsulate: Write `ostree.encapsulated` annotation on layer", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-23T16:53:42Z", "updated_at": "2021-11-24T16:56:35Z", "closed_at": "2021-11-24T16:56:35Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/168", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/168", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/168.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/168.patch", "merged_at": "2021-11-24T16:56:35Z"}, "body": "This is prep for commit splitting into separate blobs, to help\r\nidentify layers which are \"ostree native\" and those which are not.\r\n\r\nIt turns out since the Docker schema:\r\nhttps://docs.docker.com/registry/spec/manifest-v2-2/\r\ndoes not have annotations, they simply get discarded, so we can't rely\r\non this.\r\n\r\nBut...I wrote this code and I think it makes sense, so let's ship it\r\nanyways.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/168/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/167", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/167/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/167/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/167", "id": 1060218693, "node_id": "PR_kwDOFR5pIs4u2vuR", "number": 167, "title": "A few small patches for `tar/import`", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-22T14:24:16Z", "updated_at": "2021-11-22T15:28:51Z", "closed_at": "2021-11-22T15:28:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/167", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/167", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/167.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/167.patch", "merged_at": "2021-11-22T15:28:51Z"}, "body": "tar/import: Remove unnecessary `abort_transaction()`\r\n\r\nThis is dead code since b7ba07556c8c54a719f47d9a8f1ef47b5b7a0e4b\r\nwhen we switched to `auto_transaction()`.\r\n\r\n---\r\n\r\ntar/import: Move directory filtering into filter function\r\n\r\nIt's cleaner if our `filter_entry` function does most of the\r\nwork here instead of having half of the filtering in a closure.\r\n\r\n---\r\n\r\ntar/import: Move txn outside of `Importer`\r\n\r\nThis is prep for split tar imports, where we'll reuse distinct\r\ncalls to the importer across a single transaction.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/167/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/166", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/166/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/166/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/166", "id": 1058661202, "node_id": "PR_kwDOFR5pIs4ux1AI", "number": 166, "title": "tar/import: Write commitpartial state", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-19T15:38:13Z", "updated_at": "2021-11-19T16:03:50Z", "closed_at": "2021-11-19T16:03:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/166", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/166", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/166.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/166.patch", "merged_at": "2021-11-19T16:03:50Z"}, "body": "This mirrors the logic in `ostree_repo_pull()` - before\r\nwe write the commit object, we want to mark it as partial so\r\nthe core knows objects are still being written.  And after the\r\ntransaction, undo that marker.\r\n\r\nMotivated by supporting \"chunked\" containers (split tar) where\r\nthis partial state will be more obvious.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/166/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/165", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/165/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/165/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/165", "id": 1057848877, "node_id": "PR_kwDOFR5pIs4uvS0B", "number": 165, "title": "Handle long and denormal symlinks", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-18T21:55:55Z", "updated_at": "2021-12-19T14:26:07Z", "closed_at": "2021-12-15T03:28:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/165", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/165", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/165.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/165.patch", "merged_at": "2021-12-15T03:28:42Z"}, "body": "Use new `append_link()` API to handle long symlinks\r\n\r\nI hit this when exporting Fedora Silverblue, there are some\r\nlong symlinks in there.\r\n\r\nDepends: https://github.com/alexcrichton/tar-rs/pull/273\r\nCloses: https://github.com/ostreedev/ostree-rs-ext/issues/162\r\n\r\n---\r\n\r\ntar/export: Write symlink targets literally\r\n\r\nRequires: https://github.com/alexcrichton/tar-rs/pull/274\r\n\r\nAnd I'll just copy/paste the commit message from there, lightly edited:\r\n\r\nIn https://github.com/ostreedev/ostree we generate a cryptographic\r\nchecksum over files and symlinks, and directories.\r\n\r\nostree does not currently perform any canonicalization on symlinks;\r\nwe'll respect and honor whatever bytes we're provided as input,\r\nand replicate that on the target.\r\n\r\nWe're using the Rust tar crate to do tar serialization,\r\nwhich has so far worked fine...except, I hit this corner case:\r\n\r\n```\r\n[root@cosa-devsh ~]# rpm -qf /usr/lib/systemd/systemd-sysv-install\r\nchkconfig-1.13-2.el8.x86_64\r\n[root@cosa-devsh ~]# ll /usr/lib/systemd/systemd-sysv-install\r\nlrwxrwxrwx. 2 root root 24 Nov 29 18:08 /usr/lib/systemd/systemd-sysv-install -> ../../..//sbin/chkconfig\r\n[root@cosa-devsh ~]#\r\n```\r\n\r\nBut, using `set_link_name` to write the tarball, we end up with\r\nthe canonicalized path `../../../sbin/chkconfig` - i.e. without the\r\ndouble `//`.  This breaks the checksum.\r\n\r\nNow, I am a bit tempted to change ostree to do canonicalization.  But\r\neven if we did, I'd need to *exactly* match what tar-rs is doing.\r\n\r\n(I may of course also try to change the rhel8 systemd package, but\r\n that's going to take a while to propagate and this corner case isn't\r\n the only one I'm sure)\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/165/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/164", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/164/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/164/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/164", "id": 1057846487, "node_id": "PR_kwDOFR5pIs4uvSm6", "number": 164, "title": "tar/import: Use the correct API to read link name", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-18T21:54:22Z", "updated_at": "2021-11-19T13:58:01Z", "closed_at": "2021-11-19T13:58:01Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/164", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/164", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/164.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/164.patch", "merged_at": "2021-11-19T13:58:01Z"}, "body": "The `entry::header().link_name()` path doesn't support long links,\r\nand this is a documented foot-gun.  Use `entry::link_name()` instead.\r\n\r\nNeeded for e.g.\r\n`/ostree/repo/objects/87/c8834da3bad596352375ff413bca064584f184bdd6ba1764293d137249e168.file -> ../../../../usr/lib64/qt5/plugins/wayland-graphics-integration-server/libqt-wayland-compositor-xcomposite-egl.so`.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/164/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/161", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/161/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/161/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/161", "id": 1057707723, "node_id": "PR_kwDOFR5pIs4uu3nN", "number": 161, "title": "tar/export: Add more error prefixing", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-18T19:12:44Z", "updated_at": "2021-11-18T19:30:08Z", "closed_at": "2021-11-18T19:30:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/161", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/161", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/161.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/161.patch", "merged_at": "2021-11-18T19:30:08Z"}, "body": "I'm hitting an error on symlink length exporting Fedora Silverblue,\r\nthis helped me debug via:\r\n\r\n```\r\n$ /var/srv/walters/src/github/ostreedev/ostree-rs-ext/target/debug/ostree-ext-cli container encapsulate --repo=/ostree/repo f8e7ed0ee87a8ae48eb779c085f4fffddb824c5830e43715e6c92799a678d806 oci:/var/tmp/fedora-silverblue\r\nerror: Building oci: Writing ostree root to blob: Exporting commit: Writing content symlink: 87c8834da3bad596352375ff413bca064584f184bdd6ba1764293d137249e168: provided value is too long when setting link name for\r\n$ ostree ls -C -R f8e7ed0ee87a8ae48eb779c085f4fffddb824c5830e43715e6c92799a678d806 | grep 87c8834da3bad596352375ff413bca064584f184bdd6ba1764293d137249e168\r\nl00777 0 0      0 87c8834da3bad596352375ff413bca064584f184bdd6ba1764293d137249e168 /usr/lib/.build-id/05/159ed904e45ff5100f7acd3d3b99fa7e27e34f -> ../../../../usr/lib64/qt5/plugins/wayland-graphics-integration-server/libqt-wayland-compositor-xcomposite-egl.so\r\n$\r\n```\r\n\r\nPreviously we just said \"Error exporting, provided value is too long\".", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/161/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/160", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/160/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/160/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/160/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/160", "id": 1056173051, "node_id": "PR_kwDOFR5pIs4uqACK", "number": 160, "title": "cli: Use `..Default::default()` for proxy options", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-17T14:06:51Z", "updated_at": "2021-11-17T16:00:43Z", "closed_at": "2021-11-17T16:00:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/160", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/160", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/160.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/160.patch", "merged_at": "2021-11-17T16:00:43Z"}, "body": "This way it's not a breaking change to add a new member to the\r\nstruct.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/160/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/158", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/158/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/158/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/158", "id": 1050317699, "node_id": "PR_kwDOFR5pIs4uX4cf", "number": 158, "title": "Ci update", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-10T21:17:24Z", "updated_at": "2021-11-10T22:01:48Z", "closed_at": "2021-11-10T22:01:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/158", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/158", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/158.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/158.patch", "merged_at": "2021-11-10T22:01:48Z"}, "body": "ci: Sync with containers/containers-image-proxy-rs\r\n\r\nSpecifically this picks up the rust-cache bits which dramatically\r\nspeed up CI builds.\r\n\r\n---\r\n\r\nci: Re-indent yaml\r\n\r\nFor cleanliness.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/158/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/157", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/157/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/157/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/157/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/157", "id": 1050310213, "node_id": "PR_kwDOFR5pIs4uX22X", "number": 157, "title": "Bump to 0.5.0", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-10T21:07:16Z", "updated_at": "2021-11-10T21:19:40Z", "closed_at": "2021-11-10T21:19:40Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/157", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/157", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/157.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/157.patch", "merged_at": "2021-11-10T21:19:40Z"}, "body": "For various API changes.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/157/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/156", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/156/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/156/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/156", "id": 1050283772, "node_id": "PR_kwDOFR5pIs4uXxYW", "number": 156, "title": "Bump to containers-image-proxy 0.3, add proxy config as API and CLI", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-10T20:32:18Z", "updated_at": "2021-11-10T21:06:17Z", "closed_at": "2021-11-10T21:06:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/156", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/156", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/156.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/156.patch", "merged_at": "2021-11-10T21:06:17Z"}, "body": "Bump to containers-image-proxy 0.3\r\n\r\n---\r\n\r\nlib/container: Drop unnecessary `mut` for proxy\r\n\r\nThe proxy has gone back to a shared borrow with internal locking.\r\n\r\n---\r\n\r\nlib: Expose proxy configuration as public API\r\n\r\nWe will need to support basically all options that the proxy\r\ndoes, such as disabling TLS, separate authfile etc.\r\n\r\nRather than write a new type, just re-export it.\r\n\r\nThread the new options struct through the store and deploy APIs.\r\n\r\n---\r\n\r\ncli: Expose current container proxy opts as CLI flags\r\n\r\nWe want this for the same reason they exist in skopeo\r\naround non-default authfiles, etc.\r\n\r\nThe chain here is pretty amazing:\r\n\r\n- containers/image internal Go API\r\n- skopeo CLI flags\r\n- containers/containers-image-proxy Rust API\r\n- ostreedev/ostree-rs-ext Rust API\r\n- ostreedev/ostree-rs-ext CLI code\r\n- rpm-ostree CLI\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/156/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/155", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/155/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/155/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/155/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/155", "id": 1049041110, "node_id": "PR_kwDOFR5pIs4uTt9o", "number": 155, "title": "`Cargo.toml`: Add build tweaks from rpm-ostree", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-09T19:46:28Z", "updated_at": "2021-11-10T13:47:02Z", "closed_at": "2021-11-10T13:47:01Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/155", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/155", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/155.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/155.patch", "merged_at": "2021-11-10T13:47:01Z"}, "body": "For the same reasons.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/155/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/152", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/152/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/152/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/152/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/152", "id": 1048643280, "node_id": "PR_kwDOFR5pIs4uSZRZ", "number": 152, "title": "container: Add options struct for encapsulation", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-09T14:02:13Z", "updated_at": "2021-11-09T18:34:31Z", "closed_at": "2021-11-09T18:34:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/152", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/152", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/152.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/152.patch", "merged_at": "2021-11-09T18:34:31Z"}, "body": "This exposes the ability to disable compression, which is mostly\r\nonly useful for the internal flow that pushes to containers/storage\r\nwhere we don't want compression.\r\n\r\nBut the main goal here is to pave the way for adding a `bool chunking`.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/152/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/151", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/151/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/151/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/151", "id": 1048026409, "node_id": "PR_kwDOFR5pIs4uQZ1Z", "number": 151, "title": "ostree-and-containers.md: Forgot to `git add` in a previous PR", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-08T23:29:52Z", "updated_at": "2021-11-09T18:36:38Z", "closed_at": "2021-11-09T18:36:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/151", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/151", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/151.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/151.patch", "merged_at": "2021-11-09T18:36:38Z"}, "body": "I split this off in\r\nhttps://github.com/ostreedev/ostree-rs-ext/pull/141\r\nBut forgot to `git add` apparently.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/151/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/150", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/150/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/150/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/150", "id": 1046245533, "node_id": "PR_kwDOFR5pIs4uK0cO", "number": 150, "title": "Misc clippy", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-05T21:08:16Z", "updated_at": "2021-11-08T13:50:27Z", "closed_at": "2021-11-08T13:50:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/150", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/150", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/150.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/150.patch", "merged_at": "2021-11-08T13:50:27Z"}, "body": "Fix `clippy::needless_borrow`\r\n\r\n---\r\n\r\nFix two minor clippy lints\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/150/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/149", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/149/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/149/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/149", "id": 1046107092, "node_id": "PR_kwDOFR5pIs4uKXUV", "number": 149, "title": "container/store: Write filter data to commitmeta, clean up API", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/milestones/1", "html_url": "https://github.com/ostreedev/ostree-rs-ext/milestone/1", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/milestones/1/labels", "id": 7322047, "node_id": "MI_kwDOFR5pIs4Ab7m_", "number": 1, "title": "0.5.0", "description": "", "creator": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "open", "created_at": "2021-11-03T18:00:27Z", "updated_at": "2021-11-08T15:16:00Z", "due_on": null, "closed_at": null}, "comments": 0, "created_at": "2021-11-05T18:03:56Z", "updated_at": "2021-11-08T15:16:00Z", "closed_at": "2021-11-08T15:16:00Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/149", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/149", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/149.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/149.patch", "merged_at": "2021-11-08T15:16:00Z"}, "body": "The import path was previously providing the data about filtered-out\r\ncontent (e.g. files in `/var`) \"out of band\" as part of the import\r\nreturn value.  But this means that unless that data is e.g. logged\r\nit ends up being lost.\r\n\r\nSince the amount of data is bounded, let's instead add it as metadata\r\nto the merge commit.\r\n\r\nThen this lets us make a nice cleanup of entirely dropping the\r\n`CompletedImport` struct in favor of the `LayeredImageState` that\r\nwe use in various places.\r\n\r\nNow it's possible for something like `rpm-ostree status` to also\r\nreliably show how many files were filtered out of each layer.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/149/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/148", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/148/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/148/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/148/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/148", "id": 1045989604, "node_id": "PR_kwDOFR5pIs4uJ-v5", "number": 148, "title": "Tracing and containers-image-proxy 0.2", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-05T15:44:44Z", "updated_at": "2021-11-05T16:33:04Z", "closed_at": "2021-11-05T16:33:04Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/148", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/148", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/148.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/148.patch", "merged_at": "2021-11-05T16:33:04Z"}, "body": "Add some more tracing in container path\r\n\r\nSeeing a hang in upgrades in rpm-ostree, this may help debug.\r\n\r\n---\r\n\r\ncontainer: Bump to containers-image-proxy 0.2\r\n\r\nThis requires threading `mut` around more.  Motivated by\r\nimproved logging/debugging.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/148/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/147", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/147/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/147/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/147", "id": 1044743813, "node_id": "PR_kwDOFR5pIs4uF6Cy", "number": 147, "title": "container: Rework API and model around \"base commit\" and \"merge commit\"", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-04T13:07:28Z", "updated_at": "2021-11-04T18:22:27Z", "closed_at": "2021-11-04T18:22:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/147", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/147", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/147.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/147.patch", "merged_at": "2021-11-04T18:22:27Z"}, "body": "containers: Expose a state struct with base commit and layering state\r\n\r\nThis is actually quite analogous to what rpm-ostree does internally;\r\na lot of the internals there distinguish \"base\" versus \"layered\"\r\ncommits, and this is very similar.\r\n\r\nHere, when we import a non-layered image, we can mostly\r\nignore the merge commit since all it has is the image manifest.\r\nThe base image layer ref *is* the encapsulated ostree commit with\r\nall the metadata injected by (rpm-)ostree in the non-layered case.\r\n\r\nAdd an API which exposes this as a struct, and also return it\r\nfrom the importer's `AlreadyPresent` case.\r\n\r\n---\r\n\r\ncontainer: Change import result case to contain state struct\r\n\r\nNotably, this also stops exposing the ostree ref for the merge commit,\r\nwhich I think is a good idea in general since it should be thought\r\nof more as an implementation detail.\r\n\r\nIn other words, this module speaks container image references\r\nand ostree commits.\r\n\r\n---\r\n\r\ncontainer/deploy: Use base commit if we're not layered\r\n\r\nIf we're not doing a layered image, then use the base commit\r\nfor the deployment.\r\n\r\nCloses: https://github.com/ostreedev/ostree-rs-ext/issues/143\r\n\r\n---\r\n\r\ncontainer/deploy: Also write ref with target if provided\r\n\r\nWith this new emphasis on \"dual commit objects\" for the container\r\ndeployment, the higher level code queries via container image references\r\nand we don't expose the ostree ref (since there is no longer a single\r\none).\r\n\r\nThis makes it critical to write the internal ref matching the\r\ntarget container image, because it now needs to match the origin.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/147/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/142", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/142/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/142/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/142", "id": 1042353995, "node_id": "PR_kwDOFR5pIs4t-0sR", "number": 142, "title": "(cargo-release) version 0.4.0", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-02T13:32:10Z", "updated_at": "2021-11-02T13:40:03Z", "closed_at": "2021-11-02T13:40:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/142", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/142", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/142.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/142.patch", "merged_at": "2021-11-02T13:40:03Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/142/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/142/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/141", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/141/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/141/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/141/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/141", "id": 1041504986, "node_id": "PR_kwDOFR5pIs4t8Z10", "number": 141, "title": "README.md: Various updates/reworking", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-01T19:14:46Z", "updated_at": "2021-11-02T13:15:41Z", "closed_at": "2021-11-02T13:15:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/141", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/141", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/141.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/141.patch", "merged_at": "2021-11-02T13:15:41Z"}, "body": "- Include an architecture diagram\r\n- Split off the \"why ostree with containers\" detail bits to\r\n  separate file\r\n- Describe a little bit more about layering now that it's supported", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/141/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/140", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/140/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/140/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/140", "id": 1041320086, "node_id": "PR_kwDOFR5pIs4t7zKT", "number": 140, "title": "Clean up `deny/forbid` bits", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-01T15:49:12Z", "updated_at": "2021-11-01T15:55:32Z", "closed_at": "2021-11-01T15:55:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/140", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/140", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/140.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/140.patch", "merged_at": "2021-11-01T15:55:32Z"}, "body": "We had duplicate versions of these inside the `mod.rs`; the\r\nversions in the top level `lib.rs` are all that are needed.\r\n\r\nHowever, because the cli is a separate unit, copy them there too.\r\nNot that there's actually anything actually *in* the cli `main.rs`,\r\nbut it's a good best practice in case the code does grow for some\r\nreason, or it gets cargo culted elsewhere.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/140/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/139", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/139/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/139/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/139", "id": 1039860339, "node_id": "PR_kwDOFR5pIs4t3YFP", "number": 139, "title": "ociwriter: Various improvements", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-29T19:17:19Z", "updated_at": "2021-11-01T13:17:49Z", "closed_at": "2021-11-01T13:17:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/139", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/139", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/139.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/139.patch", "merged_at": "2021-11-01T13:17:49Z"}, "body": "lib: Rename internal `oci` module to `ociwriter`\r\n\r\nThis makes fully clear this is just for writing; reading\r\nis handled via the `containers-image-proxy` and `oci_spec` crates.\r\n\r\n---\r\n\r\nociwriter: Expose API to push multiple layers\r\n\r\nPrep for \"blob splitting\" the base ostree.\r\n\r\n---\r\n\r\nociwriter: Add methods to create layers from writer\r\n\r\nThis is cleaner than calling `LayerWriter::new` with the\r\nsame directory.\r\n\r\nAlso rename it to `RawLayerWriter`, and add a helper method\r\nthat wraps it in a `tar::Builder` that will be used in future code.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/139/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/138", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/138/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/138/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/138/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/138", "id": 1039570762, "node_id": "PR_kwDOFR5pIs4t2bo9", "number": 138, "title": "lib/container: Use \"encapsulate\" terminology for module names too", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-29T13:29:38Z", "updated_at": "2021-11-01T13:30:25Z", "closed_at": "2021-11-01T13:30:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/138", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/138", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/138.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/138.patch", "merged_at": "2021-11-01T13:30:24Z"}, "body": "Previously in https://github.com/ostreedev/ostree-rs-ext/pull/113\r\nwe changed the CLI entrypoints with this rationale:\r\n\r\n> Since we're moving towards more \"native\" support for container\r\n> images, we need to very clearly differentiate between the code\r\n> that currently uses the terms \"import\" and \"export\" which are\r\n> somewhat ambiguous.\r\n\r\nTo elaborate, the term \"import\" is ambiguous with respect to our\r\ncontainer \"store\" path, which generates a new ostree commit and\r\noperates on arbitrary container images.\r\n\r\nLet's take the next step now and rename the modules too.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/138/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/137", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/137/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/137/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/137", "id": 1039012482, "node_id": "PR_kwDOFR5pIs4t0pN6", "number": 137, "title": "lib/container: Expose `oci_spec::image::ImageManifest` publicly", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-28T22:47:04Z", "updated_at": "2021-10-29T13:37:43Z", "closed_at": "2021-10-29T13:37:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/137", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/137", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/137.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/137.patch", "merged_at": "2021-10-29T13:37:43Z"}, "body": "Previously we had our own internal definitions for these things,\r\nwhich I didn't want to make public API.\r\n\r\nNow that a crate exists for this and we're using it internally,\r\nlet's take the next step and expose it as part of our API.\r\n\r\nThis will allow clients (e.g. rpm-ostree) to render things more nicely.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/137/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/136", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/136/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/136/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/136", "id": 1038979193, "node_id": "PR_kwDOFR5pIs4t0iOf", "number": 136, "title": "lib/cli: Use `#[structopt(parse)]`", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-28T21:44:58Z", "updated_at": "2021-10-29T13:16:25Z", "closed_at": "2021-10-29T13:16:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/136", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/136", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/136.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/136.patch", "merged_at": "2021-10-29T13:16:25Z"}, "body": "This is both less code *and* results in better error messages\r\nfor invalid values.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/136/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/135", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/135/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/135/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/135/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/135", "id": 1038967530, "node_id": "PR_kwDOFR5pIs4t0fyD", "number": 135, "title": "container/deploy: Add a `--target-imgref` option", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-28T21:25:46Z", "updated_at": "2021-11-03T13:36:38Z", "closed_at": "2021-10-29T13:06:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/135", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/135", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/135.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/135.patch", "merged_at": "2021-10-29T13:06:06Z"}, "body": "We want the ability to separate the image that's pulled from its\r\ntarget reference.  This is what we do today in coreos-assembler\r\nfor pure ostree refs - e.g. we deploy via a commit hash, but\r\nstill have `ostree admin upgrade` pull from a ref.\r\n\r\nThis is equivalent functionality for containers.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/135/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/134", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/134/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/134/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/134", "id": 1038940022, "node_id": "PR_kwDOFR5pIs4t0aRz", "number": 134, "title": "Dep cleanup", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-28T20:47:37Z", "updated_at": "2021-10-29T13:07:28Z", "closed_at": "2021-10-29T13:07:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/134", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/134", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/134.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/134.patch", "merged_at": "2021-10-29T13:07:28Z"}, "body": "lib: Drop unused `serde-plain`\r\n\r\nI planned to use this I guess, but didn't.\r\n\r\n---\r\n\r\nlib: Remove clap/structopt from dev-dependencies\r\n\r\nWe expose the CLI as part of the library now.\r\n\r\n---\r\n\r\nlib: Remove `maplit`\r\n\r\nIt's unused.\r\n\r\n---\r\n\r\nlib: Remove `tokio-stream`\r\n\r\nNot used since we switched to forking `skopeo`.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/134/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/133", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/133/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/133/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/133/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/133", "id": 1037862415, "node_id": "PR_kwDOFR5pIs4tw47Y", "number": 133, "title": "Add a public API to get manifest digest", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-27T21:06:19Z", "updated_at": "2021-10-28T18:38:57Z", "closed_at": "2021-10-28T18:38:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/133", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/133", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/133.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/133.patch", "merged_at": "2021-10-28T18:38:57Z"}, "body": "rpm-ostree wants to show this.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/133/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/132", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/132/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/132/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/132", "id": 1037692631, "node_id": "PR_kwDOFR5pIs4twVeg", "number": 132, "title": "Add a new `keyfileext` module with `KeyFileExt` trait", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-27T17:45:36Z", "updated_at": "2021-10-28T12:58:59Z", "closed_at": "2021-10-28T12:58:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/132", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/132", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/132.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/132.patch", "merged_at": "2021-10-28T12:58:59Z"}, "body": "Draining more code from rpm-ostree around handling `glib::KeyFile`.\r\n\r\nI will try to do a PR to add this stuff to the main glib crate,\r\nbut one step at a time.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/132/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/131", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/131/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/131/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/131", "id": 1037482361, "node_id": "PR_kwDOFR5pIs4tvqGw", "number": 131, "title": "container/deploy: Change origin key to match what rpm-ostree is using", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-27T14:18:10Z", "updated_at": "2021-10-27T14:36:03Z", "closed_at": "2021-10-27T14:36:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/131", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/131", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/131.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/131.patch", "merged_at": "2021-10-27T14:36:03Z"}, "body": "The original higher level (sysroot oriented) code for container\r\nbits was prototyped more in rpm-ostree, where we picked the key\r\n`container-image-reference`.\r\n\r\nWhen I went to write the deploy code here, I picked the key `container`\r\ninstead.  But, I think `container-image-reference` is more\r\nself-explanatory.  No one is going to be typing this stuff by hand,\r\nso verbosity is OK.\r\n\r\nNow further, let's make the group `origin` matching the group for the\r\nbase `refspec` key.  (Again matching rpm-ostree too)\r\nThis makes `container-image-reference` feel as native as `refspec`\r\nto ostree.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/131/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/130", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/130/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/130/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/130", "id": 1036755323, "node_id": "PR_kwDOFR5pIs4ttVDC", "number": 130, "title": "cli: Add missing sysroot load", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-26T21:26:41Z", "updated_at": "2021-10-27T14:23:11Z", "closed_at": "2021-10-27T13:52:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/130", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/130", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/130.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/130.patch", "merged_at": "2021-10-27T13:52:58Z"}, "body": "\"Shouldn't we have CI tests that cover this?\" you ask - yes, yes\r\nwe should.  Need to deduplicate infrastructure for this between this\r\nand the main ostree repo - or between this and rpm-ostree.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/130/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/129", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/129/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/129/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/129", "id": 1036612895, "node_id": "PR_kwDOFR5pIs4ts3Q1", "number": 129, "title": "oci: Finish porting to main oci_spec crate", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-26T18:28:47Z", "updated_at": "2021-10-26T21:02:02Z", "closed_at": "2021-10-26T21:02:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/129", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/129", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/129.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/129.patch", "merged_at": "2021-10-26T21:02:02Z"}, "body": "This removes our internal structs for `Manifest`, which is prep\r\nfor exposing the `oci_spec` crate types as public API.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/129/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/128", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/128/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/128/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/128/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/128", "id": 1036304839, "node_id": "PR_kwDOFR5pIs4tr2SG", "number": 128, "title": "Use tokio SyncIoBridge", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-26T13:31:19Z", "updated_at": "2021-11-03T16:19:48Z", "closed_at": "2021-11-03T16:19:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/128", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/128", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/128.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/128.patch", "merged_at": "2021-11-03T16:19:48Z"}, "body": "We can only land this after a new tokio is released with\r\nhttps://github.com/tokio-rs/tokio/pull/4146", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/128/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/127", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/127/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/127/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/127", "id": 1035560705, "node_id": "PR_kwDOFR5pIs4tpbCh", "number": 127, "title": "lib/oci: Make writer completion consume self", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-25T20:49:45Z", "updated_at": "2021-10-26T13:16:50Z", "closed_at": "2021-10-26T13:16:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/127", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/127", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/127.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/127.patch", "merged_at": "2021-10-26T13:16:50Z"}, "body": "This will allow us to pass ownership of e.g. annotations to\r\nOCI data in the future.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/127/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/126", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/126/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/126/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/126", "id": 1035343105, "node_id": "PR_kwDOFR5pIs4totjw", "number": 126, "title": "Tar minor cleanup", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-25T16:32:39Z", "updated_at": "2021-10-26T17:35:38Z", "closed_at": "2021-10-26T17:35:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/126", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/126", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/126.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/126.patch", "merged_at": "2021-10-26T17:35:38Z"}, "body": "tar/export: Add a `new()` method\r\n\r\nGeneral cleanup, and prep for further work around tar-split.\r\n\r\n---\r\n\r\ntar/export: Rename internal struct\r\n\r\nIt's not just a metadata writer.\r\n\r\n---\r\n\r\ntar/export: Move initial directory writes to helper function\r\n\r\nThis way the writer owns the whole stream, which I think is\r\ncleaner.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/126/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/125", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/125/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/125/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/125", "id": 1035257049, "node_id": "PR_kwDOFR5pIs4tobgK", "number": 125, "title": "container/store: Box PreparedImport case", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-25T15:09:49Z", "updated_at": "2021-10-26T13:32:12Z", "closed_at": "2021-10-26T13:32:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/125", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/125", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/125.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/125.patch", "merged_at": "2021-10-26T13:32:12Z"}, "body": "clippy correctly notes there's a large size difference between\r\nthe two variants.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/125/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/124", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/124/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/124/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/124", "id": 1035256553, "node_id": "PR_kwDOFR5pIs4tobZc", "number": 124, "title": "Fix misc clippy lints", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-25T15:09:27Z", "updated_at": "2021-10-25T15:54:18Z", "closed_at": "2021-10-25T15:54:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/124", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/124", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/124.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/124.patch", "merged_at": "2021-10-25T15:54:18Z"}, "body": "Nothing important here, just trying to keep clippy happy\r\nso the real problems don't get lost in noise.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/124/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/122", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/122/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/122/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/122/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/122", "id": 1033718236, "node_id": "PR_kwDOFR5pIs4tjoRJ", "number": 122, "title": "Factor out internal `objgv` module with `gv!` incantations", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-22T15:43:16Z", "updated_at": "2021-10-25T07:40:39Z", "closed_at": "2021-10-25T07:40:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/122", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/122", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/122.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/122.patch", "merged_at": "2021-10-25T07:40:39Z"}, "body": "I plan to add some more code which uses this, so let's deduplicate\r\nthe hairy GVariant type strings.\r\n\r\nI also tried to deduplicate this more by having a function or\r\nmacro that abstracts the `data_as_bytes()` and `try_as_aligned`\r\nstuff, but couldn't figure out how to do it.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/122/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/120", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/120/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/120/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/120", "id": 1030692198, "node_id": "PR_kwDOFR5pIs4tZ1Z7", "number": 120, "title": "Add `ostree-unverified-registry:` shorthand", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-19T20:00:35Z", "updated_at": "2021-10-20T12:56:04Z", "closed_at": "2021-10-20T12:56:04Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/120", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/120", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/120.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/120.patch", "merged_at": "2021-10-20T12:56:04Z"}, "body": "In testing right now, I find myself using\r\n`ostree-unverified-image:registry:...` a lot.  It will\r\nreally be the common case for experimentation, so let's\r\nadd the shorthand.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/120/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/119", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/119/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/119/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/119/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/119", "id": 1027718309, "node_id": "PR_kwDOFR5pIs4tQ9Xk", "number": 119, "title": "Switch to published containers-image-proxy crate", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-15T18:45:25Z", "updated_at": "2021-10-18T13:02:35Z", "closed_at": "2021-10-18T13:02:35Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/119", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/119", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/119.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/119.patch", "merged_at": "2021-10-18T13:02:35Z"}, "body": "https://github.com/containers/containers-image-proxy-rs\r\nand https://crates.io/crates/containers-image-proxy\r\nexist now.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/119/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/119/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/118", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/118/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/118/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/118", "id": 1024095232, "node_id": "PR_kwDOFR5pIs4tFguJ", "number": 118, "title": "Switch to using new skopeo proxy code", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-12T18:01:20Z", "updated_at": "2021-10-14T21:22:22Z", "closed_at": "2021-10-14T21:22:22Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/118", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/118", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/118.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/118.patch", "merged_at": "2021-10-14T21:22:22Z"}, "body": "This uses a custom JSON-over-SOCK_SEQPACKET with fd passing\r\nfor data.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/118/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/117", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/117/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/117/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/117", "id": 1018759437, "node_id": "PR_kwDOFR5pIs4s025L", "number": 117, "title": "lib: Bump to ostree 0.13.3", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-06T16:57:02Z", "updated_at": "2021-10-07T14:25:09Z", "closed_at": "2021-10-07T14:25:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/117", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/117", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/117.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/117.patch", "merged_at": "2021-10-07T14:25:08Z"}, "body": "And require v2021.5 because we do in practice for the fixed tar+selinux\r\nbits.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/117/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/116", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/116/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/116/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/116", "id": 1016979585, "node_id": "PR_kwDOFR5pIs4surT5", "number": 116, "title": "container/oci: Add config to Manifest + container/oci: Use our Manifest struct when writing", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-05T22:36:57Z", "updated_at": "2021-10-06T12:58:54Z", "closed_at": "2021-10-06T12:58:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/116", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/116", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/116.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/116.patch", "merged_at": "2021-10-06T12:58:53Z"}, "body": "container/oci: Add config to Manifest\r\n\r\nIt's required, and we need it to compute the \"ImageID\".\r\nxref https://github.com/ostreedev/ostree-rs-ext/issues/115\r\n\r\n---\r\n\r\ncontainer/oci: Use our Manifest struct when writing\r\n\r\nThis way we get type safety, we're testing the API etc.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/116/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/114", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/114/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/114/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/114", "id": 1015532465, "node_id": "PR_kwDOFR5pIs4sqEks", "number": 114, "title": "cli: Switch to nested match for container opts", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-04T19:09:10Z", "updated_at": "2021-10-05T12:34:51Z", "closed_at": "2021-10-05T12:34:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/114", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/114", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/114.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/114.patch", "merged_at": "2021-10-05T12:34:51Z"}, "body": "A bit more rightward drift, but less duplication.  Prep for\r\nfurther commands.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/114/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/113", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/113/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/113/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/113", "id": 1013739752, "node_id": "PR_kwDOFR5pIs4slG6w", "number": 113, "title": "cli: Use the terms \"encapsulate\" and \"unencapsulate\"", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-01T20:33:44Z", "updated_at": "2021-10-04T12:47:47Z", "closed_at": "2021-10-04T12:47:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/113", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/113", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/113.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/113.patch", "merged_at": "2021-10-04T12:47:47Z"}, "body": "Since we're moving towards more \"native\" support for container\r\nimages, we need to *very clearly* differentiate between the code\r\nthat currently uses the terms \"import\" and \"export\" which are\r\nsomewhat ambiguous.\r\n\r\nStarting with the CLI, replace \"export\" with \"encapsulate\"\r\nand \"import\" with \"unencapsulate\".  This makes things much clearer\r\nI think - for example, that when unencapsulating, we discard\r\nthe container image wrapper.\r\n\r\nWhen dealing with container images natively, we cannot fully discard\r\nthe wrapper (manifest, etc.) because we need to understand the layers.\r\n\r\nWhile we're here, copy paste updated bits from the Rust module\r\ndoc into the `README.md`.  I hope in the future to deduplicate\r\nthis.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/113/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/112", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/112/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/112/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/112", "id": 1013689119, "node_id": "PR_kwDOFR5pIs4sk9MS", "number": 112, "title": "lib/tar: Pre-filter tar archive in Rust", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-10-01T19:24:11Z", "updated_at": "2021-10-05T12:57:38Z", "closed_at": "2021-10-05T12:57:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/112", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/112", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/112.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/112.patch", "merged_at": "2021-10-05T12:57:38Z"}, "body": "Rather than trying to extend the ostree C code to support\r\narbitrary transformations, let's do pre-parsing here in safe Rust.\r\n\r\nWe keep the `/etc` \u2192 `/usr/etc` bits, but we also just completely\r\ndrop everything not in `/usr` now.\r\n\r\nAs noted in the comment, this pre-validation will hopefully also\r\ncatch any corrupt tarballs that might be exploitable in the C libarchive\r\ncodebase.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/112/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/111", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/111/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/111/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/111", "id": 1012646817, "node_id": "PR_kwDOFR5pIs4sh1vE", "number": 111, "title": "Bump to ostree 0.13.2", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-30T21:35:21Z", "updated_at": "2021-10-01T12:52:21Z", "closed_at": "2021-10-01T12:52:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/111", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/111", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/111.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/111.patch", "merged_at": "2021-10-01T12:52:21Z"}, "body": "This lets us use the auto transaction bits.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/111/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/110", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/110/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/110/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/110", "id": 1010269736, "node_id": "PR_kwDOFR5pIs4sayHF", "number": 110, "title": "tar/write: Don't actually derive from base when using selinux", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-28T22:28:09Z", "updated_at": "2021-09-30T20:49:52Z", "closed_at": "2021-09-30T20:49:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/110", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/110", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/110.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/110.patch", "merged_at": "2021-09-30T20:49:52Z"}, "body": "Using `--selinux-policy-from-base` is very convenient but wrong\r\nhere because it means that each derived commit also has the whole\r\nbase filesystem tree, which greatly obscures its logical content.\r\n\r\nInstead, we get the base when we dynamically union things at the end.\r\n\r\nAs noted the API we really want here is\r\nhttps://github.com/ostreedev/ostree/pull/2447\r\nbut it will take a bit for ostree to release with it.\r\nAnd even once it does, we need to do some other changes to switch\r\nover to parsing the tarball directly too.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/110/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/109", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/109/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/109/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/109", "id": 1010048583, "node_id": "PR_kwDOFR5pIs4saH1A", "number": 109, "title": "tokio_util: Add API to do GLib+`GCancellable` from `async fn`", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-28T17:59:16Z", "updated_at": "2021-09-29T17:50:15Z", "closed_at": "2021-09-29T17:50:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/109", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/109", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/109.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/109.patch", "merged_at": "2021-09-29T17:50:15Z"}, "body": "This is the inverse of the previous API; we have cases today\r\nwhere we're spawning a helper blocking thread that calls functions\r\ninternally that use `GCancellable`, but we weren't passed one.\r\n\r\nSee https://github.com/gtk-rs/gtk-rs-core/issues/240", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/109/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/109/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/108", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/108/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/108/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/108", "id": 1009996722, "node_id": "PR_kwDOFR5pIs4sZ90l", "number": 108, "title": "lib: Fix some rustdoc warnings", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-28T17:03:57Z", "updated_at": "2021-09-29T08:42:27Z", "closed_at": "2021-09-29T08:42:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/108", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/108", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/108.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/108.patch", "merged_at": "2021-09-29T08:42:27Z"}, "body": "URLs need `<>` wrapping.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/108/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/107", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/107/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/107/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/107", "id": 1009990351, "node_id": "PR_kwDOFR5pIs4sZ8p5", "number": 107, "title": "Add new refescape module", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-09-28T16:56:55Z", "updated_at": "2021-09-30T17:23:57Z", "closed_at": "2021-09-30T17:23:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/107", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/107", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/107.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/107.patch", "merged_at": "2021-09-30T17:23:57Z"}, "body": "Prep for work on the new container module, where we want to store\r\ncontainer image references (e.g. `docker://quay.io/coreos/fedora`)\r\nas ostree refs.  Several bits of that are not valid in ostree refs,\r\nsuch as the `:` or the double `//` (which would be an empty filesystem path).\r\n\r\nThis escaping scheme uses `_` in a similar way as a `\\` character is\r\nused in other syntax.  For example, `:` is `_3A_` (hexadecimal).\r\n`//` is escaped as `/_2F_` (i.e. the second `/` is escaped).", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/107/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/106", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/106/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/106/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/106", "id": 1008586204, "node_id": "PR_kwDOFR5pIs4sVcxp", "number": 106, "title": "Add tokio_util module", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-27T20:42:46Z", "updated_at": "2021-09-28T12:42:04Z", "closed_at": "2021-09-28T12:42:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/106", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/106", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/106.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/106.patch", "merged_at": "2021-09-28T12:42:03Z"}, "body": "This takes the code from https://github.com/coreos/rpm-ostree/blob/d6ed262f83b33e7fd454699b96661ba323d04128/rust/src/utils.rs#L163\r\nwhich makes more sense here because:\r\n\r\n- We depend on both glib and tokio and the code isn't rpm-ostree specific\r\n- We will want to use this internally to ensure our worker threads\r\n  get cancelled.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/106/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/105", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/105/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/105/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/105", "id": 1008437404, "node_id": "PR_kwDOFR5pIs4sU-w8", "number": 105, "title": "oci: Add `#[derive(Clone, PartialEq, Eq)]`", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-27T18:02:05Z", "updated_at": "2021-09-28T12:42:13Z", "closed_at": "2021-09-28T12:42:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/105", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/105", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/105.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/105.patch", "merged_at": "2021-09-28T12:42:13Z"}, "body": "It's generally useful.  Prep for later patches.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/105/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/104", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/104/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/104/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/104", "id": 1008110017, "node_id": "PR_kwDOFR5pIs4sT9Lp", "number": 104, "title": "lib/tar/write: Translate /etc \u2192 /usr/etc by default", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-27T12:50:34Z", "updated_at": "2021-09-27T13:52:06Z", "closed_at": "2021-09-27T13:52:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/104", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/104", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/104.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/104.patch", "merged_at": "2021-09-27T13:52:06Z"}, "body": "We need this on general principle, because while ostree tries\r\nto support both `/etc` and `/usr/etc`, in practice rpm-ostree\r\neffectively requires ostree commits to have `/usr/etc`.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/104/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/103", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/103/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/103/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/103", "id": 1008106139, "node_id": "PR_kwDOFR5pIs4sT8Zx", "number": 103, "title": "lib: Lower bitflags requirement to just \"1\"", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-09-27T12:46:50Z", "updated_at": "2021-09-27T17:35:32Z", "closed_at": "2021-09-27T17:35:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/103", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/103", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/103.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/103.patch", "merged_at": "2021-09-27T17:35:32Z"}, "body": "\r\n\r\nThis is dealt with in a newer nix but we need to match\r\nwhat is locked in rpm-ostree right now.  See\r\nhttps://github.com/nix-rust/nix/commit/5495bbce52d3541f90d13e692a1cef34e186e100\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/103/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/102", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/102/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/102/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/102", "id": 1006841389, "node_id": "PR_kwDOFR5pIs4sQfUm", "number": 102, "title": " lib/container: Correctly handle uncompressed layers", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-24T21:34:43Z", "updated_at": "2021-09-27T17:37:17Z", "closed_at": "2021-09-27T17:37:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/102", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/102", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/102.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/102.patch", "merged_at": "2021-09-27T17:37:17Z"}, "body": "Depends https://github.com/ostreedev/ostree-rs-ext/pull/101\r\n\r\n---\r\n\r\nTrying to pull from `containers-storage:` it actually exports\r\nuncompressed tarballs, which makes sense.\r\n\r\nClean up our layer handling to correctly match on the media\r\ntype and return the correct decompressor.  This is also prep\r\nfor handling zstd.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/102/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/101", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/101/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/101/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/101", "id": 1006738003, "node_id": "PR_kwDOFR5pIs4sQLSW", "number": 101, "title": "lib/container: Use pin-project for ProgressReader", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-24T18:50:35Z", "updated_at": "2021-09-27T12:43:21Z", "closed_at": "2021-09-27T12:43:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/101", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/101", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/101.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/101.patch", "merged_at": "2021-09-27T12:43:20Z"}, "body": "lib/container: Use pin-project for ProgressReader\r\n\r\nI recently read through https://fasterthanli.me/articles/pin-and-suffering\r\nand realized the use of pin-project is what we need here.\r\n\r\nThis avoids us need an `Unpin` bound which is nicer.\r\n\r\nI also switched to avoid mutating our own structure (if progress\r\nreceiver disconnects we just keep trying to send) because I was\r\nfighting `Pin` + mutability.\r\n\r\n---\r\n\r\nlib: Clean up AsyncRead \u2192 Read bridge\r\n\r\nI have now realized why so many APIs in std and tokio etc. return\r\nnamed but generic structures.  It's because it helps ensure that things like\r\n`Send` bounds are automatically propagated as needed.\r\n\r\nIf instead one wraps it behind a generic function, then all bounds need to\r\nbe specified on the return value (so you'd need one for `_send` types and\r\none for non-send etc).\r\n\r\nPrep for some other container cleanups.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/101/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/100", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/100/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/100/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/100", "id": 1006643437, "node_id": "PR_kwDOFR5pIs4sP47R", "number": 100, "title": "Layered import followups", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-24T16:38:16Z", "updated_at": "2021-09-24T20:23:28Z", "closed_at": "2021-09-24T20:23:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/100", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/100", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/100.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/100.patch", "merged_at": "2021-09-24T20:23:28Z"}, "body": "imageproxy: Add context to failure to spawn\r\n\r\nSince missing the binary is probably going to be common.\r\n\r\n---\r\n\r\nimageproxy: Add some docstrings\r\n\r\nOn general principle.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/100/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/99", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/99/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/99/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/99", "id": 1005909024, "node_id": "PR_kwDOFR5pIs4sNqsQ", "number": 99, "title": "Add a new container/store module", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-09-23T22:45:45Z", "updated_at": "2021-10-07T14:18:50Z", "closed_at": "2021-10-07T14:18:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/99", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/99", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/99.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/99.patch", "merged_at": "2021-10-07T14:18:50Z"}, "body": "tests: Use --no-bindings for base commit\r\n\r\nSince we're not meaning to fetch this via libostree, using\r\nbindings inhibits native pulls for forthcoming `container copy`\r\nwork.\r\n\r\n---\r\n\r\nAdd a new container/store module\r\n\r\nThe initial scope of this project was just \"encapsulating\" ostree\r\ncommits in containers.\r\n\r\nHowever, when doing that a very, very natural question arises:\r\nWhy not support *deriving* from that base image container, and\r\nhave the tooling natively support importing it?\r\n\r\nThis initial prototype code implements that.  Here, we still use\r\nthe `tar::import` path for the base image - we expect it to have\r\na pre-generated ostree commit.\r\n\r\nThis new `container::store` module processes layered images and\r\ngenerates (client side) ostree commits from the tar layers.\r\n\r\nThere's a whole lot of new infrastructure we need around mapping\r\nostree refs to blobs and images, etc.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/99/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/99/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/98", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/98/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/98/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/98", "id": 1004571928, "node_id": "PR_kwDOFR5pIs4sJhvA", "number": 98, "title": "Fetch via container-image-proxy", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-09-22T17:57:22Z", "updated_at": "2021-09-24T15:39:51Z", "closed_at": "2021-09-24T15:39:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/98", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/98", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/98.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/98.patch", "merged_at": "2021-09-24T15:39:50Z"}, "body": "\r\nhttps://github.com/cgwalters/container-image-proxy\r\nis prototype code to expose containers/image via a HTTP API\r\nsuitable for use in non-Go programs.\r\n\r\nThis has many advantages over us forking skopeo; the key one being\r\non-demand layer fetching.\r\n\r\n\r\nCloses: https://github.com/ostreedev/ostree-rs-ext/issues/18\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/98/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/98/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/97", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/97/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/97/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/97", "id": 1003258782, "node_id": "PR_kwDOFR5pIs4sFPPq", "number": 97, "title": "test: Add an `#[ignore]`d test to verify registry integration", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-21T20:50:24Z", "updated_at": "2021-09-23T15:10:42Z", "closed_at": "2021-09-23T15:10:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/97", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/97", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/97.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/97.patch", "merged_at": "2021-09-23T15:10:42Z"}, "body": "Right now we're only testing `oci-archive:` really, let's actually\r\ntest pushing/pulling via Docker registry API.  Since this requires\r\nexternal setup, mark it as `#[ignore]`.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/97/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/97/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/96", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/96/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/96/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/96", "id": 1003023947, "node_id": "PR_kwDOFR5pIs4sEbaG", "number": 96, "title": "lib/tar: Add new `write` module", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-21T18:21:13Z", "updated_at": "2021-09-23T14:52:04Z", "closed_at": "2021-09-23T14:52:04Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/96", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/96", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/96.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/96.patch", "merged_at": "2021-09-23T14:52:04Z"}, "body": "APIs to write a tarball stream into an OSTree commit.\r\n\r\nThis functionality already exists in libostree mostly,\r\nthis API adds a higher level, more ergonomic Rust frontend\r\nto it.\r\n\r\nIn the future, this may also evolve into parsing the tar\r\nstream in Rust, not in C.\r\n\r\nPrep for container derivation.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/96/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/96/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/95", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/95/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/95/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/95", "id": 1003011403, "node_id": "PR_kwDOFR5pIs4sEYjW", "number": 95, "title": "lib/container: Split off helper to find all layers into oci", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-21T18:14:05Z", "updated_at": "2021-09-23T14:22:06Z", "closed_at": "2021-09-23T14:22:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/95", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/95", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/95.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/95.patch", "merged_at": "2021-09-23T14:22:06Z"}, "body": "Prep for derivation, where we want to find all layers.  Move\r\nthis to a method on `Manifest`, and add a unit test for it.\r\nAlso while we're here, change the function to borrow and not clone\r\non general principle.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/95/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/95/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/93", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/93/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/93/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/93", "id": 1001131807, "node_id": "PR_kwDOFR5pIs4r-JkN", "number": 93, "title": "tests: Verify that exported tar is bit-for-bit identical", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-20T15:56:02Z", "updated_at": "2021-09-20T16:23:59Z", "closed_at": "2021-09-20T16:23:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/93", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/93", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/93.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/93.patch", "merged_at": "2021-09-20T16:23:59Z"}, "body": "It's handy to have some level of predictability, so verify\r\nthat the tar stream we output for a given commit is\r\nbit-for-bit identical when invoked twice - with a one\r\nsecond delay to flush out at least things like modification\r\ntimes.\r\n\r\nWe will never be able to assert on a particular checksum, because\r\ne.g. things like the gzip algorithm may compress differently\r\nwhen the code changes.  Related discussion in\r\nhttps://github.com/cgwalters/git-evtag#tarball-reproducibility", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/93/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/93/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/92", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/92/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/92/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/92", "id": 1001063637, "node_id": "PR_kwDOFR5pIs4r970E", "number": 92, "title": "Test fixture cleanup", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-20T14:51:54Z", "updated_at": "2021-09-20T15:54:03Z", "closed_at": "2021-09-20T15:54:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/92", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/92", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/92.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/92.patch", "merged_at": "2021-09-20T15:54:03Z"}, "body": "tests: Add srcrepo to Fixture\r\n\r\nSince most tests want to operate on a src and dest repo,\r\nmove the creation of the srcrepo into `Fixture`.\r\n\r\nGeneral cleanup and prep for future work.\r\n\r\n---\r\n\r\ntests: Drop redundant destrepo creation\r\n\r\nIt's been in `Fixture` for a while.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/92/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/92/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/91", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/91/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/91/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/91", "id": 1000967213, "node_id": "PR_kwDOFR5pIs4r9oRl", "number": 91, "title": "tests: Strengthen error check for empty archive", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-20T13:22:36Z", "updated_at": "2021-09-20T13:41:13Z", "closed_at": "2021-09-20T13:41:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/91", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/91", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/91.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/91.patch", "merged_at": "2021-09-20T13:41:13Z"}, "body": "Just reading the test code and I want to do this in more tests.", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/91/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/91/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/90", "repository_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext", "labels_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/90/comments", "events_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/90/events", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/90", "id": 1000955270, "node_id": "PR_kwDOFR5pIs4r9lx2", "number": 90, "title": "lib/container: Explicitly drain stream", "user": {"login": "cgwalters", "id": 244096, "node_id": "MDQ6VXNlcjI0NDA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgwalters", "html_url": "https://github.com/cgwalters", "followers_url": "https://api.github.com/users/cgwalters/followers", "following_url": "https://api.github.com/users/cgwalters/following{/other_user}", "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions", "organizations_url": "https://api.github.com/users/cgwalters/orgs", "repos_url": "https://api.github.com/users/cgwalters/repos", "events_url": "https://api.github.com/users/cgwalters/events{/privacy}", "received_events_url": "https://api.github.com/users/cgwalters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-20T13:11:47Z", "updated_at": "2021-09-20T14:57:38Z", "closed_at": "2021-09-20T14:57:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/pulls/90", "html_url": "https://github.com/ostreedev/ostree-rs-ext/pull/90", "diff_url": "https://github.com/ostreedev/ostree-rs-ext/pull/90.diff", "patch_url": "https://github.com/ostreedev/ostree-rs-ext/pull/90.patch", "merged_at": "2021-09-20T14:57:38Z"}, "body": "Rather than passing the FIFO stream ownership into and back out\r\nof the parser, just pass an `&mut` reference, and then\r\nexplicitly drain it in the worker thread.\r\n\r\nThis motivates then cleaning up our \"worker\" futures.  Add some\r\ncomments too.\r\n\r\nPrep for future work.\r\n\r\n---\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/90/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ostreedev/ostree-rs-ext/issues/90/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]