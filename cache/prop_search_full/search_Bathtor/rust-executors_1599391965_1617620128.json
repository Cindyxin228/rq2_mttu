[{"url": "https://api.github.com/repos/Bathtor/rust-executors/issues/11", "repository_url": "https://api.github.com/repos/Bathtor/rust-executors", "labels_url": "https://api.github.com/repos/Bathtor/rust-executors/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/Bathtor/rust-executors/issues/11/comments", "events_url": "https://api.github.com/repos/Bathtor/rust-executors/issues/11/events", "html_url": "https://github.com/Bathtor/rust-executors/pull/11", "id": 739804775, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE4NDAxMzY0", "number": 11, "title": "Fix benchmarks spawning detachted tasks. (They where dropped without .detach())", "user": {"login": "stsydow", "id": 961256, "node_id": "MDQ6VXNlcjk2MTI1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/961256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stsydow", "html_url": "https://github.com/stsydow", "followers_url": "https://api.github.com/users/stsydow/followers", "following_url": "https://api.github.com/users/stsydow/following{/other_user}", "gists_url": "https://api.github.com/users/stsydow/gists{/gist_id}", "starred_url": "https://api.github.com/users/stsydow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stsydow/subscriptions", "organizations_url": "https://api.github.com/users/stsydow/orgs", "repos_url": "https://api.github.com/users/stsydow/repos", "events_url": "https://api.github.com/users/stsydow/events{/privacy}", "received_events_url": "https://api.github.com/users/stsydow/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-10T10:55:43Z", "updated_at": "2020-11-17T20:35:29Z", "closed_at": "2020-11-10T15:46:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Bathtor/rust-executors/pulls/11", "html_url": "https://github.com/Bathtor/rust-executors/pull/11", "diff_url": "https://github.com/Bathtor/rust-executors/pull/11.diff", "patch_url": "https://github.com/Bathtor/rust-executors/pull/11.patch", "merged_at": "2020-11-10T15:46:19Z"}, "body": "Fix benchmarks spawning detachted tasks. \r\nThey where dropped without .detach() and the execution hangs.", "reactions": {"url": "https://api.github.com/repos/Bathtor/rust-executors/issues/11/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Bathtor/rust-executors/issues/11/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/Bathtor/rust-executors/issues/10", "repository_url": "https://api.github.com/repos/Bathtor/rust-executors", "labels_url": "https://api.github.com/repos/Bathtor/rust-executors/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/Bathtor/rust-executors/issues/10/comments", "events_url": "https://api.github.com/repos/Bathtor/rust-executors/issues/10/events", "html_url": "https://github.com/Bathtor/rust-executors/pull/10", "id": 711286227, "node_id": "MDExOlB1bGxSZXF1ZXN0NDk0OTY3MDgx", "number": 10, "title": "Partial NUMA Aware Workstealing", "user": {"login": "Bathtor", "id": 596721, "node_id": "MDQ6VXNlcjU5NjcyMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bathtor", "html_url": "https://github.com/Bathtor", "followers_url": "https://api.github.com/users/Bathtor/followers", "following_url": "https://api.github.com/users/Bathtor/following{/other_user}", "gists_url": "https://api.github.com/users/Bathtor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bathtor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bathtor/subscriptions", "organizations_url": "https://api.github.com/users/Bathtor/orgs", "repos_url": "https://api.github.com/users/Bathtor/repos", "events_url": "https://api.github.com/users/Bathtor/events{/privacy}", "received_events_url": "https://api.github.com/users/Bathtor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Bathtor/rust-executors/milestones/1", "html_url": "https://github.com/Bathtor/rust-executors/milestone/1", "labels_url": "https://api.github.com/repos/Bathtor/rust-executors/milestones/1/labels", "id": 5913117, "node_id": "MDk6TWlsZXN0b25lNTkxMzExNw==", "number": 1, "title": "1.0 Release", "description": "Do a stable release (modulo dependency changes).", "creator": {"login": "Bathtor", "id": 596721, "node_id": "MDQ6VXNlcjU5NjcyMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bathtor", "html_url": "https://github.com/Bathtor", "followers_url": "https://api.github.com/users/Bathtor/followers", "following_url": "https://api.github.com/users/Bathtor/following{/other_user}", "gists_url": "https://api.github.com/users/Bathtor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bathtor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bathtor/subscriptions", "organizations_url": "https://api.github.com/users/Bathtor/orgs", "repos_url": "https://api.github.com/users/Bathtor/repos", "events_url": "https://api.github.com/users/Bathtor/events{/privacy}", "received_events_url": "https://api.github.com/users/Bathtor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "open", "created_at": "2020-09-24T09:57:10Z", "updated_at": "2021-04-05T09:56:10Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2020-09-29T16:45:13Z", "updated_at": "2020-10-02T12:32:52Z", "closed_at": "2020-10-02T12:29:25Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Bathtor/rust-executors/pulls/10", "html_url": "https://github.com/Bathtor/rust-executors/pull/10", "diff_url": "https://github.com/Bathtor/rust-executors/pull/10.diff", "patch_url": "https://github.com/Bathtor/rust-executors/pull/10.patch", "merged_at": "2020-10-02T12:29:25Z"}, "body": "This PR introduces a restriction on the work-stealing scheduler (`crossbeam_workstealing_pool`) to prioritise stealing for \"closer\" processing units (PUs) and potentially prevent stealing \"too distant\" PUs.\r\n\r\nThe mechanism for this is based on a *distance matrix* between PUs, where lower distance increases work-stealing from that PU. In order to heavily penalise far away PUs, the approach counts work-stealing attempts at low_distance PUs and only moves on to further away ones after a certain number of failed attempts. Failed attempts are reset when work-stealing succeeds or the worker handles any other work. Very high distances may mean that stealing is never attempted from that PU, as the worker may go to sleep (park) before reaching such a high value.\r\n\r\nThe mechanism described above is activated via the new `numa-aware` Cargo feature flag.\r\n\r\n### Limitations\r\n\r\nAs already discussed in #8, this PR does currently not attempt any system topology detection or interpretation. How the PU distance matrix is produced is up to the user at this point. It could be hardcoded for a particular machine, or read from a configuration file (potentially produced from some thing based on hwloc) or any other mechanism imaginable.\r\n\r\n### Related Issues\r\n\r\nThis PR partially addresses #8, but should not close it when merged.", "reactions": {"url": "https://api.github.com/repos/Bathtor/rust-executors/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Bathtor/rust-executors/issues/10/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]