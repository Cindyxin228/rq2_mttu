[{"url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/12", "repository_url": "https://api.github.com/repos/indygreg/linux-packaging-rs", "labels_url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/12/comments", "events_url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/12/events", "html_url": "https://github.com/indygreg/linux-packaging-rs/pull/12", "id": 1953768948, "node_id": "PR_kwDOIHa2E85dWs3S", "number": 12, "title": "debian-packaging: fix deb builder data dir tar entry type", "user": {"login": "grushton-lidya", "id": 86226534, "node_id": "MDQ6VXNlcjg2MjI2NTM0", "avatar_url": "https://avatars.githubusercontent.com/u/86226534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grushton-lidya", "html_url": "https://github.com/grushton-lidya", "followers_url": "https://api.github.com/users/grushton-lidya/followers", "following_url": "https://api.github.com/users/grushton-lidya/following{/other_user}", "gists_url": "https://api.github.com/users/grushton-lidya/gists{/gist_id}", "starred_url": "https://api.github.com/users/grushton-lidya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grushton-lidya/subscriptions", "organizations_url": "https://api.github.com/users/grushton-lidya/orgs", "repos_url": "https://api.github.com/users/grushton-lidya/repos", "events_url": "https://api.github.com/users/grushton-lidya/events{/privacy}", "received_events_url": "https://api.github.com/users/grushton-lidya/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-20T08:12:22Z", "updated_at": "2023-11-03T01:07:35Z", "closed_at": "2023-11-03T01:07:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/indygreg/linux-packaging-rs/pulls/12", "html_url": "https://github.com/indygreg/linux-packaging-rs/pull/12", "diff_url": "https://github.com/indygreg/linux-packaging-rs/pull/12.diff", "patch_url": "https://github.com/indygreg/linux-packaging-rs/pull/12.patch", "merged_at": "2023-11-03T01:07:34Z"}, "body": "These default to file, rather than directory, which tends to conflict with other already installed packages that treat '/' as a directory.", "reactions": {"url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/12/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/11", "repository_url": "https://api.github.com/repos/indygreg/linux-packaging-rs", "labels_url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/11/comments", "events_url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/11/events", "html_url": "https://github.com/indygreg/linux-packaging-rs/pull/11", "id": 1847640825, "node_id": "PR_kwDOIHa2E85XxTkv", "number": 11, "title": "debian-packaging: Rework lexical compares to avoid sorting", "user": {"login": "refi64", "id": 1690697, "node_id": "MDQ6VXNlcjE2OTA2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1690697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/refi64", "html_url": "https://github.com/refi64", "followers_url": "https://api.github.com/users/refi64/followers", "following_url": "https://api.github.com/users/refi64/following{/other_user}", "gists_url": "https://api.github.com/users/refi64/gists{/gist_id}", "starred_url": "https://api.github.com/users/refi64/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/refi64/subscriptions", "organizations_url": "https://api.github.com/users/refi64/orgs", "repos_url": "https://api.github.com/users/refi64/repos", "events_url": "https://api.github.com/users/refi64/events{/privacy}", "received_events_url": "https://api.github.com/users/refi64/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-12T01:35:05Z", "updated_at": "2023-08-14T21:49:11Z", "closed_at": "2023-08-13T01:21:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/indygreg/linux-packaging-rs/pulls/11", "html_url": "https://github.com/indygreg/linux-packaging-rs/pull/11", "diff_url": "https://github.com/indygreg/linux-packaging-rs/pull/11.diff", "patch_url": "https://github.com/indygreg/linux-packaging-rs/pull/11.patch", "merged_at": "2023-08-13T01:21:11Z"}, "body": "Sorting the entire character array isn't actually what the deb-version spec implies, and it breaks a variety of version comparisons. In particular, the function used to sort the character array needs to return Equal on two letters to preserve order, but that breaks comparisons between those letters, e.g. this currently returns Greater:\r\n\r\n```\r\n$ dpkg --compare-versions 1a lt 1b; echo $?\r\n0\r\n```\r\n\r\nHowever, fixing that means that strings with symbols can end up being sorted *before* letters:\r\n\r\n```\r\n$ dpkg --compare-versions 1b lt 1+a; echo $?\r\n0\r\n```\r\n\r\nThis currently only compares properly by accident; the character sorting results in these two arrays:\r\n\r\n```\r\n['b']\r\n['a', '+']\r\n```\r\n\r\nand fixing the letter comparisons breaks this.\r\n\r\nThis instead merges compare_char in with the main comparison loop (their logic already overlapped a bit) and removes the separate sorting step entirely.", "reactions": {"url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/11/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/11/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/2", "repository_url": "https://api.github.com/repos/indygreg/linux-packaging-rs", "labels_url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/2/comments", "events_url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/2/events", "html_url": "https://github.com/indygreg/linux-packaging-rs/pull/2", "id": 1396678292, "node_id": "PR_kwDOIHa2E85AKAX6", "number": 2, "title": "debian-packaging: Add support for older (jessie and before) debian releases", "user": {"login": "DCNick3", "id": 10363282, "node_id": "MDQ6VXNlcjEwMzYzMjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10363282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DCNick3", "html_url": "https://github.com/DCNick3", "followers_url": "https://api.github.com/users/DCNick3/followers", "following_url": "https://api.github.com/users/DCNick3/following{/other_user}", "gists_url": "https://api.github.com/users/DCNick3/gists{/gist_id}", "starred_url": "https://api.github.com/users/DCNick3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DCNick3/subscriptions", "organizations_url": "https://api.github.com/users/DCNick3/orgs", "repos_url": "https://api.github.com/users/DCNick3/repos", "events_url": "https://api.github.com/users/DCNick3/events{/privacy}", "received_events_url": "https://api.github.com/users/DCNick3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-04T18:26:16Z", "updated_at": "2023-04-08T22:30:55Z", "closed_at": "2023-04-08T22:30:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/indygreg/linux-packaging-rs/pulls/2", "html_url": "https://github.com/indygreg/linux-packaging-rs/pull/2", "diff_url": "https://github.com/indygreg/linux-packaging-rs/pull/2.diff", "patch_url": "https://github.com/indygreg/linux-packaging-rs/pull/2.patch", "merged_at": "2023-04-08T22:30:54Z"}, "body": "\r\n\r\nOlder debian release do not have the fancy new InRelease file, so fall back to using Release file if the former is missing not found", "reactions": {"url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/2/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/indygreg/linux-packaging-rs/issues/2/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]