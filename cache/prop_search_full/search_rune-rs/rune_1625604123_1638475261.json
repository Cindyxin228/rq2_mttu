[{"url": "https://api.github.com/repos/rune-rs/rune/issues/357", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/357/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/357/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/357/events", "html_url": "https://github.com/rune-rs/rune/pull/357", "id": 1069887431, "node_id": "PR_kwDOENbcA84vU1M8", "number": 357, "title": "Improve publish script and fix nightly build", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389682, "node_id": "MDU6TGFiZWwyMjMwMzg5Njgy", "url": "https://api.github.com/repos/rune-rs/rune/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2670030839, "node_id": "MDU6TGFiZWwyNjcwMDMwODM5", "url": "https://api.github.com/repos/rune-rs/rune/labels/chore", "name": "chore", "color": "C24FB4", "default": false, "description": "Chores that has to happen for certain tasks"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-02T19:02:46Z", "updated_at": "2021-12-02T19:13:24Z", "closed_at": "2021-12-02T19:13:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/357", "html_url": "https://github.com/rune-rs/rune/pull/357", "diff_url": "https://github.com/rune-rs/rune/pull/357.diff", "patch_url": "https://github.com/rune-rs/rune/pull/357.patch", "merged_at": "2021-12-02T19:13:23Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/357/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/356", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/356/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/356/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/356/events", "html_url": "https://github.com/rune-rs/rune/pull/356", "id": 1068927517, "node_id": "PR_kwDOENbcA84vRrHS", "number": 356, "title": "Bump rollup", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2670030839, "node_id": "MDU6TGFiZWwyNjcwMDMwODM5", "url": "https://api.github.com/repos/rune-rs/rune/labels/chore", "name": "chore", "color": "C24FB4", "default": false, "description": "Chores that has to happen for certain tasks"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-01T22:21:55Z", "updated_at": "2021-12-01T22:30:22Z", "closed_at": "2021-12-01T22:30:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/356", "html_url": "https://github.com/rune-rs/rune/pull/356", "diff_url": "https://github.com/rune-rs/rune/pull/356.diff", "patch_url": "https://github.com/rune-rs/rune/pull/356.patch", "merged_at": "2021-12-01T22:30:21Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/356/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/354", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/354/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/354/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/354/events", "html_url": "https://github.com/rune-rs/rune/pull/354", "id": 1068797875, "node_id": "PR_kwDOENbcA84vRPUN", "number": 354, "title": "Clean up CLI", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 2353351322, "node_id": "MDU6TGFiZWwyMzUzMzUxMzIy", "url": "https://api.github.com/repos/rune-rs/rune/labels/changelog", "name": "changelog", "color": "fcbdae", "default": false, "description": "Issue has been added to the changelog"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-01T19:36:30Z", "updated_at": "2021-12-02T19:32:11Z", "closed_at": "2021-12-01T21:45:33Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/354", "html_url": "https://github.com/rune-rs/rune/pull/354", "diff_url": "https://github.com/rune-rs/rune/pull/354.diff", "patch_url": "https://github.com/rune-rs/rune/pull/354.patch", "merged_at": "2021-12-01T21:45:33Z"}, "body": "This makes sure all subcommands get their own module to clean up organization a bit and changes how `load_path` (now `loader::load`) works.\r\n\r\nAlso adds capture for outputs using `CaptureIo` for tests and benches.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/354/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/353", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/353/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/353/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/353/events", "html_url": "https://github.com/rune-rs/rune/pull/353", "id": 1068540245, "node_id": "PR_kwDOENbcA84vQX9s", "number": 353, "title": "Support parsing of a shebang (fixes #270)", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-01T15:24:06Z", "updated_at": "2021-12-01T17:44:44Z", "closed_at": "2021-12-01T17:44:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/353", "html_url": "https://github.com/rune-rs/rune/pull/353", "diff_url": "https://github.com/rune-rs/rune/pull/353.diff", "patch_url": "https://github.com/rune-rs/rune/pull/353.patch", "merged_at": "2021-12-01T17:44:43Z"}, "body": "This adds support in the parser so that it ignores shebangs which are on the first input character when parsing files.\r\n\r\nThe shebang is also captured and made available in `ast::File`, all though parsing of it is disabled by default (e.g. `MacroContext::parse_source`).\r\n\r\nOne thing of note is that shebangs currently are not formatted with `stringify!`, since a token stream is not whitespace aware and the result would run the risk of not making much sense to parses of it.\r\n\r\nWith this, it should now be possible to write rune scripts without the hack proposed in #270, like this:\r\n\r\n```rust\r\n#!/usr/bin/rune run\r\n\r\npub fn main() {\r\n    println!(\"Hello Rune!\");\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/353/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/353/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/352", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/352/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/352/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/352/events", "html_url": "https://github.com/rune-rs/rune/pull/352", "id": 1068539697, "node_id": "PR_kwDOENbcA84vQX2Z", "number": 352, "title": "Set tools to publish = false", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-01T15:23:39Z", "updated_at": "2021-12-01T15:33:54Z", "closed_at": "2021-12-01T15:33:53Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/352", "html_url": "https://github.com/rune-rs/rune/pull/352", "diff_url": "https://github.com/rune-rs/rune/pull/352.diff", "patch_url": "https://github.com/rune-rs/rune/pull/352.patch", "merged_at": "2021-12-01T15:33:53Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/352/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/351", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/351/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/351/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/351/events", "html_url": "https://github.com/rune-rs/rune/pull/351", "id": 1068491425, "node_id": "PR_kwDOENbcA84vQNgg", "number": 351, "title": "Parse multiline comments", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-01T14:43:30Z", "updated_at": "2021-12-01T15:11:28Z", "closed_at": "2021-12-01T15:11:28Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/351", "html_url": "https://github.com/rune-rs/rune/pull/351", "diff_url": "https://github.com/rune-rs/rune/pull/351.diff", "patch_url": "https://github.com/rune-rs/rune/pull/351.patch", "merged_at": "2021-12-01T15:11:28Z"}, "body": "This also changes so that we create tokens out of comments in anticipation of one day switching to non-destructive parsing. But by that point erroneous comments would also receive their own token instead of using a `bool` to indicate if it's terminated or not.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/351/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/351/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/350", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/350/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/350/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/350/events", "html_url": "https://github.com/rune-rs/rune/pull/350", "id": 1066845530, "node_id": "PR_kwDOENbcA84vKylH", "number": 350, "title": "Vm fields can be hidden", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-30T06:26:23Z", "updated_at": "2021-11-30T06:38:15Z", "closed_at": "2021-11-30T06:38:14Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/350", "html_url": "https://github.com/rune-rs/rune/pull/350", "diff_url": "https://github.com/rune-rs/rune/pull/350.diff", "patch_url": "https://github.com/rune-rs/rune/pull/350.patch", "merged_at": "2021-11-30T06:38:14Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/350/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/349", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/349/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/349/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/349/events", "html_url": "https://github.com/rune-rs/rune/pull/349", "id": 1066834954, "node_id": "PR_kwDOENbcA84vKwXN", "number": 349, "title": "Remove tailing item and unchecked casts", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-30T06:10:33Z", "updated_at": "2021-11-30T06:19:07Z", "closed_at": "2021-11-30T06:19:06Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/349", "html_url": "https://github.com/rune-rs/rune/pull/349", "diff_url": "https://github.com/rune-rs/rune/pull/349.diff", "patch_url": "https://github.com/rune-rs/rune/pull/349.patch", "merged_at": "2021-11-30T06:19:06Z"}, "body": "Note that unwrapping `try_from` for types which fit (e.g. u32 to usize on 64-bit) compiles down to a cast. But it's necessary to avoid bugs on all platforms.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/349/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/347", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/347/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/347/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/347/events", "html_url": "https://github.com/rune-rs/rune/pull/347", "id": 1066727029, "node_id": "PR_kwDOENbcA84vKaNI", "number": 347, "title": "Clean up Call and introduce ExecutionState", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-30T02:55:32Z", "updated_at": "2021-11-30T03:05:58Z", "closed_at": "2021-11-30T03:05:58Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/347", "html_url": "https://github.com/rune-rs/rune/pull/347", "diff_url": "https://github.com/rune-rs/rune/pull/347.diff", "patch_url": "https://github.com/rune-rs/rune/pull/347.patch", "merged_at": "2021-11-30T03:05:58Z"}, "body": "So I noted that a `VmExecution` only needs to keep track of two states - whether the current execution is `initial`, or whether it is `resumed`. The latter simply means that the function is a generator or a stream that has been called at least once. While every other function is in the `initial` state.\r\n\r\nThis is necessary to help top level executions to be correctly managed, because resuming a `resumed` execution requires a value to be pushed onto the stack which will be the return value of the yield statement.\r\n\r\nAs a result this reverts `Call` back into a sparser state.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/347/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/346", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/346/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/346/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/346/events", "html_url": "https://github.com/rune-rs/rune/pull/346", "id": 1066039469, "node_id": "PR_kwDOENbcA84vIM6E", "number": 346, "title": "Fix upgrading guide", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389682, "node_id": "MDU6TGFiZWwyMjMwMzg5Njgy", "url": "https://api.github.com/repos/rune-rs/rune/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2230389684, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg0", "url": "https://api.github.com/repos/rune-rs/rune/labels/documentation", "name": "documentation", "color": "0075ca", "default": true, "description": "Improvements or additions to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-29T13:27:51Z", "updated_at": "2021-11-29T13:36:29Z", "closed_at": "2021-11-29T13:36:28Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/346", "html_url": "https://github.com/rune-rs/rune/pull/346", "diff_url": "https://github.com/rune-rs/rune/pull/346.diff", "patch_url": "https://github.com/rune-rs/rune/pull/346.patch", "merged_at": "2021-11-29T13:36:28Z"}, "body": "Thanks @pkolaczk for pointing out the issues in the existing docs!", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/346/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/345", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/345/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/345/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/345/events", "html_url": "https://github.com/rune-rs/rune/pull/345", "id": 1066026111, "node_id": "PR_kwDOENbcA84vIKIh", "number": 345, "title": "Explicitly drop stack guards to avoid use-after-free issue", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389682, "node_id": "MDU6TGFiZWwyMjMwMzg5Njgy", "url": "https://api.github.com/repos/rune-rs/rune/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3594314887, "node_id": "LA_kwDOENbcA87WPOSH", "url": "https://api.github.com/repos/rune-rs/rune/labels/safety", "name": "safety", "color": "5319e7", "default": false, "description": "Issue related to safety, like a potential violation of Rust's safety guarantees through public APIs"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-29T13:15:51Z", "updated_at": "2021-11-29T18:17:17Z", "closed_at": "2021-11-29T18:17:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/345", "html_url": "https://github.com/rune-rs/rune/pull/345", "diff_url": "https://github.com/rune-rs/rune/pull/345.diff", "patch_url": "https://github.com/rune-rs/rune/pull/345.patch", "merged_at": "2021-11-29T18:17:16Z"}, "body": "CC: @pkolaczk to give this a try.\r\n\r\nHopefully fixes #344\r\n\r\nI'm trying to come up with a good test for this before merging.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/345/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/345/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/343", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/343/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/343/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/343/events", "html_url": "https://github.com/rune-rs/rune/pull/343", "id": 1065647011, "node_id": "PR_kwDOENbcA84vG7bR", "number": 343, "title": "Fix example in Module::option (fixes #236)", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389682, "node_id": "MDU6TGFiZWwyMjMwMzg5Njgy", "url": "https://api.github.com/repos/rune-rs/rune/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2230389684, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg0", "url": "https://api.github.com/repos/rune-rs/rune/labels/documentation", "name": "documentation", "color": "0075ca", "default": true, "description": "Improvements or additions to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-29T06:08:13Z", "updated_at": "2021-11-29T06:17:54Z", "closed_at": "2021-11-29T06:17:53Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/343", "html_url": "https://github.com/rune-rs/rune/pull/343", "diff_url": "https://github.com/rune-rs/rune/pull/343.diff", "patch_url": "https://github.com/rune-rs/rune/pull/343.patch", "merged_at": "2021-11-29T06:17:53Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/343/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/342", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/342/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/342/events", "html_url": "https://github.com/rune-rs/rune/pull/342", "id": 1065611403, "node_id": "PR_kwDOENbcA84vG0F6", "number": 342, "title": "Support driving a toplevel generator through VmExecution", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389682, "node_id": "MDU6TGFiZWwyMjMwMzg5Njgy", "url": "https://api.github.com/repos/rune-rs/rune/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-29T05:00:44Z", "updated_at": "2021-11-29T06:05:28Z", "closed_at": "2021-11-29T06:05:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/342", "html_url": "https://github.com/rune-rs/rune/pull/342", "diff_url": "https://github.com/rune-rs/rune/pull/342.diff", "patch_url": "https://github.com/rune-rs/rune/pull/342.patch", "merged_at": "2021-11-29T06:05:27Z"}, "body": "After this change, `VmExecution` keeps track of the kind of the current toplevel execution and two more function are added to drive generators and streams:\r\n* `VmExecution::resume_with`\r\n* `VmExecution::async_resume_with`\r\n\r\nThis allows the following code to work:\r\n\r\n```rust\r\nuse rune::{Context, FromValue, Vm};\r\nuse std::sync::Arc;\r\n\r\nfn main() -> rune::Result<()> {\r\n    let mut sources = rune::sources! {\r\n        entry => {\r\n            pub fn main() {\r\n                yield 1;\r\n                yield 2;\r\n            }\r\n        }\r\n    };\r\n\r\n    let unit = rune::prepare(&mut sources).build()?;\r\n\r\n    let mut vm = Vm::without_runtime(Arc::new(unit));\r\n    let mut generator = vm.execute(&[\"main\"], ())?.into_generator()?;\r\n\r\n    let mut n = 1i64;\r\n\r\n    while let Some(value) = generator.next()? {\r\n        let value = i64::from_value(value)?;\r\n        assert_eq!(value, n);\r\n        n += 1;\r\n    }\r\n\r\n    Ok(())\r\n}\r\n```\r\n\r\nFixes #264", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/342/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/341", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/341/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/341/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/341/events", "html_url": "https://github.com/rune-rs/rune/pull/341", "id": 1065361564, "node_id": "PR_kwDOENbcA84vGEVL", "number": 341, "title": "Release chores", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 2670030839, "node_id": "MDU6TGFiZWwyNjcwMDMwODM5", "url": "https://api.github.com/repos/rune-rs/rune/labels/chore", "name": "chore", "color": "C24FB4", "default": false, "description": "Chores that has to happen for certain tasks"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-28T15:29:41Z", "updated_at": "2021-11-28T16:47:48Z", "closed_at": "2021-11-28T16:47:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/341", "html_url": "https://github.com/rune-rs/rune/pull/341", "diff_url": "https://github.com/rune-rs/rune/pull/341.diff", "patch_url": "https://github.com/rune-rs/rune/pull/341.patch", "merged_at": "2021-11-28T16:47:48Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/341/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/340", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/340/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/340/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/340/events", "html_url": "https://github.com/rune-rs/rune/pull/340", "id": 1065195145, "node_id": "PR_kwDOENbcA84vFwIk", "number": 340, "title": "Rework macros", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-28T05:48:16Z", "updated_at": "2021-11-28T05:57:23Z", "closed_at": "2021-11-28T05:57:23Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/340", "html_url": "https://github.com/rune-rs/rune/pull/340", "diff_url": "https://github.com/rune-rs/rune/pull/340.diff", "patch_url": "https://github.com/rune-rs/rune/pull/340.patch", "merged_at": "2021-11-28T05:57:23Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/340/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/340/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/339", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/339/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/339/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/339/events", "html_url": "https://github.com/rune-rs/rune/pull/339", "id": 1065171091, "node_id": "PR_kwDOENbcA84vFsHe", "number": 339, "title": "Clean up tests", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-28T02:48:59Z", "updated_at": "2021-11-28T02:57:53Z", "closed_at": "2021-11-28T02:57:52Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/339", "html_url": "https://github.com/rune-rs/rune/pull/339", "diff_url": "https://github.com/rune-rs/rune/pull/339.diff", "patch_url": "https://github.com/rune-rs/rune/pull/339.patch", "merged_at": "2021-11-28T02:57:52Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/339/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/338", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/338/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/338/events", "html_url": "https://github.com/rune-rs/rune/pull/338", "id": 1065161729, "node_id": "PR_kwDOENbcA84vFqhv", "number": 338, "title": "Hide more things and improve documentation", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-28T01:37:39Z", "updated_at": "2021-11-28T02:20:44Z", "closed_at": "2021-11-28T02:20:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/338", "html_url": "https://github.com/rune-rs/rune/pull/338", "diff_url": "https://github.com/rune-rs/rune/pull/338.diff", "patch_url": "https://github.com/rune-rs/rune/pull/338.patch", "merged_at": "2021-11-28T02:20:44Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/338/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/337", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/337/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/337/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/337/events", "html_url": "https://github.com/rune-rs/rune/pull/337", "id": 1065133265, "node_id": "PR_kwDOENbcA84vFlvr", "number": 337, "title": "Remove underused public trait impls for Id", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-27T22:39:40Z", "updated_at": "2021-11-27T22:49:23Z", "closed_at": "2021-11-27T22:49:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/337", "html_url": "https://github.com/rune-rs/rune/pull/337", "diff_url": "https://github.com/rune-rs/rune/pull/337.diff", "patch_url": "https://github.com/rune-rs/rune/pull/337.patch", "merged_at": "2021-11-27T22:49:22Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/337/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/336", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/336/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/336/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/336/events", "html_url": "https://github.com/rune-rs/rune/pull/336", "id": 1065130257, "node_id": "PR_kwDOENbcA84vFlQn", "number": 336, "title": "Rework how opaque identifiers are used", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-27T22:05:28Z", "updated_at": "2021-11-27T22:14:45Z", "closed_at": "2021-11-27T22:14:45Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/336", "html_url": "https://github.com/rune-rs/rune/pull/336", "diff_url": "https://github.com/rune-rs/rune/pull/336.diff", "patch_url": "https://github.com/rune-rs/rune/pull/336.patch", "merged_at": "2021-11-27T22:14:45Z"}, "body": "Add derive for `Opaque` and rework `Id` into `Id` and `NonZeroId` to ensure that `Id` or `Option<Id>` isn't improperly used as hash keys.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/336/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/335", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/335/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/335/events", "html_url": "https://github.com/rune-rs/rune/pull/335", "id": 1065073975, "node_id": "PR_kwDOENbcA84vFb-r", "number": 335, "title": "Hide more stuff and clean up some APIs", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-27T16:01:58Z", "updated_at": "2021-11-27T16:10:37Z", "closed_at": "2021-11-27T16:10:37Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/335", "html_url": "https://github.com/rune-rs/rune/pull/335", "diff_url": "https://github.com/rune-rs/rune/pull/335.diff", "patch_url": "https://github.com/rune-rs/rune/pull/335.patch", "merged_at": "2021-11-27T16:10:37Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/335/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/334", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/334/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/334/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/334/events", "html_url": "https://github.com/rune-rs/rune/pull/334", "id": 1064859790, "node_id": "PR_kwDOENbcA84vFAXC", "number": 334, "title": "More clippy stuff", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-27T00:01:48Z", "updated_at": "2021-11-27T01:19:29Z", "closed_at": "2021-11-27T01:19:29Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/334", "html_url": "https://github.com/rune-rs/rune/pull/334", "diff_url": "https://github.com/rune-rs/rune/pull/334.diff", "patch_url": "https://github.com/rune-rs/rune/pull/334.patch", "merged_at": "2021-11-27T01:19:29Z"}, "body": "Since every token has shrunk significantly clippy will no longer complain if we stop boxing everything in `ast::Expr`.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/334/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/333", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/333/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/333/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/333/events", "html_url": "https://github.com/rune-rs/rune/pull/333", "id": 1064838928, "node_id": "PR_kwDOENbcA84vE8iS", "number": 333, "title": "Reduce the size of most tokens by inferring ast::Kind", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-26T22:28:00Z", "updated_at": "2021-11-26T22:35:39Z", "closed_at": "2021-11-26T22:35:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/333", "html_url": "https://github.com/rune-rs/rune/pull/333", "diff_url": "https://github.com/rune-rs/rune/pull/333.diff", "patch_url": "https://github.com/rune-rs/rune/pull/333.patch", "merged_at": "2021-11-26T22:35:38Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/333/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/332", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/332/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/332/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/332/events", "html_url": "https://github.com/rune-rs/rune/pull/332", "id": 1064838617, "node_id": "PR_kwDOENbcA84vE8e9", "number": 332, "title": "Fix binary precedence parser", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389682, "node_id": "MDU6TGFiZWwyMjMwMzg5Njgy", "url": "https://api.github.com/repos/rune-rs/rune/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-26T22:26:53Z", "updated_at": "2021-11-26T22:38:05Z", "closed_at": "2021-11-26T22:38:04Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/332", "html_url": "https://github.com/rune-rs/rune/pull/332", "diff_url": "https://github.com/rune-rs/rune/pull/332.diff", "patch_url": "https://github.com/rune-rs/rune/pull/332.patch", "merged_at": "2021-11-26T22:38:04Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/332/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/331", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/331/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/331/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/331/events", "html_url": "https://github.com/rune-rs/rune/pull/331", "id": 1064799155, "node_id": "PR_kwDOENbcA84vE0kR", "number": 331, "title": "Fix clippy lints", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-26T20:54:01Z", "updated_at": "2021-11-26T21:25:12Z", "closed_at": "2021-11-26T21:02:21Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/331", "html_url": "https://github.com/rune-rs/rune/pull/331", "diff_url": "https://github.com/rune-rs/rune/pull/331.diff", "patch_url": "https://github.com/rune-rs/rune/pull/331.patch", "merged_at": "2021-11-26T21:02:21Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/331/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/330", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/330/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/330/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/330/events", "html_url": "https://github.com/rune-rs/rune/pull/330", "id": 1064563656, "node_id": "PR_kwDOENbcA84vEOkU", "number": 330, "title": "Mark many more things as #[non_exhaustive] and improve parse diagnostics", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-26T14:53:15Z", "updated_at": "2021-11-26T20:48:18Z", "closed_at": "2021-11-26T20:46:47Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/330", "html_url": "https://github.com/rune-rs/rune/pull/330", "diff_url": "https://github.com/rune-rs/rune/pull/330.diff", "patch_url": "https://github.com/rune-rs/rune/pull/330.patch", "merged_at": "2021-11-26T20:46:47Z"}, "body": "Mark most things in `rune::ast` as `#[non_exhaustive]` for future proofing.\r\n\r\nParse diagnostics uses a structured `Expectation` rather that static strings which might or might not compose well. This should allow us to avoid scenarios where certain commas or the like aren't escaped since they should be treated as `Expectation::Punctuation`.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/330/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/329", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/329/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/329/events", "html_url": "https://github.com/rune-rs/rune/pull/329", "id": 1064431610, "node_id": "PR_kwDOENbcA84vD1cR", "number": 329, "title": "Native functions no longer requies Copy", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 2353351322, "node_id": "MDU6TGFiZWwyMzUzMzUxMzIy", "url": "https://api.github.com/repos/rune-rs/rune/labels/changelog", "name": "changelog", "color": "fcbdae", "default": false, "description": "Issue has been added to the changelog"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-26T12:39:39Z", "updated_at": "2024-03-07T18:10:51Z", "closed_at": "2021-11-26T12:52:25Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/329", "html_url": "https://github.com/rune-rs/rune/pull/329", "diff_url": "https://github.com/rune-rs/rune/pull/329.diff", "patch_url": "https://github.com/rune-rs/rune/pull/329.patch", "merged_at": "2021-11-26T12:52:25Z"}, "body": "This removes the requirement that registered native functions are `Copy`, which among other things allows us to build a `CaptureIo` module which does not require `lazy_static` for capturing output.\r\n\r\nAlso added missing `ToValue` impl for `&str`.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/329/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/328", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/328/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/328/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/328/events", "html_url": "https://github.com/rune-rs/rune/pull/328", "id": 1064293919, "node_id": "PR_kwDOENbcA84vDbdD", "number": 328, "title": "Update CHANGELOG.md and start upgrade guide", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2670030839, "node_id": "MDU6TGFiZWwyNjcwMDMwODM5", "url": "https://api.github.com/repos/rune-rs/rune/labels/chore", "name": "chore", "color": "C24FB4", "default": false, "description": "Chores that has to happen for certain tasks"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-26T10:06:26Z", "updated_at": "2021-11-26T22:28:29Z", "closed_at": "2021-11-26T22:28:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/328", "html_url": "https://github.com/rune-rs/rune/pull/328", "diff_url": "https://github.com/rune-rs/rune/pull/328.diff", "patch_url": "https://github.com/rune-rs/rune/pull/328.patch", "merged_at": "2021-11-26T22:28:27Z"}, "body": "Started work on the changelog for `0.10.0` and an upgrade guide.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/328/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/327", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/327/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/327/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/327/events", "html_url": "https://github.com/rune-rs/rune/pull/327", "id": 1059311307, "node_id": "PR_kwDOENbcA84uz1MV", "number": 327, "title": "Add template literals in an empty group (fixes #326)", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389682, "node_id": "MDU6TGFiZWwyMjMwMzg5Njgy", "url": "https://api.github.com/repos/rune-rs/rune/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-21T07:24:19Z", "updated_at": "2024-03-07T18:11:49Z", "closed_at": "2021-11-26T09:24:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/327", "html_url": "https://github.com/rune-rs/rune/pull/327", "diff_url": "https://github.com/rune-rs/rune/pull/327.diff", "patch_url": "https://github.com/rune-rs/rune/pull/327.patch", "merged_at": "2021-11-26T09:24:56Z"}, "body": "This causes template literal desugaring (which happens during lexing) to be desugared into an empty group so that attributes are associated with the internal `template!` macro call rather than the chained expression.\r\n\r\nThanks @Steven0351 for finding and reporting the issue!", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/327/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/327/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/323", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/323/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/323/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/323/events", "html_url": "https://github.com/rune-rs/rune/pull/323", "id": 1055769953, "node_id": "PR_kwDOENbcA84uorRN", "number": 323, "title": "Fix buggy self value", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389682, "node_id": "MDU6TGFiZWwyMjMwMzg5Njgy", "url": "https://api.github.com/repos/rune-rs/rune/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-17T06:47:28Z", "updated_at": "2021-11-26T09:56:41Z", "closed_at": "2021-11-17T06:54:05Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/323", "html_url": "https://github.com/rune-rs/rune/pull/323", "diff_url": "https://github.com/rune-rs/rune/pull/323.diff", "patch_url": "https://github.com/rune-rs/rune/pull/323.patch", "merged_at": "2021-11-17T06:54:05Z"}, "body": "Accidentally renamed the magic `self` variable to `ast` during a refactoring. It would only cause problem if someone actually used a variable with the identifier `ast` though.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/323/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/322", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/322/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/322/events", "html_url": "https://github.com/rune-rs/rune/pull/322", "id": 1054978301, "node_id": "PR_kwDOENbcA84umNyk", "number": 322, "title": "Introduce #[inststrument] macro", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-16T14:57:15Z", "updated_at": "2021-11-16T15:20:42Z", "closed_at": "2021-11-16T15:12:42Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/322", "html_url": "https://github.com/rune-rs/rune/pull/322", "diff_url": "https://github.com/rune-rs/rune/pull/322.diff", "patch_url": "https://github.com/rune-rs/rune/pull/322.patch", "merged_at": "2021-11-16T15:12:42Z"}, "body": "Very simple helper macro that adds the necessary tracing for internal compiler functions.\r\n\r\nIt's currently limited to trace log every function call, but could eventually be expanded to use `tracing` and spans.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/322/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/321", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/321/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/321/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/321/events", "html_url": "https://github.com/rune-rs/rune/pull/321", "id": 1054891093, "node_id": "PR_kwDOENbcA84ul7Sp", "number": 321, "title": "Remove Index and IndexLocal traits", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-16T13:36:34Z", "updated_at": "2021-11-16T13:53:02Z", "closed_at": "2021-11-16T13:43:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/321", "html_url": "https://github.com/rune-rs/rune/pull/321", "diff_url": "https://github.com/rune-rs/rune/pull/321.diff", "patch_url": "https://github.com/rune-rs/rune/pull/321.patch", "merged_at": "2021-11-16T13:43:56Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/321/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/320", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/320/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/320/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/320/events", "html_url": "https://github.com/rune-rs/rune/pull/320", "id": 1054556095, "node_id": "PR_kwDOENbcA84uk0wX", "number": 320, "title": "More compiler cleanup", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-16T07:47:05Z", "updated_at": "2021-11-16T08:05:29Z", "closed_at": "2021-11-16T08:05:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/320", "html_url": "https://github.com/rune-rs/rune/pull/320", "diff_url": "https://github.com/rune-rs/rune/pull/320.diff", "patch_url": "https://github.com/rune-rs/rune/pull/320.patch", "merged_at": "2021-11-16T08:05:27Z"}, "body": "This just breaks up and clarifies some confusing code paths in the assembling phase of the compiler.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/320/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/319", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/319/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/319/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/319/events", "html_url": "https://github.com/rune-rs/rune/pull/319", "id": 1054399609, "node_id": "PR_kwDOENbcA84ukUFP", "number": 319, "title": "Cleanup compiler", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-16T03:25:19Z", "updated_at": "2021-11-16T05:22:29Z", "closed_at": "2021-11-16T04:21:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/319", "html_url": "https://github.com/rune-rs/rune/pull/319", "diff_url": "https://github.com/rune-rs/rune/pull/319.diff", "patch_url": "https://github.com/rune-rs/rune/pull/319.patch", "merged_at": "2021-11-16T04:21:41Z"}, "body": "A bunch of small cleanups and one big one.\r\n\r\nThe big change is that this removes the indirection traits used in the `assembly` module in favor of simply calling the relevant functions directly. I.e. the traits are *not* needed. It makes the assembler much easier to understand and patch, because assembling instructions frequently require reshuffling non-local instruction assemblies and now we can simply search in a single source file for every affected caller.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/319/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/318", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/318/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/318/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/318/events", "html_url": "https://github.com/rune-rs/rune/pull/318", "id": 1053598062, "node_id": "PR_kwDOENbcA84uh45e", "number": 318, "title": "Clean up ir module more and narrow the use of IrCompile trait", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-15T12:15:08Z", "updated_at": "2021-11-15T12:39:55Z", "closed_at": "2021-11-15T12:39:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/318", "html_url": "https://github.com/rune-rs/rune/pull/318", "diff_url": "https://github.com/rune-rs/rune/pull/318.diff", "patch_url": "https://github.com/rune-rs/rune/pull/318.patch", "merged_at": "2021-11-15T12:39:53Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/318/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/317", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/317/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/317/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/317/events", "html_url": "https://github.com/rune-rs/rune/pull/317", "id": 1053557889, "node_id": "PR_kwDOENbcA84uhwfN", "number": 317, "title": "store and expose public constants in the unit (fixes #316)", "user": {"login": "tgolsson", "id": 8234817, "node_id": "MDQ6VXNlcjgyMzQ4MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/8234817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgolsson", "html_url": "https://github.com/tgolsson", "followers_url": "https://api.github.com/users/tgolsson/followers", "following_url": "https://api.github.com/users/tgolsson/following{/other_user}", "gists_url": "https://api.github.com/users/tgolsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgolsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgolsson/subscriptions", "organizations_url": "https://api.github.com/users/tgolsson/orgs", "repos_url": "https://api.github.com/users/tgolsson/repos", "events_url": "https://api.github.com/users/tgolsson/events{/privacy}", "received_events_url": "https://api.github.com/users/tgolsson/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389682, "node_id": "MDU6TGFiZWwyMjMwMzg5Njgy", "url": "https://api.github.com/repos/rune-rs/rune/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-15T11:31:37Z", "updated_at": "2021-11-17T13:03:57Z", "closed_at": "2021-11-17T09:44:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/317", "html_url": "https://github.com/rune-rs/rune/pull/317", "diff_url": "https://github.com/rune-rs/rune/pull/317.diff", "patch_url": "https://github.com/rune-rs/rune/pull/317.patch", "merged_at": "2021-11-17T09:44:53Z"}, "body": "@pkolaczk Please give this branch a try! There's a new `Hash::constant` that can be used to make it clearer, as well.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/317/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/315", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/315/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/315/events", "html_url": "https://github.com/rune-rs/rune/pull/315", "id": 1053176337, "node_id": "PR_kwDOENbcA84ugglY", "number": 315, "title": "Clean up ir by removing underused traits and use of ConstValue", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-15T03:36:10Z", "updated_at": "2021-11-15T04:42:39Z", "closed_at": "2021-11-15T04:42:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/315", "html_url": "https://github.com/rune-rs/rune/pull/315", "diff_url": "https://github.com/rune-rs/rune/pull/315.diff", "patch_url": "https://github.com/rune-rs/rune/pull/315.patch", "merged_at": "2021-11-15T04:42:36Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/315/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/313", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/313/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/313/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/313/events", "html_url": "https://github.com/rune-rs/rune/pull/313", "id": 1053032290, "node_id": "PR_kwDOENbcA84ugDvp", "number": 313, "title": "replace manual de/ser with derive", "user": {"login": "tgolsson", "id": 8234817, "node_id": "MDQ6VXNlcjgyMzQ4MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/8234817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgolsson", "html_url": "https://github.com/tgolsson", "followers_url": "https://api.github.com/users/tgolsson/followers", "following_url": "https://api.github.com/users/tgolsson/following{/other_user}", "gists_url": "https://api.github.com/users/tgolsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgolsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgolsson/subscriptions", "organizations_url": "https://api.github.com/users/tgolsson/orgs", "repos_url": "https://api.github.com/users/tgolsson/repos", "events_url": "https://api.github.com/users/tgolsson/events{/privacy}", "received_events_url": "https://api.github.com/users/tgolsson/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389682, "node_id": "MDU6TGFiZWwyMjMwMzg5Njgy", "url": "https://api.github.com/repos/rune-rs/rune/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-14T20:23:34Z", "updated_at": "2021-11-20T11:26:14Z", "closed_at": "2021-11-20T11:26:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/313", "html_url": "https://github.com/rune-rs/rune/pull/313", "diff_url": "https://github.com/rune-rs/rune/pull/313.diff", "patch_url": "https://github.com/rune-rs/rune/pull/313.patch", "merged_at": "2021-11-20T11:26:10Z"}, "body": "So; this proved to be very challenging -- Essentially, removing and/or changing ConstValue::StaticString impacts every API where ConstValue is involved in a ToValue/FromValue call, since one would have to pass a Unit around to resolve the proper index. I don't think it's worthwhile to rewrite all of this, as I'd argue a better approach is to (eventually) create a dedicated on-disk format which shields the runtime from these design decisions. I also don't understand the relationship between ConstValue/IrValue/Value enough to judge what is correct behaviour when these types are converted between each other, and which ones are valid.\r\n\r\nMy original interpretation is ConstValue was akin to literal (e.g., hardcoded value), and in the case of static string we shunt these to a `.data` segment, like a weak interning. However, this makes it wrong to convert from Value to ConstValue - but removing that breaks a lot of other code, so I think my assumptions are wrong.\r\n\r\nThus, I'll create two issues if this is merged:\r\n\r\n* Document the interactions between Value/ConstValue and delimit their use patterns\r\n* Create a dedicated unit format for serialization", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/313/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/312", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/312/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/312/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/312/events", "html_url": "https://github.com/rune-rs/rune/pull/312", "id": 1053006192, "node_id": "PR_kwDOENbcA84uf_E2", "number": 312, "title": "Documentation and shuffling", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-14T18:21:17Z", "updated_at": "2021-11-14T18:33:46Z", "closed_at": "2021-11-14T18:33:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/312", "html_url": "https://github.com/rune-rs/rune/pull/312", "diff_url": "https://github.com/rune-rs/rune/pull/312.diff", "patch_url": "https://github.com/rune-rs/rune/pull/312.patch", "merged_at": "2021-11-14T18:33:44Z"}, "body": "Hopefully the last big reshuffle.\r\n\r\nThe modules `rune::ir` and `rune::meta` are both squarely members of the `compile` module where all the relevant types are re-exported. This means `ir` and `meta` are no longer public modules. It makes sense for them to live in `compile` since this is where they are initially and most heavily used.\r\n\r\nDocumentation for `rune::ast` and `rune::compile` have also been expanded.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/312/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/311", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/311/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/311/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/311/events", "html_url": "https://github.com/rune-rs/rune/pull/311", "id": 1052975626, "node_id": "PR_kwDOENbcA84uf5lt", "number": 311, "title": "Remove the need for two lifetimes when referencing the Query engine", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-14T16:04:16Z", "updated_at": "2021-11-14T17:12:35Z", "closed_at": "2021-11-14T16:10:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/311", "html_url": "https://github.com/rune-rs/rune/pull/311", "diff_url": "https://github.com/rune-rs/rune/pull/311.diff", "patch_url": "https://github.com/rune-rs/rune/pull/311.patch", "merged_at": "2021-11-14T16:10:46Z"}, "body": "This is achieved by having `Query` borrow its own internals, allowing it to reborrow itself through `Query::borrow`.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/311/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/310", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/310/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/310/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/310/events", "html_url": "https://github.com/rune-rs/rune/pull/310", "id": 1052682562, "node_id": "PR_kwDOENbcA84ufE1D", "number": 310, "title": "Refactor build entrypoint and add sources! macro", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-13T13:31:18Z", "updated_at": "2021-11-13T13:41:39Z", "closed_at": "2021-11-13T13:41:33Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/310", "html_url": "https://github.com/rune-rs/rune/pull/310", "diff_url": "https://github.com/rune-rs/rune/pull/310.diff", "patch_url": "https://github.com/rune-rs/rune/pull/310.patch", "merged_at": "2021-11-13T13:41:33Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/310/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/310/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/309", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/309/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/309/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/309/events", "html_url": "https://github.com/rune-rs/rune/pull/309", "id": 1052643783, "node_id": "PR_kwDOENbcA84ue96R", "number": 309, "title": "Hide more things from the top-level API", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-13T09:55:46Z", "updated_at": "2021-11-13T10:03:37Z", "closed_at": "2021-11-13T10:03:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/309", "html_url": "https://github.com/rune-rs/rune/pull/309", "diff_url": "https://github.com/rune-rs/rune/pull/309.diff", "patch_url": "https://github.com/rune-rs/rune/pull/309.patch", "merged_at": "2021-11-13T10:03:34Z"}, "body": "This moves even more things into their corresponding modules.\r\n\r\nThe rule of thumb is that a thing is declared in the module that is first in the compilation order to use it, unless there is a compelling reason otherwise.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/309/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/308", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/308/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/308/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/308/events", "html_url": "https://github.com/rune-rs/rune/pull/308", "id": 1052568887, "node_id": "PR_kwDOENbcA84ue5rj", "number": 308, "title": "Rework modules and change how to invoke Rune", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-13T07:32:28Z", "updated_at": "2021-11-13T09:36:25Z", "closed_at": "2021-11-13T08:12:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/308", "html_url": "https://github.com/rune-rs/rune/pull/308", "diff_url": "https://github.com/rune-rs/rune/pull/308.diff", "patch_url": "https://github.com/rune-rs/rune/pull/308.patch", "merged_at": "2021-11-13T08:12:20Z"}, "body": "There are also some module changes where things have been moved more squarely into the `rune::compile` and `rune::runtime` modules.\r\n\r\n`rune::load_sources` have been changed into `rune::prepare` which is more modular and provides more default.\r\n\r\nSo this:\r\n\r\n```rust\r\nlet result = rune::load_sources(&context, &options, &mut sources, &mut diagnostics);\r\n```\r\n\r\nHas been changed to this:\r\n\r\n```rust\r\nlet result = rune::prepare(&context, &mut sources)\r\n    .with_options(&options)\r\n    .with_diagnostics(&mut diagnostics)\r\n    .build();\r\n```\r\n\r\nMeaning if you want to omit options and collection of diagnostics you can do:\r\n\r\n```rust\r\nlet result = rune::prepare(&context, &mut sources).build();\r\n```", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/308/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/307", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/307/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/307/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/307/events", "html_url": "https://github.com/rune-rs/rune/pull/307", "id": 1052477247, "node_id": "PR_kwDOENbcA84ueoZA", "number": 307, "title": "Improve and re-organize public API of rune crate", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-12T23:29:49Z", "updated_at": "2021-11-13T00:20:44Z", "closed_at": "2021-11-13T00:20:42Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/307", "html_url": "https://github.com/rune-rs/rune/pull/307", "diff_url": "https://github.com/rune-rs/rune/pull/307.diff", "patch_url": "https://github.com/rune-rs/rune/pull/307.patch", "merged_at": "2021-11-13T00:20:42Z"}, "body": "* Change `rune::compiling` to remove re-exports, rename to `rune::compile`, and make public.\r\n* Change `rune::parsing` to remove re-exports, rename to `rune::parse`, and make public.\r\n* Change `rune::query` to remove re-exports (errors only) and make public.\r\n* Change `rune::ir` to remove re-exports (errors only) and make public.\r\n* Change `rune::macros` to remove re-exports and make public.\r\n* Change `rune::diagnostics` to prune re-exports and make public.\r\n\r\nMinor changes for internal consistency.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/307/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/306", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/306/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/306/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/306/events", "html_url": "https://github.com/rune-rs/rune/pull/306", "id": 1051559924, "node_id": "PR_kwDOENbcA84ub6Mv", "number": 306, "title": "Remove runestick crates and merge project into a single rune crate", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-12T03:57:00Z", "updated_at": "2021-11-12T19:13:16Z", "closed_at": "2021-11-12T19:13:14Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/306", "html_url": "https://github.com/rune-rs/rune/pull/306", "diff_url": "https://github.com/rune-rs/rune/pull/306.diff", "patch_url": "https://github.com/rune-rs/rune/pull/306.patch", "merged_at": "2021-11-12T19:13:14Z"}, "body": "Everything in `runestick` goes into `rune`, everything in `runestick-macros` goes into `rune-macros`.\r\n\r\nThis is a fairly big breaking change, but somewhat necessary to provide a better API as a few types need to know about overly complex `rune` types to work well.\r\n\r\nMigrating should mostly involve changing `runestick::` to `rune::`, but not everything is re-exported. The things which have not been re-exported are made available in the `rune::runtime` module.\r\n\r\nThe second PR showcases what is possible w.r.t. `Context::macro_` since `TokenStream` and `MacroContext` is visible.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/306/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 3, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/306/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/305", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/305/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/305/events", "html_url": "https://github.com/rune-rs/rune/pull/305", "id": 1051250999, "node_id": "PR_kwDOENbcA84ua6_P", "number": 305, "title": "More String to Box<str>", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-11T18:28:51Z", "updated_at": "2021-11-12T02:48:16Z", "closed_at": "2021-11-11T23:52:06Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/305", "html_url": "https://github.com/rune-rs/rune/pull/305", "diff_url": "https://github.com/rune-rs/rune/pull/305.diff", "patch_url": "https://github.com/rune-rs/rune/pull/305.patch", "merged_at": "2021-11-11T23:52:06Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/305/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/304", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/304/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/304/events", "html_url": "https://github.com/rune-rs/rune/pull/304", "id": 1051180909, "node_id": "PR_kwDOENbcA84uasZ3", "number": 304, "title": "Remove a bunch of unecessary internal reference counting", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-11T16:59:14Z", "updated_at": "2024-03-07T18:12:40Z", "closed_at": "2021-11-12T00:01:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/304", "html_url": "https://github.com/rune-rs/rune/pull/304", "diff_url": "https://github.com/rune-rs/rune/pull/304.diff", "patch_url": "https://github.com/rune-rs/rune/pull/304.patch", "merged_at": "2021-11-12T00:01:27Z"}, "body": "So this is another big one, and it changes how macros are written.\r\n\r\nMacros after this change takes an explicit `ctx` argument with the type `&mut MacroContext<'_>`. This context provides access to everything you need in order to implement a macro and used to be provided through TLS.\r\n\r\nThe TLS has been removed, and as a result it's not possible to remove internal reference counting and RefCell for `Query`, `Storage`, and `Consts` because the lifetime of these can be handled in Rust directly instead.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/304/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/303", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/303/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/303/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/303/events", "html_url": "https://github.com/rune-rs/rune/pull/303", "id": 1050486581, "node_id": "PR_kwDOENbcA84uYbn5", "number": 303, "title": "Support registering new sources in macros and parsing in macros", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-11T01:42:48Z", "updated_at": "2021-11-11T05:18:50Z", "closed_at": "2021-11-11T05:15:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/303", "html_url": "https://github.com/rune-rs/rune/pull/303", "diff_url": "https://github.com/rune-rs/rune/pull/303.diff", "patch_url": "https://github.com/rune-rs/rune/pull/303.patch", "merged_at": "2021-11-11T05:15:19Z"}, "body": "Almost all of the changes presented in here follow from these requirements:\r\n* All the necessary tokens that need to refer to a piece of source includes a `SourceId` and the lexer has been modified to include it where appropriate.\r\n* The `Resolve` macro now takes the full collection of `Sources` instead of a single *implicit* `Source`.\r\n* A mutable `Sources` is propagated into the macro context so that it can be modified during macro expansion.\r\n\r\nDue to all of these, we can now implement `macros::parse_all` allowing to parse a string into a correctly behaving `TokenStream`.\r\n\r\nFixed #302", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/303/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/303/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/301", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/301/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/301/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/301/events", "html_url": "https://github.com/rune-rs/rune/pull/301", "id": 1050088589, "node_id": "PR_kwDOENbcA84uXIeE", "number": 301, "title": "Reduce memory footprint of debug info and future proof its API", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-10T17:07:28Z", "updated_at": "2021-11-11T01:37:47Z", "closed_at": "2021-11-10T21:43:55Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/301", "html_url": "https://github.com/rune-rs/rune/pull/301", "diff_url": "https://github.com/rune-rs/rune/pull/301.diff", "patch_url": "https://github.com/rune-rs/rune/pull/301.patch", "merged_at": "2021-11-10T21:43:55Z"}, "body": "Minor clean up around sources and debug info. Changes `String` to use `Box<str>` since they are immutable, saving a few bytes here and there. Also marks debug info structs as `#[non_exhaustive]` so that they are more future proof (since they have public fields) and adding constructors for how they are used.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/301/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/298", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/298/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/298/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/298/events", "html_url": "https://github.com/rune-rs/rune/pull/298", "id": 1048804209, "node_id": "PR_kwDOENbcA84uS6u9", "number": 298, "title": "Bump nanorand to 0.6.2", "user": {"login": "tgolsson", "id": 8234817, "node_id": "MDQ6VXNlcjgyMzQ4MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/8234817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgolsson", "html_url": "https://github.com/tgolsson", "followers_url": "https://api.github.com/users/tgolsson/followers", "following_url": "https://api.github.com/users/tgolsson/following{/other_user}", "gists_url": "https://api.github.com/users/tgolsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgolsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgolsson/subscriptions", "organizations_url": "https://api.github.com/users/tgolsson/orgs", "repos_url": "https://api.github.com/users/tgolsson/repos", "events_url": "https://api.github.com/users/tgolsson/events{/privacy}", "received_events_url": "https://api.github.com/users/tgolsson/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-09T16:20:41Z", "updated_at": "2021-11-09T16:29:53Z", "closed_at": "2021-11-09T16:28:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/298", "html_url": "https://github.com/rune-rs/rune/pull/298", "diff_url": "https://github.com/rune-rs/rune/pull/298.diff", "patch_url": "https://github.com/rune-rs/rune/pull/298.patch", "merged_at": "2021-11-09T16:28:45Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/298/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/297", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/297/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/297/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/297/events", "html_url": "https://github.com/rune-rs/rune/pull/297", "id": 1048019863, "node_id": "PR_kwDOENbcA84uQYZy", "number": 297, "title": "Make Try and Return more complex and remove Unwrap and IsValue", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-08T23:20:35Z", "updated_at": "2021-11-09T16:47:38Z", "closed_at": "2021-11-09T16:47:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/297", "html_url": "https://github.com/rune-rs/rune/pull/297", "diff_url": "https://github.com/rune-rs/rune/pull/297.diff", "patch_url": "https://github.com/rune-rs/rune/pull/297.patch", "merged_at": "2021-11-09T16:47:36Z"}, "body": "This change introduces the `Try` instruction which replaces the use of about 5 other instructions whenever an expression like `expr?` is used.\r\n\r\n`Return` has also been extended to be able to process an addressed variable `address` and to `clean` (where `clean` indicates the number of stack elements that should be clean for the current call frame). This allows it to execute more efficiently under some circumstances.\r\n\r\nSo what happens is that for every try expression, we replace code that is generated like this:\r\n\r\n```\r\n  0000 = dup\r\n  0001 = is-value\r\n  0002 = jump-if 1 // label:try_not_error_4\r\n  0003 = return\r\ntry_not_error_4:\r\n  0004 = unwrap\r\n```\r\n\r\nWith this:\r\n\r\n```\r\n  0000 = try address=top, clean=0, preserve=true\r\n```\r\n\r\nSo for every try we save about 4 instructions. This example code goes from being 82 instructions to only be 14:\r\n\r\n```\r\nOk(Ok(Ok(Ok(Ok(Ok(42))))))??????\r\n```\r\n\r\nWe also avoid the work involved in advancing the Vm across 5 operations and can avoid performing some duplicate work, netting us a performance uplift of about 15% for try expressions.\r\n\r\nAnother benefit is that this allows us to nuke the `IsValue` and `Unwrap` instructions which were only used in try expressions.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/297/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/296", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/296/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/296/events", "html_url": "https://github.com/rune-rs/rune/pull/296", "id": 1048009312, "node_id": "PR_kwDOENbcA84uQWFd", "number": 296, "title": "Introduce rune bench for running micro benchmarks", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 2353351322, "node_id": "MDU6TGFiZWwyMzUzMzUxMzIy", "url": "https://api.github.com/repos/rune-rs/rune/labels/changelog", "name": "changelog", "color": "fcbdae", "default": false, "description": "Issue has been added to the changelog"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-08T23:06:47Z", "updated_at": "2021-11-26T09:56:20Z", "closed_at": "2021-11-09T15:54:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/296", "html_url": "https://github.com/rune-rs/rune/pull/296", "diff_url": "https://github.com/rune-rs/rune/pull/296.diff", "patch_url": "https://github.com/rune-rs/rune/pull/296.patch", "merged_at": "2021-11-09T15:54:20Z"}, "body": "This allows for specifying benchmark functions with the `#[bench]` attribute, which uses a similar contract as the same attribute in Rust.\r\n\r\n```rust\r\n#[bench]\r\nfn bench_try(b) {\r\n    b.iter(|| {\r\n        Ok(Ok(Ok(Ok(Ok(Ok(42))))))??????\r\n    });\r\n}\r\n```\r\n\r\nThis can be run with the new `bench` subcommand. It's currently very simple and only reports average and standard deviation after performing a number of warmups and iterations. I expect this to be improved at a later point.\r\n\r\n```\r\n> cargo run --release --bin rune -- bench scripts\\benches.rn\r\nFound 1 benches...\r\nbench bench_try#0: mean=780.00ns, stddev=50.99, iterations=100\r\n```\r\n\r\nI've re-used some of the plumbing introduced with the `#[test]` attribute in 4b4683aea8e2418c2c49f76657b5c900f0b4a952.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/296/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/295", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/295/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/295/events", "html_url": "https://github.com/rune-rs/rune/pull/295", "id": 1047302133, "node_id": "PR_kwDOENbcA84uOBmD", "number": 295, "title": "Don't require macro function to be Copy", "user": {"login": "pkolaczk", "id": 1352795, "node_id": "MDQ6VXNlcjEzNTI3OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1352795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkolaczk", "html_url": "https://github.com/pkolaczk", "followers_url": "https://api.github.com/users/pkolaczk/followers", "following_url": "https://api.github.com/users/pkolaczk/following{/other_user}", "gists_url": "https://api.github.com/users/pkolaczk/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkolaczk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkolaczk/subscriptions", "organizations_url": "https://api.github.com/users/pkolaczk/orgs", "repos_url": "https://api.github.com/users/pkolaczk/repos", "events_url": "https://api.github.com/users/pkolaczk/events{/privacy}", "received_events_url": "https://api.github.com/users/pkolaczk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-08T10:57:13Z", "updated_at": "2021-11-10T14:41:42Z", "closed_at": "2021-11-08T23:07:54Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/295", "html_url": "https://github.com/rune-rs/rune/pull/295", "diff_url": "https://github.com/rune-rs/rune/pull/295.diff", "patch_url": "https://github.com/rune-rs/rune/pull/295.patch", "merged_at": "2021-11-08T23:07:54Z"}, "body": "Requiring the macro closure to be Copy disallows capturing things like `HashMap` or other complex structures which are `Clone` but not `Copy`. Changing the requirement to `Clone` still allows Rune to copy the closure if needed. \r\n\r\nExample where it could be useful:\r\n\r\n```rust\r\n/// Returns the literal value stored in the `params` map under the key given as the first \r\n/// macro arg, and if not found, returns the expression from the second arg.\r\nfn param(params: &HashMap<String, String>, ts: &TokenStream) -> runestick::Result<TokenStream> {\r\n...\r\n}\r\n\r\n...\r\nlet mut params = HashMap::new(); \r\nparams.add(\"foo\".to_string(), \"1\".to_string());\r\n\r\nlet mut my_module = Module::default();\r\nmy_module.macro_(&[\"param\"], move |ts| Self::param(&params, ts)).unwrap();\r\n...\r\n```\r\n\r\nThen I can use it in Rune script:\r\n\r\n```rust\r\nconst FOO = param!(\"foo\", -1);\r\n```", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/295/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/291", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/291/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/291/events", "html_url": "https://github.com/rune-rs/rune/pull/291", "id": 1045863639, "node_id": "PR_kwDOENbcA84uJkID", "number": 291, "title": "Introduce Vm::with to allow for calling functions inside of the vm", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-05T13:43:44Z", "updated_at": "2021-11-05T16:29:38Z", "closed_at": "2021-11-05T14:49:00Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/291", "html_url": "https://github.com/rune-rs/rune/pull/291", "diff_url": "https://github.com/rune-rs/rune/pull/291.diff", "patch_url": "https://github.com/rune-rs/rune/pull/291.patch", "merged_at": "2021-11-05T14:49:00Z"}, "body": "Introduces `Vm::with` as a public API for specifying which virtual machine to call a function inside. This maintains the necessary thread-locals to call the `Value` helper functions introduced earlier so that they can be publicly used.\r\n\r\nFixes #290", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/291/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/287", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/287/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/287/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/287/events", "html_url": "https://github.com/rune-rs/rune/pull/287", "id": 1043362869, "node_id": "PR_kwDOENbcA84uBw9S", "number": 287, "title": "Allow re-using a Vm by supporting mutable VmExecution", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-03T10:22:35Z", "updated_at": "2021-11-03T13:45:12Z", "closed_at": "2021-11-03T13:45:10Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/287", "html_url": "https://github.com/rune-rs/rune/pull/287", "diff_url": "https://github.com/rune-rs/rune/pull/287.diff", "patch_url": "https://github.com/rune-rs/rune/pull/287.patch", "merged_at": "2021-11-03T13:45:10Z"}, "body": "Been dragging my feet on this since I mostly use Rune while calling a single function. But this adds the ability to perform multiple calls on the same virtual machine assuming you have mutable access to it.\r\n\r\nThe solution adds a generic parameter to `VmExecution` to hold the head virtual machine, which is constrained to implement `AsRef<Vm>` and `AsMut<Vm>` as appropriate. This allows `VmExecution` to both take an exlusive reference `VmExecution<&mut Vm>` and ownership (default) `VmExecution<Vm>`. All the corresponding functions on `Vm` that does take `self` by ownership has been changed to take `&mut self` instead where possible.\r\n\r\nAs far as I can tell, nothing bad should be possible - since mutable access implies exclusive access to the same degree as ownership does (minus that the code is not responsible for dropping the virtual machine). The only point I'm a little bit concerned about is `GuardedArgs` since it allows for passing in references during async function calls. But since everything must be pinned and due to the pinning guarantee there should be no way for the guard that is created to leak anyways.\r\n\r\nFixes #286 since the solution then becomes obvious. Re-use the same `Vm`.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/287/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/285", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/285/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/285/events", "html_url": "https://github.com/rune-rs/rune/pull/285", "id": 1028329089, "node_id": "PR_kwDOENbcA84tSjzb", "number": 285, "title": "Rename `error!` parameter to work around rust-analyzer hang", "user": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-10-17T13:44:24Z", "updated_at": "2021-10-18T10:06:40Z", "closed_at": "2021-10-18T10:04:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/285", "html_url": "https://github.com/rune-rs/rune/pull/285", "diff_url": "https://github.com/rune-rs/rune/pull/285.diff", "patch_url": "https://github.com/rune-rs/rune/pull/285.patch", "merged_at": "2021-10-18T10:04:59Z"}, "body": "Closes #284.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/285/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/280", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/280/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/280/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/280/events", "html_url": "https://github.com/rune-rs/rune/pull/280", "id": 988585463, "node_id": "MDExOlB1bGxSZXF1ZXN0NzI3NDU5NTYz", "number": 280, "title": "add `unwrap_or` impl to result.", "user": {"login": "tgolsson", "id": 8234817, "node_id": "MDQ6VXNlcjgyMzQ4MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/8234817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgolsson", "html_url": "https://github.com/tgolsson", "followers_url": "https://api.github.com/users/tgolsson/followers", "following_url": "https://api.github.com/users/tgolsson/following{/other_user}", "gists_url": "https://api.github.com/users/tgolsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgolsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgolsson/subscriptions", "organizations_url": "https://api.github.com/users/tgolsson/orgs", "repos_url": "https://api.github.com/users/tgolsson/repos", "events_url": "https://api.github.com/users/tgolsson/events{/privacy}", "received_events_url": "https://api.github.com/users/tgolsson/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389689, "node_id": "MDU6TGFiZWwyMjMwMzg5Njg5", "url": "https://api.github.com/repos/rune-rs/rune/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-05T19:56:23Z", "updated_at": "2021-11-13T13:00:36Z", "closed_at": "2021-09-06T06:51:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/280", "html_url": "https://github.com/rune-rs/rune/pull/280", "diff_url": "https://github.com/rune-rs/rune/pull/280.diff", "patch_url": "https://github.com/rune-rs/rune/pull/280.patch", "merged_at": "2021-09-06T06:51:28Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/280/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/278", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/278/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/278/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/278/events", "html_url": "https://github.com/rune-rs/rune/pull/278", "id": 986856226, "node_id": "MDExOlB1bGxSZXF1ZXN0NzI2MDIwNTgx", "number": 278, "title": "add support for \"lightweight\" function pointers", "user": {"login": "tgolsson", "id": 8234817, "node_id": "MDQ6VXNlcjgyMzQ4MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/8234817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgolsson", "html_url": "https://github.com/tgolsson", "followers_url": "https://api.github.com/users/tgolsson/followers", "following_url": "https://api.github.com/users/tgolsson/following{/other_user}", "gists_url": "https://api.github.com/users/tgolsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgolsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgolsson/subscriptions", "organizations_url": "https://api.github.com/users/tgolsson/orgs", "repos_url": "https://api.github.com/users/tgolsson/repos", "events_url": "https://api.github.com/users/tgolsson/events{/privacy}", "received_events_url": "https://api.github.com/users/tgolsson/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-09-02T15:09:19Z", "updated_at": "2021-11-14T15:26:04Z", "closed_at": "2021-11-14T15:26:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/278", "html_url": "https://github.com/rune-rs/rune/pull/278", "diff_url": "https://github.com/rune-rs/rune/pull/278.diff", "patch_url": "https://github.com/rune-rs/rune/pull/278.patch", "merged_at": "2021-11-14T15:26:02Z"}, "body": "I've had a bunch of use-cases where I want to store callbacks etc to Rune functions inside Rust, and the regular Function objects has a lot of baggage and works badly in threaded contexts (being neither Sync nor Send iirc). These raw functions behave like `fn` in Rust, as opposed to Fn, making them easier to store. I'm a bit annoyed at the code duplication and considered making these a sub=enum of the regular Function hierarchy, but I think this implementation is *cleaner*.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/278/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/276", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/276/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/276/events", "html_url": "https://github.com/rune-rs/rune/pull/276", "id": 981927985, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIxODQ2MDU4", "number": 276, "title": "Fixed Clippy Issues and Added Allows for those we will Ignore", "user": {"login": "genusistimelord", "id": 1034709, "node_id": "MDQ6VXNlcjEwMzQ3MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1034709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/genusistimelord", "html_url": "https://github.com/genusistimelord", "followers_url": "https://api.github.com/users/genusistimelord/followers", "following_url": "https://api.github.com/users/genusistimelord/following{/other_user}", "gists_url": "https://api.github.com/users/genusistimelord/gists{/gist_id}", "starred_url": "https://api.github.com/users/genusistimelord/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/genusistimelord/subscriptions", "organizations_url": "https://api.github.com/users/genusistimelord/orgs", "repos_url": "https://api.github.com/users/genusistimelord/repos", "events_url": "https://api.github.com/users/genusistimelord/events{/privacy}", "received_events_url": "https://api.github.com/users/genusistimelord/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-28T21:05:41Z", "updated_at": "2021-08-28T21:45:15Z", "closed_at": "2021-08-28T21:45:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/276", "html_url": "https://github.com/rune-rs/rune/pull/276", "diff_url": "https://github.com/rune-rs/rune/pull/276.diff", "patch_url": "https://github.com/rune-rs/rune/pull/276.patch", "merged_at": "2021-08-28T21:45:15Z"}, "body": "I have gone through and fixed all the Clippy issues within each crate and separated each Clippy issue fix into its own Commits.", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/276/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/275", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/275/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/275/events", "html_url": "https://github.com/rune-rs/rune/pull/275", "id": 964218223, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA2NzEwMjk1", "number": 275, "title": "Prepare release 0.9.1", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2670030839, "node_id": "MDU6TGFiZWwyNjcwMDMwODM5", "url": "https://api.github.com/repos/rune-rs/rune/labels/chore", "name": "chore", "color": "C24FB4", "default": false, "description": "Chores that has to happen for certain tasks"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-09T17:36:17Z", "updated_at": "2021-08-09T19:24:27Z", "closed_at": "2021-08-09T19:24:23Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/275", "html_url": "https://github.com/rune-rs/rune/pull/275", "diff_url": "https://github.com/rune-rs/rune/pull/275.diff", "patch_url": "https://github.com/rune-rs/rune/pull/275.patch", "merged_at": "2021-08-09T19:24:23Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/275/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rune-rs/rune/issues/274", "repository_url": "https://api.github.com/repos/rune-rs/rune", "labels_url": "https://api.github.com/repos/rune-rs/rune/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/rune-rs/rune/issues/274/comments", "events_url": "https://api.github.com/repos/rune-rs/rune/issues/274/events", "html_url": "https://github.com/rune-rs/rune/pull/274", "id": 964072562, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA2NTg2NDI3", "number": 274, "title": "Get rid of memory leak in IndexScopes", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2230389682, "node_id": "MDU6TGFiZWwyMjMwMzg5Njgy", "url": "https://api.github.com/repos/rune-rs/rune/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-09T14:45:42Z", "updated_at": "2024-03-07T18:11:30Z", "closed_at": "2021-08-09T17:20:58Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rune-rs/rune/pulls/274", "html_url": "https://github.com/rune-rs/rune/pull/274", "diff_url": "https://github.com/rune-rs/rune/pull/274.diff", "patch_url": "https://github.com/rune-rs/rune/pull/274.patch", "merged_at": "2021-08-09T17:20:57Z"}, "body": "The `into_*` fns in `IndexScopes` were using ill-advised `ManuallyDrop` to try and avoid the destructor being called. However, this also prevents `levels` from being dropped in the guards themselves, leaving the reference count to the `Rc` dangling.\r\n\r\nThis was located by using [a patched version of checkers](https://github.com/udoprog/checkers/pull/8).\r\n\r\nFixes #273", "reactions": {"url": "https://api.github.com/repos/rune-rs/rune/issues/274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rune-rs/rune/issues/274/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]