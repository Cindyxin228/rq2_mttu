{"url": "https://api.github.com/repos/chronotope/chrono/pulls/980", "id": 1266256183, "node_id": "PR_kwDOARXdmc5LeYk3", "html_url": "https://github.com/chronotope/chrono/pull/980", "diff_url": "https://github.com/chronotope/chrono/pull/980.diff", "patch_url": "https://github.com/chronotope/chrono/pull/980.patch", "issue_url": "https://api.github.com/repos/chronotope/chrono/issues/980", "number": 980, "state": "closed", "locked": false, "title": "Make iana-time-zone a target specific dependency", "user": {"login": "krtab", "id": 53921575, "node_id": "MDQ6VXNlcjUzOTIxNTc1", "avatar_url": "https://avatars.githubusercontent.com/u/53921575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krtab", "html_url": "https://github.com/krtab", "followers_url": "https://api.github.com/users/krtab/followers", "following_url": "https://api.github.com/users/krtab/following{/other_user}", "gists_url": "https://api.github.com/users/krtab/gists{/gist_id}", "starred_url": "https://api.github.com/users/krtab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krtab/subscriptions", "organizations_url": "https://api.github.com/users/krtab/orgs", "repos_url": "https://api.github.com/users/krtab/repos", "events_url": "https://api.github.com/users/krtab/events{/privacy}", "received_events_url": "https://api.github.com/users/krtab/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "Currently, iana-tiime-zone is only used on cfg(unix). This crate, and its windows code in particular, contains a lot of unsafe, so it seems prudent to limit its scope to where it is actually needed.\r\n\r\n# Geiger\r\n\r\n## Before\r\n\r\n```\r\nFunctions  Expressions  Impls  Traits  Methods  Dependency\r\n\r\n0/0        2/48         2/2    0/0     0/0      \u2622\ufe0f  chrono 0.5.0-alpha.1\r\n0/2        1/147        0/0    0/0     0/1      \u2622\ufe0f  \u251c\u2500\u2500 iana-time-zone 0.1.53\r\n0/46       0/500        0/0    0/0     0/0      \u2753 \u2502   \u2514\u2500\u2500 winapi 0.3.9\r\n0/0        0/0          0/0    0/0     0/0      \u2753 \u2502       \u2514\u2500\u2500 winapi-x86_64-pc-windows-gnu 0.4.0\r\n0/0        0/0          0/0    0/0     0/0      \u2753 \u251c\u2500\u2500 num-integer 0.1.45\r\n0/0        6/12         0/0    0/0     0/0      \u2622\ufe0f  \u2502   \u2514\u2500\u2500 num-traits 0.2.15\r\n0/0        0/5          0/0    0/0     0/0      \u2753 \u251c\u2500\u2500 serde 1.0.152\r\n0/0        0/0          0/0    0/0     0/0      \u2753 \u2502   \u2514\u2500\u2500 serde_derive 1.0.152\r\n0/0        0/15         0/0    0/0     0/3      \u2753 \u2502       \u251c\u2500\u2500 proc-macro2 1.0.51\r\n0/0        0/4          0/0    0/0     0/0      \u2753 \u2502       \u2502   \u2514\u2500\u2500 unicode-ident 1.0.8\r\n0/0        0/0          0/0    0/0     0/0      \u2753 \u2502       \u251c\u2500\u2500 quote 1.0.23\r\n0/0        0/15         0/0    0/0     0/3      \u2753 \u2502       \u2502   \u2514\u2500\u2500 proc-macro2 1.0.51\r\n0/0        0/69         0/3    0/0     0/2      \u2753 \u2502       \u2514\u2500\u2500 syn 1.0.109\r\n0/0        0/15         0/0    0/0     0/3      \u2753 \u2502           \u251c\u2500\u2500 proc-macro2 1.0.51\r\n0/0        0/0          0/0    0/0     0/0      \u2753 \u2502           \u251c\u2500\u2500 quote 1.0.23\r\n0/0        0/4          0/0    0/0     0/0      \u2753 \u2502           \u2514\u2500\u2500 unicode-ident 1.0.8\r\n0/0        0/0          0/0    0/0     0/0      \u2753 \u2514\u2500\u2500 windows-sys 0.45.0\r\n0/0        0/0          0/0    0/0     0/0      \u2753     \u2514\u2500\u2500 windows-targets 0.42.1\r\n0/0        0/0          0/0    0/0     0/0      \u2753         \u2514\u2500\u2500 windows_x86_64_gnu 0.42.1\r\n\r\n0/48       9/800        2/5    0/0     0/6\r\n```\r\n\r\n## After\r\n\r\n```\r\nFunctions  Expressions  Impls  Traits  Methods  Dependency\r\n\r\n0/0        2/48         2/2    0/0     0/0      \u2622\ufe0f  chrono 0.5.0-alpha.1\r\n0/0        0/0          0/0    0/0     0/0      \u2753 \u251c\u2500\u2500 num-integer 0.1.45\r\n0/0        6/12         0/0    0/0     0/0      \u2622\ufe0f  \u2502   \u2514\u2500\u2500 num-traits 0.2.15\r\n0/0        0/5          0/0    0/0     0/0      \u2753 \u251c\u2500\u2500 serde 1.0.152\r\n0/0        0/0          0/0    0/0     0/0      \u2753 \u2502   \u2514\u2500\u2500 serde_derive 1.0.152\r\n0/0        0/15         0/0    0/0     0/3      \u2753 \u2502       \u251c\u2500\u2500 proc-macro2 1.0.51\r\n0/0        0/4          0/0    0/0     0/0      \u2753 \u2502       \u2502   \u2514\u2500\u2500 unicode-ident 1.0.8\r\n0/0        0/0          0/0    0/0     0/0      \u2753 \u2502       \u251c\u2500\u2500 quote 1.0.23\r\n0/0        0/15         0/0    0/0     0/3      \u2753 \u2502       \u2502   \u2514\u2500\u2500 proc-macro2 1.0.51\r\n0/0        0/69         0/3    0/0     0/2      \u2753 \u2502       \u2514\u2500\u2500 syn 1.0.109\r\n0/0        0/15         0/0    0/0     0/3      \u2753 \u2502           \u251c\u2500\u2500 proc-macro2 1.0.51\r\n0/0        0/0          0/0    0/0     0/0      \u2753 \u2502           \u251c\u2500\u2500 quote 1.0.23\r\n0/0        0/4          0/0    0/0     0/0      \u2753 \u2502           \u2514\u2500\u2500 unicode-ident 1.0.8\r\n0/0        0/0          0/0    0/0     0/0      \u2753 \u2514\u2500\u2500 windows-sys 0.45.0\r\n0/0        0/0          0/0    0/0     0/0      \u2753     \u2514\u2500\u2500 windows-targets 0.42.1\r\n0/0        0/0          0/0    0/0     0/0      \u2753         \u2514\u2500\u2500 windows_x86_64_gnu 0.42.1\r\n\r\n0/0        8/153        2/5    0/0     0/5\r\n```", "created_at": "2023-03-07T13:18:56Z", "updated_at": "2023-03-07T14:32:44Z", "closed_at": "2023-03-07T14:32:43Z", "merged_at": "2023-03-07T14:32:43Z", "merge_commit_sha": "fb2f2596f56b690ddd5fc5e473fc8380418802a8", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/chronotope/chrono/pulls/980/commits", "review_comments_url": "https://api.github.com/repos/chronotope/chrono/pulls/980/comments", "review_comment_url": "https://api.github.com/repos/chronotope/chrono/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/chronotope/chrono/issues/980/comments", "statuses_url": "https://api.github.com/repos/chronotope/chrono/statuses/771981288e4a9f762051f86936905b83a2c0f911", "head": {"label": "krtab:iana-tz-opt", "ref": "iana-tz-opt", "sha": "771981288e4a9f762051f86936905b83a2c0f911", "user": {"login": "krtab", "id": 53921575, "node_id": "MDQ6VXNlcjUzOTIxNTc1", "avatar_url": "https://avatars.githubusercontent.com/u/53921575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krtab", "html_url": "https://github.com/krtab", "followers_url": "https://api.github.com/users/krtab/followers", "following_url": "https://api.github.com/users/krtab/following{/other_user}", "gists_url": "https://api.github.com/users/krtab/gists{/gist_id}", "starred_url": "https://api.github.com/users/krtab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krtab/subscriptions", "organizations_url": "https://api.github.com/users/krtab/orgs", "repos_url": "https://api.github.com/users/krtab/repos", "events_url": "https://api.github.com/users/krtab/events{/privacy}", "received_events_url": "https://api.github.com/users/krtab/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 610776436, "node_id": "R_kgDOJGe1dA", "name": "chrono", "full_name": "krtab/chrono", "private": false, "owner": {"login": "krtab", "id": 53921575, "node_id": "MDQ6VXNlcjUzOTIxNTc1", "avatar_url": "https://avatars.githubusercontent.com/u/53921575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krtab", "html_url": "https://github.com/krtab", "followers_url": "https://api.github.com/users/krtab/followers", "following_url": "https://api.github.com/users/krtab/following{/other_user}", "gists_url": "https://api.github.com/users/krtab/gists{/gist_id}", "starred_url": "https://api.github.com/users/krtab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krtab/subscriptions", "organizations_url": "https://api.github.com/users/krtab/orgs", "repos_url": "https://api.github.com/users/krtab/repos", "events_url": "https://api.github.com/users/krtab/events{/privacy}", "received_events_url": "https://api.github.com/users/krtab/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/krtab/chrono", "description": "Date and time library for Rust", "fork": true, "url": "https://api.github.com/repos/krtab/chrono", "forks_url": "https://api.github.com/repos/krtab/chrono/forks", "keys_url": "https://api.github.com/repos/krtab/chrono/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/krtab/chrono/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/krtab/chrono/teams", "hooks_url": "https://api.github.com/repos/krtab/chrono/hooks", "issue_events_url": "https://api.github.com/repos/krtab/chrono/issues/events{/number}", "events_url": "https://api.github.com/repos/krtab/chrono/events", "assignees_url": "https://api.github.com/repos/krtab/chrono/assignees{/user}", "branches_url": "https://api.github.com/repos/krtab/chrono/branches{/branch}", "tags_url": "https://api.github.com/repos/krtab/chrono/tags", "blobs_url": "https://api.github.com/repos/krtab/chrono/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/krtab/chrono/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/krtab/chrono/git/refs{/sha}", "trees_url": "https://api.github.com/repos/krtab/chrono/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/krtab/chrono/statuses/{sha}", "languages_url": "https://api.github.com/repos/krtab/chrono/languages", "stargazers_url": "https://api.github.com/repos/krtab/chrono/stargazers", "contributors_url": "https://api.github.com/repos/krtab/chrono/contributors", "subscribers_url": "https://api.github.com/repos/krtab/chrono/subscribers", "subscription_url": "https://api.github.com/repos/krtab/chrono/subscription", "commits_url": "https://api.github.com/repos/krtab/chrono/commits{/sha}", "git_commits_url": "https://api.github.com/repos/krtab/chrono/git/commits{/sha}", "comments_url": "https://api.github.com/repos/krtab/chrono/comments{/number}", "issue_comment_url": "https://api.github.com/repos/krtab/chrono/issues/comments{/number}", "contents_url": "https://api.github.com/repos/krtab/chrono/contents/{+path}", "compare_url": "https://api.github.com/repos/krtab/chrono/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/krtab/chrono/merges", "archive_url": "https://api.github.com/repos/krtab/chrono/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/krtab/chrono/downloads", "issues_url": "https://api.github.com/repos/krtab/chrono/issues{/number}", "pulls_url": "https://api.github.com/repos/krtab/chrono/pulls{/number}", "milestones_url": "https://api.github.com/repos/krtab/chrono/milestones{/number}", "notifications_url": "https://api.github.com/repos/krtab/chrono/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/krtab/chrono/labels{/name}", "releases_url": "https://api.github.com/repos/krtab/chrono/releases{/id}", "deployments_url": "https://api.github.com/repos/krtab/chrono/deployments", "created_at": "2023-03-07T13:12:06Z", "updated_at": "2023-03-06T11:23:58Z", "pushed_at": "2023-03-07T13:20:11Z", "git_url": "git://github.com/krtab/chrono.git", "ssh_url": "git@github.com:krtab/chrono.git", "clone_url": "https://github.com/krtab/chrono.git", "svn_url": "https://github.com/krtab/chrono", "homepage": "", "size": 2898, "stargazers_count": 0, "watchers_count": 0, "language": null, "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "main"}}, "base": {"label": "chronotope:0.4.x", "ref": "0.4.x", "sha": "cf2a2f95f7030860b0eda2b78eff968f1d7b4228", "user": {"login": "chronotope", "id": 20810954, "node_id": "MDEyOk9yZ2FuaXphdGlvbjIwODEwOTU0", "avatar_url": "https://avatars.githubusercontent.com/u/20810954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chronotope", "html_url": "https://github.com/chronotope", "followers_url": "https://api.github.com/users/chronotope/followers", "following_url": "https://api.github.com/users/chronotope/following{/other_user}", "gists_url": "https://api.github.com/users/chronotope/gists{/gist_id}", "starred_url": "https://api.github.com/users/chronotope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chronotope/subscriptions", "organizations_url": "https://api.github.com/users/chronotope/orgs", "repos_url": "https://api.github.com/users/chronotope/repos", "events_url": "https://api.github.com/users/chronotope/events{/privacy}", "received_events_url": "https://api.github.com/users/chronotope/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 18210201, "node_id": "MDEwOlJlcG9zaXRvcnkxODIxMDIwMQ==", "name": "chrono", "full_name": "chronotope/chrono", "private": false, "owner": {"login": "chronotope", "id": 20810954, "node_id": "MDEyOk9yZ2FuaXphdGlvbjIwODEwOTU0", "avatar_url": "https://avatars.githubusercontent.com/u/20810954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chronotope", "html_url": "https://github.com/chronotope", "followers_url": "https://api.github.com/users/chronotope/followers", "following_url": "https://api.github.com/users/chronotope/following{/other_user}", "gists_url": "https://api.github.com/users/chronotope/gists{/gist_id}", "starred_url": "https://api.github.com/users/chronotope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chronotope/subscriptions", "organizations_url": "https://api.github.com/users/chronotope/orgs", "repos_url": "https://api.github.com/users/chronotope/repos", "events_url": "https://api.github.com/users/chronotope/events{/privacy}", "received_events_url": "https://api.github.com/users/chronotope/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/chronotope/chrono", "description": "Date and time library for Rust", "fork": false, "url": "https://api.github.com/repos/chronotope/chrono", "forks_url": "https://api.github.com/repos/chronotope/chrono/forks", "keys_url": "https://api.github.com/repos/chronotope/chrono/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/chronotope/chrono/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/chronotope/chrono/teams", "hooks_url": "https://api.github.com/repos/chronotope/chrono/hooks", "issue_events_url": "https://api.github.com/repos/chronotope/chrono/issues/events{/number}", "events_url": "https://api.github.com/repos/chronotope/chrono/events", "assignees_url": "https://api.github.com/repos/chronotope/chrono/assignees{/user}", "branches_url": "https://api.github.com/repos/chronotope/chrono/branches{/branch}", "tags_url": "https://api.github.com/repos/chronotope/chrono/tags", "blobs_url": "https://api.github.com/repos/chronotope/chrono/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/chronotope/chrono/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/chronotope/chrono/git/refs{/sha}", "trees_url": "https://api.github.com/repos/chronotope/chrono/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/chronotope/chrono/statuses/{sha}", "languages_url": "https://api.github.com/repos/chronotope/chrono/languages", "stargazers_url": "https://api.github.com/repos/chronotope/chrono/stargazers", "contributors_url": "https://api.github.com/repos/chronotope/chrono/contributors", "subscribers_url": "https://api.github.com/repos/chronotope/chrono/subscribers", "subscription_url": "https://api.github.com/repos/chronotope/chrono/subscription", "commits_url": "https://api.github.com/repos/chronotope/chrono/commits{/sha}", "git_commits_url": "https://api.github.com/repos/chronotope/chrono/git/commits{/sha}", "comments_url": "https://api.github.com/repos/chronotope/chrono/comments{/number}", "issue_comment_url": "https://api.github.com/repos/chronotope/chrono/issues/comments{/number}", "contents_url": "https://api.github.com/repos/chronotope/chrono/contents/{+path}", "compare_url": "https://api.github.com/repos/chronotope/chrono/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/chronotope/chrono/merges", "archive_url": "https://api.github.com/repos/chronotope/chrono/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/chronotope/chrono/downloads", "issues_url": "https://api.github.com/repos/chronotope/chrono/issues{/number}", "pulls_url": "https://api.github.com/repos/chronotope/chrono/pulls{/number}", "milestones_url": "https://api.github.com/repos/chronotope/chrono/milestones{/number}", "notifications_url": "https://api.github.com/repos/chronotope/chrono/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/chronotope/chrono/labels{/name}", "releases_url": "https://api.github.com/repos/chronotope/chrono/releases{/id}", "deployments_url": "https://api.github.com/repos/chronotope/chrono/deployments", "created_at": "2014-03-28T11:38:39Z", "updated_at": "2026-01-22T03:53:12Z", "pushed_at": "2026-01-14T21:33:16Z", "git_url": "git://github.com/chronotope/chrono.git", "ssh_url": "git@github.com:chronotope/chrono.git", "clone_url": "https://github.com/chronotope/chrono.git", "svn_url": "https://github.com/chronotope/chrono", "homepage": "", "size": 4905, "stargazers_count": 3772, "watchers_count": 3772, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 596, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 188, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["calendar", "date", "rust", "time"], "visibility": "public", "forks": 596, "open_issues": 188, "watchers": 3772, "default_branch": "main"}}, "_links": {"self": {"href": "https://api.github.com/repos/chronotope/chrono/pulls/980"}, "html": {"href": "https://github.com/chronotope/chrono/pull/980"}, "issue": {"href": "https://api.github.com/repos/chronotope/chrono/issues/980"}, "comments": {"href": "https://api.github.com/repos/chronotope/chrono/issues/980/comments"}, "review_comments": {"href": "https://api.github.com/repos/chronotope/chrono/pulls/980/comments"}, "review_comment": {"href": "https://api.github.com/repos/chronotope/chrono/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/chronotope/chrono/pulls/980/commits"}, "statuses": {"href": "https://api.github.com/repos/chronotope/chrono/statuses/771981288e4a9f762051f86936905b83a2c0f911"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": false, "rebaseable": false, "mergeable_state": "dirty", "merged_by": {"login": "djc", "id": 158471, "node_id": "MDQ6VXNlcjE1ODQ3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/158471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djc", "html_url": "https://github.com/djc", "followers_url": "https://api.github.com/users/djc/followers", "following_url": "https://api.github.com/users/djc/following{/other_user}", "gists_url": "https://api.github.com/users/djc/gists{/gist_id}", "starred_url": "https://api.github.com/users/djc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djc/subscriptions", "organizations_url": "https://api.github.com/users/djc/orgs", "repos_url": "https://api.github.com/users/djc/repos", "events_url": "https://api.github.com/users/djc/events{/privacy}", "received_events_url": "https://api.github.com/users/djc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 0, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 3, "deletions": 1, "changed_files": 1}