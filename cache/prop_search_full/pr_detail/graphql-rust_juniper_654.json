{"url": "https://api.github.com/repos/graphql-rust/juniper/pulls/654", "id": 414797455, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE0Nzk3NDU1", "html_url": "https://github.com/graphql-rust/juniper/pull/654", "diff_url": "https://github.com/graphql-rust/juniper/pull/654.diff", "patch_url": "https://github.com/graphql-rust/juniper/pull/654.patch", "issue_url": "https://api.github.com/repos/graphql-rust/juniper/issues/654", "number": 654, "state": "closed", "locked": false, "title": "Support \"Content-Type: application/graphql\" (#426)", "user": {"login": "tyranron", "id": 7114909, "node_id": "MDQ6VXNlcjcxMTQ5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/7114909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tyranron", "html_url": "https://github.com/tyranron", "followers_url": "https://api.github.com/users/tyranron/followers", "following_url": "https://api.github.com/users/tyranron/following{/other_user}", "gists_url": "https://api.github.com/users/tyranron/gists{/gist_id}", "starred_url": "https://api.github.com/users/tyranron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tyranron/subscriptions", "organizations_url": "https://api.github.com/users/tyranron/orgs", "repos_url": "https://api.github.com/users/tyranron/repos", "events_url": "https://api.github.com/users/tyranron/events{/privacy}", "received_events_url": "https://api.github.com/users/tyranron/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "Fixes #426  \r\nExtends #442\r\n\r\nThis PR is majorly based on @sd2k's work in #442 and adds support of `Content-Type: application/graphql` POST requests to all integration crates.\r\n\r\nAlso, some refactorings are made across codebase for better readability, and removing redudant boxing here and there.\r\n\r\n### `juniper`\r\n- [x] Refactor `HTTPIntegration` to support `application/graphql` requests:\r\n    - rename `HTTPIntegration` as `HttpIntegration`;\r\n    - rename `post` as `post_json` method;\r\n    - add `post_graphql` method.\r\n- [x] Add `test_graphql_post` and `test_invalid_graphql_post`.\r\n- [x] Update CHANGELOG/docs/examples.\r\n\r\n### `juniper_actix`\r\n- [x] Update tests to support new `HttpIntegration`.\r\n- [x] Fix `application/graphql` POST request support:\r\n    - At the moment it deserializes request's body as JSON, which is not correct.\r\n- [x] ~~Update CHANGELOG/docs/examples.~~ (initial release, so not CHANGELOG yet)\r\n\r\n### `juniper_hyper`\r\n- [x] Update tests to support new `HttpIntegration`.\r\n- [x] Run tests for both sync and async versions.\r\n- [x] Support `application/graphql` POST request:\r\n    - Return `400 Bad Request` if `Content-Type` is absent or invalid.\r\n- [x] Make async handler a default one (rename `graphql_async` -> `graphql` and `graphql` -> `graphql_sync`).\r\n- [x] Update CHANGELOG/docs/examples.\r\n\r\n### `juniper_iron`\r\n- [x] Update tests to support new `HttpIntegration`.\r\n- [x] Support `application/graphql` POST request:\r\n    - Return `400 Bad Request` if `Content-Type` is absent or invalid.\r\n- [x] Update CHANGELOG/docs/examples.\r\n\r\n### `juniper_rocket`\r\n- [x] Update tests to support new `HttpIntegration`.\r\n- [x] Support `application/graphql` POST request:\r\n    - Forward request if `Content-Type` is absent or invalid.\r\n- [x] Update CHANGELOG/docs/examples.\r\n\r\n### `juniper_rocket_async`\r\n- [x] Update tests to support new `HttpIntegration`.\r\n- [x] Support `application/graphql` POST request:\r\n    - Forward request if `Content-Type` is absent or invalid.\r\n- [x] Update CHANGELOG/docs/examples.\r\n\r\n### `juniper_warp`\r\n- [x] Revive `HttpIntegration` tests (were commented).\r\n- [x] Run tests for both sync and async versions.\r\n- [x] Support `application/graphql` POST request:\r\n    - Omit executing request if `Content-Type` is absent or invalid.\r\n- [x] Update CHANGELOG/docs/examples.", "created_at": "2020-05-07T16:37:02Z", "updated_at": "2020-05-08T16:08:03Z", "closed_at": "2020-05-08T16:00:50Z", "merged_at": "2020-05-08T16:00:50Z", "merge_commit_sha": "aedb2d1eb453f605380ff527f88d7467253ba341", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/graphql-rust/juniper/pulls/654/commits", "review_comments_url": "https://api.github.com/repos/graphql-rust/juniper/pulls/654/comments", "review_comment_url": "https://api.github.com/repos/graphql-rust/juniper/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/graphql-rust/juniper/issues/654/comments", "statuses_url": "https://api.github.com/repos/graphql-rust/juniper/statuses/c038e6ce81e55cf48c9198c17d49e280d41ee970", "head": {"label": "tyranron:support-graphql-content-type", "ref": "support-graphql-content-type", "sha": "c038e6ce81e55cf48c9198c17d49e280d41ee970", "user": {"login": "tyranron", "id": 7114909, "node_id": "MDQ6VXNlcjcxMTQ5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/7114909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tyranron", "html_url": "https://github.com/tyranron", "followers_url": "https://api.github.com/users/tyranron/followers", "following_url": "https://api.github.com/users/tyranron/following{/other_user}", "gists_url": "https://api.github.com/users/tyranron/gists{/gist_id}", "starred_url": "https://api.github.com/users/tyranron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tyranron/subscriptions", "organizations_url": "https://api.github.com/users/tyranron/orgs", "repos_url": "https://api.github.com/users/tyranron/repos", "events_url": "https://api.github.com/users/tyranron/events{/privacy}", "received_events_url": "https://api.github.com/users/tyranron/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": null}, "base": {"label": "graphql-rust:master", "ref": "master", "sha": "d13305f2029c12b11844b2fdf941f081e835a366", "user": {"login": "graphql-rust", "id": 30779353, "node_id": "MDEyOk9yZ2FuaXphdGlvbjMwNzc5MzUz", "avatar_url": "https://avatars.githubusercontent.com/u/30779353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graphql-rust", "html_url": "https://github.com/graphql-rust", "followers_url": "https://api.github.com/users/graphql-rust/followers", "following_url": "https://api.github.com/users/graphql-rust/following{/other_user}", "gists_url": "https://api.github.com/users/graphql-rust/gists{/gist_id}", "starred_url": "https://api.github.com/users/graphql-rust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graphql-rust/subscriptions", "organizations_url": "https://api.github.com/users/graphql-rust/orgs", "repos_url": "https://api.github.com/users/graphql-rust/repos", "events_url": "https://api.github.com/users/graphql-rust/events{/privacy}", "received_events_url": "https://api.github.com/users/graphql-rust/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 67941656, "node_id": "MDEwOlJlcG9zaXRvcnk2Nzk0MTY1Ng==", "name": "juniper", "full_name": "graphql-rust/juniper", "private": false, "owner": {"login": "graphql-rust", "id": 30779353, "node_id": "MDEyOk9yZ2FuaXphdGlvbjMwNzc5MzUz", "avatar_url": "https://avatars.githubusercontent.com/u/30779353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graphql-rust", "html_url": "https://github.com/graphql-rust", "followers_url": "https://api.github.com/users/graphql-rust/followers", "following_url": "https://api.github.com/users/graphql-rust/following{/other_user}", "gists_url": "https://api.github.com/users/graphql-rust/gists{/gist_id}", "starred_url": "https://api.github.com/users/graphql-rust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graphql-rust/subscriptions", "organizations_url": "https://api.github.com/users/graphql-rust/orgs", "repos_url": "https://api.github.com/users/graphql-rust/repos", "events_url": "https://api.github.com/users/graphql-rust/events{/privacy}", "received_events_url": "https://api.github.com/users/graphql-rust/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/graphql-rust/juniper", "description": "GraphQL server library for Rust", "fork": false, "url": "https://api.github.com/repos/graphql-rust/juniper", "forks_url": "https://api.github.com/repos/graphql-rust/juniper/forks", "keys_url": "https://api.github.com/repos/graphql-rust/juniper/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/graphql-rust/juniper/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/graphql-rust/juniper/teams", "hooks_url": "https://api.github.com/repos/graphql-rust/juniper/hooks", "issue_events_url": "https://api.github.com/repos/graphql-rust/juniper/issues/events{/number}", "events_url": "https://api.github.com/repos/graphql-rust/juniper/events", "assignees_url": "https://api.github.com/repos/graphql-rust/juniper/assignees{/user}", "branches_url": "https://api.github.com/repos/graphql-rust/juniper/branches{/branch}", "tags_url": "https://api.github.com/repos/graphql-rust/juniper/tags", "blobs_url": "https://api.github.com/repos/graphql-rust/juniper/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/graphql-rust/juniper/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/graphql-rust/juniper/git/refs{/sha}", "trees_url": "https://api.github.com/repos/graphql-rust/juniper/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/graphql-rust/juniper/statuses/{sha}", "languages_url": "https://api.github.com/repos/graphql-rust/juniper/languages", "stargazers_url": "https://api.github.com/repos/graphql-rust/juniper/stargazers", "contributors_url": "https://api.github.com/repos/graphql-rust/juniper/contributors", "subscribers_url": "https://api.github.com/repos/graphql-rust/juniper/subscribers", "subscription_url": "https://api.github.com/repos/graphql-rust/juniper/subscription", "commits_url": "https://api.github.com/repos/graphql-rust/juniper/commits{/sha}", "git_commits_url": "https://api.github.com/repos/graphql-rust/juniper/git/commits{/sha}", "comments_url": "https://api.github.com/repos/graphql-rust/juniper/comments{/number}", "issue_comment_url": "https://api.github.com/repos/graphql-rust/juniper/issues/comments{/number}", "contents_url": "https://api.github.com/repos/graphql-rust/juniper/contents/{+path}", "compare_url": "https://api.github.com/repos/graphql-rust/juniper/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/graphql-rust/juniper/merges", "archive_url": "https://api.github.com/repos/graphql-rust/juniper/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/graphql-rust/juniper/downloads", "issues_url": "https://api.github.com/repos/graphql-rust/juniper/issues{/number}", "pulls_url": "https://api.github.com/repos/graphql-rust/juniper/pulls{/number}", "milestones_url": "https://api.github.com/repos/graphql-rust/juniper/milestones{/number}", "notifications_url": "https://api.github.com/repos/graphql-rust/juniper/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/graphql-rust/juniper/labels{/name}", "releases_url": "https://api.github.com/repos/graphql-rust/juniper/releases{/id}", "deployments_url": "https://api.github.com/repos/graphql-rust/juniper/deployments", "created_at": "2016-09-11T16:43:19Z", "updated_at": "2026-01-19T08:33:47Z", "pushed_at": "2026-01-05T16:05:24Z", "git_url": "git://github.com/graphql-rust/juniper.git", "ssh_url": "git@github.com:graphql-rust/juniper.git", "clone_url": "https://github.com/graphql-rust/juniper.git", "svn_url": "https://github.com/graphql-rust/juniper", "homepage": null, "size": 15110, "stargazers_count": 5930, "watchers_count": 5930, "language": "Rust", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": true, "has_discussions": true, "forks_count": 438, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 102, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["cargo", "graphql", "rust", "rust-library", "web"], "visibility": "public", "forks": 438, "open_issues": 102, "watchers": 5930, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/graphql-rust/juniper/pulls/654"}, "html": {"href": "https://github.com/graphql-rust/juniper/pull/654"}, "issue": {"href": "https://api.github.com/repos/graphql-rust/juniper/issues/654"}, "comments": {"href": "https://api.github.com/repos/graphql-rust/juniper/issues/654/comments"}, "review_comments": {"href": "https://api.github.com/repos/graphql-rust/juniper/pulls/654/comments"}, "review_comment": {"href": "https://api.github.com/repos/graphql-rust/juniper/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/graphql-rust/juniper/pulls/654/commits"}, "statuses": {"href": "https://api.github.com/repos/graphql-rust/juniper/statuses/c038e6ce81e55cf48c9198c17d49e280d41ee970"}}, "author_association": "MEMBER", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "LegNeato", "id": 368904, "node_id": "MDQ6VXNlcjM2ODkwNA==", "avatar_url": "https://avatars.githubusercontent.com/u/368904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LegNeato", "html_url": "https://github.com/LegNeato", "followers_url": "https://api.github.com/users/LegNeato/followers", "following_url": "https://api.github.com/users/LegNeato/following{/other_user}", "gists_url": "https://api.github.com/users/LegNeato/gists{/gist_id}", "starred_url": "https://api.github.com/users/LegNeato/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LegNeato/subscriptions", "organizations_url": "https://api.github.com/users/LegNeato/orgs", "repos_url": "https://api.github.com/users/LegNeato/repos", "events_url": "https://api.github.com/users/LegNeato/events{/privacy}", "received_events_url": "https://api.github.com/users/LegNeato/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 3, "review_comments": 0, "maintainer_can_modify": false, "commits": 8, "additions": 621, "deletions": 422, "changed_files": 14}