[{"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3576", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3576/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3576/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3576/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3576", "id": 1796876199, "node_id": "PR_kwDOCi0eqs5VF65c", "number": 3576, "title": "Adding phiresky to codeowners.", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-10T14:13:14Z", "updated_at": "2025-09-11T17:28:36Z", "closed_at": "2023-07-10T14:20:40Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3576", "html_url": "https://github.com/LemmyNet/lemmy/pull/3576", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3576.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3576.patch", "merged_at": "2023-07-10T14:20:40Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3576/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3576/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3559", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3559/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3559/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3559/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3559", "id": 1795358289, "node_id": "PR_kwDOCi0eqs5VAzCI", "number": 3559, "title": "Fix #3366: Wrap plain-text error responses from the API in JSON", "user": {"login": "PawanHegde", "id": 3167291, "node_id": "MDQ6VXNlcjMxNjcyOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3167291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PawanHegde", "html_url": "https://github.com/PawanHegde", "followers_url": "https://api.github.com/users/PawanHegde/followers", "following_url": "https://api.github.com/users/PawanHegde/following{/other_user}", "gists_url": "https://api.github.com/users/PawanHegde/gists{/gist_id}", "starred_url": "https://api.github.com/users/PawanHegde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PawanHegde/subscriptions", "organizations_url": "https://api.github.com/users/PawanHegde/orgs", "repos_url": "https://api.github.com/users/PawanHegde/repos", "events_url": "https://api.github.com/users/PawanHegde/events{/privacy}", "received_events_url": "https://api.github.com/users/PawanHegde/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-07-09T11:27:12Z", "updated_at": "2023-07-10T20:44:15Z", "closed_at": "2023-07-10T20:44:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3559", "html_url": "https://github.com/LemmyNet/lemmy/pull/3559", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3559.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3559.patch", "merged_at": "2023-07-10T20:44:14Z"}, "body": "## Summary\r\n- All `LemmyError`s should be returned as JSON. \r\n  - The previous behaviour was that if there was no explicit message, the message of the inner error was returned as `text/plain`.\r\n- Add a default handler for all 400-599 HTTP status responses that are not `LemmyError`s.\r\n  - This covers exceptions thrown by actix itself. The default handler for the framework returns text/plain messages.\r\n- \ud83c\udd95  `ErrorType` is compulsory for creating `LemmyError` and \"Unknown\" errors need to at least have a message.\r\n- \ud83c\udd95 The format of error response is consistent with the new `LemmyErrorType` changes in #3487 \r\n- \ud83c\udd95 Fixed Clippy errors\r\n\r\n## Testing done\r\n- ### Valid call.\r\n```\r\n\r\n~ \u276f curl \"http://localhost:8536/api/v3/comment/list?post_id=1&sort=New&type_=Local\" -i                                                                                                                                                            \r\nHTTP/1.1 200 OK\r\ncontent-length: 15\r\naccess-control-expose-headers: content-type\r\nvary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers\r\ncontent-type: application/json\r\ndate: Mon, 10 Jul 2023 18:17:51 GMT\r\n\r\n{\"comments\":[]}\r\n```\r\n\r\n- ### Bad parameter. Error thrown by actix.\r\n```\r\n~ \u276f curl \"http://localhost:8536/api/v3/comment/list?post_id=1&sort=New&type_=Test\" -i                                                                                                                                                             \r\nHTTP/1.1 400 Bad Request\r\ncontent-length: 125\r\ncontent-type: application/json\r\ndate: Mon, 10 Jul 2023 18:17:57 GMT\r\n\r\n{\"error\":\"unknown\",\"message\":\"Query deserialize error: unknown variant `Test`, expected one of `All`, `Local`, `Subscribed`\"}                                                                                                               ~ \u276f                                                                                                                                                                                                                                              \r\n```\r\n- ### Brought down database. Error thrown by Lemmy.\r\n```\r\n~ \u276f curl \"http://localhost:8536/api/v3/comment/list?post_id=1&sort=New&type_=Local\" -i                                                                                                                                                            \r\nHTTP/1.1 400 Bad Request\r\ncontent-length: 136\r\ncontent-type: application/json\r\nvary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers\r\naccess-control-expose-headers: content-type\r\ndate: Mon, 10 Jul 2023 18:18:35 GMT\r\n\r\n{\"error\":\"unknown\",\"message\":\"Error occurred while creating a new object: error connecting to server: Connection refused (os error 61)\"}      \r\n```", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3559/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3559/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3556", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3556/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3556/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3556/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3556", "id": 1795244034, "node_id": "PR_kwDOCi0eqs5VAdGC", "number": 3556, "title": "Update RELEASES.md", "user": {"login": "nixoye", "id": 12674582, "node_id": "MDQ6VXNlcjEyNjc0NTgy", "avatar_url": "https://avatars.githubusercontent.com/u/12674582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nixoye", "html_url": "https://github.com/nixoye", "followers_url": "https://api.github.com/users/nixoye/followers", "following_url": "https://api.github.com/users/nixoye/following{/other_user}", "gists_url": "https://api.github.com/users/nixoye/gists{/gist_id}", "starred_url": "https://api.github.com/users/nixoye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nixoye/subscriptions", "organizations_url": "https://api.github.com/users/nixoye/orgs", "repos_url": "https://api.github.com/users/nixoye/repos", "events_url": "https://api.github.com/users/nixoye/events{/privacy}", "received_events_url": "https://api.github.com/users/nixoye/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-09T05:26:19Z", "updated_at": "2023-07-10T12:00:01Z", "closed_at": "2023-07-10T12:00:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3556", "html_url": "https://github.com/LemmyNet/lemmy/pull/3556", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3556.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3556.patch", "merged_at": "2023-07-10T12:00:01Z"}, "body": "added instruction to find the location of your docker directory (especially useful for those who used ansible since they never had to setup docker manually)", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3556/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3554", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3554/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3554/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3554/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3554", "id": 1795225676, "node_id": "PR_kwDOCi0eqs5VAZeg", "number": 3554, "title": "Use async email sender", "user": {"login": "dullbananas", "id": 47706471, "node_id": "MDQ6VXNlcjQ3NzA2NDcx", "avatar_url": "https://avatars.githubusercontent.com/u/47706471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dullbananas", "html_url": "https://github.com/dullbananas", "followers_url": "https://api.github.com/users/dullbananas/followers", "following_url": "https://api.github.com/users/dullbananas/following{/other_user}", "gists_url": "https://api.github.com/users/dullbananas/gists{/gist_id}", "starred_url": "https://api.github.com/users/dullbananas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dullbananas/subscriptions", "organizations_url": "https://api.github.com/users/dullbananas/orgs", "repos_url": "https://api.github.com/users/dullbananas/repos", "events_url": "https://api.github.com/users/dullbananas/events{/privacy}", "received_events_url": "https://api.github.com/users/dullbananas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-07-09T04:12:57Z", "updated_at": "2023-07-10T12:04:44Z", "closed_at": "2023-07-10T12:04:40Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3554", "html_url": "https://github.com/LemmyNet/lemmy/pull/3554", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3554.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3554.patch", "merged_at": "2023-07-10T12:04:40Z"}, "body": "The non-async sender prevents an HTTP worker (1 per CPU core) from doing anything else until the email is sent.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3554/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3549", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3549/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3549/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3549/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3549", "id": 1795124963, "node_id": "PR_kwDOCi0eqs5VAGa_", "number": 3549, "title": "Updating `login.rs` with generic `incorrect_login` response.", "user": {"login": "rosenjcb", "id": 8102129, "node_id": "MDQ6VXNlcjgxMDIxMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/8102129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rosenjcb", "html_url": "https://github.com/rosenjcb", "followers_url": "https://api.github.com/users/rosenjcb/followers", "following_url": "https://api.github.com/users/rosenjcb/following{/other_user}", "gists_url": "https://api.github.com/users/rosenjcb/gists{/gist_id}", "starred_url": "https://api.github.com/users/rosenjcb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rosenjcb/subscriptions", "organizations_url": "https://api.github.com/users/rosenjcb/orgs", "repos_url": "https://api.github.com/users/rosenjcb/repos", "events_url": "https://api.github.com/users/rosenjcb/events{/privacy}", "received_events_url": "https://api.github.com/users/rosenjcb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-07-08T21:24:17Z", "updated_at": "2023-07-10T11:27:39Z", "closed_at": "2023-07-10T11:27:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3549", "html_url": "https://github.com/LemmyNet/lemmy/pull/3549", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3549.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3549.patch", "merged_at": "2023-07-10T11:27:38Z"}, "body": "As discussed https://github.com/LemmyNet/lemmy-ui/pull/1874 and https://github.com/LemmyNet/lemmy-ui/pull/1874, this is the backend PR for updating the login failure response.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3549/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3549/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3543", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3543/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3543/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3543/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3543", "id": 1794882580, "node_id": "PR_kwDOCi0eqs5U_WkD", "number": 3543, "title": "Fix #3501 - Fix aggregation counts for elements removed and deleted", "user": {"login": "pijuszczyk", "id": 74842304, "node_id": "MDQ6VXNlcjc0ODQyMzA0", "avatar_url": "https://avatars.githubusercontent.com/u/74842304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pijuszczyk", "html_url": "https://github.com/pijuszczyk", "followers_url": "https://api.github.com/users/pijuszczyk/followers", "following_url": "https://api.github.com/users/pijuszczyk/following{/other_user}", "gists_url": "https://api.github.com/users/pijuszczyk/gists{/gist_id}", "starred_url": "https://api.github.com/users/pijuszczyk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pijuszczyk/subscriptions", "organizations_url": "https://api.github.com/users/pijuszczyk/orgs", "repos_url": "https://api.github.com/users/pijuszczyk/repos", "events_url": "https://api.github.com/users/pijuszczyk/events{/privacy}", "received_events_url": "https://api.github.com/users/pijuszczyk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-08T10:29:10Z", "updated_at": "2023-07-10T15:30:31Z", "closed_at": "2023-07-10T15:30:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3543", "html_url": "https://github.com/LemmyNet/lemmy/pull/3543", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3543.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3543.patch", "merged_at": "2023-07-10T15:30:31Z"}, "body": "Two bugs were found and fixed:\r\n- previously elements removal and deletion were counted as two separate disappearances, leading to e.g. dropping below 0 in counters\r\n- _removing_ comments did not affect post aggregations\r\n\r\nThe unit tests for aggregations could be greatly improved - just by accident I discovered that aggregations for comments counts per posts are outdated, in contrast to all the other aggregations. I don't have the time to handle it now but at least two more tests were added to verify the counting logic.\r\n\r\nFixes #3501.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3543/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3543/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3536", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3536/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3536/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3536/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3536", "id": 1794593171, "node_id": "PR_kwDOCi0eqs5U-YHe", "number": 3536, "title": "Shrink capacity in `RateLimitStorage::remove_older_than`", "user": {"login": "dullbananas", "id": 47706471, "node_id": "MDQ6VXNlcjQ3NzA2NDcx", "avatar_url": "https://avatars.githubusercontent.com/u/47706471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dullbananas", "html_url": "https://github.com/dullbananas", "followers_url": "https://api.github.com/users/dullbananas/followers", "following_url": "https://api.github.com/users/dullbananas/following{/other_user}", "gists_url": "https://api.github.com/users/dullbananas/gists{/gist_id}", "starred_url": "https://api.github.com/users/dullbananas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dullbananas/subscriptions", "organizations_url": "https://api.github.com/users/dullbananas/orgs", "repos_url": "https://api.github.com/users/dullbananas/repos", "events_url": "https://api.github.com/users/dullbananas/events{/privacy}", "received_events_url": "https://api.github.com/users/dullbananas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-07-08T01:28:16Z", "updated_at": "2023-07-10T20:52:38Z", "closed_at": "2023-07-10T20:52:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3536", "html_url": "https://github.com/LemmyNet/lemmy/pull/3536", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3536.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3536.patch", "merged_at": "2023-07-10T20:52:38Z"}, "body": "This prevents spikes in traffic from causing permanently increased memory usage.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3536/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3530", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3530/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3530/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3530/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3530", "id": 1793563118, "node_id": "PR_kwDOCi0eqs5U6xxw", "number": 3530, "title": "Adding v0.18.1 and v0.18.0 release notes.", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-07T13:34:44Z", "updated_at": "2025-09-11T17:28:39Z", "closed_at": "2023-07-10T11:51:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3530", "html_url": "https://github.com/LemmyNet/lemmy/pull/3530", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3530.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3530.patch", "merged_at": "2023-07-10T11:51:25Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3530/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3526", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3526/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3526/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3526/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3526", "id": 1793240915, "node_id": "PR_kwDOCi0eqs5U5qn6", "number": 3526, "title": "Upgrade all dependencies", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-07T10:13:45Z", "updated_at": "2025-09-11T17:37:02Z", "closed_at": "2023-07-10T13:00:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3526", "html_url": "https://github.com/LemmyNet/lemmy/pull/3526", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3526.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3526.patch", "merged_at": "2023-07-10T13:00:56Z"}, "body": "Lets wait until after 0.18.1 to merge this.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3526/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3521", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3521/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3521/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3521/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3521", "id": 1792017112, "node_id": "PR_kwDOCi0eqs5U1djk", "number": 3521, "title": "Revert \"Make sure hot rank sorts for post and community filter by positive hot ranks.\"", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-06T18:14:02Z", "updated_at": "2025-09-11T17:36:44Z", "closed_at": "2023-07-07T09:29:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3521", "html_url": "https://github.com/LemmyNet/lemmy/pull/3521", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3521.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3521.patch", "merged_at": "2023-07-07T09:29:08Z"}, "body": "Reverts LemmyNet/lemmy#3497\r\n\r\nFixes #3515 ", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3521/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3517", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3517/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3517/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3517/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3517", "id": 1791782037, "node_id": "PR_kwDOCi0eqs5U0q1o", "number": 3517, "title": "Make hot rank not crash on future", "user": {"login": "phiresky", "id": 2303841, "node_id": "MDQ6VXNlcjIzMDM4NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/2303841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phiresky", "html_url": "https://github.com/phiresky", "followers_url": "https://api.github.com/users/phiresky/followers", "following_url": "https://api.github.com/users/phiresky/following{/other_user}", "gists_url": "https://api.github.com/users/phiresky/gists{/gist_id}", "starred_url": "https://api.github.com/users/phiresky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phiresky/subscriptions", "organizations_url": "https://api.github.com/users/phiresky/orgs", "repos_url": "https://api.github.com/users/phiresky/repos", "events_url": "https://api.github.com/users/phiresky/events{/privacy}", "received_events_url": "https://api.github.com/users/phiresky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-06T15:27:48Z", "updated_at": "2023-07-07T09:27:48Z", "closed_at": "2023-07-07T09:27:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3517", "html_url": "https://github.com/LemmyNet/lemmy/pull/3517", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3517.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3517.patch", "merged_at": "2023-07-07T09:27:48Z"}, "body": "This fixes #3494 by making hot_rank() return 0 if published is in the future", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3517/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3517/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3516", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3516/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3516/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3516/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3516", "id": 1791778869, "node_id": "PR_kwDOCi0eqs5U0qKA", "number": 3516, "title": "Only update site_aggregates for local site", "user": {"login": "sunaurus", "id": 5356547, "node_id": "MDQ6VXNlcjUzNTY1NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/5356547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunaurus", "html_url": "https://github.com/sunaurus", "followers_url": "https://api.github.com/users/sunaurus/followers", "following_url": "https://api.github.com/users/sunaurus/following{/other_user}", "gists_url": "https://api.github.com/users/sunaurus/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunaurus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunaurus/subscriptions", "organizations_url": "https://api.github.com/users/sunaurus/orgs", "repos_url": "https://api.github.com/users/sunaurus/repos", "events_url": "https://api.github.com/users/sunaurus/events{/privacy}", "received_events_url": "https://api.github.com/users/sunaurus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-07-06T15:25:49Z", "updated_at": "2023-07-10T15:21:07Z", "closed_at": "2023-07-10T15:20:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3516", "html_url": "https://github.com/LemmyNet/lemmy/pull/3516", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3516.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3516.patch", "merged_at": "2023-07-10T15:20:40Z"}, "body": "Currently, scheduled tasks write site_aggregates values of the current site into rows for all sites due to a missing WHERE clause. This PR limits it only to the row where site_id = 1 (in other words, the local site).", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3516/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3516/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3512", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3512/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3512/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3512/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3512", "id": 1791596973, "node_id": "PR_kwDOCi0eqs5U0Coq", "number": 3512, "title": "Upgrade crossbeam-channel", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-06T13:44:35Z", "updated_at": "2025-09-11T17:37:01Z", "closed_at": "2023-07-06T18:21:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3512", "html_url": "https://github.com/LemmyNet/lemmy/pull/3512", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3512.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3512.patch", "merged_at": "2023-07-06T18:21:11Z"}, "body": "Current version is yanked and breaks crates.io publish. I originally tried to upgrade all deps, but that results in weird build errors from syn crate.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3512/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3512/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3509", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3509/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3509/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3509/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3509", "id": 1791351809, "node_id": "PR_kwDOCi0eqs5UzNQg", "number": 3509, "title": "Update prettier to 3.0.0", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-06T11:19:53Z", "updated_at": "2025-09-11T17:37:03Z", "closed_at": "2023-07-06T13:10:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3509", "html_url": "https://github.com/LemmyNet/lemmy/pull/3509", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3509.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3509.patch", "merged_at": "2023-07-06T13:10:39Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3509/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3509/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3508", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3508/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3508/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3508/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3508", "id": 1791241392, "node_id": "PR_kwDOCi0eqs5Uy1MZ", "number": 3508, "title": "Only allow http(s) scheme for urls (ref #3505)", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-06T10:10:14Z", "updated_at": "2025-09-11T17:32:53Z", "closed_at": "2023-07-06T12:29:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3508", "html_url": "https://github.com/LemmyNet/lemmy/pull/3508", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3508.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3508.patch", "merged_at": "2023-07-06T12:29:52Z"}, "body": "With this change only http(s) schemes are allowed for post.url field. This is checked for incoming api and federation requests. Existing posts in database which are sent to clients are not checked. Neither does it check urls in markdown.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3508/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3507", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3507/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3507/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3507/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3507", "id": 1791231506, "node_id": "PR_kwDOCi0eqs5UyzAb", "number": 3507, "title": "Use fixed prettier version for CI", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-06T10:05:15Z", "updated_at": "2025-09-11T17:34:41Z", "closed_at": "2023-07-06T10:23:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3507", "html_url": "https://github.com/LemmyNet/lemmy/pull/3507", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3507.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3507.patch", "merged_at": "2023-07-06T10:23:51Z"}, "body": "3.0.0 was pushed to docker hub 2 hours ago, thats probably why builds are breaking now.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3507/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3506", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3506/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3506/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3506/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3506", "id": 1791121306, "node_id": "PR_kwDOCi0eqs5Uybc0", "number": 3506, "title": "Change security contact mail", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-06T09:00:31Z", "updated_at": "2025-09-11T17:34:11Z", "closed_at": "2023-07-06T11:27:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3506", "html_url": "https://github.com/LemmyNet/lemmy/pull/3506", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3506.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3506.patch", "merged_at": "2023-07-06T11:27:47Z"}, "body": "Old one isnt working apparently", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3506/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3497", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3497/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3497/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3497/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3497", "id": 1790127068, "node_id": "PR_kwDOCi0eqs5UvBKB", "number": 3497, "title": "Make sure hot rank sorts for post and community filter by positive hot ranks.", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-05T19:12:08Z", "updated_at": "2025-09-11T17:34:40Z", "closed_at": "2023-07-06T11:22:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3497", "html_url": "https://github.com/LemmyNet/lemmy/pull/3497", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3497.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3497.patch", "merged_at": "2023-07-06T11:22:48Z"}, "body": "- Context #2994 \r\n\r\nThis drastically decreases the number of rows fetched / needed to be joined to.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3497/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3495", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3495/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3495/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3495/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3495", "id": 1790066244, "node_id": "PR_kwDOCi0eqs5Uuz_z", "number": 3495, "title": "Fixes wrong community moderator ordering.", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-05T18:25:13Z", "updated_at": "2025-09-11T17:33:02Z", "closed_at": "2023-07-06T10:27:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3495", "html_url": "https://github.com/LemmyNet/lemmy/pull/3495", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3495.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3495.patch", "merged_at": "2023-07-06T10:27:25Z"}, "body": "Without an order by `community_moderator::published`, the community mod list will be in the wrong order. Just ran into this one when transferring a community.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3495/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3493", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3493/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3493/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3493/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3493", "id": 1789871073, "node_id": "PR_kwDOCi0eqs5UuJi4", "number": 3493, "title": "Improve api response times by doing send_activity asynchronously", "user": {"login": "phiresky", "id": 2303841, "node_id": "MDQ6VXNlcjIzMDM4NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/2303841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phiresky", "html_url": "https://github.com/phiresky", "followers_url": "https://api.github.com/users/phiresky/followers", "following_url": "https://api.github.com/users/phiresky/following{/other_user}", "gists_url": "https://api.github.com/users/phiresky/gists{/gist_id}", "starred_url": "https://api.github.com/users/phiresky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phiresky/subscriptions", "organizations_url": "https://api.github.com/users/phiresky/orgs", "repos_url": "https://api.github.com/users/phiresky/repos", "events_url": "https://api.github.com/users/phiresky/events{/privacy}", "received_events_url": "https://api.github.com/users/phiresky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2023-07-05T16:07:42Z", "updated_at": "2023-07-10T10:28:01Z", "closed_at": "2023-07-10T10:27:50Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3493", "html_url": "https://github.com/LemmyNet/lemmy/pull/3493", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3493.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3493.patch", "merged_at": "2023-07-10T10:27:50Z"}, "body": "Right now, all API responses (esp. create comment, like, etc) wait for send_activity to complete before returning to the caller. The API response though is already known before this, so it makes sense to do it afterwards, whenever the scheduler has time. send_activity can be very expensive because it has to collect all the interested parties, fetch more rows from db, insert a row into activities, parse a pem private key, and loop through all inboxes in order to schedule the outgoing tasks.\r\n\r\nThis does change the semantics a bit because errors in send_activity will not propagate to the HTTP caller. I'm not sure if this is required somewhere though. It's kind of not great anyways though, since if send_activity fails, it will be shown to the user as a failed action even though ::perform() succeded and returned a response (that is lost in the current version).\r\n\r\nThis does not decrease the total load, but it should increase responsiveness. It also requires one clone on responses, but most responses seem to be tiny.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3493/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3493/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3490", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3490/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3490/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3490/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3490", "id": 1789742832, "node_id": "PR_kwDOCi0eqs5UtthM", "number": 3490, "title": "upgrade markdown-it to fix panic", "user": {"login": "phiresky", "id": 2303841, "node_id": "MDQ6VXNlcjIzMDM4NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/2303841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phiresky", "html_url": "https://github.com/phiresky", "followers_url": "https://api.github.com/users/phiresky/followers", "following_url": "https://api.github.com/users/phiresky/following{/other_user}", "gists_url": "https://api.github.com/users/phiresky/gists{/gist_id}", "starred_url": "https://api.github.com/users/phiresky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phiresky/subscriptions", "organizations_url": "https://api.github.com/users/phiresky/orgs", "repos_url": "https://api.github.com/users/phiresky/repos", "events_url": "https://api.github.com/users/phiresky/events{/privacy}", "received_events_url": "https://api.github.com/users/phiresky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-05T14:55:32Z", "updated_at": "2023-07-05T17:10:19Z", "closed_at": "2023-07-05T17:08:53Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3490", "html_url": "https://github.com/LemmyNet/lemmy/pull/3490", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3490.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3490.patch", "merged_at": "2023-07-05T17:08:53Z"}, "body": "This fixes #3411 by upgrading markdown-it (see https://github.com/rlidwka/markdown-it.rs/issues/26 )", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3490/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3487", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3487/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3487/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3487/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3487", "id": 1789309467, "node_id": "PR_kwDOCi0eqs5UsOw1", "number": 3487, "title": "Error enum fixed", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-07-05T10:59:05Z", "updated_at": "2025-09-11T17:30:37Z", "closed_at": "2023-07-10T14:50:07Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3487", "html_url": "https://github.com/LemmyNet/lemmy/pull/3487", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3487.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3487.patch", "merged_at": "2023-07-10T14:50:07Z"}, "body": "Replaces #3304. There were a number of problems with that one, most importantly error responses being formatted incorrectly so that api tests would fail. Also some errors were renamed, eg \"couldnt -> could not\" which would break the api. This should all be fixed now.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3487/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3486", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3486/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3486/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3486/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3486", "id": 1789090360, "node_id": "PR_kwDOCi0eqs5UrfRa", "number": 3486, "title": "Cache federation blocklist", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-05T08:53:00Z", "updated_at": "2025-09-11T17:30:13Z", "closed_at": "2023-07-05T15:08:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3486", "html_url": "https://github.com/LemmyNet/lemmy/pull/3486", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3486.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3486.patch", "merged_at": "2023-07-05T15:08:02Z"}, "body": "All incoming and outgoing federation actions read the blocklist/allowlist and slur filters multiple times. This causes a huge number of database reads if we hit the db directly. So we cache these values for a short time, which will already make a huge difference and ensures that changes take effect quickly.\r\n\r\nFrom @phiresky:\r\n> I want to mention that the fetch_local_site_data is the third most expensive function in the code base and the first-most expensive actually needed function. I'd recommend either this be merged or I can create a minimal PR that just caches fetch_local_site_data for a few seconds.\r\n>\r\n> The cache duration can be significantly reduced and still have huge impact. Even though this function takes only 1 ms it is called with a frequency of over 1000Hz on lemmy.world. A cache duration of 5 seconds would be perfectly fine and even 1s would be useful.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3486/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3486/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3483", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3483/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3483/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3483/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3483", "id": 1788596539, "node_id": "PR_kwDOCi0eqs5Up1RD", "number": 3483, "title": "improve admin and mod check to not do seq scans and return unnecessary data", "user": {"login": "phiresky", "id": 2303841, "node_id": "MDQ6VXNlcjIzMDM4NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/2303841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phiresky", "html_url": "https://github.com/phiresky", "followers_url": "https://api.github.com/users/phiresky/followers", "following_url": "https://api.github.com/users/phiresky/following{/other_user}", "gists_url": "https://api.github.com/users/phiresky/gists{/gist_id}", "starred_url": "https://api.github.com/users/phiresky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phiresky/subscriptions", "organizations_url": "https://api.github.com/users/phiresky/orgs", "repos_url": "https://api.github.com/users/phiresky/repos", "events_url": "https://api.github.com/users/phiresky/events{/privacy}", "received_events_url": "https://api.github.com/users/phiresky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2023-07-05T00:45:20Z", "updated_at": "2023-07-06T12:44:27Z", "closed_at": "2023-07-06T12:44:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3483", "html_url": "https://github.com/LemmyNet/lemmy/pull/3483", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3483.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3483.patch", "merged_at": "2023-07-06T12:44:26Z"}, "body": "the PersonView::admins query currently does a seq scan on all persons because admin is not indexed.\r\n\r\nAlso, the CommunityView::is_mod_or_admin function does a seq scan on all persons because it uses PersonView::admins.\r\n\r\nis_mod_or_admin is used in tons of places, e.g. createpost.\r\n\r\nThis PR adds an index on the admin field to improve the `api/v3/site` and community fetches.\r\n\r\nIt also replaces the is_mod_or_admin function to just return a boolean and also not do any seq scans.\r\n\r\nThis should improve page load times that fetch admins (e.g. / ) and also everything.\r\n\r\nThe `PersonView::admins` is the second-most expensive query after #3482 on lemmy.world with 1.5 million calls returning 10 million rows and 27 hours of execution time in one day. This should reduce that to almost zero.\r\n\r\n\r\nI did not test this.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3483/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3483/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3482", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3482/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3482/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3482/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3482", "id": 1788546645, "node_id": "PR_kwDOCi0eqs5Upqwj", "number": 3482, "title": "improve performance of community followers inbox query", "user": {"login": "phiresky", "id": 2303841, "node_id": "MDQ6VXNlcjIzMDM4NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/2303841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phiresky", "html_url": "https://github.com/phiresky", "followers_url": "https://api.github.com/users/phiresky/followers", "following_url": "https://api.github.com/users/phiresky/following{/other_user}", "gists_url": "https://api.github.com/users/phiresky/gists{/gist_id}", "starred_url": "https://api.github.com/users/phiresky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phiresky/subscriptions", "organizations_url": "https://api.github.com/users/phiresky/orgs", "repos_url": "https://api.github.com/users/phiresky/repos", "events_url": "https://api.github.com/users/phiresky/events{/privacy}", "received_events_url": "https://api.github.com/users/phiresky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-07-04T23:02:13Z", "updated_at": "2023-08-23T12:53:53Z", "closed_at": "2023-07-05T15:50:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3482", "html_url": "https://github.com/LemmyNet/lemmy/pull/3482", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3482.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3482.patch", "merged_at": "2023-07-05T15:50:27Z"}, "body": "i found a huge perf issue. get_follower_inboxes fetches all followers of a community (including thousands of copies of the whole damn community object, person object, and community_follower object) for every single action (e.g. like). it transfers that list to rust (like 20000 elements with huge objects each, including private keys and whatever). rust then finds all the federated instances it has to send the like to from that list (like 100 strings).\r\n\r\nso basically the query uselessly transfers huge amounts of data just to get a list of instance_count urls.\r\n\r\non [lemmy.world](http://lemmy.world/) we looked at pg_stats_statements (thanks jelloeater) and that community_follower query absolutely dominates the stats, eating up **8 days of query time per day**. Since yesterday, it has fetched *over 4 billion rows*.\r\nthat query is also timing out a lot due to the statement_timeout=10s we set.\r\n\r\nThis PR improves on the situation by doing the filtering on the database side. It's not optimal since the result can't be perfectly indexed, but it seems the main issue is the huge amount of data transfer between rust and PG. after some quick testing: the new query takes around 100ms and returns only tiny amounts of data. it should basically fix a huge amount of lemmys current perf problems.\r\n\r\ni also replaced the second query in followers which was doing a similar amount of unnecessary work (but much more seldom).\r\n\r\ni did not extensively test this for correctness.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3482/reactions", "total_count": 22, "+1": 0, "-1": 0, "laugh": 0, "hooray": 3, "confused": 0, "heart": 0, "rocket": 19, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3482/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3479", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3479/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3479/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3479/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3479", "id": 1788361089, "node_id": "PR_kwDOCi0eqs5UpB7w", "number": 3479, "title": "Adding a person.admin index, and featured_local/community indexes.", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-07-04T19:11:03Z", "updated_at": "2025-09-11T17:34:40Z", "closed_at": "2023-07-05T11:00:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3479", "html_url": "https://github.com/LemmyNet/lemmy/pull/3479", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3479.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3479.patch", "merged_at": "2023-07-05T11:00:42Z"}, "body": "These turned out to make a difference. In my testing, unprimed queries went from ~ 100ms down to 30ms, and primed ones went under 10ms.\r\n\r\nStill doesn't address #2994 , but there might not be a good way to do subquery from selects in diesel, and we might have to use the `sql_query` function for that one.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3479/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3471", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3471/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3471/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3471/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3471", "id": 1786505201, "node_id": "PR_kwDOCi0eqs5UixkR", "number": 3471, "title": "Fixing clippy.", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-03T16:37:20Z", "updated_at": "2025-09-11T17:33:02Z", "closed_at": "2023-07-04T10:15:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3471", "html_url": "https://github.com/LemmyNet/lemmy/pull/3471", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3471.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3471.patch", "merged_at": "2023-07-04T10:15:28Z"}, "body": "Nightly rust caught this one.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3471/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3471/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3470", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3470/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3470/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3470/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3470", "id": 1786502162, "node_id": "PR_kwDOCi0eqs5Uiw6c", "number": 3470, "title": "Remove excessive content_type header configuration", "user": {"login": "perillamint", "id": 1622360, "node_id": "MDQ6VXNlcjE2MjIzNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1622360?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perillamint", "html_url": "https://github.com/perillamint", "followers_url": "https://api.github.com/users/perillamint/followers", "following_url": "https://api.github.com/users/perillamint/following{/other_user}", "gists_url": "https://api.github.com/users/perillamint/gists{/gist_id}", "starred_url": "https://api.github.com/users/perillamint/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perillamint/subscriptions", "organizations_url": "https://api.github.com/users/perillamint/orgs", "repos_url": "https://api.github.com/users/perillamint/repos", "events_url": "https://api.github.com/users/perillamint/events{/privacy}", "received_events_url": "https://api.github.com/users/perillamint/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-03T16:34:47Z", "updated_at": "2023-07-03T17:43:46Z", "closed_at": "2023-07-03T17:43:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3470", "html_url": "https://github.com/LemmyNet/lemmy/pull/3470", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3470.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3470.patch", "merged_at": "2023-07-03T17:43:45Z"}, "body": "Amendment of #3353 \r\n\r\nThis patch removes excessive content_type header configuration and use default FEDERATION_CONTENT_TYPE constant.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3470/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3469", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3469/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3469/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3469/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3469", "id": 1786317713, "node_id": "PR_kwDOCi0eqs5UiJk6", "number": 3469, "title": "Fix awesome-lemmy owner", "user": {"login": "dbeley", "id": 6568955, "node_id": "MDQ6VXNlcjY1Njg5NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6568955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbeley", "html_url": "https://github.com/dbeley", "followers_url": "https://api.github.com/users/dbeley/followers", "following_url": "https://api.github.com/users/dbeley/following{/other_user}", "gists_url": "https://api.github.com/users/dbeley/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbeley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbeley/subscriptions", "organizations_url": "https://api.github.com/users/dbeley/orgs", "repos_url": "https://api.github.com/users/dbeley/repos", "events_url": "https://api.github.com/users/dbeley/events{/privacy}", "received_events_url": "https://api.github.com/users/dbeley/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-07-03T14:42:01Z", "updated_at": "2023-07-03T14:45:11Z", "closed_at": "2023-07-03T14:44:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3469", "html_url": "https://github.com/LemmyNet/lemmy/pull/3469", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3469.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3469.patch", "merged_at": "2023-07-03T14:44:55Z"}, "body": "Hello,\r\n\r\nJust got the notification of the [merged PR](https://github.com/LemmyNet/lemmy/pull/3413#event-9709132016) where there was discussion about changing the owner of the awesome-lemmy repo. As ultimately there has not been any change on the owner repo the commit was containing the wrong one.\r\n\r\nThis PR fixes it.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3469/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3462", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3462/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3462/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3462/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3462", "id": 1785274076, "node_id": "PR_kwDOCi0eqs5UemD9", "number": 3462, "title": "Add feature for enabling json logging", "user": {"login": "lemmus-org", "id": 137361180, "node_id": "U_kgDOCC_3HA", "avatar_url": "https://avatars.githubusercontent.com/u/137361180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lemmus-org", "html_url": "https://github.com/lemmus-org", "followers_url": "https://api.github.com/users/lemmus-org/followers", "following_url": "https://api.github.com/users/lemmus-org/following{/other_user}", "gists_url": "https://api.github.com/users/lemmus-org/gists{/gist_id}", "starred_url": "https://api.github.com/users/lemmus-org/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lemmus-org/subscriptions", "organizations_url": "https://api.github.com/users/lemmus-org/orgs", "repos_url": "https://api.github.com/users/lemmus-org/repos", "events_url": "https://api.github.com/users/lemmus-org/events{/privacy}", "received_events_url": "https://api.github.com/users/lemmus-org/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-03T04:10:37Z", "updated_at": "2023-07-04T19:41:48Z", "closed_at": "2023-07-04T11:11:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3462", "html_url": "https://github.com/LemmyNet/lemmy/pull/3462", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3462.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3462.patch", "merged_at": "2023-07-04T11:11:47Z"}, "body": "Allows configuring log output to be json formatted when built using the `json-log` feature.\r\n\r\nFor example:\r\n\r\n* `cargo run`\r\n```\r\n2023-07-03T03:52:43.045692Z  INFO lemmy_db_schema::utils: Running Database migrations (This may take a long time)...\r\n2023-07-03T03:52:43.047078Z  INFO lemmy_db_schema::utils: Database migrations complete.\r\n2023-07-03T03:52:43.083464Z  INFO lemmy_server::code_migrations: Running user_updates_2020_04_02\r\n2023-07-03T03:52:43.084804Z  INFO lemmy_server::code_migrations: 0 person rows updated.\r\n2023-07-03T03:52:43.085039Z  INFO lemmy_server::code_migrations: Running community_updates_2020_04_02\r\n2023-07-03T03:52:43.085850Z  INFO lemmy_server::code_migrations: 0 community rows updated.\r\n2023-07-03T03:52:43.085964Z  INFO lemmy_server::code_migrations: Running post_updates_2020_04_03\r\n2023-07-03T03:52:43.086656Z  INFO lemmy_server::code_migrations: 0 post rows updated.\r\n2023-07-03T03:52:43.086765Z  INFO lemmy_server::code_migrations: Running comment_updates_2020_04_03\r\n2023-07-03T03:52:43.088325Z  INFO lemmy_server::code_migrations: 0 comment rows updated.\r\n2023-07-03T03:52:43.088440Z  INFO lemmy_server::code_migrations: Running private_message_updates_2020_05_05\r\n2023-07-03T03:52:43.088873Z  INFO lemmy_server::code_migrations: 0 private message rows updated.\r\n2023-07-03T03:52:43.088975Z  INFO lemmy_server::code_migrations: Running post_thumbnail_url_updates_2020_07_27\r\n2023-07-03T03:52:43.089405Z  INFO lemmy_server::code_migrations: 0 Post thumbnail_url rows updated.\r\n2023-07-03T03:52:43.089514Z  INFO lemmy_server::code_migrations: Running apub_columns_2021_02_02\r\n2023-07-03T03:52:43.090065Z  INFO lemmy_server::code_migrations: Running instance_actor_2021_09_29\r\n2023-07-03T03:52:43.093276Z  INFO lemmy_server::code_migrations: Running regenerate_public_keys_2022_07_05\r\n2023-07-03T03:52:43.093989Z  INFO lemmy_server::code_migrations: Running initialize_local_site_2022_10_10\r\n```\r\n* `cargo run --feature json-log`\r\n```\r\n{\"timestamp\":\"2023-07-03T03:48:47.630411Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"Running Database migrations (This may take a long time)...\"},\"target\":\"lemmy_db_schema::utils\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.433914Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"Database migrations complete.\"},\"target\":\"lemmy_db_schema::utils\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.471113Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"Running user_updates_2020_04_02\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.472628Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"0 person rows updated.\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.472864Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"Running community_updates_2020_04_02\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.473765Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"0 community rows updated.\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.473887Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"Running post_updates_2020_04_03\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.474783Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"0 post rows updated.\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.474913Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"Running comment_updates_2020_04_03\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.476622Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"0 comment rows updated.\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.476728Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"Running private_message_updates_2020_05_05\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.477190Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"0 private message rows updated.\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.477305Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"Running post_thumbnail_url_updates_2020_07_27\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.477748Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"0 Post thumbnail_url rows updated.\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.477855Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"Running apub_columns_2021_02_02\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.478434Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"Running instance_actor_2021_09_29\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.482569Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"Running regenerate_public_keys_2022_07_05\"},\"target\":\"lemmy_server::code_migrations\"}\r\n{\"timestamp\":\"2023-07-03T03:48:48.483338Z\",\"level\":\"INFO\",\"fields\":{\"message\":\"Running initialize_local_site_2022_10_10\"},\"target\":\"lemmy_server::code_migrations\"}\r\n```\r\n\r\nUsing structured logging can be really helpful for analysis, especially when ingested by 3rd-party tools. They can auto-detect the fields allowing you to easily search or generate metrics/alerts based on values.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3462/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3458", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3458/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3458/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3458/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3458", "id": 1784985049, "node_id": "PR_kwDOCi0eqs5UdmcE", "number": 3458, "title": "Remove not needed anymore http-signature-normalization-actix dependency", "user": {"login": "pijuszczyk", "id": 74842304, "node_id": "MDQ6VXNlcjc0ODQyMzA0", "avatar_url": "https://avatars.githubusercontent.com/u/74842304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pijuszczyk", "html_url": "https://github.com/pijuszczyk", "followers_url": "https://api.github.com/users/pijuszczyk/followers", "following_url": "https://api.github.com/users/pijuszczyk/following{/other_user}", "gists_url": "https://api.github.com/users/pijuszczyk/gists{/gist_id}", "starred_url": "https://api.github.com/users/pijuszczyk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pijuszczyk/subscriptions", "organizations_url": "https://api.github.com/users/pijuszczyk/orgs", "repos_url": "https://api.github.com/users/pijuszczyk/repos", "events_url": "https://api.github.com/users/pijuszczyk/events{/privacy}", "received_events_url": "https://api.github.com/users/pijuszczyk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-07-02T22:49:25Z", "updated_at": "2023-07-04T10:14:38Z", "closed_at": "2023-07-04T10:14:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3458", "html_url": "https://github.com/LemmyNet/lemmy/pull/3458", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3458.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3458.patch", "merged_at": "2023-07-04T10:14:37Z"}, "body": "Upgrade http-signature-normalization-actix to avoid confusion regarding the package's license and its compliance with lemmy's license - fixes LemmyNet/activitypub-federation-rust#57.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3458/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3456", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3456/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3456/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3456/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3456", "id": 1784768681, "node_id": "PR_kwDOCi0eqs5Uc1Mr", "number": 3456, "title": "Add Prometheus endpoint and metrics", "user": {"login": "andybug", "id": 865141, "node_id": "MDQ6VXNlcjg2NTE0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/865141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andybug", "html_url": "https://github.com/andybug", "followers_url": "https://api.github.com/users/andybug/followers", "following_url": "https://api.github.com/users/andybug/following{/other_user}", "gists_url": "https://api.github.com/users/andybug/gists{/gist_id}", "starred_url": "https://api.github.com/users/andybug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andybug/subscriptions", "organizations_url": "https://api.github.com/users/andybug/orgs", "repos_url": "https://api.github.com/users/andybug/repos", "events_url": "https://api.github.com/users/andybug/events{/privacy}", "received_events_url": "https://api.github.com/users/andybug/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2023-07-02T18:44:32Z", "updated_at": "2023-07-07T19:58:25Z", "closed_at": "2023-07-05T11:25:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3456", "html_url": "https://github.com/LemmyNet/lemmy/pull/3456", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3456.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3456.patch", "merged_at": "2023-07-05T11:25:19Z"}, "body": "Discussed a bit in #3294.\r\n\r\n- Add a server for serving Prometheus metrics.\r\n- Include a configuration block in the config file.\r\n- Provide HTTP metrics on the API, along with process-level metrics and DB pool metrics.\r\n- The inclusion of the Prometheus components is gated by the `prom` feature flag.\r\n- Acquired port 10002 for Lemmy in the [well-known Prometheus ports](https://github.com/prometheus/prometheus/wiki/Default-port-allocations).\r\n\r\n## Follow-up Ideas\r\n- Metrics on federation, capture per-peer\r\n- DB query metrics\r\n- Community metrics (sub count, posts)\r\n- User metrics (user count, bot users, active users)\r\n\r\n## Example Metrics\r\nThe `lemmy_api_*` metrics will populate as requests come in to different endpoints. This is showing that only one request has come in so far and it was on the \"/\" endpoint.\r\n\r\n```\r\n# HELP lemmy_api_http_requests_duration_seconds HTTP request duration in seconds for all requests\r\n# TYPE lemmy_api_http_requests_duration_seconds histogram\r\nlemmy_api_http_requests_duration_seconds_bucket{endpoint=\"/\",method=\"GET\",status=\"200\",le=\"0.005\"} 0\r\nlemmy_api_http_requests_duration_seconds_bucket{endpoint=\"/\",method=\"GET\",status=\"200\",le=\"0.01\"} 0\r\nlemmy_api_http_requests_duration_seconds_bucket{endpoint=\"/\",method=\"GET\",status=\"200\",le=\"0.025\"} 1\r\nlemmy_api_http_requests_duration_seconds_bucket{endpoint=\"/\",method=\"GET\",status=\"200\",le=\"0.05\"} 1\r\nlemmy_api_http_requests_duration_seconds_bucket{endpoint=\"/\",method=\"GET\",status=\"200\",le=\"0.1\"} 1\r\nlemmy_api_http_requests_duration_seconds_bucket{endpoint=\"/\",method=\"GET\",status=\"200\",le=\"0.25\"} 1\r\nlemmy_api_http_requests_duration_seconds_bucket{endpoint=\"/\",method=\"GET\",status=\"200\",le=\"0.5\"} 1\r\nlemmy_api_http_requests_duration_seconds_bucket{endpoint=\"/\",method=\"GET\",status=\"200\",le=\"1\"} 1\r\nlemmy_api_http_requests_duration_seconds_bucket{endpoint=\"/\",method=\"GET\",status=\"200\",le=\"2.5\"} 1\r\nlemmy_api_http_requests_duration_seconds_bucket{endpoint=\"/\",method=\"GET\",status=\"200\",le=\"5\"} 1\r\nlemmy_api_http_requests_duration_seconds_bucket{endpoint=\"/\",method=\"GET\",status=\"200\",le=\"10\"} 1\r\nlemmy_api_http_requests_duration_seconds_bucket{endpoint=\"/\",method=\"GET\",status=\"200\",le=\"+Inf\"} 1\r\nlemmy_api_http_requests_duration_seconds_sum{endpoint=\"/\",method=\"GET\",status=\"200\"} 0.01122634\r\nlemmy_api_http_requests_duration_seconds_count{endpoint=\"/\",method=\"GET\",status=\"200\"} 1\r\n# HELP lemmy_api_http_requests_total Total number of HTTP requests\r\n# TYPE lemmy_api_http_requests_total counter\r\nlemmy_api_http_requests_total{endpoint=\"/\",method=\"GET\",status=\"200\"} 1\r\n# HELP lemmy_db_pool_available_connections Number of available connections in the pool\r\n# TYPE lemmy_db_pool_available_connections gauge\r\nlemmy_db_pool_available_connections 1\r\n# HELP lemmy_db_pool_connections Current number of connections in the pool\r\n# TYPE lemmy_db_pool_connections gauge\r\nlemmy_db_pool_connections 1\r\n# HELP lemmy_db_pool_max_connections Maximum number of connections in the pool\r\n# TYPE lemmy_db_pool_max_connections gauge\r\nlemmy_db_pool_max_connections 5\r\n# HELP process_cpu_seconds_total Total user and system CPU time spent in seconds.\r\n# TYPE process_cpu_seconds_total counter\r\nprocess_cpu_seconds_total 0\r\n# HELP process_max_fds Maximum number of open file descriptors.\r\n# TYPE process_max_fds gauge\r\nprocess_max_fds 1024\r\n# HELP process_open_fds Number of open file descriptors.\r\n# TYPE process_open_fds gauge\r\nprocess_open_fds 89\r\n# HELP process_resident_memory_bytes Resident memory size in bytes.\r\n# TYPE process_resident_memory_bytes gauge\r\nprocess_resident_memory_bytes 70168576\r\n# HELP process_start_time_seconds Start time of the process since unix epoch in seconds.\r\n# TYPE process_start_time_seconds gauge\r\nprocess_start_time_seconds 1688323261\r\n# HELP process_threads Number of OS threads in the process.\r\n# TYPE process_threads gauge\r\nprocess_threads 37\r\n# HELP process_virtual_memory_bytes Virtual memory size in bytes.\r\n# TYPE process_virtual_memory_bytes gauge\r\nprocess_virtual_memory_bytes 2602901504\r\n```", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3456/reactions", "total_count": 7, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 7}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3456/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3442", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3442/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3442/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3442/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3442", "id": 1784180809, "node_id": "PR_kwDOCi0eqs5Ua47C", "number": 3442, "title": "Fix: added missing quotes to max-file in docker-compose.yml", "user": {"login": "drumlinish", "id": 138327213, "node_id": "U_kgDOCD60rQ", "avatar_url": "https://avatars.githubusercontent.com/u/138327213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drumlinish", "html_url": "https://github.com/drumlinish", "followers_url": "https://api.github.com/users/drumlinish/followers", "following_url": "https://api.github.com/users/drumlinish/following{/other_user}", "gists_url": "https://api.github.com/users/drumlinish/gists{/gist_id}", "starred_url": "https://api.github.com/users/drumlinish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drumlinish/subscriptions", "organizations_url": "https://api.github.com/users/drumlinish/orgs", "repos_url": "https://api.github.com/users/drumlinish/repos", "events_url": "https://api.github.com/users/drumlinish/events{/privacy}", "received_events_url": "https://api.github.com/users/drumlinish/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-01T19:50:35Z", "updated_at": "2023-07-03T08:59:09Z", "closed_at": "2023-07-03T08:59:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3442", "html_url": "https://github.com/LemmyNet/lemmy/pull/3442", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3442.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3442.patch", "merged_at": "2023-07-03T08:59:08Z"}, "body": "The quotes fixes the error bellow:\r\n```\r\n$ docker-compose up -d\r\nCreating network \"docker_default\" with the default driver\r\nCreating docker_pictrs_1   ... error\r\nCreating docker_postgres_1 ... \r\n\r\nERROR: for docker_pictrs_1  Cannot create container for service pictrs: invalid JSON: json: cannot unmarshal number into Go struct field LogConfig.HostConfig.LogConfig.Config oCreating docker_postgres_1 ... error\r\n\r\nERROR: for docker_postgres_1  Cannot create container for service postgres: invalid JSON: json: cannot unmarshal number into Go struct field LogConfig.HostConfig.LogConfig.Config of type string\r\n\r\nERROR: for pictrs  Cannot create container for service pictrs: invalid JSON: json: cannot unmarshal number into Go struct field LogConfig.HostConfig.LogConfig.Config of type string\r\n\r\nERROR: for postgres  Cannot create container for service postgres: invalid JSON: json: cannot unmarshal number into Go struct field LogConfig.HostConfig.LogConfig.Config of type string\r\nERROR: Encountered errors while bringing up the project.\r\n```\r\n\r\nTestet with docker-compose version 1.29.2.\r\n\r\nNote: The value is already in quotes in https://github.com/LemmyNet/lemmy-ansible/blob/main/templates/docker-compose.yml", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3442/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3437", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3437/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3437/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3437/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3437", "id": 1783985577, "node_id": "PR_kwDOCi0eqs5UaN-r", "number": 3437, "title": "Improved validation of display names (Fixes #3436)", "user": {"login": "Josephos", "id": 762558, "node_id": "MDQ6VXNlcjc2MjU1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/762558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Josephos", "html_url": "https://github.com/Josephos", "followers_url": "https://api.github.com/users/Josephos/followers", "following_url": "https://api.github.com/users/Josephos/following{/other_user}", "gists_url": "https://api.github.com/users/Josephos/gists{/gist_id}", "starred_url": "https://api.github.com/users/Josephos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Josephos/subscriptions", "organizations_url": "https://api.github.com/users/Josephos/orgs", "repos_url": "https://api.github.com/users/Josephos/repos", "events_url": "https://api.github.com/users/Josephos/events{/privacy}", "received_events_url": "https://api.github.com/users/Josephos/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-07-01T14:49:01Z", "updated_at": "2023-07-04T10:41:59Z", "closed_at": "2023-07-04T10:41:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3437", "html_url": "https://github.com/LemmyNet/lemmy/pull/3437", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3437.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3437.patch", "merged_at": "2023-07-04T10:41:58Z"}, "body": "Fixed validation of display names: reject names beginning with invisible unicode characters.\r\nFixes #3436", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3437/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3437/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3425", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3425/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3425/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3425/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3425", "id": 1782476571, "node_id": "PR_kwDOCi0eqs5UVDaf", "number": 3425, "title": "Improve errors / debugging by not stripping, log trace if requested", "user": {"login": "phiresky", "id": 2303841, "node_id": "MDQ6VXNlcjIzMDM4NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/2303841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phiresky", "html_url": "https://github.com/phiresky", "followers_url": "https://api.github.com/users/phiresky/followers", "following_url": "https://api.github.com/users/phiresky/following{/other_user}", "gists_url": "https://api.github.com/users/phiresky/gists{/gist_id}", "starred_url": "https://api.github.com/users/phiresky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phiresky/subscriptions", "organizations_url": "https://api.github.com/users/phiresky/orgs", "repos_url": "https://api.github.com/users/phiresky/repos", "events_url": "https://api.github.com/users/phiresky/events{/privacy}", "received_events_url": "https://api.github.com/users/phiresky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-30T12:51:05Z", "updated_at": "2023-06-30T13:32:44Z", "closed_at": "2023-06-30T13:32:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3425", "html_url": "https://github.com/LemmyNet/lemmy/pull/3425", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3425.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3425.patch", "merged_at": "2023-06-30T13:32:44Z"}, "body": "Right now one of the huge issues lemmy has is that the error reporting is very bad. Tons of people are reporting random issues and it's hard to diagnose anything. For example:\r\n\r\n```\r\n2023-06-30T12:35:38.736991Z  WARN lemmy_server::root_span_builder: EOF while parsing a value at line 1 column 0\r\n   1: lemmy_apub::activity_lists::community\r\n             at crates/apub/src/activity_lists.rs:113\r\n   2: lemmy_apub::activities::community::announce::receive\r\n             at crates/apub/src/activities/community/announce.rs:46\r\n   3: lemmy_server::root_span_builder::HTTP request\r\n           with http.method=POST http.scheme=\"http\" http.host=lemmy.localhost:8536 http.target=/inbox otel.kind=\"server\" request_id=a60a15e1-4600-481d-b03b-bc1ebaa656d9\r\n             at src/root_span_builder.rs:16\r\n```\r\n\r\nThis error looks like there was a parsing error in when parsing some incoming message community right? False, the parsing error actually appears because after parsing a comment it tries to fetch the parent post, and the remote server response responded with a 404 error to that parent post request. You can't even tell the issue is with comment receiving here.\r\n\r\nThis change makes error reporting better by \r\n\r\n1. making anyhow print its own trace if it exists (same as it usually does if you return an anyhow error in main)\r\n2. making anyhow print the real backtrace if RUST_BACKTRACE=1. This is not on by default but at least now it can be enabled.\r\n3. not stripping symbols. symbol stripping doesn't affect performance, only binary size. It can also be done after the fact with `strip lemmy_server` if someone cares about binary size.\r\n     * debug symbols allow both for heap dumps to be useful, for backtraces that are useful, and for profiling / instrumenting that is useful ([see example here](https://lemmy.ml/post/1473314)). Many of these things need to be done in production builds since perf there differs very much from debug, so stripping binaries there prevents issue finding.\r\n5. not removing debug info for debug builds. Sounds like this was [done for build performance](https://github.com/lemmynet/lemmy/commit/a10974ed6e2a5de9fff0e58bb9d0fe15391a7966) in the first place, but I just benchmarked a compile and it was 41s vs 40s. Maybe it was different in 2020?\r\n\r\n\r\n\r\nAfter this change, the above error *can* look like this (with some anyhow contexts added, not part of this PR):\r\n\r\n```\r\n2023-06-30T12:35:38.736991Z  WARN lemmy_server::root_span_builder: get comment parents\r\nCaused by:\r\n    0: finding parent comment\r\n    1: EOF while parsing a value at line 1 column 0\r\n   1: lemmy_apub::activity_lists::community\r\n             at crates/apub/src/activity_lists.rs:113\r\n   2: lemmy_apub::activities::community::announce::receive\r\n             at crates/apub/src/activities/community/announce.rs:46\r\n   3: lemmy_server::root_span_builder::HTTP request\r\n           with http.method=POST http.scheme=\"http\" http.host=lemmy.localhost:8536 http.target=/inbox otel.kind=\"server\" request_id=a60a15e1-4600-481d-b03b-bc1ebaa656d9\r\n             at src/root_span_builder.rs:16\r\n```\r\n\r\nand with RUST_BACKTRACE=1 and without further changes it looks like this (a bit noisy, but at least you can understand what happened since you can clearly see `CreateOrUpdateNote`, `get_parents`, and `dereference_from_http` in the backtrace:\r\n\r\n```\r\n2023-06-30T12:35:38.736991Z  WARN lemmy_server::root_span_builder: EOF while parsing a value at line 1 column 0\r\n\r\nStack backtrace:\r\n   0: anyhow::error::<impl core::convert::From<E> for anyhow::Error>::from\r\n             at /home/phire/.cargo/registry/src/index.crates.io-6f17d22bba15001f/anyhow-1.0.71/src/error.rs:547:25\r\n   1: <T as core::convert::Into<U>>::into\r\n             at /rustc/f7ca9df69549470541fbf542f87a03eb9ed024b6/library/core/src/convert/mod.rs:716:9\r\n   2: <lemmy_utils::error::LemmyError as core::convert::From<T>>::from\r\n             at ./crates/utils/src/error.rs:73:14\r\n   3: <core::result::Result<T,F> as core::ops::try_trait::FromResidual<core::result::Result<core::convert::Infallible,E>>>::from_residual\r\n             at /rustc/f7ca9df69549470541fbf542f87a03eb9ed024b6/library/core/src/result.rs:1961:27\r\n   4: activitypub_federation::fetch::object_id::ObjectId<Kind>::dereference_from_http::{{closure}}\r\n             at /home/phire/data/dev/2023/activitypub-federation-rust/src/fetch/object_id.rs:159:20\r\n   5: activitypub_federation::fetch::object_id::ObjectId<Kind>::dereference::{{closure}}\r\n             at /home/phire/data/dev/2023/activitypub-federation-rust/src/fetch/object_id.rs:116:52\r\n   6: lemmy_apub::protocol::objects::note::Note::get_parents::{{closure}}\r\n             at ./crates/apub/src/protocol/objects/note.rs:66:10\r\n   7: <lemmy_apub::protocol::activities::create_or_update::note::CreateOrUpdateNote as lemmy_apub::protocol::InCommunity>::community::{{closure}}::{{closure}}\r\n             at ./crates/apub/src/protocol/activities/create_or_update/note.rs:39:49\r\n   8: <tracing::instrument::Instrumented<T> as core::future::future::Future>::poll\r\n             at /home/phire/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tracing-0.1.37/src/instrument.rs:272:9\r\n   9: <lemmy_apub::protocol::activities::create_or_update::note::CreateOrUpdateNote as lemmy_apub::protocol::InCommunity>::community::{{closure}}\r\n             at ./crates/apub/src/protocol/activities/create_or_update/note.rs:37:3\r\n  10: <core::pin::Pin<P> as core::future::future::Future>::poll\r\n             at /rustc/f7ca9df69549470541fbf542f87a03eb9ed024b6/library/core/src/future/future.rs:125:9\r\n  11: <lemmy_apub::activity_lists::AnnouncableActivities as lemmy_apub::protocol::InCommunity>::community::{{closure}}::{{closure}}\r\n             at ./crates/apub/src/activity_lists.rs:117:56\r\n  12: <tracing::instrument::Instrumented<T> as core::future::future::Future>::poll\r\n             at /home/phire/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tracing-0.1.37/src/instrument.rs:272:9\r\n  13: <lemmy_apub::activity_lists::AnnouncableActivities as lemmy_apub::protocol::InCommunity>::community::{{closure}}\r\n             at ./crates/apub/src/activity_lists.rs:113:3\r\n  14: <core::pin::Pin<P> as core::future::future::Future>::poll\r\n             at /rustc/f7ca9df69549470541fbf542f87a03eb9ed024b6/library/core/src/future/future.rs:125:9\r\n  15: lemmy_apub::activities::community::announce::<impl activitypub_federation::traits::ActivityHandler for lemmy_apub::protocol::activities::community::announce::RawAnnouncableActivities>::receive::{{closure}}::{{closure}}\r\n             at ./crates/apub/src/activities/community/announce.rs:53:46\r\n  16: <tracing::instrument::Instrumented<T> as core::future::future::Future>::poll\r\n             at /home/phire/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tracing-0.1.37/src/instrument.rs:272:9\r\n  17: lemmy_apub::activities::community::announce::<impl activitypub_federation::traits::ActivityHandler for lemmy_apub::protocol::activities::community::announce::RawAnnouncableActivities>::receive::{{closure}}\r\n             at ./crates/apub/src/activities/community/announce.rs:46:3\r\n  18: <core::pin::Pin<P> as core::future::future::Future>::poll\r\n             at /rustc/f7ca9df69549470541fbf542f87a03eb9ed024b6/library/core/src/future/future.rs:125:9\r\n  19: <activitypub_federation::protocol::context::WithContext<T> as activitypub_federation::traits::ActivityHandler>::receive::{{closure}}\r\n             at /home/phire/data/dev/2023/activitypub-federation-rust/src/protocol/context.rs:79:34\r\n   ...\r\n   0: lemmy_apub::protocol::activities::create_or_update::note::community\r\n             at crates/apub/src/protocol/activities/create_or_update/note.rs:37\r\n   1: lemmy_apub::activity_lists::community\r\n             at crates/apub/src/activity_lists.rs:113\r\n   2: lemmy_apub::activities::community::announce::receive\r\n             at crates/apub/src/activities/community/announce.rs:46\r\n   3: lemmy_server::root_span_builder::HTTP request\r\n           with http.method=POST http.scheme=\"http\" http.host=lemmy.localhost:8536 http.target=/inbox otel.kind=\"server\" request_id=a60a15e1-4600-481d-b03b-bc1ebaa656d9\r\n             at src/root_span_builder.rs:16\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3425/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3424", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3424/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3424/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3424/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3424", "id": 1782288998, "node_id": "PR_kwDOCi0eqs5UUaSr", "number": 3424, "title": "Dont compare db string errors (fixes #1393)", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-30T10:24:47Z", "updated_at": "2025-09-11T17:34:31Z", "closed_at": "2023-07-03T15:59:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3424", "html_url": "https://github.com/LemmyNet/lemmy/pull/3424", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3424.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3424.patch", "merged_at": "2023-07-03T15:59:50Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3424/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3424/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3423", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3423/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3423/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3423/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3423", "id": 1782108937, "node_id": "PR_kwDOCi0eqs5UTzE9", "number": 3423, "title": "Remove PerformApub trait", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-30T08:21:42Z", "updated_at": "2025-09-11T17:36:35Z", "closed_at": "2023-07-03T09:01:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3423", "html_url": "https://github.com/LemmyNet/lemmy/pull/3423", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3423.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3423.patch", "merged_at": "2023-07-03T09:01:41Z"}, "body": "This is completely useless now that websocket is gone. In the future I also plan to remove Perform and PerformCrud traits, but it will be difficult to do that while still compiling crates in parallel.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3423/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3421", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3421/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3421/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3421/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3421", "id": 1781915956, "node_id": "PR_kwDOCi0eqs5UTKG-", "number": 3421, "title": "Allow cross-origin requests", "user": {"login": "diamondburned", "id": 8463786, "node_id": "MDQ6VXNlcjg0NjM3ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/8463786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diamondburned", "html_url": "https://github.com/diamondburned", "followers_url": "https://api.github.com/users/diamondburned/followers", "following_url": "https://api.github.com/users/diamondburned/following{/other_user}", "gists_url": "https://api.github.com/users/diamondburned/gists{/gist_id}", "starred_url": "https://api.github.com/users/diamondburned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diamondburned/subscriptions", "organizations_url": "https://api.github.com/users/diamondburned/orgs", "repos_url": "https://api.github.com/users/diamondburned/repos", "events_url": "https://api.github.com/users/diamondburned/events{/privacy}", "received_events_url": "https://api.github.com/users/diamondburned/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 25, "created_at": "2023-06-30T05:22:01Z", "updated_at": "2023-07-06T20:14:19Z", "closed_at": "2023-07-06T11:25:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3421", "html_url": "https://github.com/LemmyNet/lemmy/pull/3421", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3421.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3421.patch", "merged_at": "2023-07-06T11:25:19Z"}, "body": "This PR modifies CORS behaviors so that when invoking from a different origin, the server will respond with the appropriate CORS headers that allow that origin instead of not including any header at all.\r\n\r\nHere's a `curl` demoing these headers:\r\n\r\n```sh\r\n\u2015\u2764\u2015\u25b6 curl -X POST -D - -H 'Origin: http://google.com' -H 'Content-Type: application/json' -d '{\"username_or_email\": \"diamond\", \"password\": \"123123123123\"}' http://0.0.0.0:8536/api/v3/user/login\r\nHTTP/1.1 200 OK\r\ncontent-length: 208\r\nvary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers\r\naccess-control-expose-headers: content-type, access-control-allow-origin\r\naccess-control-allow-origin: http://google.com\r\ncontent-type: application/json\r\ndate: Fri, 30 Jun 2023 05:11:09 GMT\r\n\r\n{\"jwt\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOjEsImlzcyI6ImxlbW15LWFscGhhIiwiaWF0IjoxNjg4MTAxODcwfQ.wHWwTcIYOHs7rShfrQtZToexFZfbrXMDQzoQimR6QeQ\",\"registration_created\":false,\"verify_email_sent\":false}\r\n```\r\n\r\n> **Note**: The presence of the header `access-control-allow-origin: http://google.com` given `Origin: http://google.com` is the most important part.\r\n\r\n> **Note**: This does not lead to the browser leaking cookies. Calling `fetch` with `credentials: \"include\"` will cause the browser to error out because there's no `Access-Control-Allow-Credentials`, which is what we want:\r\n>\r\n> ```\r\n> await fetch(\"http://0.0.0.0:8536/api/v3/site\", { credentials: \"include\" })\r\n> Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://0.0.0.0:8536/api/v3/site. (Reason: expected \u2018true\u2019 in CORS header \u2018Access-Control-Allow-Credentials\u2019).\r\n> \r\n> Uncaught (in promise) TypeError: NetworkError when attempting to fetch resource.\r\n> await fetch(\"http://0.0.0.0:8536/api/v3/site\")\r\n> Response { type: \"cors\", url: \"http://0.0.0.0:8536/api/v3/site\", redirected: false, status: 200, ok: true, statusText: \"OK\", headers: Headers(4), body: ReadableStream, bodyUsed: false }\r\n> ```\r\n\r\n\r\nThis PR fixes issue #3109.\r\n\r\nThis PR replaces/closes PR #3408 and #3301.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3421/reactions", "total_count": 70, "+1": 45, "-1": 1, "laugh": 0, "hooray": 8, "confused": 0, "heart": 8, "rocket": 7, "eyes": 1}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3421/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3418", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3418/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3418/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3418/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3418", "id": 1781616966, "node_id": "PR_kwDOCi0eqs5USKOZ", "number": 3418, "title": "fix(posts): return error on invalid community name", "user": {"login": "dhawos", "id": 14896944, "node_id": "MDQ6VXNlcjE0ODk2OTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/14896944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhawos", "html_url": "https://github.com/dhawos", "followers_url": "https://api.github.com/users/dhawos/followers", "following_url": "https://api.github.com/users/dhawos/following{/other_user}", "gists_url": "https://api.github.com/users/dhawos/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhawos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhawos/subscriptions", "organizations_url": "https://api.github.com/users/dhawos/orgs", "repos_url": "https://api.github.com/users/dhawos/repos", "events_url": "https://api.github.com/users/dhawos/events{/privacy}", "received_events_url": "https://api.github.com/users/dhawos/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-06-29T23:04:28Z", "updated_at": "2023-07-04T11:04:39Z", "closed_at": "2023-07-04T11:04:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3418", "html_url": "https://github.com/LemmyNet/lemmy/pull/3418", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3418.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3418.patch", "merged_at": "2023-07-04T11:04:38Z"}, "body": "This should fix https://github.com/LemmyNet/lemmy/issues/3383\r\n\r\nBefore when we get an error while listing posts on a community, because the community does not exists, we transform the Result we get into an Option, after that there is no way to recognize whether a community name was given and not found, or if no name was given at all.\r\n\r\nTo fix this, I'm simply returning the error if there is one, if not I simply wrap the value we get in an Option.\r\n\r\nThis gives a 404 error when requesting `http://localhost:8536/api/v3/post/list?community_name=InvalidCommunityName` with the Record not found message which from my testing is the same behavior we get if we try to follow a community that does not exists.\r\n\r\nI'm just starting out Rust so please don't hesitate to let me know if that's not a good way to implement it.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3418/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3418/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3413", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3413/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3413/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3413/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3413", "id": 1781255614, "node_id": "PR_kwDOCi0eqs5UQ7xM", "number": 3413, "title": "Add awesome-lemmy to LemmyNet?", "user": {"login": "dbeley", "id": 6568955, "node_id": "MDQ6VXNlcjY1Njg5NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6568955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbeley", "html_url": "https://github.com/dbeley", "followers_url": "https://api.github.com/users/dbeley/followers", "following_url": "https://api.github.com/users/dbeley/following{/other_user}", "gists_url": "https://api.github.com/users/dbeley/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbeley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbeley/subscriptions", "organizations_url": "https://api.github.com/users/dbeley/orgs", "repos_url": "https://api.github.com/users/dbeley/repos", "events_url": "https://api.github.com/users/dbeley/events{/privacy}", "received_events_url": "https://api.github.com/users/dbeley/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-29T17:43:22Z", "updated_at": "2023-07-03T13:15:46Z", "closed_at": "2023-07-03T13:15:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3413", "html_url": "https://github.com/LemmyNet/lemmy/pull/3413", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3413.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3413.patch", "merged_at": "2023-07-03T13:15:46Z"}, "body": "Hello,\r\n\r\nI've created a list containing most of apps and tools related to lemmy under the \"awesome\" format: [awesome-lemmy](https://github.com/dbeley/awesome-lemmy/).\r\n\r\nIt has started to gain some traction and I'm creating this discussion because I think it would be great to have it under the LemmyNet organization to centralize all the efforts from the community.\r\n\r\nIf it's of interest to you I let you copy the project to the org, you don't need to give me credit (I might do some PRs though).\r\n\r\n(Pruning the commit history might also be a good idea given it's a fork of awesome-scala and it has more than 1k commits already.)\r\n\r\nCheers and thanks for Lemmy!", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3413/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3413/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3406", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3406/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3406/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3406/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3406", "id": 1780745280, "node_id": "PR_kwDOCi0eqs5UPN5U", "number": 3406, "title": "Mark follow as pending when subscribing to remote community (fixes #3384)", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-29T12:40:05Z", "updated_at": "2025-09-11T17:32:51Z", "closed_at": "2023-07-03T10:03:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3406", "html_url": "https://github.com/LemmyNet/lemmy/pull/3406", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3406.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3406.patch", "merged_at": "2023-07-03T10:03:20Z"}, "body": "Looks like setting the pending value got lost during some rewrite.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3406/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3406/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3398", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3398/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3398/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3398/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3398", "id": 1779326312, "node_id": "PR_kwDOCi0eqs5UKW6o", "number": 3398, "title": "Fixing release script.", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-28T16:46:03Z", "updated_at": "2025-09-11T17:33:10Z", "closed_at": "2023-06-29T14:17:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3398", "html_url": "https://github.com/LemmyNet/lemmy/pull/3398", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3398.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3398.patch", "merged_at": "2023-06-29T14:17:59Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3398/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3397", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3397/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3397/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3397/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3397", "id": 1779278328, "node_id": "PR_kwDOCi0eqs5UKMSX", "number": 3397, "title": "Fix cargo warnings", "user": {"login": "sunaurus", "id": 5356547, "node_id": "MDQ6VXNlcjUzNTY1NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/5356547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunaurus", "html_url": "https://github.com/sunaurus", "followers_url": "https://api.github.com/users/sunaurus/followers", "following_url": "https://api.github.com/users/sunaurus/following{/other_user}", "gists_url": "https://api.github.com/users/sunaurus/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunaurus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunaurus/subscriptions", "organizations_url": "https://api.github.com/users/sunaurus/orgs", "repos_url": "https://api.github.com/users/sunaurus/repos", "events_url": "https://api.github.com/users/sunaurus/events{/privacy}", "received_events_url": "https://api.github.com/users/sunaurus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-28T16:15:23Z", "updated_at": "2023-06-28T18:26:17Z", "closed_at": "2023-06-28T16:57:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3397", "html_url": "https://github.com/LemmyNet/lemmy/pull/3397", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3397.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3397.patch", "merged_at": "2023-06-28T16:57:50Z"}, "body": "```\r\nwarning: lemmy/crates/db_schema/Cargo.toml: dependency (uuid) specified without providing a local path, Git repository, or version to use. This will be considered an error in future versions\r\nwarning: lemmy/crates/api_crud/Cargo.toml: dependency (chrono) specified without providing a local path, Git repository, or version to use. This will be considered an error in future versions\r\n```\r\n\r\nSeems these slipped in with #3289 ", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3397/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3397/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3389", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3389/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3389/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3389/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3389", "id": 1778264140, "node_id": "PR_kwDOCi0eqs5UGwKl", "number": 3389, "title": "Automatically manage database when running scripts/test.sh", "user": {"login": "dullbananas", "id": 47706471, "node_id": "MDQ6VXNlcjQ3NzA2NDcx", "avatar_url": "https://avatars.githubusercontent.com/u/47706471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dullbananas", "html_url": "https://github.com/dullbananas", "followers_url": "https://api.github.com/users/dullbananas/followers", "following_url": "https://api.github.com/users/dullbananas/following{/other_user}", "gists_url": "https://api.github.com/users/dullbananas/gists{/gist_id}", "starred_url": "https://api.github.com/users/dullbananas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dullbananas/subscriptions", "organizations_url": "https://api.github.com/users/dullbananas/orgs", "repos_url": "https://api.github.com/users/dullbananas/repos", "events_url": "https://api.github.com/users/dullbananas/events{/privacy}", "received_events_url": "https://api.github.com/users/dullbananas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-06-28T06:03:06Z", "updated_at": "2023-07-07T20:46:46Z", "closed_at": "2023-06-30T07:50:30Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3389", "html_url": "https://github.com/LemmyNet/lemmy/pull/3389", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3389.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3389.patch", "merged_at": "2023-06-30T07:50:30Z"}, "body": "This removes the need to manually setup the database or start/stop the server. Also, having control over the whole cluster configuration prevents issues with user permissions and authentication.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3389/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3389/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3386", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3386/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3386/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3386/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3386", "id": 1778047198, "node_id": "PR_kwDOCi0eqs5UGBv1", "number": 3386, "title": "Added gitattributes to normalize all files to lf", "user": {"login": "njs-guy", "id": 26203018, "node_id": "MDQ6VXNlcjI2MjAzMDE4", "avatar_url": "https://avatars.githubusercontent.com/u/26203018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njs-guy", "html_url": "https://github.com/njs-guy", "followers_url": "https://api.github.com/users/njs-guy/followers", "following_url": "https://api.github.com/users/njs-guy/following{/other_user}", "gists_url": "https://api.github.com/users/njs-guy/gists{/gist_id}", "starred_url": "https://api.github.com/users/njs-guy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njs-guy/subscriptions", "organizations_url": "https://api.github.com/users/njs-guy/orgs", "repos_url": "https://api.github.com/users/njs-guy/repos", "events_url": "https://api.github.com/users/njs-guy/events{/privacy}", "received_events_url": "https://api.github.com/users/njs-guy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-28T02:08:49Z", "updated_at": "2023-06-29T08:16:13Z", "closed_at": "2023-06-29T08:16:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3386", "html_url": "https://github.com/LemmyNet/lemmy/pull/3386", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3386.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3386.patch", "merged_at": "2023-06-29T08:16:12Z"}, "body": "I was trying to build this on Windows through Docker and WSL and I ran into the problem that the docker_update.sh was using crlf line endings. I converted it to lf no problem but it's probably better to just normalize the line endings of everything for better consistency. I'm not sure if this breaks anything in the rest of the code though, so I could edit this to only effect docker/docker_update.sh if necessary. Either way, having git normalize the file to lf makes it less annoying to build on Windows/Mac.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3386/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3379", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3379/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3379/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3379/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3379", "id": 1777020405, "node_id": "PR_kwDOCi0eqs5UCgLF", "number": 3379, "title": "Update activitypub-federation crate to 0.4.5 (fixes signature expiration)", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-27T13:47:12Z", "updated_at": "2025-09-11T17:28:30Z", "closed_at": "2023-06-28T16:58:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3379", "html_url": "https://github.com/LemmyNet/lemmy/pull/3379", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3379.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3379.patch", "merged_at": "2023-06-28T16:58:24Z"}, "body": "https://github.com/LemmyNet/activitypub-federation-rust/releases/tag/0.4.5", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3379/reactions", "total_count": 4, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 4, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3379/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3376", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3376/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3376/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3376/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3376", "id": 1776728573, "node_id": "PR_kwDOCi0eqs5UBfLQ", "number": 3376, "title": "Adding rest of community sorts. Fixes #3374", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-27T11:41:19Z", "updated_at": "2025-09-11T17:28:35Z", "closed_at": "2023-07-03T17:09:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3376", "html_url": "https://github.com/LemmyNet/lemmy/pull/3376", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3376.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3376.patch", "merged_at": "2023-07-03T17:09:15Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3376/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3370", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3370/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3370/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3370/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3370", "id": 1776416903, "node_id": "PR_kwDOCi0eqs5UAbOL", "number": 3370, "title": "Fix missing sorting types", "user": {"login": "c-andy-candies", "id": 74613851, "node_id": "MDQ6VXNlcjc0NjEzODUx", "avatar_url": "https://avatars.githubusercontent.com/u/74613851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c-andy-candies", "html_url": "https://github.com/c-andy-candies", "followers_url": "https://api.github.com/users/c-andy-candies/followers", "following_url": "https://api.github.com/users/c-andy-candies/following{/other_user}", "gists_url": "https://api.github.com/users/c-andy-candies/gists{/gist_id}", "starred_url": "https://api.github.com/users/c-andy-candies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c-andy-candies/subscriptions", "organizations_url": "https://api.github.com/users/c-andy-candies/orgs", "repos_url": "https://api.github.com/users/c-andy-candies/repos", "events_url": "https://api.github.com/users/c-andy-candies/events{/privacy}", "received_events_url": "https://api.github.com/users/c-andy-candies/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-27T08:53:57Z", "updated_at": "2023-06-28T16:44:17Z", "closed_at": "2023-06-28T16:44:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3370", "html_url": "https://github.com/LemmyNet/lemmy/pull/3370", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3370.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3370.patch", "merged_at": "2023-06-28T16:44:16Z"}, "body": "Added missing sorting types in #3226 : https://github.com/LemmyNet/lemmy/pull/3226#discussion_r1243103651", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3370/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3369", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3369/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3369/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3369/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3369", "id": 1776390582, "node_id": "PR_kwDOCi0eqs5UAVet", "number": 3369, "title": "Run cargo update as part of release script", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-27T08:38:58Z", "updated_at": "2025-09-11T17:36:32Z", "closed_at": "2023-06-27T12:59:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3369", "html_url": "https://github.com/LemmyNet/lemmy/pull/3369", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3369.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3369.patch", "merged_at": "2023-06-27T12:59:59Z"}, "body": "To get newest dependency patches and get rid of yanked deps", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3369/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3365", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3365/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3365/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3365/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3365", "id": 1775477583, "node_id": "PR_kwDOCi0eqs5T9Tgu", "number": 3365, "title": "Remove redundant calls to `Iterator::collect`", "user": {"login": "dullbananas", "id": 47706471, "node_id": "MDQ6VXNlcjQ3NzA2NDcx", "avatar_url": "https://avatars.githubusercontent.com/u/47706471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dullbananas", "html_url": "https://github.com/dullbananas", "followers_url": "https://api.github.com/users/dullbananas/followers", "following_url": "https://api.github.com/users/dullbananas/following{/other_user}", "gists_url": "https://api.github.com/users/dullbananas/gists{/gist_id}", "starred_url": "https://api.github.com/users/dullbananas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dullbananas/subscriptions", "organizations_url": "https://api.github.com/users/dullbananas/orgs", "repos_url": "https://api.github.com/users/dullbananas/repos", "events_url": "https://api.github.com/users/dullbananas/events{/privacy}", "received_events_url": "https://api.github.com/users/dullbananas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-26T19:47:04Z", "updated_at": "2023-06-28T18:54:57Z", "closed_at": "2023-06-28T09:19:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3365", "html_url": "https://github.com/LemmyNet/lemmy/pull/3365", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3365.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3365.patch", "merged_at": "2023-06-28T09:19:27Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3365/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3363", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3363/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3363/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3363/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3363", "id": 1775026349, "node_id": "PR_kwDOCi0eqs5T7w81", "number": 3363, "title": "Add \"show_nsfw\" to the Community API.", "user": {"login": "tgxn", "id": 293107, "node_id": "MDQ6VXNlcjI5MzEwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/293107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgxn", "html_url": "https://github.com/tgxn", "followers_url": "https://api.github.com/users/tgxn/followers", "following_url": "https://api.github.com/users/tgxn/following{/other_user}", "gists_url": "https://api.github.com/users/tgxn/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgxn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgxn/subscriptions", "organizations_url": "https://api.github.com/users/tgxn/orgs", "repos_url": "https://api.github.com/users/tgxn/repos", "events_url": "https://api.github.com/users/tgxn/events{/privacy}", "received_events_url": "https://api.github.com/users/tgxn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-26T15:14:19Z", "updated_at": "2023-06-27T10:45:27Z", "closed_at": "2023-06-27T10:45:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3363", "html_url": "https://github.com/LemmyNet/lemmy/pull/3363", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3363.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3363.patch", "merged_at": "2023-06-27T10:45:26Z"}, "body": "This functionality seems to have been removed in 0.18.0, [the comment](https://github.com/LemmyNet/lemmy/pull/2105/files#diff-0066fa66e09e9c0f906660e681ed172505a1859e59bef51d6f4c675121e3c1caR249) references a non-existant flag, and also seems to look at `self.local_user` where it would not be defined.\r\n\r\nI added a `show_nsfw` query parameter that can be used to show all communities.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3363/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3363/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3362", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3362/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3362/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3362/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3362", "id": 1774965898, "node_id": "PR_kwDOCi0eqs5T7jqh", "number": 3362, "title": "Use serde(skip) instead of skip_serializing, add placeholder values", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-06-26T14:44:02Z", "updated_at": "2025-09-11T17:34:32Z", "closed_at": "2023-07-03T13:14:01Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3362", "html_url": "https://github.com/LemmyNet/lemmy/pull/3362", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3362.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3362.patch", "merged_at": "2023-07-03T13:14:01Z"}, "body": "The latter breaks lemmy_crawler as the field is not included in the Lemmy API, but is required when attempting to parse API responses. Should only use serde(skip) to avoid this problem. I also had to add placeholder values so that deserialization works even though these mandatory fields arent being sent by Lemmy.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3362/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3362/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3360", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3360/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3360/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3360/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3360", "id": 1774881071, "node_id": "PR_kwDOCi0eqs5T7Q96", "number": 3360, "title": "Fetch community outbox and moderators in parallel", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-26T14:06:45Z", "updated_at": "2025-09-11T17:30:20Z", "closed_at": "2023-06-26T16:14:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3360", "html_url": "https://github.com/LemmyNet/lemmy/pull/3360", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3360.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3360.patch", "merged_at": "2023-06-26T16:14:50Z"}, "body": "This will speedup first time fetching of a remote community", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3360/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3360/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3357", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3357/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3357/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3357/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3357", "id": 1774380883, "node_id": "PR_kwDOCi0eqs5T5id3", "number": 3357, "title": "Add Liftoff to README.md", "user": {"login": "wiki-me", "id": 68199012, "node_id": "MDQ6VXNlcjY4MTk5MDEy", "avatar_url": "https://avatars.githubusercontent.com/u/68199012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wiki-me", "html_url": "https://github.com/wiki-me", "followers_url": "https://api.github.com/users/wiki-me/followers", "following_url": "https://api.github.com/users/wiki-me/following{/other_user}", "gists_url": "https://api.github.com/users/wiki-me/gists{/gist_id}", "starred_url": "https://api.github.com/users/wiki-me/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wiki-me/subscriptions", "organizations_url": "https://api.github.com/users/wiki-me/orgs", "repos_url": "https://api.github.com/users/wiki-me/repos", "events_url": "https://api.github.com/users/wiki-me/events{/privacy}", "received_events_url": "https://api.github.com/users/wiki-me/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-26T09:52:38Z", "updated_at": "2023-06-26T10:12:39Z", "closed_at": "2023-06-26T10:12:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3357", "html_url": "https://github.com/LemmyNet/lemmy/pull/3357", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3357.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3357.patch", "merged_at": "2023-06-26T10:12:38Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3357/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3356", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3356/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3356/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3356/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3356", "id": 1774291037, "node_id": "PR_kwDOCi0eqs5T5O-P", "number": 3356, "title": "Remove networks from docker-compose.yml", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-26T09:04:26Z", "updated_at": "2025-09-11T17:36:34Z", "closed_at": "2023-06-26T16:10:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3356", "html_url": "https://github.com/LemmyNet/lemmy/pull/3356", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3356.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3356.patch", "merged_at": "2023-06-26T16:10:38Z"}, "body": "These networks dont add any value and only make things more complicated. Every container needs external network access one way or another so we might as well use the defaults. Replaces https://github.com/LemmyNet/lemmy/pull/3268#issue-1769613018", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3356/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3356/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3353", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3353/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3353/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3353/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3353", "id": 1774163037, "node_id": "PR_kwDOCi0eqs5T4zFR", "number": 3353, "title": "Respond with `Content-Type: application/activity+json`", "user": {"login": "perillamint", "id": 1622360, "node_id": "MDQ6VXNlcjE2MjIzNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1622360?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perillamint", "html_url": "https://github.com/perillamint", "followers_url": "https://api.github.com/users/perillamint/followers", "following_url": "https://api.github.com/users/perillamint/following{/other_user}", "gists_url": "https://api.github.com/users/perillamint/gists{/gist_id}", "starred_url": "https://api.github.com/users/perillamint/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perillamint/subscriptions", "organizations_url": "https://api.github.com/users/perillamint/orgs", "repos_url": "https://api.github.com/users/perillamint/repos", "events_url": "https://api.github.com/users/perillamint/events{/privacy}", "received_events_url": "https://api.github.com/users/perillamint/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-06-26T07:54:28Z", "updated_at": "2023-07-03T16:35:22Z", "closed_at": "2023-06-26T10:10:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3353", "html_url": "https://github.com/LemmyNet/lemmy/pull/3353", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3353.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3353.patch", "merged_at": "2023-06-26T10:10:04Z"}, "body": "As per ActivityPub specification, the return type should be `application/activity+json`, not `application/json`.\r\n\r\nThis fixes issue #3352", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3353/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3353/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3350", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3350/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3350/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3350/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3350", "id": 1773776909, "node_id": "PR_kwDOCi0eqs5T3mjr", "number": 3350, "title": "Fix concatenation of audio captcha wav files", "user": {"login": "minorninth", "id": 5933702, "node_id": "MDQ6VXNlcjU5MzM3MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/5933702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/minorninth", "html_url": "https://github.com/minorninth", "followers_url": "https://api.github.com/users/minorninth/followers", "following_url": "https://api.github.com/users/minorninth/following{/other_user}", "gists_url": "https://api.github.com/users/minorninth/gists{/gist_id}", "starred_url": "https://api.github.com/users/minorninth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/minorninth/subscriptions", "organizations_url": "https://api.github.com/users/minorninth/orgs", "repos_url": "https://api.github.com/users/minorninth/repos", "events_url": "https://api.github.com/users/minorninth/events{/privacy}", "received_events_url": "https://api.github.com/users/minorninth/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-06-26T03:43:57Z", "updated_at": "2023-06-30T10:36:44Z", "closed_at": "2023-06-30T10:36:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3350", "html_url": "https://github.com/LemmyNet/lemmy/pull/3350", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3350.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3350.patch", "merged_at": "2023-06-30T10:36:38Z"}, "body": "This is for after the captcha code is merged again. No rush.\r\n\r\nThe existing code doesn't work, it tries to concatenate the raw bytes of the wav files, which results in only the first letter being played and the rest ignored.\r\n\r\nPlease let me know if you'd prefer different patterns or more error checking, or if you'd prefer to do it without introducing a dependency. Happy to adjust the code to your preferences.\r\n", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3350/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3345", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3345/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3345/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3345/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3345", "id": 1773493646, "node_id": "PR_kwDOCi0eqs5T2tVF", "number": 3345, "title": "Item URL should point to post URL", "user": {"login": "simmel", "id": 191100, "node_id": "MDQ6VXNlcjE5MTEwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/191100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simmel", "html_url": "https://github.com/simmel", "followers_url": "https://api.github.com/users/simmel/followers", "following_url": "https://api.github.com/users/simmel/following{/other_user}", "gists_url": "https://api.github.com/users/simmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/simmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simmel/subscriptions", "organizations_url": "https://api.github.com/users/simmel/orgs", "repos_url": "https://api.github.com/users/simmel/repos", "events_url": "https://api.github.com/users/simmel/events{/privacy}", "received_events_url": "https://api.github.com/users/simmel/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-25T21:19:11Z", "updated_at": "2023-06-26T13:11:17Z", "closed_at": "2023-06-26T13:11:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3345", "html_url": "https://github.com/LemmyNet/lemmy/pull/3345", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3345.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3345.patch", "merged_at": "2023-06-26T13:11:16Z"}, "body": "If the post is an URL post the item link should point to the URL of the link that is being posted.\r\n\r\nSee https://www.rssboard.org/rss-specification#hrelementsOfLtitemgt", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3345/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3345/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3344", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3344/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3344/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3344/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3344", "id": 1773475905, "node_id": "PR_kwDOCi0eqs5T2p1i", "number": 3344, "title": "Limit password resets", "user": {"login": "sunaurus", "id": 5356547, "node_id": "MDQ6VXNlcjUzNTY1NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/5356547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunaurus", "html_url": "https://github.com/sunaurus", "followers_url": "https://api.github.com/users/sunaurus/followers", "following_url": "https://api.github.com/users/sunaurus/following{/other_user}", "gists_url": "https://api.github.com/users/sunaurus/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunaurus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunaurus/subscriptions", "organizations_url": "https://api.github.com/users/sunaurus/orgs", "repos_url": "https://api.github.com/users/sunaurus/repos", "events_url": "https://api.github.com/users/sunaurus/events{/privacy}", "received_events_url": "https://api.github.com/users/sunaurus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-06-25T20:24:28Z", "updated_at": "2023-06-27T11:11:35Z", "closed_at": "2023-06-27T09:20:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3344", "html_url": "https://github.com/LemmyNet/lemmy/pull/3344", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3344.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3344.patch", "merged_at": "2023-06-27T09:20:54Z"}, "body": "This PR limits password reset e-mails to 3 per 24h, which will severely reduce the impact of #3320 (which is quite a critical issue).\r\n\r\nI believe having 3 resets per 24h should cover 99.99% of legit usage, but I can imagine some edge cases where it's not enough. In the longer term, it would be nice to make this limit a configuration option for instance admins.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3344/reactions", "total_count": 9, "+1": 9, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3344/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3343", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3343/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3343/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3343/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3343", "id": 1773412998, "node_id": "PR_kwDOCi0eqs5T2cjL", "number": 3343, "title": "Compress API responses", "user": {"login": "dullbananas", "id": 47706471, "node_id": "MDQ6VXNlcjQ3NzA2NDcx", "avatar_url": "https://avatars.githubusercontent.com/u/47706471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dullbananas", "html_url": "https://github.com/dullbananas", "followers_url": "https://api.github.com/users/dullbananas/followers", "following_url": "https://api.github.com/users/dullbananas/following{/other_user}", "gists_url": "https://api.github.com/users/dullbananas/gists{/gist_id}", "starred_url": "https://api.github.com/users/dullbananas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dullbananas/subscriptions", "organizations_url": "https://api.github.com/users/dullbananas/orgs", "repos_url": "https://api.github.com/users/dullbananas/repos", "events_url": "https://api.github.com/users/dullbananas/events{/privacy}", "received_events_url": "https://api.github.com/users/dullbananas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-25T18:01:04Z", "updated_at": "2023-06-27T18:46:33Z", "closed_at": "2023-06-26T10:54:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3343", "html_url": "https://github.com/LemmyNet/lemmy/pull/3343", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3343.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3343.patch", "merged_at": "2023-06-26T10:54:41Z"}, "body": "This causes the server's responses to be compressed when the client sets the required Accept-Encoding header. This is automatically done by the JavaScript fetch function, so the frontend code doesn't need to be changed.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3343/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3343/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3338", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3338/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3338/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3338/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3338", "id": 1773120019, "node_id": "PR_kwDOCi0eqs5T1eoC", "number": 3338, "title": "Site Metadata: resolve relative URLs for embedded images/videos", "user": {"login": "orottier", "id": 5442615, "node_id": "MDQ6VXNlcjU0NDI2MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/5442615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orottier", "html_url": "https://github.com/orottier", "followers_url": "https://api.github.com/users/orottier/followers", "following_url": "https://api.github.com/users/orottier/following{/other_user}", "gists_url": "https://api.github.com/users/orottier/gists{/gist_id}", "starred_url": "https://api.github.com/users/orottier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orottier/subscriptions", "organizations_url": "https://api.github.com/users/orottier/orgs", "repos_url": "https://api.github.com/users/orottier/repos", "events_url": "https://api.github.com/users/orottier/events{/privacy}", "received_events_url": "https://api.github.com/users/orottier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-25T07:40:53Z", "updated_at": "2023-06-26T13:07:58Z", "closed_at": "2023-06-26T13:07:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3338", "html_url": "https://github.com/LemmyNet/lemmy/pull/3338", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3338.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3338.patch", "merged_at": "2023-06-26T13:07:57Z"}, "body": "Hey I'm the maintainer of the `webpage` crate you are using to fetch metadata about submitted urls.\r\nAn issue was raised https://github.com/orottier/webpage-rs/issues/8#issuecomment-1605725806 about relative URLs which I think should be fixed on your end.\r\nThis pull request contains the fix, and I also changed the dependency to opt into future 1.x versions of the lib. The linked issue contains some other stuff that I will probably fix in the 1.6+ versions.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3338/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3338/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3330", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3330/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3330/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3330/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3330", "id": 1772842361, "node_id": "PR_kwDOCi0eqs5T0lL2", "number": 3330, "title": "docs(api): Add api-common info on generating TypeScript bindings", "user": {"login": "Kissaki", "id": 93181, "node_id": "MDQ6VXNlcjkzMTgx", "avatar_url": "https://avatars.githubusercontent.com/u/93181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kissaki", "html_url": "https://github.com/Kissaki", "followers_url": "https://api.github.com/users/Kissaki/followers", "following_url": "https://api.github.com/users/Kissaki/following{/other_user}", "gists_url": "https://api.github.com/users/Kissaki/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kissaki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kissaki/subscriptions", "organizations_url": "https://api.github.com/users/Kissaki/orgs", "repos_url": "https://api.github.com/users/Kissaki/repos", "events_url": "https://api.github.com/users/Kissaki/events{/privacy}", "received_events_url": "https://api.github.com/users/Kissaki/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-24T17:16:20Z", "updated_at": "2023-06-28T09:25:48Z", "closed_at": "2023-06-28T09:25:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3330", "html_url": "https://github.com/LemmyNet/lemmy/pull/3330", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3330.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3330.patch", "merged_at": "2023-06-28T09:25:47Z"}, "body": "PR #2827 added support for generating TypeScript bindings.\r\n\r\nI could not find any information or docs on how to generate them though. The MR description merely mentions tests generating them, but they won't generate unless the `full` feature flag is used.\r\n\r\nThis change adds information that this is possible, how to do it, and where they are put to to the api_common crate README.md.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3330/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3327", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3327/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3327/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3327/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3327", "id": 1772779120, "node_id": "PR_kwDOCi0eqs5T0Xjx", "number": 3327, "title": "Leave no apk cache in Docker image", "user": {"login": "PeterDaveHello", "id": 3691490, "node_id": "MDQ6VXNlcjM2OTE0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3691490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PeterDaveHello", "html_url": "https://github.com/PeterDaveHello", "followers_url": "https://api.github.com/users/PeterDaveHello/followers", "following_url": "https://api.github.com/users/PeterDaveHello/following{/other_user}", "gists_url": "https://api.github.com/users/PeterDaveHello/gists{/gist_id}", "starred_url": "https://api.github.com/users/PeterDaveHello/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PeterDaveHello/subscriptions", "organizations_url": "https://api.github.com/users/PeterDaveHello/orgs", "repos_url": "https://api.github.com/users/PeterDaveHello/repos", "events_url": "https://api.github.com/users/PeterDaveHello/events{/privacy}", "received_events_url": "https://api.github.com/users/PeterDaveHello/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-24T15:16:44Z", "updated_at": "2023-06-26T10:29:08Z", "closed_at": "2023-06-26T09:59:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3327", "html_url": "https://github.com/LemmyNet/lemmy/pull/3327", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3327.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3327.patch", "merged_at": "2023-06-26T09:59:03Z"}, "body": "This is kind of Dockerfile best practice \ud83d\ude0f", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3327/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3318", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3318/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3318/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3318/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3318", "id": 1772469612, "node_id": "PR_kwDOCi0eqs5TzUMJ", "number": 3318, "title": "Add Open links in new tab setting", "user": {"login": "sbordeyne", "id": 13538749, "node_id": "MDQ6VXNlcjEzNTM4NzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/13538749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbordeyne", "html_url": "https://github.com/sbordeyne", "followers_url": "https://api.github.com/users/sbordeyne/followers", "following_url": "https://api.github.com/users/sbordeyne/following{/other_user}", "gists_url": "https://api.github.com/users/sbordeyne/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbordeyne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbordeyne/subscriptions", "organizations_url": "https://api.github.com/users/sbordeyne/orgs", "repos_url": "https://api.github.com/users/sbordeyne/repos", "events_url": "https://api.github.com/users/sbordeyne/events{/privacy}", "received_events_url": "https://api.github.com/users/sbordeyne/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-24T05:34:38Z", "updated_at": "2023-07-03T15:10:26Z", "closed_at": "2023-07-03T15:10:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3318", "html_url": "https://github.com/LemmyNet/lemmy/pull/3318", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3318.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3318.patch", "merged_at": "2023-07-03T15:10:25Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3318/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3313", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3313/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3313/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3313/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3313", "id": 1772383650, "node_id": "PR_kwDOCi0eqs5TzB95", "number": 3313, "title": "Adjust the config check to be a separate faster to compile binary", "user": {"login": "cetra3", "id": 6415435, "node_id": "MDQ6VXNlcjY0MTU0MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6415435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cetra3", "html_url": "https://github.com/cetra3", "followers_url": "https://api.github.com/users/cetra3/followers", "following_url": "https://api.github.com/users/cetra3/following{/other_user}", "gists_url": "https://api.github.com/users/cetra3/gists{/gist_id}", "starred_url": "https://api.github.com/users/cetra3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cetra3/subscriptions", "organizations_url": "https://api.github.com/users/cetra3/orgs", "repos_url": "https://api.github.com/users/cetra3/repos", "events_url": "https://api.github.com/users/cetra3/events{/privacy}", "received_events_url": "https://api.github.com/users/cetra3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-24T01:30:47Z", "updated_at": "2023-06-26T10:23:22Z", "closed_at": "2023-06-26T10:23:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3313", "html_url": "https://github.com/LemmyNet/lemmy/pull/3313", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3313.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3313.patch", "merged_at": "2023-06-26T10:23:21Z"}, "body": "This moves the print-config-check to a binary hosted by the `crates/utils` crate.  Rather than build the *entire* lemmy server to check the config is updated, this will compile less & hopefully reduce the `check_defaults_hjson_updated` step in CI", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3313/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3306", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3306/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3306/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3306/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3306", "id": 1772125700, "node_id": "PR_kwDOCi0eqs5TyIVJ", "number": 3306, "title": "300 comment limit.", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2023-06-23T20:46:05Z", "updated_at": "2025-09-11T17:34:21Z", "closed_at": "2023-07-03T22:02:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3306", "html_url": "https://github.com/LemmyNet/lemmy/pull/3306", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3306.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3306.patch", "merged_at": "2023-07-03T22:02:58Z"}, "body": "People are currently ddos'ing lemmy servers by attacking a vulnerability having to do with high-comment threads.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3306/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3299", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3299/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3299/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3299/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3299", "id": 1771721855, "node_id": "PR_kwDOCi0eqs5Twymv", "number": 3299, "title": "Fix lemmy UI environment variable in docker-compose.yml", "user": {"login": "aman207", "id": 3377153, "node_id": "MDQ6VXNlcjMzNzcxNTM=", "avatar_url": "https://avatars.githubusercontent.com/u/3377153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aman207", "html_url": "https://github.com/aman207", "followers_url": "https://api.github.com/users/aman207/followers", "following_url": "https://api.github.com/users/aman207/following{/other_user}", "gists_url": "https://api.github.com/users/aman207/gists{/gist_id}", "starred_url": "https://api.github.com/users/aman207/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aman207/subscriptions", "organizations_url": "https://api.github.com/users/aman207/orgs", "repos_url": "https://api.github.com/users/aman207/repos", "events_url": "https://api.github.com/users/aman207/events{/privacy}", "received_events_url": "https://api.github.com/users/aman207/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-23T16:18:22Z", "updated_at": "2023-06-26T10:07:24Z", "closed_at": "2023-06-26T10:07:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3299", "html_url": "https://github.com/LemmyNet/lemmy/pull/3299", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3299.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3299.patch", "merged_at": "2023-06-26T10:07:23Z"}, "body": "I believe the correct environment variable here is LEMMY_UI_HTTPS ([ref](https://github.com/LemmyNet/lemmy-ui/blob/d0a40f66907d52f292bda2da7525543543577690/src/shared/utils/env/get-secure.ts#L7))", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3299/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3295", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3295/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3295/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3295/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3295", "id": 1771535910, "node_id": "PR_kwDOCi0eqs5TwKEg", "number": 3295, "title": "Fixing the release script.", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-23T14:13:29Z", "updated_at": "2025-09-11T17:33:10Z", "closed_at": "2023-06-27T08:28:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3295", "html_url": "https://github.com/LemmyNet/lemmy/pull/3295", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3295.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3295.patch", "merged_at": "2023-06-27T08:28:57Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3295/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3293", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3293/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3293/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3293/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3293", "id": 1771445563, "node_id": "PR_kwDOCi0eqs5Tv2bj", "number": 3293, "title": "Allow wildcard imports in schema.rs", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-23T13:14:29Z", "updated_at": "2025-09-11T17:36:50Z", "closed_at": "2023-06-26T09:18:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3293", "html_url": "https://github.com/LemmyNet/lemmy/pull/3293", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3293.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3293.patch", "merged_at": "2023-06-26T09:18:29Z"}, "body": "Dont mess with auto-generated code, this avoids problems with clippy after running diesel commands", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3293/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3289", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3289/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3289/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3289/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3289", "id": 1771293181, "node_id": "PR_kwDOCi0eqs5TvVPK", "number": 3289, "title": "feat: re-added captcha checks", "user": {"login": "TKilFree", "id": 28776554, "node_id": "MDQ6VXNlcjI4Nzc2NTU0", "avatar_url": "https://avatars.githubusercontent.com/u/28776554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TKilFree", "html_url": "https://github.com/TKilFree", "followers_url": "https://api.github.com/users/TKilFree/followers", "following_url": "https://api.github.com/users/TKilFree/following{/other_user}", "gists_url": "https://api.github.com/users/TKilFree/gists{/gist_id}", "starred_url": "https://api.github.com/users/TKilFree/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TKilFree/subscriptions", "organizations_url": "https://api.github.com/users/TKilFree/orgs", "repos_url": "https://api.github.com/users/TKilFree/repos", "events_url": "https://api.github.com/users/TKilFree/events{/privacy}", "received_events_url": "https://api.github.com/users/TKilFree/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-06-23T11:23:47Z", "updated_at": "2023-06-27T10:38:55Z", "closed_at": "2023-06-27T10:38:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3289", "html_url": "https://github.com/LemmyNet/lemmy/pull/3289", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3289.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3289.patch", "merged_at": "2023-06-27T10:38:54Z"}, "body": "creating a new PR as old one was reverted, see https://github.com/LemmyNet/lemmy/pull/3249#issuecomment-1604115180", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3289/reactions", "total_count": 15, "+1": 15, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3289/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3288", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3288/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3288/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3288/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3288", "id": 1771260712, "node_id": "PR_kwDOCi0eqs5TvOCH", "number": 3288, "title": "Revert \"feat: re-added captcha checks\"", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-23T11:01:51Z", "updated_at": "2025-09-11T17:36:44Z", "closed_at": "2023-06-23T11:02:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3288", "html_url": "https://github.com/LemmyNet/lemmy/pull/3288", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3288.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3288.patch", "merged_at": "2023-06-23T11:02:06Z"}, "body": "Reverts LemmyNet/lemmy#3249", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3288/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3283", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3283/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3283/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3283/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3283", "id": 1770857594, "node_id": "PR_kwDOCi0eqs5Tt62g", "number": 3283, "title": "Reversed requirement question logic", "user": {"login": "krestenlaust", "id": 17174333, "node_id": "MDQ6VXNlcjE3MTc0MzMz", "avatar_url": "https://avatars.githubusercontent.com/u/17174333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krestenlaust", "html_url": "https://github.com/krestenlaust", "followers_url": "https://api.github.com/users/krestenlaust/followers", "following_url": "https://api.github.com/users/krestenlaust/following{/other_user}", "gists_url": "https://api.github.com/users/krestenlaust/gists{/gist_id}", "starred_url": "https://api.github.com/users/krestenlaust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krestenlaust/subscriptions", "organizations_url": "https://api.github.com/users/krestenlaust/orgs", "repos_url": "https://api.github.com/users/krestenlaust/repos", "events_url": "https://api.github.com/users/krestenlaust/events{/privacy}", "received_events_url": "https://api.github.com/users/krestenlaust/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-23T06:22:37Z", "updated_at": "2023-06-23T09:50:36Z", "closed_at": "2023-06-23T09:50:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3283", "html_url": "https://github.com/LemmyNet/lemmy/pull/3283", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3283.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3283.patch", "merged_at": "2023-06-23T09:50:35Z"}, "body": "Changed `Is this a UI / front end issue? Use the [lemmy-ui](https://github.com/LemmyNet/lemmy-ui) repo.` into `Is this a backend issue? Use the [lemmy-ui](https://github.com/LemmyNet/lemmy-ui) repo for UI / frontend issues.`\r\n\r\nThe reason is contributors become confused about whether they should mark that requirement or not.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3283/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3279", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3279/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3279/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3279/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3279", "id": 1770694142, "node_id": "PR_kwDOCi0eqs5TtX0g", "number": 3279, "title": "Fixing removed posts showing. Fixes #2875", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-23T02:53:53Z", "updated_at": "2025-09-11T17:33:10Z", "closed_at": "2023-06-23T10:53:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3279", "html_url": "https://github.com/LemmyNet/lemmy/pull/3279", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3279.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3279.patch", "merged_at": "2023-06-23T10:53:47Z"}, "body": "cc @kartikynwa ", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3279/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3271", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3271/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3271/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3271/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3271", "id": 1770020276, "node_id": "PR_kwDOCi0eqs5TrKnI", "number": 3271, "title": "feat: allow all admins to purge content", "user": {"login": "TKilFree", "id": 28776554, "node_id": "MDQ6VXNlcjI4Nzc2NTU0", "avatar_url": "https://avatars.githubusercontent.com/u/28776554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TKilFree", "html_url": "https://github.com/TKilFree", "followers_url": "https://api.github.com/users/TKilFree/followers", "following_url": "https://api.github.com/users/TKilFree/following{/other_user}", "gists_url": "https://api.github.com/users/TKilFree/gists{/gist_id}", "starred_url": "https://api.github.com/users/TKilFree/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TKilFree/subscriptions", "organizations_url": "https://api.github.com/users/TKilFree/orgs", "repos_url": "https://api.github.com/users/TKilFree/repos", "events_url": "https://api.github.com/users/TKilFree/events{/privacy}", "received_events_url": "https://api.github.com/users/TKilFree/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-22T16:16:58Z", "updated_at": "2023-06-26T08:47:40Z", "closed_at": "2023-06-26T08:47:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3271", "html_url": "https://github.com/LemmyNet/lemmy/pull/3271", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3271.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3271.patch", "merged_at": "2023-06-26T08:47:40Z"}, "body": "as discussed in issue: https://github.com/LemmyNet/lemmy/issues/2976\r\n\r\nthis removes the `is_top_admin` check from all purges, i've also deleted the `is_top_admin` function itself since it's no longer used\r\n\r\nas an aside in relation to the safety concerns, i believe a long term solution to this would be moving from a coarse-grained role-based system, to a fine-grained permissions + role system, where permissions can be defined for pretty much every server interaction and roles are just named bundles of permissions which can be assigned to users", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3271/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3271/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3266", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3266/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3266/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3266/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3266", "id": 1769483302, "node_id": "PR_kwDOCi0eqs5TpWWY", "number": 3266, "title": "Update DB local_user.theme type to text", "user": {"login": "scme0", "id": 97430840, "node_id": "U_kgDOBc6tOA", "avatar_url": "https://avatars.githubusercontent.com/u/97430840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scme0", "html_url": "https://github.com/scme0", "followers_url": "https://api.github.com/users/scme0/followers", "following_url": "https://api.github.com/users/scme0/following{/other_user}", "gists_url": "https://api.github.com/users/scme0/gists{/gist_id}", "starred_url": "https://api.github.com/users/scme0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scme0/subscriptions", "organizations_url": "https://api.github.com/users/scme0/orgs", "repos_url": "https://api.github.com/users/scme0/repos", "events_url": "https://api.github.com/users/scme0/events{/privacy}", "received_events_url": "https://api.github.com/users/scme0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-22T11:26:05Z", "updated_at": "2023-06-26T10:41:02Z", "closed_at": "2023-06-26T08:53:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3266", "html_url": "https://github.com/LemmyNet/lemmy/pull/3266", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3266.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3266.patch", "merged_at": "2023-06-26T08:53:05Z"}, "body": "Updates local_user.theme to type text to match local_site.default_theme\r\n\r\nFixes #3166", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3266/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3265", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3265/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3265/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3265/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3265", "id": 1769472202, "node_id": "PR_kwDOCi0eqs5TpT6c", "number": 3265, "title": "Use Rust 1.70 for Docker and CI", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-22T11:18:17Z", "updated_at": "2025-09-11T17:36:48Z", "closed_at": "2023-06-22T11:46:07Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3265", "html_url": "https://github.com/LemmyNet/lemmy/pull/3265", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3265.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3265.patch", "merged_at": "2023-06-22T11:46:07Z"}, "body": "This version is much faster when fetching the crates.io index.\r\n\r\nhttps://blog.rust-lang.org/2023/06/01/Rust-1.70.0.html#sparse-by-default-for-cratesio", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3265/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3263", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3263/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3263/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3263/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3263", "id": 1769434981, "node_id": "PR_kwDOCi0eqs5TpLsA", "number": 3263, "title": "Add separate Post check for is_valid_body_field", "user": {"login": "Neshura87", "id": 48772737, "node_id": "MDQ6VXNlcjQ4NzcyNzM3", "avatar_url": "https://avatars.githubusercontent.com/u/48772737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Neshura87", "html_url": "https://github.com/Neshura87", "followers_url": "https://api.github.com/users/Neshura87/followers", "following_url": "https://api.github.com/users/Neshura87/following{/other_user}", "gists_url": "https://api.github.com/users/Neshura87/gists{/gist_id}", "starred_url": "https://api.github.com/users/Neshura87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Neshura87/subscriptions", "organizations_url": "https://api.github.com/users/Neshura87/orgs", "repos_url": "https://api.github.com/users/Neshura87/repos", "events_url": "https://api.github.com/users/Neshura87/events{/privacy}", "received_events_url": "https://api.github.com/users/Neshura87/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-06-22T10:53:16Z", "updated_at": "2023-08-24T20:41:54Z", "closed_at": "2023-06-26T08:47:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3263", "html_url": "https://github.com/LemmyNet/lemmy/pull/3263", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3263.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3263.patch", "merged_at": "2023-06-26T08:47:02Z"}, "body": "Implements #3262", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3263/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3260", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3260/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3260/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3260/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3260", "id": 1769265909, "node_id": "PR_kwDOCi0eqs5TomgF", "number": 3260, "title": "Remove translation part from docs links", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-22T09:08:40Z", "updated_at": "2025-09-11T17:34:11Z", "closed_at": "2023-06-22T11:46:37Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3260", "html_url": "https://github.com/LemmyNet/lemmy/pull/3260", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3260.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3260.patch", "merged_at": "2023-06-22T11:46:37Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3260/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3258", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3258/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3258/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3258/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3258", "id": 1769120125, "node_id": "PR_kwDOCi0eqs5ToG1n", "number": 3258, "title": "Update apub library to 0.4.4", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-22T07:37:02Z", "updated_at": "2025-09-11T17:28:43Z", "closed_at": "2023-06-22T12:35:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3258", "html_url": "https://github.com/LemmyNet/lemmy/pull/3258", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3258.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3258.patch", "merged_at": "2023-06-22T12:35:13Z"}, "body": "https://github.com/LemmyNet/activitypub-federation-rust/releases/tag/0.4.4\r\n\r\nhttps://github.com/LemmyNet/activitypub-federation-rust/releases/tag/0.4.3", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3258/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3257", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3257/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3257/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3257/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3257", "id": 1769062161, "node_id": "PR_kwDOCi0eqs5Tn6J7", "number": 3257, "title": "Fix local communities marked as federated in the database by #3075 ", "user": {"login": "kartikynwa", "id": 7846060, "node_id": "MDQ6VXNlcjc4NDYwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7846060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kartikynwa", "html_url": "https://github.com/kartikynwa", "followers_url": "https://api.github.com/users/kartikynwa/followers", "following_url": "https://api.github.com/users/kartikynwa/following{/other_user}", "gists_url": "https://api.github.com/users/kartikynwa/gists{/gist_id}", "starred_url": "https://api.github.com/users/kartikynwa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kartikynwa/subscriptions", "organizations_url": "https://api.github.com/users/kartikynwa/orgs", "repos_url": "https://api.github.com/users/kartikynwa/repos", "events_url": "https://api.github.com/users/kartikynwa/events{/privacy}", "received_events_url": "https://api.github.com/users/kartikynwa/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-06-22T07:02:09Z", "updated_at": "2023-08-23T12:53:35Z", "closed_at": "2023-06-22T11:52:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3257", "html_url": "https://github.com/LemmyNet/lemmy/pull/3257", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3257.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3257.patch", "merged_at": "2023-06-22T11:52:31Z"}, "body": "Fixes  #3256", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3257/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3253", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3253/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3253/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3253/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3253", "id": 1768776895, "node_id": "PR_kwDOCi0eqs5Tm8vE", "number": 3253, "title": "Update federated posts to not cache sensitive images if not allow by local site", "user": {"login": "lemmus-org", "id": 137361180, "node_id": "U_kgDOCC_3HA", "avatar_url": "https://avatars.githubusercontent.com/u/137361180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lemmus-org", "html_url": "https://github.com/lemmus-org", "followers_url": "https://api.github.com/users/lemmus-org/followers", "following_url": "https://api.github.com/users/lemmus-org/following{/other_user}", "gists_url": "https://api.github.com/users/lemmus-org/gists{/gist_id}", "starred_url": "https://api.github.com/users/lemmus-org/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lemmus-org/subscriptions", "organizations_url": "https://api.github.com/users/lemmus-org/orgs", "repos_url": "https://api.github.com/users/lemmus-org/repos", "events_url": "https://api.github.com/users/lemmus-org/events{/privacy}", "received_events_url": "https://api.github.com/users/lemmus-org/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-06-22T01:36:39Z", "updated_at": "2023-06-30T23:06:06Z", "closed_at": "2023-06-30T10:42:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3253", "html_url": "https://github.com/LemmyNet/lemmy/pull/3253", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3253.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3253.patch", "merged_at": "2023-06-30T10:42:42Z"}, "body": "This should prevent federated images from getting locally stored on servers that don't allow sensitive content. Instead, it will rely on the provided image URL if available.\r\n\r\nLet me know if I'm overlooking anything obvious or there's a better way to approach.\r\n\r\nIssue: https://github.com/LemmyNet/lemmy/issues/3276\r\n", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3253/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3253/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3249", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3249/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3249/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3249/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3249", "id": 1767939225, "node_id": "PR_kwDOCi0eqs5TkN9B", "number": 3249, "title": "feat: re-added captcha checks", "user": {"login": "TKilFree", "id": 28776554, "node_id": "MDQ6VXNlcjI4Nzc2NTU0", "avatar_url": "https://avatars.githubusercontent.com/u/28776554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TKilFree", "html_url": "https://github.com/TKilFree", "followers_url": "https://api.github.com/users/TKilFree/followers", "following_url": "https://api.github.com/users/TKilFree/following{/other_user}", "gists_url": "https://api.github.com/users/TKilFree/gists{/gist_id}", "starred_url": "https://api.github.com/users/TKilFree/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TKilFree/subscriptions", "organizations_url": "https://api.github.com/users/TKilFree/orgs", "repos_url": "https://api.github.com/users/TKilFree/repos", "events_url": "https://api.github.com/users/TKilFree/events{/privacy}", "received_events_url": "https://api.github.com/users/TKilFree/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-06-21T16:05:01Z", "updated_at": "2023-06-23T11:24:13Z", "closed_at": "2023-06-23T09:47:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3249", "html_url": "https://github.com/LemmyNet/lemmy/pull/3249", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3249.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3249.patch", "merged_at": "2023-06-23T09:47:13Z"}, "body": "as discussed in issue: https://github.com/LemmyNet/lemmy/issues/3200\r\n\r\nbehaviour copied from 0.17.4, with new db table to store captchas", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3249/reactions", "total_count": 8, "+1": 8, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3249/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3248", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3248/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3248/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3248/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3248", "id": 1767937494, "node_id": "PR_kwDOCi0eqs5TkNmG", "number": 3248, "title": "docker-compose: Add init to UI", "user": {"login": "wont-work", "id": 106974765, "node_id": "U_kgDOBmBOLQ", "avatar_url": "https://avatars.githubusercontent.com/u/106974765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wont-work", "html_url": "https://github.com/wont-work", "followers_url": "https://api.github.com/users/wont-work/followers", "following_url": "https://api.github.com/users/wont-work/following{/other_user}", "gists_url": "https://api.github.com/users/wont-work/gists{/gist_id}", "starred_url": "https://api.github.com/users/wont-work/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wont-work/subscriptions", "organizations_url": "https://api.github.com/users/wont-work/orgs", "repos_url": "https://api.github.com/users/wont-work/repos", "events_url": "https://api.github.com/users/wont-work/events{/privacy}", "received_events_url": "https://api.github.com/users/wont-work/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-21T16:04:21Z", "updated_at": "2023-06-22T08:22:16Z", "closed_at": "2023-06-22T08:22:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3248", "html_url": "https://github.com/LemmyNet/lemmy/pull/3248", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3248.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3248.patch", "merged_at": "2023-06-22T08:22:16Z"}, "body": "Prevents waiting 10 seconds to shutdown", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3248/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3247", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3247/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3247/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3247/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3247", "id": 1767930701, "node_id": "PR_kwDOCi0eqs5TkMG6", "number": 3247, "title": "docs: Add Lemoa to lemmy projects section", "user": {"login": "Bnyro", "id": 82752168, "node_id": "MDQ6VXNlcjgyNzUyMTY4", "avatar_url": "https://avatars.githubusercontent.com/u/82752168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bnyro", "html_url": "https://github.com/Bnyro", "followers_url": "https://api.github.com/users/Bnyro/followers", "following_url": "https://api.github.com/users/Bnyro/following{/other_user}", "gists_url": "https://api.github.com/users/Bnyro/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bnyro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bnyro/subscriptions", "organizations_url": "https://api.github.com/users/Bnyro/orgs", "repos_url": "https://api.github.com/users/Bnyro/repos", "events_url": "https://api.github.com/users/Bnyro/events{/privacy}", "received_events_url": "https://api.github.com/users/Bnyro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-21T16:00:15Z", "updated_at": "2023-06-22T05:05:54Z", "closed_at": "2023-06-21T20:15:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3247", "html_url": "https://github.com/LemmyNet/lemmy/pull/3247", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3247.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3247.patch", "merged_at": "2023-06-21T20:15:11Z"}, "body": "[Lemoa](https://github.com/lemmy-gtk/lemoa) is a Gtk desktop client for Lemoa build for Linux. (Might also work on Windows but that's untested, but the primary target is Linux).\r\n", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3247/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3247/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3246", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3246/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3246/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3246/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3246", "id": 1767867575, "node_id": "PR_kwDOCi0eqs5Tj-qe", "number": 3246, "title": "Trying to fix version again.", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-21T15:27:08Z", "updated_at": "2025-09-11T17:33:05Z", "closed_at": "2023-06-21T19:46:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3246", "html_url": "https://github.com/LemmyNet/lemmy/pull/3246", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3246.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3246.patch", "merged_at": "2023-06-21T19:46:33Z"}, "body": "Okay I didn't need to switch to env vars, this was much easier.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3246/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3244", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3244/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3244/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3244/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3244", "id": 1767734596, "node_id": "PR_kwDOCi0eqs5Tjhjr", "number": 3244, "title": "Fix /admin/purge routes returning 404", "user": {"login": "kartikynwa", "id": 7846060, "node_id": "MDQ6VXNlcjc4NDYwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7846060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kartikynwa", "html_url": "https://github.com/kartikynwa", "followers_url": "https://api.github.com/users/kartikynwa/followers", "following_url": "https://api.github.com/users/kartikynwa/following{/other_user}", "gists_url": "https://api.github.com/users/kartikynwa/gists{/gist_id}", "starred_url": "https://api.github.com/users/kartikynwa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kartikynwa/subscriptions", "organizations_url": "https://api.github.com/users/kartikynwa/orgs", "repos_url": "https://api.github.com/users/kartikynwa/repos", "events_url": "https://api.github.com/users/kartikynwa/events{/privacy}", "received_events_url": "https://api.github.com/users/kartikynwa/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-21T14:25:44Z", "updated_at": "2023-06-22T01:39:43Z", "closed_at": "2023-06-21T20:32:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3244", "html_url": "https://github.com/LemmyNet/lemmy/pull/3244", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3244.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3244.patch", "merged_at": "2023-06-21T20:32:07Z"}, "body": "Endpoints like `/admin/purge/person` were returning a 404. Nesting `/purge` as a service inside the `/admin` service fixes the problem. I am guessing actix-web descends into the `/admin` block since it is placed first then returns 404 when it does not find a `/purge` route within it.\r\n\r\nCalling the endpoint after these changes:\r\n\r\n```\r\n \u276f ./purge_user.sh\r\n+ data='{  \"person_id\": 3,  \"auth\": \"authtoken\",  \"reason\": \"terrible poster\"}'\r\n+ curl -i -H 'Content-Type: application/json' -X POST -d '{  \"person_id\": 3,  \"auth\": \"authtoken\",  \"reason\": \"terrible poster\"}' http://localhost:8536/api/v3/admin/purge/person\r\nHTTP/1.1 200 OK\r\ncontent-length: 16\r\naccess-control-expose-headers: content-type\r\naccess-control-allow-credentials: true\r\nvary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers\r\ncontent-type: application/json\r\ndate: Wed, 21 Jun 2023 14:16:19 GMT\r\n\r\n{\"success\":true}%\r\n```", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3244/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3239", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3239/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3239/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3239/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3239", "id": 1766977891, "node_id": "PR_kwDOCi0eqs5Tg7VA", "number": 3239, "title": "Speedup cargo check in CI", "user": {"login": "Nutomic", "id": 1044450, "node_id": "MDQ6VXNlcjEwNDQ0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1044450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nutomic", "html_url": "https://github.com/Nutomic", "followers_url": "https://api.github.com/users/Nutomic/followers", "following_url": "https://api.github.com/users/Nutomic/following{/other_user}", "gists_url": "https://api.github.com/users/Nutomic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nutomic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nutomic/subscriptions", "organizations_url": "https://api.github.com/users/Nutomic/orgs", "repos_url": "https://api.github.com/users/Nutomic/repos", "events_url": "https://api.github.com/users/Nutomic/events{/privacy}", "received_events_url": "https://api.github.com/users/Nutomic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-21T07:51:28Z", "updated_at": "2025-09-11T17:34:30Z", "closed_at": "2023-06-21T11:57:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3239", "html_url": "https://github.com/LemmyNet/lemmy/pull/3239", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3239.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3239.patch", "merged_at": "2023-06-21T11:57:02Z"}, "body": "This cargo check step takes 15 minutes (half of the total CI time) and isnt really necessary. We originally added it because `cargo publish` would fail if an individual crate fails to compile with default features, but that shouldnt happen anymore using `--no-verify`. So we only need to check that api_common compiles with default features, as it is used by other projects like lemmybb or the stats crawler.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3239/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3237", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3237/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3237/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3237/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3237", "id": 1766528207, "node_id": "PR_kwDOCi0eqs5TfiD_", "number": 3237, "title": "Ensure site can only either be a private instance or federated when creating or editing site", "user": {"login": "scme0", "id": 97430840, "node_id": "U_kgDOBc6tOA", "avatar_url": "https://avatars.githubusercontent.com/u/97430840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scme0", "html_url": "https://github.com/scme0", "followers_url": "https://api.github.com/users/scme0/followers", "following_url": "https://api.github.com/users/scme0/following{/other_user}", "gists_url": "https://api.github.com/users/scme0/gists{/gist_id}", "starred_url": "https://api.github.com/users/scme0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scme0/subscriptions", "organizations_url": "https://api.github.com/users/scme0/orgs", "repos_url": "https://api.github.com/users/scme0/repos", "events_url": "https://api.github.com/users/scme0/events{/privacy}", "received_events_url": "https://api.github.com/users/scme0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-21T01:50:20Z", "updated_at": "2023-06-22T08:10:07Z", "closed_at": "2023-06-21T20:14:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3237", "html_url": "https://github.com/LemmyNet/lemmy/pull/3237", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3237.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3237.patch", "merged_at": "2023-06-21T20:14:13Z"}, "body": "On start-up Lemmy checks if both the `private_instance` and `federation_enabled` flags are set. If they are, it raises and error which stops start-up meaning administrators are unable to edit the settings which cause the error.\r\n\r\nAs a means of prevention, I've added some validation when editing or creating a site to ensure that both options are never selected at the same time.\r\n\r\nI thought about adjusting start-up behaviour to disregard one of the flags (like ignore federation if the private flag is set) but I thought it would be easier to just prevent the invalid state from being saved.\r\n\r\nThis could probably coincide with a change to the UI as well but I can do that after.\r\n\r\nFixes #3138", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3237/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3234", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3234/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3234/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3234/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3234", "id": 1766393780, "node_id": "PR_kwDOCi0eqs5TfNzk", "number": 3234, "title": "Fixing cross_post duplicates. Fixes #3233", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-21T00:39:04Z", "updated_at": "2025-09-11T17:33:03Z", "closed_at": "2023-06-21T08:56:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3234", "html_url": "https://github.com/LemmyNet/lemmy/pull/3234", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3234.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3234.patch", "merged_at": "2023-06-21T08:56:44Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3234/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3231", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3231/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3231/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3231/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3231", "id": 1766265527, "node_id": "PR_kwDOCi0eqs5Te1gb", "number": 3231, "title": "Adding current domain from settings to CORs.", "user": {"login": "dessalines", "id": 930215, "node_id": "MDQ6VXNlcjkzMDIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dessalines", "html_url": "https://github.com/dessalines", "followers_url": "https://api.github.com/users/dessalines/followers", "following_url": "https://api.github.com/users/dessalines/following{/other_user}", "gists_url": "https://api.github.com/users/dessalines/gists{/gist_id}", "starred_url": "https://api.github.com/users/dessalines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dessalines/subscriptions", "organizations_url": "https://api.github.com/users/dessalines/orgs", "repos_url": "https://api.github.com/users/dessalines/repos", "events_url": "https://api.github.com/users/dessalines/events{/privacy}", "received_events_url": "https://api.github.com/users/dessalines/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-06-20T22:02:40Z", "updated_at": "2025-09-11T17:33:03Z", "closed_at": "2023-06-21T00:29:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3231", "html_url": "https://github.com/LemmyNet/lemmy/pull/3231", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3231.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3231.patch", "merged_at": "2023-06-21T00:29:48Z"}, "body": "Turns out someone flipped the CORs logic, and also we needed to add the current domain.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3226", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3226/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3226/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3226/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3226", "id": 1765875262, "node_id": "PR_kwDOCi0eqs5TdoP0", "number": 3226, "title": "Feature add three six and nine months options backend", "user": {"login": "c-andy-candies", "id": 74613851, "node_id": "MDQ6VXNlcjc0NjEzODUx", "avatar_url": "https://avatars.githubusercontent.com/u/74613851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c-andy-candies", "html_url": "https://github.com/c-andy-candies", "followers_url": "https://api.github.com/users/c-andy-candies/followers", "following_url": "https://api.github.com/users/c-andy-candies/following{/other_user}", "gists_url": "https://api.github.com/users/c-andy-candies/gists{/gist_id}", "starred_url": "https://api.github.com/users/c-andy-candies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c-andy-candies/subscriptions", "organizations_url": "https://api.github.com/users/c-andy-candies/orgs", "repos_url": "https://api.github.com/users/c-andy-candies/repos", "events_url": "https://api.github.com/users/c-andy-candies/events{/privacy}", "received_events_url": "https://api.github.com/users/c-andy-candies/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-20T17:51:26Z", "updated_at": "2023-06-27T08:56:20Z", "closed_at": "2023-06-26T19:03:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3226", "html_url": "https://github.com/LemmyNet/lemmy/pull/3226", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3226.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3226.patch", "merged_at": "2023-06-26T19:03:35Z"}, "body": "I adapted the code from #3161 to add the sorting options for 3, 6 and 9 months which I think would be very cool to have, as someone pointed out here #3217 \r\n\r\nAs the original PR I also am currently doing PRs for frontend and translations.\r\n\r\nLemmyNet/lemmy-ui#1420\r\n\r\nLemmyNet/lemmy-translations#69\r\n\r\nThis is my first contribution so please forgive me if I did something wrong.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3226/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3226/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3223", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3223/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3223/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3223/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3223", "id": 1765782063, "node_id": "PR_kwDOCi0eqs5TdVCj", "number": 3223, "title": "logger: Use forwarded instead of peer IP address", "user": {"login": "Eskuero", "id": 1757242, "node_id": "MDQ6VXNlcjE3NTcyNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1757242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eskuero", "html_url": "https://github.com/Eskuero", "followers_url": "https://api.github.com/users/Eskuero/followers", "following_url": "https://api.github.com/users/Eskuero/following{/other_user}", "gists_url": "https://api.github.com/users/Eskuero/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eskuero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eskuero/subscriptions", "organizations_url": "https://api.github.com/users/Eskuero/orgs", "repos_url": "https://api.github.com/users/Eskuero/repos", "events_url": "https://api.github.com/users/Eskuero/events{/privacy}", "received_events_url": "https://api.github.com/users/Eskuero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-20T16:51:29Z", "updated_at": "2023-06-22T07:34:52Z", "closed_at": "2023-06-22T07:34:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3223", "html_url": "https://github.com/LemmyNet/lemmy/pull/3223", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3223.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3223.patch", "merged_at": "2023-06-22T07:34:51Z"}, "body": "According to [documentation](https://docs.rs/actix-web/latest/actix_web/middleware/struct.Logger.html) the default logger format is the next:\r\n\r\n> %a %r %s %b %{Referer}i %{User-Agent}i %T\r\n\r\nWhich basically stands for:\r\n\r\n> PEER-ADDRESS   REQUEST   STATUS-CODE   SIZE   REFERER   USER-AGENT   TIME-SPENT\r\n\r\nI kept the entire line the same for the exception of `%a`, which was replaced with `%{r}a` which intends instead to log real IP address (at least the one provided via Forwarded headers)\r\n\r\nWithout this change the logs always shows the last source of the request, which might be most of the time the address of the reverse proxy. Tested on a local instance for sample outputs:\r\n\r\nBefore (Showing docker address):\r\n\r\n> 2023-06-20T10:41:43.951634Z  INFO actix_web::middleware::logger: 192.168.32.4 GET /api/v3/site HTTP/1.1 200 11455 - node-fetch/1.0 (+https://github.com/bitinn/node-fetch) 0.013345\r\n\r\nAfter (Showing client address):\r\n\r\n> 2023-06-20T10:50:50.355095Z  INFO actix_web::middleware::logger: 192.168.1.7 GET /api/v3/site HTTP/1.1 200 11455 - node-fetch/1.0 (+https://github.com/bitinn/node-fetch) 0.015205", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3223/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3215", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3215/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3215/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3215/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3215", "id": 1765329716, "node_id": "PR_kwDOCi0eqs5Tb1WE", "number": 3215, "title": "Add test to check reading and listing posts return my_vote", "user": {"login": "JPMoresmau", "id": 122273, "node_id": "MDQ6VXNlcjEyMjI3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/122273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JPMoresmau", "html_url": "https://github.com/JPMoresmau", "followers_url": "https://api.github.com/users/JPMoresmau/followers", "following_url": "https://api.github.com/users/JPMoresmau/following{/other_user}", "gists_url": "https://api.github.com/users/JPMoresmau/gists{/gist_id}", "starred_url": "https://api.github.com/users/JPMoresmau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JPMoresmau/subscriptions", "organizations_url": "https://api.github.com/users/JPMoresmau/orgs", "repos_url": "https://api.github.com/users/JPMoresmau/repos", "events_url": "https://api.github.com/users/JPMoresmau/events{/privacy}", "received_events_url": "https://api.github.com/users/JPMoresmau/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-20T12:44:05Z", "updated_at": "2023-06-21T09:48:05Z", "closed_at": "2023-06-21T08:48:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3215", "html_url": "https://github.com/LemmyNet/lemmy/pull/3215", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3215.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3215.patch", "merged_at": "2023-06-21T08:48:39Z"}, "body": "To try to reproduce #3197 but it does work fine. But now the tests does verify the counts and my_vote are right when reading.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3215/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3208", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3208/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3208/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3208/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3208", "id": 1764724998, "node_id": "PR_kwDOCi0eqs5TZyk-", "number": 3208, "title": "after 30 days, replace comment.content and post.body with 'Deleted'", "user": {"login": "vijaykramesh", "id": 556288, "node_id": "MDQ6VXNlcjU1NjI4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/556288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vijaykramesh", "html_url": "https://github.com/vijaykramesh", "followers_url": "https://api.github.com/users/vijaykramesh/followers", "following_url": "https://api.github.com/users/vijaykramesh/following{/other_user}", "gists_url": "https://api.github.com/users/vijaykramesh/gists{/gist_id}", "starred_url": "https://api.github.com/users/vijaykramesh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vijaykramesh/subscriptions", "organizations_url": "https://api.github.com/users/vijaykramesh/orgs", "repos_url": "https://api.github.com/users/vijaykramesh/repos", "events_url": "https://api.github.com/users/vijaykramesh/events{/privacy}", "received_events_url": "https://api.github.com/users/vijaykramesh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-20T06:20:53Z", "updated_at": "2023-06-26T08:46:02Z", "closed_at": "2023-06-26T08:46:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3208", "html_url": "https://github.com/LemmyNet/lemmy/pull/3208", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3208.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3208.patch", "merged_at": "2023-06-26T08:46:01Z"}, "body": "fixes #2977\r\n\r\non server startup, and then with a daily scheduler thread - \r\n\r\ncheck for all posts & comments where deleted = true && updated < 30 days ago && body/content != \"Deleted\" and sets it to \"Deleted\"  \r\n\r\nthis way deletes for comments & posts get federated after 30 days by default. ", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3208/reactions", "total_count": 5, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 5, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3208/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3196", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3196/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3196/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3196/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3196", "id": 1763485012, "node_id": "PR_kwDOCi0eqs5TVqDC", "number": 3196, "title": "Do not decrement comment score twice when removing then deleting.", "user": {"login": "JPMoresmau", "id": 122273, "node_id": "MDQ6VXNlcjEyMjI3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/122273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JPMoresmau", "html_url": "https://github.com/JPMoresmau", "followers_url": "https://api.github.com/users/JPMoresmau/followers", "following_url": "https://api.github.com/users/JPMoresmau/following{/other_user}", "gists_url": "https://api.github.com/users/JPMoresmau/gists{/gist_id}", "starred_url": "https://api.github.com/users/JPMoresmau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JPMoresmau/subscriptions", "organizations_url": "https://api.github.com/users/JPMoresmau/orgs", "repos_url": "https://api.github.com/users/JPMoresmau/repos", "events_url": "https://api.github.com/users/JPMoresmau/events{/privacy}", "received_events_url": "https://api.github.com/users/JPMoresmau/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-19T12:54:31Z", "updated_at": "2023-07-09T17:57:20Z", "closed_at": "2023-07-03T18:13:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3196", "html_url": "https://github.com/LemmyNet/lemmy/pull/3196", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3196.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3196.patch", "merged_at": "2023-07-03T18:13:54Z"}, "body": "Fixes #3004\r\n\r\nI'm not sure about the impact of recalculating the counts and scores on big instances, but fixing the calculation but not the existing counts feels like only half the fix.", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3196/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3189", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3189/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3189/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3189/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3189", "id": 1762466930, "node_id": "PR_kwDOCi0eqs5TSNio", "number": 3189, "title": "Add TLS support for diesel-async database connections", "user": {"login": "sunaurus", "id": 5356547, "node_id": "MDQ6VXNlcjUzNTY1NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/5356547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunaurus", "html_url": "https://github.com/sunaurus", "followers_url": "https://api.github.com/users/sunaurus/followers", "following_url": "https://api.github.com/users/sunaurus/following{/other_user}", "gists_url": "https://api.github.com/users/sunaurus/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunaurus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunaurus/subscriptions", "organizations_url": "https://api.github.com/users/sunaurus/orgs", "repos_url": "https://api.github.com/users/sunaurus/repos", "events_url": "https://api.github.com/users/sunaurus/events{/privacy}", "received_events_url": "https://api.github.com/users/sunaurus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-18T21:22:02Z", "updated_at": "2023-06-30T23:23:55Z", "closed_at": "2023-06-26T08:25:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3189", "html_url": "https://github.com/LemmyNet/lemmy/pull/3189", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3189.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3189.patch", "merged_at": "2023-06-26T08:25:38Z"}, "body": "This PR adds a new `tls_enabled` configuration option in the `database` block of lemmy.hsjon. When configured to `true`, Lemmy will create SSL connections to the postgres database through diesel-async.\r\n\r\nBy default, the database certificate will be verified using the OS certificate store (thanks to [rustls-native-certs](https://github.com/rustls/rustls-native-certs)), but users can also provide a path to a CA certificate file directly using the `LEMMY_DATABASE_CERT_PATH` env variable if necessary.\r\n\r\nNote, by default `tls_enabled` will be `false`, so using SSL connections will be entirely opt-in.\r\n\r\nThis fixes #3007  ", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3189/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3189/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3175", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3175/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3175/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3175/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3175", "id": 1762092577, "node_id": "PR_kwDOCi0eqs5TRBrs", "number": 3175, "title": "Hot rank update batching + deadlock avoidance", "user": {"login": "sunaurus", "id": 5356547, "node_id": "MDQ6VXNlcjUzNTY1NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/5356547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunaurus", "html_url": "https://github.com/sunaurus", "followers_url": "https://api.github.com/users/sunaurus/followers", "following_url": "https://api.github.com/users/sunaurus/following{/other_user}", "gists_url": "https://api.github.com/users/sunaurus/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunaurus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunaurus/subscriptions", "organizations_url": "https://api.github.com/users/sunaurus/orgs", "repos_url": "https://api.github.com/users/sunaurus/repos", "events_url": "https://api.github.com/users/sunaurus/events{/privacy}", "received_events_url": "https://api.github.com/users/sunaurus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-18T03:26:03Z", "updated_at": "2023-06-27T08:13:52Z", "closed_at": "2023-06-27T08:13:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3175", "html_url": "https://github.com/LemmyNet/lemmy/pull/3175", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3175.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3175.patch", "merged_at": "2023-06-27T08:13:51Z"}, "body": "This PR contains the following changes:\r\n1. **Ensure that comment_aggregates table rows are always updated in the same order to help with deadlocks** \r\n2. **Reduce frequency of hot_rank updates from every 5 minutes to every 15 minutes**\r\n    * If this is controversial, then I will happily revert it, but my reasoning was that it would give the hot rank scheduled task much more breathing room in case the amount of comments or posts on Lemmy increases exponentially in the near future. At the same time, 15 minutes should still be regular enough to keep the sorting updates feel quite alive.\r\n3. **Instead of doing hot rank updates in one big UPDATE statement which can lock the whole table for 10+ seconds, the updates are now done in batches of 5000 rows**\r\n    * This is done with the help of a new `hot_rank_updated` column - we can use this to ensure that we process every row only once per each scheduled task run.\r\n    * I tried a few different batch sizes, including 100, 1000, 5000 and 10 000. On my instance, we have ~170k rows in `comment_aggregates` and ~28k rows in `post_aggregates` for the last week. Updating hot ranks for all of them with batches of 5000 takes <30 seconds total. For comparison, with batches of 100, it took about 4 minutes. (It could be that on different hardware, different batch sizes may work better)\r\n\r\n-----\r\n\r\nI have been running this code (cherry-picked onto 0.17.4) live on lemm.ee for the past hour (starting from 05:15 on the graph below), and I have not seen a single deadlock since deploying these changes:\r\n\r\n![image](https://github.com/LemmyNet/lemmy/assets/5356547/27b00650-1c5e-4aa5-9adc-4dcf9dbd2efc)\r\n\r\n\r\n----\r\nThis should fix #3076. \r\n\r\nThanks to [@phiresky](https://github.com/phiresky) for your input about all this [here](https://github.com/LemmyNet/lemmy/issues/3076#issuecomment-1594881225)", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3175/reactions", "total_count": 13, "+1": 13, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3158", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3158/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3158/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3158/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3158", "id": 1761670701, "node_id": "PR_kwDOCi0eqs5TPxN4", "number": 3158, "title": "Remove `actix_rt` & use standard tokio spawn", "user": {"login": "cetra3", "id": 6415435, "node_id": "MDQ6VXNlcjY0MTU0MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6415435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cetra3", "html_url": "https://github.com/cetra3", "followers_url": "https://api.github.com/users/cetra3/followers", "following_url": "https://api.github.com/users/cetra3/following{/other_user}", "gists_url": "https://api.github.com/users/cetra3/gists{/gist_id}", "starred_url": "https://api.github.com/users/cetra3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cetra3/subscriptions", "organizations_url": "https://api.github.com/users/cetra3/orgs", "repos_url": "https://api.github.com/users/cetra3/repos", "events_url": "https://api.github.com/users/cetra3/events{/privacy}", "received_events_url": "https://api.github.com/users/cetra3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-06-17T06:21:46Z", "updated_at": "2023-06-26T08:24:18Z", "closed_at": "2023-06-26T08:24:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3158", "html_url": "https://github.com/LemmyNet/lemmy/pull/3158", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3158.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3158.patch", "merged_at": "2023-06-26T08:24:12Z"}, "body": "Sister PR to https://github.com/LemmyNet/activitypub-federation-rust/pull/42.  Shows how lemmy can use the standard tokio work stealing queue.\r\n\r\nAt the moment it's a draft as it's dependent on the git branch rather than crates.io", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3158/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3154", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3154/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3154/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3154/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3154", "id": 1761162738, "node_id": "PR_kwDOCi0eqs5TOCac", "number": 3154, "title": "allow overriding smtp_password with the LEMMY_SMTP_PASSWORD env var", "user": {"login": "n3oney", "id": 30625554, "node_id": "MDQ6VXNlcjMwNjI1NTU0", "avatar_url": "https://avatars.githubusercontent.com/u/30625554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/n3oney", "html_url": "https://github.com/n3oney", "followers_url": "https://api.github.com/users/n3oney/followers", "following_url": "https://api.github.com/users/n3oney/following{/other_user}", "gists_url": "https://api.github.com/users/n3oney/gists{/gist_id}", "starred_url": "https://api.github.com/users/n3oney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/n3oney/subscriptions", "organizations_url": "https://api.github.com/users/n3oney/orgs", "repos_url": "https://api.github.com/users/n3oney/repos", "events_url": "https://api.github.com/users/n3oney/events{/privacy}", "received_events_url": "https://api.github.com/users/n3oney/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-06-16T19:04:32Z", "updated_at": "2023-06-21T17:36:43Z", "closed_at": "2023-06-21T17:36:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3154", "html_url": "https://github.com/LemmyNet/lemmy/pull/3154", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3154.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3154.patch", "merged_at": "2023-06-21T17:36:42Z"}, "body": "Closes #3151 ", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3154/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3146", "repository_url": "https://api.github.com/repos/LemmyNet/lemmy", "labels_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3146/labels{/name}", "comments_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3146/comments", "events_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3146/events", "html_url": "https://github.com/LemmyNet/lemmy/pull/3146", "id": 1760641288, "node_id": "PR_kwDOCi0eqs5TMRQP", "number": 3146, "title": "Fixes #2900 - Checks slur regex to see if it is too permissive", "user": {"login": "ninanator", "id": 17285719, "node_id": "MDQ6VXNlcjE3Mjg1NzE5", "avatar_url": "https://avatars.githubusercontent.com/u/17285719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ninanator", "html_url": "https://github.com/ninanator", "followers_url": "https://api.github.com/users/ninanator/followers", "following_url": "https://api.github.com/users/ninanator/following{/other_user}", "gists_url": "https://api.github.com/users/ninanator/gists{/gist_id}", "starred_url": "https://api.github.com/users/ninanator/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ninanator/subscriptions", "organizations_url": "https://api.github.com/users/ninanator/orgs", "repos_url": "https://api.github.com/users/ninanator/repos", "events_url": "https://api.github.com/users/ninanator/events{/privacy}", "received_events_url": "https://api.github.com/users/ninanator/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-06-16T13:27:23Z", "updated_at": "2023-06-27T11:03:31Z", "closed_at": "2023-06-27T11:03:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/LemmyNet/lemmy/pulls/3146", "html_url": "https://github.com/LemmyNet/lemmy/pull/3146", "diff_url": "https://github.com/LemmyNet/lemmy/pull/3146.diff", "patch_url": "https://github.com/LemmyNet/lemmy/pull/3146.patch", "merged_at": "2023-06-27T11:03:30Z"}, "body": "# WHAT\r\n* Adds validation to check if the slur regex is too permissive (i.e would match all text) \r\n  * Adds two new error keys depending on whether the slur regex:\r\n    * is too permissive (`permissive_regex`) \r\n    * couldn't compile (`invalid_regex`)\r\n* Adds a validation check for the site name, since I saw we were checking the site description length but not the name length\r\n  * Adds two new error keys:\r\n    * `site_name_length_overflow`\r\n    * `site_name_required`\r\n\r\n`lemmy-translations` PR here: https://github.com/LemmyNet/lemmy-translations/pull/65\r\n\r\n# PROOF\r\n## Updating site name\r\n### OLD - Attempting to clear site name\r\n![Old behavior for clearing site name; site now has name of empty string](https://github.com/LemmyNet/lemmy/assets/17285719/d80a90ff-5948-4fb5-8d4b-8cc861dc1fd3)\r\n\r\n(Your site now has a name of empty string, which seems not great).\r\n\r\n### NEW - Attempting to clear site name\r\n![New behavior for clearing site name; returns error](https://github.com/LemmyNet/lemmy/assets/17285719/fafccff0-1f9c-4bca-8d9e-a7730428fd17)\r\n\r\n## OLD - Site name is too long\r\n![Old behavior for site name too long; site name does not change](https://github.com/LemmyNet/lemmy/assets/17285719/8e8482b2-b7cc-4d46-a15d-180ac4330223)\r\n\r\n(Your change had no effect, which is confusing)\r\n\r\n### NEW - Site name is too long\r\n![New behavior for site name too long; returns error](https://github.com/LemmyNet/lemmy/assets/17285719/7253f7a9-795f-46f5-ab1e-053cf41cb453)\r\n\r\n## Updating the site with different regex patterns\r\nhttps://github.com/LemmyNet/lemmy/assets/17285719/7b78505e-c7db-4cfb-b8e6-f29881cb2b67\r\n", "reactions": {"url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/LemmyNet/lemmy/issues/3146/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]