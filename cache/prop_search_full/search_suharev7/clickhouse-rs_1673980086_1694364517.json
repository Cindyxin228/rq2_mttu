[{"url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/193", "repository_url": "https://api.github.com/repos/suharev7/clickhouse-rs", "labels_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/193/comments", "events_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/193/events", "html_url": "https://github.com/suharev7/clickhouse-rs/pull/193", "id": 1849241407, "node_id": "PR_kwDOCXrme85X2pt8", "number": 193, "title": "Support arbitrary query settings", "user": {"login": "azat", "id": 430798, "node_id": "MDQ6VXNlcjQzMDc5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/430798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azat", "html_url": "https://github.com/azat", "followers_url": "https://api.github.com/users/azat/followers", "following_url": "https://api.github.com/users/azat/following{/other_user}", "gists_url": "https://api.github.com/users/azat/gists{/gist_id}", "starred_url": "https://api.github.com/users/azat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azat/subscriptions", "organizations_url": "https://api.github.com/users/azat/orgs", "repos_url": "https://api.github.com/users/azat/repos", "events_url": "https://api.github.com/users/azat/events{/privacy}", "received_events_url": "https://api.github.com/users/azat/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-14T08:05:39Z", "updated_at": "2023-09-06T16:04:00Z", "closed_at": "2023-09-06T16:02:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/pulls/193", "html_url": "https://github.com/suharev7/clickhouse-rs/pull/193", "diff_url": "https://github.com/suharev7/clickhouse-rs/pull/193.diff", "patch_url": "https://github.com/suharev7/clickhouse-rs/pull/193.patch", "merged_at": "2023-09-06T16:02:13Z"}, "body": "This patch adds ability to add any ClickHouse query settings [1].\r\n\r\n  [1]: https://github.com/ClickHouse/ClickHouse/blob/master/src/Core/Settings.h\r\n\r\nThere are two ways to pass them:\r\n- via connection string (any unknown parameter now parsed as query\r\n  setting as important, i.e. if there are no such query setting, the\r\n  query will fail)\r\n- via with_setting() API (and this is preferable, since it allows to\r\n  pass important flag)\r\n\r\nAlso note, that ClickHouse supports multiple ways of encoding settings\r\nin the protocol:\r\n- \"native\" values (very old ClickHouse)\r\n- or simple strings\r\n\r\nBut to support \"native\" format you need to know the type of the setting,\r\nso you need to pass correct type to the with_setting API, though the\r\ntype will be used only for older ClickHouse versions.\r\n\r\nNote, that I've tested \"native\" format with ClickHouse v19, and it works\r\nOK.\r\n\r\nNote, that for this I have to implement missing bits in protocol up to `DBMS_MIN_REVISION_WITH_SETTINGS_SERIALIZED_AS_STRINGS` (see the first patch in the patch set).", "reactions": {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/193/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/191", "repository_url": "https://api.github.com/repos/suharev7/clickhouse-rs", "labels_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/191/comments", "events_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/191/events", "html_url": "https://github.com/suharev7/clickhouse-rs/pull/191", "id": 1749871706, "node_id": "PR_kwDOCXrme85Sn1w9", "number": 191, "title": "Remove depricated chrono items", "user": {"login": "chessnokov", "id": 1489752, "node_id": "MDQ6VXNlcjE0ODk3NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1489752?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chessnokov", "html_url": "https://github.com/chessnokov", "followers_url": "https://api.github.com/users/chessnokov/followers", "following_url": "https://api.github.com/users/chessnokov/following{/other_user}", "gists_url": "https://api.github.com/users/chessnokov/gists{/gist_id}", "starred_url": "https://api.github.com/users/chessnokov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chessnokov/subscriptions", "organizations_url": "https://api.github.com/users/chessnokov/orgs", "repos_url": "https://api.github.com/users/chessnokov/repos", "events_url": "https://api.github.com/users/chessnokov/events{/privacy}", "received_events_url": "https://api.github.com/users/chessnokov/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-09T13:09:18Z", "updated_at": "2023-09-06T09:08:54Z", "closed_at": "2023-09-06T09:08:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/pulls/191", "html_url": "https://github.com/suharev7/clickhouse-rs/pull/191", "diff_url": "https://github.com/suharev7/clickhouse-rs/pull/191.diff", "patch_url": "https://github.com/suharev7/clickhouse-rs/pull/191.patch", "merged_at": "2023-09-06T09:08:40Z"}, "body": "Update chrono crate and replace `Date<Tz>` to `NaiveDate`", "reactions": {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/191/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/190", "repository_url": "https://api.github.com/repos/suharev7/clickhouse-rs", "labels_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/190/comments", "events_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/190/events", "html_url": "https://github.com/suharev7/clickhouse-rs/pull/190", "id": 1685733381, "node_id": "PR_kwDOCXrme85PPO3g", "number": 190, "title": "Fix capacity for complex types (improves memory footprint)", "user": {"login": "azat", "id": 430798, "node_id": "MDQ6VXNlcjQzMDc5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/430798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azat", "html_url": "https://github.com/azat", "followers_url": "https://api.github.com/users/azat/followers", "following_url": "https://api.github.com/users/azat/following{/other_user}", "gists_url": "https://api.github.com/users/azat/gists{/gist_id}", "starred_url": "https://api.github.com/users/azat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azat/subscriptions", "organizations_url": "https://api.github.com/users/azat/orgs", "repos_url": "https://api.github.com/users/azat/repos", "events_url": "https://api.github.com/users/azat/events{/privacy}", "received_events_url": "https://api.github.com/users/azat/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-26T21:13:46Z", "updated_at": "2023-09-06T10:08:53Z", "closed_at": "2023-09-06T09:53:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/pulls/190", "html_url": "https://github.com/suharev7/clickhouse-rs/pull/190", "diff_url": "https://github.com/suharev7/clickhouse-rs/pull/190.diff", "patch_url": "https://github.com/suharev7/clickhouse-rs/pull/190.patch", "merged_at": "2023-09-06T09:53:06Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/190/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/184", "repository_url": "https://api.github.com/repos/suharev7/clickhouse-rs", "labels_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/184/comments", "events_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/184/events", "html_url": "https://github.com/suharev7/clickhouse-rs/pull/184", "id": 1526672855, "node_id": "PR_kwDOCXrme85HCJ5g", "number": 184, "title": "Add `Bool` SQL Type", "user": {"login": "cetra3", "id": 6415435, "node_id": "MDQ6VXNlcjY0MTU0MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6415435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cetra3", "html_url": "https://github.com/cetra3", "followers_url": "https://api.github.com/users/cetra3/followers", "following_url": "https://api.github.com/users/cetra3/following{/other_user}", "gists_url": "https://api.github.com/users/cetra3/gists{/gist_id}", "starred_url": "https://api.github.com/users/cetra3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cetra3/subscriptions", "organizations_url": "https://api.github.com/users/cetra3/orgs", "repos_url": "https://api.github.com/users/cetra3/repos", "events_url": "https://api.github.com/users/cetra3/events{/privacy}", "received_events_url": "https://api.github.com/users/cetra3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-10T02:48:54Z", "updated_at": "2023-09-09T12:53:10Z", "closed_at": "2023-09-09T12:53:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/pulls/184", "html_url": "https://github.com/suharev7/clickhouse-rs/pull/184", "diff_url": "https://github.com/suharev7/clickhouse-rs/pull/184.diff", "patch_url": "https://github.com/suharev7/clickhouse-rs/pull/184.patch", "merged_at": "2023-09-09T12:53:06Z"}, "body": "This adds the `Bool` type to the list of SQL Types.", "reactions": {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/184/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/184/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/175", "repository_url": "https://api.github.com/repos/suharev7/clickhouse-rs", "labels_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/175/comments", "events_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/175/events", "html_url": "https://github.com/suharev7/clickhouse-rs/pull/175", "id": 1277169675, "node_id": "PR_kwDOCXrme8459kkD", "number": 175, "title": "Update UUID to version 1.1", "user": {"login": "scrabsha", "id": 25402018, "node_id": "MDQ6VXNlcjI1NDAyMDE4", "avatar_url": "https://avatars.githubusercontent.com/u/25402018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scrabsha", "html_url": "https://github.com/scrabsha", "followers_url": "https://api.github.com/users/scrabsha/followers", "following_url": "https://api.github.com/users/scrabsha/following{/other_user}", "gists_url": "https://api.github.com/users/scrabsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/scrabsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scrabsha/subscriptions", "organizations_url": "https://api.github.com/users/scrabsha/orgs", "repos_url": "https://api.github.com/users/scrabsha/repos", "events_url": "https://api.github.com/users/scrabsha/events{/privacy}", "received_events_url": "https://api.github.com/users/scrabsha/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-20T16:39:42Z", "updated_at": "2023-09-06T09:01:18Z", "closed_at": "2023-09-06T09:01:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/pulls/175", "html_url": "https://github.com/suharev7/clickhouse-rs/pull/175", "diff_url": "https://github.com/suharev7/clickhouse-rs/pull/175.diff", "patch_url": "https://github.com/suharev7/clickhouse-rs/pull/175.patch", "merged_at": "2023-09-06T09:01:17Z"}, "body": "`clickhouse-rs` uses an outdated version of [the `uuid` crate](https://www.tremor.rs/docs/edge/reference/connectors/elastic). This PR updates it.", "reactions": {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/168", "repository_url": "https://api.github.com/repos/suharev7/clickhouse-rs", "labels_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/168/comments", "events_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/168/events", "html_url": "https://github.com/suharev7/clickhouse-rs/pull/168", "id": 1157677748, "node_id": "PR_kwDOCXrme84z2p_U", "number": 168, "title": "Detect TCP disconnects", "user": {"login": "dmitryvk", "id": 120884, "node_id": "MDQ6VXNlcjEyMDg4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/120884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmitryvk", "html_url": "https://github.com/dmitryvk", "followers_url": "https://api.github.com/users/dmitryvk/followers", "following_url": "https://api.github.com/users/dmitryvk/following{/other_user}", "gists_url": "https://api.github.com/users/dmitryvk/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmitryvk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmitryvk/subscriptions", "organizations_url": "https://api.github.com/users/dmitryvk/orgs", "repos_url": "https://api.github.com/users/dmitryvk/repos", "events_url": "https://api.github.com/users/dmitryvk/events{/privacy}", "received_events_url": "https://api.github.com/users/dmitryvk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-02T20:51:20Z", "updated_at": "2023-09-06T09:12:09Z", "closed_at": "2023-09-06T09:11:52Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/pulls/168", "html_url": "https://github.com/suharev7/clickhouse-rs/pull/168", "diff_url": "https://github.com/suharev7/clickhouse-rs/pull/168.diff", "patch_url": "https://github.com/suharev7/clickhouse-rs/pull/168.patch", "merged_at": "2023-09-06T09:11:52Z"}, "body": "In case of a TCP disconnect (i.e., server-side graceful TCP shutdown), query result stream should return error instead of just hanging indefinitely.\r\n\r\nBefore this change, it would hang due to `ClickhouseTransport::poll_next` returning `Pending` upon reaching EOF on socket stream.\r\n\r\nIn order to properly handle TCP disconnect:\r\n\r\n1) `ClickhouseTransport` should detect this condition and return `None` to signal that there are no more packets\r\n2) `BlockStream` should handle end of packets:\r\n\r\n   1) Return error from `Stream::next()`\r\n   2) Prevent reuse of connection in pool", "reactions": {"url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/suharev7/clickhouse-rs/issues/168/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]