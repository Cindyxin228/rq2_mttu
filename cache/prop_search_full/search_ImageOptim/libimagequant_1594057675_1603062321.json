[{"url": "https://api.github.com/repos/ImageOptim/libimagequant/issues/38", "repository_url": "https://api.github.com/repos/ImageOptim/libimagequant", "labels_url": "https://api.github.com/repos/ImageOptim/libimagequant/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/ImageOptim/libimagequant/issues/38/comments", "events_url": "https://api.github.com/repos/ImageOptim/libimagequant/issues/38/events", "html_url": "https://github.com/ImageOptim/libimagequant/pull/38", "id": 660480877, "node_id": "MDExOlB1bGxSZXF1ZXN0NDUyMjM0NDIy", "number": 38, "title": "initialize likely_colormap_index", "user": {"login": "mateoconlechuga", "id": 9890252, "node_id": "MDQ6VXNlcjk4OTAyNTI=", "avatar_url": "https://avatars.githubusercontent.com/u/9890252?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateoconlechuga", "html_url": "https://github.com/mateoconlechuga", "followers_url": "https://api.github.com/users/mateoconlechuga/followers", "following_url": "https://api.github.com/users/mateoconlechuga/following{/other_user}", "gists_url": "https://api.github.com/users/mateoconlechuga/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateoconlechuga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateoconlechuga/subscriptions", "organizations_url": "https://api.github.com/users/mateoconlechuga/orgs", "repos_url": "https://api.github.com/users/mateoconlechuga/repos", "events_url": "https://api.github.com/users/mateoconlechuga/events{/privacy}", "received_events_url": "https://api.github.com/users/mateoconlechuga/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-19T00:43:08Z", "updated_at": "2020-07-19T02:54:02Z", "closed_at": "2020-07-19T02:53:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ImageOptim/libimagequant/pulls/38", "html_url": "https://github.com/ImageOptim/libimagequant/pull/38", "diff_url": "https://github.com/ImageOptim/libimagequant/pull/38.diff", "patch_url": "https://github.com/ImageOptim/libimagequant/pull/38.patch", "merged_at": "2020-07-19T02:53:57Z"}, "body": "This is needed to avoid uninitialized usage later on, which is reported by valgrind as shown below.\r\nIt seemed like the best place to put it, but I would just like to make sure. Thanks!\r\n\r\n    ==11283== Conditional jump or move depends on uninitialised value(s)\r\n    ==11283==    at 0x13D99C: pngquant_quantize (libimagequant.c:2000)\r\n    ==11283==    by 0x1384B8: liq_histogram_quantize_internal (libimagequant.c:1018)\r\n    ==11283==    by 0x138334: liq_image_quantize (libimagequant.c:992)\r\n    ==11283==    by 0x138249: liq_quantize_image (libimagequant.c:970)\r\n    ==11283==    by 0x12679B: image_quantize (image.c:486)\r\n    ==11283==    by 0x126BA8: main (main.c:92)\r\n    ==11283== \r\n    ==11283== Use of uninitialised value of size 8\r\n    ==11283==    at 0x141A9B: nearest_search (nearest.c:174)\r\n    ==11283==    by 0x1355C6: kmeans_do_iteration (kmeans.c:85)\r\n    ==11283==    by 0x13DAAC: pngquant_quantize (libimagequant.c:2015)\r\n    ==11283==    by 0x1384B8: liq_histogram_quantize_internal (libimagequant.c:1018)\r\n    ==11283==    by 0x138334: liq_image_quantize (libimagequant.c:992)\r\n    ==11283==    by 0x138249: liq_quantize_image (libimagequant.c:970)\r\n    ==11283==    by 0x12679B: image_quantize (image.c:486)\r\n    ==11283==    by 0x126BA8: main (main.c:92)\r\n    ==11283== \r\n    ==11283== Use of uninitialised value of size 8\r\n    ==11283==    at 0x141D4D: nearest_search (nearest.c:175)\r\n    ==11283==    by 0x1355C6: kmeans_do_iteration (kmeans.c:85)\r\n    ==11283==    by 0x13DAAC: pngquant_quantize (libimagequant.c:2015)\r\n    ==11283==    by 0x1384B8: liq_histogram_quantize_internal (libimagequant.c:1018)\r\n    ==11283==    by 0x138334: liq_image_quantize (libimagequant.c:992)\r\n    ==11283==    by 0x138249: liq_quantize_image (libimagequant.c:970)\r\n    ==11283==    by 0x12679B: image_quantize (image.c:486)\r\n    ==11283==    by 0x126BA8: main (main.c:92)", "reactions": {"url": "https://api.github.com/repos/ImageOptim/libimagequant/issues/38/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ImageOptim/libimagequant/issues/38/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]