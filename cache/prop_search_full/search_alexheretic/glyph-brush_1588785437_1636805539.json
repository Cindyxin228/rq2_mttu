[{"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/141", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/141/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/141/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/141/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/141", "id": 952145225, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk2NDAzNjcy", "number": 141, "title": "Added additional documentation to the OpenGL example.", "user": {"login": "zedseven", "id": 25164338, "node_id": "MDQ6VXNlcjI1MTY0MzM4", "avatar_url": "https://avatars.githubusercontent.com/u/25164338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zedseven", "html_url": "https://github.com/zedseven", "followers_url": "https://api.github.com/users/zedseven/followers", "following_url": "https://api.github.com/users/zedseven/following{/other_user}", "gists_url": "https://api.github.com/users/zedseven/gists{/gist_id}", "starred_url": "https://api.github.com/users/zedseven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zedseven/subscriptions", "organizations_url": "https://api.github.com/users/zedseven/orgs", "repos_url": "https://api.github.com/users/zedseven/repos", "events_url": "https://api.github.com/users/zedseven/events{/privacy}", "received_events_url": "https://api.github.com/users/zedseven/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-24T20:43:40Z", "updated_at": "2021-07-24T22:23:38Z", "closed_at": "2021-07-24T22:23:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/141", "html_url": "https://github.com/alexheretic/glyph-brush/pull/141", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/141.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/141.patch", "merged_at": "2021-07-24T22:23:38Z"}, "body": "I've gotten the crate working now, but I burned a significant amount of time because I missed the use of `VertexAttribDivisor` in the example.\r\n\r\nI also found the example a little hard to follow as someone who's not super familiar with OpenGL and text processing in general, so the verbosity of a lot of the raw stuff made it hard to understand at first.\r\n\r\nThis PR isn't anything crazy, but it adds notes here and there to hopefully make it a little easier to understand and specifically marks the `VertexAttribDivisor` call as important. (the rest of the VAO initialization is more or less what I'm used to, so I missed the one unique line)\r\n\r\nThank you for all your work on this series of crates!", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/141/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/141/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/140", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/140/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/140/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/140", "id": 940775310, "node_id": "MDExOlB1bGxSZXF1ZXN0Njg2Nzk3NjM4", "number": 140, "title": "Keep trailing space at end of glyphs", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-07-09T13:38:26Z", "updated_at": "2021-07-09T13:42:31Z", "closed_at": "2021-07-09T13:42:31Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/140", "html_url": "https://github.com/alexheretic/glyph-brush/pull/140", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/140.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/140.patch", "merged_at": "2021-07-09T13:42:30Z"}, "body": "In addition to #131 simulate a hard-break at the end of all glyph sections so that behaves the same way with trailing space.", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/140/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/136", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/136/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/136/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/136", "id": 896838231, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ4OTAzNTg5", "number": 136, "title": "Add & improve GlyphBrush generics docs", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-20T13:29:50Z", "updated_at": "2021-05-20T18:47:50Z", "closed_at": "2021-05-20T18:47:50Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/136", "html_url": "https://github.com/alexheretic/glyph-brush/pull/136", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/136.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/136.patch", "merged_at": "2021-05-20T18:47:50Z"}, "body": "Related to #135 ", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/136/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/131", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/131/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/131/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/131", "id": 811404486, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc1OTM4MDk2", "number": 131, "title": "Keep word trailing space width, if the word ends in a hard break", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-18T19:44:54Z", "updated_at": "2021-07-03T06:57:59Z", "closed_at": "2021-07-03T06:57:58Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/131", "html_url": "https://github.com/alexheretic/glyph-brush/pull/131", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/131.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/131.patch", "merged_at": "2021-07-03T06:57:58Z"}, "body": "One possible improvement from the #130 discussion. I'm not 100% that this is correct though...\r\n\r\n* [x] Update readme", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/131/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/127", "id": 787338902, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU2MDcwODI0", "number": 127, "title": "Optimise lower workloads by not multithreading", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-16T03:41:41Z", "updated_at": "2021-01-16T23:41:00Z", "closed_at": "2021-01-16T23:40:59Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/127", "html_url": "https://github.com/alexheretic/glyph-brush/pull/127", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/127.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/127.patch", "merged_at": "2021-01-16T23:40:58Z"}, "body": "This pr aims to eliminate cases where default (multithread=true) performs worse than setting multithread=off. Instead we'll only use multithread code paths if it looks like they'll be significant gains.\r\n\r\n* Remove multithreaded outlining completely.\r\n* Calculate a draw work magnitude and only use mt if it's high enough to look worth it.\r\n* Add `st_vs_mt` benchmark code.\r\n\r\n# Investigation\r\n`st_vs_mt` benchmark runs through a set of scenarios of 16-1500 unicode glyphs at scales 12px-150px.\r\n\r\nThere are two areas that can use multithreading, outlining & rasterizing. An early testing result of just mt-outlining against singlethreaded (st) showed the mt outlining isn't providing much value.\r\n<details><p>\r\n\r\n```\r\ngroup                     mt-outline-only       st\r\n-----                     ---------------       --\r\nbench_1500_chars_150px    1.02     45.5\u00b10.17ms  1.00     44.5\u00b10.23ms\r\nbench_1500_chars_75px     1.00     17.1\u00b10.17ms  1.00     17.2\u00b10.04ms\r\nbench_1500_chars_30px     1.00      5.8\u00b10.03ms  1.08      6.2\u00b10.04ms\r\nbench_1500_chars_12px     1.00      2.6\u00b10.02ms  1.15      2.9\u00b10.02ms\r\nbench_300_chars_150px     1.03     14.4\u00b10.14ms  1.00     14.0\u00b10.18ms\r\nbench_300_chars_75px      1.04      4.6\u00b10.05ms  1.00      4.5\u00b10.01ms\r\nbench_300_chars_30px      1.00  1494.0\u00b127.63\u00b5s  1.00  1497.0\u00b116.47\u00b5s\r\nbench_300_chars_12px      1.00   727.8\u00b111.16\u00b5s  1.05    766.0\u00b15.30\u00b5s\r\nbench_50_chars_150px      1.06      2.7\u00b10.03ms  1.00      2.5\u00b10.00ms\r\nbench_50_chars_75px       1.15   903.1\u00b120.58\u00b5s  1.00    788.0\u00b16.46\u00b5s\r\nbench_50_chars_30px       1.27    321.0\u00b16.58\u00b5s  1.00    252.2\u00b11.05\u00b5s\r\nbench_50_chars_12px       1.42    182.5\u00b12.24\u00b5s  1.00    128.9\u00b10.74\u00b5s\r\nbench_16_chars_150px      1.16   895.2\u00b119.25\u00b5s  1.00    768.6\u00b17.30\u00b5s\r\nbench_16_chars_75px       1.35    322.9\u00b14.27\u00b5s  1.00    239.6\u00b10.92\u00b5s\r\nbench_16_chars_30px       1.82    141.0\u00b12.72\u00b5s  1.00     77.7\u00b10.31\u00b5s\r\nbench_16_chars_12px       2.17     88.6\u00b12.55\u00b5s  1.00     40.9\u00b10.17\u00b5s\r\n```\r\n\r\n</p></details>\r\n\r\nHowever, mt drawing _is_ worth it, at least in some cases.\r\n```\r\ngroup                     mt                    st\r\n-----                     --                    --\r\nbench_1500_chars_150px    1.00     17.0\u00b10.22ms  2.62     44.5\u00b10.23ms\r\nbench_1500_chars_75px     1.00      6.6\u00b10.07ms  2.60     17.2\u00b10.04ms\r\nbench_1500_chars_30px     1.00      3.2\u00b10.09ms  1.96      6.2\u00b10.04ms\r\nbench_1500_chars_12px     1.00      2.3\u00b10.07ms  1.26      2.9\u00b10.02ms\r\nbench_300_chars_150px     1.00      5.2\u00b10.15ms  2.67     14.0\u00b10.18ms\r\nbench_300_chars_75px      1.00  1824.5\u00b123.38\u00b5s  2.44      4.5\u00b10.01ms\r\nbench_300_chars_30px      1.00   881.4\u00b148.28\u00b5s  1.70  1497.0\u00b116.47\u00b5s\r\nbench_300_chars_12px      1.00   731.5\u00b168.70\u00b5s  1.05    766.0\u00b15.30\u00b5s\r\nbench_50_chars_150px      1.00  1105.0\u00b140.98\u00b5s  2.30      2.5\u00b10.00ms\r\nbench_50_chars_75px       1.00   455.9\u00b132.55\u00b5s  1.73    788.0\u00b16.46\u00b5s\r\nbench_50_chars_30px       1.00   250.3\u00b129.70\u00b5s  1.01    252.2\u00b11.05\u00b5s\r\nbench_50_chars_12px       1.67   214.6\u00b132.25\u00b5s  1.00    128.9\u00b10.74\u00b5s\r\nbench_16_chars_150px      1.00   458.8\u00b137.79\u00b5s  1.68    768.6\u00b17.30\u00b5s\r\nbench_16_chars_75px       1.00   226.3\u00b148.51\u00b5s  1.06    239.6\u00b10.92\u00b5s\r\nbench_16_chars_30px       1.80   139.9\u00b130.99\u00b5s  1.00     77.7\u00b10.31\u00b5s\r\nbench_16_chars_12px       2.90   118.5\u00b119.80\u00b5s  1.00     40.9\u00b10.17\u00b5s\r\n```\r\n\r\nmt code can be faster. But it can also be slower for small workloads. It's also worth noting that when the performance is the similar we can assume the single thread version will be more power efficient.\r\n\r\nUsing the tallest glyph height & multiplying by the number of glyphs I calculated a \"work magnitude\". This can be used to target cases where we expect a decent speedup. I plucked out min magnitude `8742`:\r\n```\r\ngroup                     mt(>=mag:8742)        st\r\n-----                     --------------        --\r\nbench_1500_chars_150px    1.00     17.1\u00b10.26ms  2.61     44.5\u00b10.23ms\r\nbench_1500_chars_75px     1.00      6.7\u00b10.17ms  2.58     17.2\u00b10.04ms\r\nbench_1500_chars_30px     1.00      3.2\u00b10.08ms  1.94      6.2\u00b10.04ms\r\nbench_1500_chars_12px     1.00      2.4\u00b10.09ms  1.24      2.9\u00b10.02ms\r\nbench_300_chars_150px     1.00      5.2\u00b10.07ms  2.70     14.0\u00b10.18ms\r\nbench_300_chars_75px      1.00  1850.1\u00b143.15\u00b5s  2.41      4.5\u00b10.01ms\r\nbench_300_chars_30px      1.00   891.4\u00b160.93\u00b5s  1.68  1497.0\u00b116.47\u00b5s\r\nbench_300_chars_12px      1.01   772.7\u00b117.17\u00b5s  1.00    766.0\u00b15.30\u00b5s\r\nbench_50_chars_150px      1.01      2.6\u00b10.01ms  1.00      2.5\u00b10.00ms\r\nbench_50_chars_75px       1.02   801.7\u00b121.66\u00b5s  1.00    788.0\u00b16.46\u00b5s\r\nbench_50_chars_30px       1.00    248.0\u00b10.92\u00b5s  1.02    252.2\u00b11.05\u00b5s\r\nbench_50_chars_12px       1.00    128.7\u00b10.63\u00b5s  1.00    128.9\u00b10.74\u00b5s\r\nbench_16_chars_150px      1.00    765.9\u00b16.20\u00b5s  1.00    768.6\u00b17.30\u00b5s\r\nbench_16_chars_75px       1.01    241.2\u00b10.78\u00b5s  1.00    239.6\u00b10.92\u00b5s\r\nbench_16_chars_30px       1.00     77.3\u00b10.38\u00b5s  1.00     77.7\u00b10.31\u00b5s\r\nbench_16_chars_12px       1.00     38.6\u00b10.20\u00b5s  1.06     40.9\u00b10.17\u00b5s\r\n```\r\n\r\nNow only `bench_300_chars_30px` and larger magnitude work is using multithreading. While not an exact science the work estimate is good enough to ensure mt benches are never slower than st. So this should resolve #125.", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/126", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/126/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/126/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/126", "id": 787147901, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU1OTA5MTgy", "number": 126, "title": "Add GlyphBrushBuilder::multithread config", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-15T19:39:31Z", "updated_at": "2021-01-15T19:47:39Z", "closed_at": "2021-01-15T19:47:38Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/126", "html_url": "https://github.com/alexheretic/glyph-brush/pull/126", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/126.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/126.patch", "merged_at": "2021-01-15T19:47:38Z"}, "body": "Add `GlyphBrushBuilder::multithread` to allow setting the (default on) draw-cache multithreading.\r\n\r\nRelated to #125 ", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/126/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/121", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/121/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/121/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/121", "id": 704888321, "node_id": "MDExOlB1bGxSZXF1ZXN0NDg5NzMxMjQz", "number": 121, "title": "Draw-cache: Optimise empty cache-queued into single texture upload", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-19T14:04:20Z", "updated_at": "2020-09-26T18:26:33Z", "closed_at": "2020-09-26T10:49:30Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/121", "html_url": "https://github.com/alexheretic/glyph-brush/pull/121", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/121.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/121.patch", "merged_at": "2020-09-26T10:49:30Z"}, "body": "This PR adds an optimisation targeting whenever the cache is empty & multiple new glyphs have been drawn in a call to `cache_queued`, e.g. the initial population of the cache & when it must be re-orded to fit all glyphs after a change.\r\n\r\nIn this case total in-use region of the texture will be saved in memory during the `cache_queued(self, fonts, uploader)` call and provided with a single callback to `uploader`. This minimises uploads to the gpu in common cases which should be faster.\r\n\r\n`cache_queued` calls to a non-empty cache are not effected.\r\n\r\n### Benchmarks\r\nThe draw-cache v2 benchmarks simulate gpu uploads by busy waiting for 4us, this allows us to benchmark this improvement in a artificial way.\r\n\r\nNon-populating benchmarks were not effected, as expected. Populating & reordering benchmarks were:\r\n* `multi_font_population_v2` **-63.5%**\r\n* `resizing_v2` **-59.1%**\r\n* `moving_text_thrashing_v2` **-58.3%**\r\n\r\nRelated to discussion in #120 ", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/121/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/116", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/116/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/116/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/116", "id": 651627275, "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ0ODQ2NTUw", "number": 116, "title": "Do not use word-wrapping in single-line mode", "user": {"login": "dhardy", "id": 134893, "node_id": "MDQ6VXNlcjEzNDg5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/134893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhardy", "html_url": "https://github.com/dhardy", "followers_url": "https://api.github.com/users/dhardy/followers", "following_url": "https://api.github.com/users/dhardy/following{/other_user}", "gists_url": "https://api.github.com/users/dhardy/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhardy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhardy/subscriptions", "organizations_url": "https://api.github.com/users/dhardy/orgs", "repos_url": "https://api.github.com/users/dhardy/repos", "events_url": "https://api.github.com/users/dhardy/events{/privacy}", "received_events_url": "https://api.github.com/users/dhardy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-06T15:25:54Z", "updated_at": "2020-07-08T08:09:01Z", "closed_at": "2020-07-07T09:27:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/116", "html_url": "https://github.com/alexheretic/glyph-brush/pull/116", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/116.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/116.patch", "merged_at": "2020-07-07T09:27:10Z"}, "body": "Currently, when word-wrapping is disabled, glyph-brush-layout will omit any word after the first which can only partially appear on the line (as is usually the case with line-wrapping). This PR changes that to include the next full word. It could maybe be better (omit letters which are fully outside the bounds, perhaps a nicer way of drawing cut-off text).\r\n\r\nRationale: when writing text into a single-line edit box, normally one does not expect a word to be hidden because it doesn't fully fit on the line. This doesn't fix everything (e.g. horizontal scrolling within the edit box), but is an improvement. (One can test with [KAS 0.4](https://github.com/kas-gui/kas/tree/0.4.1) using the `gallery` example.)\r\n\r\nTwo tests fail; I wasn't sure how best to fix these:\r\n```\r\n---- builtin::layout_test::single_line_limited_horizontal_room stdout ----\r\nthread 'builtin::layout_test::single_line_limited_horizontal_room' panicked at 'assertion failed: `(left == right)`\r\n  left: `\"hell\"`,\r\n right: `\"hello\"`', layout/src/builtin.rs:664:9\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\n\r\n---- builtin::layout_test::wrap_word_left stdout ----\r\nthread 'builtin::layout_test::wrap_word_left' panicked at 'assertion failed: `(left == right)`\r\n  left: `\"hello \"`,\r\n right: `\"hello what\\'s _happening_\u2610\"`', layout/src/builtin.rs:615:9\r\n```", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/116/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/114", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/114/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/114/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/114", "id": 623383435, "node_id": "MDExOlB1bGxSZXF1ZXN0NDIyMDY1NTk2", "number": 114, "title": "Rename gpu_cache_* config to draw_cache_*", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-22T17:46:27Z", "updated_at": "2020-05-22T19:17:36Z", "closed_at": "2020-05-22T19:17:35Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/114", "html_url": "https://github.com/alexheretic/glyph-brush/pull/114", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/114.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/114.patch", "merged_at": "2020-05-22T19:17:35Z"}, "body": "* Rename `gpu_cache_*` -> `draw_cache_*`.\r\n* Rename `cache_glyph_drawing` -> `cache_redraws`.", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/114/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/113", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/113/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/113/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/113", "id": 623374661, "node_id": "MDExOlB1bGxSZXF1ZXN0NDIyMDU4NjI4", "number": 113, "title": "Add GlyphBrush::is_draw_cached", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-22T17:27:44Z", "updated_at": "2020-05-23T15:08:52Z", "closed_at": "2020-05-23T15:08:51Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/113", "html_url": "https://github.com/alexheretic/glyph-brush/pull/113", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/113.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/113.patch", "merged_at": "2020-05-23T15:08:50Z"}, "body": "Resolves #112", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/113/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/103", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/103/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/103/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/103", "id": 614852349, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE1MzIzMTk5", "number": 103, "title": "Use github actions CI", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-08T16:39:06Z", "updated_at": "2020-05-08T16:53:56Z", "closed_at": "2020-05-08T16:53:55Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/103", "html_url": "https://github.com/alexheretic/glyph-brush/pull/103", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/103.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/103.patch", "merged_at": "2020-05-08T16:53:55Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/103/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/102", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/102/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/102/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/102", "id": 614836549, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE1MzEwMjQx", "number": 102, "title": "Rework to use ab_glyph instead of rusttype", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-08T16:09:07Z", "updated_at": "2020-05-11T18:32:38Z", "closed_at": "2020-05-11T18:32:37Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/102", "html_url": "https://github.com/alexheretic/glyph-brush/pull/102", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/102.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/102.patch", "merged_at": "2020-05-11T18:32:36Z"}, "body": "* Use **ab_glyph** instead of **rusttype** which is faster and brings support for .otf fonts to glyph-brush.\r\n* Create crate **glyph_brush_draw_cache** to replace rusttype's gpu_cache module.\r\n* Rework crate to remove any reliance on glyph outlines, ie pixel bounds is gone.\r\n* Layout no longer supports color, but provides section & byte index for each glyph meaning associated data of all kinds can be supported (instead of just color).\r\n\r\nResolves #100\r\nCloses #101 \r\n\r\n## Benches\r\n```\r\ngroup                                                   new                       master              \r\n-----                                                   ---                       ------              \r\ncontinually_modify_alpha_of_1_of_3                      1.00   357.7\u00b124.61\u00b5s      1.05   376.7\u00b115.00\u00b5s\r\ncontinually_modify_bounds_of_1_of_3                     1.00   635.4\u00b135.96\u00b5s      1.11   704.5\u00b140.53\u00b5s\r\ncontinually_modify_end_text_of_1_of_3                   1.00   634.7\u00b115.87\u00b5s      1.11    703.4\u00b16.54\u00b5s\r\ncontinually_modify_middle_text_of_1_of_3                1.00   645.4\u00b115.22\u00b5s      1.11   714.6\u00b118.68\u00b5s\r\ncontinually_modify_position_of_1_of_3                   1.00   349.0\u00b127.97\u00b5s      1.10   383.6\u00b114.12\u00b5s\r\ncontinually_modify_start_text_of_1_of_3                 1.00   637.8\u00b113.74\u00b5s      1.10    703.7\u00b13.05\u00b5s\r\nno_cache_render_100_small_sections_fully                1.00      3.0\u00b10.10ms      1.36      4.1\u00b10.01ms\r\nno_cache_render_1_large_section_partially               1.00    561.4\u00b13.38\u00b5s      1.07    603.5\u00b18.10\u00b5s\r\nno_cache_render_3_medium_sections_fully                 1.00  1271.9\u00b112.63\u00b5s      1.31  1664.9\u00b121.95\u00b5s\r\nno_cache_render_v_bottom_1_large_section_partially      1.00      4.8\u00b10.02ms      1.60      7.7\u00b10.09ms\r\nno_cache_render_v_center_1_large_section_partially      1.00      4.7\u00b10.03ms      1.62      7.7\u00b10.11ms\r\nrender_100_small_sections_fully                         1.00     24.5\u00b10.75\u00b5s      1.15     28.2\u00b11.02\u00b5s\r\nrender_3_medium_sections_fully                          1.00  1085.0\u00b114.22ns      1.10  1191.9\u00b112.46ns\r\n```", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/102/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/102/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]