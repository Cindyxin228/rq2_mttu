[{"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/23", "repository_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep", "labels_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/23/comments", "events_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/23/events", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/23", "id": 1555610158, "node_id": "PR_kwDOGNLCjc5IdYBK", "number": 23, "title": "Add to paired end test data", "user": {"login": "slambert-git", "id": 6855717, "node_id": "MDQ6VXNlcjY4NTU3MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/6855717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slambert-git", "html_url": "https://github.com/slambert-git", "followers_url": "https://api.github.com/users/slambert-git/followers", "following_url": "https://api.github.com/users/slambert-git/following{/other_user}", "gists_url": "https://api.github.com/users/slambert-git/gists{/gist_id}", "starred_url": "https://api.github.com/users/slambert-git/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slambert-git/subscriptions", "organizations_url": "https://api.github.com/users/slambert-git/orgs", "repos_url": "https://api.github.com/users/slambert-git/repos", "events_url": "https://api.github.com/users/slambert-git/events{/privacy}", "received_events_url": "https://api.github.com/users/slambert-git/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-24T20:16:34Z", "updated_at": "2023-01-24T22:13:04Z", "closed_at": "2023-01-24T22:13:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/pulls/23", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/23", "diff_url": "https://github.com/fulcrumgenomics/fqgrep/pull/23.diff", "patch_url": "https://github.com/fulcrumgenomics/fqgrep/pull/23.patch", "merged_at": "2023-01-24T22:13:04Z"}, "body": "This aims to more reliably catch out of order output, particularly for paired-end reads. When this test data is used _without_ the `issue19`  fix for out of order output, test cases 06 and 09 will almost always both fail, and I saw at least one of them fail in all ~20 retries I attempted. All tests pass with this test data + `issue19` changes. ", "reactions": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/23/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/23/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/22", "repository_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep", "labels_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/22/comments", "events_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/22/events", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/22", "id": 1551595716, "node_id": "PR_kwDOGNLCjc5IQJt9", "number": 22, "title": "fix out of order output in process_paired_reads ", "user": {"login": "slambert-git", "id": 6855717, "node_id": "MDQ6VXNlcjY4NTU3MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/6855717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slambert-git", "html_url": "https://github.com/slambert-git", "followers_url": "https://api.github.com/users/slambert-git/followers", "following_url": "https://api.github.com/users/slambert-git/following{/other_user}", "gists_url": "https://api.github.com/users/slambert-git/gists{/gist_id}", "starred_url": "https://api.github.com/users/slambert-git/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slambert-git/subscriptions", "organizations_url": "https://api.github.com/users/slambert-git/orgs", "repos_url": "https://api.github.com/users/slambert-git/repos", "events_url": "https://api.github.com/users/slambert-git/events{/privacy}", "received_events_url": "https://api.github.com/users/slambert-git/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-20T23:53:06Z", "updated_at": "2023-01-24T08:23:21Z", "closed_at": "2023-01-24T08:23:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/pulls/22", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/22", "diff_url": "https://github.com/fulcrumgenomics/fqgrep/pull/22.diff", "patch_url": "https://github.com/fulcrumgenomics/fqgrep/pull/22.patch", "merged_at": "2023-01-24T08:23:21Z"}, "body": "Intermittent failures in test cases 06 and 09 of test_reads_when_count_false were caused by paired-end, interleaved records written out of order.\r\n\r\nMaintain the order of records by calling .collect() on the ParIter before writing. Tests pass consistently now.\r\n\r\nDisclaimer: I am very new to Rust. I apologize if this is unhelpful. \r\n", "reactions": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/22/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/22/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/18", "repository_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep", "labels_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/18/comments", "events_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/18/events", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/18", "id": 1462624124, "node_id": "PR_kwDOGNLCjc5Dm9AJ", "number": 18, "title": "Tests for main.rs, mod.rs, and matcher.rs", "user": {"login": "sam-white04", "id": 114943692, "node_id": "U_kgDOBtnmzA", "avatar_url": "https://avatars.githubusercontent.com/u/114943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sam-white04", "html_url": "https://github.com/sam-white04", "followers_url": "https://api.github.com/users/sam-white04/followers", "following_url": "https://api.github.com/users/sam-white04/following{/other_user}", "gists_url": "https://api.github.com/users/sam-white04/gists{/gist_id}", "starred_url": "https://api.github.com/users/sam-white04/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sam-white04/subscriptions", "organizations_url": "https://api.github.com/users/sam-white04/orgs", "repos_url": "https://api.github.com/users/sam-white04/repos", "events_url": "https://api.github.com/users/sam-white04/events{/privacy}", "received_events_url": "https://api.github.com/users/sam-white04/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-24T01:21:04Z", "updated_at": "2022-12-14T16:18:12Z", "closed_at": "2022-12-14T16:17:54Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/pulls/18", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/18", "diff_url": "https://github.com/fulcrumgenomics/fqgrep/pull/18.diff", "patch_url": "https://github.com/fulcrumgenomics/fqgrep/pull/18.patch", "merged_at": "2022-12-14T16:17:54Z"}, "body": "- Updated tests in main.rs and added tests to mod.rs and matcher.rs\r\n- Updated main.rs/main() and main.rs/fqgrep() to allow for ExitCode testing\r\n- See google sheet for description of each test function", "reactions": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/18/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/18/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/16", "repository_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep", "labels_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/16/comments", "events_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/16/events", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/16", "id": 1424271695, "node_id": "PR_kwDOGNLCjc5BmDw2", "number": 16, "title": "Tests fqgrep", "user": {"login": "sam-white04", "id": 114943692, "node_id": "U_kgDOBtnmzA", "avatar_url": "https://avatars.githubusercontent.com/u/114943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sam-white04", "html_url": "https://github.com/sam-white04", "followers_url": "https://api.github.com/users/sam-white04/followers", "following_url": "https://api.github.com/users/sam-white04/following{/other_user}", "gists_url": "https://api.github.com/users/sam-white04/gists{/gist_id}", "starred_url": "https://api.github.com/users/sam-white04/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sam-white04/subscriptions", "organizations_url": "https://api.github.com/users/sam-white04/orgs", "repos_url": "https://api.github.com/users/sam-white04/repos", "events_url": "https://api.github.com/users/sam-white04/events{/privacy}", "received_events_url": "https://api.github.com/users/sam-white04/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-26T15:38:31Z", "updated_at": "2022-12-14T16:34:14Z", "closed_at": "2022-12-14T16:34:09Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/pulls/16", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/16", "diff_url": "https://github.com/fulcrumgenomics/fqgrep/pull/16.diff", "patch_url": "https://github.com/fulcrumgenomics/fqgrep/pull/16.patch", "merged_at": "2022-12-14T16:34:09Z"}, "body": "Added test mod to main.rs and added hidden option --output:\r\n\r\n- --output hidden option implemented in StructOpts and called in testing: takes Option<PathBuf>\r\n- Added lines (80 - 98) to create 'maybe_writer' as None if --count, to a file if --output, else to stdout\r\n- Amended line 417 to include 'opts.output' when calling FastqWriter::new()\r\n- fqgrep_from_opts() was added so that an instance of StuctOpts could be passed to what was fqgrep() as a parameter\r\n- fqgrep() was amended to call fqgrep_from_opts() after creating opts using setup()\r\n\r\nTest Mod Helpers:\r\n\r\n- write_fastq() helper function that generates fastq files from provided sequences in a temp directory\r\n- write_pattern() helper function that generates a .txt file with regex patterns in a temp directory\r\n- call_opts() helper function that creates an instance of StructOpts with the regex coming from either a PathBuf or a Vec<String>\r\n- write_opts() helper function that actually returns an instance of StructOpts\r\n\r\nTests:\r\n\r\n- **test_single_fq()** \r\n- pattern = \"^A\" or \"^G\" from opts.regexp\r\n- fastq structure = one fastq with two sequences - \"AAGTCTGAATCCATGGAAAGCTATTG\", \"GGGTCTGAATCCATGGAAAGCTATTG\"\r\n- looking for a return match count of 2\r\n\r\n- ** test_multiple_fq()**\r\n- pattern = \"^A\" or \"^G\" from opts.file\r\n- fastq structure = two fastq each with two sequences - \"AAGTCTGAATCCATGGAAAGCTATTG\", \"GGGTCTGAATCCATGGAAAGCTATTG\"\r\n- opts.paired = true\r\n- looking for a return match count of 2\r\n\r\n- **test_get_output()**\r\n- pattern = \"^A\" from opts.file\r\n- - fastq structure = two fastq one with \"AAGTCTGAATCCATGGAAAGCTATTG\" the other with \"GGGTCTGAATCCATGGAAAGCTATTG\"\r\n- opts.options = tempdir/output.fq \r\n- After calling fqgrep_from_opts() the output file is read into 'lines' where only lines containing sequences are retained ,the expected sequence match is manually defined as 'expected', and 'lines' should be equal to 'expected'. This function needs cleaning. ", "reactions": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/16/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/16/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/15", "repository_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep", "labels_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/15/comments", "events_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/15/events", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/15", "id": 1415563524, "node_id": "PR_kwDOGNLCjc5BI8Hb", "number": 15, "title": "Add a rust-toolchain file.", "user": {"login": "tfenne", "id": 1609210, "node_id": "MDQ6VXNlcjE2MDkyMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1609210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tfenne", "html_url": "https://github.com/tfenne", "followers_url": "https://api.github.com/users/tfenne/followers", "following_url": "https://api.github.com/users/tfenne/following{/other_user}", "gists_url": "https://api.github.com/users/tfenne/gists{/gist_id}", "starred_url": "https://api.github.com/users/tfenne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tfenne/subscriptions", "organizations_url": "https://api.github.com/users/tfenne/orgs", "repos_url": "https://api.github.com/users/tfenne/repos", "events_url": "https://api.github.com/users/tfenne/events{/privacy}", "received_events_url": "https://api.github.com/users/tfenne/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "nh13", "id": 846274, "node_id": "MDQ6VXNlcjg0NjI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/846274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nh13", "html_url": "https://github.com/nh13", "followers_url": "https://api.github.com/users/nh13/followers", "following_url": "https://api.github.com/users/nh13/following{/other_user}", "gists_url": "https://api.github.com/users/nh13/gists{/gist_id}", "starred_url": "https://api.github.com/users/nh13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nh13/subscriptions", "organizations_url": "https://api.github.com/users/nh13/orgs", "repos_url": "https://api.github.com/users/nh13/repos", "events_url": "https://api.github.com/users/nh13/events{/privacy}", "received_events_url": "https://api.github.com/users/nh13/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "nh13", "id": 846274, "node_id": "MDQ6VXNlcjg0NjI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/846274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nh13", "html_url": "https://github.com/nh13", "followers_url": "https://api.github.com/users/nh13/followers", "following_url": "https://api.github.com/users/nh13/following{/other_user}", "gists_url": "https://api.github.com/users/nh13/gists{/gist_id}", "starred_url": "https://api.github.com/users/nh13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nh13/subscriptions", "organizations_url": "https://api.github.com/users/nh13/orgs", "repos_url": "https://api.github.com/users/nh13/repos", "events_url": "https://api.github.com/users/nh13/events{/privacy}", "received_events_url": "https://api.github.com/users/nh13/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-10-19T20:45:37Z", "updated_at": "2025-03-05T22:18:20Z", "closed_at": "2022-10-19T21:26:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/pulls/15", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/15", "diff_url": "https://github.com/fulcrumgenomics/fqgrep/pull/15.diff", "patch_url": "https://github.com/fulcrumgenomics/fqgrep/pull/15.patch", "merged_at": "2022-10-19T21:26:51Z"}, "body": "Wouldn't build on my machine, which was defaulting to an older rust version, due to a feature being stabilized that you rely on.", "reactions": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/15/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/15/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/13", "repository_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep", "labels_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/13/comments", "events_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/13/events", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/13", "id": 1334819757, "node_id": "PR_kwDOGNLCjc4899Wb", "number": 13, "title": "Make fqgrep more grep-like in its options", "user": {"login": "nh13", "id": 846274, "node_id": "MDQ6VXNlcjg0NjI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/846274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nh13", "html_url": "https://github.com/nh13", "followers_url": "https://api.github.com/users/nh13/followers", "following_url": "https://api.github.com/users/nh13/following{/other_user}", "gists_url": "https://api.github.com/users/nh13/gists{/gist_id}", "starred_url": "https://api.github.com/users/nh13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nh13/subscriptions", "organizations_url": "https://api.github.com/users/nh13/orgs", "repos_url": "https://api.github.com/users/nh13/repos", "events_url": "https://api.github.com/users/nh13/events{/privacy}", "received_events_url": "https://api.github.com/users/nh13/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-08-10T15:41:18Z", "updated_at": "2022-12-14T17:42:33Z", "closed_at": "2022-12-14T17:42:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/pulls/13", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/13", "diff_url": "https://github.com/fulcrumgenomics/fqgrep/pull/13.diff", "patch_url": "https://github.com/fulcrumgenomics/fqgrep/pull/13.patch", "merged_at": "2022-12-14T17:42:29Z"}, "body": "This adds a ton of changes:\r\n\r\n1. All reader, writer, and matching threads use a rayon thread pool.  This means that `--threads` is respected.  Previously reader and writer threads were always allocated outside the match pool, and there were specific arguments for the latter and compressing the output (the latter feature has been removed, plaintext FASTQ is the only output format, just pipe it if you need to).\r\n2. Takes in a pattern as the first positional argument, which is now a regular expression (previously a fixed string).\r\n3. Takes in zero or more file paths after the positional argument.  Uses standard input if no file are given positionally or with `-f` below.\r\n4. Input files are assumed to be plain uncompressed FASTQs unless the `--decompress` option is given, in which case they're assumed to be GZIP compressed.  This includes standard input.  The exception are `.gz/.bgz` and`.fastq/.fq` which are always treated as GZIP compressed and plain text respectively.\r\n5. Implement the following options from grep:\r\n\r\n* `-c, --count`: simply return the count of matching records\r\n* `-F, --fixed-strings`: interpret pattern as a set of fixed strings\r\n* `-v`: Selected records are those not matching any of the specified patterns\r\n* `--color <color>`: color the output records with ANSI color codes\r\n* `-e, --regexp <regexp>...`: specify the pattern used during the search.  Can be specified multiple times\r\n* `-f, --file <file>`: Read one or more newline separated patterns from file.\r\n* `-Z, --decompress`: treat all non `.gz`, `.bgz`, `.fastq`, and `.fq` files as GZIP compressed (default treat as uncompressed)\r\n\r\n6. The exit code follows GREP, where we exit with 0 if one or more lines were selected, 1 if no lines were selected, and >1 if an error occurred.\r\n7.  Add non-grep options:\r\n\r\n* `--paired`: if one file or standard input is used, treat the input as an _interleaved_ paired end FASTQ.  If more than one file is given, ensure that the number of files are a multiple of two, and treat each consecutive pair of files as R1 and R2 respectively.  If the pattern matches either R1 _or_ R2, output both (interleaved FASTQ).\r\n* `--reverse-complement`: searches the reverse complement of the read sequences in addition\r\n* `--progress`: write progress (counts of records searched)\r\n* `-t, --threads <threads>`: see (1) above\r\n\r\nThis could use a lot of unit tests and some test on large datasets (to ensure correctness and performance relative to the previous version)\r\n", "reactions": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/13/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/13/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/12", "repository_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep", "labels_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/12/comments", "events_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/12/events", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/12", "id": 1331198175, "node_id": "PR_kwDOGNLCjc48x1cp", "number": 12, "title": "feat(pretty_progress_logger): uses commas to delimit large numbers", "user": {"login": "sstadick", "id": 6712477, "node_id": "MDQ6VXNlcjY3MTI0Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6712477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sstadick", "html_url": "https://github.com/sstadick", "followers_url": "https://api.github.com/users/sstadick/followers", "following_url": "https://api.github.com/users/sstadick/following{/other_user}", "gists_url": "https://api.github.com/users/sstadick/gists{/gist_id}", "starred_url": "https://api.github.com/users/sstadick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sstadick/subscriptions", "organizations_url": "https://api.github.com/users/sstadick/orgs", "repos_url": "https://api.github.com/users/sstadick/repos", "events_url": "https://api.github.com/users/sstadick/events{/privacy}", "received_events_url": "https://api.github.com/users/sstadick/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-08T01:26:50Z", "updated_at": "2022-08-08T01:35:01Z", "closed_at": "2022-08-08T01:34:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/pulls/12", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/12", "diff_url": "https://github.com/fulcrumgenomics/fqgrep/pull/12.diff", "patch_url": "https://github.com/fulcrumgenomics/fqgrep/pull/12.patch", "merged_at": "2022-08-08T01:34:58Z"}, "body": "Uses commas to delimit large numbers:\r\n\r\n```text\r\n[2022-08-08T01:24:17Z INFO  fqgrep] Creating reader threads\r\n[2022-08-08T01:24:17Z INFO  fqgrep] Processing reads\r\n[2022-08-08T01:24:47Z INFO  proglog] [fqgrep-progress] Searched 50,000,000 reads\r\n```", "reactions": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/12/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/10", "repository_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep", "labels_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/10/comments", "events_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/10/events", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/10", "id": 1330247077, "node_id": "PR_kwDOGNLCjc48vBFp", "number": 10, "title": "feat(progress-logger): added a progress logger", "user": {"login": "sstadick", "id": 6712477, "node_id": "MDQ6VXNlcjY3MTI0Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6712477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sstadick", "html_url": "https://github.com/sstadick", "followers_url": "https://api.github.com/users/sstadick/followers", "following_url": "https://api.github.com/users/sstadick/following{/other_user}", "gists_url": "https://api.github.com/users/sstadick/gists{/gist_id}", "starred_url": "https://api.github.com/users/sstadick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sstadick/subscriptions", "organizations_url": "https://api.github.com/users/sstadick/orgs", "repos_url": "https://api.github.com/users/sstadick/repos", "events_url": "https://api.github.com/users/sstadick/events{/privacy}", "received_events_url": "https://api.github.com/users/sstadick/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-05T18:27:23Z", "updated_at": "2022-08-06T20:29:29Z", "closed_at": "2022-08-06T20:29:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/pulls/10", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/10", "diff_url": "https://github.com/fulcrumgenomics/fqgrep/pull/10.diff", "patch_url": "https://github.com/fulcrumgenomics/fqgrep/pull/10.patch", "merged_at": "2022-08-06T20:29:27Z"}, "body": "This PR adds a simple progress logger into the hot loop to \"greps\" the reads to track how many reads have been searched so far. With it's existing configuration it emits ~ 1 log message every 30 seconds.\r\n\r\nExample logging output of a full run:\r\n\r\n```text\r\n[2022-08-05T18:03:56Z INFO  fqgrep] Creating reader threads\r\n[2022-08-05T18:03:56Z INFO  fqgrep] Processing reads\r\n[2022-08-05T18:04:27Z INFO  proglog] [fqgrep-progress] Searched 50000000 reads\r\n[2022-08-05T18:04:57Z INFO  proglog] [fqgrep-progress] Searched 100000000 reads\r\n[2022-08-05T18:05:28Z INFO  proglog] [fqgrep-progress] Searched 150000000 reads\r\n[2022-08-05T18:05:58Z INFO  proglog] [fqgrep-progress] Searched 200000000 reads\r\n[2022-08-05T18:06:28Z INFO  proglog] [fqgrep-progress] Searched 250000000 reads\r\n[2022-08-05T18:06:58Z INFO  proglog] [fqgrep-progress] Searched 300000000 reads\r\n[2022-08-05T18:07:29Z INFO  proglog] [fqgrep-progress] Searched 350000000 reads\r\n[2022-08-05T18:07:59Z INFO  proglog] [fqgrep-progress] Searched 400000000 reads\r\n[2022-08-05T18:08:29Z INFO  proglog] [fqgrep-progress] Searched 450000000 reads\r\n[2022-08-05T18:08:59Z INFO  proglog] [fqgrep-progress] Searched 500000000 reads\r\n[2022-08-05T18:09:30Z INFO  proglog] [fqgrep-progress] Searched 550000000 reads\r\n[2022-08-05T18:10:00Z INFO  proglog] [fqgrep-progress] Searched 600000000 reads\r\n[2022-08-05T18:10:30Z INFO  proglog] [fqgrep-progress] Searched 650000000 reads\r\n[2022-08-05T18:11:01Z INFO  proglog] [fqgrep-progress] Searched 700000000 reads\r\n[2022-08-05T18:11:31Z INFO  proglog] [fqgrep-progress] Searched 750000000 reads\r\n[2022-08-05T18:12:01Z INFO  proglog] [fqgrep-progress] Searched 800000000 reads\r\n[2022-08-05T18:12:30Z INFO  proglog] [fqgrep-progress] Searched 850000000 reads\r\n[2022-08-05T18:13:01Z INFO  proglog] [fqgrep-progress] Searched 900000000 reads\r\n[2022-08-05T18:13:31Z INFO  proglog] [fqgrep-progress] Searched 950000000 reads\r\n[2022-08-05T18:14:01Z INFO  proglog] [fqgrep-progress] Searched 1000000000 reads\r\n[2022-08-05T18:14:32Z INFO  proglog] [fqgrep-progress] Searched 1050000000 reads\r\n[2022-08-05T18:15:02Z INFO  proglog] [fqgrep-progress] Searched 1100000000 reads\r\n[2022-08-05T18:15:32Z INFO  proglog] [fqgrep-progress] Searched 1150000000 reads\r\n[2022-08-05T18:16:02Z INFO  proglog] [fqgrep-progress] Searched 1200000000 reads\r\n[2022-08-05T18:16:33Z INFO  proglog] [fqgrep-progress] Searched 1250000000 reads\r\n[2022-08-05T18:17:03Z INFO  proglog] [fqgrep-progress] Searched 1300000000 reads\r\n[2022-08-05T18:17:33Z INFO  proglog] [fqgrep-progress] Searched 1350000000 reads\r\n[2022-08-05T18:17:54Z INFO  fqgrep] Joining reader threads\r\n[2022-08-05T18:17:54Z INFO  fqgrep] Joining writer threads and collecting stats\r\n[2022-08-05T18:17:54Z INFO  proglog] [fqgrep-progress] Searched 1384167117 reads\r\n[2022-08-05T18:17:54Z INFO  fqgrep] 52820 reads matched input ref sequence\r\n[2022-08-05T18:17:54Z INFO  fqgrep] 98740 reads matched input alt sequence\r\n[2022-08-05T18:17:54Z INFO  fqgrep] 7 reads matched both input ref and alt sequences\r\n[2022-08-05T18:17:54Z INFO  fqgrep] Writing stats\r\n```\r\n\r\nWith some crude CLI benchmarking on both `fqgrep` and other projects `proglog` does not slow down hot loops to any appreciable degree as long as `unit` size is set high enough.", "reactions": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/10/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/5", "repository_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep", "labels_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/5/comments", "events_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/5/events", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/5", "id": 1323550166, "node_id": "PR_kwDOGNLCjc48YqRX", "number": 5, "title": "Add bioconda to README", "user": {"login": "nh13", "id": 846274, "node_id": "MDQ6VXNlcjg0NjI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/846274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nh13", "html_url": "https://github.com/nh13", "followers_url": "https://api.github.com/users/nh13/followers", "following_url": "https://api.github.com/users/nh13/following{/other_user}", "gists_url": "https://api.github.com/users/nh13/gists{/gist_id}", "starred_url": "https://api.github.com/users/nh13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nh13/subscriptions", "organizations_url": "https://api.github.com/users/nh13/orgs", "repos_url": "https://api.github.com/users/nh13/repos", "events_url": "https://api.github.com/users/nh13/events{/privacy}", "received_events_url": "https://api.github.com/users/nh13/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-31T19:12:22Z", "updated_at": "2022-07-31T19:14:45Z", "closed_at": "2022-07-31T19:14:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/pulls/5", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/5", "diff_url": "https://github.com/fulcrumgenomics/fqgrep/pull/5.diff", "patch_url": "https://github.com/fulcrumgenomics/fqgrep/pull/5.patch", "merged_at": "2022-07-31T19:14:43Z"}, "body": "See: https://github.com/bioconda/bioconda-recipes/pull/36139", "reactions": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/5/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/5/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/4", "repository_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep", "labels_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/4/comments", "events_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/4/events", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/4", "id": 1323221877, "node_id": "PR_kwDOGNLCjc48XpLX", "number": 4, "title": "Add authors to cargo toml", "user": {"login": "nh13", "id": 846274, "node_id": "MDQ6VXNlcjg0NjI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/846274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nh13", "html_url": "https://github.com/nh13", "followers_url": "https://api.github.com/users/nh13/followers", "following_url": "https://api.github.com/users/nh13/following{/other_user}", "gists_url": "https://api.github.com/users/nh13/gists{/gist_id}", "starred_url": "https://api.github.com/users/nh13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nh13/subscriptions", "organizations_url": "https://api.github.com/users/nh13/orgs", "repos_url": "https://api.github.com/users/nh13/repos", "events_url": "https://api.github.com/users/nh13/events{/privacy}", "received_events_url": "https://api.github.com/users/nh13/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-30T17:00:31Z", "updated_at": "2022-07-30T17:02:56Z", "closed_at": "2022-07-30T17:02:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/pulls/4", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/4", "diff_url": "https://github.com/fulcrumgenomics/fqgrep/pull/4.diff", "patch_url": "https://github.com/fulcrumgenomics/fqgrep/pull/4.patch", "merged_at": "2022-07-30T17:02:53Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/4/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/4/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/3", "repository_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep", "labels_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/3/comments", "events_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/3/events", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/3", "id": 1323195015, "node_id": "PR_kwDOGNLCjc48XjS1", "number": 3, "title": "A number of small improvements", "user": {"login": "nh13", "id": 846274, "node_id": "MDQ6VXNlcjg0NjI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/846274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nh13", "html_url": "https://github.com/nh13", "followers_url": "https://api.github.com/users/nh13/followers", "following_url": "https://api.github.com/users/nh13/following{/other_user}", "gists_url": "https://api.github.com/users/nh13/gists{/gist_id}", "starred_url": "https://api.github.com/users/nh13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nh13/subscriptions", "organizations_url": "https://api.github.com/users/nh13/orgs", "repos_url": "https://api.github.com/users/nh13/repos", "events_url": "https://api.github.com/users/nh13/events{/privacy}", "received_events_url": "https://api.github.com/users/nh13/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-30T16:04:46Z", "updated_at": "2022-07-30T16:33:06Z", "closed_at": "2022-07-30T16:33:04Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/pulls/3", "html_url": "https://github.com/fulcrumgenomics/fqgrep/pull/3", "diff_url": "https://github.com/fulcrumgenomics/fqgrep/pull/3.diff", "patch_url": "https://github.com/fulcrumgenomics/fqgrep/pull/3.patch", "merged_at": "2022-07-30T16:33:04Z"}, "body": "- create the output directory if it doesn't exist\r\n- add the `--illumina` option", "reactions": {"url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/3/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fulcrumgenomics/fqgrep/issues/3/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]