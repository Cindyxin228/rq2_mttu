{"window": ["2021-07-06T20:42:03.780515+00:00", "2025-08-31T20:57:30.830375+00:00"], "repo_slug": "slatedb/slatedb", "candidates": [{"url": "https://api.github.com/repos/slatedb/slatedb/issues/819", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/819/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/819/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/819/events", "html_url": "https://github.com/slatedb/slatedb/pull/819", "id": 3349946184, "node_id": "PR_kwDOLl4Bxc6lHWEY", "number": 819, "title": "Retry sst put requests on Timeout.", "user": {"login": "calavera", "id": 1050, "node_id": "MDQ6VXNlcjEwNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calavera", "html_url": "https://github.com/calavera", "followers_url": "https://api.github.com/users/calavera/followers", "following_url": "https://api.github.com/users/calavera/following{/other_user}", "gists_url": "https://api.github.com/users/calavera/gists{/gist_id}", "starred_url": "https://api.github.com/users/calavera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calavera/subscriptions", "organizations_url": "https://api.github.com/users/calavera/orgs", "repos_url": "https://api.github.com/users/calavera/repos", "events_url": "https://api.github.com/users/calavera/events{/privacy}", "received_events_url": "https://api.github.com/users/calavera/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6744338141, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u3Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 7389736696, "node_id": "LA_kwDOLl4Bxc8AAAABuHZu-A", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:M", "name": "size:M", "color": "ebb800", "default": false, "description": "This PR changes 30-99 lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2025-08-24T22:01:37Z", "updated_at": "2025-08-29T18:56:43Z", "closed_at": "2025-08-29T18:56:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/819", "html_url": "https://github.com/slatedb/slatedb/pull/819", "diff_url": "https://github.com/slatedb/slatedb/pull/819.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/819.patch", "merged_at": "2025-08-29T18:56:43Z"}, "body": "If the object store returns a time out writing SSTs on the remote store, retry the operation.\r\n\r\nThe retry uses a backoff strategy that will retry again at most for 3 more times.\r\n\r\nI'm opening this as a draft for now because I'm investigating how we can have mocked server behaviors that would trigger a timeout response.\r\n\r\nSee #766 ", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/819/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/819/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/809", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/809/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/809/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/809/events", "html_url": "https://github.com/slatedb/slatedb/pull/809", "id": 3338711972, "node_id": "PR_kwDOLl4Bxc6khzRj", "number": 809, "title": "chore: remove unused dependencies", "user": {"login": "KarinaMilet", "id": 108008166, "node_id": "U_kgDOBnAS5g", "avatar_url": "https://avatars.githubusercontent.com/u/108008166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KarinaMilet", "html_url": "https://github.com/KarinaMilet", "followers_url": "https://api.github.com/users/KarinaMilet/followers", "following_url": "https://api.github.com/users/KarinaMilet/following{/other_user}", "gists_url": "https://api.github.com/users/KarinaMilet/gists{/gist_id}", "starred_url": "https://api.github.com/users/KarinaMilet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KarinaMilet/subscriptions", "organizations_url": "https://api.github.com/users/KarinaMilet/orgs", "repos_url": "https://api.github.com/users/KarinaMilet/repos", "events_url": "https://api.github.com/users/KarinaMilet/events{/privacy}", "received_events_url": "https://api.github.com/users/KarinaMilet/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7389736666, "node_id": "LA_kwDOLl4Bxc8AAAABuHZu2g", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:XS", "name": "size:XS", "color": "00ff00", "default": false, "description": "This PR changes 0-9 lines, ignoring generated files."}, {"id": 7428989001, "node_id": "LA_kwDOLl4Bxc8AAAABus1gSQ", "url": "https://api.github.com/repos/slatedb/slatedb/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-08-20T16:11:34Z", "updated_at": "2025-11-13T15:38:36Z", "closed_at": "2025-08-20T19:32:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/809", "html_url": "https://github.com/slatedb/slatedb/pull/809", "diff_url": "https://github.com/slatedb/slatedb/pull/809.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/809.patch", "merged_at": "2025-08-20T19:32:13Z"}, "body": "Remove unused dependencies in slateDB.\r\nI learned about [cargo-machete](https://crates.io/crates/cargo-machete) for the first time. Very useful tool.", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/809/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/809/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/778", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/778/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/778/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/778/events", "html_url": "https://github.com/slatedb/slatedb/pull/778", "id": 3326272193, "node_id": "PR_kwDOLl4Bxc6j5CGA", "number": 778, "title": "Use SQLite to store the DST state", "user": {"login": "calavera", "id": 1050, "node_id": "MDQ6VXNlcjEwNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calavera", "html_url": "https://github.com/calavera", "followers_url": "https://api.github.com/users/calavera/followers", "following_url": "https://api.github.com/users/calavera/following{/other_user}", "gists_url": "https://api.github.com/users/calavera/gists{/gist_id}", "starred_url": "https://api.github.com/users/calavera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calavera/subscriptions", "organizations_url": "https://api.github.com/users/calavera/orgs", "repos_url": "https://api.github.com/users/calavera/repos", "events_url": "https://api.github.com/users/calavera/events{/privacy}", "received_events_url": "https://api.github.com/users/calavera/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6744338141, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u3Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 7389736707, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvAw", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:L", "name": "size:L", "color": "eb9500", "default": false, "description": "This PR changes 100-499 lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-08-15T20:28:49Z", "updated_at": "2025-08-15T21:27:50Z", "closed_at": "2025-08-15T21:12:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/778", "html_url": "https://github.com/slatedb/slatedb/pull/778", "diff_url": "https://github.com/slatedb/slatedb/pull/778.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/778.patch", "merged_at": "2025-08-15T21:12:42Z"}, "body": "Replace the always in memory BTreeMap with SQLite.\r\n\r\nBy default, the simulation still uses a memory store, configuring SQLite with `:memory:`, but it also includes an option to keep the state in disk by providing an optional path.\r\n\r\nFixes #716 ", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/778/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/772", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/772/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/772/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/772/events", "html_url": "https://github.com/slatedb/slatedb/pull/772", "id": 3321450699, "node_id": "PR_kwDOLl4Bxc6jpO74", "number": 772, "title": "refactor(wal): remove avoidable `clone` in WriteBatch operation", "user": {"login": "KarinaMilet", "id": 108008166, "node_id": "U_kgDOBnAS5g", "avatar_url": "https://avatars.githubusercontent.com/u/108008166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KarinaMilet", "html_url": "https://github.com/KarinaMilet", "followers_url": "https://api.github.com/users/KarinaMilet/followers", "following_url": "https://api.github.com/users/KarinaMilet/following{/other_user}", "gists_url": "https://api.github.com/users/KarinaMilet/gists{/gist_id}", "starred_url": "https://api.github.com/users/KarinaMilet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KarinaMilet/subscriptions", "organizations_url": "https://api.github.com/users/KarinaMilet/orgs", "repos_url": "https://api.github.com/users/KarinaMilet/repos", "events_url": "https://api.github.com/users/KarinaMilet/events{/privacy}", "received_events_url": "https://api.github.com/users/KarinaMilet/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7168521183, "node_id": "LA_kwDOLl4Bxc8AAAABq0bz3w", "url": "https://api.github.com/repos/slatedb/slatedb/labels/maintenance", "name": "maintenance", "color": "894E23", "default": false, "description": "Maintenance work"}, {"id": 7389736681, "node_id": "LA_kwDOLl4Bxc8AAAABuHZu6Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:S", "name": "size:S", "color": "77b800", "default": false, "description": "This PR changes 10-29 lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-08-14T09:13:43Z", "updated_at": "2025-08-14T15:19:56Z", "closed_at": "2025-08-14T15:11:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/772", "html_url": "https://github.com/slatedb/slatedb/pull/772", "diff_url": "https://github.com/slatedb/slatedb/pull/772.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/772.patch", "merged_at": "2025-08-14T15:11:51Z"}, "body": "Close #767 \r\nConsidering that `put_batch` will only be used in `write_batch.rs`, I deleted it. I think there is no need to introduce such an interface.", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/772/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/769", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/769/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/769/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/769/events", "html_url": "https://github.com/slatedb/slatedb/pull/769", "id": 3315305493, "node_id": "PR_kwDOLl4Bxc6jUrEA", "number": 769, "title": "Improvements to the Python bidings.", "user": {"login": "calavera", "id": 1050, "node_id": "MDQ6VXNlcjEwNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calavera", "html_url": "https://github.com/calavera", "followers_url": "https://api.github.com/users/calavera/followers", "following_url": "https://api.github.com/users/calavera/following{/other_user}", "gists_url": "https://api.github.com/users/calavera/gists{/gist_id}", "starred_url": "https://api.github.com/users/calavera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calavera/subscriptions", "organizations_url": "https://api.github.com/users/calavera/orgs", "repos_url": "https://api.github.com/users/calavera/repos", "events_url": "https://api.github.com/users/calavera/events{/privacy}", "received_events_url": "https://api.github.com/users/calavera/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6744338141, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u3Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 7389736707, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvAw", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:L", "name": "size:L", "color": "eb9500", "default": false, "description": "This PR changes 100-499 lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-08-12T18:05:50Z", "updated_at": "2025-08-14T00:10:52Z", "closed_at": "2025-08-13T18:23:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/769", "html_url": "https://github.com/slatedb/slatedb/pull/769", "diff_url": "https://github.com/slatedb/slatedb/pull/769.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/769.patch", "merged_at": "2025-08-13T18:23:16Z"}, "body": "- Update object_store to be able to use the new URL registry.\r\n- Allow initializing the Python bindings by providing an object store URL.\r\n- Update Python documentation with development instructions.", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/769/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/769/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/765", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/765/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/765/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/765/events", "html_url": "https://github.com/slatedb/slatedb/pull/765", "id": 3313030250, "node_id": "PR_kwDOLl4Bxc6jNA7o", "number": 765, "title": "chore: bump dependencies", "user": {"login": "KarinaMilet", "id": 108008166, "node_id": "U_kgDOBnAS5g", "avatar_url": "https://avatars.githubusercontent.com/u/108008166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KarinaMilet", "html_url": "https://github.com/KarinaMilet", "followers_url": "https://api.github.com/users/KarinaMilet/followers", "following_url": "https://api.github.com/users/KarinaMilet/following{/other_user}", "gists_url": "https://api.github.com/users/KarinaMilet/gists{/gist_id}", "starred_url": "https://api.github.com/users/KarinaMilet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KarinaMilet/subscriptions", "organizations_url": "https://api.github.com/users/KarinaMilet/orgs", "repos_url": "https://api.github.com/users/KarinaMilet/repos", "events_url": "https://api.github.com/users/KarinaMilet/events{/privacy}", "received_events_url": "https://api.github.com/users/KarinaMilet/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7389736696, "node_id": "LA_kwDOLl4Bxc8AAAABuHZu-A", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:M", "name": "size:M", "color": "ebb800", "default": false, "description": "This PR changes 30-99 lines, ignoring generated files."}, {"id": 7428989001, "node_id": "LA_kwDOLl4Bxc8AAAABus1gSQ", "url": "https://api.github.com/repos/slatedb/slatedb/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-08-12T08:00:27Z", "updated_at": "2025-08-14T09:10:03Z", "closed_at": "2025-08-13T13:50:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/765", "html_url": "https://github.com/slatedb/slatedb/pull/765", "diff_url": "https://github.com/slatedb/slatedb/pull/765.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/765.patch", "merged_at": "2025-08-13T13:50:12Z"}, "body": "Upgrade dependencies as much as possible, and do not change dependencies that may cause breaking changes such as `thiserror`.", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/765/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/741", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/741/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/741/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/741/events", "html_url": "https://github.com/slatedb/slatedb/pull/741", "id": 3294968582, "node_id": "PR_kwDOLl4Bxc6iS5_P", "number": 741, "title": "Disable bench for CLIs, libs, and examples", "user": {"login": "criccomini", "id": 167569, "node_id": "MDQ6VXNlcjE2NzU2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/167569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/criccomini", "html_url": "https://github.com/criccomini", "followers_url": "https://api.github.com/users/criccomini/followers", "following_url": "https://api.github.com/users/criccomini/following{/other_user}", "gists_url": "https://api.github.com/users/criccomini/gists{/gist_id}", "starred_url": "https://api.github.com/users/criccomini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/criccomini/subscriptions", "organizations_url": "https://api.github.com/users/criccomini/orgs", "repos_url": "https://api.github.com/users/criccomini/repos", "events_url": "https://api.github.com/users/criccomini/events{/privacy}", "received_events_url": "https://api.github.com/users/criccomini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7168521183, "node_id": "LA_kwDOLl4Bxc8AAAABq0bz3w", "url": "https://api.github.com/repos/slatedb/slatedb/labels/maintenance", "name": "maintenance", "color": "894E23", "default": false, "description": "Maintenance work"}, {"id": 7389736681, "node_id": "LA_kwDOLl4Bxc8AAAABuHZu6Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:S", "name": "size:S", "color": "77b800", "default": false, "description": "This PR changes 10-29 lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-06T02:29:36Z", "updated_at": "2025-08-06T02:33:24Z", "closed_at": "2025-08-06T02:33:12Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/741", "html_url": "https://github.com/slatedb/slatedb/pull/741", "diff_url": "https://github.com/slatedb/slatedb/pull/741.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/741.patch", "merged_at": "2025-08-06T02:33:12Z"}, "body": "The `microbenchmarks` test in `pr.yaml` began failing after #731. I don't believe that PR has anything to do with the failures. I'm able to reproduce them on the commit prior (1fe578c). I think something in the toolchain changed. I've updated the various crates to disable `bench` so it doesn't fight with the criterion output harness (as the `slatedb/Cargo.toml` file already did).", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/741/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/741/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/733", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/733/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/733/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/733/events", "html_url": "https://github.com/slatedb/slatedb/pull/733", "id": 3291174044, "node_id": "PR_kwDOLl4Bxc6iGK5n", "number": 733, "title": "Add a nightly DST test", "user": {"login": "criccomini", "id": 167569, "node_id": "MDQ6VXNlcjE2NzU2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/167569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/criccomini", "html_url": "https://github.com/criccomini", "followers_url": "https://api.github.com/users/criccomini/followers", "following_url": "https://api.github.com/users/criccomini/following{/other_user}", "gists_url": "https://api.github.com/users/criccomini/gists{/gist_id}", "starred_url": "https://api.github.com/users/criccomini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/criccomini/subscriptions", "organizations_url": "https://api.github.com/users/criccomini/orgs", "repos_url": "https://api.github.com/users/criccomini/repos", "events_url": "https://api.github.com/users/criccomini/events{/privacy}", "received_events_url": "https://api.github.com/users/criccomini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6744338141, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u3Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 7389736707, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvAw", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:L", "name": "size:L", "color": "eb9500", "default": false, "description": "This PR changes 100-499 lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-05T00:51:54Z", "updated_at": "2025-08-05T01:16:53Z", "closed_at": "2025-08-05T01:16:52Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/733", "html_url": "https://github.com/slatedb/slatedb/pull/733", "diff_url": "https://github.com/slatedb/slatedb/pull/733.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/733.patch", "merged_at": "2025-08-05T01:16:52Z"}, "body": "This PR integrates the DST into the nightly Github workflow.\r\n\r\n- Adds a `test_dst_nightly` test to simulation.rs.\r\n- Adds a `slow` cfg to `Cargo.toml` to signal slow tests should be run.\r\n- Updates `nightly.yaml` to run the DST on a WarpBuild instance.\r\n- Adds a `DstDuration` param that can be either `Iterations` or `Duration` (wall-clock time) to the `run_simulation`. This allows us to run simulations for a set amount of time rather than a set number of iterations.\r\n- Update `nextest.toml` to include a new `dst-nightly` profile.\r\n- Update docs and README.md\r\n\r\n`test_dst_nightly` runs a separate DST on each core of the host machine. The tests run in parallel for 50 minutes.\r\n\r\nFuture improvements:\r\n\r\n- Fail as soon as a handle finishes rather than joining them sequentially.\r\n- Make `test_dst_nightly` use an environment variable so the 50m duration isn't hard-coded.", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/733/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/731", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/731/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/731/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/731/events", "html_url": "https://github.com/slatedb/slatedb/pull/731", "id": 3287454312, "node_id": "PR_kwDOLl4Bxc6h5pL4", "number": 731, "title": "New website using Astro Starlight.", "user": {"login": "calavera", "id": 1050, "node_id": "MDQ6VXNlcjEwNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calavera", "html_url": "https://github.com/calavera", "followers_url": "https://api.github.com/users/calavera/followers", "following_url": "https://api.github.com/users/calavera/following{/other_user}", "gists_url": "https://api.github.com/users/calavera/gists{/gist_id}", "starred_url": "https://api.github.com/users/calavera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calavera/subscriptions", "organizations_url": "https://api.github.com/users/calavera/orgs", "repos_url": "https://api.github.com/users/calavera/repos", "events_url": "https://api.github.com/users/calavera/events{/privacy}", "received_events_url": "https://api.github.com/users/calavera/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6744338141, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u3Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 7389736716, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvDA", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:XL", "name": "size:XL", "color": "ff823f", "default": false, "description": "This PR changes 500-999 lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2025-08-03T19:04:44Z", "updated_at": "2025-08-06T01:41:11Z", "closed_at": "2025-08-06T01:41:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/731", "html_url": "https://github.com/slatedb/slatedb/pull/731", "diff_url": "https://github.com/slatedb/slatedb/pull/731.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/731.patch", "merged_at": "2025-08-06T01:41:11Z"}, "body": "I'm opening this as a draft so you can see how the directory and framework structure looks like. If you want to take a look at the site live, you can go to https://slatedb.netlify.app\r\n\r\nThere are a few things that I need to review before this PR is ready:\r\n\r\n- [x] Update doc examples to version 0.7.\r\n- [x] Copy changes made by Cursor (wtf, nobody asked it to make those changes)\r\n- [x] Mobile views\r\n- [x] Missing images\r\n- [x] Broken links\r\n- [x] Deployment workflow\r\n\r\nFixes #661 ", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/731/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/731/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/712", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/712/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/712/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/712/events", "html_url": "https://github.com/slatedb/slatedb/pull/712", "id": 3286269928, "node_id": "PR_kwDOLl4Bxc6h1891", "number": 712, "title": "Remove structured logging", "user": {"login": "criccomini", "id": 167569, "node_id": "MDQ6VXNlcjE2NzU2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/167569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/criccomini", "html_url": "https://github.com/criccomini", "followers_url": "https://api.github.com/users/criccomini/followers", "following_url": "https://api.github.com/users/criccomini/following{/other_user}", "gists_url": "https://api.github.com/users/criccomini/gists{/gist_id}", "starred_url": "https://api.github.com/users/criccomini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/criccomini/subscriptions", "organizations_url": "https://api.github.com/users/criccomini/orgs", "repos_url": "https://api.github.com/users/criccomini/repos", "events_url": "https://api.github.com/users/criccomini/events{/privacy}", "received_events_url": "https://api.github.com/users/criccomini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7168521183, "node_id": "LA_kwDOLl4Bxc8AAAABq0bz3w", "url": "https://api.github.com/repos/slatedb/slatedb/labels/maintenance", "name": "maintenance", "color": "894E23", "default": false, "description": "Maintenance work"}, {"id": 7389736707, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvAw", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:L", "name": "size:L", "color": "eb9500", "default": false, "description": "This PR changes 100-499 lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-08-02T20:20:01Z", "updated_at": "2025-08-05T00:59:50Z", "closed_at": "2025-08-05T00:59:37Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/712", "html_url": "https://github.com/slatedb/slatedb/pull/712", "diff_url": "https://github.com/slatedb/slatedb/pull/712.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/712.patch", "merged_at": "2025-08-05T00:59:37Z"}, "body": "I thought #706 would fix our structured logging problems. The issue began when I migrated to `log` for all logging (#702). After doing so, we couldn't see structured log fields using `tracing_subscriber`. I thought I fixed the issue in #706, but the structured log k-v fields were still not visible (I misread the log output). After #706, I dug into the code and realized that `tracing_log` does not use `log::Record::key_values()` at all; they're just dropped.\r\n\r\nI opened https://github.com/tokio-rs/tracing/issues/3355 to see if we can get structured log support for the `log` crate into `tracing_log`. In the meantime, I've replaced all structured logging with normal string interpolation style logs.\r\n\r\nI also took the opportunity to do some minor log standardization as I came across it (lowercase case letters, wrap params in `[]` at end of file (e.g. `some error happened [path={:?}, error={}]`. This loosely aligns with the `error.rs` guidance that @calavera outlined. My changes are not exhaustive, but clean up things quite a bit already.\r\n\r\nThe alternative I considered was just going back to `tracing` for logs. I'm not strongly opposed to this, but it doesn't seem ideal since SlateDB is a library that's meant to be unopinionated about the environment/application it runs in.", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/712/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/706", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/706/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/706/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/706/events", "html_url": "https://github.com/slatedb/slatedb/pull/706", "id": 3278356801, "node_id": "PR_kwDOLl4Bxc6hbZB2", "number": 706, "title": "Consume log events into tracing (including structured logs)", "user": {"login": "criccomini", "id": 167569, "node_id": "MDQ6VXNlcjE2NzU2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/167569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/criccomini", "html_url": "https://github.com/criccomini", "followers_url": "https://api.github.com/users/criccomini/followers", "following_url": "https://api.github.com/users/criccomini/following{/other_user}", "gists_url": "https://api.github.com/users/criccomini/gists{/gist_id}", "starred_url": "https://api.github.com/users/criccomini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/criccomini/subscriptions", "organizations_url": "https://api.github.com/users/criccomini/orgs", "repos_url": "https://api.github.com/users/criccomini/repos", "events_url": "https://api.github.com/users/criccomini/events{/privacy}", "received_events_url": "https://api.github.com/users/criccomini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6744338141, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u3Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 7389736681, "node_id": "LA_kwDOLl4Bxc8AAAABuHZu6Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:S", "name": "size:S", "color": "77b800", "default": false, "description": "This PR changes 10-29 lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-07-30T20:26:18Z", "updated_at": "2025-07-30T20:57:18Z", "closed_at": "2025-07-30T20:57:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/706", "html_url": "https://github.com/slatedb/slatedb/pull/706", "diff_url": "https://github.com/slatedb/slatedb/pull/706.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/706.patch", "merged_at": "2025-07-30T20:57:16Z"}, "body": "When I converted `tracing::` logs to `log::` logs, I ported the structured logging as well, assuming it would work. It turns out the default tracing_subscriber configuration does not properly consume the key-value pairs from the `log` library by default. We need to use `LogTracer` from the `tracing_log` crate (provided by the tracing library) to have these key-value pairs properly consumed. This PR updates accordingly.\r\n\r\nSee https://github.com/tokio-rs/tracing/discussions/2875 for some more notes.", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/706/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/706/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/702", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/702/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/702/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/702/events", "html_url": "https://github.com/slatedb/slatedb/pull/702", "id": 3270939831, "node_id": "PR_kwDOLl4Bxc6hCQIV", "number": 702, "title": "Replace `tracing::` logs with `log::` logs in `slatedb`", "user": {"login": "criccomini", "id": 167569, "node_id": "MDQ6VXNlcjE2NzU2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/167569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/criccomini", "html_url": "https://github.com/criccomini", "followers_url": "https://api.github.com/users/criccomini/followers", "following_url": "https://api.github.com/users/criccomini/following{/other_user}", "gists_url": "https://api.github.com/users/criccomini/gists{/gist_id}", "starred_url": "https://api.github.com/users/criccomini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/criccomini/subscriptions", "organizations_url": "https://api.github.com/users/criccomini/orgs", "repos_url": "https://api.github.com/users/criccomini/repos", "events_url": "https://api.github.com/users/criccomini/events{/privacy}", "received_events_url": "https://api.github.com/users/criccomini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7168521183, "node_id": "LA_kwDOLl4Bxc8AAAABq0bz3w", "url": "https://api.github.com/repos/slatedb/slatedb/labels/maintenance", "name": "maintenance", "color": "894E23", "default": false, "description": "Maintenance work"}, {"id": 7389736707, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvAw", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:L", "name": "size:L", "color": "eb9500", "default": false, "description": "This PR changes 100-499 lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-07-28T18:27:18Z", "updated_at": "2025-07-29T18:51:43Z", "closed_at": "2025-07-29T18:51:42Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/702", "html_url": "https://github.com/slatedb/slatedb/pull/702", "diff_url": "https://github.com/slatedb/slatedb/pull/702.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/702.patch", "merged_at": "2025-07-29T18:51:42Z"}, "body": "We should be using the `logs` facade crate everywhere in `slatedb` since it's a library. I added clippy macro checks to enforce this and updated the code accordingly.\r\n\r\nI left the tracing_subscriber (vs. env_logger or others) for output in tests and tools since that's what `opendal` does and I didn't want to overthink things. I also left the -cli and -bencher crates to continue using `tracing` for their logs since they're applications, not libraries.\r\n\r\nI also took the opportunity to prevent...\r\n\r\n- stdout print's\r\n- Option::unwrap\r\n- Result::unwrap", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/702/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/702/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/697", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/697/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/697/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/697/events", "html_url": "https://github.com/slatedb/slatedb/pull/697", "id": 3264564038, "node_id": "PR_kwDOLl4Bxc6gs8Qu", "number": 697, "title": "Implement the Public Error API.", "user": {"login": "calavera", "id": 1050, "node_id": "MDQ6VXNlcjEwNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calavera", "html_url": "https://github.com/calavera", "followers_url": "https://api.github.com/users/calavera/followers", "following_url": "https://api.github.com/users/calavera/following{/other_user}", "gists_url": "https://api.github.com/users/calavera/gists{/gist_id}", "starred_url": "https://api.github.com/users/calavera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calavera/subscriptions", "organizations_url": "https://api.github.com/users/calavera/orgs", "repos_url": "https://api.github.com/users/calavera/repos", "events_url": "https://api.github.com/users/calavera/events{/privacy}", "received_events_url": "https://api.github.com/users/calavera/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6744338131, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u0w", "url": "https://api.github.com/repos/slatedb/slatedb/labels/documentation", "name": "documentation", "color": "0075ca", "default": true, "description": "Improvements or additions to documentation"}, {"id": 6744338141, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u3Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 7389736720, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvEA", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:XXL", "name": "size:XXL", "color": "ffb8b8", "default": false, "description": "This PR changes 1000+ lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-07-25T22:48:05Z", "updated_at": "2025-07-26T23:48:30Z", "closed_at": "2025-07-26T23:07:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/697", "html_url": "https://github.com/slatedb/slatedb/pull/697", "diff_url": "https://github.com/slatedb/slatedb/pull/697.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/697.patch", "merged_at": "2025-07-26T23:07:43Z"}, "body": "This is an implementation of RFC 7, but with caveats.\r\n\r\nWhen I started implementing it, I realized that it lacked some details on the design itself. I opted for changing the `Error` type definition to match what I've seen in other very popular crates, instead of using an enum to define all the errors, the `Error` type is a generic error that includes a `ErrorKind` enum with the different error variants. This is similar to the implementation that the AWS SDK follows, for example.\r\n\r\nI also added a section to the RFC about internal vs external errors, and how to format errors to be consistent across the board. We can use that as a guideline when we introduce new errors, I noticed that there were a lot of variations in format, and I think it's better to constraint ourselves to some clear guidelines.\r\n\r\nThis is a short summary of what this massive PR includes:\r\n\r\n- Update the RFC with more information about error types and formatting.\r\n- Create the new public Error type.\r\n- Create a transformation between SlateDBError and the new Error type.\r\n- Update all public endpoint to use the new Error type.\r\n- Update abstract internal errors to be more specific.\r\n\r\nFixes #508 ", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/697/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/694", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/694/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/694/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/694/events", "html_url": "https://github.com/slatedb/slatedb/pull/694", "id": 3256808118, "node_id": "PR_kwDOLl4Bxc6gSrOu", "number": 694, "title": "Add deterministic simulation tests to SlateDB", "user": {"login": "criccomini", "id": 167569, "node_id": "MDQ6VXNlcjE2NzU2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/167569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/criccomini", "html_url": "https://github.com/criccomini", "followers_url": "https://api.github.com/users/criccomini/followers", "following_url": "https://api.github.com/users/criccomini/following{/other_user}", "gists_url": "https://api.github.com/users/criccomini/gists{/gist_id}", "starred_url": "https://api.github.com/users/criccomini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/criccomini/subscriptions", "organizations_url": "https://api.github.com/users/criccomini/orgs", "repos_url": "https://api.github.com/users/criccomini/repos", "events_url": "https://api.github.com/users/criccomini/events{/privacy}", "received_events_url": "https://api.github.com/users/criccomini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6744338141, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u3Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 7389736720, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvEA", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:XXL", "name": "size:XXL", "color": "ffb8b8", "default": false, "description": "This PR changes 1000+ lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-07-23T15:22:59Z", "updated_at": "2025-07-30T22:23:34Z", "closed_at": "2025-07-30T22:23:33Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/694", "html_url": "https://github.com/slatedb/slatedb/pull/694", "diff_url": "https://github.com/slatedb/slatedb/pull/694.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/694.patch", "merged_at": "2025-07-30T22:23:33Z"}, "body": "A `slatedb-dst` package is added in this PR. The package contains dst.rs, which contains a deterministic simulator that runs random operations against a SlateDB instance and verifies that the DB has the correct data. Several integration tests are available in `simulation.rs`; they've been added to the `pr.yaml` check, too. See the README.md, dst.rs docs, and simulations.rs docs for usage and implementation details.\r\n\r\nThere is still much to be done to improve the simulation tests:\r\n\r\n- Add unit tests to dst.rs to verify method behavior.\r\n- Add a CLI to trigger DST's outside of `cargo`\r\n- Incorporate DSTs into the `nightly.yaml`\r\n- Complete the `TODO`s to add more randomness and configuration\r\n- Add TTL, checkpointing, DbReader, and fencing (multi-writer), and DB close/open checks and actions\r\n- Incorporate the object store file cache and inject faults in the filesystem\r\n- Inject faults in the object store requests\r\n- Evaluate using proptest to build DB settings and generate random data\r\n- Verify log output is identical in `test_dst_is_deterministic` (we only verify final seed and times are identical)\r\n\r\nStill, I feel this is a good start and the PR is already fairly lengthy. I'd like to do the CLI and nightly.yaml as follow-ons. The remaining items can be completed over time.\r\n\r\nWhile running the tests, I discovered two instances of non-determinism in SlateDB:\r\n\r\n- The compactor was using `spawn_blocking` to start and stop compactions with the executor. I assumed `spawn_blocking` would be deterministic, but it turns out not to be. It spawns outside the `current_thread` Tokio runtime and creates a non-deterministic race between `.await` calls in the `current_thread` and those in the spawned thread. I fixed this by adding a branch for `#[cfg(dst)]` that uses tokio's `spawn`, which runs on the runtime threads. I opted not to use `spawn` for production code because we can't trust pluggable executors not to block for a long time on start/stop compaction calls; they could block our runtime threads.\r\n- ULID was using the RNG to deterministically generate the random portion of its bytes, but was still using its own clock for the timestamp portion. I fixed this by adding a `timestamp_ms` field to `gen_ulid`.\r\n\r\nI found the following resources helpful when doing this work:\r\n\r\n- https://pierrezemb.fr/posts/tokio-hidden-gems/\r\n- https://www.reddit.com/r/rust/comments/1jr8ogo/comment/mle11wh/\r\n- https://s2.dev/blog/dst\r\n\r\nFixes #267", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/694/reactions", "total_count": 8, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 6, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/694/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/691", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/691/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/691/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/691/events", "html_url": "https://github.com/slatedb/slatedb/pull/691", "id": 3253973862, "node_id": "PR_kwDOLl4Bxc6gJCNp", "number": 691, "title": "First-pass Go binding for SlateDB", "user": {"login": "CurryFishBalls9527", "id": 4686885, "node_id": "MDQ6VXNlcjQ2ODY4ODU=", "avatar_url": "https://avatars.githubusercontent.com/u/4686885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CurryFishBalls9527", "html_url": "https://github.com/CurryFishBalls9527", "followers_url": "https://api.github.com/users/CurryFishBalls9527/followers", "following_url": "https://api.github.com/users/CurryFishBalls9527/following{/other_user}", "gists_url": "https://api.github.com/users/CurryFishBalls9527/gists{/gist_id}", "starred_url": "https://api.github.com/users/CurryFishBalls9527/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CurryFishBalls9527/subscriptions", "organizations_url": "https://api.github.com/users/CurryFishBalls9527/orgs", "repos_url": "https://api.github.com/users/CurryFishBalls9527/repos", "events_url": "https://api.github.com/users/CurryFishBalls9527/events{/privacy}", "received_events_url": "https://api.github.com/users/CurryFishBalls9527/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7389736720, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvEA", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:XXL", "name": "size:XXL", "color": "ffb8b8", "default": false, "description": "This PR changes 1000+ lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2025-07-22T20:20:59Z", "updated_at": "2025-08-25T21:08:10Z", "closed_at": "2025-08-25T21:08:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/691", "html_url": "https://github.com/slatedb/slatedb/pull/691", "diff_url": "https://github.com/slatedb/slatedb/pull/691.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/691.patch", "merged_at": "2025-08-25T21:08:10Z"}, "body": "It's very basic and I'm not very familiar with gobindings & rust, but I was able to get basic stuff working. \r\n\r\nHope it helps!", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/691/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/691/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/688", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/688/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/688/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/688/events", "html_url": "https://github.com/slatedb/slatedb/pull/688", "id": 3249036355, "node_id": "PR_kwDOLl4Bxc6f4DqR", "number": 688, "title": "feat: add DbSnapshot", "user": {"login": "flaneur2020", "id": 129800, "node_id": "MDQ6VXNlcjEyOTgwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/129800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flaneur2020", "html_url": "https://github.com/flaneur2020", "followers_url": "https://api.github.com/users/flaneur2020/followers", "following_url": "https://api.github.com/users/flaneur2020/following{/other_user}", "gists_url": "https://api.github.com/users/flaneur2020/gists{/gist_id}", "starred_url": "https://api.github.com/users/flaneur2020/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flaneur2020/subscriptions", "organizations_url": "https://api.github.com/users/flaneur2020/orgs", "repos_url": "https://api.github.com/users/flaneur2020/repos", "events_url": "https://api.github.com/users/flaneur2020/events{/privacy}", "received_events_url": "https://api.github.com/users/flaneur2020/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6744338141, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u3Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 7389736720, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvEA", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:XXL", "name": "size:XXL", "color": "ffb8b8", "default": false, "description": "This PR changes 1000+ lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-07-21T15:06:34Z", "updated_at": "2025-08-11T17:17:22Z", "closed_at": "2025-08-11T16:07:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/688", "html_url": "https://github.com/slatedb/slatedb/pull/688", "diff_url": "https://github.com/slatedb/slatedb/pull/688.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/688.patch", "merged_at": "2025-08-11T16:07:29Z"}, "body": "this pr aims to add the API for creating snapshot.\r\n\r\na `DbSnapshot` contains all the read-only operations in a `Db` object. it records the seqnum at the moment when the `DbSnapshot` is created, and always making a consistent view as long as this `DbSnapshot` object lives.\r\n\r\nin the current design, `DbSnapshot` is not expected to work on the db read instance.\r\n\r\nwe can divide this pr into the following subtasks:\r\n\r\n- [x] scan() get() with `seq` passed\r\n- [x] track all the living `DbSnapshot` objects (maybe in a `TransactionManager`?)\r\n- [x] extract the `min_retention_seq` from living `DbSnapshot` objects, and persist it in manifest (flushed whenever memtable flushes)\r\n- [x] let the compactor handle the `min_retention_seq` by RetentionIterator #701\r\n- [x] exposing the API\r\n- [x] add tests\r\n", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/688/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/688/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/slatedb/slatedb/issues/683", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/683/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/683/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/683/events", "html_url": "https://github.com/slatedb/slatedb/pull/683", "id": 3238004474, "node_id": "PR_kwDOLl4Bxc6fS8p9", "number": 683, "title": "Remove tokio::time usage", "user": {"login": "criccomini", "id": 167569, "node_id": "MDQ6VXNlcjE2NzU2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/167569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/criccomini", "html_url": "https://github.com/criccomini", "followers_url": "https://api.github.com/users/criccomini/followers", "following_url": "https://api.github.com/users/criccomini/following{/other_user}", "gists_url": "https://api.github.com/users/criccomini/gists{/gist_id}", "starred_url": "https://api.github.com/users/criccomini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/criccomini/subscriptions", "organizations_url": "https://api.github.com/users/criccomini/orgs", "repos_url": "https://api.github.com/users/criccomini/repos", "events_url": "https://api.github.com/users/criccomini/events{/privacy}", "received_events_url": "https://api.github.com/users/criccomini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6744338141, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u3Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 7389736716, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvDA", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:XL", "name": "size:XL", "color": "ff823f", "default": false, "description": "This PR changes 500-999 lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-07-17T03:53:37Z", "updated_at": "2025-07-18T21:18:58Z", "closed_at": "2025-07-18T21:18:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/683", "html_url": "https://github.com/slatedb/slatedb/pull/683", "diff_url": "https://github.com/slatedb/slatedb/pull/683.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/683.patch", "merged_at": "2025-07-18T21:18:56Z"}, "body": "I thought it would be OK to continue to use `tokio::time` directly in SlateDB since we can pause/resume it in tests (e.g. with `start_paused=true`. Unfortunately, I found an issue with that when working on some deterministic simulation tests. The issue arises if you want to run a simulation test twice as though it were the same point in time. Unfortunately, Tokio's `time` module does not allow users to set a time in the past, only to advance it.\r\n\r\nThis PR goes through the code to replace (almost) all usage of `tokio::time` methods and types with our `SystemClock` trait. To accomplish all that tokio does for us, I had to introduce some new methods to our system clock: advance, sleep, and ticker. I opted to replace`timeout` usage witha  `tokio::select!` rather than fight with Rust's lifetime stuff more. If people strongly object lacking a `timeout` method, I can revisit it.\r\n\r\nThere are a few places where `tokio::time` is still used. All are in tests, and they're fairly harmless. Some day maybe we can scrub the remaining ones, but this PR is already quite large.\r\n\r\nThis PR also introduces `MockSystemClock`, which is a mock clock that's completely divorced from Tokio's time as well as std::time. It's entirely self-encapsulated, and allows users to set any time they want. This is the clock I use in my DST branch, and it seems to work quite nicely.\r\n\r\nI've also added tests for both the default and mock system clocks.\r\n\r\nNote that the mock clock is only available when SlateDB's `test-util` feature is enabled (this is a new feature in this PR). I had to go this route because DST is done in the `slatedb-dst` crate, which only has access to public APIs in SlateDB. Otherwise, I would have simply used `#[cfg(test)]`. The `test-util` follows Tokio's pattern as well.", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/683/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/683", "repository_url": "https://api.github.com/repos/slatedb/slatedb", "labels_url": "https://api.github.com/repos/slatedb/slatedb/issues/683/labels{/name}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/683/comments", "events_url": "https://api.github.com/repos/slatedb/slatedb/issues/683/events", "html_url": "https://github.com/slatedb/slatedb/pull/683", "id": 3238004474, "node_id": "PR_kwDOLl4Bxc6fS8p9", "number": 683, "title": "Remove tokio::time usage", "user": {"login": "criccomini", "id": 167569, "node_id": "MDQ6VXNlcjE2NzU2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/167569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/criccomini", "html_url": "https://github.com/criccomini", "followers_url": "https://api.github.com/users/criccomini/followers", "following_url": "https://api.github.com/users/criccomini/following{/other_user}", "gists_url": "https://api.github.com/users/criccomini/gists{/gist_id}", "starred_url": "https://api.github.com/users/criccomini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/criccomini/subscriptions", "organizations_url": "https://api.github.com/users/criccomini/orgs", "repos_url": "https://api.github.com/users/criccomini/repos", "events_url": "https://api.github.com/users/criccomini/events{/privacy}", "received_events_url": "https://api.github.com/users/criccomini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6744338141, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u3Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 7389736716, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvDA", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:XL", "name": "size:XL", "color": "ff823f", "default": false, "description": "This PR changes 500-999 lines, ignoring generated files."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-07-17T03:53:37Z", "updated_at": "2025-07-18T21:18:58Z", "closed_at": "2025-07-18T21:18:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/683", "html_url": "https://github.com/slatedb/slatedb/pull/683", "diff_url": "https://github.com/slatedb/slatedb/pull/683.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/683.patch", "merged_at": "2025-07-18T21:18:56Z"}, "body": "I thought it would be OK to continue to use `tokio::time` directly in SlateDB since we can pause/resume it in tests (e.g. with `start_paused=true`. Unfortunately, I found an issue with that when working on some deterministic simulation tests. The issue arises if you want to run a simulation test twice as though it were the same point in time. Unfortunately, Tokio's `time` module does not allow users to set a time in the past, only to advance it.\r\n\r\nThis PR goes through the code to replace (almost) all usage of `tokio::time` methods and types with our `SystemClock` trait. To accomplish all that tokio does for us, I had to introduce some new methods to our system clock: advance, sleep, and ticker. I opted to replace`timeout` usage witha  `tokio::select!` rather than fight with Rust's lifetime stuff more. If people strongly object lacking a `timeout` method, I can revisit it.\r\n\r\nThere are a few places where `tokio::time` is still used. All are in tests, and they're fairly harmless. Some day maybe we can scrub the remaining ones, but this PR is already quite large.\r\n\r\nThis PR also introduces `MockSystemClock`, which is a mock clock that's completely divorced from Tokio's time as well as std::time. It's entirely self-encapsulated, and allows users to set any time they want. This is the clock I use in my DST branch, and it seems to work quite nicely.\r\n\r\nI've also added tests for both the default and mock system clocks.\r\n\r\nNote that the mock clock is only available when SlateDB's `test-util` feature is enabled (this is a new feature in this PR). I had to go this route because DST is done in the `slatedb-dst` crate, which only has access to public APIs in SlateDB. Otherwise, I would have simply used `#[cfg(test)]`. The `test-util` follows Tokio's pattern as well.", "reactions": {"url": "https://api.github.com/repos/slatedb/slatedb/issues/683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/slatedb/slatedb/issues/683/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/slatedb/slatedb/pulls/683", "id": 2672544381, "node_id": "PR_kwDOLl4Bxc6fS8p9", "html_url": "https://github.com/slatedb/slatedb/pull/683", "diff_url": "https://github.com/slatedb/slatedb/pull/683.diff", "patch_url": "https://github.com/slatedb/slatedb/pull/683.patch", "issue_url": "https://api.github.com/repos/slatedb/slatedb/issues/683", "number": 683, "state": "closed", "locked": false, "title": "Remove tokio::time usage", "user": {"login": "criccomini", "id": 167569, "node_id": "MDQ6VXNlcjE2NzU2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/167569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/criccomini", "html_url": "https://github.com/criccomini", "followers_url": "https://api.github.com/users/criccomini/followers", "following_url": "https://api.github.com/users/criccomini/following{/other_user}", "gists_url": "https://api.github.com/users/criccomini/gists{/gist_id}", "starred_url": "https://api.github.com/users/criccomini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/criccomini/subscriptions", "organizations_url": "https://api.github.com/users/criccomini/orgs", "repos_url": "https://api.github.com/users/criccomini/repos", "events_url": "https://api.github.com/users/criccomini/events{/privacy}", "received_events_url": "https://api.github.com/users/criccomini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "I thought it would be OK to continue to use `tokio::time` directly in SlateDB since we can pause/resume it in tests (e.g. with `start_paused=true`. Unfortunately, I found an issue with that when working on some deterministic simulation tests. The issue arises if you want to run a simulation test twice as though it were the same point in time. Unfortunately, Tokio's `time` module does not allow users to set a time in the past, only to advance it.\r\n\r\nThis PR goes through the code to replace (almost) all usage of `tokio::time` methods and types with our `SystemClock` trait. To accomplish all that tokio does for us, I had to introduce some new methods to our system clock: advance, sleep, and ticker. I opted to replace`timeout` usage witha  `tokio::select!` rather than fight with Rust's lifetime stuff more. If people strongly object lacking a `timeout` method, I can revisit it.\r\n\r\nThere are a few places where `tokio::time` is still used. All are in tests, and they're fairly harmless. Some day maybe we can scrub the remaining ones, but this PR is already quite large.\r\n\r\nThis PR also introduces `MockSystemClock`, which is a mock clock that's completely divorced from Tokio's time as well as std::time. It's entirely self-encapsulated, and allows users to set any time they want. This is the clock I use in my DST branch, and it seems to work quite nicely.\r\n\r\nI've also added tests for both the default and mock system clocks.\r\n\r\nNote that the mock clock is only available when SlateDB's `test-util` feature is enabled (this is a new feature in this PR). I had to go this route because DST is done in the `slatedb-dst` crate, which only has access to public APIs in SlateDB. Otherwise, I would have simply used `#[cfg(test)]`. The `test-util` follows Tokio's pattern as well.", "created_at": "2025-07-17T03:53:37Z", "updated_at": "2025-07-18T21:18:58Z", "closed_at": "2025-07-18T21:18:56Z", "merged_at": "2025-07-18T21:18:56Z", "merge_commit_sha": "9f58bf62f2b9e6883e450ea7a9b837daa39ce7f9", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 6744338141, "node_id": "LA_kwDOLl4Bxc8AAAABkf5u3Q", "url": "https://api.github.com/repos/slatedb/slatedb/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 7389736716, "node_id": "LA_kwDOLl4Bxc8AAAABuHZvDA", "url": "https://api.github.com/repos/slatedb/slatedb/labels/size:XL", "name": "size:XL", "color": "ff823f", "default": false, "description": "This PR changes 500-999 lines, ignoring generated files."}], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/slatedb/slatedb/pulls/683/commits", "review_comments_url": "https://api.github.com/repos/slatedb/slatedb/pulls/683/comments", "review_comment_url": "https://api.github.com/repos/slatedb/slatedb/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/issues/683/comments", "statuses_url": "https://api.github.com/repos/slatedb/slatedb/statuses/b519a8876898275a1051b6b4ff9c6361313ec582", "head": {"label": "slatedb:remove-tokio-time", "ref": "remove-tokio-time", "sha": "b519a8876898275a1051b6b4ff9c6361313ec582", "user": {"login": "slatedb", "id": 165073571, "node_id": "O_kgDOCdbSow", "avatar_url": "https://avatars.githubusercontent.com/u/165073571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slatedb", "html_url": "https://github.com/slatedb", "followers_url": "https://api.github.com/users/slatedb/followers", "following_url": "https://api.github.com/users/slatedb/following{/other_user}", "gists_url": "https://api.github.com/users/slatedb/gists{/gist_id}", "starred_url": "https://api.github.com/users/slatedb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slatedb/subscriptions", "organizations_url": "https://api.github.com/users/slatedb/orgs", "repos_url": "https://api.github.com/users/slatedb/repos", "events_url": "https://api.github.com/users/slatedb/events{/privacy}", "received_events_url": "https://api.github.com/users/slatedb/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 777912773, "node_id": "R_kgDOLl4BxQ", "name": "slatedb", "full_name": "slatedb/slatedb", "private": false, "owner": {"login": "slatedb", "id": 165073571, "node_id": "O_kgDOCdbSow", "avatar_url": "https://avatars.githubusercontent.com/u/165073571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slatedb", "html_url": "https://github.com/slatedb", "followers_url": "https://api.github.com/users/slatedb/followers", "following_url": "https://api.github.com/users/slatedb/following{/other_user}", "gists_url": "https://api.github.com/users/slatedb/gists{/gist_id}", "starred_url": "https://api.github.com/users/slatedb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slatedb/subscriptions", "organizations_url": "https://api.github.com/users/slatedb/orgs", "repos_url": "https://api.github.com/users/slatedb/repos", "events_url": "https://api.github.com/users/slatedb/events{/privacy}", "received_events_url": "https://api.github.com/users/slatedb/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/slatedb/slatedb", "description": "A cloud native embedded storage engine built on object storage.", "fork": false, "url": "https://api.github.com/repos/slatedb/slatedb", "forks_url": "https://api.github.com/repos/slatedb/slatedb/forks", "keys_url": "https://api.github.com/repos/slatedb/slatedb/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/slatedb/slatedb/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/slatedb/slatedb/teams", "hooks_url": "https://api.github.com/repos/slatedb/slatedb/hooks", "issue_events_url": "https://api.github.com/repos/slatedb/slatedb/issues/events{/number}", "events_url": "https://api.github.com/repos/slatedb/slatedb/events", "assignees_url": "https://api.github.com/repos/slatedb/slatedb/assignees{/user}", "branches_url": "https://api.github.com/repos/slatedb/slatedb/branches{/branch}", "tags_url": "https://api.github.com/repos/slatedb/slatedb/tags", "blobs_url": "https://api.github.com/repos/slatedb/slatedb/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/slatedb/slatedb/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/slatedb/slatedb/git/refs{/sha}", "trees_url": "https://api.github.com/repos/slatedb/slatedb/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/slatedb/slatedb/statuses/{sha}", "languages_url": "https://api.github.com/repos/slatedb/slatedb/languages", "stargazers_url": "https://api.github.com/repos/slatedb/slatedb/stargazers", "contributors_url": "https://api.github.com/repos/slatedb/slatedb/contributors", "subscribers_url": "https://api.github.com/repos/slatedb/slatedb/subscribers", "subscription_url": "https://api.github.com/repos/slatedb/slatedb/subscription", "commits_url": "https://api.github.com/repos/slatedb/slatedb/commits{/sha}", "git_commits_url": "https://api.github.com/repos/slatedb/slatedb/git/commits{/sha}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/comments{/number}", "issue_comment_url": "https://api.github.com/repos/slatedb/slatedb/issues/comments{/number}", "contents_url": "https://api.github.com/repos/slatedb/slatedb/contents/{+path}", "compare_url": "https://api.github.com/repos/slatedb/slatedb/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/slatedb/slatedb/merges", "archive_url": "https://api.github.com/repos/slatedb/slatedb/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/slatedb/slatedb/downloads", "issues_url": "https://api.github.com/repos/slatedb/slatedb/issues{/number}", "pulls_url": "https://api.github.com/repos/slatedb/slatedb/pulls{/number}", "milestones_url": "https://api.github.com/repos/slatedb/slatedb/milestones{/number}", "notifications_url": "https://api.github.com/repos/slatedb/slatedb/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/slatedb/slatedb/labels{/name}", "releases_url": "https://api.github.com/repos/slatedb/slatedb/releases{/id}", "deployments_url": "https://api.github.com/repos/slatedb/slatedb/deployments", "created_at": "2024-03-26T18:28:31Z", "updated_at": "2026-01-21T01:11:18Z", "pushed_at": "2026-01-21T01:11:14Z", "git_url": "git://github.com/slatedb/slatedb.git", "ssh_url": "git@github.com:slatedb/slatedb.git", "clone_url": "https://github.com/slatedb/slatedb.git", "svn_url": "https://github.com/slatedb/slatedb", "homepage": "https://slatedb.io", "size": 4214, "stargazers_count": 2649, "watchers_count": 2649, "language": "Rust", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": true, "has_discussions": false, "forks_count": 178, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 152, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["database", "embedded-database", "lsm-tree", "object-storage", "rocksdb", "rust", "storage-engine"], "visibility": "public", "forks": 178, "open_issues": 152, "watchers": 2649, "default_branch": "main"}}, "base": {"label": "slatedb:main", "ref": "main", "sha": "e318f5d191bcb212189dfceb13a52b1d2c9140c5", "user": {"login": "slatedb", "id": 165073571, "node_id": "O_kgDOCdbSow", "avatar_url": "https://avatars.githubusercontent.com/u/165073571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slatedb", "html_url": "https://github.com/slatedb", "followers_url": "https://api.github.com/users/slatedb/followers", "following_url": "https://api.github.com/users/slatedb/following{/other_user}", "gists_url": "https://api.github.com/users/slatedb/gists{/gist_id}", "starred_url": "https://api.github.com/users/slatedb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slatedb/subscriptions", "organizations_url": "https://api.github.com/users/slatedb/orgs", "repos_url": "https://api.github.com/users/slatedb/repos", "events_url": "https://api.github.com/users/slatedb/events{/privacy}", "received_events_url": "https://api.github.com/users/slatedb/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 777912773, "node_id": "R_kgDOLl4BxQ", "name": "slatedb", "full_name": "slatedb/slatedb", "private": false, "owner": {"login": "slatedb", "id": 165073571, "node_id": "O_kgDOCdbSow", "avatar_url": "https://avatars.githubusercontent.com/u/165073571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slatedb", "html_url": "https://github.com/slatedb", "followers_url": "https://api.github.com/users/slatedb/followers", "following_url": "https://api.github.com/users/slatedb/following{/other_user}", "gists_url": "https://api.github.com/users/slatedb/gists{/gist_id}", "starred_url": "https://api.github.com/users/slatedb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slatedb/subscriptions", "organizations_url": "https://api.github.com/users/slatedb/orgs", "repos_url": "https://api.github.com/users/slatedb/repos", "events_url": "https://api.github.com/users/slatedb/events{/privacy}", "received_events_url": "https://api.github.com/users/slatedb/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/slatedb/slatedb", "description": "A cloud native embedded storage engine built on object storage.", "fork": false, "url": "https://api.github.com/repos/slatedb/slatedb", "forks_url": "https://api.github.com/repos/slatedb/slatedb/forks", "keys_url": "https://api.github.com/repos/slatedb/slatedb/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/slatedb/slatedb/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/slatedb/slatedb/teams", "hooks_url": "https://api.github.com/repos/slatedb/slatedb/hooks", "issue_events_url": "https://api.github.com/repos/slatedb/slatedb/issues/events{/number}", "events_url": "https://api.github.com/repos/slatedb/slatedb/events", "assignees_url": "https://api.github.com/repos/slatedb/slatedb/assignees{/user}", "branches_url": "https://api.github.com/repos/slatedb/slatedb/branches{/branch}", "tags_url": "https://api.github.com/repos/slatedb/slatedb/tags", "blobs_url": "https://api.github.com/repos/slatedb/slatedb/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/slatedb/slatedb/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/slatedb/slatedb/git/refs{/sha}", "trees_url": "https://api.github.com/repos/slatedb/slatedb/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/slatedb/slatedb/statuses/{sha}", "languages_url": "https://api.github.com/repos/slatedb/slatedb/languages", "stargazers_url": "https://api.github.com/repos/slatedb/slatedb/stargazers", "contributors_url": "https://api.github.com/repos/slatedb/slatedb/contributors", "subscribers_url": "https://api.github.com/repos/slatedb/slatedb/subscribers", "subscription_url": "https://api.github.com/repos/slatedb/slatedb/subscription", "commits_url": "https://api.github.com/repos/slatedb/slatedb/commits{/sha}", "git_commits_url": "https://api.github.com/repos/slatedb/slatedb/git/commits{/sha}", "comments_url": "https://api.github.com/repos/slatedb/slatedb/comments{/number}", "issue_comment_url": "https://api.github.com/repos/slatedb/slatedb/issues/comments{/number}", "contents_url": "https://api.github.com/repos/slatedb/slatedb/contents/{+path}", "compare_url": "https://api.github.com/repos/slatedb/slatedb/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/slatedb/slatedb/merges", "archive_url": "https://api.github.com/repos/slatedb/slatedb/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/slatedb/slatedb/downloads", "issues_url": "https://api.github.com/repos/slatedb/slatedb/issues{/number}", "pulls_url": "https://api.github.com/repos/slatedb/slatedb/pulls{/number}", "milestones_url": "https://api.github.com/repos/slatedb/slatedb/milestones{/number}", "notifications_url": "https://api.github.com/repos/slatedb/slatedb/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/slatedb/slatedb/labels{/name}", "releases_url": "https://api.github.com/repos/slatedb/slatedb/releases{/id}", "deployments_url": "https://api.github.com/repos/slatedb/slatedb/deployments", "created_at": "2024-03-26T18:28:31Z", "updated_at": "2026-01-21T01:11:18Z", "pushed_at": "2026-01-21T01:11:14Z", "git_url": "git://github.com/slatedb/slatedb.git", "ssh_url": "git@github.com:slatedb/slatedb.git", "clone_url": "https://github.com/slatedb/slatedb.git", "svn_url": "https://github.com/slatedb/slatedb", "homepage": "https://slatedb.io", "size": 4214, "stargazers_count": 2649, "watchers_count": 2649, "language": "Rust", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": true, "has_discussions": false, "forks_count": 178, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 152, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["database", "embedded-database", "lsm-tree", "object-storage", "rocksdb", "rust", "storage-engine"], "visibility": "public", "forks": 178, "open_issues": 152, "watchers": 2649, "default_branch": "main"}}, "_links": {"self": {"href": "https://api.github.com/repos/slatedb/slatedb/pulls/683"}, "html": {"href": "https://github.com/slatedb/slatedb/pull/683"}, "issue": {"href": "https://api.github.com/repos/slatedb/slatedb/issues/683"}, "comments": {"href": "https://api.github.com/repos/slatedb/slatedb/issues/683/comments"}, "review_comments": {"href": "https://api.github.com/repos/slatedb/slatedb/pulls/683/comments"}, "review_comment": {"href": "https://api.github.com/repos/slatedb/slatedb/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/slatedb/slatedb/pulls/683/commits"}, "statuses": {"href": "https://api.github.com/repos/slatedb/slatedb/statuses/b519a8876898275a1051b6b4ff9c6361313ec582"}}, "author_association": "COLLABORATOR", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "criccomini", "id": 167569, "node_id": "MDQ6VXNlcjE2NzU2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/167569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/criccomini", "html_url": "https://github.com/criccomini", "followers_url": "https://api.github.com/users/criccomini/followers", "following_url": "https://api.github.com/users/criccomini/following{/other_user}", "gists_url": "https://api.github.com/users/criccomini/gists{/gist_id}", "starred_url": "https://api.github.com/users/criccomini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/criccomini/subscriptions", "organizations_url": "https://api.github.com/users/criccomini/orgs", "repos_url": "https://api.github.com/users/criccomini/repos", "events_url": "https://api.github.com/users/criccomini/events{/privacy}", "received_events_url": "https://api.github.com/users/criccomini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 2, "review_comments": 18, "maintainer_can_modify": false, "commits": 28, "additions": 621, "deletions": 115, "changed_files": 21}}