{"window": ["2020-05-06T17:17:17.671380+00:00", "2021-11-13T12:12:19.801866+00:00"], "repo_slug": "alexheretic/glyph-brush", "candidates": [{"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/127", "id": 787338902, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU2MDcwODI0", "number": 127, "title": "Optimise lower workloads by not multithreading", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-16T03:41:41Z", "updated_at": "2021-01-16T23:41:00Z", "closed_at": "2021-01-16T23:40:59Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/127", "html_url": "https://github.com/alexheretic/glyph-brush/pull/127", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/127.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/127.patch", "merged_at": "2021-01-16T23:40:58Z"}, "body": "This pr aims to eliminate cases where default (multithread=true) performs worse than setting multithread=off. Instead we'll only use multithread code paths if it looks like they'll be significant gains.\r\n\r\n* Remove multithreaded outlining completely.\r\n* Calculate a draw work magnitude and only use mt if it's high enough to look worth it.\r\n* Add `st_vs_mt` benchmark code.\r\n\r\n# Investigation\r\n`st_vs_mt` benchmark runs through a set of scenarios of 16-1500 unicode glyphs at scales 12px-150px.\r\n\r\nThere are two areas that can use multithreading, outlining & rasterizing. An early testing result of just mt-outlining against singlethreaded (st) showed the mt outlining isn't providing much value.\r\n<details><p>\r\n\r\n```\r\ngroup                     mt-outline-only       st\r\n-----                     ---------------       --\r\nbench_1500_chars_150px    1.02     45.5\u00b10.17ms  1.00     44.5\u00b10.23ms\r\nbench_1500_chars_75px     1.00     17.1\u00b10.17ms  1.00     17.2\u00b10.04ms\r\nbench_1500_chars_30px     1.00      5.8\u00b10.03ms  1.08      6.2\u00b10.04ms\r\nbench_1500_chars_12px     1.00      2.6\u00b10.02ms  1.15      2.9\u00b10.02ms\r\nbench_300_chars_150px     1.03     14.4\u00b10.14ms  1.00     14.0\u00b10.18ms\r\nbench_300_chars_75px      1.04      4.6\u00b10.05ms  1.00      4.5\u00b10.01ms\r\nbench_300_chars_30px      1.00  1494.0\u00b127.63\u00b5s  1.00  1497.0\u00b116.47\u00b5s\r\nbench_300_chars_12px      1.00   727.8\u00b111.16\u00b5s  1.05    766.0\u00b15.30\u00b5s\r\nbench_50_chars_150px      1.06      2.7\u00b10.03ms  1.00      2.5\u00b10.00ms\r\nbench_50_chars_75px       1.15   903.1\u00b120.58\u00b5s  1.00    788.0\u00b16.46\u00b5s\r\nbench_50_chars_30px       1.27    321.0\u00b16.58\u00b5s  1.00    252.2\u00b11.05\u00b5s\r\nbench_50_chars_12px       1.42    182.5\u00b12.24\u00b5s  1.00    128.9\u00b10.74\u00b5s\r\nbench_16_chars_150px      1.16   895.2\u00b119.25\u00b5s  1.00    768.6\u00b17.30\u00b5s\r\nbench_16_chars_75px       1.35    322.9\u00b14.27\u00b5s  1.00    239.6\u00b10.92\u00b5s\r\nbench_16_chars_30px       1.82    141.0\u00b12.72\u00b5s  1.00     77.7\u00b10.31\u00b5s\r\nbench_16_chars_12px       2.17     88.6\u00b12.55\u00b5s  1.00     40.9\u00b10.17\u00b5s\r\n```\r\n\r\n</p></details>\r\n\r\nHowever, mt drawing _is_ worth it, at least in some cases.\r\n```\r\ngroup                     mt                    st\r\n-----                     --                    --\r\nbench_1500_chars_150px    1.00     17.0\u00b10.22ms  2.62     44.5\u00b10.23ms\r\nbench_1500_chars_75px     1.00      6.6\u00b10.07ms  2.60     17.2\u00b10.04ms\r\nbench_1500_chars_30px     1.00      3.2\u00b10.09ms  1.96      6.2\u00b10.04ms\r\nbench_1500_chars_12px     1.00      2.3\u00b10.07ms  1.26      2.9\u00b10.02ms\r\nbench_300_chars_150px     1.00      5.2\u00b10.15ms  2.67     14.0\u00b10.18ms\r\nbench_300_chars_75px      1.00  1824.5\u00b123.38\u00b5s  2.44      4.5\u00b10.01ms\r\nbench_300_chars_30px      1.00   881.4\u00b148.28\u00b5s  1.70  1497.0\u00b116.47\u00b5s\r\nbench_300_chars_12px      1.00   731.5\u00b168.70\u00b5s  1.05    766.0\u00b15.30\u00b5s\r\nbench_50_chars_150px      1.00  1105.0\u00b140.98\u00b5s  2.30      2.5\u00b10.00ms\r\nbench_50_chars_75px       1.00   455.9\u00b132.55\u00b5s  1.73    788.0\u00b16.46\u00b5s\r\nbench_50_chars_30px       1.00   250.3\u00b129.70\u00b5s  1.01    252.2\u00b11.05\u00b5s\r\nbench_50_chars_12px       1.67   214.6\u00b132.25\u00b5s  1.00    128.9\u00b10.74\u00b5s\r\nbench_16_chars_150px      1.00   458.8\u00b137.79\u00b5s  1.68    768.6\u00b17.30\u00b5s\r\nbench_16_chars_75px       1.00   226.3\u00b148.51\u00b5s  1.06    239.6\u00b10.92\u00b5s\r\nbench_16_chars_30px       1.80   139.9\u00b130.99\u00b5s  1.00     77.7\u00b10.31\u00b5s\r\nbench_16_chars_12px       2.90   118.5\u00b119.80\u00b5s  1.00     40.9\u00b10.17\u00b5s\r\n```\r\n\r\nmt code can be faster. But it can also be slower for small workloads. It's also worth noting that when the performance is the similar we can assume the single thread version will be more power efficient.\r\n\r\nUsing the tallest glyph height & multiplying by the number of glyphs I calculated a \"work magnitude\". This can be used to target cases where we expect a decent speedup. I plucked out min magnitude `8742`:\r\n```\r\ngroup                     mt(>=mag:8742)        st\r\n-----                     --------------        --\r\nbench_1500_chars_150px    1.00     17.1\u00b10.26ms  2.61     44.5\u00b10.23ms\r\nbench_1500_chars_75px     1.00      6.7\u00b10.17ms  2.58     17.2\u00b10.04ms\r\nbench_1500_chars_30px     1.00      3.2\u00b10.08ms  1.94      6.2\u00b10.04ms\r\nbench_1500_chars_12px     1.00      2.4\u00b10.09ms  1.24      2.9\u00b10.02ms\r\nbench_300_chars_150px     1.00      5.2\u00b10.07ms  2.70     14.0\u00b10.18ms\r\nbench_300_chars_75px      1.00  1850.1\u00b143.15\u00b5s  2.41      4.5\u00b10.01ms\r\nbench_300_chars_30px      1.00   891.4\u00b160.93\u00b5s  1.68  1497.0\u00b116.47\u00b5s\r\nbench_300_chars_12px      1.01   772.7\u00b117.17\u00b5s  1.00    766.0\u00b15.30\u00b5s\r\nbench_50_chars_150px      1.01      2.6\u00b10.01ms  1.00      2.5\u00b10.00ms\r\nbench_50_chars_75px       1.02   801.7\u00b121.66\u00b5s  1.00    788.0\u00b16.46\u00b5s\r\nbench_50_chars_30px       1.00    248.0\u00b10.92\u00b5s  1.02    252.2\u00b11.05\u00b5s\r\nbench_50_chars_12px       1.00    128.7\u00b10.63\u00b5s  1.00    128.9\u00b10.74\u00b5s\r\nbench_16_chars_150px      1.00    765.9\u00b16.20\u00b5s  1.00    768.6\u00b17.30\u00b5s\r\nbench_16_chars_75px       1.01    241.2\u00b10.78\u00b5s  1.00    239.6\u00b10.92\u00b5s\r\nbench_16_chars_30px       1.00     77.3\u00b10.38\u00b5s  1.00     77.7\u00b10.31\u00b5s\r\nbench_16_chars_12px       1.00     38.6\u00b10.20\u00b5s  1.06     40.9\u00b10.17\u00b5s\r\n```\r\n\r\nNow only `bench_300_chars_30px` and larger magnitude work is using multithreading. While not an exact science the work estimate is good enough to ensure mt benches are never slower than st. So this should resolve #125.", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/102", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/102/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/102/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/102", "id": 614836549, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE1MzEwMjQx", "number": 102, "title": "Rework to use ab_glyph instead of rusttype", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-08T16:09:07Z", "updated_at": "2020-05-11T18:32:38Z", "closed_at": "2020-05-11T18:32:37Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/102", "html_url": "https://github.com/alexheretic/glyph-brush/pull/102", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/102.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/102.patch", "merged_at": "2020-05-11T18:32:36Z"}, "body": "* Use **ab_glyph** instead of **rusttype** which is faster and brings support for .otf fonts to glyph-brush.\r\n* Create crate **glyph_brush_draw_cache** to replace rusttype's gpu_cache module.\r\n* Rework crate to remove any reliance on glyph outlines, ie pixel bounds is gone.\r\n* Layout no longer supports color, but provides section & byte index for each glyph meaning associated data of all kinds can be supported (instead of just color).\r\n\r\nResolves #100\r\nCloses #101 \r\n\r\n## Benches\r\n```\r\ngroup                                                   new                       master              \r\n-----                                                   ---                       ------              \r\ncontinually_modify_alpha_of_1_of_3                      1.00   357.7\u00b124.61\u00b5s      1.05   376.7\u00b115.00\u00b5s\r\ncontinually_modify_bounds_of_1_of_3                     1.00   635.4\u00b135.96\u00b5s      1.11   704.5\u00b140.53\u00b5s\r\ncontinually_modify_end_text_of_1_of_3                   1.00   634.7\u00b115.87\u00b5s      1.11    703.4\u00b16.54\u00b5s\r\ncontinually_modify_middle_text_of_1_of_3                1.00   645.4\u00b115.22\u00b5s      1.11   714.6\u00b118.68\u00b5s\r\ncontinually_modify_position_of_1_of_3                   1.00   349.0\u00b127.97\u00b5s      1.10   383.6\u00b114.12\u00b5s\r\ncontinually_modify_start_text_of_1_of_3                 1.00   637.8\u00b113.74\u00b5s      1.10    703.7\u00b13.05\u00b5s\r\nno_cache_render_100_small_sections_fully                1.00      3.0\u00b10.10ms      1.36      4.1\u00b10.01ms\r\nno_cache_render_1_large_section_partially               1.00    561.4\u00b13.38\u00b5s      1.07    603.5\u00b18.10\u00b5s\r\nno_cache_render_3_medium_sections_fully                 1.00  1271.9\u00b112.63\u00b5s      1.31  1664.9\u00b121.95\u00b5s\r\nno_cache_render_v_bottom_1_large_section_partially      1.00      4.8\u00b10.02ms      1.60      7.7\u00b10.09ms\r\nno_cache_render_v_center_1_large_section_partially      1.00      4.7\u00b10.03ms      1.62      7.7\u00b10.11ms\r\nrender_100_small_sections_fully                         1.00     24.5\u00b10.75\u00b5s      1.15     28.2\u00b11.02\u00b5s\r\nrender_3_medium_sections_fully                          1.00  1085.0\u00b114.22ns      1.10  1191.9\u00b112.46ns\r\n```", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/102/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/102/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127", "repository_url": "https://api.github.com/repos/alexheretic/glyph-brush", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/comments", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/events", "html_url": "https://github.com/alexheretic/glyph-brush/pull/127", "id": 787338902, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU2MDcwODI0", "number": 127, "title": "Optimise lower workloads by not multithreading", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-16T03:41:41Z", "updated_at": "2021-01-16T23:41:00Z", "closed_at": "2021-01-16T23:40:59Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/127", "html_url": "https://github.com/alexheretic/glyph-brush/pull/127", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/127.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/127.patch", "merged_at": "2021-01-16T23:40:58Z"}, "body": "This pr aims to eliminate cases where default (multithread=true) performs worse than setting multithread=off. Instead we'll only use multithread code paths if it looks like they'll be significant gains.\r\n\r\n* Remove multithreaded outlining completely.\r\n* Calculate a draw work magnitude and only use mt if it's high enough to look worth it.\r\n* Add `st_vs_mt` benchmark code.\r\n\r\n# Investigation\r\n`st_vs_mt` benchmark runs through a set of scenarios of 16-1500 unicode glyphs at scales 12px-150px.\r\n\r\nThere are two areas that can use multithreading, outlining & rasterizing. An early testing result of just mt-outlining against singlethreaded (st) showed the mt outlining isn't providing much value.\r\n<details><p>\r\n\r\n```\r\ngroup                     mt-outline-only       st\r\n-----                     ---------------       --\r\nbench_1500_chars_150px    1.02     45.5\u00b10.17ms  1.00     44.5\u00b10.23ms\r\nbench_1500_chars_75px     1.00     17.1\u00b10.17ms  1.00     17.2\u00b10.04ms\r\nbench_1500_chars_30px     1.00      5.8\u00b10.03ms  1.08      6.2\u00b10.04ms\r\nbench_1500_chars_12px     1.00      2.6\u00b10.02ms  1.15      2.9\u00b10.02ms\r\nbench_300_chars_150px     1.03     14.4\u00b10.14ms  1.00     14.0\u00b10.18ms\r\nbench_300_chars_75px      1.04      4.6\u00b10.05ms  1.00      4.5\u00b10.01ms\r\nbench_300_chars_30px      1.00  1494.0\u00b127.63\u00b5s  1.00  1497.0\u00b116.47\u00b5s\r\nbench_300_chars_12px      1.00   727.8\u00b111.16\u00b5s  1.05    766.0\u00b15.30\u00b5s\r\nbench_50_chars_150px      1.06      2.7\u00b10.03ms  1.00      2.5\u00b10.00ms\r\nbench_50_chars_75px       1.15   903.1\u00b120.58\u00b5s  1.00    788.0\u00b16.46\u00b5s\r\nbench_50_chars_30px       1.27    321.0\u00b16.58\u00b5s  1.00    252.2\u00b11.05\u00b5s\r\nbench_50_chars_12px       1.42    182.5\u00b12.24\u00b5s  1.00    128.9\u00b10.74\u00b5s\r\nbench_16_chars_150px      1.16   895.2\u00b119.25\u00b5s  1.00    768.6\u00b17.30\u00b5s\r\nbench_16_chars_75px       1.35    322.9\u00b14.27\u00b5s  1.00    239.6\u00b10.92\u00b5s\r\nbench_16_chars_30px       1.82    141.0\u00b12.72\u00b5s  1.00     77.7\u00b10.31\u00b5s\r\nbench_16_chars_12px       2.17     88.6\u00b12.55\u00b5s  1.00     40.9\u00b10.17\u00b5s\r\n```\r\n\r\n</p></details>\r\n\r\nHowever, mt drawing _is_ worth it, at least in some cases.\r\n```\r\ngroup                     mt                    st\r\n-----                     --                    --\r\nbench_1500_chars_150px    1.00     17.0\u00b10.22ms  2.62     44.5\u00b10.23ms\r\nbench_1500_chars_75px     1.00      6.6\u00b10.07ms  2.60     17.2\u00b10.04ms\r\nbench_1500_chars_30px     1.00      3.2\u00b10.09ms  1.96      6.2\u00b10.04ms\r\nbench_1500_chars_12px     1.00      2.3\u00b10.07ms  1.26      2.9\u00b10.02ms\r\nbench_300_chars_150px     1.00      5.2\u00b10.15ms  2.67     14.0\u00b10.18ms\r\nbench_300_chars_75px      1.00  1824.5\u00b123.38\u00b5s  2.44      4.5\u00b10.01ms\r\nbench_300_chars_30px      1.00   881.4\u00b148.28\u00b5s  1.70  1497.0\u00b116.47\u00b5s\r\nbench_300_chars_12px      1.00   731.5\u00b168.70\u00b5s  1.05    766.0\u00b15.30\u00b5s\r\nbench_50_chars_150px      1.00  1105.0\u00b140.98\u00b5s  2.30      2.5\u00b10.00ms\r\nbench_50_chars_75px       1.00   455.9\u00b132.55\u00b5s  1.73    788.0\u00b16.46\u00b5s\r\nbench_50_chars_30px       1.00   250.3\u00b129.70\u00b5s  1.01    252.2\u00b11.05\u00b5s\r\nbench_50_chars_12px       1.67   214.6\u00b132.25\u00b5s  1.00    128.9\u00b10.74\u00b5s\r\nbench_16_chars_150px      1.00   458.8\u00b137.79\u00b5s  1.68    768.6\u00b17.30\u00b5s\r\nbench_16_chars_75px       1.00   226.3\u00b148.51\u00b5s  1.06    239.6\u00b10.92\u00b5s\r\nbench_16_chars_30px       1.80   139.9\u00b130.99\u00b5s  1.00     77.7\u00b10.31\u00b5s\r\nbench_16_chars_12px       2.90   118.5\u00b119.80\u00b5s  1.00     40.9\u00b10.17\u00b5s\r\n```\r\n\r\nmt code can be faster. But it can also be slower for small workloads. It's also worth noting that when the performance is the similar we can assume the single thread version will be more power efficient.\r\n\r\nUsing the tallest glyph height & multiplying by the number of glyphs I calculated a \"work magnitude\". This can be used to target cases where we expect a decent speedup. I plucked out min magnitude `8742`:\r\n```\r\ngroup                     mt(>=mag:8742)        st\r\n-----                     --------------        --\r\nbench_1500_chars_150px    1.00     17.1\u00b10.26ms  2.61     44.5\u00b10.23ms\r\nbench_1500_chars_75px     1.00      6.7\u00b10.17ms  2.58     17.2\u00b10.04ms\r\nbench_1500_chars_30px     1.00      3.2\u00b10.08ms  1.94      6.2\u00b10.04ms\r\nbench_1500_chars_12px     1.00      2.4\u00b10.09ms  1.24      2.9\u00b10.02ms\r\nbench_300_chars_150px     1.00      5.2\u00b10.07ms  2.70     14.0\u00b10.18ms\r\nbench_300_chars_75px      1.00  1850.1\u00b143.15\u00b5s  2.41      4.5\u00b10.01ms\r\nbench_300_chars_30px      1.00   891.4\u00b160.93\u00b5s  1.68  1497.0\u00b116.47\u00b5s\r\nbench_300_chars_12px      1.01   772.7\u00b117.17\u00b5s  1.00    766.0\u00b15.30\u00b5s\r\nbench_50_chars_150px      1.01      2.6\u00b10.01ms  1.00      2.5\u00b10.00ms\r\nbench_50_chars_75px       1.02   801.7\u00b121.66\u00b5s  1.00    788.0\u00b16.46\u00b5s\r\nbench_50_chars_30px       1.00    248.0\u00b10.92\u00b5s  1.02    252.2\u00b11.05\u00b5s\r\nbench_50_chars_12px       1.00    128.7\u00b10.63\u00b5s  1.00    128.9\u00b10.74\u00b5s\r\nbench_16_chars_150px      1.00    765.9\u00b16.20\u00b5s  1.00    768.6\u00b17.30\u00b5s\r\nbench_16_chars_75px       1.01    241.2\u00b10.78\u00b5s  1.00    239.6\u00b10.92\u00b5s\r\nbench_16_chars_30px       1.00     77.3\u00b10.38\u00b5s  1.00     77.7\u00b10.31\u00b5s\r\nbench_16_chars_12px       1.00     38.6\u00b10.20\u00b5s  1.06     40.9\u00b10.17\u00b5s\r\n```\r\n\r\nNow only `bench_300_chars_30px` and larger magnitude work is using multithreading. While not an exact science the work estimate is good enough to ensure mt benches are never slower than st. So this should resolve #125.", "reactions": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/127", "id": 556070824, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU2MDcwODI0", "html_url": "https://github.com/alexheretic/glyph-brush/pull/127", "diff_url": "https://github.com/alexheretic/glyph-brush/pull/127.diff", "patch_url": "https://github.com/alexheretic/glyph-brush/pull/127.patch", "issue_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127", "number": 127, "state": "closed", "locked": false, "title": "Optimise lower workloads by not multithreading", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "This pr aims to eliminate cases where default (multithread=true) performs worse than setting multithread=off. Instead we'll only use multithread code paths if it looks like they'll be significant gains.\r\n\r\n* Remove multithreaded outlining completely.\r\n* Calculate a draw work magnitude and only use mt if it's high enough to look worth it.\r\n* Add `st_vs_mt` benchmark code.\r\n\r\n# Investigation\r\n`st_vs_mt` benchmark runs through a set of scenarios of 16-1500 unicode glyphs at scales 12px-150px.\r\n\r\nThere are two areas that can use multithreading, outlining & rasterizing. An early testing result of just mt-outlining against singlethreaded (st) showed the mt outlining isn't providing much value.\r\n<details><p>\r\n\r\n```\r\ngroup                     mt-outline-only       st\r\n-----                     ---------------       --\r\nbench_1500_chars_150px    1.02     45.5\u00b10.17ms  1.00     44.5\u00b10.23ms\r\nbench_1500_chars_75px     1.00     17.1\u00b10.17ms  1.00     17.2\u00b10.04ms\r\nbench_1500_chars_30px     1.00      5.8\u00b10.03ms  1.08      6.2\u00b10.04ms\r\nbench_1500_chars_12px     1.00      2.6\u00b10.02ms  1.15      2.9\u00b10.02ms\r\nbench_300_chars_150px     1.03     14.4\u00b10.14ms  1.00     14.0\u00b10.18ms\r\nbench_300_chars_75px      1.04      4.6\u00b10.05ms  1.00      4.5\u00b10.01ms\r\nbench_300_chars_30px      1.00  1494.0\u00b127.63\u00b5s  1.00  1497.0\u00b116.47\u00b5s\r\nbench_300_chars_12px      1.00   727.8\u00b111.16\u00b5s  1.05    766.0\u00b15.30\u00b5s\r\nbench_50_chars_150px      1.06      2.7\u00b10.03ms  1.00      2.5\u00b10.00ms\r\nbench_50_chars_75px       1.15   903.1\u00b120.58\u00b5s  1.00    788.0\u00b16.46\u00b5s\r\nbench_50_chars_30px       1.27    321.0\u00b16.58\u00b5s  1.00    252.2\u00b11.05\u00b5s\r\nbench_50_chars_12px       1.42    182.5\u00b12.24\u00b5s  1.00    128.9\u00b10.74\u00b5s\r\nbench_16_chars_150px      1.16   895.2\u00b119.25\u00b5s  1.00    768.6\u00b17.30\u00b5s\r\nbench_16_chars_75px       1.35    322.9\u00b14.27\u00b5s  1.00    239.6\u00b10.92\u00b5s\r\nbench_16_chars_30px       1.82    141.0\u00b12.72\u00b5s  1.00     77.7\u00b10.31\u00b5s\r\nbench_16_chars_12px       2.17     88.6\u00b12.55\u00b5s  1.00     40.9\u00b10.17\u00b5s\r\n```\r\n\r\n</p></details>\r\n\r\nHowever, mt drawing _is_ worth it, at least in some cases.\r\n```\r\ngroup                     mt                    st\r\n-----                     --                    --\r\nbench_1500_chars_150px    1.00     17.0\u00b10.22ms  2.62     44.5\u00b10.23ms\r\nbench_1500_chars_75px     1.00      6.6\u00b10.07ms  2.60     17.2\u00b10.04ms\r\nbench_1500_chars_30px     1.00      3.2\u00b10.09ms  1.96      6.2\u00b10.04ms\r\nbench_1500_chars_12px     1.00      2.3\u00b10.07ms  1.26      2.9\u00b10.02ms\r\nbench_300_chars_150px     1.00      5.2\u00b10.15ms  2.67     14.0\u00b10.18ms\r\nbench_300_chars_75px      1.00  1824.5\u00b123.38\u00b5s  2.44      4.5\u00b10.01ms\r\nbench_300_chars_30px      1.00   881.4\u00b148.28\u00b5s  1.70  1497.0\u00b116.47\u00b5s\r\nbench_300_chars_12px      1.00   731.5\u00b168.70\u00b5s  1.05    766.0\u00b15.30\u00b5s\r\nbench_50_chars_150px      1.00  1105.0\u00b140.98\u00b5s  2.30      2.5\u00b10.00ms\r\nbench_50_chars_75px       1.00   455.9\u00b132.55\u00b5s  1.73    788.0\u00b16.46\u00b5s\r\nbench_50_chars_30px       1.00   250.3\u00b129.70\u00b5s  1.01    252.2\u00b11.05\u00b5s\r\nbench_50_chars_12px       1.67   214.6\u00b132.25\u00b5s  1.00    128.9\u00b10.74\u00b5s\r\nbench_16_chars_150px      1.00   458.8\u00b137.79\u00b5s  1.68    768.6\u00b17.30\u00b5s\r\nbench_16_chars_75px       1.00   226.3\u00b148.51\u00b5s  1.06    239.6\u00b10.92\u00b5s\r\nbench_16_chars_30px       1.80   139.9\u00b130.99\u00b5s  1.00     77.7\u00b10.31\u00b5s\r\nbench_16_chars_12px       2.90   118.5\u00b119.80\u00b5s  1.00     40.9\u00b10.17\u00b5s\r\n```\r\n\r\nmt code can be faster. But it can also be slower for small workloads. It's also worth noting that when the performance is the similar we can assume the single thread version will be more power efficient.\r\n\r\nUsing the tallest glyph height & multiplying by the number of glyphs I calculated a \"work magnitude\". This can be used to target cases where we expect a decent speedup. I plucked out min magnitude `8742`:\r\n```\r\ngroup                     mt(>=mag:8742)        st\r\n-----                     --------------        --\r\nbench_1500_chars_150px    1.00     17.1\u00b10.26ms  2.61     44.5\u00b10.23ms\r\nbench_1500_chars_75px     1.00      6.7\u00b10.17ms  2.58     17.2\u00b10.04ms\r\nbench_1500_chars_30px     1.00      3.2\u00b10.08ms  1.94      6.2\u00b10.04ms\r\nbench_1500_chars_12px     1.00      2.4\u00b10.09ms  1.24      2.9\u00b10.02ms\r\nbench_300_chars_150px     1.00      5.2\u00b10.07ms  2.70     14.0\u00b10.18ms\r\nbench_300_chars_75px      1.00  1850.1\u00b143.15\u00b5s  2.41      4.5\u00b10.01ms\r\nbench_300_chars_30px      1.00   891.4\u00b160.93\u00b5s  1.68  1497.0\u00b116.47\u00b5s\r\nbench_300_chars_12px      1.01   772.7\u00b117.17\u00b5s  1.00    766.0\u00b15.30\u00b5s\r\nbench_50_chars_150px      1.01      2.6\u00b10.01ms  1.00      2.5\u00b10.00ms\r\nbench_50_chars_75px       1.02   801.7\u00b121.66\u00b5s  1.00    788.0\u00b16.46\u00b5s\r\nbench_50_chars_30px       1.00    248.0\u00b10.92\u00b5s  1.02    252.2\u00b11.05\u00b5s\r\nbench_50_chars_12px       1.00    128.7\u00b10.63\u00b5s  1.00    128.9\u00b10.74\u00b5s\r\nbench_16_chars_150px      1.00    765.9\u00b16.20\u00b5s  1.00    768.6\u00b17.30\u00b5s\r\nbench_16_chars_75px       1.01    241.2\u00b10.78\u00b5s  1.00    239.6\u00b10.92\u00b5s\r\nbench_16_chars_30px       1.00     77.3\u00b10.38\u00b5s  1.00     77.7\u00b10.31\u00b5s\r\nbench_16_chars_12px       1.00     38.6\u00b10.20\u00b5s  1.06     40.9\u00b10.17\u00b5s\r\n```\r\n\r\nNow only `bench_300_chars_30px` and larger magnitude work is using multithreading. While not an exact science the work estimate is good enough to ensure mt benches are never slower than st. So this should resolve #125.", "created_at": "2021-01-16T03:41:41Z", "updated_at": "2021-01-16T23:41:00Z", "closed_at": "2021-01-16T23:40:59Z", "merged_at": "2021-01-16T23:40:58Z", "merge_commit_sha": "5d7c270af02792edac1d1c302663d827a03ff085", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/127/commits", "review_comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/127/comments", "review_comment_url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/comments", "statuses_url": "https://api.github.com/repos/alexheretic/glyph-brush/statuses/09c2358d36c49e727ec858f508d1d3fd36abb9fb", "head": {"label": "alexheretic:st-vs-mt", "ref": "st-vs-mt", "sha": "09c2358d36c49e727ec858f508d1d3fd36abb9fb", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 100976197, "node_id": "MDEwOlJlcG9zaXRvcnkxMDA5NzYxOTc=", "name": "glyph-brush", "full_name": "alexheretic/glyph-brush", "private": false, "owner": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/alexheretic/glyph-brush", "description": "Fast GPU cached text rendering", "fork": false, "url": "https://api.github.com/repos/alexheretic/glyph-brush", "forks_url": "https://api.github.com/repos/alexheretic/glyph-brush/forks", "keys_url": "https://api.github.com/repos/alexheretic/glyph-brush/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/alexheretic/glyph-brush/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/alexheretic/glyph-brush/teams", "hooks_url": "https://api.github.com/repos/alexheretic/glyph-brush/hooks", "issue_events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/events{/number}", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/events", "assignees_url": "https://api.github.com/repos/alexheretic/glyph-brush/assignees{/user}", "branches_url": "https://api.github.com/repos/alexheretic/glyph-brush/branches{/branch}", "tags_url": "https://api.github.com/repos/alexheretic/glyph-brush/tags", "blobs_url": "https://api.github.com/repos/alexheretic/glyph-brush/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/alexheretic/glyph-brush/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/alexheretic/glyph-brush/git/refs{/sha}", "trees_url": "https://api.github.com/repos/alexheretic/glyph-brush/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/alexheretic/glyph-brush/statuses/{sha}", "languages_url": "https://api.github.com/repos/alexheretic/glyph-brush/languages", "stargazers_url": "https://api.github.com/repos/alexheretic/glyph-brush/stargazers", "contributors_url": "https://api.github.com/repos/alexheretic/glyph-brush/contributors", "subscribers_url": "https://api.github.com/repos/alexheretic/glyph-brush/subscribers", "subscription_url": "https://api.github.com/repos/alexheretic/glyph-brush/subscription", "commits_url": "https://api.github.com/repos/alexheretic/glyph-brush/commits{/sha}", "git_commits_url": "https://api.github.com/repos/alexheretic/glyph-brush/git/commits{/sha}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/comments{/number}", "issue_comment_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/comments{/number}", "contents_url": "https://api.github.com/repos/alexheretic/glyph-brush/contents/{+path}", "compare_url": "https://api.github.com/repos/alexheretic/glyph-brush/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/alexheretic/glyph-brush/merges", "archive_url": "https://api.github.com/repos/alexheretic/glyph-brush/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/alexheretic/glyph-brush/downloads", "issues_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues{/number}", "pulls_url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls{/number}", "milestones_url": "https://api.github.com/repos/alexheretic/glyph-brush/milestones{/number}", "notifications_url": "https://api.github.com/repos/alexheretic/glyph-brush/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/labels{/name}", "releases_url": "https://api.github.com/repos/alexheretic/glyph-brush/releases{/id}", "deployments_url": "https://api.github.com/repos/alexheretic/glyph-brush/deployments", "created_at": "2017-08-21T17:25:34Z", "updated_at": "2026-01-20T02:02:05Z", "pushed_at": "2025-11-30T16:47:32Z", "git_url": "git://github.com/alexheretic/glyph-brush.git", "ssh_url": "git@github.com:alexheretic/glyph-brush.git", "clone_url": "https://github.com/alexheretic/glyph-brush.git", "svn_url": "https://github.com/alexheretic/glyph-brush", "homepage": "", "size": 19087, "stargazers_count": 714, "watchers_count": 714, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 52, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 24, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["font", "render", "rust", "truetype"], "visibility": "public", "forks": 52, "open_issues": 24, "watchers": 714, "default_branch": "main"}}, "base": {"label": "alexheretic:master", "ref": "master", "sha": "cb183a3101affd57c87c4f95564af593bc6137d8", "user": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 100976197, "node_id": "MDEwOlJlcG9zaXRvcnkxMDA5NzYxOTc=", "name": "glyph-brush", "full_name": "alexheretic/glyph-brush", "private": false, "owner": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/alexheretic/glyph-brush", "description": "Fast GPU cached text rendering", "fork": false, "url": "https://api.github.com/repos/alexheretic/glyph-brush", "forks_url": "https://api.github.com/repos/alexheretic/glyph-brush/forks", "keys_url": "https://api.github.com/repos/alexheretic/glyph-brush/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/alexheretic/glyph-brush/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/alexheretic/glyph-brush/teams", "hooks_url": "https://api.github.com/repos/alexheretic/glyph-brush/hooks", "issue_events_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/events{/number}", "events_url": "https://api.github.com/repos/alexheretic/glyph-brush/events", "assignees_url": "https://api.github.com/repos/alexheretic/glyph-brush/assignees{/user}", "branches_url": "https://api.github.com/repos/alexheretic/glyph-brush/branches{/branch}", "tags_url": "https://api.github.com/repos/alexheretic/glyph-brush/tags", "blobs_url": "https://api.github.com/repos/alexheretic/glyph-brush/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/alexheretic/glyph-brush/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/alexheretic/glyph-brush/git/refs{/sha}", "trees_url": "https://api.github.com/repos/alexheretic/glyph-brush/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/alexheretic/glyph-brush/statuses/{sha}", "languages_url": "https://api.github.com/repos/alexheretic/glyph-brush/languages", "stargazers_url": "https://api.github.com/repos/alexheretic/glyph-brush/stargazers", "contributors_url": "https://api.github.com/repos/alexheretic/glyph-brush/contributors", "subscribers_url": "https://api.github.com/repos/alexheretic/glyph-brush/subscribers", "subscription_url": "https://api.github.com/repos/alexheretic/glyph-brush/subscription", "commits_url": "https://api.github.com/repos/alexheretic/glyph-brush/commits{/sha}", "git_commits_url": "https://api.github.com/repos/alexheretic/glyph-brush/git/commits{/sha}", "comments_url": "https://api.github.com/repos/alexheretic/glyph-brush/comments{/number}", "issue_comment_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues/comments{/number}", "contents_url": "https://api.github.com/repos/alexheretic/glyph-brush/contents/{+path}", "compare_url": "https://api.github.com/repos/alexheretic/glyph-brush/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/alexheretic/glyph-brush/merges", "archive_url": "https://api.github.com/repos/alexheretic/glyph-brush/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/alexheretic/glyph-brush/downloads", "issues_url": "https://api.github.com/repos/alexheretic/glyph-brush/issues{/number}", "pulls_url": "https://api.github.com/repos/alexheretic/glyph-brush/pulls{/number}", "milestones_url": "https://api.github.com/repos/alexheretic/glyph-brush/milestones{/number}", "notifications_url": "https://api.github.com/repos/alexheretic/glyph-brush/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/alexheretic/glyph-brush/labels{/name}", "releases_url": "https://api.github.com/repos/alexheretic/glyph-brush/releases{/id}", "deployments_url": "https://api.github.com/repos/alexheretic/glyph-brush/deployments", "created_at": "2017-08-21T17:25:34Z", "updated_at": "2026-01-20T02:02:05Z", "pushed_at": "2025-11-30T16:47:32Z", "git_url": "git://github.com/alexheretic/glyph-brush.git", "ssh_url": "git@github.com:alexheretic/glyph-brush.git", "clone_url": "https://github.com/alexheretic/glyph-brush.git", "svn_url": "https://github.com/alexheretic/glyph-brush", "homepage": "", "size": 19087, "stargazers_count": 714, "watchers_count": 714, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 52, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 24, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["font", "render", "rust", "truetype"], "visibility": "public", "forks": 52, "open_issues": 24, "watchers": 714, "default_branch": "main"}}, "_links": {"self": {"href": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/127"}, "html": {"href": "https://github.com/alexheretic/glyph-brush/pull/127"}, "issue": {"href": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127"}, "comments": {"href": "https://api.github.com/repos/alexheretic/glyph-brush/issues/127/comments"}, "review_comments": {"href": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/127/comments"}, "review_comment": {"href": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/alexheretic/glyph-brush/pulls/127/commits"}, "statuses": {"href": "https://api.github.com/repos/alexheretic/glyph-brush/statuses/09c2358d36c49e727ec858f508d1d3fd36abb9fb"}}, "author_association": "OWNER", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": false, "rebaseable": false, "mergeable_state": "dirty", "merged_by": {"login": "alexheretic", "id": 2331607, "node_id": "MDQ6VXNlcjIzMzE2MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2331607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexheretic", "html_url": "https://github.com/alexheretic", "followers_url": "https://api.github.com/users/alexheretic/followers", "following_url": "https://api.github.com/users/alexheretic/following{/other_user}", "gists_url": "https://api.github.com/users/alexheretic/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexheretic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexheretic/subscriptions", "organizations_url": "https://api.github.com/users/alexheretic/orgs", "repos_url": "https://api.github.com/users/alexheretic/repos", "events_url": "https://api.github.com/users/alexheretic/events{/privacy}", "received_events_url": "https://api.github.com/users/alexheretic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 1, "review_comments": 0, "maintainer_can_modify": false, "commits": 4, "additions": 171, "deletions": 20, "changed_files": 5}}