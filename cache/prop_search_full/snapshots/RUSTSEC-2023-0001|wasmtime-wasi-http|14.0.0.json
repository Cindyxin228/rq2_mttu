{"window": ["2023-01-03T22:20:40.063970+00:00", "2023-10-20T17:34:48.177658+00:00"], "repo_slug": "bytecodealliance/wasmtime", "candidates": [{"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7305", "id": 1953178751, "node_id": "PR_kwDOBhDaXM5dUsuw", "number": 7305, "title": "Gate debug builtins behind a Cargo feature", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-19T22:55:13Z", "updated_at": "2023-10-20T15:29:46Z", "closed_at": "2023-10-20T15:29:45Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7305", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7305", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7305.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7305.patch", "merged_at": "2023-10-20T15:29:45Z"}, "body": "This doesn't shave off much but can help tidy up some symbols from exported objects if they aren't needed.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7300", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7300/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7300/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7300/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7300", "id": 1953166406, "node_id": "PR_kwDOBhDaXM5dUqKX", "number": 7300, "title": "Gate logging in the C API on Cargo features", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-19T22:40:49Z", "updated_at": "2023-10-20T00:04:46Z", "closed_at": "2023-10-20T00:04:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7300", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7300", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7300.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7300.patch", "merged_at": "2023-10-20T00:04:45Z"}, "body": "Help to excise more dependencies when building the C API.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7300/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7294", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7294/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7294/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7294/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7294", "id": 1952604678, "node_id": "PR_kwDOBhDaXM5dSuxp", "number": 7294, "title": "[14.0.0] Update wasm-tools and wit-bindgen crates", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-19T16:01:05Z", "updated_at": "2023-10-19T17:06:06Z", "closed_at": "2023-10-19T17:06:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7294", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7294", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7294.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7294.patch", "merged_at": "2023-10-19T17:06:05Z"}, "body": "This is primarily to pull in bytecodealliance/wasm-tools#1252 to get decoding of the new format into a Wasmtime release ASAP.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7294/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7288", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7288/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7288/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7288/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7288", "id": 1950580230, "node_id": "PR_kwDOBhDaXM5dL6Q7", "number": 7288, "title": "wasi-http: Allow embedder to manage outgoing connections", "user": {"login": "dicej", "id": 1243153, "node_id": "MDQ6VXNlcjEyNDMxNTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1243153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dicej", "html_url": "https://github.com/dicej", "followers_url": "https://api.github.com/users/dicej/followers", "following_url": "https://api.github.com/users/dicej/following{/other_user}", "gists_url": "https://api.github.com/users/dicej/gists{/gist_id}", "starred_url": "https://api.github.com/users/dicej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dicej/subscriptions", "organizations_url": "https://api.github.com/users/dicej/orgs", "repos_url": "https://api.github.com/users/dicej/repos", "events_url": "https://api.github.com/users/dicej/events{/privacy}", "received_events_url": "https://api.github.com/users/dicej/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-10-18T20:19:49Z", "updated_at": "2023-10-18T23:46:03Z", "closed_at": "2023-10-18T23:46:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7288", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7288", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7288.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7288.patch", "merged_at": "2023-10-18T23:46:03Z"}, "body": "This adds a new `send_request` method to `WasiHttpView`, allowing embedders to override the default implementation with their own if they desire.  The default implementation behaves exactly as before.\r\n\r\nI've also added a few new `wasi-http` tests: one to test the above, and two others to test streaming and concurrency.  These tests are ports of the `test_wasi_http_echo` and `test_wasi_http_hash_all` tests in the [Spin](https://github.com/fermyon/spin) integration test suite.  The component they instantiate is likewise ported from the Spin\r\n`wasi-http-rust-streaming-outgoing-body` component.\r\n\r\nFixes #7259\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7288/reactions", "total_count": 4, "+1": 0, "-1": 0, "laugh": 0, "hooray": 4, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7288/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7286", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7286/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7286/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7286/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7286", "id": 1950537575, "node_id": "PR_kwDOBhDaXM5dLw45", "number": 7286, "title": "Update wasm-tools deps and `wit-bindgen`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-18T19:52:57Z", "updated_at": "2023-10-18T22:34:18Z", "closed_at": "2023-10-18T22:34:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7286", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7286", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7286.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7286.patch", "merged_at": "2023-10-18T22:34:17Z"}, "body": "This'll have some knock-on effects when applied to #7272 but that's left for a future PR. This one's just about getting the deps in.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7286/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7282", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7282/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7282/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7282/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7282", "id": 1950256542, "node_id": "PR_kwDOBhDaXM5dKyu2", "number": 7282, "title": "Gate many CLI/Wasmtime features behind Cargo features", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}, {"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-10-18T17:11:58Z", "updated_at": "2023-11-22T20:35:40Z", "closed_at": "2023-10-19T18:53:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7282", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7282", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7282.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7282.patch", "merged_at": "2023-10-19T18:53:27Z"}, "body": "This PR is borne out of discussions from last week's CG meetings about the suitability of Wasmtime in embedded scenarios. One of the primary concerns that arose was the binary size of the Wasmtime engine being too large for these scenarios. In my experience binary size is one aspect of Rust where it doesn't come for free so this aligns with my expectations. That being said I've yet to see a case in Rust where a particular binary footprint couldn't be achieved, hence this PR.\r\n\r\nOne thing I've noticed is that many folks evaluating Wasmtime seem to look at the size of the `wasmtime` executable itself when performing size comparisons. While this likely doesn't reflect the true size of what a custom embedding would be it's nevertheless an easy comparison that can be made. To that effect I've added a number of Cargo features to the `wasmtime-cli` crate to disable functionality up to and including `wasmtime compile` for example. This PR enables building a `wasmtime` exectuable that is stripped down to the bare bones - all it can do is run precompiled WebAssembly files. That being said it should still be a full-featured runtime at this time where only some optional features such as DWARF processing for `addr2line` are disabled.\r\n\r\nAdditionally in this PR I've added a new chapter to the Wasmtime book about building a minimal build of Wasmtime. This explains not only the existence of the `--no-default-features` build flag but additionally the consequences in terms of functionality and binary size. Furthermore this section additionally directly expands on tips and tricks for building a minimal binary using various Rust compiler flags and nightly features. This section shows how the `wasmtime` CLI is 130M in debug mode and the smallest build producable after this PR is 2.1M. \r\n\r\nThe goal of this PR is to get the ball rolling on size-related optimizations, not necessarily be the end-all-be-all. Further optimizations to binary size will likely require more invasive changes about how we develop Wasmtime or similar. For example we may have to lose the relatively rich error information Wasmtime currently has to get the next level of significant win. That being said I'm at least personally lacking a bit in direction for where to go next to optimize. My hope is that by showcasing a much smaller `wasmtime` CLI executable it shows to folks that Wasmtime for these use cases is viable, even if it's not suitable just yet. For example the CLI uses crates such as `clap` which won't be present in custom embeddings. Having an actual custom embedding to optimize for will be useful. In lieu of this I plan on continuing to poke to see what we can do.\r\n\r\nOne option as a result of this PR is to build a `wasmtime-lite` executable on CI and upload it to GitHub Actions/Releases as well. I'm not totally convinced that'd be too useful so I haven't done that. Another option though is to add a CI builder which builds a minimal binary and verifies that it doesn't go above a particular threshold to catch regressions in binary size (e.g. if a new feature is added ensure that it can be disabled with `--no-default-features`). I've left this for a future PR as well.\r\n\r\nI should also note that my hope is that when optimizing for binary size it would not hinder the development of Wasmtime anywhere else. In that sense it should ideally be easy for anyone to understand how the conditionally compiled code works and it shouldn't appear as a maze of cfgs to wade through to get things working. While it's definitely more `#[cfg]` than before, I'm particularly interested if folks feel this is too onerous to maintain or burdensome. If so I'd be interested in improving how this is all designed.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7282/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7267", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7267/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7267/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7267/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7267", "id": 1947602699, "node_id": "PR_kwDOBhDaXM5dBvRE", "number": 7267, "title": "Update wasm-tools family of crates", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-10-17T14:42:27Z", "updated_at": "2023-10-17T17:12:23Z", "closed_at": "2023-10-17T16:40:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7267", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7267", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7267.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7267.patch", "merged_at": "2023-10-17T16:40:50Z"}, "body": "Some notable changes here are:\r\n\r\n* The `wasm-tools` crates have enabled the `relaxed-simd`, `threads`, and `multi-memory` proposals by default. For now I've left these disabled-by-default in Wasmtime to get enabled in a future PR.\r\n\r\n* The `wast` crate has support for parsing `thread` and `wait` constructs from the `threads` proposal for WebAssembly. They're left unimplemented for now and return errors. This will get filled in in a future update.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7267/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7253", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7253/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7253/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7253/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7253", "id": 1945319338, "node_id": "PR_kwDOBhDaXM5c58lZ", "number": 7253, "title": "Enable the `tracing-log` feature of tracing-subscriber", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-16T14:14:52Z", "updated_at": "2023-10-16T16:31:36Z", "closed_at": "2023-10-16T16:29:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7253", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7253", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7253.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7253.patch", "merged_at": "2023-10-16T16:29:44Z"}, "body": "Otherwise the CLI no longer prints `log`-based logging messages.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7253/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7242", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7242/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7242/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7242/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7242", "id": 1942932135, "node_id": "PR_kwDOBhDaXM5cyYCi", "number": 7242, "title": "Minor logging tweaks", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-14T03:50:11Z", "updated_at": "2023-10-16T15:05:50Z", "closed_at": "2023-10-16T15:05:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7242", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7242", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7242.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7242.patch", "merged_at": "2023-10-16T15:05:48Z"}, "body": "Some things I noticed from #7239 which are very much not critical but I figure might be nice-to-haves:\r\n\r\n* Move the logging configuration to the `wasmtime-cli-flags` crate with the other logging configuration to keep it in one place.\r\n* Remove `pretty_env_logger` since `tracing-subscriber` probably supplants it.\r\n* Don't explicitly inherit env vars in tests since that happens automatically with `Command`.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7242/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7239", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7239/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7239/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7239/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7239", "id": 1942630823, "node_id": "PR_kwDOBhDaXM5cxgwE", "number": 7239, "title": "wasmtime-cli: add tracing output on `WASMTIME_LOG`", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-13T20:53:44Z", "updated_at": "2023-10-13T23:48:59Z", "closed_at": "2023-10-13T23:48:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7239", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7239", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7239.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7239.patch", "merged_at": "2023-10-13T23:48:57Z"}, "body": "We use `log` and `tracing` messages in many parts of the wasmtime project to provide debug output. This PR installs `tracing-subscriber` in the wasmtime-cli `fn main()`. It is configured to read the `WASMTIME_LOG` env variable, output to stderr, and use ansi coloring when std::io::stderr().is_terminal().\r\n\r\n<details>\r\n<pre>\r\n[phickey@pch-tower:src/wasmtime]% WASMTIME_LOG=wasmtime_wasi=trace cargo run -- --wasm component-model cli_hello_stdout.component.wasm\r\n   Compiling wasmtime-cli v15.0.0 (/home/phickey/src/wasmtime)\r\n    Finished dev [unoptimized + debuginfo] target(s) in 1.27s\r\n     Running `target/debug/wasmtime --wasm component-model cli_hello_stdout.component.wasm`\r\n2023-10-13T20:49:45.513742Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"terminal-stdin\" function=\"get-terminal-stdin\"}: wasmtime_wasi::preview2::bindings::wasi::cli::terminal_stdin: call\r\n2023-10-13T20:49:45.513811Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"terminal-stdin\" function=\"get-terminal-stdin\"}: wasmtime_wasi::preview2::bindings::wasi::cli::terminal_stdin: return result=Ok(Some(Resource { rep: 3, state: \"own (not in table)\" }))\r\n2023-10-13T20:49:45.513943Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"terminal-stdout\" function=\"get-terminal-stdout\"}: wasmtime_wasi::preview2::bindings::wasi::cli::terminal_stdout: call\r\n2023-10-13T20:49:45.513972Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"terminal-stdout\" function=\"get-terminal-stdout\"}: wasmtime_wasi::preview2::bindings::wasi::cli::terminal_stdout: return result=Ok(Some(Resource { rep: 4, state: \"own (not in table)\" }))\r\n2023-10-13T20:49:45.514052Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"terminal-stderr\" function=\"get-terminal-stderr\"}: wasmtime_wasi::preview2::bindings::wasi::cli::terminal_stderr: call\r\n2023-10-13T20:49:45.514081Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"terminal-stderr\" function=\"get-terminal-stderr\"}: wasmtime_wasi::preview2::bindings::wasi::cli::terminal_stderr: return result=Ok(Some(Resource { rep: 5, state: \"own (not in table)\" }))\r\n2023-10-13T20:49:45.514182Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"stdin\" function=\"get-stdin\"}: wasmtime_wasi::preview2::bindings::wasi::cli::stdin: call\r\n2023-10-13T20:49:45.514214Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"stdin\" function=\"get-stdin\"}: wasmtime_wasi::preview2::bindings::wasi::cli::stdin: return result=Ok(Resource { rep: 6, state: \"own (not in table)\" })\r\n2023-10-13T20:49:45.514289Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"stdout\" function=\"get-stdout\"}: wasmtime_wasi::preview2::bindings::wasi::cli::stdout: call\r\n2023-10-13T20:49:45.514511Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"stdout\" function=\"get-stdout\"}: wasmtime_wasi::preview2::bindings::wasi::cli::stdout: return result=Ok(Resource { rep: 7, state: \"own (not in table)\" })\r\n2023-10-13T20:49:45.514595Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"stderr\" function=\"get-stderr\"}: wasmtime_wasi::preview2::bindings::wasi::cli::stderr: call\r\n2023-10-13T20:49:45.514635Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"stderr\" function=\"get-stderr\"}: wasmtime_wasi::preview2::bindings::wasi::cli::stderr: return result=Ok(Resource { rep: 8, state: \"own (not in table)\" })\r\n2023-10-13T20:49:45.514696Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"preopens\" function=\"get-directories\"}: wasmtime_wasi::preview2::bindings::wasi::filesystem::preopens: call\r\n2023-10-13T20:49:45.514726Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"preopens\" function=\"get-directories\"}: wasmtime_wasi::preview2::bindings::wasi::filesystem::preopens: return result=Ok([])\r\n2023-10-13T20:49:45.514846Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::bindings::sync_io::_internal::wasi::io::streams: call self_=Resource { rep: 7, state: \"borrow\" } contents=[104, 101, 108, 108, 111, 44, 32, 119, 111, 114, 108, 100, 10]\r\n2023-10-13T20:49:45.515027Z DEBUG wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::write_stream: worker writing: b\"hello, world\\n\"\r\nhello, world\r\n2023-10-13T20:49:45.515316Z DEBUG wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::write_stream: worker marking flush complete\r\n2023-10-13T20:49:45.515371Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::bindings::sync_io::_internal::wasi::io::streams: return result=Ok(())\r\n2023-10-13T20:49:45.515460Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::bindings::sync_io::_internal::wasi::io::streams: call self_=Resource { rep: 8, state: \"borrow\" } contents=[104, 101, 108, 108, 111, 44, 32, 119, 111, 114, 108, 100, 10]\r\n2023-10-13T20:49:45.515534Z DEBUG wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::write_stream: worker writing: b\"hello, world\\n\"\r\nhello, world\r\n2023-10-13T20:49:45.515655Z DEBUG wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::write_stream: worker marking flush complete\r\n2023-10-13T20:49:45.515701Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::bindings::sync_io::_internal::wasi::io::streams: return result=Ok(())\r\n\r\n</pre>\r\n</details>", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7239/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7239/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7236", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7236/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7236/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7236/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7236", "id": 1942377838, "node_id": "PR_kwDOBhDaXM5cwuj_", "number": 7236, "title": "Update `arbitrary` to 1.3.1", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-13T17:44:53Z", "updated_at": "2023-10-13T18:59:34Z", "closed_at": "2023-10-13T18:59:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7236", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7236", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7236.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7236.patch", "merged_at": "2023-10-13T18:59:33Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7236/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7209", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7209/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7209/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7209/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7209", "id": 1935790088, "node_id": "PR_kwDOBhDaXM5caF_z", "number": 7209, "title": "Introduce API for custom stack memory", "user": {"login": "rockwotj", "id": 8669100, "node_id": "MDQ6VXNlcjg2NjkxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8669100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rockwotj", "html_url": "https://github.com/rockwotj", "followers_url": "https://api.github.com/users/rockwotj/followers", "following_url": "https://api.github.com/users/rockwotj/following{/other_user}", "gists_url": "https://api.github.com/users/rockwotj/gists{/gist_id}", "starred_url": "https://api.github.com/users/rockwotj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rockwotj/subscriptions", "organizations_url": "https://api.github.com/users/rockwotj/orgs", "repos_url": "https://api.github.com/users/rockwotj/repos", "events_url": "https://api.github.com/users/rockwotj/events{/privacy}", "received_events_url": "https://api.github.com/users/rockwotj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-10-10T16:47:23Z", "updated_at": "2023-10-11T20:38:52Z", "closed_at": "2023-10-11T20:18:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7209", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7209", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7209.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7209.patch", "merged_at": "2023-10-11T20:18:54Z"}, "body": "Introduces an API to allow embedders to allocate stacks for fibers using custom memory instead of mmap.\n\n[Discussed on Zulip](https://bytecodealliance.zulipchat.com/#narrow/stream/217126-wasmtime/topic/.E2.9C.94.20Custom.20allocator.20for.20Fibers)\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7209/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7206", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7206/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7206/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7206/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7206", "id": 1935186860, "node_id": "PR_kwDOBhDaXM5cYAFU", "number": 7206, "title": "Update MSRV to 1.71.0", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-10T12:03:22Z", "updated_at": "2023-10-11T09:15:38Z", "closed_at": "2023-10-11T09:15:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7206", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7206", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7206.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7206.patch", "merged_at": "2023-10-11T09:15:36Z"}, "body": "With the 1.73.0 release today update our MSRV to a one-higher version. This will cause 1.73.0 to be tested in CI.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7206/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7182", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7182/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7182/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7182/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7182", "id": 1931074476, "node_id": "PR_kwDOBhDaXM5cKCtV", "number": 7182, "title": "Refactor the test-programs test suite", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-07T00:25:41Z", "updated_at": "2023-10-09T20:07:26Z", "closed_at": "2023-10-09T20:07:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7182", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7182", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7182.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7182.patch", "merged_at": "2023-10-09T20:07:25Z"}, "body": "This commit is a large refactoring that reorganizes `test-programs` and how we tests wasms in Wasmtime. Often writing tests requires complicated interactions with the guest which can't be done via hand-written `*.wat` syntax and requires a compiler to get engaged. For this purpose Wasmtime currently has the `crates/test-programs/*` test suite which builds files from source and then runs the tests. This has been somewhat cumbersome in the past though and it's not been easy to extend this over time, so this commit attempts to address this.\r\n\r\nThe scheme implemented in this PR looks like:\r\n\r\n* All wasm test programs live in `crates/test-programs/src/bin/*.rs`. All of them, no exceptions.\r\n\r\n* Wasm tests have shared support located at `crates/test-programs/src/lib.rs` and its submodules, such as bindings generation for WASI.\r\n\r\n* Wasm tests are built by a new `crates/test-programs/artifacts` crate. This crate compiles modules and additionally creates components for all test programs. The crate itself only records the path to these outputs and a small amount of testing support, but otherwise doesn't interact with `wasmtime`-the-crate itself.\r\n\r\n* All tests in `crates/test-programs/tests/*.rs` have moved. For example wasi-http tests now live at `crates/wasi-http/tests/*.rs`. Legacy tests of wasi-common now live at `crates/wasi-common/tests/*.rs`. Modern tests for preview2 live at `crates/wasi/tests/*.rs`.\r\n\r\n* Wasm tests are bucketed based on their filename prefix. For example `preview1_*` is tested in wasi-common and wasmtime-wasi. The `preview2_*` prefix is only tested with wasmtime-wasi, however.\r\n\r\n* A new `cli_*` prefix is used to execute tests as part of `tests/all/main.rs`. This is a new submodule in `tests/all/cli_tests.rs` which executes these components on the command line. Many old \"command\" tests were migrated here.\r\n\r\n* Helper macros are generated to assert that a test suite is run in its entirety. This way if a `preview1_*` test is added it's asserted to get added to both wasi-common and wasmtime-wasi in the various modes they run tests.\r\n\r\nOverall this moved a number of tests around and refactored some edges of the tests, but this should not lose any tests (except one that wasn't actually testing anything). Additionally the hope is that it's much easier to add tests in the future. The process is to add a new file in `crates/test-programs/src/bin/*.rs` named appropriately. For example a preview2 executable is `preview2_*` and a CLI tests is `cli_*`. When building the test suite an error is generated in the appropriate module then of \"please write a test here\", and then a test is written in the same manner as the other tests in the module.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7182/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7182/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7305", "id": 1953178751, "node_id": "PR_kwDOBhDaXM5dUsuw", "number": 7305, "title": "Gate debug builtins behind a Cargo feature", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-19T22:55:13Z", "updated_at": "2023-10-20T15:29:46Z", "closed_at": "2023-10-20T15:29:45Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7305", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7305", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7305.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7305.patch", "merged_at": "2023-10-20T15:29:45Z"}, "body": "This doesn't shave off much but can help tidy up some symbols from exported objects if they aren't needed.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7305", "id": 1565707184, "node_id": "PR_kwDOBhDaXM5dUsuw", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7305", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7305.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7305.patch", "issue_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305", "number": 7305, "state": "closed", "locked": false, "title": "Gate debug builtins behind a Cargo feature", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "This doesn't shave off much but can help tidy up some symbols from exported objects if they aren't needed.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "created_at": "2023-10-19T22:55:13Z", "updated_at": "2023-10-20T15:29:46Z", "closed_at": "2023-10-20T15:29:45Z", "merged_at": "2023-10-20T15:29:45Z", "merge_commit_sha": "5565b93508b5f9c01b53f136b7dcb62127ef9df1", "assignee": null, "assignees": [], "requested_reviewers": [{"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "requested_teams": [], "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7305/commits", "review_comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7305/comments", "review_comment_url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/comments", "statuses_url": "https://api.github.com/repos/bytecodealliance/wasmtime/statuses/2903aa58db6e2831ee7b5310fff1109443ac20ae", "head": {"label": "alexcrichton:gate-debug-builtins", "ref": "gate-debug-builtins", "sha": "2903aa58db6e2831ee7b5310fff1109443ac20ae", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 178846246, "node_id": "MDEwOlJlcG9zaXRvcnkxNzg4NDYyNDY=", "name": "wasmtime", "full_name": "alexcrichton/wasmtime", "private": false, "owner": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/alexcrichton/wasmtime", "description": "Standalone JIT-style runtime for WebAsssembly, using Cranelift", "fork": true, "url": "https://api.github.com/repos/alexcrichton/wasmtime", "forks_url": "https://api.github.com/repos/alexcrichton/wasmtime/forks", "keys_url": "https://api.github.com/repos/alexcrichton/wasmtime/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/alexcrichton/wasmtime/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/alexcrichton/wasmtime/teams", "hooks_url": "https://api.github.com/repos/alexcrichton/wasmtime/hooks", "issue_events_url": "https://api.github.com/repos/alexcrichton/wasmtime/issues/events{/number}", "events_url": "https://api.github.com/repos/alexcrichton/wasmtime/events", "assignees_url": "https://api.github.com/repos/alexcrichton/wasmtime/assignees{/user}", "branches_url": "https://api.github.com/repos/alexcrichton/wasmtime/branches{/branch}", "tags_url": "https://api.github.com/repos/alexcrichton/wasmtime/tags", "blobs_url": "https://api.github.com/repos/alexcrichton/wasmtime/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/alexcrichton/wasmtime/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/alexcrichton/wasmtime/git/refs{/sha}", "trees_url": "https://api.github.com/repos/alexcrichton/wasmtime/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/alexcrichton/wasmtime/statuses/{sha}", "languages_url": "https://api.github.com/repos/alexcrichton/wasmtime/languages", "stargazers_url": "https://api.github.com/repos/alexcrichton/wasmtime/stargazers", "contributors_url": "https://api.github.com/repos/alexcrichton/wasmtime/contributors", "subscribers_url": "https://api.github.com/repos/alexcrichton/wasmtime/subscribers", "subscription_url": "https://api.github.com/repos/alexcrichton/wasmtime/subscription", "commits_url": "https://api.github.com/repos/alexcrichton/wasmtime/commits{/sha}", "git_commits_url": "https://api.github.com/repos/alexcrichton/wasmtime/git/commits{/sha}", "comments_url": "https://api.github.com/repos/alexcrichton/wasmtime/comments{/number}", "issue_comment_url": "https://api.github.com/repos/alexcrichton/wasmtime/issues/comments{/number}", "contents_url": "https://api.github.com/repos/alexcrichton/wasmtime/contents/{+path}", "compare_url": "https://api.github.com/repos/alexcrichton/wasmtime/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/alexcrichton/wasmtime/merges", "archive_url": "https://api.github.com/repos/alexcrichton/wasmtime/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/alexcrichton/wasmtime/downloads", "issues_url": "https://api.github.com/repos/alexcrichton/wasmtime/issues{/number}", "pulls_url": "https://api.github.com/repos/alexcrichton/wasmtime/pulls{/number}", "milestones_url": "https://api.github.com/repos/alexcrichton/wasmtime/milestones{/number}", "notifications_url": "https://api.github.com/repos/alexcrichton/wasmtime/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/alexcrichton/wasmtime/labels{/name}", "releases_url": "https://api.github.com/repos/alexcrichton/wasmtime/releases{/id}", "deployments_url": "https://api.github.com/repos/alexcrichton/wasmtime/deployments", "created_at": "2019-04-01T11:11:45Z", "updated_at": "2025-09-28T11:13:03Z", "pushed_at": "2026-01-21T15:47:10Z", "git_url": "git://github.com/alexcrichton/wasmtime.git", "ssh_url": "git@github.com:alexcrichton/wasmtime.git", "clone_url": "https://github.com/alexcrichton/wasmtime.git", "svn_url": "https://github.com/alexcrichton/wasmtime", "homepage": "", "size": 134614, "stargazers_count": 7, "watchers_count": 7, "language": "Rust", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 7, "default_branch": "main"}}, "base": {"label": "bytecodealliance:main", "ref": "main", "sha": "8d19280a225578d9e831df2bb95a4b6e8c42b8ed", "user": {"login": "bytecodealliance", "id": 54038801, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MDM4ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/54038801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bytecodealliance", "html_url": "https://github.com/bytecodealliance", "followers_url": "https://api.github.com/users/bytecodealliance/followers", "following_url": "https://api.github.com/users/bytecodealliance/following{/other_user}", "gists_url": "https://api.github.com/users/bytecodealliance/gists{/gist_id}", "starred_url": "https://api.github.com/users/bytecodealliance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bytecodealliance/subscriptions", "organizations_url": "https://api.github.com/users/bytecodealliance/orgs", "repos_url": "https://api.github.com/users/bytecodealliance/repos", "events_url": "https://api.github.com/users/bytecodealliance/events{/privacy}", "received_events_url": "https://api.github.com/users/bytecodealliance/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 101767772, "node_id": "MDEwOlJlcG9zaXRvcnkxMDE3Njc3NzI=", "name": "wasmtime", "full_name": "bytecodealliance/wasmtime", "private": false, "owner": {"login": "bytecodealliance", "id": 54038801, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MDM4ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/54038801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bytecodealliance", "html_url": "https://github.com/bytecodealliance", "followers_url": "https://api.github.com/users/bytecodealliance/followers", "following_url": "https://api.github.com/users/bytecodealliance/following{/other_user}", "gists_url": "https://api.github.com/users/bytecodealliance/gists{/gist_id}", "starred_url": "https://api.github.com/users/bytecodealliance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bytecodealliance/subscriptions", "organizations_url": "https://api.github.com/users/bytecodealliance/orgs", "repos_url": "https://api.github.com/users/bytecodealliance/repos", "events_url": "https://api.github.com/users/bytecodealliance/events{/privacy}", "received_events_url": "https://api.github.com/users/bytecodealliance/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/bytecodealliance/wasmtime", "description": "A lightweight WebAssembly runtime that is fast, secure, and standards-compliant", "fork": false, "url": "https://api.github.com/repos/bytecodealliance/wasmtime", "forks_url": "https://api.github.com/repos/bytecodealliance/wasmtime/forks", "keys_url": "https://api.github.com/repos/bytecodealliance/wasmtime/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/bytecodealliance/wasmtime/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/bytecodealliance/wasmtime/teams", "hooks_url": "https://api.github.com/repos/bytecodealliance/wasmtime/hooks", "issue_events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/events{/number}", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/events", "assignees_url": "https://api.github.com/repos/bytecodealliance/wasmtime/assignees{/user}", "branches_url": "https://api.github.com/repos/bytecodealliance/wasmtime/branches{/branch}", "tags_url": "https://api.github.com/repos/bytecodealliance/wasmtime/tags", "blobs_url": "https://api.github.com/repos/bytecodealliance/wasmtime/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/bytecodealliance/wasmtime/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/bytecodealliance/wasmtime/git/refs{/sha}", "trees_url": "https://api.github.com/repos/bytecodealliance/wasmtime/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/bytecodealliance/wasmtime/statuses/{sha}", "languages_url": "https://api.github.com/repos/bytecodealliance/wasmtime/languages", "stargazers_url": "https://api.github.com/repos/bytecodealliance/wasmtime/stargazers", "contributors_url": "https://api.github.com/repos/bytecodealliance/wasmtime/contributors", "subscribers_url": "https://api.github.com/repos/bytecodealliance/wasmtime/subscribers", "subscription_url": "https://api.github.com/repos/bytecodealliance/wasmtime/subscription", "commits_url": "https://api.github.com/repos/bytecodealliance/wasmtime/commits{/sha}", "git_commits_url": "https://api.github.com/repos/bytecodealliance/wasmtime/git/commits{/sha}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/comments{/number}", "issue_comment_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/comments{/number}", "contents_url": "https://api.github.com/repos/bytecodealliance/wasmtime/contents/{+path}", "compare_url": "https://api.github.com/repos/bytecodealliance/wasmtime/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/bytecodealliance/wasmtime/merges", "archive_url": "https://api.github.com/repos/bytecodealliance/wasmtime/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/bytecodealliance/wasmtime/downloads", "issues_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues{/number}", "pulls_url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls{/number}", "milestones_url": "https://api.github.com/repos/bytecodealliance/wasmtime/milestones{/number}", "notifications_url": "https://api.github.com/repos/bytecodealliance/wasmtime/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels{/name}", "releases_url": "https://api.github.com/repos/bytecodealliance/wasmtime/releases{/id}", "deployments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/deployments", "created_at": "2017-08-29T14:01:55Z", "updated_at": "2026-01-21T17:23:26Z", "pushed_at": "2026-01-21T18:08:02Z", "git_url": "git://github.com/bytecodealliance/wasmtime.git", "ssh_url": "git@github.com:bytecodealliance/wasmtime.git", "clone_url": "https://github.com/bytecodealliance/wasmtime.git", "svn_url": "https://github.com/bytecodealliance/wasmtime", "homepage": "https://wasmtime.dev/", "size": 137960, "stargazers_count": 17479, "watchers_count": 17479, "language": "Rust", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": true, "has_discussions": false, "forks_count": 1596, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 829, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["aot", "cranelift", "jit", "lightweight", "portable", "runtime", "rust", "sandbox", "standalone", "wasi", "wasm", "wasmtime", "webassembly"], "visibility": "public", "forks": 1596, "open_issues": 829, "watchers": 17479, "default_branch": "main"}}, "_links": {"self": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7305"}, "html": {"href": "https://github.com/bytecodealliance/wasmtime/pull/7305"}, "issue": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305"}, "comments": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/comments"}, "review_comments": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7305/comments"}, "review_comment": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7305/commits"}, "statuses": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/statuses/2903aa58db6e2831ee7b5310fff1109443ac20ae"}}, "author_association": "MEMBER", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 1, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 12, "deletions": 6, "changed_files": 5}}