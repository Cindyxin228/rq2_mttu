{"window": ["2021-02-05T22:48:09.365753+00:00", "2021-06-05T23:45:28.264791+00:00"], "repo_slug": "kube-rs/kube", "candidates": [{"url": "https://api.github.com/repos/kube-rs/kube/issues/541", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/541/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/541/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/541/events", "html_url": "https://github.com/kube-rs/kube/pull/541", "id": 910582047, "node_id": "MDExOlB1bGxSZXF1ZXN0NjYwOTgxNTgy", "number": 541, "title": "Update jsonpath_lib to v0.3.0", "user": {"login": "olix0r", "id": 240738, "node_id": "MDQ6VXNlcjI0MDczOA==", "avatar_url": "https://avatars.githubusercontent.com/u/240738?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olix0r", "html_url": "https://github.com/olix0r", "followers_url": "https://api.github.com/users/olix0r/followers", "following_url": "https://api.github.com/users/olix0r/following{/other_user}", "gists_url": "https://api.github.com/users/olix0r/gists{/gist_id}", "starred_url": "https://api.github.com/users/olix0r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olix0r/subscriptions", "organizations_url": "https://api.github.com/users/olix0r/orgs", "repos_url": "https://api.github.com/users/olix0r/repos", "events_url": "https://api.github.com/users/olix0r/events{/privacy}", "received_events_url": "https://api.github.com/users/olix0r/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-03T15:03:06Z", "updated_at": "2021-06-04T00:02:37Z", "closed_at": "2021-06-03T15:31:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/541", "html_url": "https://github.com/kube-rs/kube/pull/541", "diff_url": "https://github.com/kube-rs/kube/pull/541.diff", "patch_url": "https://github.com/kube-rs/kube/pull/541.patch", "merged_at": "2021-06-03T15:31:08Z"}, "body": "`jsonpath_lib` v0.2 unnecessarily depends on an older version of the\r\n`env_logger` crate, which raises conflicts in tools like `cargo-deny`.\r\n\r\nv0.3.0 fixes this by removing this dependency.", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/541/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/541/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/540", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/540/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/540/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/540/events", "html_url": "https://github.com/kube-rs/kube/pull/540", "id": 901465980, "node_id": "MDExOlB1bGxSZXF1ZXN0NjUyOTIxNjgy", "number": 540, "title": "Make Client configurable", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-25T22:48:36Z", "updated_at": "2021-06-08T04:37:53Z", "closed_at": "2021-06-05T21:22:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/540", "html_url": "https://github.com/kube-rs/kube/pull/540", "diff_url": "https://github.com/kube-rs/kube/pull/540.diff", "patch_url": "https://github.com/kube-rs/kube/pull/540.patch", "merged_at": "2021-06-05T21:22:58Z"}, "body": "Customize client with [Layers](https://docs.rs/tower/0.4.8/tower/layer/trait.Layer.html):\r\n```rust\r\nuse kube::{client::ConfigExt, Client, Config};\r\nuse tower::ServiceBuilder;\r\nuse tower_http::{decompression::DecompressionLayer, trace::TraceLayer};\r\n\r\nlet config = Config::infer().await?;\r\nlet https = config.native_tls_https_connector()?;\r\nlet client = Client::new(\r\n    ServiceBuilder::new()\r\n        .layer(config.base_uri_layer())\r\n        .option_layer(config.auth_layer()?)\r\n        .layer(DecompressionLayer::new())\r\n        .layer(TraceLayer::new_for_http())\r\n        .service(hyper::Client::builder().build(https)),\r\n);\r\n```\r\n\r\nCustomize `HttpsConnector`:\r\n```rust\r\nlet https = ServiceBuilder::new()\r\n    .layer(layer_fn(|c| {\r\n        let mut conn = TimeoutConnector::new(c);\r\n        conn.set_connect_timeout(Some(Duration::from_secs(5)));\r\n        conn\r\n    }))\r\n    .service(config.native_tls_https_connector()?);\r\n```\r\n\r\nIt's also possible to create `HttpsConnector` from `TlsConnector`:\r\n```rust\r\nlet https = {\r\n    let tls = tokio_native_tls::TlsConnector::from(\r\n        config.native_tls_connector()?\r\n    );\r\n    let mut http = HttpConnector::new();\r\n    http.enforce_http(false);\r\n    HttpsConnector::from((http, tls))\r\n};\r\n```\r\n\r\n## TLS Enhancements\r\n\r\n- Add `kube::client::ConfigExt` extending `Config` for custom `Client`. This includes methods to configure TLS connection when building a custom client (#539)\r\n  - `native-tls`: `Config::native_tls_https_connector` and `Config::native_tls_connector`\r\n  - `rustls-tls`: `Config::rustls_https_connector` and `Config::rustls_client_config`\r\n- Remove the requirement of having `native-tls` or `rustls-tls` enabled when `client` is enabled. Allow one, both or none.\r\n  - When both, the default Service will use `native-tls` because of #153. `rustls` can be still used with a custom client. Users will have an option to configure TLS at runtime.\r\n  - When none, HTTP connector is used.\r\n- Remove TLS features from `kube-runtime`\r\n  - **BREAKING**: Features must be removed if specified \r\n- Remove `client` feature from `native-tls` and `rust-tls` features\r\n  - `config` + `native-tls`/`rustls-tls` can be used independently, e.g., to create a simple HTTP client\r\n  - **BREAKING**: `client` feature must be added if `default-features = false`\r\n\r\n## Layers\r\n\r\n- `ConfigExt::base_uri_layer` (`BaseUriLayer`) to set cluster URL (#539)\r\n- `ConfigExt::auth_layer` that returns optional layer to manage `Authorization` header (#539)\r\n- `gzip`: Replaced custom decompression module with [`DecompressionLayer`](https://docs.rs/tower-http/0.1.0/tower_http/decompression/index.html) from `tower-http` (#539)\r\n- Replaced custom `LogRequest` with [`TraceLayer`](https://docs.rs/tower-http/0.1.0/tower_http/trace/index.html) from `tower-http` (#539)\r\n  - Request body is no longer shown\r\n- Basic and Bearer authentication using `AddAuthorizationLayer` (borrowing from https://github.com/tower-rs/tower-http/pull/95 until released)\r\n\r\n## Changes\r\n\r\n- **BREAKING**: Remove `headers` from `Config`. It was originally added to allow injecting arbitrary headers, but now a custom client can be used to do that.\r\n- Add support for loading proxy URL from kube config. Proxy itself is not supported yet.\r\n\r\n## Dependency Changes\r\n\r\n- Remove `static_assertions` since it's no longer used\r\n- Replace `tokio_rustls` with `rustls` and `webpki` since we're not using `tokio_rustls` directly\r\n- Replace uses of `rustls::internal::pemfile` with `rustls-pemfile`\r\n- Remove `url` and always use `http::Uri`\r\n  - **BREAKING**: `Config::cluster_url` is now `http::Uri`\r\n  - **BREAKING**: `Error::InternalUrlError(url::ParseError)` and `Error::MalformedUrl(url::ParseError)` replaced by `Error::InvalidUri(http::uri::InvalidUri)`\r\n\r\n---\r\n\r\nCloses #539", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/540/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/535", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/535/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/535/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/535/events", "html_url": "https://github.com/kube-rs/kube/pull/535", "id": 898456078, "node_id": "MDExOlB1bGxSZXF1ZXN0NjUwMzI3MDE1", "number": 535, "title": "add a config feature in kube - fixes #533", "user": {"login": "clux", "id": 134092, "node_id": "MDQ6VXNlcjEzNDA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/134092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clux", "html_url": "https://github.com/clux", "followers_url": "https://api.github.com/users/clux/followers", "following_url": "https://api.github.com/users/clux/following{/other_user}", "gists_url": "https://api.github.com/users/clux/gists{/gist_id}", "starred_url": "https://api.github.com/users/clux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clux/subscriptions", "organizations_url": "https://api.github.com/users/clux/orgs", "repos_url": "https://api.github.com/users/clux/repos", "events_url": "https://api.github.com/users/clux/events{/privacy}", "received_events_url": "https://api.github.com/users/clux/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-21T20:28:30Z", "updated_at": "2021-06-05T22:52:50Z", "closed_at": "2021-05-21T22:46:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/535", "html_url": "https://github.com/kube-rs/kube/pull/535", "diff_url": "https://github.com/kube-rs/kube/pull/535.diff", "patch_url": "https://github.com/kube-rs/kube/pull/535.patch", "merged_at": "2021-05-21T22:46:36Z"}, "body": "surprisingly simple to split up these features", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/535/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/529", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/529/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/529/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/529/events", "html_url": "https://github.com/kube-rs/kube/pull/529", "id": 896517066, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ4NjE0ODgw", "number": 529, "title": "Remove explicit `kube/client` feature", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-20T09:08:19Z", "updated_at": "2021-05-20T17:49:04Z", "closed_at": "2021-05-20T17:48:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/529", "html_url": "https://github.com/kube-rs/kube/pull/529", "diff_url": "https://github.com/kube-rs/kube/pull/529.diff", "patch_url": "https://github.com/kube-rs/kube/pull/529.patch", "merged_at": "2021-05-20T17:48:59Z"}, "body": "Missed this one.", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/529/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/528", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/528/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/528/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/528/events", "html_url": "https://github.com/kube-rs/kube/pull/528", "id": 895875569, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ4MDQwMjMx", "number": 528, "title": "create a client feature in kube #525", "user": {"login": "clux", "id": 134092, "node_id": "MDQ6VXNlcjEzNDA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/134092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clux", "html_url": "https://github.com/clux", "followers_url": "https://api.github.com/users/clux/followers", "following_url": "https://api.github.com/users/clux/following{/other_user}", "gists_url": "https://api.github.com/users/clux/gists{/gist_id}", "starred_url": "https://api.github.com/users/clux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clux/subscriptions", "organizations_url": "https://api.github.com/users/clux/orgs", "repos_url": "https://api.github.com/users/clux/repos", "events_url": "https://api.github.com/users/clux/events{/privacy}", "received_events_url": "https://api.github.com/users/clux/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-05-19T20:50:35Z", "updated_at": "2021-05-20T08:34:49Z", "closed_at": "2021-05-20T08:34:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/528", "html_url": "https://github.com/kube-rs/kube/pull/528", "diff_url": "https://github.com/kube-rs/kube/pull/528.diff", "patch_url": "https://github.com/kube-rs/kube/pull/528.patch", "merged_at": "2021-05-20T08:34:48Z"}, "body": "Makes pretty much every heavy dependency optional (which does make things a bit confusing), but it's now possible to build `kube` without default-features and you'll get something quite similar to `kube-core`, something that is small enough that `kube-derive` can depend on it.\r\n\r\nI think in theory we can actually make every dep here optional because without default features, all we do is re-export kube-core, but I think the ones i left are in kube-core anyway...\r\n\r\nTried a bit to make a `config` and `client` feature (possible in theory to build config without client, but not the other way around), but there are many dependencies in the shared set atm so it would include some more complicated cfg! selectors. Maybe a future issue.\r\n\r\nReplaces #526 (that fix is included) and #527 (i think).", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/528/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/522", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/522/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/522/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/522/events", "html_url": "https://github.com/kube-rs/kube/pull/522", "id": 894611375, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ2OTQ5MTU0", "number": 522, "title": "move discovery types and admission types into kube-core", "user": {"login": "clux", "id": 134092, "node_id": "MDQ6VXNlcjEzNDA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/134092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clux", "html_url": "https://github.com/clux", "followers_url": "https://api.github.com/users/clux/followers", "following_url": "https://api.github.com/users/clux/following{/other_user}", "gists_url": "https://api.github.com/users/clux/gists{/gist_id}", "starred_url": "https://api.github.com/users/clux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clux/subscriptions", "organizations_url": "https://api.github.com/users/clux/orgs", "repos_url": "https://api.github.com/users/clux/repos", "events_url": "https://api.github.com/users/clux/events{/privacy}", "received_events_url": "https://api.github.com/users/clux/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-18T17:25:44Z", "updated_at": "2021-05-18T21:46:40Z", "closed_at": "2021-05-18T21:46:40Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/522", "html_url": "https://github.com/kube-rs/kube/pull/522", "diff_url": "https://github.com/kube-rs/kube/pull/522.diff", "patch_url": "https://github.com/kube-rs/kube/pull/522.patch", "merged_at": "2021-05-18T21:46:40Z"}, "body": "can write an admission controller without pulling in kube with this.\r\n\r\nthis reduces kube/src/api to 4 files:\r\n- core_methods.rs: `Api` core main methods (previously typed.rs)\r\n- mod.rs: `Api` struct and re-exports\r\n- remote_command.rs: `Api` methods using `ws`\r\n- subresource.rs: `Api` subresource methods and marker traits\r\n", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/522/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/522/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/519", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/519/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/519/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/519/events", "html_url": "https://github.com/kube-rs/kube/pull/519", "id": 893717142, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ2MTg2ODg3", "number": 519, "title": "kube-core type movement", "user": {"login": "clux", "id": 134092, "node_id": "MDQ6VXNlcjEzNDA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/134092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clux", "html_url": "https://github.com/clux", "followers_url": "https://api.github.com/users/clux/followers", "following_url": "https://api.github.com/users/clux/following{/other_user}", "gists_url": "https://api.github.com/users/clux/gists{/gist_id}", "starred_url": "https://api.github.com/users/clux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clux/subscriptions", "organizations_url": "https://api.github.com/users/clux/orgs", "repos_url": "https://api.github.com/users/clux/repos", "events_url": "https://api.github.com/users/clux/events{/privacy}", "received_events_url": "https://api.github.com/users/clux/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-17T21:10:33Z", "updated_at": "2021-05-18T08:38:51Z", "closed_at": "2021-05-18T08:38:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/519", "html_url": "https://github.com/kube-rs/kube/pull/519", "diff_url": "https://github.com/kube-rs/kube/pull/519.diff", "patch_url": "https://github.com/kube-rs/kube/pull/519.patch", "merged_at": "2021-05-18T08:38:50Z"}, "body": "Follow up to #517 \r\n\r\nMoves more files to kube-core so that most core types and traits live therein, and kube gets the harder business logic around tokio and clients.\r\n\r\nCould potentially move `Api` in to an async_trait into kube-core at some point, but no need for it atm.\r\n\r\n- Moved modules: `kube::api::{metadata,object,dynamic, gvk}` (but kept re-exports to avoid breaking)\r\n- Moved struct `ErrorResponse` (was used by `WatchEvent` (again, re-exported)\r\n- Renames `Group` from `discovery` to `ApiGroup` to match `ApiResource` (small follow-up to #495)\r\n\r\nThere is something to be said by the re-export structure, and the lack of re-exports inside kube-core, but it works as a first sketch I think.", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/519/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/517", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/517/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/517/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/517/events", "html_url": "https://github.com/kube-rs/kube/pull/517", "id": 892716799, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ1MzQ5MTA5", "number": 517, "title": "Remove kube Dependency in kube-derive", "user": {"login": "kflansburg", "id": 6134007, "node_id": "MDQ6VXNlcjYxMzQwMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/6134007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kflansburg", "html_url": "https://github.com/kflansburg", "followers_url": "https://api.github.com/users/kflansburg/followers", "following_url": "https://api.github.com/users/kflansburg/following{/other_user}", "gists_url": "https://api.github.com/users/kflansburg/gists{/gist_id}", "starred_url": "https://api.github.com/users/kflansburg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kflansburg/subscriptions", "organizations_url": "https://api.github.com/users/kflansburg/orgs", "repos_url": "https://api.github.com/users/kflansburg/repos", "events_url": "https://api.github.com/users/kflansburg/events{/privacy}", "received_events_url": "https://api.github.com/users/kflansburg/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-05-16T17:21:29Z", "updated_at": "2021-05-18T22:07:05Z", "closed_at": "2021-05-17T20:17:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/517", "html_url": "https://github.com/kube-rs/kube/pull/517", "diff_url": "https://github.com/kube-rs/kube/pull/517.diff", "patch_url": "https://github.com/kube-rs/kube/pull/517.patch", "merged_at": "2021-05-17T20:17:24Z"}, "body": "Closes #516 \r\n\r\nThis gives an idea of how the `kube` dependency can be removed. A few sharp edges still:\r\n\r\n* We can only reference one path in the derive macro, so they either have to always add `kube` or always add `kube-core` to their Cargo manifest.\r\n* I'm sure there are CI changes that need to be made due to the new crate.\r\n\r\nI've also taken the liberty of fixing some Clippy lints that were preventing compilation (in a separate commit). ", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/517/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/517/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/486", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/486/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/486/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/486/events", "html_url": "https://github.com/kube-rs/kube/pull/486", "id": 849398129, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA4MTgwNTkz", "number": 486, "title": "Change Resource trait", "user": {"login": "MikailBag", "id": 11889433, "node_id": "MDQ6VXNlcjExODg5NDMz", "avatar_url": "https://avatars.githubusercontent.com/u/11889433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MikailBag", "html_url": "https://github.com/MikailBag", "followers_url": "https://api.github.com/users/MikailBag/followers", "following_url": "https://api.github.com/users/MikailBag/following{/other_user}", "gists_url": "https://api.github.com/users/MikailBag/gists{/gist_id}", "starred_url": "https://api.github.com/users/MikailBag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MikailBag/subscriptions", "organizations_url": "https://api.github.com/users/MikailBag/orgs", "repos_url": "https://api.github.com/users/MikailBag/repos", "events_url": "https://api.github.com/users/MikailBag/events{/privacy}", "received_events_url": "https://api.github.com/users/MikailBag/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-04-02T18:46:29Z", "updated_at": "2021-05-15T09:18:28Z", "closed_at": "2021-04-06T14:43:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/486", "html_url": "https://github.com/kube-rs/kube/pull/486", "diff_url": "https://github.com/kube-rs/kube/pull/486.diff", "patch_url": "https://github.com/kube-rs/kube/pull/486.patch", "merged_at": "2021-04-06T14:43:41Z"}, "body": "- add a meta_mut method for mutable access to the metadata\r\n- move some methods to ResourceExt trait", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/486/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/484", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/484/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/484/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/484/events", "html_url": "https://github.com/kube-rs/kube/pull/484", "id": 845713519, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA0ODU4NTI4", "number": 484, "title": "Admission controller types and example", "user": {"login": "coadler", "id": 6332295, "node_id": "MDQ6VXNlcjYzMzIyOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6332295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/coadler", "html_url": "https://github.com/coadler", "followers_url": "https://api.github.com/users/coadler/followers", "following_url": "https://api.github.com/users/coadler/following{/other_user}", "gists_url": "https://api.github.com/users/coadler/gists{/gist_id}", "starred_url": "https://api.github.com/users/coadler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/coadler/subscriptions", "organizations_url": "https://api.github.com/users/coadler/orgs", "repos_url": "https://api.github.com/users/coadler/repos", "events_url": "https://api.github.com/users/coadler/events{/privacy}", "received_events_url": "https://api.github.com/users/coadler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-31T02:51:21Z", "updated_at": "2021-03-31T23:12:59Z", "closed_at": "2021-03-31T23:12:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/484", "html_url": "https://github.com/kube-rs/kube/pull/484", "diff_url": "https://github.com/kube-rs/kube/pull/484.diff", "patch_url": "https://github.com/kube-rs/kube/pull/484.patch", "merged_at": "2021-03-31T23:12:58Z"}, "body": "Resolves #477", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/484/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/484/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/482", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/482/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/482/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/482/events", "html_url": "https://github.com/kube-rs/kube/pull/482", "id": 845415227, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA0NTgyODg2", "number": 482, "title": "make Object a more usable", "user": {"login": "clux", "id": 134092, "node_id": "MDQ6VXNlcjEzNDA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/134092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clux", "html_url": "https://github.com/clux", "followers_url": "https://api.github.com/users/clux/followers", "following_url": "https://api.github.com/users/clux/following{/other_user}", "gists_url": "https://api.github.com/users/clux/gists{/gist_id}", "starred_url": "https://api.github.com/users/clux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clux/subscriptions", "organizations_url": "https://api.github.com/users/clux/orgs", "repos_url": "https://api.github.com/users/clux/repos", "events_url": "https://api.github.com/users/clux/events{/privacy}", "received_events_url": "https://api.github.com/users/clux/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1872596452, "node_id": "MDU6TGFiZWwxODcyNTk2NDUy", "url": "https://api.github.com/repos/kube-rs/kube/labels/api", "name": "api", "color": "6a9bc4", "default": false, "description": "Api abstraction related"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-30T22:54:40Z", "updated_at": "2021-05-21T07:52:06Z", "closed_at": "2021-05-21T07:52:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/482", "html_url": "https://github.com/kube-rs/kube/pull/482", "diff_url": "https://github.com/kube-rs/kube/pull/482.diff", "patch_url": "https://github.com/kube-rs/kube/pull/482.patch", "merged_at": "2021-05-21T07:52:06Z"}, "body": "`Object` wasn't really very usable before since it required `k8s_openapi` impls (so my past use of it had to use `Request` directly). Now though, with `DynamicType` in `Resource` trait, we can avoid that.\r\n\r\nThis implements the same `Resource` style impl when `DynamicType=ApiResource`.\r\n\r\nThis effectively lets users have a way do typed queries using `Api<Object<P,U>>` without having to do a full kube-derive setup, and reusing the erased resource from an existing type (see test example).\r\n", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/482/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/482/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/481", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/481/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/481/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/481/events", "html_url": "https://github.com/kube-rs/kube/pull/481", "id": 842843218, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAyMzE4Njgz", "number": 481, "title": "add plural to Resource and GroupVersionKind", "user": {"login": "clux", "id": 134092, "node_id": "MDQ6VXNlcjEzNDA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/134092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clux", "html_url": "https://github.com/clux", "followers_url": "https://api.github.com/users/clux/followers", "following_url": "https://api.github.com/users/clux/following{/other_user}", "gists_url": "https://api.github.com/users/clux/gists{/gist_id}", "starred_url": "https://api.github.com/users/clux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clux/subscriptions", "organizations_url": "https://api.github.com/users/clux/orgs", "repos_url": "https://api.github.com/users/clux/repos", "events_url": "https://api.github.com/users/clux/events{/privacy}", "received_events_url": "https://api.github.com/users/clux/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-28T22:09:03Z", "updated_at": "2021-03-31T20:32:24Z", "closed_at": "2021-03-29T21:20:09Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/481", "html_url": "https://github.com/kube-rs/kube/pull/481", "diff_url": "https://github.com/kube-rs/kube/pull/481.diff", "patch_url": "https://github.com/kube-rs/kube/pull/481.patch", "merged_at": "2021-03-29T21:20:09Z"}, "body": "replaces #468.\r\ncloses #467\r\n\r\nThis changes kube-derive to no longer implement `k8s_openapi` traits.\r\nWe now instead implement `kube::Resource` instead so we can control the plural.\r\n\r\nBecause the trait now picks up on an override when it is generating the `path_url`, it is now correct in the `Api` urls.", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/481/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/481/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/471", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/471/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/471/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/471/events", "html_url": "https://github.com/kube-rs/kube/pull/471", "id": 835756635, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk2MzY1ODQ5", "number": 471, "title": "Remove Inflector", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-03-19T09:34:21Z", "updated_at": "2021-03-31T20:32:34Z", "closed_at": "2021-03-19T22:31:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/471", "html_url": "https://github.com/kube-rs/kube/pull/471", "diff_url": "https://github.com/kube-rs/kube/pull/471.diff", "patch_url": "https://github.com/kube-rs/kube/pull/471.patch", "merged_at": "2021-03-19T22:31:29Z"}, "body": "- Use simple pluralizer (a Rust port of a popular JavaScript package [plur](https://www.npmjs.com/package/plur) minus the irregular and case matching)\r\n- Duplicate the code in `kube-derive` without the special casing because it's short enough and didn't want to make this public. If necessary, I can publish the version in `kube-derive` as a separate crate.\r\n\r\nThis _may_ be a breaking change if a user is using some `kind` that results in different plural.\r\n\r\nCloses #470.", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/471/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/471/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/455", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/455/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/455/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/455/events", "html_url": "https://github.com/kube-rs/kube/pull/455", "id": 825025902, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg3MTY1MjMx", "number": 455, "title": "instrument the Api and propagate required Debug impls", "user": {"login": "clux", "id": 134092, "node_id": "MDQ6VXNlcjEzNDA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/134092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clux", "html_url": "https://github.com/clux", "followers_url": "https://api.github.com/users/clux/followers", "following_url": "https://api.github.com/users/clux/following{/other_user}", "gists_url": "https://api.github.com/users/clux/gists{/gist_id}", "starred_url": "https://api.github.com/users/clux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clux/subscriptions", "organizations_url": "https://api.github.com/users/clux/orgs", "repos_url": "https://api.github.com/users/clux/repos", "events_url": "https://api.github.com/users/clux/events{/privacy}", "received_events_url": "https://api.github.com/users/clux/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-03-08T22:41:56Z", "updated_at": "2021-03-31T20:30:28Z", "closed_at": "2021-03-12T14:22:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/455", "html_url": "https://github.com/kube-rs/kube/pull/455", "diff_url": "https://github.com/kube-rs/kube/pull/455.diff", "patch_url": "https://github.com/kube-rs/kube/pull/455.patch", "merged_at": "2021-03-12T14:22:25Z"}, "body": "Experiment with tracing primarily for use with the example controller-rs repo via https://github.com/clux/controller-rs/pull/10", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/455/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/452", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/452/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/452/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/452/events", "html_url": "https://github.com/kube-rs/kube/pull/452", "id": 824515106, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg2NzM2ODY5", "number": 452, "title": "Update tokio-tungstenite and remove sha1 dependency", "user": {"login": "aquarhead", "id": 222272, "node_id": "MDQ6VXNlcjIyMjI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/222272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aquarhead", "html_url": "https://github.com/aquarhead", "followers_url": "https://api.github.com/users/aquarhead/followers", "following_url": "https://api.github.com/users/aquarhead/following{/other_user}", "gists_url": "https://api.github.com/users/aquarhead/gists{/gist_id}", "starred_url": "https://api.github.com/users/aquarhead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aquarhead/subscriptions", "organizations_url": "https://api.github.com/users/aquarhead/orgs", "repos_url": "https://api.github.com/users/aquarhead/repos", "events_url": "https://api.github.com/users/aquarhead/events{/privacy}", "received_events_url": "https://api.github.com/users/aquarhead/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-08T12:30:58Z", "updated_at": "2021-03-31T20:31:38Z", "closed_at": "2021-03-08T18:56:13Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/452", "html_url": "https://github.com/kube-rs/kube/pull/452", "diff_url": "https://github.com/kube-rs/kube/pull/452.diff", "patch_url": "https://github.com/kube-rs/kube/pull/452.patch", "merged_at": "2021-03-08T18:56:13Z"}, "body": "Addressing the TODO", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/452/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/447", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/447/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/447/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/447/events", "html_url": "https://github.com/kube-rs/kube/pull/447", "id": 819366395, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgyNDg1ODIz", "number": 447, "title": "Verify connection upgrade response", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-01T22:38:58Z", "updated_at": "2021-03-31T20:31:59Z", "closed_at": "2021-03-02T00:20:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/447", "html_url": "https://github.com/kube-rs/kube/pull/447", "diff_url": "https://github.com/kube-rs/kube/pull/447.diff", "patch_url": "https://github.com/kube-rs/kube/pull/447.patch", "merged_at": "2021-03-02T00:20:51Z"}, "body": "Apparently, I never implemented proper handshake :(\r\n\r\n- Properly set `Sec-WebSocket-Key` and verify `Sec-WebSocket-Accept`\r\n- Verify the correct subprotocol is returned", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/447/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/447/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/442", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/442/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/442/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/442/events", "html_url": "https://github.com/kube-rs/kube/pull/442", "id": 818063887, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgxNDI2OTQw", "number": 442, "title": "Fix clippy warnings", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-28T00:26:48Z", "updated_at": "2021-02-28T07:24:59Z", "closed_at": "2021-02-28T07:24:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/442", "html_url": "https://github.com/kube-rs/kube/pull/442", "diff_url": "https://github.com/kube-rs/kube/pull/442.diff", "patch_url": "https://github.com/kube-rs/kube/pull/442.patch", "merged_at": "2021-02-28T07:24:59Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/442/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/441", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/441/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/441/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/441/events", "html_url": "https://github.com/kube-rs/kube/pull/441", "id": 818025523, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgxNDA0ODIy", "number": 441, "title": "support multi-doc kubeconfigs - fixes #440", "user": {"login": "clux", "id": 134092, "node_id": "MDQ6VXNlcjEzNDA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/134092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clux", "html_url": "https://github.com/clux", "followers_url": "https://api.github.com/users/clux/followers", "following_url": "https://api.github.com/users/clux/following{/other_user}", "gists_url": "https://api.github.com/users/clux/gists{/gist_id}", "starred_url": "https://api.github.com/users/clux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clux/subscriptions", "organizations_url": "https://api.github.com/users/clux/orgs", "repos_url": "https://api.github.com/users/clux/repos", "events_url": "https://api.github.com/users/clux/events{/privacy}", "received_events_url": "https://api.github.com/users/clux/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-27T21:25:46Z", "updated_at": "2021-02-28T16:45:44Z", "closed_at": "2021-02-28T16:45:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/441", "html_url": "https://github.com/kube-rs/kube/pull/441", "diff_url": "https://github.com/kube-rs/kube/pull/441.diff", "patch_url": "https://github.com/kube-rs/kube/pull/441.patch", "merged_at": "2021-02-28T16:45:43Z"}, "body": "- support for multiple documents in a single file\r\n- unit tests for it\r\n- document kubeconfig better", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/441/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/435", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/435/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/435/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/435/events", "html_url": "https://github.com/kube-rs/kube/pull/435", "id": 815347989, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc5MTkyMjU5", "number": 435, "title": "Refactor kube-derive using darling", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-02-24T10:37:21Z", "updated_at": "2021-02-28T17:15:37Z", "closed_at": "2021-02-24T21:09:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/435", "html_url": "https://github.com/kube-rs/kube/pull/435", "diff_url": "https://github.com/kube-rs/kube/pull/435.diff", "patch_url": "https://github.com/kube-rs/kube/pull/435.patch", "merged_at": "2021-02-24T21:09:38Z"}, "body": "Make parsing macro inputs declarative with [`darling`](https://crates.io/crates/darling).\r\n\r\nSee [the diff (only the first commit that refactors) ignoring whitespace](https://github.com/clux/kube-rs/pull/435/commits/02098921e16150c37fbc98b0223f9ffd94557a01?w=1).", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/435/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/432", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/432/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/432/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/432/events", "html_url": "https://github.com/kube-rs/kube/pull/432", "id": 813938777, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc4MDAyNzgy", "number": 432, "title": "Add example CRD derive with `Condition` from `k8s_openapi`", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-22T23:03:11Z", "updated_at": "2021-02-23T23:40:19Z", "closed_at": "2021-02-23T22:37:09Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/432", "html_url": "https://github.com/kube-rs/kube/pull/432", "diff_url": "https://github.com/kube-rs/kube/pull/432.diff", "patch_url": "https://github.com/kube-rs/kube/pull/432.patch", "merged_at": "2021-02-23T22:37:09Z"}, "body": "Example to generate schema with `Vec<Condition>` with Kubernetes extensions required for server side apply.\r\n\r\nThis works, but I wouldn't recommend working with `Condition` from `k8s_openapi` because many fields are required and are `String`. Kubernetes doesn't care as long as it serializes to something matching the convention. This is also an example of generating schema for external types without newtype implementing `JsonSchema`.\r\n\r\nTest with: `cargo test --example crd_derive`\r\n\r\n---\r\n\r\nrelated: #427", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/432/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/418", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/418/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/418/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/418/events", "html_url": "https://github.com/kube-rs/kube/pull/418", "id": 807560500, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcyNzg4NzQ2", "number": 418, "title": "Update tower for `option_layer`", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-12T21:31:51Z", "updated_at": "2021-02-12T23:34:05Z", "closed_at": "2021-02-12T23:31:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/418", "html_url": "https://github.com/kube-rs/kube/pull/418", "diff_url": "https://github.com/kube-rs/kube/pull/418.diff", "patch_url": "https://github.com/kube-rs/kube/pull/418.patch", "merged_at": "2021-02-12T23:31:50Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/418/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/404", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/404/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/404/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/404/events", "html_url": "https://github.com/kube-rs/kube/pull/404", "id": 803180300, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY5MTQ2NTE5", "number": 404, "title": "Clean up dependencies", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-08T04:46:36Z", "updated_at": "2021-02-08T08:28:47Z", "closed_at": "2021-02-08T07:42:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/404", "html_url": "https://github.com/kube-rs/kube/pull/404", "diff_url": "https://github.com/kube-rs/kube/pull/404.diff", "patch_url": "https://github.com/kube-rs/kube/pull/404.patch", "merged_at": "2021-02-08T07:42:17Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/404/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/404/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/403", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/403/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/403/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/403/events", "html_url": "https://github.com/kube-rs/kube/pull/403", "id": 803168224, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY5MTM2MzMz", "number": 403, "title": "Remove kube-runtime/Cargo.lock", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-08T04:12:05Z", "updated_at": "2021-02-08T08:27:48Z", "closed_at": "2021-02-08T07:39:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/403", "html_url": "https://github.com/kube-rs/kube/pull/403", "diff_url": "https://github.com/kube-rs/kube/pull/403.diff", "patch_url": "https://github.com/kube-rs/kube/pull/403.patch", "merged_at": "2021-02-08T07:39:12Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/403/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/403/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/401", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/401/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/401/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/401/events", "html_url": "https://github.com/kube-rs/kube/pull/401", "id": 803124663, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY5MTAxOTQ2", "number": 401, "title": "Fix docs for the next release", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-08T01:54:13Z", "updated_at": "2021-02-08T08:29:00Z", "closed_at": "2021-02-08T07:36:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/401", "html_url": "https://github.com/kube-rs/kube/pull/401", "diff_url": "https://github.com/kube-rs/kube/pull/401.diff", "patch_url": "https://github.com/kube-rs/kube/pull/401.patch", "merged_at": "2021-02-08T07:36:39Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/401/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/399", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/399/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/399/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/399/events", "html_url": "https://github.com/kube-rs/kube/pull/399", "id": 803111836, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY5MDkyMDU2", "number": 399, "title": "Make gzip opt-in", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-08T01:04:56Z", "updated_at": "2021-02-08T09:53:41Z", "closed_at": "2021-02-08T07:26:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/399", "html_url": "https://github.com/kube-rs/kube/pull/399", "diff_url": "https://github.com/kube-rs/kube/pull/399.diff", "patch_url": "https://github.com/kube-rs/kube/pull/399.patch", "merged_at": "2021-02-08T07:26:16Z"}, "body": "Make `gzip` opt-in for now because Kubernetes doesn't have it enabled by default yet and requires more dependencies.\r\nIt's behind `APIResponseCompression` feature gate which is in `Beta` since 1.16.\r\nSee <https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/>.\r\n\r\nAlso, I haven't tested this with compressed response at all.", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/399/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/399/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/394", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/394/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/394/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/394/events", "html_url": "https://github.com/kube-rs/kube/pull/394", "id": 802897640, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4OTMzOTgz", "number": 394, "title": "Replace reqwest with hyper + tower", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-02-07T08:25:04Z", "updated_at": "2021-02-08T08:34:26Z", "closed_at": "2021-02-07T11:18:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/394", "html_url": "https://github.com/kube-rs/kube/pull/394", "diff_url": "https://github.com/kube-rs/kube/pull/394.diff", "patch_url": "https://github.com/kube-rs/kube/pull/394.patch", "merged_at": "2021-02-07T11:18:12Z"}, "body": "Replace `reqwest` with `hyper` (#362) and `tower` (#100). Supersedes #376.\r\n\r\n### Changes\r\n\r\n**`kube::Client` now uses `kube::Service` instead of `reqwest::Client`**\r\n\r\n```diff\r\n #[derive(Clone)]\r\n pub struct Client {\r\n-    cluster_url: reqwest::Url,\r\n-    default_ns: String,\r\n-    inner: reqwest::Client,\r\n-    config: Config,\r\n-    #[cfg(feature = \"ws\")]\r\n-    tls_connector: AsyncTlsConnector,\r\n+    inner: kube::Service,\r\n }\r\n```\r\n\r\n`kube::Service` struct is a `tower::Service<http::Request<hyper::Body>>`. For convenience, a service based on `hyper::Client` can be created from `kube::Config`, so `Client::try_default()` is still supported. We can add a feature for this to provide an option for a sans-io `Client` (#204).\r\n\r\nTo allow users to use their implementation when they need something not supported out of the box, I'm planning to change `Client::new(config: Config)` to `Client::new(service: Service)` (creating a `Client` from `Config` is still possible with `Client::new(config.try_into()?)`). This will also allow better testing.\r\n\r\n`kube::Service` uses [`tower::buffer::Buffer`](https://docs.rs/tower/0.4.4/tower/buffer/struct.Buffer.html), so it's cheap to clone (#17).\r\n\r\n**Upgrade to WebSocket connection with `hyper`**\r\n\r\nThe above change was possible because of this. No more separate client for WebSocket! The connection is upgraded with `hyper` and a `WebSocketStream` is created from the upgraded connection. All requests go through `kube::Service`.\r\n\r\n**Other Improvements**\r\n\r\n- Rewrote `Client::request_events` with `tokio_util::codec::FramedRead` (#379)\r\n- Refactored TLS related code. It's now all isolated in `kube/src/service/tls.rs`. `kube/src/config/auth.rs` has `HttpsConnector` for oauth requests and `kube/src/config/mod.rs` has some hack for macOS, but that's about it.\r\n- Replaced `oauth2` (GCP OAuth) module with [tame-oauth](https://github.com/EmbarkStudios/tame-oauth) and made it optional (`oauth` feature).\r\n- Refactored auth related code and moved them to `config::auth`.\r\n- Fixed a bug where refreshable token from `AuthProvider` was not refreshing.\r\n- Fixed panicking when loading `AuthInfo` with provider other than GCP (#238).\r\n\r\n### Breaking Changes\r\n\r\n- `oauth` is now opt-in\r\n- `gzip` should probably be opt-in for now because Kubernetes doesn't have it enabled by default yet and requires more dependencies. It's behind `APIResponseCompression` feature gate which is in `Beta` since 1.16. See <https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/>.\r\n- TODO Change `kube::Client::new(config: Config)` to `kube::Client::new(service: Service)`\r\n- Dropped proxy option. It should be possible by using a custom Service after the above change. TODO add example.\r\n\r\n---\r\n\r\nCloses #100, #238, #362, #379", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/394/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/394/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/393", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/393/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/393/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/393/events", "html_url": "https://github.com/kube-rs/kube/pull/393", "id": 802660542, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4NzU4Mzcy", "number": 393, "title": "add eviction subresource - for #127", "user": {"login": "clux", "id": 134092, "node_id": "MDQ6VXNlcjEzNDA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/134092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clux", "html_url": "https://github.com/clux", "followers_url": "https://api.github.com/users/clux/followers", "following_url": "https://api.github.com/users/clux/following{/other_user}", "gists_url": "https://api.github.com/users/clux/gists{/gist_id}", "starred_url": "https://api.github.com/users/clux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clux/subscriptions", "organizations_url": "https://api.github.com/users/clux/orgs", "repos_url": "https://api.github.com/users/clux/repos", "events_url": "https://api.github.com/users/clux/events{/privacy}", "received_events_url": "https://api.github.com/users/clux/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-06T09:56:44Z", "updated_at": "2021-02-07T11:48:12Z", "closed_at": "2021-02-07T11:48:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/393", "html_url": "https://github.com/kube-rs/kube/pull/393", "diff_url": "https://github.com/kube-rs/kube/pull/393.diff", "patch_url": "https://github.com/kube-rs/kube/pull/393.patch", "merged_at": "2021-02-07T11:48:11Z"}, "body": "might rebase against the big hyper pr, but it was fairly trivial to get this to work at least.", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/393/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/392", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/392/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/392/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/392/events", "html_url": "https://github.com/kube-rs/kube/pull/392", "id": 801197121, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY3NTU0Mzky", "number": 392, "title": "Add pod_cp example.", "user": {"login": "montekki", "id": 56672, "node_id": "MDQ6VXNlcjU2Njcy", "avatar_url": "https://avatars.githubusercontent.com/u/56672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/montekki", "html_url": "https://github.com/montekki", "followers_url": "https://api.github.com/users/montekki/followers", "following_url": "https://api.github.com/users/montekki/following{/other_user}", "gists_url": "https://api.github.com/users/montekki/gists{/gist_id}", "starred_url": "https://api.github.com/users/montekki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/montekki/subscriptions", "organizations_url": "https://api.github.com/users/montekki/orgs", "repos_url": "https://api.github.com/users/montekki/repos", "events_url": "https://api.github.com/users/montekki/events{/privacy}", "received_events_url": "https://api.github.com/users/montekki/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-04T11:31:45Z", "updated_at": "2021-02-07T18:19:36Z", "closed_at": "2021-02-07T12:57:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/392", "html_url": "https://github.com/kube-rs/kube/pull/392", "diff_url": "https://github.com/kube-rs/kube/pull/392.diff", "patch_url": "https://github.com/kube-rs/kube/pull/392.patch", "merged_at": "2021-02-07T12:57:54Z"}, "body": "Fixes #381 ", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/392/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/392/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kube-rs/kube/issues/385", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/385/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/385/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/385/events", "html_url": "https://github.com/kube-rs/kube/pull/385", "id": 786914933, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU1NzE1NDEy", "number": 385, "title": "Decouple Meta from k8s-openapi", "user": {"login": "MikailBag", "id": 11889433, "node_id": "MDQ6VXNlcjExODg5NDMz", "avatar_url": "https://avatars.githubusercontent.com/u/11889433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MikailBag", "html_url": "https://github.com/MikailBag", "followers_url": "https://api.github.com/users/MikailBag/followers", "following_url": "https://api.github.com/users/MikailBag/following{/other_user}", "gists_url": "https://api.github.com/users/MikailBag/gists{/gist_id}", "starred_url": "https://api.github.com/users/MikailBag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MikailBag/subscriptions", "organizations_url": "https://api.github.com/users/MikailBag/orgs", "repos_url": "https://api.github.com/users/MikailBag/repos", "events_url": "https://api.github.com/users/MikailBag/events{/privacy}", "received_events_url": "https://api.github.com/users/MikailBag/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-01-15T13:56:42Z", "updated_at": "2021-03-31T20:33:28Z", "closed_at": "2021-03-17T21:07:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/385", "html_url": "https://github.com/kube-rs/kube/pull/385", "diff_url": "https://github.com/kube-rs/kube/pull/385.diff", "patch_url": "https://github.com/kube-rs/kube/pull/385.patch", "merged_at": "2021-03-17T21:07:49Z"}, "body": "This PR changes `kube::api::Meta` so that it no longer depends on `k8s-openapi`.\r\n\r\nTODO:\r\ndebug `generic_watcher` not working (upd: fixed)", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/385/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/385/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/kube-rs/kube/issues/394", "repository_url": "https://api.github.com/repos/kube-rs/kube", "labels_url": "https://api.github.com/repos/kube-rs/kube/issues/394/labels{/name}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/394/comments", "events_url": "https://api.github.com/repos/kube-rs/kube/issues/394/events", "html_url": "https://github.com/kube-rs/kube/pull/394", "id": 802897640, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4OTMzOTgz", "number": 394, "title": "Replace reqwest with hyper + tower", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-02-07T08:25:04Z", "updated_at": "2021-02-08T08:34:26Z", "closed_at": "2021-02-07T11:18:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/394", "html_url": "https://github.com/kube-rs/kube/pull/394", "diff_url": "https://github.com/kube-rs/kube/pull/394.diff", "patch_url": "https://github.com/kube-rs/kube/pull/394.patch", "merged_at": "2021-02-07T11:18:12Z"}, "body": "Replace `reqwest` with `hyper` (#362) and `tower` (#100). Supersedes #376.\r\n\r\n### Changes\r\n\r\n**`kube::Client` now uses `kube::Service` instead of `reqwest::Client`**\r\n\r\n```diff\r\n #[derive(Clone)]\r\n pub struct Client {\r\n-    cluster_url: reqwest::Url,\r\n-    default_ns: String,\r\n-    inner: reqwest::Client,\r\n-    config: Config,\r\n-    #[cfg(feature = \"ws\")]\r\n-    tls_connector: AsyncTlsConnector,\r\n+    inner: kube::Service,\r\n }\r\n```\r\n\r\n`kube::Service` struct is a `tower::Service<http::Request<hyper::Body>>`. For convenience, a service based on `hyper::Client` can be created from `kube::Config`, so `Client::try_default()` is still supported. We can add a feature for this to provide an option for a sans-io `Client` (#204).\r\n\r\nTo allow users to use their implementation when they need something not supported out of the box, I'm planning to change `Client::new(config: Config)` to `Client::new(service: Service)` (creating a `Client` from `Config` is still possible with `Client::new(config.try_into()?)`). This will also allow better testing.\r\n\r\n`kube::Service` uses [`tower::buffer::Buffer`](https://docs.rs/tower/0.4.4/tower/buffer/struct.Buffer.html), so it's cheap to clone (#17).\r\n\r\n**Upgrade to WebSocket connection with `hyper`**\r\n\r\nThe above change was possible because of this. No more separate client for WebSocket! The connection is upgraded with `hyper` and a `WebSocketStream` is created from the upgraded connection. All requests go through `kube::Service`.\r\n\r\n**Other Improvements**\r\n\r\n- Rewrote `Client::request_events` with `tokio_util::codec::FramedRead` (#379)\r\n- Refactored TLS related code. It's now all isolated in `kube/src/service/tls.rs`. `kube/src/config/auth.rs` has `HttpsConnector` for oauth requests and `kube/src/config/mod.rs` has some hack for macOS, but that's about it.\r\n- Replaced `oauth2` (GCP OAuth) module with [tame-oauth](https://github.com/EmbarkStudios/tame-oauth) and made it optional (`oauth` feature).\r\n- Refactored auth related code and moved them to `config::auth`.\r\n- Fixed a bug where refreshable token from `AuthProvider` was not refreshing.\r\n- Fixed panicking when loading `AuthInfo` with provider other than GCP (#238).\r\n\r\n### Breaking Changes\r\n\r\n- `oauth` is now opt-in\r\n- `gzip` should probably be opt-in for now because Kubernetes doesn't have it enabled by default yet and requires more dependencies. It's behind `APIResponseCompression` feature gate which is in `Beta` since 1.16. See <https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/>.\r\n- TODO Change `kube::Client::new(config: Config)` to `kube::Client::new(service: Service)`\r\n- Dropped proxy option. It should be possible by using a custom Service after the above change. TODO add example.\r\n\r\n---\r\n\r\nCloses #100, #238, #362, #379", "reactions": {"url": "https://api.github.com/repos/kube-rs/kube/issues/394/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kube-rs/kube/issues/394/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/kube-rs/kube/pulls/394", "id": 568933983, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4OTMzOTgz", "html_url": "https://github.com/kube-rs/kube/pull/394", "diff_url": "https://github.com/kube-rs/kube/pull/394.diff", "patch_url": "https://github.com/kube-rs/kube/pull/394.patch", "issue_url": "https://api.github.com/repos/kube-rs/kube/issues/394", "number": 394, "state": "closed", "locked": false, "title": "Replace reqwest with hyper + tower", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "Replace `reqwest` with `hyper` (#362) and `tower` (#100). Supersedes #376.\r\n\r\n### Changes\r\n\r\n**`kube::Client` now uses `kube::Service` instead of `reqwest::Client`**\r\n\r\n```diff\r\n #[derive(Clone)]\r\n pub struct Client {\r\n-    cluster_url: reqwest::Url,\r\n-    default_ns: String,\r\n-    inner: reqwest::Client,\r\n-    config: Config,\r\n-    #[cfg(feature = \"ws\")]\r\n-    tls_connector: AsyncTlsConnector,\r\n+    inner: kube::Service,\r\n }\r\n```\r\n\r\n`kube::Service` struct is a `tower::Service<http::Request<hyper::Body>>`. For convenience, a service based on `hyper::Client` can be created from `kube::Config`, so `Client::try_default()` is still supported. We can add a feature for this to provide an option for a sans-io `Client` (#204).\r\n\r\nTo allow users to use their implementation when they need something not supported out of the box, I'm planning to change `Client::new(config: Config)` to `Client::new(service: Service)` (creating a `Client` from `Config` is still possible with `Client::new(config.try_into()?)`). This will also allow better testing.\r\n\r\n`kube::Service` uses [`tower::buffer::Buffer`](https://docs.rs/tower/0.4.4/tower/buffer/struct.Buffer.html), so it's cheap to clone (#17).\r\n\r\n**Upgrade to WebSocket connection with `hyper`**\r\n\r\nThe above change was possible because of this. No more separate client for WebSocket! The connection is upgraded with `hyper` and a `WebSocketStream` is created from the upgraded connection. All requests go through `kube::Service`.\r\n\r\n**Other Improvements**\r\n\r\n- Rewrote `Client::request_events` with `tokio_util::codec::FramedRead` (#379)\r\n- Refactored TLS related code. It's now all isolated in `kube/src/service/tls.rs`. `kube/src/config/auth.rs` has `HttpsConnector` for oauth requests and `kube/src/config/mod.rs` has some hack for macOS, but that's about it.\r\n- Replaced `oauth2` (GCP OAuth) module with [tame-oauth](https://github.com/EmbarkStudios/tame-oauth) and made it optional (`oauth` feature).\r\n- Refactored auth related code and moved them to `config::auth`.\r\n- Fixed a bug where refreshable token from `AuthProvider` was not refreshing.\r\n- Fixed panicking when loading `AuthInfo` with provider other than GCP (#238).\r\n\r\n### Breaking Changes\r\n\r\n- `oauth` is now opt-in\r\n- `gzip` should probably be opt-in for now because Kubernetes doesn't have it enabled by default yet and requires more dependencies. It's behind `APIResponseCompression` feature gate which is in `Beta` since 1.16. See <https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/>.\r\n- TODO Change `kube::Client::new(config: Config)` to `kube::Client::new(service: Service)`\r\n- Dropped proxy option. It should be possible by using a custom Service after the above change. TODO add example.\r\n\r\n---\r\n\r\nCloses #100, #238, #362, #379", "created_at": "2021-02-07T08:25:04Z", "updated_at": "2021-02-08T08:34:26Z", "closed_at": "2021-02-07T11:18:12Z", "merged_at": "2021-02-07T11:18:12Z", "merge_commit_sha": "5dc29b4498755dbee00b190df632072507968b6c", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/kube-rs/kube/pulls/394/commits", "review_comments_url": "https://api.github.com/repos/kube-rs/kube/pulls/394/comments", "review_comment_url": "https://api.github.com/repos/kube-rs/kube/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/kube-rs/kube/issues/394/comments", "statuses_url": "https://api.github.com/repos/kube-rs/kube/statuses/255c63def57c6fda5b71c7363dcc3dff13c6af4e", "head": {"label": "kazk:use-hyper-tower", "ref": "use-hyper-tower", "sha": "255c63def57c6fda5b71c7363dcc3dff13c6af4e", "user": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 322496323, "node_id": "MDEwOlJlcG9zaXRvcnkzMjI0OTYzMjM=", "name": "kube-rs", "full_name": "kazk/kube-rs", "private": false, "owner": {"login": "kazk", "id": 639336, "node_id": "MDQ6VXNlcjYzOTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/639336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazk", "html_url": "https://github.com/kazk", "followers_url": "https://api.github.com/users/kazk/followers", "following_url": "https://api.github.com/users/kazk/following{/other_user}", "gists_url": "https://api.github.com/users/kazk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazk/subscriptions", "organizations_url": "https://api.github.com/users/kazk/orgs", "repos_url": "https://api.github.com/users/kazk/repos", "events_url": "https://api.github.com/users/kazk/events{/privacy}", "received_events_url": "https://api.github.com/users/kazk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/kazk/kube-rs", "description": "kubernetes client and futures controller runtime", "fork": true, "url": "https://api.github.com/repos/kazk/kube-rs", "forks_url": "https://api.github.com/repos/kazk/kube-rs/forks", "keys_url": "https://api.github.com/repos/kazk/kube-rs/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/kazk/kube-rs/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/kazk/kube-rs/teams", "hooks_url": "https://api.github.com/repos/kazk/kube-rs/hooks", "issue_events_url": "https://api.github.com/repos/kazk/kube-rs/issues/events{/number}", "events_url": "https://api.github.com/repos/kazk/kube-rs/events", "assignees_url": "https://api.github.com/repos/kazk/kube-rs/assignees{/user}", "branches_url": "https://api.github.com/repos/kazk/kube-rs/branches{/branch}", "tags_url": "https://api.github.com/repos/kazk/kube-rs/tags", "blobs_url": "https://api.github.com/repos/kazk/kube-rs/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/kazk/kube-rs/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/kazk/kube-rs/git/refs{/sha}", "trees_url": "https://api.github.com/repos/kazk/kube-rs/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/kazk/kube-rs/statuses/{sha}", "languages_url": "https://api.github.com/repos/kazk/kube-rs/languages", "stargazers_url": "https://api.github.com/repos/kazk/kube-rs/stargazers", "contributors_url": "https://api.github.com/repos/kazk/kube-rs/contributors", "subscribers_url": "https://api.github.com/repos/kazk/kube-rs/subscribers", "subscription_url": "https://api.github.com/repos/kazk/kube-rs/subscription", "commits_url": "https://api.github.com/repos/kazk/kube-rs/commits{/sha}", "git_commits_url": "https://api.github.com/repos/kazk/kube-rs/git/commits{/sha}", "comments_url": "https://api.github.com/repos/kazk/kube-rs/comments{/number}", "issue_comment_url": "https://api.github.com/repos/kazk/kube-rs/issues/comments{/number}", "contents_url": "https://api.github.com/repos/kazk/kube-rs/contents/{+path}", "compare_url": "https://api.github.com/repos/kazk/kube-rs/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/kazk/kube-rs/merges", "archive_url": "https://api.github.com/repos/kazk/kube-rs/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/kazk/kube-rs/downloads", "issues_url": "https://api.github.com/repos/kazk/kube-rs/issues{/number}", "pulls_url": "https://api.github.com/repos/kazk/kube-rs/pulls{/number}", "milestones_url": "https://api.github.com/repos/kazk/kube-rs/milestones{/number}", "notifications_url": "https://api.github.com/repos/kazk/kube-rs/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/kazk/kube-rs/labels{/name}", "releases_url": "https://api.github.com/repos/kazk/kube-rs/releases{/id}", "deployments_url": "https://api.github.com/repos/kazk/kube-rs/deployments", "created_at": "2020-12-18T05:17:58Z", "updated_at": "2021-12-22T20:27:35Z", "pushed_at": "2023-03-06T02:12:50Z", "git_url": "git://github.com/kazk/kube-rs.git", "ssh_url": "git@github.com:kazk/kube-rs.git", "clone_url": "https://github.com/kazk/kube-rs.git", "svn_url": "https://github.com/kazk/kube-rs", "homepage": "https://docs.rs/kube/", "size": 3122, "stargazers_count": 0, "watchers_count": 0, "language": "Rust", "has_issues": false, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 8, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 8, "watchers": 0, "default_branch": "main"}}, "base": {"label": "kube-rs:master", "ref": "master", "sha": "d450509554ef3f601a0e2ba90524b9fae43c1a7b", "user": {"login": "kube-rs", "id": 87537212, "node_id": "MDEyOk9yZ2FuaXphdGlvbjg3NTM3MjEy", "avatar_url": "https://avatars.githubusercontent.com/u/87537212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kube-rs", "html_url": "https://github.com/kube-rs", "followers_url": "https://api.github.com/users/kube-rs/followers", "following_url": "https://api.github.com/users/kube-rs/following{/other_user}", "gists_url": "https://api.github.com/users/kube-rs/gists{/gist_id}", "starred_url": "https://api.github.com/users/kube-rs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kube-rs/subscriptions", "organizations_url": "https://api.github.com/users/kube-rs/orgs", "repos_url": "https://api.github.com/users/kube-rs/repos", "events_url": "https://api.github.com/users/kube-rs/events{/privacy}", "received_events_url": "https://api.github.com/users/kube-rs/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 157133149, "node_id": "MDEwOlJlcG9zaXRvcnkxNTcxMzMxNDk=", "name": "kube", "full_name": "kube-rs/kube", "private": false, "owner": {"login": "kube-rs", "id": 87537212, "node_id": "MDEyOk9yZ2FuaXphdGlvbjg3NTM3MjEy", "avatar_url": "https://avatars.githubusercontent.com/u/87537212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kube-rs", "html_url": "https://github.com/kube-rs", "followers_url": "https://api.github.com/users/kube-rs/followers", "following_url": "https://api.github.com/users/kube-rs/following{/other_user}", "gists_url": "https://api.github.com/users/kube-rs/gists{/gist_id}", "starred_url": "https://api.github.com/users/kube-rs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kube-rs/subscriptions", "organizations_url": "https://api.github.com/users/kube-rs/orgs", "repos_url": "https://api.github.com/users/kube-rs/repos", "events_url": "https://api.github.com/users/kube-rs/events{/privacy}", "received_events_url": "https://api.github.com/users/kube-rs/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/kube-rs/kube", "description": "Rust Kubernetes client and controller runtime", "fork": false, "url": "https://api.github.com/repos/kube-rs/kube", "forks_url": "https://api.github.com/repos/kube-rs/kube/forks", "keys_url": "https://api.github.com/repos/kube-rs/kube/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/kube-rs/kube/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/kube-rs/kube/teams", "hooks_url": "https://api.github.com/repos/kube-rs/kube/hooks", "issue_events_url": "https://api.github.com/repos/kube-rs/kube/issues/events{/number}", "events_url": "https://api.github.com/repos/kube-rs/kube/events", "assignees_url": "https://api.github.com/repos/kube-rs/kube/assignees{/user}", "branches_url": "https://api.github.com/repos/kube-rs/kube/branches{/branch}", "tags_url": "https://api.github.com/repos/kube-rs/kube/tags", "blobs_url": "https://api.github.com/repos/kube-rs/kube/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/kube-rs/kube/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/kube-rs/kube/git/refs{/sha}", "trees_url": "https://api.github.com/repos/kube-rs/kube/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/kube-rs/kube/statuses/{sha}", "languages_url": "https://api.github.com/repos/kube-rs/kube/languages", "stargazers_url": "https://api.github.com/repos/kube-rs/kube/stargazers", "contributors_url": "https://api.github.com/repos/kube-rs/kube/contributors", "subscribers_url": "https://api.github.com/repos/kube-rs/kube/subscribers", "subscription_url": "https://api.github.com/repos/kube-rs/kube/subscription", "commits_url": "https://api.github.com/repos/kube-rs/kube/commits{/sha}", "git_commits_url": "https://api.github.com/repos/kube-rs/kube/git/commits{/sha}", "comments_url": "https://api.github.com/repos/kube-rs/kube/comments{/number}", "issue_comment_url": "https://api.github.com/repos/kube-rs/kube/issues/comments{/number}", "contents_url": "https://api.github.com/repos/kube-rs/kube/contents/{+path}", "compare_url": "https://api.github.com/repos/kube-rs/kube/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/kube-rs/kube/merges", "archive_url": "https://api.github.com/repos/kube-rs/kube/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/kube-rs/kube/downloads", "issues_url": "https://api.github.com/repos/kube-rs/kube/issues{/number}", "pulls_url": "https://api.github.com/repos/kube-rs/kube/pulls{/number}", "milestones_url": "https://api.github.com/repos/kube-rs/kube/milestones{/number}", "notifications_url": "https://api.github.com/repos/kube-rs/kube/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/kube-rs/kube/labels{/name}", "releases_url": "https://api.github.com/repos/kube-rs/kube/releases{/id}", "deployments_url": "https://api.github.com/repos/kube-rs/kube/deployments", "created_at": "2018-11-11T23:53:47Z", "updated_at": "2026-01-21T02:17:59Z", "pushed_at": "2026-01-20T15:54:01Z", "git_url": "git://github.com/kube-rs/kube.git", "ssh_url": "git@github.com:kube-rs/kube.git", "clone_url": "https://github.com/kube-rs/kube.git", "svn_url": "https://github.com/kube-rs/kube", "homepage": "https://kube.rs", "size": 4855, "stargazers_count": 3581, "watchers_count": 3581, "language": "Rust", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": true, "forks_count": 379, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 126, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": true, "topics": ["client", "kubernetes", "runtime", "rust"], "visibility": "public", "forks": 379, "open_issues": 126, "watchers": 3581, "default_branch": "main"}}, "_links": {"self": {"href": "https://api.github.com/repos/kube-rs/kube/pulls/394"}, "html": {"href": "https://github.com/kube-rs/kube/pull/394"}, "issue": {"href": "https://api.github.com/repos/kube-rs/kube/issues/394"}, "comments": {"href": "https://api.github.com/repos/kube-rs/kube/issues/394/comments"}, "review_comments": {"href": "https://api.github.com/repos/kube-rs/kube/pulls/394/comments"}, "review_comment": {"href": "https://api.github.com/repos/kube-rs/kube/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/kube-rs/kube/pulls/394/commits"}, "statuses": {"href": "https://api.github.com/repos/kube-rs/kube/statuses/255c63def57c6fda5b71c7363dcc3dff13c6af4e"}}, "author_association": "MEMBER", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": false, "rebaseable": false, "mergeable_state": "dirty", "merged_by": {"login": "clux", "id": 134092, "node_id": "MDQ6VXNlcjEzNDA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/134092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clux", "html_url": "https://github.com/clux", "followers_url": "https://api.github.com/users/clux/followers", "following_url": "https://api.github.com/users/clux/following{/other_user}", "gists_url": "https://api.github.com/users/clux/gists{/gist_id}", "starred_url": "https://api.github.com/users/clux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clux/subscriptions", "organizations_url": "https://api.github.com/users/clux/orgs", "repos_url": "https://api.github.com/users/clux/repos", "events_url": "https://api.github.com/users/clux/events{/privacy}", "received_events_url": "https://api.github.com/users/clux/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 6, "review_comments": 9, "maintainer_can_modify": false, "commits": 31, "additions": 1235, "deletions": 1148, "changed_files": 24}}