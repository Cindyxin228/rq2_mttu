{"window": ["2019-09-01T19:32:32.364001+00:00", "2025-03-03T23:15:03.375371+00:00"], "repo_slug": "build-trust/ockam", "candidates": [{"url": "https://api.github.com/repos/build-trust/ockam/issues/8841", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8841/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8841/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8841/events", "html_url": "https://github.com/build-trust/ockam/pull/8841", "id": 2892151156, "node_id": "PR_kwDOCYdddc6NM3OS", "number": 8841, "title": "Ockam Release 03-03-2025", "user": {"login": "metaclips", "id": 31141573, "node_id": "MDQ6VXNlcjMxMTQxNTcz", "avatar_url": "https://avatars.githubusercontent.com/u/31141573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/metaclips", "html_url": "https://github.com/metaclips", "followers_url": "https://api.github.com/users/metaclips/followers", "following_url": "https://api.github.com/users/metaclips/following{/other_user}", "gists_url": "https://api.github.com/users/metaclips/gists{/gist_id}", "starred_url": "https://api.github.com/users/metaclips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/metaclips/subscriptions", "organizations_url": "https://api.github.com/users/metaclips/orgs", "repos_url": "https://api.github.com/users/metaclips/repos", "events_url": "https://api.github.com/users/metaclips/events{/privacy}", "received_events_url": "https://api.github.com/users/metaclips/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-03-03T19:42:16Z", "updated_at": "2025-03-03T20:18:36Z", "closed_at": "2025-03-03T20:18:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8841", "html_url": "https://github.com/build-trust/ockam/pull/8841", "diff_url": "https://github.com/build-trust/ockam/pull/8841.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8841.patch", "merged_at": "2025-03-03T20:18:35Z"}, "body": "Ockam release", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8841/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8830", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8830/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8830/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8830/events", "html_url": "https://github.com/build-trust/ockam/pull/8830", "id": 2886317601, "node_id": "PR_kwDOCYdddc6M5Q2u", "number": 8830, "title": "build(rust): manually upgrade dependencies", "user": {"login": "adrianbenavides", "id": 12375782, "node_id": "MDQ6VXNlcjEyMzc1Nzgy", "avatar_url": "https://avatars.githubusercontent.com/u/12375782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianbenavides", "html_url": "https://github.com/adrianbenavides", "followers_url": "https://api.github.com/users/adrianbenavides/followers", "following_url": "https://api.github.com/users/adrianbenavides/following{/other_user}", "gists_url": "https://api.github.com/users/adrianbenavides/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianbenavides/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianbenavides/subscriptions", "organizations_url": "https://api.github.com/users/adrianbenavides/orgs", "repos_url": "https://api.github.com/users/adrianbenavides/repos", "events_url": "https://api.github.com/users/adrianbenavides/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianbenavides/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-02-28T06:24:25Z", "updated_at": "2025-02-28T08:51:12Z", "closed_at": "2025-02-28T08:51:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8830", "html_url": "https://github.com/build-trust/ockam/pull/8830", "diff_url": "https://github.com/build-trust/ockam/pull/8830.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8830.patch", "merged_at": "2025-02-28T08:51:11Z"}, "body": "Include the changes of a bunch of individual dependabot PR's.", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8830/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8830/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8814", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8814/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8814/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8814/events", "html_url": "https://github.com/build-trust/ockam/pull/8814", "id": 2882853337, "node_id": "PR_kwDOCYdddc6MtfHO", "number": 8814, "title": "build: bump opentelemetry-semantic-conventions from 0.27.0 to 0.28.0", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2161200656, "node_id": "MDU6TGFiZWwyMTYxMjAwNjU2", "url": "https://api.github.com/repos/build-trust/ockam/labels/Implementation:%20Rust", "name": "Implementation: Rust", "color": "2be2ca", "default": false, "description": ""}, {"id": 3675505613, "node_id": "LA_kwDOCYdddc7bE8PN", "url": "https://api.github.com/repos/build-trust/ockam/labels/Type:%20Dependencies", "name": "Type: Dependencies", "color": "B6B6A5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-26T21:26:15Z", "updated_at": "2025-02-28T10:12:44Z", "closed_at": "2025-02-28T10:12:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8814", "html_url": "https://github.com/build-trust/ockam/pull/8814", "diff_url": "https://github.com/build-trust/ockam/pull/8814.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8814.patch", "merged_at": "2025-02-28T10:12:43Z"}, "body": "Bumps [opentelemetry-semantic-conventions](https://github.com/open-telemetry/opentelemetry-rust) from 0.27.0 to 0.28.0.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/open-telemetry/opentelemetry-rust/releases\">opentelemetry-semantic-conventions's releases</a>.</em></p>\n<blockquote>\n<h2>0.28.0 Release</h2>\n<p>See changelog for individual crates to know the exact set of changes. All crates in this repo follows same version (0.28.0 for this release).</p>\n<p>This release also upgrades</p>\n<ul>\n<li>Logs API to stable</li>\n<li>Logs-SDK, Logs OTLP exporter, Logs-Appender-Tracing to RC</li>\n<li>Metrics-API to stable</li>\n<li>Metrics-SDK, Metrics OTLP exporter to RC.</li>\n</ul>\n<p>This release introduces several breaking changes as we progress toward a stable version for logs and metrics. We recommend reviewing the <a href=\"https://github.com/open-telemetry/opentelemetry-rust/blob/main/docs/migration_0.28.md\">Migration Guide</a> along with the changelogs to ensure a smooth upgrade.</p>\n<h2>opentelemetry-0.27.1 patch release</h2>\n<p>This release has improved internal logging to help with troubleshooting.</p>\n<h2>opentelemetry_sdk-0.27.1 patch release</h2>\n<p>Refer to opentelemetry-sdk <a href=\"https://github.com/open-telemetry/opentelemetry-rust/blob/opentelemetry_sdk-0.27.1/opentelemetry-sdk/CHANGELOG.md#0271\">CHANGELOG</a> for the changes.</p>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-rust/commit/189078d7a92e534d67137ffaed8e35456eaa589b\"><code>189078d</code></a> Bump otel-appender-tracing version to 0.28 (<a href=\"https://redirect.github.com/open-telemetry/opentelemetry-rust/issues/2637\">#2637</a>)</li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-rust/commit/062c9d6589c11723eae5fdecc76e4f73931628b1\"><code>062c9d6</code></a> Prepare v0.28.0 (<a href=\"https://redirect.github.com/open-telemetry/opentelemetry-rust/issues/2635\">#2635</a>)</li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-rust/commit/b6783a10984146c62ceaa6997fef1385d2ee5ae8\"><code>b6783a1</code></a> Changelog refactoring (<a href=\"https://redirect.github.com/open-telemetry/opentelemetry-rust/issues/2632\">#2632</a>)</li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-rust/commit/c56a03ebbcd7e00c64f5bf3958ede03c10f39d8e\"><code>c56a03e</code></a> Separate logger and loggerprovider mod (<a href=\"https://redirect.github.com/open-telemetry/opentelemetry-rust/issues/2633\">#2633</a>)</li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-rust/commit/34742d02dc1c3c274aa59f4098ba64a6f583019e\"><code>34742d0</code></a> Set pwd for precommit.sh script to support running it in any directory (<a href=\"https://redirect.github.com/open-telemetry/opentelemetry-rust/issues/2535\">#2535</a>)</li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-rust/commit/eeb367d9338e929c5bc96e1a7f209c39044cade9\"><code>eeb367d</code></a> Nit fixes to doc and tests (<a href=\"https://redirect.github.com/open-telemetry/opentelemetry-rust/issues/2626\">#2626</a>)</li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-rust/commit/c2a2b8dd9b45b498c185b00e6f5c1e89bf53cb66\"><code>c2a2b8d</code></a> Fix stress test for Logs to use OTelSdkResult (<a href=\"https://redirect.github.com/open-telemetry/opentelemetry-rust/issues/2627\">#2627</a>)</li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-rust/commit/3a8ceddd5ed3bbdaf7077c85f5c203672f930b73\"><code>3a8cedd</code></a> Rearrange trace integration tests (<a href=\"https://redirect.github.com/open-telemetry/opentelemetry-rust/issues/2628\">#2628</a>)</li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-rust/commit/1fc86da1c61f93c23bad47dbde00491c692efa1a\"><code>1fc86da</code></a> 0.28 migration guide and OTLP Example fixes (<a href=\"https://redirect.github.com/open-telemetry/opentelemetry-rust/issues/2622\">#2622</a>)</li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-rust/commit/61e539f4918811eaf5d9df6c4a268175346c8134\"><code>61e539f</code></a> leverage tracer provider to set service name for Zipkin exporter (<a href=\"https://redirect.github.com/open-telemetry/opentelemetry-rust/issues/2624\">#2624</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/open-telemetry/opentelemetry-rust/compare/opentelemetry-semantic-conventions-0.27.0...opentelemetry-semantic-conventions-0.28.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=opentelemetry-semantic-conventions&package-manager=cargo&previous-version=0.27.0&new-version=0.28.0)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8814/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8811", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8811/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8811/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8811/events", "html_url": "https://github.com/build-trust/ockam/pull/8811", "id": 2881791614, "node_id": "PR_kwDOCYdddc6Mp1-Z", "number": 8811, "title": "tests(rust): segment orchestrator bats tests", "user": {"login": "adrianbenavides", "id": 12375782, "node_id": "MDQ6VXNlcjEyMzc1Nzgy", "avatar_url": "https://avatars.githubusercontent.com/u/12375782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianbenavides", "html_url": "https://github.com/adrianbenavides", "followers_url": "https://api.github.com/users/adrianbenavides/followers", "following_url": "https://api.github.com/users/adrianbenavides/following{/other_user}", "gists_url": "https://api.github.com/users/adrianbenavides/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianbenavides/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianbenavides/subscriptions", "organizations_url": "https://api.github.com/users/adrianbenavides/orgs", "repos_url": "https://api.github.com/users/adrianbenavides/repos", "events_url": "https://api.github.com/users/adrianbenavides/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianbenavides/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-02-26T14:21:34Z", "updated_at": "2025-02-26T15:40:11Z", "closed_at": "2025-02-26T15:40:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8811", "html_url": "https://github.com/build-trust/ockam/pull/8811", "diff_url": "https://github.com/build-trust/ockam/pull/8811.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8811.patch", "merged_at": "2025-02-26T15:40:09Z"}, "body": "- Move tests out of the `orchestrator` suite to the other orchestrator related suites to reduce the time spent when deploying `ockam-orchestrator`. This suite should contain the minimum tests to verify that the orchestrator works as expected, not the client (command). It should run now in under 2 minutes in a local machine.\r\n\r\n- The `orchestrator_enroll` suite contains the tests that need to enroll or add new members to a project. This operation is one of the most time-consuming and can't be parallelized.\r\n\r\n- The `orchestrator_enrolled` suite contains tests that need an enrolled identity, but doesn't enroll or add new members to the project. This suite can be parallelized.\r\n\r\nNote: the cargo toml/lock change is to make the `cargo update` job happy and prevent a transitive dependency from upgrading to a version that is only supported in rust >= 1.85\r\n ", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8811/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8801", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8801/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8801/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8801/events", "html_url": "https://github.com/build-trust/ockam/pull/8801", "id": 2854403356, "node_id": "PR_kwDOCYdddc6LSIlY", "number": 8801, "title": "feat: send telemetry data via a secure channel", "user": {"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2025-02-14T17:57:45Z", "updated_at": "2025-02-18T11:59:45Z", "closed_at": "2025-02-18T11:59:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8801", "html_url": "https://github.com/build-trust/ockam/pull/8801", "diff_url": "https://github.com/build-trust/ockam/pull/8801.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8801.patch", "merged_at": "2025-02-18T11:59:44Z"}, "body": "This PR allows telemetry data (logs and spans) to be exported via a secure channel to an Ockam node and forwarded to an OpenTelemetry collector.\r\n\r\n## Configuration\r\n\r\nThere are new environment variables to decide how to secure channel should be established:\r\n\r\n - `OCKAM_TELEMETRY_EXPORT_VIA_PROJECT` creates a secure channel to the project node (this is the default).\r\n - `OCKAM_TELEMETRY_EXPORT_VIA_AUTHORITY` creates a secure channel to the authority node if for some reason we prefer this route (this could be useful for testing differences for testing Elixir vs Rust implementations or if we want to have only one node collecting telemetry data in a scenario with one authority node and several project nodes.\r\n - `OCKAM_TELEMETRY_EXPORT_NODE_ROUTE` + `OCKAM_TELEMETRY_EXPORT_NODE_IDENTIFIER` creates a secure channel to an arbitrary node (this is useful when testing locally by just starting 2 nodes). \r\n\r\n## gRPC data interception\r\n\r\nWhen a project is ready, the log and span exporters are set with a gRPC client which packs the gRPC requests into Ockam messages.\r\n\r\nThose messages are sent to a `GrpcForwarder` worker which deserializes the requests and forwards them to an Opentelemetry collector endpoint. This PR provides 2 implementations of a `GrpcForwarder`, one in Elixir for the project node, and one in Rust for the authority node (or an arbitrary Rust node).\r\n\r\n## Documentation\r\n\r\nI started a `telemetry.md` document to describe the different options which can be used to export telemetry data.\r\n\r\n## `TcpTransport`\r\n\r\nThe creation of a `TcpTransport` with the `TcpTransport::create(ctx: &Context)` method now checks if the transport has not already been created. If it has been created, it returns the same `TcpTransport` instead of returning a new one which would have a new internal registry and potentially lose some data.\r\n\r\nThis avoids the passing of both the `Context` and a `TcpTransport` when creating the `SecureClient` that will be used to send telemetry data.\r\n\r\n## Dependencies upgrades\r\n\r\nThis PR also upgrades the `opentelemetry` Rust crates since there were recent breaking changes and [more are coming up](https://github.com/open-telemetry/opentelemetry-rust/blob/69e7e89b47e78d76e5f9b3af3f0bfcfbf4254ba5/opentelemetry-sdk/CHANGELOG.md).\r\n\r\n## Testing\r\n\r\nI added a way to support the testing of a Rust node sending telemetry data to an Elixir node, in order to speed-up the feedback loop when developing that feature:\r\n\r\n - The `start_node.exs` file starts an Ockam Elixir node with a fixed identity:\r\n```\r\nMIX_ENV=test iex -S mix run --no-halt -r test/start_node.exs\r\n```\r\n - The identity identifier is stored in the `identity.id` file in the same directory as the `start_node.exs` script and can be used to setup the `OCKAM_TELEMETRY_EXPORT_NODE_IDENTIFIER` variable when creating a secure channel between a Rust node and the Elixir node.\r\n - The `test` config starts a `grpc_forwarder` service using the `OCKAM_OPENTELEMETRY_ENDPOINT` environment variable pointing to an OpenTelemetry collector. You can find how to start such a collector on your machine [here](https://github.com/open-telemetry/opentelemetry-rust/blob/main/opentelemetry-otlp/examples/basic-otlp/README.md).\r\n", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8801/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8800", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8800/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8800/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8800/events", "html_url": "https://github.com/build-trust/ockam/pull/8800", "id": 2854189740, "node_id": "PR_kwDOCYdddc6LRZGc", "number": 8800, "title": "Control Node OpenAPI documentation", "user": {"login": "davide-baldo", "id": 408088, "node_id": "MDQ6VXNlcjQwODA4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/408088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davide-baldo", "html_url": "https://github.com/davide-baldo", "followers_url": "https://api.github.com/users/davide-baldo/followers", "following_url": "https://api.github.com/users/davide-baldo/following{/other_user}", "gists_url": "https://api.github.com/users/davide-baldo/gists{/gist_id}", "starred_url": "https://api.github.com/users/davide-baldo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davide-baldo/subscriptions", "organizations_url": "https://api.github.com/users/davide-baldo/orgs", "repos_url": "https://api.github.com/users/davide-baldo/repos", "events_url": "https://api.github.com/users/davide-baldo/events{/privacy}", "received_events_url": "https://api.github.com/users/davide-baldo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-02-14T16:26:33Z", "updated_at": "2025-02-20T17:11:52Z", "closed_at": "2025-02-20T17:11:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8800", "html_url": "https://github.com/build-trust/ockam/pull/8800", "diff_url": "https://github.com/build-trust/ockam/pull/8800.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8800.patch", "merged_at": "2025-02-20T17:11:51Z"}, "body": "This PR properly documents Control Node OpenAPI schema, and also makes some adjustments to better reflect usual restful conventions.\r\n\r\nTo generate and view the OpenAPI documentation, you can run:\r\n\r\n```\r\ncargo run --bin=node_control_api_schema > schema.yaml && npx @redocly/cli build-docs schema.yaml && open redoc-static.html\r\n```\r\n\r\nThe current schema is:\r\n<details>\r\n\r\n```yaml\r\nopenapi: \r\ninfo:\r\n  title: Ockam Node Control API\r\n  description: |2\r\n\r\n    ## Overview\r\n    This API is designed to control Ockam nodes via HTTP requests without having to use Ockam Command or Ockam library.\r\n    You can expect a similar abstraction level as Ockam Command, but with a more programmatic approach.\r\n\r\n    The endpoint will receive the HTTP request and forward it to the selected node using the `node`\r\n    parameter. How the node will be selected starting from the name is configuration dependent.\r\n\r\n    ## Versioning\r\n    Current major `0.Y.Z` is considered unstable and may have breaking changes.\r\n    Future versions will follow semantic versioning, breaking changes will be reflected in the major version number.\r\n\r\n    ## Authentication\r\n    Only a simple bearer token is required to authenticate. The token is passed in the `Authorization`\r\n    header: `Authorization: Bearer my-secret-token`.\r\n\r\n    ## Development\r\n    The easiest way to get development started is to use this API with the Ockam Command and run a single node acting both as a frontend and backend.\r\n    ```sh\r\n    ockam node create --foreground -vv --launch-configuration '{\r\n      \"start_default_services\": true,\r\n      \"startup_services\": {\r\n        \"control_api\": {\r\n          \"authentication_token\": \"my-secret-token\",\r\n          \"backend\": true,\r\n          \"frontend\": true,\r\n          \"http_bind_address\": \"127.0.0.1:8080\"\r\n        }\r\n      }\r\n    }'\r\n    ```\r\n\r\n    When an undocumented error is returned, such as internal server error, a message contained by `ErrorResponse` is usually present for debugging purposes.\r\n    It's highly recommended to check the logs of the Ockam nodes for more information.\r\n  contact:\r\n    name: Ockam Developers\r\n  license:\r\n    name: Apache-2.0\r\n    identifier: Apache-2.0\r\n  version: 0.1.0\r\npaths:\r\n  /{node}/authority-members:\r\n    get:\r\n      tags:\r\n      - Authority Members\r\n      summary: List Authority Members\r\n      description: List all members of the Authority.\r\n      operationId: list_authority_members\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      requestBody:\r\n        description: Optional list request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/ListAuthorityMembersRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: Successfully retrieved\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: '#/components/schemas/AuthorityMember'\r\n        '404':\r\n          description: Specified project not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n  /{node}/authority-members/{member}:\r\n    get:\r\n      tags:\r\n      - Authority Members\r\n      summary: Get Authority Member\r\n      description: Get the specified member of the Authority by identity.\r\n      operationId: get_authority_member\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      - name: member\r\n        in: path\r\n        description: Member identity\r\n        required: true\r\n        schema:\r\n          type: string\r\n        example: Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n      requestBody:\r\n        description: Optional get member request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/GetAuthorityMemberRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: Successfully retrieved\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/AuthorityMember'\r\n        '404':\r\n          description: Specified project not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n    put:\r\n      tags:\r\n      - Authority Members\r\n      summary: Add or update an Authority Member\r\n      description: |-\r\n        Add or update an Authority Member with the specified attributes.\r\n        Attributes will overwrite the existing ones if the member already exists.\r\n      operationId: add_or_update_authority_member\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      - name: member\r\n        in: path\r\n        description: Member identity\r\n        required: true\r\n        schema:\r\n          type: string\r\n        example: Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n      requestBody:\r\n        description: Creation request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/AddOrUpdateAuthorityMemberRequest'\r\n        required: true\r\n      responses:\r\n        '201':\r\n          description: Successfully created\r\n        '404':\r\n          description: Specified project not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n    delete:\r\n      tags:\r\n      - Authority Members\r\n      summary: Remove an Authority Member\r\n      description: Remove the specified member of the Authority by identity.\r\n      operationId: remove_authority_member\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      - name: member\r\n        in: path\r\n        description: Member identity\r\n        required: true\r\n        schema:\r\n          type: string\r\n        example: Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n      requestBody:\r\n        description: Optional remove member request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/RemoveAuthorityMemberRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: Successfully removed\r\n        '404':\r\n          description: Specified project not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n  /{node}/relays:\r\n    get:\r\n      tags:\r\n      - Relays\r\n      summary: List all Relays\r\n      description: List all Relays created in the node regardless of their status.\r\n      operationId: list_relay\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      responses:\r\n        '200':\r\n          description: Successfully listed\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: '#/components/schemas/RelayStatus'\r\n    post:\r\n      tags:\r\n      - Relays\r\n      summary: Create a new Relay\r\n      description: |-\r\n        Create a new Relay, the main parameters are the destination node `to` and the `name`.\r\n        The address inherits the name value, but it's possible to specify it to allow the creation\r\n        of multiple relays with the same address to different nodes.\r\n        The creation will be asynchronous and the initial status will be `down`.\r\n        Note that a specific `ockam-relay` attribute is required to allow the relay creation in the\r\n        destination node.\r\n      operationId: create_relay\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      requestBody:\r\n        description: Creation request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/CreateRelayRequest'\r\n        required: true\r\n      responses:\r\n        '201':\r\n          description: Successfully created\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/RelayStatus'\r\n  /{node}/relays/{relay_name}:\r\n    get:\r\n      tags:\r\n      - Relays\r\n      summary: Get a Relay\r\n      description: Get the specified Relay by name.\r\n      operationId: get_relay\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      - name: relay_name\r\n        in: path\r\n        description: Relay name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '200':\r\n          description: Successfully retrieved\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/RelayStatus'\r\n        '404':\r\n          description: Relay not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n    delete:\r\n      tags:\r\n      - Relays\r\n      summary: Delete a Relay\r\n      description: Delete the specified Relay by name.\r\n      operationId: delete_relay\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      - name: relay_name\r\n        in: path\r\n        description: Relay name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '204':\r\n          description: Successfully deleted\r\n  /{node}/tcp-inlets:\r\n    get:\r\n      tags:\r\n      - Portals\r\n      summary: List all TCP Inlets\r\n      description: List all TCP Inlets created in the node regardless of their status.\r\n      operationId: list_tcp_inlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      responses:\r\n        '200':\r\n          description: Successfully listed\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: '#/components/schemas/InletStatus'\r\n    post:\r\n      tags:\r\n      - Portals\r\n      summary: Create a new TCP Inlet\r\n      description: |-\r\n        Create a TCP Inlet, the main parameters are the destination `to`, and the bind address `from`.\r\n        You can also choose to the listen with a valid TLS certificate, restrict access to the Inlet with\r\n        `authorized` and `allow`, and select a specialized Portals with `kind`.\r\n        The creation will be asynchronous and the initial status will be `down`.\r\n      operationId: create_tcp_inlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      requestBody:\r\n        description: Creation request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/CreateInletRequest'\r\n        required: true\r\n      responses:\r\n        '201':\r\n          description: Successfully created\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/InletStatus'\r\n  /{node}/tcp-inlets/{tcp_inlet_name}:\r\n    get:\r\n      tags:\r\n      - Portals\r\n      summary: Get a TCP Inlet\r\n      description: Get the specified TCP Inlet by name\r\n      operationId: get_tcp_inlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      - name: tcp_inlet_name\r\n        in: path\r\n        description: TCP Inlet name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '200':\r\n          description: Successfully retrieved\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/InletStatus'\r\n        '404':\r\n          description: TCP Inlet not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n    delete:\r\n      tags:\r\n      - Portals\r\n      summary: Delete a TCP Inlet\r\n      description: Delete the specified TCP Inlet by name.\r\n      operationId: delete_tcp_inlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      - name: tcp_inlet_name\r\n        in: path\r\n        description: TCP Inlet name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '204':\r\n          description: Successfully deleted\r\n    patch:\r\n      tags:\r\n      - Portals\r\n      summary: Update a TCP Inlet\r\n      description: |-\r\n        Update the specified TCP Inlet by name.\r\n        Currently only `allow` policy expression can be updated, for more advanced updates it's necessary\r\n        to delete the TCP Inlet and create a new one.\r\n      operationId: update_tcp_inlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      - name: tcp_inlet_name\r\n        in: path\r\n        description: TCP Inlet name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      requestBody:\r\n        description: Update request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/UpdateInletRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: Successfully updated\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/InletStatus'\r\n        '404':\r\n          description: TCP Inlet not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n  /{node}/tcp-outlets:\r\n    get:\r\n      tags:\r\n      - Portals\r\n      summary: List all TCP Outlets\r\n      description: List all TCP Outlets created in the node.\r\n      operationId: list_tcp_outlets\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '200':\r\n          description: Successfully listed\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: '#/components/schemas/OutletStatus'\r\n    post:\r\n      tags:\r\n      - Portals\r\n      summary: Create a TCP Outlet\r\n      description: |-\r\n        Create a new TCP Outlet, the main parameter are the destination `to`, and the worker address\r\n        `address` which is used to identify the outlet within the node.\r\n        The `kind` parameter can be used to create a special outlet, and the `tls` parameter can be used to\r\n        connect to TLS endpoints.\r\n        The creation will be synchronous, without any blocking operation.\r\n      operationId: create_tcp_outlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      requestBody:\r\n        description: Creation request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/CreateOutletRequest'\r\n        required: true\r\n      responses:\r\n        '201':\r\n          description: Successfully created\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/OutletStatus'\r\n        '409':\r\n          description: Already exists\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n  /{node}/tcp-outlets/{tcp_outlet_address}:\r\n    get:\r\n      tags:\r\n      - Portals\r\n      summary: Get a TCP Outlet\r\n      description: Get the specified TCP Outlet by address.\r\n      operationId: get_tcp_outlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      - name: tcp_outlet_address\r\n        in: path\r\n        description: TCP Outlet address\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '200':\r\n          description: Successfully retrieved\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/OutletStatus'\r\n        '404':\r\n          description: TCP Outlet not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n    delete:\r\n      tags:\r\n      - Portals\r\n      summary: Delete a TCP Outlet\r\n      description: Delete the specified TCP Outlet by address.\r\n      operationId: delete_tcp_outlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      - name: tcp_outlet_address\r\n        in: path\r\n        description: TCP Outlet address\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '204':\r\n          description: Successfully deleted\r\n        '404':\r\n          description: TCP Outlet not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n    patch:\r\n      tags:\r\n      - Portals\r\n      summary: Update a TCP Outlet\r\n      description: |-\r\n        Update the specified TCP Outlet by address.\r\n        Currently only `allow` policy expression can be updated, for more advanced updates it's necessary\r\n        to delete the TCP Outlet and create a new one.\r\n      operationId: update_tcp_outlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      - name: tcp_outlet_address\r\n        in: path\r\n        description: TCP Outlet address\r\n        required: true\r\n        schema:\r\n          type: string\r\n      requestBody:\r\n        description: Update request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/UpdateOutletRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: Successfully updated\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/OutletStatus'\r\n        '404':\r\n          description: TCP Outlet not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n  /{node}/tickets:\r\n    post:\r\n      tags:\r\n      - Tickets\r\n      summary: Create a new Ticket\r\n      description: |-\r\n        Create a new Ticket, the main parameters are `attributes`, the list of attributes associated\r\n        with the ticket, and `project`, the target project for the ticket. In the vast majority of cases,\r\n        specifying the project name will be enough, but it's also possible to specify a custom Ockam\r\n        Authority and a custom node acting as a Project.\r\n        You can also limit the validity of the ticket by specifying the `usage_count` and `expires_in`\r\n        fields.\r\n        The ticket is returned as an opaque string that can be used to enroll to a project, either via API\r\n        or via CLI with the `ockam project enroll` command.\r\n      operationId: create_ticket\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      requestBody:\r\n        description: Create Ticket request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/CreateTicketRequest'\r\n        required: true\r\n      responses:\r\n        '201':\r\n          description: Successfully created\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/Ticket'\r\n        '404':\r\n          description: Specified project not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n  /{node}/tickets/enroll:\r\n    post:\r\n      tags:\r\n      - Tickets\r\n      summary: Enroll to a Project using a Ticket\r\n      description: |-\r\n        This API enroll a node to a Project using the provided Ticket.\r\n        Note that this API imports the Project in the node database, but the node won't be able to use\r\n        it until it restarts.\r\n        The easiest way to use a ticket is to specify the ticket directly during the node creation.\r\n      operationId: project_enroll\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/NodeName'\r\n      requestBody:\r\n        description: Project enrollment request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/EnrollProjectRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: The node was already enrolled, no change in state\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/AuthorityInformation'\r\n        '201':\r\n          description: Successfully enrolled, new credential can be used right away\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/AuthorityInformation'\r\n        '202':\r\n          description: Enrolled, but the node needs a restart\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/AuthorityInformation'\r\ncomponents:\r\n  schemas:\r\n    AddOrUpdateAuthorityMemberRequest:\r\n      type: object\r\n      required:\r\n      - attributes\r\n      properties:\r\n        attributes:\r\n          $ref: '#/components/schemas/Attributes'\r\n        authority:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/Authority'\r\n            description: Authority to use when creating the ticket;\r\n          default:\r\n            project:\r\n              name: null\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to use when contacting the Authority node;\r\n            When omitted, the default identity will be used\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n    Attributes:\r\n      type: object\r\n      description: |2\r\n\r\n        Credential attributes.\r\n        Attributes are key-value pairs that can be used to describe a credential.\r\n        Ockam uses `ockam-` as a prefix for its own attributes.\r\n        [You can learn more about attributes in the Ockam documentation](https://docs.ockam.io/reference/protocols/access-controls)\r\n      additionalProperties:\r\n        type: string\r\n      propertyNames:\r\n        type: string\r\n      example:\r\n        my-attribute: my-value\r\n        ockam-relay: relay-name\r\n        ockam-role: member\r\n    Authority:\r\n      oneOf:\r\n      - type: object\r\n        required:\r\n        - project\r\n        properties:\r\n          project:\r\n            type: object\r\n            properties:\r\n              name:\r\n                type:\r\n                - string\r\n                - 'null'\r\n                description: |-\r\n                  Name of the project\r\n                  When omitted, the default project will be used\r\n      - type: object\r\n        required:\r\n        - provided\r\n        properties:\r\n          provided:\r\n            type: object\r\n            required:\r\n            - route\r\n            - identity\r\n            properties:\r\n              identity:\r\n                type: string\r\n                description: Identifier of the authority node\r\n                example: Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n              route:\r\n                type: string\r\n                description: |-\r\n                  Multiaddress to the node that will be used as an authority;\r\n                  When omitted, the default node will be used\r\n                example: /dnsaddr/my-authority.example.com/tcp/4001/secure/api\r\n    AuthorityInformation:\r\n      type: object\r\n      required:\r\n      - route\r\n      - identity\r\n      - address\r\n      properties:\r\n        address:\r\n          $ref: '#/components/schemas/HostnamePort'\r\n          description: Hostname and port of the authority node\r\n        identity:\r\n          type: string\r\n          description: Identity of the authority node\r\n        route:\r\n          type: string\r\n          description: Route to the authority node\r\n    AuthorityMember:\r\n      type: object\r\n      required:\r\n      - identity\r\n      - attributes\r\n      properties:\r\n        attributes:\r\n          $ref: '#/components/schemas/Attributes'\r\n        identity:\r\n          type: string\r\n          description: Member identity\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n    ConnectionStatus:\r\n      type: string\r\n      enum:\r\n      - up\r\n      - down\r\n    CreateInletRequest:\r\n      type: object\r\n      required:\r\n      - to\r\n      properties:\r\n        allow:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Policy expression that will be used for access control to the TCP Inlet;\r\n            When omitted, the policy set for the \"tcp-inlet\" resource type will be used.\r\n            [Learn more about Policies expression on the Ockam documentation](https://docs.ockam.io/reference/protocols/access-controls).\r\n        authorized:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Restrict access to the TCP Inlet to the provided identity;\r\n            When omitted, all identities are allowed;\r\n          example: Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n        from:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/HostnamePort'\r\n            description: Bind address for the TCP Inlet\r\n          default:\r\n            hostname: 127.0.0.1\r\n            port: 0\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to be used to create the secure channel;\r\n            When omitted, the node's identity will be used\r\n        kind:\r\n          $ref: '#/components/schemas/InletKind'\r\n          description: Kind of the Portal\r\n        name:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Name of the TCP Inlet;\r\n            Whe omitted, a random name will be generated\r\n        retry-wait:\r\n          type: integer\r\n          format: int64\r\n          description: |-\r\n            When connection is lost, how long to wait before retrying to connect to the TCP Outlet;\r\n            In milliseconds;\r\n          default: 20000\r\n          minimum: 0\r\n        tls:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/InletTls'\r\n            description: TLS Inlet implementation\r\n          default: none\r\n        to:\r\n          type: string\r\n          description: Multiaddress to a TCP Outlet\r\n          example: /project/default/service/forward_to_node1/secure/api/service/outlet\r\n    CreateOutletRequest:\r\n      type: object\r\n      required:\r\n      - kind\r\n      - to\r\n      properties:\r\n        address:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: The address of the outlet, also acts as an identifier for the resource\r\n        allow:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Policy expression that will be used for access control to the TCP Outlet;\r\n            by default, the policy set for the \"tcp-outlet\" resource type will be used.\r\n            [Learn more about Policies expression on the Ockam documentation](https://docs.ockam.io/reference/protocols/access-controls).\r\n        kind:\r\n          $ref: '#/components/schemas/OutletKind'\r\n          description: The kind of the outlet\r\n        tls:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/OutletTls'\r\n            description: The TLS configuration for the outlet\r\n          default: None\r\n        to:\r\n          $ref: '#/components/schemas/HostnamePort'\r\n          description: The destination address of the TCP connection\r\n    CreateRelayRequest:\r\n      type: object\r\n      required:\r\n      - to\r\n      properties:\r\n        address:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            The address of the relay;\r\n            The resulting address in the relay will be `forward_to_{address}`;\r\n            When omitted, the name will be used;\r\n        authorized:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Only allows relay node with the provided identity;\r\n            When omitted, all identities are allowed;\r\n          example: Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n        name:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Name of Relay;\r\n            Whe omitted, a random name will be generated\r\n        to:\r\n          type: string\r\n          description: Multiaddress to the node that will be used as a relay;\r\n          example: /project/default\r\n    CreateTicketRequest:\r\n      type: object\r\n      required:\r\n      - attributes\r\n      properties:\r\n        attributes:\r\n          $ref: '#/components/schemas/Attributes'\r\n        expires-in:\r\n          type: integer\r\n          format: int64\r\n          description: |-\r\n            Duration for which the enrollment ticket is valid;\r\n            The value is expressed in seconds.\r\n          default: 600\r\n          minimum: 0\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to use when contacting the Authority node;\r\n            When omitted, the default identity will be used\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n        project:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/Project'\r\n            description: Project information to use when creating the ticket;\r\n          default:\r\n            existing:\r\n              name: null\r\n        usage-count:\r\n          type: integer\r\n          format: int64\r\n          description: Number of times the ticket can be used to enroll;\r\n          default: 1\r\n          minimum: 0\r\n    EnrollProjectRequest:\r\n      type: object\r\n      required:\r\n      - ticket\r\n      properties:\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to enroll;\r\n            When omitted, the default identity will be used\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n        ticket:\r\n          type: string\r\n          description: |-\r\n            Ticket to use for enrollment;\r\n            The encoded ticket\r\n    ErrorResponse:\r\n      type: object\r\n      required:\r\n      - message\r\n      properties:\r\n        message:\r\n          type: string\r\n    GetAuthorityMemberRequest:\r\n      type: object\r\n      properties:\r\n        authority:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/Authority'\r\n            description: Authority to use when creating the ticket;\r\n          default:\r\n            project:\r\n              name: null\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to use when contacting the Authority node;\r\n            When omitted, the default identity will be used\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n    HostnamePort:\r\n      type: object\r\n      required:\r\n      - hostname\r\n      - port\r\n      properties:\r\n        hostname:\r\n          type: string\r\n        port:\r\n          type: integer\r\n          format: int32\r\n          minimum: 0\r\n    InletKind:\r\n      type: string\r\n      enum:\r\n      - regular\r\n      - udp-pucture\r\n      - only-udp-pucture\r\n      - privileged\r\n      - privileged-udp-puncture\r\n      - privileged-only-udp-puncture\r\n    InletStatus:\r\n      type: object\r\n      required:\r\n      - name\r\n      - status\r\n      - bind-address\r\n      - to\r\n      - privileged\r\n      properties:\r\n        bind-address:\r\n          $ref: '#/components/schemas/HostnamePort'\r\n          description: Bind address of the TCP Inlet\r\n        current-route:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: The current route of the TCP Inlet, populated only when the status is `up`\r\n        name:\r\n          type: string\r\n          description: Name of the TCP Inlet\r\n        privileged:\r\n          type: boolean\r\n          description: Whether the TCP Inlet is of privileged kind\r\n        status:\r\n          $ref: '#/components/schemas/ConnectionStatus'\r\n          description: Status of the TCP Inlet\r\n        to:\r\n          type: string\r\n          description: Multiaddress to the TCP Outlet\r\n    InletTls:\r\n      oneOf:\r\n      - type: string\r\n        enum:\r\n        - none\r\n      - type: string\r\n        enum:\r\n        - project-tls\r\n      - type: object\r\n        required:\r\n        - custom-tls-provider\r\n        properties:\r\n          custom-tls-provider:\r\n            type: object\r\n            required:\r\n            - tls-certificate-provider\r\n            properties:\r\n              tls-certificate-provider:\r\n                type: string\r\n                description: |-\r\n                  Multiaddress to a certificate provider;\r\n                  Typical: /project/default/service/tls_certificate_provider\r\n    ListAuthorityMembersRequest:\r\n      type: object\r\n      properties:\r\n        authority:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/Authority'\r\n            description: Authority to use when creating the ticket;\r\n          default:\r\n            project:\r\n              name: null\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to use when contacting the Authority node;\r\n            When omitted, the default identity will be used\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n    NodeName:\r\n      type: string\r\n      description: |-\r\n        The destination node name.\r\n        Depending on the type of node resolution used, it can be a relay name\r\n        or a dns address.\r\n        The special value `self` can be used to refer to the current node.\r\n    OutletKind:\r\n      type: string\r\n      enum:\r\n      - regular\r\n      - privileged\r\n    OutletStatus:\r\n      type: object\r\n      required:\r\n      - to\r\n      - address\r\n      - privileged\r\n      properties:\r\n        address:\r\n          type: string\r\n          description: The address of the worker, this also acts as an identifier of the TCP Outlet within the node\r\n        privileged:\r\n          type: boolean\r\n          description: Whether the outlet is of privileged kind\r\n        to:\r\n          $ref: '#/components/schemas/HostnamePort'\r\n          description: The address of the outlet\r\n    OutletTls:\r\n      type: string\r\n      enum:\r\n      - none\r\n      - validate\r\n    Project:\r\n      oneOf:\r\n      - type: object\r\n        required:\r\n        - existing\r\n        properties:\r\n          existing:\r\n            type: object\r\n            properties:\r\n              name:\r\n                type:\r\n                - string\r\n                - 'null'\r\n                description: |-\r\n                  Name of the project\r\n                  When omitted, the default project will be used\r\n      - type: object\r\n        required:\r\n        - provided\r\n        properties:\r\n          provided:\r\n            type: object\r\n            required:\r\n            - authority_route\r\n            - authority_change_history\r\n            - project_route\r\n            - project_change_history\r\n            properties:\r\n              authority_change_history:\r\n                type: string\r\n                description: Full public identity of the authority node\r\n                example: 81825837830101583285f...\r\n              authority_route:\r\n                type: string\r\n                description: Multiaddress to the node that will be used as an authority;\r\n                example: /dnsaddr/my-authority.example.com/tcp/4001/secure/api\r\n              project_change_history:\r\n                type: string\r\n                description: Full public identity of the project node\r\n                example: 81825837830101583285f...\r\n              project_name:\r\n                type: string\r\n                description: |-\r\n                  Name of the project;\r\n                  When omitted, the default project will be used\r\n                default: default\r\n                example: my-project\r\n              project_route:\r\n                type: string\r\n                description: Multiaddress to the node that will be used as a project;\r\n                example: /dnsaddr/my-project.example.com/tcp/4000/service/api\r\n    RelayStatus:\r\n      type: object\r\n      required:\r\n      - name\r\n      - to\r\n      - status\r\n      properties:\r\n        name:\r\n          type: string\r\n          description: Name of the relay\r\n        remote-address:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            The address of the relay within the relay;\r\n            Usually it follows the form `forward_to_{address}`\r\n        status:\r\n          $ref: '#/components/schemas/ConnectionStatus'\r\n          description: The status of the relay\r\n        to:\r\n          type: string\r\n          description: Multiaddress to the node that is used as a relay\r\n    RemoveAuthorityMemberRequest:\r\n      type: object\r\n      properties:\r\n        authority:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/Authority'\r\n            description: Authority to use when creating the ticket;\r\n          default:\r\n            project:\r\n              name: null\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to use when contacting the Authority node;\r\n            When omitted, the default identity will be used\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n    Ticket:\r\n      type: object\r\n      required:\r\n      - encoded\r\n      properties:\r\n        encoded:\r\n          type: string\r\n          description: |-\r\n            Encoded ticket;\r\n            The ticket is encoded in a format that is understood by the Ockam Command and it may\r\n            vary over time.\r\n    UpdateInletRequest:\r\n      type: object\r\n      properties:\r\n        allow:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Policy expression that will be used for access control to the TCP Inlet;\r\n            When omitted, the policy set for the \"tcp-inlet\" resource type will be used.\r\n            [Learn more about Policies expression on the Ockam documentation](https://docs.ockam.io/reference/protocols/access-controls).\r\n    UpdateOutletRequest:\r\n      type: object\r\n      properties:\r\n        allow:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Policy expression that will be used for access control to the TCP Outlet;\r\n            by default, the policy set for the \"tcp-outlet\" resource type will be used.\r\n            [Learn more about Policies expression on the Ockam documentation](https://docs.ockam.io/reference/protocols/access-controls).\r\n  securitySchemes:\r\n    token:\r\n      type: http\r\n      scheme: bearer\r\n      bearerFormat: Plaintext\r\n      description: A simple token authentication, this token can be set as startup parameter\r\nsecurity:\r\n- token: []\r\ntags:\r\n- name: Portals\r\n  description: |2\r\n\r\n    A TCP Inlet and TCP Outlet together form a Portal, working hand in hand with Relays. A TCP Inlet\r\n    defines where a node, running on another machine, listens for connections. The Inlet's route\r\n    provides information on how to forward traffic to the Outlet (its address). Relays allow you to\r\n    establish end-to-end protocols with services that operate in remote private networks.\r\n  externalDocs:\r\n    url: https://docs.ockam.io/reference/command/advanced-routing#portal\r\n    description: Learn more about Portals on Ockam Command documentation\r\n- name: Relays\r\n  description: |2\r\n\r\n    Relays make it possible to establish end-to-end protocols with services operating in a remote\r\n    private networks, without requiring a remote service to expose listening ports to an outside hostile\r\n    network like the Internet.\r\n  externalDocs:\r\n    url: https://docs.ockam.io/reference/command/advanced-routing#relays\r\n    description: Learn more about Relays on Ockam Command documentation\r\n- name: Tickets\r\n  description: |2\r\n\r\n    The ticket is plain text representing a one-time use token and the non-sensitive data about the\r\n    Project, like the route to reach it and the Project Identity Identifier, which will be used to\r\n    validate the Project Identity. The ticket itself can be stored in an environment variable, or a\r\n    file.\r\n- name: Authority Members\r\n  description: |2\r\n\r\n    An Ockam Authority is a Ockam node running a set of services dedicated to managing credentials\r\n    and identities.\r\n    The Ockam Authority keeps a list of members, which are entitled to receive credentials with proper\r\n    attributes.\r\nexternalDocs:\r\n  url: https://docs.ockam.io/\r\n  description: Ockam documentation\r\n```\r\n</details>", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8800/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8796", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8796/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8796/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8796/events", "html_url": "https://github.com/build-trust/ockam/pull/8796", "id": 2847327954, "node_id": "PR_kwDOCYdddc6K6D6T", "number": 8796, "title": "feat(rust): add custom log format for foreground nodes", "user": {"login": "adrianbenavides", "id": 12375782, "node_id": "MDQ6VXNlcjEyMzc1Nzgy", "avatar_url": "https://avatars.githubusercontent.com/u/12375782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianbenavides", "html_url": "https://github.com/adrianbenavides", "followers_url": "https://api.github.com/users/adrianbenavides/followers", "following_url": "https://api.github.com/users/adrianbenavides/following{/other_user}", "gists_url": "https://api.github.com/users/adrianbenavides/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianbenavides/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianbenavides/subscriptions", "organizations_url": "https://api.github.com/users/adrianbenavides/orgs", "repos_url": "https://api.github.com/users/adrianbenavides/repos", "events_url": "https://api.github.com/users/adrianbenavides/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianbenavides/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-02-12T06:44:00Z", "updated_at": "2025-03-01T08:13:06Z", "closed_at": "2025-03-01T08:13:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8796", "html_url": "https://github.com/build-trust/ockam/pull/8796", "diff_url": "https://github.com/build-trust/ockam/pull/8796.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8796.patch", "merged_at": "2025-03-01T08:13:05Z"}, "body": "- Fix session loop updates the `initial_connect_was_called` var after reconnecting\r\n- Add custom log format used in `node create --foreground` that will print log messages with the target `ockam_command:user` in the terminal as regular output\r\n- Add info logs in the portal worker connect/disconnect events\r\n\r\n\r\nhttps://github.com/user-attachments/assets/70a59e0a-636a-4566-95d1-ccaa2cfc10d9\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8796/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8786", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8786/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8786/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8786/events", "html_url": "https://github.com/build-trust/ockam/pull/8786", "id": 2827621242, "node_id": "PR_kwDOCYdddc6J2v2b", "number": 8786, "title": "build: bump kafka-protocol from 0.13 to 0.14", "user": {"login": "adrianbenavides", "id": 12375782, "node_id": "MDQ6VXNlcjEyMzc1Nzgy", "avatar_url": "https://avatars.githubusercontent.com/u/12375782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianbenavides", "html_url": "https://github.com/adrianbenavides", "followers_url": "https://api.github.com/users/adrianbenavides/followers", "following_url": "https://api.github.com/users/adrianbenavides/following{/other_user}", "gists_url": "https://api.github.com/users/adrianbenavides/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianbenavides/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianbenavides/subscriptions", "organizations_url": "https://api.github.com/users/adrianbenavides/orgs", "repos_url": "https://api.github.com/users/adrianbenavides/repos", "events_url": "https://api.github.com/users/adrianbenavides/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianbenavides/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-02-03T14:07:41Z", "updated_at": "2025-02-03T15:00:18Z", "closed_at": "2025-02-03T15:00:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8786", "html_url": "https://github.com/build-trust/ockam/pull/8786", "diff_url": "https://github.com/build-trust/ockam/pull/8786.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8786.patch", "merged_at": "2025-02-03T15:00:17Z"}, "body": "Fixes `bytes = 1.9.0`, as `1.10.0` collides with `kafka-protocol`.", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8786/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8780", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8780/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8780/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8780/events", "html_url": "https://github.com/build-trust/ockam/pull/8780", "id": 2815103498, "node_id": "PR_kwDOCYdddc6JMhy3", "number": 8780, "title": "build: bump winnow from 0.6.22 to 0.6.25", "user": {"login": "adrianbenavides", "id": 12375782, "node_id": "MDQ6VXNlcjEyMzc1Nzgy", "avatar_url": "https://avatars.githubusercontent.com/u/12375782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianbenavides", "html_url": "https://github.com/adrianbenavides", "followers_url": "https://api.github.com/users/adrianbenavides/followers", "following_url": "https://api.github.com/users/adrianbenavides/following{/other_user}", "gists_url": "https://api.github.com/users/adrianbenavides/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianbenavides/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianbenavides/subscriptions", "organizations_url": "https://api.github.com/users/adrianbenavides/orgs", "repos_url": "https://api.github.com/users/adrianbenavides/repos", "events_url": "https://api.github.com/users/adrianbenavides/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianbenavides/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-01-28T09:38:35Z", "updated_at": "2025-01-28T10:10:27Z", "closed_at": "2025-01-28T10:10:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8780", "html_url": "https://github.com/build-trust/ockam/pull/8780", "diff_url": "https://github.com/build-trust/ockam/pull/8780.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8780.patch", "merged_at": "2025-01-28T10:10:26Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8780/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8780/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8776", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8776/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8776/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8776/events", "html_url": "https://github.com/build-trust/ockam/pull/8776", "id": 2809167689, "node_id": "PR_kwDOCYdddc6I4kCf", "number": 8776, "title": "feat(rust): implemented control api http server", "user": {"login": "davide-baldo", "id": 408088, "node_id": "MDQ6VXNlcjQwODA4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/408088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davide-baldo", "html_url": "https://github.com/davide-baldo", "followers_url": "https://api.github.com/users/davide-baldo/followers", "following_url": "https://api.github.com/users/davide-baldo/following{/other_user}", "gists_url": "https://api.github.com/users/davide-baldo/gists{/gist_id}", "starred_url": "https://api.github.com/users/davide-baldo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davide-baldo/subscriptions", "organizations_url": "https://api.github.com/users/davide-baldo/orgs", "repos_url": "https://api.github.com/users/davide-baldo/repos", "events_url": "https://api.github.com/users/davide-baldo/events{/privacy}", "received_events_url": "https://api.github.com/users/davide-baldo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-01-24T11:06:19Z", "updated_at": "2025-02-14T16:40:25Z", "closed_at": "2025-02-14T16:40:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8776", "html_url": "https://github.com/build-trust/ockam/pull/8776", "diff_url": "https://github.com/build-trust/ockam/pull/8776.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8776.patch", "merged_at": "2025-02-14T16:40:24Z"}, "body": "This PR implements CRUD for portals over a brand-new HTTP service. The temporary name I've given to this API is \"Control API\".\r\n\r\nThis service is split into two pieces:\r\n  - frontend: reverse proxy that routes the request to the selected node and performs authentication\r\n  - backend: the concrete API implementation, similarly to the CLI APIs\r\n\r\n\r\nThe API is fully defined within the `protocol` module, this is to avoid any accidental breakage when changing other data structures and also to have the full flexibility to adjust data structure as needed. The API schema will also be exported using OpenAPI in a future PR, and the schema will be used to verify back-compatibility.\r\n\r\nThe frontend uses a hyper server and converts HTTP requests into a single ockam message (up to 256kb for now) and sends it to the backend. The backend replies with a single message containing the result, which is converted back into HTTP. Two mechanisms are available to resolve a node name into a node: either the node name is converted into a DNS address and a connection is performed, or the node is converted into a worker address (assuming a relay was created by the node).\r\n\r\nThe authentication is performed on the frontend level and, for now, only implements a basic \"Bearer\" with a constant time comparison. Frontend and backend mutually authenticate via credential policy, which by default are `control_api_frontend` and `control_api_backend`.\r\n\r\nTo start the services it is necessary to use the `--launch-configuration`, with this PR everything is disabled by default.\r\n\r\n\r\n```\r\nockam project ticket \\\r\n  --attribute control_api_frontend=true \\\r\n  --attribute control_api_backend=true \\\r\n  --relay node1\r\n```\r\n\r\n```\r\nOCKAM_CONTROL_API_AUTHENTICATION_TOKEN=token ockam node create frontend \\\r\n  --foreground \\\r\n  --launch-configuration \\\r\n    '{\"start_default_services\": true, \"startup_services\":{\"control_api\":{\"frontend\":true}}}'\r\n```\r\n\r\n```\r\nockam node create backend \\\r\n  --foreground \\\r\n  --launch-configuration \\\r\n    '{\"start_default_services\": true, \"startup_services\":{\"control_api\":{\"backend\":true}}}' \r\n```\r\n\r\n```\r\nockam relay create --at /node/frontend/secure/api --to backend node1\r\n```\r\n\r\n```\r\ncurl -v --header 'Authorization: Bearer token' 'http://localhost:4080/node1/tcp-inlet' --output -\r\n```\r\n\r\nOpenAPI schema is generated via `utoipa` library. I'm planning to add the schema to the repository and fail the CI whenever differs from the generated one, but in a different PR. To generate the OpenAPI schema:\r\n```\r\ncargo run --bin=node_control_api_schema > schema.yaml\r\n```\r\n\r\nCurrent schema:\r\n\r\n <details>\r\n  <summary>Click to expand</summary>\r\n\r\n```yaml\r\nopenapi: 3.1.0\r\ninfo:\r\n  title: Ockam Control API\r\n  description: API to control Ockam nodes\r\n  contact:\r\n    name: Ockam Developers\r\n  license:\r\n    name: Apache-2.0\r\n    identifier: Apache-2.0\r\n  version: 0.1.0\r\npaths:\r\n  /{node}/authority-member:\r\n    get:\r\n      tags:\r\n      - authority-member\r\n      summary: List Authority Members\r\n      operationId: list_authority_members\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      requestBody:\r\n        description: Creation request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/ListAuthorityMembersRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: Successfully retrieved\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: '#/components/schemas/AuthorityMember'\r\n  /{node}/authority-member/{member}:\r\n    get:\r\n      tags:\r\n      - authority-member\r\n      summary: Get Authority Member\r\n      operationId: get_authority_member\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - name: member\r\n        in: path\r\n        description: Member identity\r\n        required: true\r\n        schema:\r\n          type: string\r\n        example: Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n      requestBody:\r\n        description: Get member request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/GetAuthorityMemberRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: Successfully retrieved\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/AuthorityMember'\r\n    put:\r\n      tags:\r\n      - authority-member\r\n      summary: Add or update an Authority Member\r\n      operationId: add_or_update_authority_member\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - name: member\r\n        in: path\r\n        description: Member identity\r\n        required: true\r\n        schema:\r\n          type: string\r\n        example: Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n      requestBody:\r\n        description: Creation request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/AddOrUpdateAuthorityMemberRequest'\r\n        required: true\r\n      responses:\r\n        '201':\r\n          description: Successfully created\r\n    delete:\r\n      tags:\r\n      - authority-member\r\n      summary: Remove an Authority Member\r\n      operationId: remove_authority_member\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - name: member\r\n        in: path\r\n        description: Member identity\r\n        required: true\r\n        schema:\r\n          type: string\r\n        example: Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n      requestBody:\r\n        description: Remove member request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/RemoveAuthorityMemberRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: Successfully removed\r\n  /{node}/relay:\r\n    get:\r\n      tags:\r\n      - relay\r\n      summary: List all Relays\r\n      operationId: list_relay\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '200':\r\n          description: Successfully listed\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: '#/components/schemas/RelayStatus'\r\n    put:\r\n      tags:\r\n      - relay\r\n      summary: Create a new Relay\r\n      operationId: create_relay\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      requestBody:\r\n        description: Creation request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/CreateRelayRequest'\r\n        required: true\r\n      responses:\r\n        '201':\r\n          description: Successfully created\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/RelayStatus'\r\n  /{node}/relay/{resource_id}:\r\n    get:\r\n      tags:\r\n      - relay\r\n      summary: Get a Relay\r\n      operationId: get_relay\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - name: resource_id\r\n        in: path\r\n        description: Resource ID\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '200':\r\n          description: Successfully retrieved\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/RelayStatus'\r\n        '404':\r\n          description: Resource not found\r\n    delete:\r\n      tags:\r\n      - relay\r\n      summary: Delete a Relay\r\n      operationId: delete_relay\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - name: resource_id\r\n        in: path\r\n        description: Resource ID\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '204':\r\n          description: Successfully deleted\r\n  /{node}/tcp-inlet:\r\n    get:\r\n      tags:\r\n      - portal\r\n      - tcp-inlet\r\n      summary: List all TCP Inlets\r\n      operationId: list_tcp_inlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '200':\r\n          description: Successfully listed\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: '#/components/schemas/InletStatus'\r\n    put:\r\n      tags:\r\n      - portal\r\n      - tcp-inlet\r\n      summary: Create a new TCP Inlet\r\n      operationId: create_tcp_inlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      requestBody:\r\n        description: Creation request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/CreateInletRequest'\r\n        required: true\r\n      responses:\r\n        '201':\r\n          description: Successfully created\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/InletStatus'\r\n  /{node}/tcp-inlet/{resource_id}:\r\n    get:\r\n      tags:\r\n      - portal\r\n      - tcp-inlet\r\n      summary: Get a TCP Inlet\r\n      operationId: get_tcp_inlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - name: resource_id\r\n        in: path\r\n        description: Resource ID\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '200':\r\n          description: Successfully retrieved\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/InletStatus'\r\n        '404':\r\n          description: Resource not found\r\n    delete:\r\n      tags:\r\n      - portal\r\n      - tcp-inlet\r\n      summary: Delete a TCP Inlet\r\n      operationId: delete_tcp_inlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - name: resource_id\r\n        in: path\r\n        description: Resource ID\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '204':\r\n          description: Successfully deleted\r\n    patch:\r\n      tags:\r\n      - portal\r\n      - tcp-inlet\r\n      summary: Update a TCP Inlet\r\n      operationId: update_tcp_inlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - name: resource_id\r\n        in: path\r\n        description: Resource ID\r\n        required: true\r\n        schema:\r\n          type: string\r\n      requestBody:\r\n        description: Update request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/UpdateInletRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: Successfully updated\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/InletStatus'\r\n        '404':\r\n          description: Not found\r\n  /{node}/tcp-outlet:\r\n    get:\r\n      tags:\r\n      - portal\r\n      - tcp-outlet\r\n      summary: List all TCP Outlets\r\n      operationId: list_tcp_outlets\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '200':\r\n          description: Successfully listed\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: '#/components/schemas/OutletStatus'\r\n    put:\r\n      tags:\r\n      - portal\r\n      - tcp-outlet\r\n      summary: Create a TCP Outlet\r\n      operationId: create_tcp_outlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      requestBody:\r\n        description: Creation request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/CreateOutletRequest'\r\n        required: true\r\n      responses:\r\n        '201':\r\n          description: Successfully created\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/OutletStatus'\r\n        '409':\r\n          description: Already exists\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/ErrorResponse'\r\n  /{node}/tcp-outlet/{resource_id}:\r\n    get:\r\n      tags:\r\n      - portal\r\n      - tcp-outlet\r\n      summary: Get a TCP Outlet\r\n      operationId: get_tcp_outlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - name: resource_id\r\n        in: path\r\n        description: Outlet address\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '200':\r\n          description: Successfully retrieved\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/OutletStatus'\r\n        '404':\r\n          description: Not found\r\n    delete:\r\n      tags:\r\n      - portal\r\n      - tcp-outlet\r\n      summary: Delete a TCP Outlet\r\n      operationId: delete_tcp_outlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - name: resource_id\r\n        in: path\r\n        description: Outlet address\r\n        required: true\r\n        schema:\r\n          type: string\r\n      responses:\r\n        '204':\r\n          description: Successfully deleted\r\n        '404':\r\n          description: Not found\r\n    patch:\r\n      tags:\r\n      - portal\r\n      - tcp-outlet\r\n      summary: Update a TCP Outlet\r\n      operationId: update_tcp_outlet\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - name: resource_id\r\n        in: path\r\n        description: Resource ID\r\n        required: true\r\n        schema:\r\n          type: string\r\n      requestBody:\r\n        description: Update request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/UpdateOutletRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: Successfully updated\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/OutletStatus'\r\n        '404':\r\n          description: Not found\r\n  /{node}/ticket:\r\n    put:\r\n      tags:\r\n      - ticket\r\n      summary: Create a new Ticket\r\n      operationId: create_ticket\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      requestBody:\r\n        description: Creation request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/CreateTicketRequest'\r\n        required: true\r\n      responses:\r\n        '201':\r\n          description: Successfully created\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/Ticket'\r\n    post:\r\n      tags:\r\n      - ticket\r\n      summary: Enroll a Ticket\r\n      operationId: enroll_ticket\r\n      parameters:\r\n      - name: node\r\n        in: path\r\n        description: Destination node name\r\n        required: true\r\n        schema:\r\n          type: string\r\n      requestBody:\r\n        description: Enrollment request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/EnrollTicketRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: The node was already enrolled, no change in state\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/AuthorityInformation'\r\n        '201':\r\n          description: Successfully enrolled, new credential can be used right away\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/AuthorityInformation'\r\n        '202':\r\n          description: Enrolled, but the node needs a restart\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/AuthorityInformation'\r\ncomponents:\r\n  schemas:\r\n    AddOrUpdateAuthorityMemberRequest:\r\n      type: object\r\n      required:\r\n      - attributes\r\n      properties:\r\n        attributes:\r\n          type: object\r\n          description: Attributes in `key=value` format to be attached to the member;\r\n          additionalProperties:\r\n            type: string\r\n            examples:\r\n            - ockam-role=member\r\n            - ockam-role=enroller\r\n            - ockam-relay=foo\r\n            - my-attribute=my-value\r\n          propertyNames:\r\n            type: string\r\n            examples:\r\n            - ockam-role=member\r\n            - ockam-role=enroller\r\n            - ockam-relay=foo\r\n            - my-attribute=my-value\r\n        authority:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/Authority'\r\n            description: Authority to use when creating the ticket;\r\n          default:\r\n            project:\r\n              name: null\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to use when contacting the Authority node;\r\n            When omitted, the default identity will be used\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n    Authority:\r\n      oneOf:\r\n      - type: object\r\n        required:\r\n        - project\r\n        properties:\r\n          project:\r\n            type: object\r\n            properties:\r\n              name:\r\n                type:\r\n                - string\r\n                - 'null'\r\n                description: |-\r\n                  Name of the project\r\n                  When omitted, the default project will be used\r\n      - type: object\r\n        required:\r\n        - provided\r\n        properties:\r\n          provided:\r\n            type: object\r\n            required:\r\n            - route\r\n            - identity\r\n            properties:\r\n              identity:\r\n                type: string\r\n                description: Identifier of the authority node\r\n                example: Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n              route:\r\n                type: string\r\n                description: |-\r\n                  Multiaddress to the node that will be used as an authority;\r\n                  When omitted, the default node will be used\r\n                example: /dnsaddr/my-authority.example.com/tcp/4001/secure/api\r\n    AuthorityInformation:\r\n      type: object\r\n      required:\r\n      - route\r\n      - identity\r\n      - address\r\n      properties:\r\n        address:\r\n          $ref: '#/components/schemas/HostnamePort'\r\n          description: Hostname and port of the authority node\r\n        identity:\r\n          type: string\r\n          description: Identity of the authority node\r\n        route:\r\n          type: string\r\n          description: Route to the authority node\r\n    AuthorityMember:\r\n      type: object\r\n      required:\r\n      - identity\r\n      - attributes\r\n      properties:\r\n        attributes:\r\n          type: object\r\n          description: Attributes attached to the member\r\n          additionalProperties:\r\n            type: string\r\n            examples:\r\n            - ockam-role=member, ockam-relay=foo\r\n          propertyNames:\r\n            type: string\r\n            examples:\r\n            - ockam-role=member, ockam-relay=foo\r\n        identity:\r\n          type: string\r\n          description: Member identity\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n    ConnectionStatus:\r\n      type: string\r\n      enum:\r\n      - up\r\n      - down\r\n    CreateInletRequest:\r\n      type: object\r\n      required:\r\n      - to\r\n      properties:\r\n        allow:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Policy expression that will be used for access control to the TCP Inlet;\r\n            When omitted, the policy set for the \"tcp-inlet\" resource type will be used\r\n        authorized:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Restrict access to the TCP Inlet to the provided identity;\r\n            When omitted, all identities are allowed;\r\n          example: Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n        from:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/HostnamePort'\r\n            description: Bind address for the TCP Inlet\r\n          default:\r\n            hostname: 127.0.0.1\r\n            port: 0\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to be used to create the secure channel;\r\n            When omitted, the node's identity will be used\r\n        kind:\r\n          $ref: '#/components/schemas/InletKind'\r\n          description: Kind of the Portal\r\n        name:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Name of the TCP Inlet;\r\n            Whe omitted, a random name will be generated\r\n        retry-wait:\r\n          type: integer\r\n          format: int64\r\n          description: |-\r\n            When connection is lost, how long to wait before retrying to connect to the TCP Outlet;\r\n            In milliseconds;\r\n          default: 20000\r\n          minimum: 0\r\n        tls:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/InletTls'\r\n            description: TLS Inlet implementation\r\n          default: none\r\n        to:\r\n          type: string\r\n          description: Multiaddress to a TCP Outlet\r\n          example: /project/default/service/forward_to_node1/secure/api/service/outlet\r\n    CreateOutletRequest:\r\n      type: object\r\n      required:\r\n      - kind\r\n      - to\r\n      properties:\r\n        address:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: The address of the outlet, also acts as an identifier for the resource\r\n        allow:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Policy expression that will be used for access control to the TCP Outlet;\r\n            by default the policy set for the \"tcp-outlet\" resource type will be used\r\n        kind:\r\n          $ref: '#/components/schemas/OutletKind'\r\n          description: The kind of the outlet\r\n        tls:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/OutletTls'\r\n            description: The TLS configuration for the outlet\r\n          default: None\r\n        to:\r\n          $ref: '#/components/schemas/HostnamePort'\r\n          description: The destination address of the TCP connection\r\n    CreateRelayRequest:\r\n      type: object\r\n      required:\r\n      - to\r\n      properties:\r\n        address:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            The address of the relay;\r\n            The resulting address in the relay will be `forward_to_{address}`;\r\n            When omitted, the name will be used;\r\n        authorized:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Only allows relay node with the provided identity;\r\n            When omitted, all identities are allowed;\r\n          example: Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n        name:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Name of Relay;\r\n            Whe omitted, a random name will be generated\r\n        to:\r\n          type: string\r\n          description: Multiaddress to the node that will be used as a relay;\r\n          example: /project/default\r\n    CreateTicketRequest:\r\n      type: object\r\n      required:\r\n      - attributes\r\n      properties:\r\n        attributes:\r\n          type: object\r\n          description: Attributes in `key=value` format to be attached to the member;\r\n          additionalProperties:\r\n            type: string\r\n            examples:\r\n            - ockam-role=member\r\n            - ockam-role=enroller\r\n            - ockam-relay=foo\r\n            - my-attribute=my-value\r\n          propertyNames:\r\n            type: string\r\n            examples:\r\n            - ockam-role=member\r\n            - ockam-role=enroller\r\n            - ockam-relay=foo\r\n            - my-attribute=my-value\r\n        expires-in:\r\n          type: integer\r\n          format: int64\r\n          description: |-\r\n            Duration for which the enrollment ticket is valid;\r\n            The value is expressed in seconds.\r\n          default: 600\r\n          minimum: 0\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to use when contacting the Authority node;\r\n            When omitted, the default identity will be used\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n        project:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/Project'\r\n            description: Project information to use when creating the ticket;\r\n          default:\r\n            existing:\r\n              name: null\r\n        usage-count:\r\n          type: integer\r\n          format: int64\r\n          description: Number of times the ticket can be used to enroll;\r\n          default: 1\r\n          minimum: 0\r\n    EnrollTicketRequest:\r\n      type: object\r\n      required:\r\n      - ticket\r\n      properties:\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to enroll;\r\n            When omitted, the default identity will be used\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n        ticket:\r\n          type: string\r\n          description: |-\r\n            Ticket to use for enrollment;\r\n            The encoded ticket\r\n    ErrorResponse:\r\n      type: object\r\n      required:\r\n      - message\r\n      properties:\r\n        message:\r\n          type: string\r\n    GetAuthorityMemberRequest:\r\n      type: object\r\n      properties:\r\n        authority:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/Authority'\r\n            description: Authority to use when creating the ticket;\r\n          default:\r\n            project:\r\n              name: null\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to use when contacting the Authority node;\r\n            When omitted, the default identity will be used\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n    HostnamePort:\r\n      type: object\r\n      required:\r\n      - hostname\r\n      - port\r\n      properties:\r\n        hostname:\r\n          type: string\r\n        port:\r\n          type: integer\r\n          format: int32\r\n          minimum: 0\r\n    InletKind:\r\n      type: string\r\n      enum:\r\n      - regular\r\n      - udp-pucture\r\n      - only-udp-pucture\r\n      - privileged\r\n      - privileged-udp-puncture\r\n      - privileged-only-udp-puncture\r\n    InletStatus:\r\n      type: object\r\n      required:\r\n      - name\r\n      - status\r\n      - bind-address\r\n      - to\r\n      - privileged\r\n      properties:\r\n        bind-address:\r\n          $ref: '#/components/schemas/HostnamePort'\r\n        current-route:\r\n          type:\r\n          - string\r\n          - 'null'\r\n        name:\r\n          type: string\r\n        privileged:\r\n          type: boolean\r\n        status:\r\n          $ref: '#/components/schemas/ConnectionStatus'\r\n        to:\r\n          type: string\r\n    InletTls:\r\n      oneOf:\r\n      - type: string\r\n        enum:\r\n        - none\r\n      - type: string\r\n        enum:\r\n        - project-tls\r\n      - type: object\r\n        required:\r\n        - custom-tls-provider\r\n        properties:\r\n          custom-tls-provider:\r\n            type: object\r\n            required:\r\n            - tls-certificate-provider\r\n            properties:\r\n              tls-certificate-provider:\r\n                type: string\r\n                description: |-\r\n                  Multiaddress to a certificate provider;\r\n                  Typical: /project/default/service/tls_certificate_provider\r\n    ListAuthorityMembersRequest:\r\n      type: object\r\n      properties:\r\n        authority:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/Authority'\r\n            description: Authority to use when creating the ticket;\r\n          default:\r\n            project:\r\n              name: null\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to use when contacting the Authority node;\r\n            When omitted, the default identity will be used\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n    OutletKind:\r\n      type: string\r\n      enum:\r\n      - regular\r\n      - privileged\r\n    OutletStatus:\r\n      type: object\r\n      required:\r\n      - to\r\n      - address\r\n      - privileged\r\n      properties:\r\n        address:\r\n          type: string\r\n        privileged:\r\n          type: boolean\r\n        to:\r\n          $ref: '#/components/schemas/HostnamePort'\r\n    OutletTls:\r\n      type: string\r\n      enum:\r\n      - none\r\n      - validate\r\n    Project:\r\n      oneOf:\r\n      - type: object\r\n        required:\r\n        - existing\r\n        properties:\r\n          existing:\r\n            type: object\r\n            properties:\r\n              name:\r\n                type:\r\n                - string\r\n                - 'null'\r\n                description: |-\r\n                  Name of the project\r\n                  When omitted, the default project will be used\r\n      - type: object\r\n        required:\r\n        - provided\r\n        properties:\r\n          provided:\r\n            type: object\r\n            required:\r\n            - authority_route\r\n            - authority_change_history\r\n            - project_route\r\n            - project_change_history\r\n            properties:\r\n              authority_change_history:\r\n                type: string\r\n                description: Full public identity of the authority node\r\n                example: 81825837830101583285f...\r\n              authority_route:\r\n                type: string\r\n                description: Multiaddress to the node that will be used as an authority;\r\n                example: /dnsaddr/my-authority.example.com/tcp/4001/secure/api\r\n              project_change_history:\r\n                type: string\r\n                description: Full public identity of the project node\r\n                example: 81825837830101583285f...\r\n              project_name:\r\n                type: string\r\n                description: |-\r\n                  Name of the project;\r\n                  When omitted, the default project will be used\r\n                default: default\r\n                example: my-project\r\n              project_route:\r\n                type: string\r\n                description: Multiaddress to the node that will be used as a project;\r\n                example: /dnsaddr/my-project.example.com/tcp/4000/service/api\r\n    RelayStatus:\r\n      type: object\r\n      required:\r\n      - name\r\n      - to\r\n      - status\r\n      properties:\r\n        name:\r\n          type: string\r\n          description: Name of the relay\r\n        remote-address:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            The address of the relay within the relay;\r\n            Usually it follows the form `forward_to_{address}`\r\n        status:\r\n          $ref: '#/components/schemas/ConnectionStatus'\r\n          description: The status of the relay\r\n        to:\r\n          type: string\r\n          description: Multiaddress to the node that is used as a relay\r\n    RemoveAuthorityMemberRequest:\r\n      type: object\r\n      properties:\r\n        authority:\r\n          oneOf:\r\n          - $ref: '#/components/schemas/Authority'\r\n            description: Authority to use when creating the ticket;\r\n          default:\r\n            project:\r\n              name: null\r\n        identity:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: |-\r\n            Identity to use when contacting the Authority node;\r\n            When omitted, the default identity will be used\r\n          examples:\r\n          - Id3b788c6a89de8b1f2fd13743eb3123178cf6ec7c9253be8ddcf7e154abe016a\r\n    Ticket:\r\n      type: object\r\n      required:\r\n      - encoded\r\n      properties:\r\n        encoded:\r\n          type: string\r\n          description: |-\r\n            Encoded ticket;\r\n            The ticket is encoded in a format that is understood by the Ockam Command and it may\r\n            vary over time.\r\n    UpdateInletRequest:\r\n      type: object\r\n      properties:\r\n        allow:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: Policy expression that will be used for access control to the TCP Inlet;\r\n    UpdateOutletRequest:\r\n      type: object\r\n      properties:\r\n        allow:\r\n          type:\r\n          - string\r\n          - 'null'\r\n          description: Policy expression that will be used for access control to the TCP Outlet;\r\n  securitySchemes:\r\n    bearer:\r\n      type: http\r\n      scheme: bearer\r\n      bearerFormat: Plaintext\r\nsecurity:\r\n- bearer: []\r\nexternalDocs:\r\n  url: https://docs.ockam.io/\r\n  description: Ockam documentation\r\n```\r\n\r\n </details>", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8776/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8776/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8773", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8773/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8773/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8773/events", "html_url": "https://github.com/build-trust/ockam/pull/8773", "id": 2806602674, "node_id": "PR_kwDOCYdddc6Ivwae", "number": 8773, "title": "feat(rust): add more environment variables to build the postgres connection url", "user": {"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2025-01-23T11:05:13Z", "updated_at": "2025-01-23T14:10:17Z", "closed_at": "2025-01-23T14:10:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8773", "html_url": "https://github.com/build-trust/ockam/pull/8773", "diff_url": "https://github.com/build-trust/ockam/pull/8773.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8773.patch", "merged_at": "2025-01-23T14:10:16Z"}, "body": "This PR introduces additional environment variables to build the Postgres connection url. This is useful when:\r\n\r\n - The database password is regularly rotated.\r\n - The password needs to be URL-encoded.", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8773/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8769", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8769/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8769/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8769/events", "html_url": "https://github.com/build-trust/ockam/pull/8769", "id": 2804533758, "node_id": "PR_kwDOCYdddc6IouOH", "number": 8769, "title": "feat(rust): custom branding config allows you to specify which commands are included", "user": {"login": "adrianbenavides", "id": 12375782, "node_id": "MDQ6VXNlcjEyMzc1Nzgy", "avatar_url": "https://avatars.githubusercontent.com/u/12375782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianbenavides", "html_url": "https://github.com/adrianbenavides", "followers_url": "https://api.github.com/users/adrianbenavides/followers", "following_url": "https://api.github.com/users/adrianbenavides/following{/other_user}", "gists_url": "https://api.github.com/users/adrianbenavides/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianbenavides/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianbenavides/subscriptions", "organizations_url": "https://api.github.com/users/adrianbenavides/orgs", "repos_url": "https://api.github.com/users/adrianbenavides/repos", "events_url": "https://api.github.com/users/adrianbenavides/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianbenavides/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-01-22T14:24:58Z", "updated_at": "2025-01-24T09:34:11Z", "closed_at": "2025-01-24T09:34:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8769", "html_url": "https://github.com/build-trust/ockam/pull/8769", "diff_url": "https://github.com/build-trust/ockam/pull/8769.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8769.patch", "merged_at": "2025-01-24T09:34:10Z"}, "body": "In the configuration passed to the brand binary, we can now pass the commands we want to include and optionally set a custom name. If none are passed, all the commands are available:\r\n\r\n```yaml\r\nbin_name:\r\n  commands:\r\n    - node: \"host\" # 'node' top-level command will be renamed to 'host'\r\n    - node_list\r\n    - node_create: \"init\" # 'node create' -> 'host init'\r\n```\r\n\r\nSo far I\u2019ve added the ability to add/rename top-level commands only (e.g. node, project, space, ...) but not subcommands.\r\n", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8769/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8761", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8761/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8761/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8761/events", "html_url": "https://github.com/build-trust/ockam/pull/8761", "id": 2800208370, "node_id": "PR_kwDOCYdddc6IaBL-", "number": 8761, "title": "Ockam Release 20-01-2025", "user": {"login": "metaclips", "id": 31141573, "node_id": "MDQ6VXNlcjMxMTQxNTcz", "avatar_url": "https://avatars.githubusercontent.com/u/31141573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/metaclips", "html_url": "https://github.com/metaclips", "followers_url": "https://api.github.com/users/metaclips/followers", "following_url": "https://api.github.com/users/metaclips/following{/other_user}", "gists_url": "https://api.github.com/users/metaclips/gists{/gist_id}", "starred_url": "https://api.github.com/users/metaclips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/metaclips/subscriptions", "organizations_url": "https://api.github.com/users/metaclips/orgs", "repos_url": "https://api.github.com/users/metaclips/repos", "events_url": "https://api.github.com/users/metaclips/events{/privacy}", "received_events_url": "https://api.github.com/users/metaclips/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-01-20T20:14:20Z", "updated_at": "2025-01-20T20:50:37Z", "closed_at": "2025-01-20T20:50:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8761", "html_url": "https://github.com/build-trust/ockam/pull/8761", "diff_url": "https://github.com/build-trust/ockam/pull/8761.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8761.patch", "merged_at": "2025-01-20T20:50:36Z"}, "body": "Ockam release", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8761/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8758", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8758/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8758/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8758/events", "html_url": "https://github.com/build-trust/ockam/pull/8758", "id": 2795643643, "node_id": "PR_kwDOCYdddc6IKkP7", "number": 8758, "title": "refactor(rust): rename cloud module to orchestrator", "user": {"login": "adrianbenavides", "id": 12375782, "node_id": "MDQ6VXNlcjEyMzc1Nzgy", "avatar_url": "https://avatars.githubusercontent.com/u/12375782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianbenavides", "html_url": "https://github.com/adrianbenavides", "followers_url": "https://api.github.com/users/adrianbenavides/followers", "following_url": "https://api.github.com/users/adrianbenavides/following{/other_user}", "gists_url": "https://api.github.com/users/adrianbenavides/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianbenavides/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianbenavides/subscriptions", "organizations_url": "https://api.github.com/users/adrianbenavides/orgs", "repos_url": "https://api.github.com/users/adrianbenavides/repos", "events_url": "https://api.github.com/users/adrianbenavides/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianbenavides/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-01-17T14:43:34Z", "updated_at": "2025-01-20T16:11:07Z", "closed_at": "2025-01-20T16:11:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8758", "html_url": "https://github.com/build-trust/ockam/pull/8758", "diff_url": "https://github.com/build-trust/ockam/pull/8758.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8758.patch", "merged_at": "2025-01-20T16:11:06Z"}, "body": "- Minor cleanup of the old \"cloud\" module of the ockam_command crate\r\n- Revert command features, as this could interfere with the next release. I'm also working on a different approach that won't use cargo features", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8758/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8755", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8755/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8755/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8755/events", "html_url": "https://github.com/build-trust/ockam/pull/8755", "id": 2790296640, "node_id": "PR_kwDOCYdddc6H4AOS", "number": 8755, "title": "Optimize ockam node create", "user": {"login": "SanjoDeundiak", "id": 6513916, "node_id": "MDQ6VXNlcjY1MTM5MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6513916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SanjoDeundiak", "html_url": "https://github.com/SanjoDeundiak", "followers_url": "https://api.github.com/users/SanjoDeundiak/followers", "following_url": "https://api.github.com/users/SanjoDeundiak/following{/other_user}", "gists_url": "https://api.github.com/users/SanjoDeundiak/gists{/gist_id}", "starred_url": "https://api.github.com/users/SanjoDeundiak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SanjoDeundiak/subscriptions", "organizations_url": "https://api.github.com/users/SanjoDeundiak/orgs", "repos_url": "https://api.github.com/users/SanjoDeundiak/repos", "events_url": "https://api.github.com/users/SanjoDeundiak/events{/privacy}", "received_events_url": "https://api.github.com/users/SanjoDeundiak/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-01-15T16:28:16Z", "updated_at": "2025-02-03T18:32:22Z", "closed_at": "2025-02-03T18:32:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8755", "html_url": "https://github.com/build-trust/ockam/pull/8755", "diff_url": "https://github.com/build-trust/ockam/pull/8755.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8755.patch", "merged_at": "2025-02-03T18:32:21Z"}, "body": "1. Move tokio Runtime creation to the earliest possible during ockam command execution\r\n2. Avoid creating tokio Runtime more than once\r\n3. Remove Runtime singletin inside ockam_node create\r\n4. Remove most of the blocking calls\r\n5. Simplify commands to support only async execution\r\n6. Add timeout to Tcp connections\r\n7. Optimize node creation by replacing readiness check from polling to TCP callback\r\n8. Move logging setup to the earliest possible\r\n9. Simplify CliState", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8755/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8755/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8744", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8744/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8744/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8744/events", "html_url": "https://github.com/build-trust/ockam/pull/8744", "id": 2786492467, "node_id": "PR_kwDOCYdddc6Hq6Bq", "number": 8744, "title": "feat(rust): add binary to compile custom branding command binaries", "user": {"login": "adrianbenavides", "id": 12375782, "node_id": "MDQ6VXNlcjEyMzc1Nzgy", "avatar_url": "https://avatars.githubusercontent.com/u/12375782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianbenavides", "html_url": "https://github.com/adrianbenavides", "followers_url": "https://api.github.com/users/adrianbenavides/followers", "following_url": "https://api.github.com/users/adrianbenavides/following{/other_user}", "gists_url": "https://api.github.com/users/adrianbenavides/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianbenavides/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianbenavides/subscriptions", "organizations_url": "https://api.github.com/users/adrianbenavides/orgs", "repos_url": "https://api.github.com/users/adrianbenavides/repos", "events_url": "https://api.github.com/users/adrianbenavides/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianbenavides/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-01-14T07:59:43Z", "updated_at": "2025-01-17T07:34:21Z", "closed_at": "2025-01-17T07:34:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8744", "html_url": "https://github.com/build-trust/ockam/pull/8744", "diff_url": "https://github.com/build-trust/ockam/pull/8744.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8744.patch", "merged_at": "2025-01-17T07:34:20Z"}, "body": "## Binary to compile branded `ockam` versions\r\n\r\nThere is a new script at `ockam_command/src/bin/brand.rs` that can be run to compile the `ockam` binary with some configurable options.\r\n\r\nThe script needs a configuration that can be either passed inline, or as a path to a file. The configuration is a yaml with he following format:\r\n\r\n```yaml\r\nbin:\r\n  support_email: support@domain.com\r\n  # the following fields are optional\r\n  brand_name: Brand1 # if not set, will default to Bin\r\n  home_dir: /home/brand1 # if not set, will default to $HOME/.bin\r\n  orchestrator_identifier: brand1 # if not set, will default to the OCKAM_CONTROLLER_IDENTITY_ID env var\r\n  orchestrator_address: brand1.network # if not set, will default to the OCKAM_CONTROLLER_ADDR env var\r\n```\r\n\r\nWe can run the script as follows: `cargo run --bin brand ./config.yaml`\r\n\r\n## Custom branding\r\n\r\nThe `ockam_command` crate now will use the compile-time env vars `OCKAM_COMMAND_BIN_NAME` and `OCKAM_COMMAND_BRAND_NAME` to replace the `ockam` and `Ockam` references in:\r\n\r\n- Command names\r\n- Command help texts: documentation of command and args, code examples, markdown files\r\n- Command output\r\n\r\nWe can also customize:\r\n\r\n- The `OCKAM_HOME` to be used, which will default to `$HOME/.$BIN_NAME`\r\n- Support email, which is shown in the error footer (the text in dark gray)\r\n- The Controller address\r\n- The Controller identifier\r\n\r\n## \u26a0\ufe0f  Things that are not replaced \u26a0\ufe0f \r\n\r\n1. References to attributes that are prefixed with `ockam` like `ockam-relay` or `ockam-role`. Should we change this prefix?\r\n2. Environment variables names\r\n3. Logs\r\n4. Errors (the `source location` leaks the crates names)\r\n5. `ockam enroll` has a lot of ockam related output (links to docs, links to our github, the ascii header), but this command should only be used by admins anyway\r\n\r\n## New Cargo features in ockam_command\r\n\r\nI've removed the `orchestrator` feature, which wasn't being used consistently, and I've added two new features:\r\n- `admin_commands`: enroll, create/delete spaces and projects, authority, sidecar, ...\r\n- `advanced_commands`: experimental or not widely used commands (tcp-listener/connection, flow control, secure-channel, ...)\r\n\r\nSo, by default, we will include the core commands that are used to create nodes, portals, relays, policies, ...", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8744/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8744/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8739", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8739/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8739/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8739/events", "html_url": "https://github.com/build-trust/ockam/pull/8739", "id": 2782596935, "node_id": "PR_kwDOCYdddc6HdV-S", "number": 8739, "title": "feat(rust): rewrite `ockam_node`", "user": {"login": "SanjoDeundiak", "id": 6513916, "node_id": "MDQ6VXNlcjY1MTM5MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6513916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SanjoDeundiak", "html_url": "https://github.com/SanjoDeundiak", "followers_url": "https://api.github.com/users/SanjoDeundiak/followers", "following_url": "https://api.github.com/users/SanjoDeundiak/following{/other_user}", "gists_url": "https://api.github.com/users/SanjoDeundiak/gists{/gist_id}", "starred_url": "https://api.github.com/users/SanjoDeundiak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SanjoDeundiak/subscriptions", "organizations_url": "https://api.github.com/users/SanjoDeundiak/orgs", "repos_url": "https://api.github.com/users/SanjoDeundiak/repos", "events_url": "https://api.github.com/users/SanjoDeundiak/events{/privacy}", "received_events_url": "https://api.github.com/users/SanjoDeundiak/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-01-12T17:25:58Z", "updated_at": "2025-01-13T10:52:17Z", "closed_at": "2025-01-13T10:52:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8739", "html_url": "https://github.com/build-trust/ockam/pull/8739", "diff_url": "https://github.com/build-trust/ockam/pull/8739.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8739.patch", "merged_at": "2025-01-13T10:52:16Z"}, "body": "Rebased and squashed version of #8641 from @davide-baldo and #8718 from me", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8739/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8735", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8735/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8735/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8735/events", "html_url": "https://github.com/build-trust/ockam/pull/8735", "id": 2780244487, "node_id": "PR_kwDOCYdddc6HVczS", "number": 8735, "title": "feat: use postgres for managed nodes", "user": {"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2025-01-10T13:53:51Z", "updated_at": "2025-01-23T10:40:29Z", "closed_at": "2025-01-23T10:40:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8735", "html_url": "https://github.com/build-trust/ockam/pull/8735", "diff_url": "https://github.com/build-trust/ockam/pull/8735.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8735.patch", "merged_at": "2025-01-23T10:40:27Z"}, "body": "This PR adds a Rust migration to import the data from a SQLite node to a shared Postgres database for managed nodes.\r\n\r\n- The main difficulty for this PR consists in passing the legacy SQLite database path down to the migration code, hence the modifications on the `migrator.rs` structs.\r\n\r\n- This migration only applies once per migrated node if the Postgres database is configured. For this specific migration we use the SQLite database to mark the node as migrated and there's no mention of that migration in the Postgres database.\r\n\r\n - I also simplified the return value of the `migrate` method which returns `Result<()>` now since the previously returned boolean was always `true`.\r\n\r\n - Note that this code only runs if the Postgres database is enabled. ", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8735/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8733", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8733/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8733/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8733/events", "html_url": "https://github.com/build-trust/ockam/pull/8733", "id": 2778756713, "node_id": "PR_kwDOCYdddc6HQbLa", "number": 8733, "title": "Ockam Release 09-01-2025", "user": {"login": "metaclips", "id": 31141573, "node_id": "MDQ6VXNlcjMxMTQxNTcz", "avatar_url": "https://avatars.githubusercontent.com/u/31141573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/metaclips", "html_url": "https://github.com/metaclips", "followers_url": "https://api.github.com/users/metaclips/followers", "following_url": "https://api.github.com/users/metaclips/following{/other_user}", "gists_url": "https://api.github.com/users/metaclips/gists{/gist_id}", "starred_url": "https://api.github.com/users/metaclips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/metaclips/subscriptions", "organizations_url": "https://api.github.com/users/metaclips/orgs", "repos_url": "https://api.github.com/users/metaclips/repos", "events_url": "https://api.github.com/users/metaclips/events{/privacy}", "received_events_url": "https://api.github.com/users/metaclips/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-01-09T21:09:12Z", "updated_at": "2025-01-09T21:49:38Z", "closed_at": "2025-01-09T21:49:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8733", "html_url": "https://github.com/build-trust/ockam/pull/8733", "diff_url": "https://github.com/build-trust/ockam/pull/8733.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8733.patch", "merged_at": "2025-01-09T21:49:37Z"}, "body": "Ockam release", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8733/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8729", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8729/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8729/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8729/events", "html_url": "https://github.com/build-trust/ockam/pull/8729", "id": 2770425666, "node_id": "PR_kwDOCYdddc6Gz3G2", "number": 8729, "title": "chore(rust): upgrade sqlx to 0.8.3", "user": {"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2025-01-06T11:11:40Z", "updated_at": "2025-01-06T16:57:59Z", "closed_at": "2025-01-06T16:57:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8729", "html_url": "https://github.com/build-trust/ockam/pull/8729", "diff_url": "https://github.com/build-trust/ockam/pull/8729.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8729.patch", "merged_at": "2025-01-06T16:57:58Z"}, "body": "The latest sqlx version introduces some breaking changes.", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8729/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8704", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8704/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8704/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8704/events", "html_url": "https://github.com/build-trust/ockam/pull/8704", "id": 2742298122, "node_id": "PR_kwDOCYdddc6FWhTc", "number": 8704, "title": "feat(rust): add `tcp-test` tool to measure portal properties", "user": {"login": "davide-baldo", "id": 408088, "node_id": "MDQ6VXNlcjQwODA4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/408088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davide-baldo", "html_url": "https://github.com/davide-baldo", "followers_url": "https://api.github.com/users/davide-baldo/followers", "following_url": "https://api.github.com/users/davide-baldo/following{/other_user}", "gists_url": "https://api.github.com/users/davide-baldo/gists{/gist_id}", "starred_url": "https://api.github.com/users/davide-baldo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davide-baldo/subscriptions", "organizations_url": "https://api.github.com/users/davide-baldo/orgs", "repos_url": "https://api.github.com/users/davide-baldo/repos", "events_url": "https://api.github.com/users/davide-baldo/events{/privacy}", "received_events_url": "https://api.github.com/users/davide-baldo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-12-16T12:45:19Z", "updated_at": "2024-12-17T15:53:02Z", "closed_at": "2024-12-17T15:53:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8704", "html_url": "https://github.com/build-trust/ockam/pull/8704", "diff_url": "https://github.com/build-trust/ockam/pull/8704.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8704.patch", "merged_at": "2024-12-17T15:53:01Z"}, "body": "This tool is useful to test the portal capabilities and operates as a **generic** TCP client and server.\r\nIt also implements (unsafe) TLS, which is useful for performance comparison.", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8704/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8699", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8699/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8699/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8699/events", "html_url": "https://github.com/build-trust/ockam/pull/8699", "id": 2736646876, "node_id": "PR_kwDOCYdddc6FDvaV", "number": 8699, "title": "Ockam Release 12-12-2024", "user": {"login": "snandam", "id": 566630, "node_id": "MDQ6VXNlcjU2NjYzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/566630?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snandam", "html_url": "https://github.com/snandam", "followers_url": "https://api.github.com/users/snandam/followers", "following_url": "https://api.github.com/users/snandam/following{/other_user}", "gists_url": "https://api.github.com/users/snandam/gists{/gist_id}", "starred_url": "https://api.github.com/users/snandam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snandam/subscriptions", "organizations_url": "https://api.github.com/users/snandam/orgs", "repos_url": "https://api.github.com/users/snandam/repos", "events_url": "https://api.github.com/users/snandam/events{/privacy}", "received_events_url": "https://api.github.com/users/snandam/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-12-12T18:48:39Z", "updated_at": "2024-12-12T19:29:29Z", "closed_at": "2024-12-12T19:29:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8699", "html_url": "https://github.com/build-trust/ockam/pull/8699", "diff_url": "https://github.com/build-trust/ockam/pull/8699.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8699.patch", "merged_at": "2024-12-12T19:29:28Z"}, "body": "Ockam release", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8699/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/build-trust/ockam/issues/8696", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8696/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8696/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8696/events", "html_url": "https://github.com/build-trust/ockam/pull/8696", "id": 2732336817, "node_id": "PR_kwDOCYdddc6E0ymR", "number": 8696, "title": "feat: support auto retry for all repositories when using sqlite", "user": {"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "etorreborre", "id": 10988, "node_id": "MDQ6VXNlcjEwOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/10988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etorreborre", "html_url": "https://github.com/etorreborre", "followers_url": "https://api.github.com/users/etorreborre/followers", "following_url": "https://api.github.com/users/etorreborre/following{/other_user}", "gists_url": "https://api.github.com/users/etorreborre/gists{/gist_id}", "starred_url": "https://api.github.com/users/etorreborre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etorreborre/subscriptions", "organizations_url": "https://api.github.com/users/etorreborre/orgs", "repos_url": "https://api.github.com/users/etorreborre/repos", "events_url": "https://api.github.com/users/etorreborre/events{/privacy}", "received_events_url": "https://api.github.com/users/etorreborre/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2024-12-11T09:19:30Z", "updated_at": "2024-12-12T10:32:48Z", "closed_at": "2024-12-12T10:32:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8696", "html_url": "https://github.com/build-trust/ockam/pull/8696", "diff_url": "https://github.com/build-trust/ockam/pull/8696.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8696.patch", "merged_at": "2024-12-12T10:32:47Z"}, "body": "This PR implements the `AutoRetry` trait for some repositories that were previously left out (that trait allows a query to be tried again if the database is temporary locked).\r\n\r\nThe code has also been refactored in order to encapsulate the decision to auto-retry or not, based on the actual `SqlxDatabase` configuration.", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8696/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8696/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8841", "repository_url": "https://api.github.com/repos/build-trust/ockam", "labels_url": "https://api.github.com/repos/build-trust/ockam/issues/8841/labels{/name}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8841/comments", "events_url": "https://api.github.com/repos/build-trust/ockam/issues/8841/events", "html_url": "https://github.com/build-trust/ockam/pull/8841", "id": 2892151156, "node_id": "PR_kwDOCYdddc6NM3OS", "number": 8841, "title": "Ockam Release 03-03-2025", "user": {"login": "metaclips", "id": 31141573, "node_id": "MDQ6VXNlcjMxMTQxNTcz", "avatar_url": "https://avatars.githubusercontent.com/u/31141573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/metaclips", "html_url": "https://github.com/metaclips", "followers_url": "https://api.github.com/users/metaclips/followers", "following_url": "https://api.github.com/users/metaclips/following{/other_user}", "gists_url": "https://api.github.com/users/metaclips/gists{/gist_id}", "starred_url": "https://api.github.com/users/metaclips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/metaclips/subscriptions", "organizations_url": "https://api.github.com/users/metaclips/orgs", "repos_url": "https://api.github.com/users/metaclips/repos", "events_url": "https://api.github.com/users/metaclips/events{/privacy}", "received_events_url": "https://api.github.com/users/metaclips/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-03-03T19:42:16Z", "updated_at": "2025-03-03T20:18:36Z", "closed_at": "2025-03-03T20:18:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8841", "html_url": "https://github.com/build-trust/ockam/pull/8841", "diff_url": "https://github.com/build-trust/ockam/pull/8841.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8841.patch", "merged_at": "2025-03-03T20:18:35Z"}, "body": "Ockam release", "reactions": {"url": "https://api.github.com/repos/build-trust/ockam/issues/8841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/build-trust/ockam/issues/8841/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/build-trust/ockam/pulls/8841", "id": 2368959378, "node_id": "PR_kwDOCYdddc6NM3OS", "html_url": "https://github.com/build-trust/ockam/pull/8841", "diff_url": "https://github.com/build-trust/ockam/pull/8841.diff", "patch_url": "https://github.com/build-trust/ockam/pull/8841.patch", "issue_url": "https://api.github.com/repos/build-trust/ockam/issues/8841", "number": 8841, "state": "closed", "locked": false, "title": "Ockam Release 03-03-2025", "user": {"login": "metaclips", "id": 31141573, "node_id": "MDQ6VXNlcjMxMTQxNTcz", "avatar_url": "https://avatars.githubusercontent.com/u/31141573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/metaclips", "html_url": "https://github.com/metaclips", "followers_url": "https://api.github.com/users/metaclips/followers", "following_url": "https://api.github.com/users/metaclips/following{/other_user}", "gists_url": "https://api.github.com/users/metaclips/gists{/gist_id}", "starred_url": "https://api.github.com/users/metaclips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/metaclips/subscriptions", "organizations_url": "https://api.github.com/users/metaclips/orgs", "repos_url": "https://api.github.com/users/metaclips/repos", "events_url": "https://api.github.com/users/metaclips/events{/privacy}", "received_events_url": "https://api.github.com/users/metaclips/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "Ockam release", "created_at": "2025-03-03T19:42:16Z", "updated_at": "2025-03-03T20:18:36Z", "closed_at": "2025-03-03T20:18:35Z", "merged_at": "2025-03-03T20:18:35Z", "merge_commit_sha": "bc20e02299b1ab00d37950c74549dfa54d6dbc87", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/build-trust/ockam/pulls/8841/commits", "review_comments_url": "https://api.github.com/repos/build-trust/ockam/pulls/8841/comments", "review_comment_url": "https://api.github.com/repos/build-trust/ockam/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/build-trust/ockam/issues/8841/comments", "statuses_url": "https://api.github.com/repos/build-trust/ockam/statuses/4aeb00199628918dbe7cb7ef3934827d206c70fe", "head": {"label": "build-trust:release_03-03-2025_1741030656", "ref": "release_03-03-2025_1741030656", "sha": "4aeb00199628918dbe7cb7ef3934827d206c70fe", "user": {"login": "build-trust", "id": 34258839, "node_id": "MDEyOk9yZ2FuaXphdGlvbjM0MjU4ODM5", "avatar_url": "https://avatars.githubusercontent.com/u/34258839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/build-trust", "html_url": "https://github.com/build-trust", "followers_url": "https://api.github.com/users/build-trust/followers", "following_url": "https://api.github.com/users/build-trust/following{/other_user}", "gists_url": "https://api.github.com/users/build-trust/gists{/gist_id}", "starred_url": "https://api.github.com/users/build-trust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/build-trust/subscriptions", "organizations_url": "https://api.github.com/users/build-trust/orgs", "repos_url": "https://api.github.com/users/build-trust/repos", "events_url": "https://api.github.com/users/build-trust/events{/privacy}", "received_events_url": "https://api.github.com/users/build-trust/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 159866229, "node_id": "MDEwOlJlcG9zaXRvcnkxNTk4NjYyMjk=", "name": "ockam", "full_name": "build-trust/ockam", "private": false, "owner": {"login": "build-trust", "id": 34258839, "node_id": "MDEyOk9yZ2FuaXphdGlvbjM0MjU4ODM5", "avatar_url": "https://avatars.githubusercontent.com/u/34258839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/build-trust", "html_url": "https://github.com/build-trust", "followers_url": "https://api.github.com/users/build-trust/followers", "following_url": "https://api.github.com/users/build-trust/following{/other_user}", "gists_url": "https://api.github.com/users/build-trust/gists{/gist_id}", "starred_url": "https://api.github.com/users/build-trust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/build-trust/subscriptions", "organizations_url": "https://api.github.com/users/build-trust/orgs", "repos_url": "https://api.github.com/users/build-trust/repos", "events_url": "https://api.github.com/users/build-trust/events{/privacy}", "received_events_url": "https://api.github.com/users/build-trust/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/build-trust/ockam", "description": "Orchestrate end-to-end encryption, cryptographic identities, mutual authentication, and authorization policies between distributed applications \u2013 at massive scale.", "fork": false, "url": "https://api.github.com/repos/build-trust/ockam", "forks_url": "https://api.github.com/repos/build-trust/ockam/forks", "keys_url": "https://api.github.com/repos/build-trust/ockam/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/build-trust/ockam/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/build-trust/ockam/teams", "hooks_url": "https://api.github.com/repos/build-trust/ockam/hooks", "issue_events_url": "https://api.github.com/repos/build-trust/ockam/issues/events{/number}", "events_url": "https://api.github.com/repos/build-trust/ockam/events", "assignees_url": "https://api.github.com/repos/build-trust/ockam/assignees{/user}", "branches_url": "https://api.github.com/repos/build-trust/ockam/branches{/branch}", "tags_url": "https://api.github.com/repos/build-trust/ockam/tags", "blobs_url": "https://api.github.com/repos/build-trust/ockam/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/build-trust/ockam/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/build-trust/ockam/git/refs{/sha}", "trees_url": "https://api.github.com/repos/build-trust/ockam/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/build-trust/ockam/statuses/{sha}", "languages_url": "https://api.github.com/repos/build-trust/ockam/languages", "stargazers_url": "https://api.github.com/repos/build-trust/ockam/stargazers", "contributors_url": "https://api.github.com/repos/build-trust/ockam/contributors", "subscribers_url": "https://api.github.com/repos/build-trust/ockam/subscribers", "subscription_url": "https://api.github.com/repos/build-trust/ockam/subscription", "commits_url": "https://api.github.com/repos/build-trust/ockam/commits{/sha}", "git_commits_url": "https://api.github.com/repos/build-trust/ockam/git/commits{/sha}", "comments_url": "https://api.github.com/repos/build-trust/ockam/comments{/number}", "issue_comment_url": "https://api.github.com/repos/build-trust/ockam/issues/comments{/number}", "contents_url": "https://api.github.com/repos/build-trust/ockam/contents/{+path}", "compare_url": "https://api.github.com/repos/build-trust/ockam/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/build-trust/ockam/merges", "archive_url": "https://api.github.com/repos/build-trust/ockam/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/build-trust/ockam/downloads", "issues_url": "https://api.github.com/repos/build-trust/ockam/issues{/number}", "pulls_url": "https://api.github.com/repos/build-trust/ockam/pulls{/number}", "milestones_url": "https://api.github.com/repos/build-trust/ockam/milestones{/number}", "notifications_url": "https://api.github.com/repos/build-trust/ockam/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/build-trust/ockam/labels{/name}", "releases_url": "https://api.github.com/repos/build-trust/ockam/releases{/id}", "deployments_url": "https://api.github.com/repos/build-trust/ockam/deployments", "created_at": "2018-11-30T18:57:01Z", "updated_at": "2026-01-19T14:50:03Z", "pushed_at": "2026-01-04T22:01:38Z", "git_url": "git://github.com/build-trust/ockam.git", "ssh_url": "git@github.com:build-trust/ockam.git", "clone_url": "https://github.com/build-trust/ockam.git", "svn_url": "https://github.com/build-trust/ockam", "homepage": "https://docs.ockam.io/", "size": 90990, "stargazers_count": 4591, "watchers_count": 4591, "language": "Rust", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 562, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 94, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["authentication", "authorization", "credentials", "distributed-systems", "e2ee", "encrypted-connections", "encrypted-messages", "encryption", "end-to-end-encryption", "identity", "kafka", "key-management", "messaging", "rust", "security", "snowflake", "trust", "zero-trust"], "visibility": "public", "forks": 562, "open_issues": 94, "watchers": 4591, "default_branch": "develop"}}, "base": {"label": "build-trust:develop", "ref": "develop", "sha": "bf57a3adb0ed2fcbe665f614724bee4b04fe9924", "user": {"login": "build-trust", "id": 34258839, "node_id": "MDEyOk9yZ2FuaXphdGlvbjM0MjU4ODM5", "avatar_url": "https://avatars.githubusercontent.com/u/34258839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/build-trust", "html_url": "https://github.com/build-trust", "followers_url": "https://api.github.com/users/build-trust/followers", "following_url": "https://api.github.com/users/build-trust/following{/other_user}", "gists_url": "https://api.github.com/users/build-trust/gists{/gist_id}", "starred_url": "https://api.github.com/users/build-trust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/build-trust/subscriptions", "organizations_url": "https://api.github.com/users/build-trust/orgs", "repos_url": "https://api.github.com/users/build-trust/repos", "events_url": "https://api.github.com/users/build-trust/events{/privacy}", "received_events_url": "https://api.github.com/users/build-trust/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 159866229, "node_id": "MDEwOlJlcG9zaXRvcnkxNTk4NjYyMjk=", "name": "ockam", "full_name": "build-trust/ockam", "private": false, "owner": {"login": "build-trust", "id": 34258839, "node_id": "MDEyOk9yZ2FuaXphdGlvbjM0MjU4ODM5", "avatar_url": "https://avatars.githubusercontent.com/u/34258839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/build-trust", "html_url": "https://github.com/build-trust", "followers_url": "https://api.github.com/users/build-trust/followers", "following_url": "https://api.github.com/users/build-trust/following{/other_user}", "gists_url": "https://api.github.com/users/build-trust/gists{/gist_id}", "starred_url": "https://api.github.com/users/build-trust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/build-trust/subscriptions", "organizations_url": "https://api.github.com/users/build-trust/orgs", "repos_url": "https://api.github.com/users/build-trust/repos", "events_url": "https://api.github.com/users/build-trust/events{/privacy}", "received_events_url": "https://api.github.com/users/build-trust/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/build-trust/ockam", "description": "Orchestrate end-to-end encryption, cryptographic identities, mutual authentication, and authorization policies between distributed applications \u2013 at massive scale.", "fork": false, "url": "https://api.github.com/repos/build-trust/ockam", "forks_url": "https://api.github.com/repos/build-trust/ockam/forks", "keys_url": "https://api.github.com/repos/build-trust/ockam/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/build-trust/ockam/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/build-trust/ockam/teams", "hooks_url": "https://api.github.com/repos/build-trust/ockam/hooks", "issue_events_url": "https://api.github.com/repos/build-trust/ockam/issues/events{/number}", "events_url": "https://api.github.com/repos/build-trust/ockam/events", "assignees_url": "https://api.github.com/repos/build-trust/ockam/assignees{/user}", "branches_url": "https://api.github.com/repos/build-trust/ockam/branches{/branch}", "tags_url": "https://api.github.com/repos/build-trust/ockam/tags", "blobs_url": "https://api.github.com/repos/build-trust/ockam/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/build-trust/ockam/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/build-trust/ockam/git/refs{/sha}", "trees_url": "https://api.github.com/repos/build-trust/ockam/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/build-trust/ockam/statuses/{sha}", "languages_url": "https://api.github.com/repos/build-trust/ockam/languages", "stargazers_url": "https://api.github.com/repos/build-trust/ockam/stargazers", "contributors_url": "https://api.github.com/repos/build-trust/ockam/contributors", "subscribers_url": "https://api.github.com/repos/build-trust/ockam/subscribers", "subscription_url": "https://api.github.com/repos/build-trust/ockam/subscription", "commits_url": "https://api.github.com/repos/build-trust/ockam/commits{/sha}", "git_commits_url": "https://api.github.com/repos/build-trust/ockam/git/commits{/sha}", "comments_url": "https://api.github.com/repos/build-trust/ockam/comments{/number}", "issue_comment_url": "https://api.github.com/repos/build-trust/ockam/issues/comments{/number}", "contents_url": "https://api.github.com/repos/build-trust/ockam/contents/{+path}", "compare_url": "https://api.github.com/repos/build-trust/ockam/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/build-trust/ockam/merges", "archive_url": "https://api.github.com/repos/build-trust/ockam/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/build-trust/ockam/downloads", "issues_url": "https://api.github.com/repos/build-trust/ockam/issues{/number}", "pulls_url": "https://api.github.com/repos/build-trust/ockam/pulls{/number}", "milestones_url": "https://api.github.com/repos/build-trust/ockam/milestones{/number}", "notifications_url": "https://api.github.com/repos/build-trust/ockam/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/build-trust/ockam/labels{/name}", "releases_url": "https://api.github.com/repos/build-trust/ockam/releases{/id}", "deployments_url": "https://api.github.com/repos/build-trust/ockam/deployments", "created_at": "2018-11-30T18:57:01Z", "updated_at": "2026-01-19T14:50:03Z", "pushed_at": "2026-01-04T22:01:38Z", "git_url": "git://github.com/build-trust/ockam.git", "ssh_url": "git@github.com:build-trust/ockam.git", "clone_url": "https://github.com/build-trust/ockam.git", "svn_url": "https://github.com/build-trust/ockam", "homepage": "https://docs.ockam.io/", "size": 90990, "stargazers_count": 4591, "watchers_count": 4591, "language": "Rust", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 562, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 94, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["authentication", "authorization", "credentials", "distributed-systems", "e2ee", "encrypted-connections", "encrypted-messages", "encryption", "end-to-end-encryption", "identity", "kafka", "key-management", "messaging", "rust", "security", "snowflake", "trust", "zero-trust"], "visibility": "public", "forks": 562, "open_issues": 94, "watchers": 4591, "default_branch": "develop"}}, "_links": {"self": {"href": "https://api.github.com/repos/build-trust/ockam/pulls/8841"}, "html": {"href": "https://github.com/build-trust/ockam/pull/8841"}, "issue": {"href": "https://api.github.com/repos/build-trust/ockam/issues/8841"}, "comments": {"href": "https://api.github.com/repos/build-trust/ockam/issues/8841/comments"}, "review_comments": {"href": "https://api.github.com/repos/build-trust/ockam/pulls/8841/comments"}, "review_comment": {"href": "https://api.github.com/repos/build-trust/ockam/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/build-trust/ockam/pulls/8841/commits"}, "statuses": {"href": "https://api.github.com/repos/build-trust/ockam/statuses/4aeb00199628918dbe7cb7ef3934827d206c70fe"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "metaclips", "id": 31141573, "node_id": "MDQ6VXNlcjMxMTQxNTcz", "avatar_url": "https://avatars.githubusercontent.com/u/31141573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/metaclips", "html_url": "https://github.com/metaclips", "followers_url": "https://api.github.com/users/metaclips/followers", "following_url": "https://api.github.com/users/metaclips/following{/other_user}", "gists_url": "https://api.github.com/users/metaclips/gists{/gist_id}", "starred_url": "https://api.github.com/users/metaclips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/metaclips/subscriptions", "organizations_url": "https://api.github.com/users/metaclips/orgs", "repos_url": "https://api.github.com/users/metaclips/repos", "events_url": "https://api.github.com/users/metaclips/events{/privacy}", "received_events_url": "https://api.github.com/users/metaclips/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 0, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 446, "deletions": 143, "changed_files": 59}}