{"window": ["2021-11-15T22:05:45.912725+00:00", "2023-08-25T16:51:48.171414+00:00"], "repo_slug": "apache/datafusion", "candidates": [{"url": "https://api.github.com/repos/apache/datafusion/issues/7387", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/7387/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/7387/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/7387/events", "html_url": "https://github.com/apache/datafusion/pull/7387", "id": 1863598772, "node_id": "PR_kwDOFWSkxs5YnL7f", "number": 7387, "title": "Update sqlparser requirement from 0.36.1 to 0.37.0", "user": {"login": "viirya", "id": 68855, "node_id": "MDQ6VXNlcjY4ODU1", "avatar_url": "https://avatars.githubusercontent.com/u/68855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viirya", "html_url": "https://github.com/viirya", "followers_url": "https://api.github.com/users/viirya/followers", "following_url": "https://api.github.com/users/viirya/following{/other_user}", "gists_url": "https://api.github.com/users/viirya/gists{/gist_id}", "starred_url": "https://api.github.com/users/viirya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viirya/subscriptions", "organizations_url": "https://api.github.com/users/viirya/orgs", "repos_url": "https://api.github.com/users/viirya/repos", "events_url": "https://api.github.com/users/viirya/events{/privacy}", "received_events_url": "https://api.github.com/users/viirya/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-23T15:49:35Z", "updated_at": "2023-08-23T18:04:32Z", "closed_at": "2023-08-23T17:31:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/7387", "html_url": "https://github.com/apache/datafusion/pull/7387", "diff_url": "https://github.com/apache/datafusion/pull/7387.diff", "patch_url": "https://github.com/apache/datafusion/pull/7387.patch", "merged_at": "2023-08-23T17:31:24Z"}, "body": "## Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #7386.\r\n\r\n## Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n[dependabot](https://github.com/apps/dependabot) failed to update sqlparser due to some upstream changes.\r\n\r\n## What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\nUpdate sqlparser requirement from 0.36.1 to 0.37.0\r\n\r\n## Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n## Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/7387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/7387/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/7372", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/7372/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/7372/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/7372/events", "html_url": "https://github.com/apache/datafusion/pull/7372", "id": 1861566877, "node_id": "PR_kwDOFWSkxs5YgSTz", "number": 7372, "title": "Prepare 30.0.0 release", "user": {"login": "andygrove", "id": 934084, "node_id": "MDQ6VXNlcjkzNDA4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/934084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andygrove", "html_url": "https://github.com/andygrove", "followers_url": "https://api.github.com/users/andygrove/followers", "following_url": "https://api.github.com/users/andygrove/following{/other_user}", "gists_url": "https://api.github.com/users/andygrove/gists{/gist_id}", "starred_url": "https://api.github.com/users/andygrove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andygrove/subscriptions", "organizations_url": "https://api.github.com/users/andygrove/orgs", "repos_url": "https://api.github.com/users/andygrove/repos", "events_url": "https://api.github.com/users/andygrove/events{/privacy}", "received_events_url": "https://api.github.com/users/andygrove/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}, {"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-08-22T14:18:49Z", "updated_at": "2023-08-25T17:08:36Z", "closed_at": "2023-08-23T18:49:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/7372", "html_url": "https://github.com/apache/datafusion/pull/7372", "diff_url": "https://github.com/apache/datafusion/pull/7372.diff", "patch_url": "https://github.com/apache/datafusion/pull/7372.patch", "merged_at": "2023-08-23T18:49:27Z"}, "body": "## Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nN/A\r\n\r\n## Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\nTime for a new release\r\n\r\n## What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n- Bump version\r\n- [Changelog](https://github.com/andygrove/arrow-datafusion/blob/prep-30/dev/changelog/30.0.0.md)\r\n\r\n## Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n## Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/7372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/7372/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/7366", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/7366/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/7366/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/7366/events", "html_url": "https://github.com/apache/datafusion/pull/7366", "id": 1861120933, "node_id": "PR_kwDOFWSkxs5YewS1", "number": 7366, "title": "Merge hash table implementations and remove leftover utilities", "user": {"login": "metesynnada", "id": 100111937, "node_id": "U_kgDOBfeWQQ", "avatar_url": "https://avatars.githubusercontent.com/u/100111937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/metesynnada", "html_url": "https://github.com/metesynnada", "followers_url": "https://api.github.com/users/metesynnada/followers", "following_url": "https://api.github.com/users/metesynnada/following{/other_user}", "gists_url": "https://api.github.com/users/metesynnada/gists{/gist_id}", "starred_url": "https://api.github.com/users/metesynnada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/metesynnada/subscriptions", "organizations_url": "https://api.github.com/users/metesynnada/orgs", "repos_url": "https://api.github.com/users/metesynnada/repos", "events_url": "https://api.github.com/users/metesynnada/events{/privacy}", "received_events_url": "https://api.github.com/users/metesynnada/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-08-22T10:05:22Z", "updated_at": "2023-08-23T20:22:10Z", "closed_at": "2023-08-23T19:47:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/7366", "html_url": "https://github.com/apache/datafusion/pull/7366", "diff_url": "https://github.com/apache/datafusion/pull/7366.diff", "patch_url": "https://github.com/apache/datafusion/pull/7366.patch", "merged_at": "2023-08-23T19:47:37Z"}, "body": "## Which issue does this PR close?\r\n\r\nContinue on https://github.com/apache/arrow-datafusion/pull/6679.\r\n\r\n## Rationale for this change\r\n\r\nThe current implementation of the `JoinHashMap` and `SymmetricJoinHashMap` types could benefit from being more generic and flexible. Specifically, the ability to support different types of list data structures for chaining, as well as handling resizing in a more idiomatic and efficient manner, would be advantageous. This PR introduces the `JoinHashMapType` trait and implements it for both `JoinHashMap` and `PruningJoinHashMap`, which allows for more code reuse and a clearer separation of concerns. \r\n\r\nIn this PR, Several unused hash join utilities are removed. Also, we can introduce a vectorized implementation of `SymmetricHashJoin` that includes hash collision checks.\r\n\r\n## What changes are included in this PR?\r\n\r\n- Added a `JoinHashMapType` trait with methods for handling the mutable map and mutable list, as well as a method `as_any_mut` for dynamic downcasting.\r\n- Implemented the `JoinHashMapType` trait for both `JoinHashMap` and `PruningJoinHashMap`.\r\n- Updated the `update_hash` function to use the `JoinHashMapType` trait and only resize the list in the case of `PruningJoinHashMap`.\r\n- Updated the `build_equal_condition_join_indices` function to use the JoinHashMapType trait and introduced an offset parameter.\r\n- Added inline comments and docstrings for better readability and documentation of the code.\r\n\r\nI have removed `smallvec` completely from the code, but I am unsure whether or not to remove it from Cargo.toml.\r\n## Are these changes tested?\r\n\r\nYes, the changes are covered by the existing tests. No new tests were required as the new implementation preserves the existing functionality. All tests passed successfully after the changes were applied.\r\n\r\n## Are there any user-facing changes?\r\n\r\nNo, the changes made in this PR are internal and do not affect the public API or the functionality of the crate.\r\n\r\ncc @Dandandan ", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/7366/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/7366/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/7336", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/7336/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/7336/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/7336/events", "html_url": "https://github.com/apache/datafusion/pull/7336", "id": 1857266690, "node_id": "PR_kwDOFWSkxs5YR0iK", "number": 7336, "title": "Refactor: Consolidate OutputFileFormat and FileType into datafusion_common", "user": {"login": "devinjdangelo", "id": 14827143, "node_id": "MDQ6VXNlcjE0ODI3MTQz", "avatar_url": "https://avatars.githubusercontent.com/u/14827143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devinjdangelo", "html_url": "https://github.com/devinjdangelo", "followers_url": "https://api.github.com/users/devinjdangelo/followers", "following_url": "https://api.github.com/users/devinjdangelo/following{/other_user}", "gists_url": "https://api.github.com/users/devinjdangelo/gists{/gist_id}", "starred_url": "https://api.github.com/users/devinjdangelo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devinjdangelo/subscriptions", "organizations_url": "https://api.github.com/users/devinjdangelo/orgs", "repos_url": "https://api.github.com/users/devinjdangelo/repos", "events_url": "https://api.github.com/users/devinjdangelo/events{/privacy}", "received_events_url": "https://api.github.com/users/devinjdangelo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-18T20:40:27Z", "updated_at": "2023-08-22T14:13:21Z", "closed_at": "2023-08-22T14:13:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/7336", "html_url": "https://github.com/apache/datafusion/pull/7336", "diff_url": "https://github.com/apache/datafusion/pull/7336.diff", "patch_url": "https://github.com/apache/datafusion/pull/7336.patch", "merged_at": "2023-08-22T14:13:14Z"}, "body": "## Which issue does this PR close?\r\n\r\nCloses #7323 \r\n\r\n## Rationale for this change\r\n\r\nOutputFileFormat and FileType offer redundant functionality and the same enumerated file types. To reduce code duplication, FileType is moved to datafusion_common and all references to OutputFileFormat instead refer to FileType.\r\n\r\nI also moved file compression related structs. These are not needed yet outside of core, but will be needed when write options related to compression are implemented. \r\n\r\n## What changes are included in this PR?\r\n\r\nMany imports are updated to reflect the new location of FileType and associated functionality. \r\n\r\n## Are these changes tested?\r\n\r\nYes by existing tests\r\n\r\n## Are there any user-facing changes?\r\n\r\nFileType / GetExt must be imported from datafusion_common now.", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/7336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/7336/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/7324", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/7324/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/7324/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/7324/events", "html_url": "https://github.com/apache/datafusion/pull/7324", "id": 1855939821, "node_id": "PR_kwDOFWSkxs5YNTf3", "number": 7324, "title": "chore(deps): update tokio requirement to 1.28", "user": {"login": "jonahgao", "id": 26053282, "node_id": "MDQ6VXNlcjI2MDUzMjgy", "avatar_url": "https://avatars.githubusercontent.com/u/26053282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonahgao", "html_url": "https://github.com/jonahgao", "followers_url": "https://api.github.com/users/jonahgao/followers", "following_url": "https://api.github.com/users/jonahgao/following{/other_user}", "gists_url": "https://api.github.com/users/jonahgao/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonahgao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonahgao/subscriptions", "organizations_url": "https://api.github.com/users/jonahgao/orgs", "repos_url": "https://api.github.com/users/jonahgao/repos", "events_url": "https://api.github.com/users/jonahgao/events{/privacy}", "received_events_url": "https://api.github.com/users/jonahgao/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-18T02:21:31Z", "updated_at": "2023-08-18T08:01:56Z", "closed_at": "2023-08-18T08:01:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/7324", "html_url": "https://github.com/apache/datafusion/pull/7324", "diff_url": "https://github.com/apache/datafusion/pull/7324.diff", "patch_url": "https://github.com/apache/datafusion/pull/7324.patch", "merged_at": "2023-08-18T08:01:50Z"}, "body": "## Which issue does this PR close?\r\n Discussed in https://github.com/apache/arrow-datafusion/discussions/7253\r\n\r\n\r\n## Rationale for this change\r\nWe are using a new API `JoinSet::spawn_blocking` introduced in tokio 1.28.\r\nhttps://github.com/apache/arrow-datafusion/blob/f2c0100a5a10bf3ea166a1a590d94b8c9b6cf673/datafusion/core/src/physical_plan/stream.rs#L97\r\n\r\ntokio v1.28 [changelog](https://github.com/tokio-rs/tokio/blob/master/tokio/CHANGELOG.md#1280-april-25th-2023):\r\n> 1.28.0 (April 25th, 2023)\r\nAdded\r\ntask: add JoinSet::spawn_blocking and JoinSet::spawn_blocking_on (https://github.com/tokio-rs/tokio/pull/5612)\r\n\r\n\r\nSo it\u2019s better for us to raise the minimum required tokio version to 1.28.\r\nThis can help avoid compilation failures for users.\r\n\r\n## What changes are included in this PR?\r\nBump tokio version\r\n\r\n## Are these changes tested?\r\nN/A\r\n\r\n## Are there any user-facing changes?\r\nNo\r\n", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/7324/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/7324/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/7284", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/7284/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/7284/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/7284/events", "html_url": "https://github.com/apache/datafusion/pull/7284", "id": 1850634139, "node_id": "PR_kwDOFWSkxs5X7Yy3", "number": 7284, "title": "Move sqllogictests to sqllogictests crate to break cyclic dependency", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 4871774902, "node_id": "LA_kwDOFWSkxs8AAAABImFitg", "url": "https://api.github.com/repos/apache/datafusion/labels/sqllogictest", "name": "sqllogictest", "color": "c5def5", "default": false, "description": "SQL Logic Tests (.slt)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-08-14T22:21:05Z", "updated_at": "2023-08-15T17:57:14Z", "closed_at": "2023-08-15T15:43:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/7284", "html_url": "https://github.com/apache/datafusion/pull/7284", "diff_url": "https://github.com/apache/datafusion/pull/7284.diff", "patch_url": "https://github.com/apache/datafusion/pull/7284.patch", "merged_at": "2023-08-15T15:43:12Z"}, "body": "## Which issue does this PR close?\r\n\r\nCloses https://github.com/apache/arrow-datafusion/issues/7281\r\n\r\n## Rationale for this change\r\n\r\n1. https://github.com/apache/arrow-datafusion/pull/7134 introduced a circular dependency which means we can't publish to crates.io\r\n2. Elevating the sqllogictests into a less deep directory hierarchy will make it more discoverable\r\n\r\n## What changes are included in this PR?\r\n1. Move sqllogictest drivers from `datafusion/core/tests/sqlloictest` to `datafusion/sqllogictest` \r\n2. Update `TestContext` and include it in the `datafusion_sqllogictest` module\r\n3. Update CI jobs that use sqllogictest to use the new module\r\n4. Update readme\r\n5. Leave backwards compatibility `MOVED.md`\r\n\r\n## Are these changes tested?\r\n\r\nYes, both manually and via CI\r\n\r\n## Are there any user-facing changes?\r\nNo, but this likely will affect developer tests\r\n\r\n### New Command\r\n\r\n sqllogictest, is now run like this: \r\n```\r\ncargo test --test sqllogictest\r\n```\r\n\r\nThe old command was like this\r\n```\r\ncargo test -p datafusion --test sqllogictest\r\n```\r\n\r\nBonus it also fixes the error called out by @Dandandan in the mailing list thread: https://lists.apache.org/thread/mbm8smv4rombbbsnfgll922768b103z6\r\n\r\n```\r\n   Compiling datafusion-sqllogictest v29.0.0 (/Users/alamb/Software/arrow-datafusion2/datafusion/sqllogictest)\r\nwarning: function `decimal_to_str` is never used\r\n  --> datafusion/sqllogictest/src/engines/conversion.rs:85:15\r\n   |\r\n85 | pub(crate) fn decimal_to_str(value: Decimal) -> String {\r\n   |               ^^^^^^^^^^^^^^\r\n   |\r\n   = note: `#[warn(dead_code)]` on by default\r\n\r\n\r\n```\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/7284/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 3, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/7284/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/7270", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/7270/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/7270/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/7270/events", "html_url": "https://github.com/apache/datafusion/pull/7270", "id": 1847113422, "node_id": "PR_kwDOFWSkxs5XvfwP", "number": 7270, "title": "Prepare 29.0.0 Release", "user": {"login": "andygrove", "id": 934084, "node_id": "MDQ6VXNlcjkzNDA4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/934084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andygrove", "html_url": "https://github.com/andygrove", "followers_url": "https://api.github.com/users/andygrove/followers", "following_url": "https://api.github.com/users/andygrove/following{/other_user}", "gists_url": "https://api.github.com/users/andygrove/gists{/gist_id}", "starred_url": "https://api.github.com/users/andygrove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andygrove/subscriptions", "organizations_url": "https://api.github.com/users/andygrove/orgs", "repos_url": "https://api.github.com/users/andygrove/repos", "events_url": "https://api.github.com/users/andygrove/events{/privacy}", "received_events_url": "https://api.github.com/users/andygrove/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2952168388, "node_id": "MDU6TGFiZWwyOTUyMTY4Mzg4", "url": "https://api.github.com/repos/apache/datafusion/labels/sql", "name": "sql", "color": "46232A", "default": false, "description": "SQL Planner"}, {"id": 3007583662, "node_id": "MDU6TGFiZWwzMDA3NTgzNjYy", "url": "https://api.github.com/repos/apache/datafusion/labels/development-process", "name": "development-process", "color": "5544ED", "default": false, "description": "Related to development process of DataFusion"}, {"id": 4169292252, "node_id": "LA_kwDOFWSkxs74glnc", "url": "https://api.github.com/repos/apache/datafusion/labels/logical-expr", "name": "logical-expr", "color": "fbca04", "default": false, "description": "Logical plan and expressions"}, {"id": 4169292548, "node_id": "LA_kwDOFWSkxs74glsE", "url": "https://api.github.com/repos/apache/datafusion/labels/physical-expr", "name": "physical-expr", "color": "F7BD9E", "default": false, "description": "Changes to the physical-expr crates"}, {"id": 4169292802, "node_id": "LA_kwDOFWSkxs74glwC", "url": "https://api.github.com/repos/apache/datafusion/labels/optimizer", "name": "optimizer", "color": "1963D0", "default": false, "description": "Optimizer rules"}, {"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}, {"id": 5008645953, "node_id": "LA_kwDOFWSkxs8AAAABKonfQQ", "url": "https://api.github.com/repos/apache/datafusion/labels/substrait", "name": "substrait", "color": "F74E0C", "default": false, "description": "Changes to the substrait crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-11T16:29:59Z", "updated_at": "2023-08-14T17:22:45Z", "closed_at": "2023-08-14T17:22:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/7270", "html_url": "https://github.com/apache/datafusion/pull/7270", "diff_url": "https://github.com/apache/datafusion/pull/7270.diff", "patch_url": "https://github.com/apache/datafusion/pull/7270.patch", "merged_at": "2023-08-14T17:22:44Z"}, "body": "## Which issue does this PR close?\r\n\r\n<!--\r\nWe generally require a GitHub issue to be filed for all bug fixes and enhancements and this helps us generate change logs for our releases. You can link an issue to this PR using the GitHub syntax. For example `Closes #123` indicates that this PR will close issue #123.\r\n-->\r\n\r\nCloses #.\r\n\r\n## Rationale for this change\r\n\r\n<!--\r\n Why are you proposing this change? If this is already explained clearly in the issue then this section is not needed.\r\n Explaining clearly why changes are proposed helps reviewers understand your changes and offer better suggestions for fixes.  \r\n-->\r\n\r\n## What changes are included in this PR?\r\n\r\n<!--\r\nThere is no need to duplicate the description in the issue here but it is sometimes worth providing a summary of the individual changes in this PR.\r\n-->\r\n\r\n- Update version\r\n- [CHANGELOG](https://github.com/andygrove/arrow-datafusion/blob/prep-29/dev/changelog/29.0.0.md)\r\n\r\n## Are these changes tested?\r\n\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n## Are there any user-facing changes?\r\n\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/7270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/7270/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/7235", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/7235/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/7235/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/7235/events", "html_url": "https://github.com/apache/datafusion/pull/7235", "id": 1842092224, "node_id": "PR_kwDOFWSkxs5XedBj", "number": 7235, "title": "Minor: Remove [[example]] table from datafusion-examples/Cargo.toml", "user": {"login": "sarutak", "id": 4736016, "node_id": "MDQ6VXNlcjQ3MzYwMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4736016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarutak", "html_url": "https://github.com/sarutak", "followers_url": "https://api.github.com/users/sarutak/followers", "following_url": "https://api.github.com/users/sarutak/following{/other_user}", "gists_url": "https://api.github.com/users/sarutak/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarutak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarutak/subscriptions", "organizations_url": "https://api.github.com/users/sarutak/orgs", "repos_url": "https://api.github.com/users/sarutak/repos", "events_url": "https://api.github.com/users/sarutak/events{/privacy}", "received_events_url": "https://api.github.com/users/sarutak/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3007583662, "node_id": "MDU6TGFiZWwzMDA3NTgzNjYy", "url": "https://api.github.com/repos/apache/datafusion/labels/development-process", "name": "development-process", "color": "5544ED", "default": false, "description": "Related to development process of DataFusion"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-08T20:59:11Z", "updated_at": "2023-08-08T21:59:16Z", "closed_at": "2023-08-08T21:59:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/7235", "html_url": "https://github.com/apache/datafusion/pull/7235", "diff_url": "https://github.com/apache/datafusion/pull/7235.diff", "patch_url": "https://github.com/apache/datafusion/pull/7235.patch", "merged_at": "2023-08-08T21:59:15Z"}, "body": "Closes #.\r\n\r\n## Rationale for this change\r\nIn `datafusion-examples/Cargo.toml`, `[[example]]` tables are defined like as follows.\r\n\r\n```\r\n[[example]]\r\nname = \"avro_sql\"\r\npath = \"examples/avro_sql.rs\"\r\nrequired-features = [\"datafusion/avro\"]\r\n```\r\n\r\nBut `avro_sql.rs` is in `examples`, we don't need to have `[[example]]` table for `avro_sql`.\r\n\r\n## What changes are included in this PR?\r\nRemove the `[[example]]` table from the `Cargo.toml`.\r\n\r\n## Are these changes tested?\r\nI confirmed `avro_sql` still work even after this change with `cargo run --example avro_sql --features datafusion/avro`\r\n\r\n## Are there any user-facing changes?\r\nNo.", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/7235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/7235/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/apache/datafusion/issues/7234", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/7234/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/7234/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/7234/events", "html_url": "https://github.com/apache/datafusion/pull/7234", "id": 1842091936, "node_id": "PR_kwDOFWSkxs5Xec9m", "number": 7234, "title": "Minor: Move streams out of `physical_plan` module", "user": {"login": "alamb", "id": 490673, "node_id": "MDQ6VXNlcjQ5MDY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/490673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alamb", "html_url": "https://github.com/alamb", "followers_url": "https://api.github.com/users/alamb/followers", "following_url": "https://api.github.com/users/alamb/following{/other_user}", "gists_url": "https://api.github.com/users/alamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alamb/subscriptions", "organizations_url": "https://api.github.com/users/alamb/orgs", "repos_url": "https://api.github.com/users/alamb/repos", "events_url": "https://api.github.com/users/alamb/events{/privacy}", "received_events_url": "https://api.github.com/users/alamb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-08T20:58:55Z", "updated_at": "2023-08-09T13:59:10Z", "closed_at": "2023-08-09T13:59:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/7234", "html_url": "https://github.com/apache/datafusion/pull/7234", "diff_url": "https://github.com/apache/datafusion/pull/7234.diff", "patch_url": "https://github.com/apache/datafusion/pull/7234.patch", "merged_at": "2023-08-09T13:59:09Z"}, "body": "## Which issue does this PR close?\r\n\r\nPart of https://github.com/apache/arrow-datafusion/issues/1754\r\n\r\n## Rationale for this change\r\n\r\nAs part of preparing (finally) to move the physical_plan into its own crate so datafusion builds faster and is more modular, I am doing some code rearranging to slim down the contents of `physical_plan/mod.rs`\r\n\r\n\r\n## What changes are included in this PR?\r\n\r\n1. Move `RecordBatchStream` and `SendableRecordBatchStream` to `datafusion_execution` crate\r\n2. Move `EmptyStream` into `stream.rs` with other stream wrappers (so hopefully it will be more discoverable)\r\n\r\n## Are these changes tested?\r\ncovered by existing tests\r\n<!--\r\nWe typically require tests for all PRs in order to:\r\n1. Prevent the code from being accidentally broken by subsequent changes\r\n2. Serve as another way to document the expected behavior of the code\r\n\r\nIf tests are not included in your PR, please explain why (for example, are they covered by existing tests)?\r\n-->\r\n\r\n## Are there any user-facing changes?\r\nNo: I left `pub use` so there should be no backwards incompatible changes\r\n<!--\r\nIf there are user-facing changes then we may require documentation to be updated before approving the PR.\r\n-->\r\n\r\n<!--\r\nIf there are any breaking changes to public APIs, please add the `api change` label.\r\n-->", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/7234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/7234/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/apache/datafusion/issues/7324", "repository_url": "https://api.github.com/repos/apache/datafusion", "labels_url": "https://api.github.com/repos/apache/datafusion/issues/7324/labels{/name}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/7324/comments", "events_url": "https://api.github.com/repos/apache/datafusion/issues/7324/events", "html_url": "https://github.com/apache/datafusion/pull/7324", "id": 1855939821, "node_id": "PR_kwDOFWSkxs5YNTf3", "number": 7324, "title": "chore(deps): update tokio requirement to 1.28", "user": {"login": "jonahgao", "id": 26053282, "node_id": "MDQ6VXNlcjI2MDUzMjgy", "avatar_url": "https://avatars.githubusercontent.com/u/26053282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonahgao", "html_url": "https://github.com/jonahgao", "followers_url": "https://api.github.com/users/jonahgao/followers", "following_url": "https://api.github.com/users/jonahgao/following{/other_user}", "gists_url": "https://api.github.com/users/jonahgao/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonahgao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonahgao/subscriptions", "organizations_url": "https://api.github.com/users/jonahgao/orgs", "repos_url": "https://api.github.com/users/jonahgao/repos", "events_url": "https://api.github.com/users/jonahgao/events{/privacy}", "received_events_url": "https://api.github.com/users/jonahgao/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-18T02:21:31Z", "updated_at": "2023-08-18T08:01:56Z", "closed_at": "2023-08-18T08:01:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/apache/datafusion/pulls/7324", "html_url": "https://github.com/apache/datafusion/pull/7324", "diff_url": "https://github.com/apache/datafusion/pull/7324.diff", "patch_url": "https://github.com/apache/datafusion/pull/7324.patch", "merged_at": "2023-08-18T08:01:50Z"}, "body": "## Which issue does this PR close?\r\n Discussed in https://github.com/apache/arrow-datafusion/discussions/7253\r\n\r\n\r\n## Rationale for this change\r\nWe are using a new API `JoinSet::spawn_blocking` introduced in tokio 1.28.\r\nhttps://github.com/apache/arrow-datafusion/blob/f2c0100a5a10bf3ea166a1a590d94b8c9b6cf673/datafusion/core/src/physical_plan/stream.rs#L97\r\n\r\ntokio v1.28 [changelog](https://github.com/tokio-rs/tokio/blob/master/tokio/CHANGELOG.md#1280-april-25th-2023):\r\n> 1.28.0 (April 25th, 2023)\r\nAdded\r\ntask: add JoinSet::spawn_blocking and JoinSet::spawn_blocking_on (https://github.com/tokio-rs/tokio/pull/5612)\r\n\r\n\r\nSo it\u2019s better for us to raise the minimum required tokio version to 1.28.\r\nThis can help avoid compilation failures for users.\r\n\r\n## What changes are included in this PR?\r\nBump tokio version\r\n\r\n## Are these changes tested?\r\nN/A\r\n\r\n## Are there any user-facing changes?\r\nNo\r\n", "reactions": {"url": "https://api.github.com/repos/apache/datafusion/issues/7324/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/apache/datafusion/issues/7324/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/apache/datafusion/pulls/7324", "id": 1479882743, "node_id": "PR_kwDOFWSkxs5YNTf3", "html_url": "https://github.com/apache/datafusion/pull/7324", "diff_url": "https://github.com/apache/datafusion/pull/7324.diff", "patch_url": "https://github.com/apache/datafusion/pull/7324.patch", "issue_url": "https://api.github.com/repos/apache/datafusion/issues/7324", "number": 7324, "state": "closed", "locked": false, "title": "chore(deps): update tokio requirement to 1.28", "user": {"login": "jonahgao", "id": 26053282, "node_id": "MDQ6VXNlcjI2MDUzMjgy", "avatar_url": "https://avatars.githubusercontent.com/u/26053282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonahgao", "html_url": "https://github.com/jonahgao", "followers_url": "https://api.github.com/users/jonahgao/followers", "following_url": "https://api.github.com/users/jonahgao/following{/other_user}", "gists_url": "https://api.github.com/users/jonahgao/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonahgao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonahgao/subscriptions", "organizations_url": "https://api.github.com/users/jonahgao/orgs", "repos_url": "https://api.github.com/users/jonahgao/repos", "events_url": "https://api.github.com/users/jonahgao/events{/privacy}", "received_events_url": "https://api.github.com/users/jonahgao/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "## Which issue does this PR close?\r\n Discussed in https://github.com/apache/arrow-datafusion/discussions/7253\r\n\r\n\r\n## Rationale for this change\r\nWe are using a new API `JoinSet::spawn_blocking` introduced in tokio 1.28.\r\nhttps://github.com/apache/arrow-datafusion/blob/f2c0100a5a10bf3ea166a1a590d94b8c9b6cf673/datafusion/core/src/physical_plan/stream.rs#L97\r\n\r\ntokio v1.28 [changelog](https://github.com/tokio-rs/tokio/blob/master/tokio/CHANGELOG.md#1280-april-25th-2023):\r\n> 1.28.0 (April 25th, 2023)\r\nAdded\r\ntask: add JoinSet::spawn_blocking and JoinSet::spawn_blocking_on (https://github.com/tokio-rs/tokio/pull/5612)\r\n\r\n\r\nSo it\u2019s better for us to raise the minimum required tokio version to 1.28.\r\nThis can help avoid compilation failures for users.\r\n\r\n## What changes are included in this PR?\r\nBump tokio version\r\n\r\n## Are these changes tested?\r\nN/A\r\n\r\n## Are there any user-facing changes?\r\nNo\r\n", "created_at": "2023-08-18T02:21:31Z", "updated_at": "2023-08-18T08:01:56Z", "closed_at": "2023-08-18T08:01:50Z", "merged_at": "2023-08-18T08:01:50Z", "merge_commit_sha": "b9ae8de2db091101cbeaa18b520af2594816fd9f", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 4169293162, "node_id": "LA_kwDOFWSkxs74gl1q", "url": "https://api.github.com/repos/apache/datafusion/labels/core", "name": "core", "color": "637A1A", "default": false, "description": "Core DataFusion crate"}], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/apache/datafusion/pulls/7324/commits", "review_comments_url": "https://api.github.com/repos/apache/datafusion/pulls/7324/comments", "review_comment_url": "https://api.github.com/repos/apache/datafusion/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/apache/datafusion/issues/7324/comments", "statuses_url": "https://api.github.com/repos/apache/datafusion/statuses/da7edef4bf15de3dedf9d23c1434931a78f5127f", "head": {"label": "jonahgao:main", "ref": "main", "sha": "da7edef4bf15de3dedf9d23c1434931a78f5127f", "user": {"login": "jonahgao", "id": 26053282, "node_id": "MDQ6VXNlcjI2MDUzMjgy", "avatar_url": "https://avatars.githubusercontent.com/u/26053282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonahgao", "html_url": "https://github.com/jonahgao", "followers_url": "https://api.github.com/users/jonahgao/followers", "following_url": "https://api.github.com/users/jonahgao/following{/other_user}", "gists_url": "https://api.github.com/users/jonahgao/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonahgao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonahgao/subscriptions", "organizations_url": "https://api.github.com/users/jonahgao/orgs", "repos_url": "https://api.github.com/users/jonahgao/repos", "events_url": "https://api.github.com/users/jonahgao/events{/privacy}", "received_events_url": "https://api.github.com/users/jonahgao/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": null}, "base": {"label": "apache:main", "ref": "main", "sha": "f2c0100a5a10bf3ea166a1a590d94b8c9b6cf673", "user": {"login": "apache", "id": 47359, "node_id": "MDEyOk9yZ2FuaXphdGlvbjQ3MzU5", "avatar_url": "https://avatars.githubusercontent.com/u/47359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apache", "html_url": "https://github.com/apache", "followers_url": "https://api.github.com/users/apache/followers", "following_url": "https://api.github.com/users/apache/following{/other_user}", "gists_url": "https://api.github.com/users/apache/gists{/gist_id}", "starred_url": "https://api.github.com/users/apache/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apache/subscriptions", "organizations_url": "https://api.github.com/users/apache/orgs", "repos_url": "https://api.github.com/users/apache/repos", "events_url": "https://api.github.com/users/apache/events{/privacy}", "received_events_url": "https://api.github.com/users/apache/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 358917318, "node_id": "MDEwOlJlcG9zaXRvcnkzNTg5MTczMTg=", "name": "datafusion", "full_name": "apache/datafusion", "private": false, "owner": {"login": "apache", "id": 47359, "node_id": "MDEyOk9yZ2FuaXphdGlvbjQ3MzU5", "avatar_url": "https://avatars.githubusercontent.com/u/47359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apache", "html_url": "https://github.com/apache", "followers_url": "https://api.github.com/users/apache/followers", "following_url": "https://api.github.com/users/apache/following{/other_user}", "gists_url": "https://api.github.com/users/apache/gists{/gist_id}", "starred_url": "https://api.github.com/users/apache/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apache/subscriptions", "organizations_url": "https://api.github.com/users/apache/orgs", "repos_url": "https://api.github.com/users/apache/repos", "events_url": "https://api.github.com/users/apache/events{/privacy}", "received_events_url": "https://api.github.com/users/apache/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/apache/datafusion", "description": "Apache DataFusion SQL Query Engine", "fork": false, "url": "https://api.github.com/repos/apache/datafusion", "forks_url": "https://api.github.com/repos/apache/datafusion/forks", "keys_url": "https://api.github.com/repos/apache/datafusion/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/apache/datafusion/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/apache/datafusion/teams", "hooks_url": "https://api.github.com/repos/apache/datafusion/hooks", "issue_events_url": "https://api.github.com/repos/apache/datafusion/issues/events{/number}", "events_url": "https://api.github.com/repos/apache/datafusion/events", "assignees_url": "https://api.github.com/repos/apache/datafusion/assignees{/user}", "branches_url": "https://api.github.com/repos/apache/datafusion/branches{/branch}", "tags_url": "https://api.github.com/repos/apache/datafusion/tags", "blobs_url": "https://api.github.com/repos/apache/datafusion/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/apache/datafusion/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/apache/datafusion/git/refs{/sha}", "trees_url": "https://api.github.com/repos/apache/datafusion/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/apache/datafusion/statuses/{sha}", "languages_url": "https://api.github.com/repos/apache/datafusion/languages", "stargazers_url": "https://api.github.com/repos/apache/datafusion/stargazers", "contributors_url": "https://api.github.com/repos/apache/datafusion/contributors", "subscribers_url": "https://api.github.com/repos/apache/datafusion/subscribers", "subscription_url": "https://api.github.com/repos/apache/datafusion/subscription", "commits_url": "https://api.github.com/repos/apache/datafusion/commits{/sha}", "git_commits_url": "https://api.github.com/repos/apache/datafusion/git/commits{/sha}", "comments_url": "https://api.github.com/repos/apache/datafusion/comments{/number}", "issue_comment_url": "https://api.github.com/repos/apache/datafusion/issues/comments{/number}", "contents_url": "https://api.github.com/repos/apache/datafusion/contents/{+path}", "compare_url": "https://api.github.com/repos/apache/datafusion/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/apache/datafusion/merges", "archive_url": "https://api.github.com/repos/apache/datafusion/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/apache/datafusion/downloads", "issues_url": "https://api.github.com/repos/apache/datafusion/issues{/number}", "pulls_url": "https://api.github.com/repos/apache/datafusion/pulls{/number}", "milestones_url": "https://api.github.com/repos/apache/datafusion/milestones{/number}", "notifications_url": "https://api.github.com/repos/apache/datafusion/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/apache/datafusion/labels{/name}", "releases_url": "https://api.github.com/repos/apache/datafusion/releases{/id}", "deployments_url": "https://api.github.com/repos/apache/datafusion/deployments", "created_at": "2021-04-17T15:40:23Z", "updated_at": "2026-01-21T10:15:10Z", "pushed_at": "2026-01-21T08:34:54Z", "git_url": "git://github.com/apache/datafusion.git", "ssh_url": "git@github.com:apache/datafusion.git", "clone_url": "https://github.com/apache/datafusion.git", "svn_url": "https://github.com/apache/datafusion", "homepage": "https://datafusion.apache.org/", "size": 183602, "stargazers_count": 8300, "watchers_count": 8300, "language": "Rust", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": true, "forks_count": 1892, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 1664, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["arrow", "big-data", "dataframe", "datafusion", "olap", "python", "query-engine", "rust", "sql"], "visibility": "public", "forks": 1892, "open_issues": 1664, "watchers": 8300, "default_branch": "main"}}, "_links": {"self": {"href": "https://api.github.com/repos/apache/datafusion/pulls/7324"}, "html": {"href": "https://github.com/apache/datafusion/pull/7324"}, "issue": {"href": "https://api.github.com/repos/apache/datafusion/issues/7324"}, "comments": {"href": "https://api.github.com/repos/apache/datafusion/issues/7324/comments"}, "review_comments": {"href": "https://api.github.com/repos/apache/datafusion/pulls/7324/comments"}, "review_comment": {"href": "https://api.github.com/repos/apache/datafusion/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/apache/datafusion/pulls/7324/commits"}, "statuses": {"href": "https://api.github.com/repos/apache/datafusion/statuses/da7edef4bf15de3dedf9d23c1434931a78f5127f"}}, "author_association": "MEMBER", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "Dandandan", "id": 163737, "node_id": "MDQ6VXNlcjE2MzczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/163737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dandandan", "html_url": "https://github.com/Dandandan", "followers_url": "https://api.github.com/users/Dandandan/followers", "following_url": "https://api.github.com/users/Dandandan/following{/other_user}", "gists_url": "https://api.github.com/users/Dandandan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dandandan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dandandan/subscriptions", "organizations_url": "https://api.github.com/users/Dandandan/orgs", "repos_url": "https://api.github.com/users/Dandandan/repos", "events_url": "https://api.github.com/users/Dandandan/events{/privacy}", "received_events_url": "https://api.github.com/users/Dandandan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 1, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 1, "deletions": 1, "changed_files": 1}}