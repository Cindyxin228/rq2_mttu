{"window": ["2020-11-18T21:04:16.204386+00:00", "2022-04-10T14:24:10.673137+00:00"], "repo_slug": "image-rs/imageproc", "candidates": [{"url": "https://api.github.com/repos/image-rs/imageproc/issues/494", "repository_url": "https://api.github.com/repos/image-rs/imageproc", "labels_url": "https://api.github.com/repos/image-rs/imageproc/issues/494/labels{/name}", "comments_url": "https://api.github.com/repos/image-rs/imageproc/issues/494/comments", "events_url": "https://api.github.com/repos/image-rs/imageproc/issues/494/events", "html_url": "https://github.com/image-rs/imageproc/pull/494", "id": 1199029663, "node_id": "PR_kwDOApQR7c419I6m", "number": 494, "title": "Update crate version", "user": {"login": "theotherphil", "id": 1974256, "node_id": "MDQ6VXNlcjE5NzQyNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1974256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theotherphil", "html_url": "https://github.com/theotherphil", "followers_url": "https://api.github.com/users/theotherphil/followers", "following_url": "https://api.github.com/users/theotherphil/following{/other_user}", "gists_url": "https://api.github.com/users/theotherphil/gists{/gist_id}", "starred_url": "https://api.github.com/users/theotherphil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theotherphil/subscriptions", "organizations_url": "https://api.github.com/users/theotherphil/orgs", "repos_url": "https://api.github.com/users/theotherphil/repos", "events_url": "https://api.github.com/users/theotherphil/events{/privacy}", "received_events_url": "https://api.github.com/users/theotherphil/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-10T13:13:55Z", "updated_at": "2022-04-10T13:14:08Z", "closed_at": "2022-04-10T13:14:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/image-rs/imageproc/pulls/494", "html_url": "https://github.com/image-rs/imageproc/pull/494", "diff_url": "https://github.com/image-rs/imageproc/pull/494.diff", "patch_url": "https://github.com/image-rs/imageproc/pull/494.patch", "merged_at": "2022-04-10T13:14:03Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/image-rs/imageproc/issues/494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/image-rs/imageproc/issues/494/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/image-rs/imageproc/issues/491", "repository_url": "https://api.github.com/repos/image-rs/imageproc", "labels_url": "https://api.github.com/repos/image-rs/imageproc/issues/491/labels{/name}", "comments_url": "https://api.github.com/repos/image-rs/imageproc/issues/491/comments", "events_url": "https://api.github.com/repos/image-rs/imageproc/issues/491/events", "html_url": "https://github.com/image-rs/imageproc/pull/491", "id": 1155319691, "node_id": "PR_kwDOApQR7c4zulKC", "number": 491, "title": "Update `image` to 0.24", "user": {"login": "okaneco", "id": 47607823, "node_id": "MDQ6VXNlcjQ3NjA3ODIz", "avatar_url": "https://avatars.githubusercontent.com/u/47607823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/okaneco", "html_url": "https://github.com/okaneco", "followers_url": "https://api.github.com/users/okaneco/followers", "following_url": "https://api.github.com/users/okaneco/following{/other_user}", "gists_url": "https://api.github.com/users/okaneco/gists{/gist_id}", "starred_url": "https://api.github.com/users/okaneco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/okaneco/subscriptions", "organizations_url": "https://api.github.com/users/okaneco/orgs", "repos_url": "https://api.github.com/users/okaneco/repos", "events_url": "https://api.github.com/users/okaneco/events{/privacy}", "received_events_url": "https://api.github.com/users/okaneco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-01T13:07:08Z", "updated_at": "2022-03-01T16:10:07Z", "closed_at": "2022-03-01T16:02:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/image-rs/imageproc/pulls/491", "html_url": "https://github.com/image-rs/imageproc/pull/491", "diff_url": "https://github.com/image-rs/imageproc/pull/491.diff", "patch_url": "https://github.com/image-rs/imageproc/pull/491.patch", "merged_at": "2022-03-01T16:02:35Z"}, "body": "I've broken out the commits to hopefully make it easier for review.\r\n\r\nCloses #485\r\n\r\n---\r\n\r\n#### 3f2f0979c663ff8e32e71a95b19f3a3710bed582, 9fb0ea387421b642f589fe683f68fed744853496\r\n\r\n**`image` 0.24 removes the `Bgr` and `Bgra` pixel types** https://github.com/image-rs/image/pull/1482\r\n\r\n`'static` was largely removed from traits and impl bounds so it's removed here https://github.com/image-rs/image/pull/1597\r\n\r\n#### e501161e40d33b8d6079b91dafbeb82343b12410\r\n\r\n_Main bulk of changes for migration work_\r\n\r\nSome trait bounds needed to be added to `src/integral_image.rs` and `src/map.rs` functions since a sealed trait `Enlargeable` was added to the `Rgb`/`Rgba` definitions https://github.com/image-rs/image/pull/1651\r\n\r\nThe following seems to satisfy the requirements.\r\n\r\n```rust\r\n    Rgba<T>: Pixel<Subpixel = T>,\r\n    T: Primitive,\r\n```\r\n\r\n#### 2a3c5c0010487570bd07903ba2e7446eaf2357af\r\n\r\n`GenericImage::get_pixel_mut` is deprecated in 0.24 so I've replaced the two occurrences of it.\r\n\r\n#### 61f4863003dd2b1165098e537a92820a15b29196\r\n\r\nReplaced regression truth image files.\r\n\r\n4 regression tests failed likely due to changes made in `Luma` calculation to minimize floating point errors https://github.com/image-rs/image/issues/1214.  \r\nThe failure error output can be read below in the contracted view. The differences are fairly small.\r\n\r\n27 of the files changed are truth files from regression tests being regenerated. In `test_match_histograms`, the center pixel at (177, 170) doesn't match.\r\n\r\n<details>\r\n<summary><b>Failed regression tests</b></summary>\r\n\r\n```bash\r\nfailures:\r\n\r\n---- test_gaussian_blur_stdev_3 stdout ----\r\nthread 'test_gaussian_blur_stdev_3' panicked at 'pixels do not match.\r\n\r\nlocation: (13, 6), actual: 209, expected: 208\r\nlocation: (13, 7), actual: 210, expected: 209\r\nlocation: (11, 10), actual: 212, expected: 211\r\nlocation: (13, 10), actual: 212, expected: 211\r\nlocation: (0, 11), actual: 213, expected: 212 ', tests\\regression.rs:123:9\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\n\r\n---- test_match_histograms stdout ----\r\nthread 'test_match_histograms' panicked at 'pixels do not match.\r\nActual:\r\n        175  176  177  178  179\r\n     +--------------------------\r\n     |\r\n  168|  102  150  150  156  165\r\n     |\r\n  169|   29   54   67   85  110\r\n     |\r\n  170|   31   58   75  106  126\r\n     |\r\n  171|   28   40   54   85   97\r\n     |\r\n  172|   47   50   62   75   75\r\n     |\r\nExpected:\r\n        175  176  177  178  179\r\n     +--------------------------\r\n     |\r\n  168|  102  150  150  156  165\r\n     |\r\n  169|   29   54   67   85  110\r\n     |\r\n  170|   31   58   71  106  126\r\n     |\r\n  171|   28   40   54   85   97\r\n     |\r\n  172|   47   50   62   75   75\r\n     |\r\n', tests\\regression.rs:123:9\r\n\r\n---- test_gaussian_blur_stdev_10 stdout ----\r\nthread 'test_gaussian_blur_stdev_10' panicked at 'pixels do not match.\r\n\r\nlocation: (29, 1), actual: 98, expected: 97\r\nlocation: (23, 2), actual: 135, expected: 134\r\nlocation: (10, 3), actual: 190, expected: 189\r\nlocation: (0, 5), actual: 201, expected: 200\r\nlocation: (5, 5), actual: 198, expected: 197 ', tests\\regression.rs:123:9\r\n\r\n---- test_sobel_gradients stdout ----\r\nthread 'test_sobel_gradients' panicked at 'pixels do not match.\r\n\r\nlocation: (78, 135), actual: 31, expected: 30\r\nlocation: (79, 135), actual: 31, expected: 29\r\nlocation: (80, 135), actual: 57, expected: 55\r\nlocation: (78, 136), actual: 69, expected: 67\r\nlocation: (80, 136), actual: 41, expected: 39 ', tests\\regression.rs:123:9\r\n\r\n\r\nfailures:\r\n    test_gaussian_blur_stdev_10\r\n    test_gaussian_blur_stdev_3\r\n    test_match_histograms\r\n    test_sobel_gradients\r\n\r\ntest result: FAILED. 23 passed; 4 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n```\r\n\r\n</details>\r\n\r\n#### cf3bec110997a1d412ad67ec61be32bcca2a7693\r\n\r\nI noticed that I added the bound but it wasn't needed due to `Enlargeable` not being added to the Luma color define macro definitions in `image`.", "reactions": {"url": "https://api.github.com/repos/image-rs/imageproc/issues/491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/image-rs/imageproc/issues/491/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/image-rs/imageproc/issues/477", "repository_url": "https://api.github.com/repos/image-rs/imageproc", "labels_url": "https://api.github.com/repos/image-rs/imageproc/issues/477/labels{/name}", "comments_url": "https://api.github.com/repos/image-rs/imageproc/issues/477/comments", "events_url": "https://api.github.com/repos/image-rs/imageproc/issues/477/events", "html_url": "https://github.com/image-rs/imageproc/pull/477", "id": 1064750740, "node_id": "PR_kwDOApQR7c4vErTg", "number": 477, "title": "Bump dependencies", "user": {"login": "paolobarbolini", "id": 6215781, "node_id": "MDQ6VXNlcjYyMTU3ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/6215781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paolobarbolini", "html_url": "https://github.com/paolobarbolini", "followers_url": "https://api.github.com/users/paolobarbolini/followers", "following_url": "https://api.github.com/users/paolobarbolini/following{/other_user}", "gists_url": "https://api.github.com/users/paolobarbolini/gists{/gist_id}", "starred_url": "https://api.github.com/users/paolobarbolini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paolobarbolini/subscriptions", "organizations_url": "https://api.github.com/users/paolobarbolini/orgs", "repos_url": "https://api.github.com/users/paolobarbolini/repos", "events_url": "https://api.github.com/users/paolobarbolini/events{/privacy}", "received_events_url": "https://api.github.com/users/paolobarbolini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-26T18:53:47Z", "updated_at": "2022-01-03T00:05:48Z", "closed_at": "2022-01-03T00:05:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/image-rs/imageproc/pulls/477", "html_url": "https://github.com/image-rs/imageproc/pull/477", "diff_url": "https://github.com/image-rs/imageproc/pull/477.diff", "patch_url": "https://github.com/image-rs/imageproc/pull/477.patch", "merged_at": "2022-01-03T00:05:40Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/image-rs/imageproc/issues/477/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/image-rs/imageproc/issues/477/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/image-rs/imageproc/issues/417", "repository_url": "https://api.github.com/repos/image-rs/imageproc", "labels_url": "https://api.github.com/repos/image-rs/imageproc/issues/417/labels{/name}", "comments_url": "https://api.github.com/repos/image-rs/imageproc/issues/417/comments", "events_url": "https://api.github.com/repos/image-rs/imageproc/issues/417/events", "html_url": "https://github.com/image-rs/imageproc/pull/417", "id": 628914421, "node_id": "MDExOlB1bGxSZXF1ZXN0NDI2MzYwODYw", "number": 417, "title": "Switch from rulinalg to nalgebra for SVD", "user": {"login": "Palladinium", "id": 3919824, "node_id": "MDQ6VXNlcjM5MTk4MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3919824?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Palladinium", "html_url": "https://github.com/Palladinium", "followers_url": "https://api.github.com/users/Palladinium/followers", "following_url": "https://api.github.com/users/Palladinium/following{/other_user}", "gists_url": "https://api.github.com/users/Palladinium/gists{/gist_id}", "starred_url": "https://api.github.com/users/Palladinium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Palladinium/subscriptions", "organizations_url": "https://api.github.com/users/Palladinium/orgs", "repos_url": "https://api.github.com/users/Palladinium/repos", "events_url": "https://api.github.com/users/Palladinium/events{/privacy}", "received_events_url": "https://api.github.com/users/Palladinium/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-02T05:34:52Z", "updated_at": "2021-10-03T12:07:30Z", "closed_at": "2021-10-03T08:10:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/image-rs/imageproc/pulls/417", "html_url": "https://github.com/image-rs/imageproc/pull/417", "diff_url": "https://github.com/image-rs/imageproc/pull/417.diff", "patch_url": "https://github.com/image-rs/imageproc/pull/417.patch", "merged_at": "2021-10-03T08:10:35Z"}, "body": "Fixes #412\r\n\r\nThis is working fine on a private project, but I don't know much about linear algebra and there aren't nearly enough test cases to ensure this doesn't break a bunch of stuff, so someone who's more knowledgeable should double check this.", "reactions": {"url": "https://api.github.com/repos/image-rs/imageproc/issues/417/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/image-rs/imageproc/issues/417/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/image-rs/imageproc/issues/491", "repository_url": "https://api.github.com/repos/image-rs/imageproc", "labels_url": "https://api.github.com/repos/image-rs/imageproc/issues/491/labels{/name}", "comments_url": "https://api.github.com/repos/image-rs/imageproc/issues/491/comments", "events_url": "https://api.github.com/repos/image-rs/imageproc/issues/491/events", "html_url": "https://github.com/image-rs/imageproc/pull/491", "id": 1155319691, "node_id": "PR_kwDOApQR7c4zulKC", "number": 491, "title": "Update `image` to 0.24", "user": {"login": "okaneco", "id": 47607823, "node_id": "MDQ6VXNlcjQ3NjA3ODIz", "avatar_url": "https://avatars.githubusercontent.com/u/47607823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/okaneco", "html_url": "https://github.com/okaneco", "followers_url": "https://api.github.com/users/okaneco/followers", "following_url": "https://api.github.com/users/okaneco/following{/other_user}", "gists_url": "https://api.github.com/users/okaneco/gists{/gist_id}", "starred_url": "https://api.github.com/users/okaneco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/okaneco/subscriptions", "organizations_url": "https://api.github.com/users/okaneco/orgs", "repos_url": "https://api.github.com/users/okaneco/repos", "events_url": "https://api.github.com/users/okaneco/events{/privacy}", "received_events_url": "https://api.github.com/users/okaneco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-01T13:07:08Z", "updated_at": "2022-03-01T16:10:07Z", "closed_at": "2022-03-01T16:02:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/image-rs/imageproc/pulls/491", "html_url": "https://github.com/image-rs/imageproc/pull/491", "diff_url": "https://github.com/image-rs/imageproc/pull/491.diff", "patch_url": "https://github.com/image-rs/imageproc/pull/491.patch", "merged_at": "2022-03-01T16:02:35Z"}, "body": "I've broken out the commits to hopefully make it easier for review.\r\n\r\nCloses #485\r\n\r\n---\r\n\r\n#### 3f2f0979c663ff8e32e71a95b19f3a3710bed582, 9fb0ea387421b642f589fe683f68fed744853496\r\n\r\n**`image` 0.24 removes the `Bgr` and `Bgra` pixel types** https://github.com/image-rs/image/pull/1482\r\n\r\n`'static` was largely removed from traits and impl bounds so it's removed here https://github.com/image-rs/image/pull/1597\r\n\r\n#### e501161e40d33b8d6079b91dafbeb82343b12410\r\n\r\n_Main bulk of changes for migration work_\r\n\r\nSome trait bounds needed to be added to `src/integral_image.rs` and `src/map.rs` functions since a sealed trait `Enlargeable` was added to the `Rgb`/`Rgba` definitions https://github.com/image-rs/image/pull/1651\r\n\r\nThe following seems to satisfy the requirements.\r\n\r\n```rust\r\n    Rgba<T>: Pixel<Subpixel = T>,\r\n    T: Primitive,\r\n```\r\n\r\n#### 2a3c5c0010487570bd07903ba2e7446eaf2357af\r\n\r\n`GenericImage::get_pixel_mut` is deprecated in 0.24 so I've replaced the two occurrences of it.\r\n\r\n#### 61f4863003dd2b1165098e537a92820a15b29196\r\n\r\nReplaced regression truth image files.\r\n\r\n4 regression tests failed likely due to changes made in `Luma` calculation to minimize floating point errors https://github.com/image-rs/image/issues/1214.  \r\nThe failure error output can be read below in the contracted view. The differences are fairly small.\r\n\r\n27 of the files changed are truth files from regression tests being regenerated. In `test_match_histograms`, the center pixel at (177, 170) doesn't match.\r\n\r\n<details>\r\n<summary><b>Failed regression tests</b></summary>\r\n\r\n```bash\r\nfailures:\r\n\r\n---- test_gaussian_blur_stdev_3 stdout ----\r\nthread 'test_gaussian_blur_stdev_3' panicked at 'pixels do not match.\r\n\r\nlocation: (13, 6), actual: 209, expected: 208\r\nlocation: (13, 7), actual: 210, expected: 209\r\nlocation: (11, 10), actual: 212, expected: 211\r\nlocation: (13, 10), actual: 212, expected: 211\r\nlocation: (0, 11), actual: 213, expected: 212 ', tests\\regression.rs:123:9\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\n\r\n---- test_match_histograms stdout ----\r\nthread 'test_match_histograms' panicked at 'pixels do not match.\r\nActual:\r\n        175  176  177  178  179\r\n     +--------------------------\r\n     |\r\n  168|  102  150  150  156  165\r\n     |\r\n  169|   29   54   67   85  110\r\n     |\r\n  170|   31   58   75  106  126\r\n     |\r\n  171|   28   40   54   85   97\r\n     |\r\n  172|   47   50   62   75   75\r\n     |\r\nExpected:\r\n        175  176  177  178  179\r\n     +--------------------------\r\n     |\r\n  168|  102  150  150  156  165\r\n     |\r\n  169|   29   54   67   85  110\r\n     |\r\n  170|   31   58   71  106  126\r\n     |\r\n  171|   28   40   54   85   97\r\n     |\r\n  172|   47   50   62   75   75\r\n     |\r\n', tests\\regression.rs:123:9\r\n\r\n---- test_gaussian_blur_stdev_10 stdout ----\r\nthread 'test_gaussian_blur_stdev_10' panicked at 'pixels do not match.\r\n\r\nlocation: (29, 1), actual: 98, expected: 97\r\nlocation: (23, 2), actual: 135, expected: 134\r\nlocation: (10, 3), actual: 190, expected: 189\r\nlocation: (0, 5), actual: 201, expected: 200\r\nlocation: (5, 5), actual: 198, expected: 197 ', tests\\regression.rs:123:9\r\n\r\n---- test_sobel_gradients stdout ----\r\nthread 'test_sobel_gradients' panicked at 'pixels do not match.\r\n\r\nlocation: (78, 135), actual: 31, expected: 30\r\nlocation: (79, 135), actual: 31, expected: 29\r\nlocation: (80, 135), actual: 57, expected: 55\r\nlocation: (78, 136), actual: 69, expected: 67\r\nlocation: (80, 136), actual: 41, expected: 39 ', tests\\regression.rs:123:9\r\n\r\n\r\nfailures:\r\n    test_gaussian_blur_stdev_10\r\n    test_gaussian_blur_stdev_3\r\n    test_match_histograms\r\n    test_sobel_gradients\r\n\r\ntest result: FAILED. 23 passed; 4 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n```\r\n\r\n</details>\r\n\r\n#### cf3bec110997a1d412ad67ec61be32bcca2a7693\r\n\r\nI noticed that I added the bound but it wasn't needed due to `Enlargeable` not being added to the Luma color define macro definitions in `image`.", "reactions": {"url": "https://api.github.com/repos/image-rs/imageproc/issues/491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/image-rs/imageproc/issues/491/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/image-rs/imageproc/pulls/491", "id": 867848834, "node_id": "PR_kwDOApQR7c4zulKC", "html_url": "https://github.com/image-rs/imageproc/pull/491", "diff_url": "https://github.com/image-rs/imageproc/pull/491.diff", "patch_url": "https://github.com/image-rs/imageproc/pull/491.patch", "issue_url": "https://api.github.com/repos/image-rs/imageproc/issues/491", "number": 491, "state": "closed", "locked": false, "title": "Update `image` to 0.24", "user": {"login": "okaneco", "id": 47607823, "node_id": "MDQ6VXNlcjQ3NjA3ODIz", "avatar_url": "https://avatars.githubusercontent.com/u/47607823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/okaneco", "html_url": "https://github.com/okaneco", "followers_url": "https://api.github.com/users/okaneco/followers", "following_url": "https://api.github.com/users/okaneco/following{/other_user}", "gists_url": "https://api.github.com/users/okaneco/gists{/gist_id}", "starred_url": "https://api.github.com/users/okaneco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/okaneco/subscriptions", "organizations_url": "https://api.github.com/users/okaneco/orgs", "repos_url": "https://api.github.com/users/okaneco/repos", "events_url": "https://api.github.com/users/okaneco/events{/privacy}", "received_events_url": "https://api.github.com/users/okaneco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "I've broken out the commits to hopefully make it easier for review.\r\n\r\nCloses #485\r\n\r\n---\r\n\r\n#### 3f2f0979c663ff8e32e71a95b19f3a3710bed582, 9fb0ea387421b642f589fe683f68fed744853496\r\n\r\n**`image` 0.24 removes the `Bgr` and `Bgra` pixel types** https://github.com/image-rs/image/pull/1482\r\n\r\n`'static` was largely removed from traits and impl bounds so it's removed here https://github.com/image-rs/image/pull/1597\r\n\r\n#### e501161e40d33b8d6079b91dafbeb82343b12410\r\n\r\n_Main bulk of changes for migration work_\r\n\r\nSome trait bounds needed to be added to `src/integral_image.rs` and `src/map.rs` functions since a sealed trait `Enlargeable` was added to the `Rgb`/`Rgba` definitions https://github.com/image-rs/image/pull/1651\r\n\r\nThe following seems to satisfy the requirements.\r\n\r\n```rust\r\n    Rgba<T>: Pixel<Subpixel = T>,\r\n    T: Primitive,\r\n```\r\n\r\n#### 2a3c5c0010487570bd07903ba2e7446eaf2357af\r\n\r\n`GenericImage::get_pixel_mut` is deprecated in 0.24 so I've replaced the two occurrences of it.\r\n\r\n#### 61f4863003dd2b1165098e537a92820a15b29196\r\n\r\nReplaced regression truth image files.\r\n\r\n4 regression tests failed likely due to changes made in `Luma` calculation to minimize floating point errors https://github.com/image-rs/image/issues/1214.  \r\nThe failure error output can be read below in the contracted view. The differences are fairly small.\r\n\r\n27 of the files changed are truth files from regression tests being regenerated. In `test_match_histograms`, the center pixel at (177, 170) doesn't match.\r\n\r\n<details>\r\n<summary><b>Failed regression tests</b></summary>\r\n\r\n```bash\r\nfailures:\r\n\r\n---- test_gaussian_blur_stdev_3 stdout ----\r\nthread 'test_gaussian_blur_stdev_3' panicked at 'pixels do not match.\r\n\r\nlocation: (13, 6), actual: 209, expected: 208\r\nlocation: (13, 7), actual: 210, expected: 209\r\nlocation: (11, 10), actual: 212, expected: 211\r\nlocation: (13, 10), actual: 212, expected: 211\r\nlocation: (0, 11), actual: 213, expected: 212 ', tests\\regression.rs:123:9\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\n\r\n---- test_match_histograms stdout ----\r\nthread 'test_match_histograms' panicked at 'pixels do not match.\r\nActual:\r\n        175  176  177  178  179\r\n     +--------------------------\r\n     |\r\n  168|  102  150  150  156  165\r\n     |\r\n  169|   29   54   67   85  110\r\n     |\r\n  170|   31   58   75  106  126\r\n     |\r\n  171|   28   40   54   85   97\r\n     |\r\n  172|   47   50   62   75   75\r\n     |\r\nExpected:\r\n        175  176  177  178  179\r\n     +--------------------------\r\n     |\r\n  168|  102  150  150  156  165\r\n     |\r\n  169|   29   54   67   85  110\r\n     |\r\n  170|   31   58   71  106  126\r\n     |\r\n  171|   28   40   54   85   97\r\n     |\r\n  172|   47   50   62   75   75\r\n     |\r\n', tests\\regression.rs:123:9\r\n\r\n---- test_gaussian_blur_stdev_10 stdout ----\r\nthread 'test_gaussian_blur_stdev_10' panicked at 'pixels do not match.\r\n\r\nlocation: (29, 1), actual: 98, expected: 97\r\nlocation: (23, 2), actual: 135, expected: 134\r\nlocation: (10, 3), actual: 190, expected: 189\r\nlocation: (0, 5), actual: 201, expected: 200\r\nlocation: (5, 5), actual: 198, expected: 197 ', tests\\regression.rs:123:9\r\n\r\n---- test_sobel_gradients stdout ----\r\nthread 'test_sobel_gradients' panicked at 'pixels do not match.\r\n\r\nlocation: (78, 135), actual: 31, expected: 30\r\nlocation: (79, 135), actual: 31, expected: 29\r\nlocation: (80, 135), actual: 57, expected: 55\r\nlocation: (78, 136), actual: 69, expected: 67\r\nlocation: (80, 136), actual: 41, expected: 39 ', tests\\regression.rs:123:9\r\n\r\n\r\nfailures:\r\n    test_gaussian_blur_stdev_10\r\n    test_gaussian_blur_stdev_3\r\n    test_match_histograms\r\n    test_sobel_gradients\r\n\r\ntest result: FAILED. 23 passed; 4 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n```\r\n\r\n</details>\r\n\r\n#### cf3bec110997a1d412ad67ec61be32bcca2a7693\r\n\r\nI noticed that I added the bound but it wasn't needed due to `Enlargeable` not being added to the Luma color define macro definitions in `image`.", "created_at": "2022-03-01T13:07:08Z", "updated_at": "2022-03-01T16:10:07Z", "closed_at": "2022-03-01T16:02:35Z", "merged_at": "2022-03-01T16:02:35Z", "merge_commit_sha": "b7942657b1a370fc485507693ed4df1f8a116cb7", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/image-rs/imageproc/pulls/491/commits", "review_comments_url": "https://api.github.com/repos/image-rs/imageproc/pulls/491/comments", "review_comment_url": "https://api.github.com/repos/image-rs/imageproc/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/image-rs/imageproc/issues/491/comments", "statuses_url": "https://api.github.com/repos/image-rs/imageproc/statuses/cf3bec110997a1d412ad67ec61be32bcca2a7693", "head": {"label": "okaneco:update-image024", "ref": "update-image024", "sha": "cf3bec110997a1d412ad67ec61be32bcca2a7693", "user": {"login": "okaneco", "id": 47607823, "node_id": "MDQ6VXNlcjQ3NjA3ODIz", "avatar_url": "https://avatars.githubusercontent.com/u/47607823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/okaneco", "html_url": "https://github.com/okaneco", "followers_url": "https://api.github.com/users/okaneco/followers", "following_url": "https://api.github.com/users/okaneco/following{/other_user}", "gists_url": "https://api.github.com/users/okaneco/gists{/gist_id}", "starred_url": "https://api.github.com/users/okaneco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/okaneco/subscriptions", "organizations_url": "https://api.github.com/users/okaneco/orgs", "repos_url": "https://api.github.com/users/okaneco/repos", "events_url": "https://api.github.com/users/okaneco/events{/privacy}", "received_events_url": "https://api.github.com/users/okaneco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 464863477, "node_id": "R_kgDOG7VA9Q", "name": "imageproc", "full_name": "okaneco/imageproc", "private": false, "owner": {"login": "okaneco", "id": 47607823, "node_id": "MDQ6VXNlcjQ3NjA3ODIz", "avatar_url": "https://avatars.githubusercontent.com/u/47607823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/okaneco", "html_url": "https://github.com/okaneco", "followers_url": "https://api.github.com/users/okaneco/followers", "following_url": "https://api.github.com/users/okaneco/following{/other_user}", "gists_url": "https://api.github.com/users/okaneco/gists{/gist_id}", "starred_url": "https://api.github.com/users/okaneco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/okaneco/subscriptions", "organizations_url": "https://api.github.com/users/okaneco/orgs", "repos_url": "https://api.github.com/users/okaneco/repos", "events_url": "https://api.github.com/users/okaneco/events{/privacy}", "received_events_url": "https://api.github.com/users/okaneco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/okaneco/imageproc", "description": "Image processing operations", "fork": true, "url": "https://api.github.com/repos/okaneco/imageproc", "forks_url": "https://api.github.com/repos/okaneco/imageproc/forks", "keys_url": "https://api.github.com/repos/okaneco/imageproc/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/okaneco/imageproc/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/okaneco/imageproc/teams", "hooks_url": "https://api.github.com/repos/okaneco/imageproc/hooks", "issue_events_url": "https://api.github.com/repos/okaneco/imageproc/issues/events{/number}", "events_url": "https://api.github.com/repos/okaneco/imageproc/events", "assignees_url": "https://api.github.com/repos/okaneco/imageproc/assignees{/user}", "branches_url": "https://api.github.com/repos/okaneco/imageproc/branches{/branch}", "tags_url": "https://api.github.com/repos/okaneco/imageproc/tags", "blobs_url": "https://api.github.com/repos/okaneco/imageproc/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/okaneco/imageproc/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/okaneco/imageproc/git/refs{/sha}", "trees_url": "https://api.github.com/repos/okaneco/imageproc/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/okaneco/imageproc/statuses/{sha}", "languages_url": "https://api.github.com/repos/okaneco/imageproc/languages", "stargazers_url": "https://api.github.com/repos/okaneco/imageproc/stargazers", "contributors_url": "https://api.github.com/repos/okaneco/imageproc/contributors", "subscribers_url": "https://api.github.com/repos/okaneco/imageproc/subscribers", "subscription_url": "https://api.github.com/repos/okaneco/imageproc/subscription", "commits_url": "https://api.github.com/repos/okaneco/imageproc/commits{/sha}", "git_commits_url": "https://api.github.com/repos/okaneco/imageproc/git/commits{/sha}", "comments_url": "https://api.github.com/repos/okaneco/imageproc/comments{/number}", "issue_comment_url": "https://api.github.com/repos/okaneco/imageproc/issues/comments{/number}", "contents_url": "https://api.github.com/repos/okaneco/imageproc/contents/{+path}", "compare_url": "https://api.github.com/repos/okaneco/imageproc/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/okaneco/imageproc/merges", "archive_url": "https://api.github.com/repos/okaneco/imageproc/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/okaneco/imageproc/downloads", "issues_url": "https://api.github.com/repos/okaneco/imageproc/issues{/number}", "pulls_url": "https://api.github.com/repos/okaneco/imageproc/pulls{/number}", "milestones_url": "https://api.github.com/repos/okaneco/imageproc/milestones{/number}", "notifications_url": "https://api.github.com/repos/okaneco/imageproc/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/okaneco/imageproc/labels{/name}", "releases_url": "https://api.github.com/repos/okaneco/imageproc/releases{/id}", "deployments_url": "https://api.github.com/repos/okaneco/imageproc/deployments", "created_at": "2022-03-01T11:21:20Z", "updated_at": "2022-02-28T17:39:49Z", "pushed_at": "2022-03-01T16:10:07Z", "git_url": "git://github.com/okaneco/imageproc.git", "ssh_url": "git@github.com:okaneco/imageproc.git", "clone_url": "https://github.com/okaneco/imageproc.git", "svn_url": "https://github.com/okaneco/imageproc", "homepage": null, "size": 3145, "stargazers_count": 0, "watchers_count": 0, "language": null, "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "mit", "name": "MIT License", "spdx_id": "MIT", "url": "https://api.github.com/licenses/mit", "node_id": "MDc6TGljZW5zZTEz"}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "image-rs:master", "ref": "master", "sha": "cd5f49737717c574861055db052a73349ffc60d1", "user": {"login": "image-rs", "id": 49300799, "node_id": "MDEyOk9yZ2FuaXphdGlvbjQ5MzAwNzk5", "avatar_url": "https://avatars.githubusercontent.com/u/49300799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/image-rs", "html_url": "https://github.com/image-rs", "followers_url": "https://api.github.com/users/image-rs/followers", "following_url": "https://api.github.com/users/image-rs/following{/other_user}", "gists_url": "https://api.github.com/users/image-rs/gists{/gist_id}", "starred_url": "https://api.github.com/users/image-rs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/image-rs/subscriptions", "organizations_url": "https://api.github.com/users/image-rs/orgs", "repos_url": "https://api.github.com/users/image-rs/repos", "events_url": "https://api.github.com/users/image-rs/events{/privacy}", "received_events_url": "https://api.github.com/users/image-rs/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 43258349, "node_id": "MDEwOlJlcG9zaXRvcnk0MzI1ODM0OQ==", "name": "imageproc", "full_name": "image-rs/imageproc", "private": false, "owner": {"login": "image-rs", "id": 49300799, "node_id": "MDEyOk9yZ2FuaXphdGlvbjQ5MzAwNzk5", "avatar_url": "https://avatars.githubusercontent.com/u/49300799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/image-rs", "html_url": "https://github.com/image-rs", "followers_url": "https://api.github.com/users/image-rs/followers", "following_url": "https://api.github.com/users/image-rs/following{/other_user}", "gists_url": "https://api.github.com/users/image-rs/gists{/gist_id}", "starred_url": "https://api.github.com/users/image-rs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/image-rs/subscriptions", "organizations_url": "https://api.github.com/users/image-rs/orgs", "repos_url": "https://api.github.com/users/image-rs/repos", "events_url": "https://api.github.com/users/image-rs/events{/privacy}", "received_events_url": "https://api.github.com/users/image-rs/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/image-rs/imageproc", "description": "Image processing operations", "fork": false, "url": "https://api.github.com/repos/image-rs/imageproc", "forks_url": "https://api.github.com/repos/image-rs/imageproc/forks", "keys_url": "https://api.github.com/repos/image-rs/imageproc/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/image-rs/imageproc/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/image-rs/imageproc/teams", "hooks_url": "https://api.github.com/repos/image-rs/imageproc/hooks", "issue_events_url": "https://api.github.com/repos/image-rs/imageproc/issues/events{/number}", "events_url": "https://api.github.com/repos/image-rs/imageproc/events", "assignees_url": "https://api.github.com/repos/image-rs/imageproc/assignees{/user}", "branches_url": "https://api.github.com/repos/image-rs/imageproc/branches{/branch}", "tags_url": "https://api.github.com/repos/image-rs/imageproc/tags", "blobs_url": "https://api.github.com/repos/image-rs/imageproc/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/image-rs/imageproc/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/image-rs/imageproc/git/refs{/sha}", "trees_url": "https://api.github.com/repos/image-rs/imageproc/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/image-rs/imageproc/statuses/{sha}", "languages_url": "https://api.github.com/repos/image-rs/imageproc/languages", "stargazers_url": "https://api.github.com/repos/image-rs/imageproc/stargazers", "contributors_url": "https://api.github.com/repos/image-rs/imageproc/contributors", "subscribers_url": "https://api.github.com/repos/image-rs/imageproc/subscribers", "subscription_url": "https://api.github.com/repos/image-rs/imageproc/subscription", "commits_url": "https://api.github.com/repos/image-rs/imageproc/commits{/sha}", "git_commits_url": "https://api.github.com/repos/image-rs/imageproc/git/commits{/sha}", "comments_url": "https://api.github.com/repos/image-rs/imageproc/comments{/number}", "issue_comment_url": "https://api.github.com/repos/image-rs/imageproc/issues/comments{/number}", "contents_url": "https://api.github.com/repos/image-rs/imageproc/contents/{+path}", "compare_url": "https://api.github.com/repos/image-rs/imageproc/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/image-rs/imageproc/merges", "archive_url": "https://api.github.com/repos/image-rs/imageproc/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/image-rs/imageproc/downloads", "issues_url": "https://api.github.com/repos/image-rs/imageproc/issues{/number}", "pulls_url": "https://api.github.com/repos/image-rs/imageproc/pulls{/number}", "milestones_url": "https://api.github.com/repos/image-rs/imageproc/milestones{/number}", "notifications_url": "https://api.github.com/repos/image-rs/imageproc/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/image-rs/imageproc/labels{/name}", "releases_url": "https://api.github.com/repos/image-rs/imageproc/releases{/id}", "deployments_url": "https://api.github.com/repos/image-rs/imageproc/deployments", "created_at": "2015-09-27T18:11:32Z", "updated_at": "2026-01-20T20:09:46Z", "pushed_at": "2026-01-20T20:09:02Z", "git_url": "git://github.com/image-rs/imageproc.git", "ssh_url": "git@github.com:image-rs/imageproc.git", "clone_url": "https://github.com/image-rs/imageproc.git", "svn_url": "https://github.com/image-rs/imageproc", "homepage": null, "size": 6530, "stargazers_count": 923, "watchers_count": 923, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 169, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 77, "license": {"key": "mit", "name": "MIT License", "spdx_id": "MIT", "url": "https://api.github.com/licenses/mit", "node_id": "MDc6TGljZW5zZTEz"}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["image-processing", "imageproc", "rust-library"], "visibility": "public", "forks": 169, "open_issues": 77, "watchers": 923, "default_branch": "main"}}, "_links": {"self": {"href": "https://api.github.com/repos/image-rs/imageproc/pulls/491"}, "html": {"href": "https://github.com/image-rs/imageproc/pull/491"}, "issue": {"href": "https://api.github.com/repos/image-rs/imageproc/issues/491"}, "comments": {"href": "https://api.github.com/repos/image-rs/imageproc/issues/491/comments"}, "review_comments": {"href": "https://api.github.com/repos/image-rs/imageproc/pulls/491/comments"}, "review_comment": {"href": "https://api.github.com/repos/image-rs/imageproc/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/image-rs/imageproc/pulls/491/commits"}, "statuses": {"href": "https://api.github.com/repos/image-rs/imageproc/statuses/cf3bec110997a1d412ad67ec61be32bcca2a7693"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": false, "rebaseable": false, "mergeable_state": "dirty", "merged_by": {"login": "theotherphil", "id": 1974256, "node_id": "MDQ6VXNlcjE5NzQyNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1974256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theotherphil", "html_url": "https://github.com/theotherphil", "followers_url": "https://api.github.com/users/theotherphil/followers", "following_url": "https://api.github.com/users/theotherphil/following{/other_user}", "gists_url": "https://api.github.com/users/theotherphil/gists{/gist_id}", "starred_url": "https://api.github.com/users/theotherphil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theotherphil/subscriptions", "organizations_url": "https://api.github.com/users/theotherphil/orgs", "repos_url": "https://api.github.com/users/theotherphil/repos", "events_url": "https://api.github.com/users/theotherphil/events{/privacy}", "received_events_url": "https://api.github.com/users/theotherphil/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 2, "review_comments": 0, "maintainer_can_modify": false, "commits": 6, "additions": 132, "deletions": 161, "changed_files": 54}}