{"window": ["2018-07-19T21:37:12.247713+00:00", "2020-09-06T20:47:37.574958+00:00"], "repo_slug": "amethyst/legion", "candidates": [{"url": "https://api.github.com/repos/amethyst/legion/issues/167", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/167/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/167/events", "html_url": "https://github.com/amethyst/legion/pull/167", "id": 669766529, "node_id": "MDExOlB1bGxSZXF1ZXN0NDYwMTAwNjk5", "number": 167, "title": "Fix compilation to wasm: the Uuid::new_v4() function is not found", "user": {"login": "tuzz", "id": 892251, "node_id": "MDQ6VXNlcjg5MjI1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/892251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tuzz", "html_url": "https://github.com/tuzz", "followers_url": "https://api.github.com/users/tuzz/followers", "following_url": "https://api.github.com/users/tuzz/following{/other_user}", "gists_url": "https://api.github.com/users/tuzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tuzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tuzz/subscriptions", "organizations_url": "https://api.github.com/users/tuzz/orgs", "repos_url": "https://api.github.com/users/tuzz/repos", "events_url": "https://api.github.com/users/tuzz/events{/privacy}", "received_events_url": "https://api.github.com/users/tuzz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-31T12:29:16Z", "updated_at": "2020-08-03T11:37:05Z", "closed_at": "2020-07-31T16:10:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/167", "html_url": "https://github.com/amethyst/legion/pull/167", "diff_url": "https://github.com/amethyst/legion/pull/167.diff", "patch_url": "https://github.com/amethyst/legion/pull/167.patch", "merged_at": "2020-07-31T16:10:39Z"}, "body": "Legion uses the Uuid::new_v4 function in `src/internals/entity.rs` and it\r\ncorrectly depends on the uuid crate with feature 'v4' enabled. However,\r\nfor wasm targets you must additionally enable either the stdweb or\r\nwasm-bindgen feature on that crate: https://github.com/uuid-rs/uuid#dependencies\r\n\r\nTherefore, re-export those features so they may be enabled by downstream\r\nlibraries/binaries that target wasm and use this crate.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/167/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/167/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/166", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/166/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/166/events", "html_url": "https://github.com/amethyst/legion/pull/166", "id": 667817002, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU4NDE1OTIy", "number": 166, "title": "Allow !Sync resources to be stored in Resources", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-29T12:45:52Z", "updated_at": "2020-07-31T21:19:16Z", "closed_at": "2020-07-31T21:19:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/166", "html_url": "https://github.com/amethyst/legion/pull/166", "diff_url": "https://github.com/amethyst/legion/pull/166.diff", "patch_url": "https://github.com/amethyst/legion/pull/166.patch", "merged_at": "2020-07-31T21:19:13Z"}, "body": "Resources which are !Sync can now be stored inside Resources collections. Systems which attempt to access such resources will themselves be marked as !Sync and cannot be scheduled via `add_system`, but must be scheduled as thread-local via `add_thread_local`.\r\n\r\nThis is a breaking change as `Resources` is now no longer `Send` or `Sync`, as it may own resources which themselves need to stay on the main thread.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/166/reactions", "total_count": 4, "+1": 0, "-1": 0, "laugh": 0, "hooray": 4, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/166/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/165", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/165/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/165/events", "html_url": "https://github.com/amethyst/legion/pull/165", "id": 666056273, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU2OTY2ODA2", "number": 165, "title": "#[system] procedural macro", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-27T07:27:47Z", "updated_at": "2020-07-31T17:37:58Z", "closed_at": "2020-07-31T17:37:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/165", "html_url": "https://github.com/amethyst/legion/pull/165", "diff_url": "https://github.com/amethyst/legion/pull/165.diff", "patch_url": "https://github.com/amethyst/legion/pull/165.patch", "merged_at": "2020-07-31T17:37:54Z"}, "body": "This PR adds a `#[system]` procedural macro to legion, behind the \"codegen\" feature flag (enabled by default), which generates the code dealing with manually constructing systems with the `SystemBuilder` API, as discussed in #31. The function maked with the attribute is left as-is, so auto-complete and other IDE tooling continue to function as normal.\r\n\r\nTo copy and paste the docs for the macro:\r\n\r\n## #[system]\r\nWraps a function in a system, and generates a new function which constructs that system.\r\n\r\nThere are three types of systems: simple (default), for_each and par_for_each. By default, the system macro will create a new function named `<attributed_fn_name>_system` which can be called to construct the system.\r\n\r\n### Examples\r\n\r\nBy default, the system function is called once when the system runs.\r\n\r\n```rust\r\n#[system]\r\nfn hello_world() {\r\n   println!(\"hello world\");\r\n}\r\n\r\nSchedule::builder()\r\n    .add_system(hello_world_system())\r\n    .build();\r\n```\r\n\r\nThe function can request resources with reference parameters marked with the #[resource] attribute.\r\n\r\n```rust\r\n#[system]\r\nfn hello_world(#[resource] person: &Person) {\r\n   println!(\"hello, {}\", person.name);\r\n}\r\n```\r\n\r\nSystems can also request a world or command buffer.\r\n\r\n```rust\r\n#[system]\r\nfn create_entity(world: &mut SubWorld, cmd: &mut CommandBuffer) {\r\n   cmd.push((1usize, false, Person { name: \"Jane Doe\" }));\r\n}\r\n```\r\n\r\nSystems can declare access to component types with the #[read_component] and #[write_component] attributes.\r\n\r\n```rust\r\n#[system]\r\n#[read_component(usize)]\r\n#[write_component(bool)]\r\nfn run_query(world: &mut SubWorld) {\r\n    let mut query = <(Read<usize>, Write<bool>)>::query();\r\n    for (a, b) in query.iter_mut(world) {\r\n        println!(\"{} {}\", a, b);\r\n    }\r\n}\r\n```\r\n\r\nfor_each and par_for_each system types can be used to implement the query for you. References will be interpreted as Read<T> and Write<T>, while options of references (e.g. Option<&Position>) will be interpreted as TryRead<T> and TryWrite<T>. You can request the entity ID via a &Entity parameter.\r\n\r\n```rust\r\n#[system(for_each)]\r\nfn update_positions(pos: &mut Position, vel: &Velocity, #[resource] time: &Time) {\r\n    pos.x += vel.x * time.seconds;\r\n}\r\n```\r\n\r\nfor_each and par_for_each systems can request attitional filters for their query via the #[filter] attribute.\r\n\r\n```rust\r\n#[system(for_each)]\r\n#[filter(maybe_changed::<Position>())]\r\nfn update_positions(pos: &mut Position, vel: &Velocity, #[resource] time: &Time) {\r\n    pos.x += vel.x * time.seconds;\r\n}\r\n```\r\n\r\nSystems can contain their own state. Add a reference marked with the #[state] parameter to your function. This state will be initialized when you construct the system.\r\n\r\n```rust\r\n#[system]\r\nfn stateful(#[state] counter: &mut usize) {\r\n    *counter += 1;\r\n    println!(\"state: {}\", counter);\r\n}\r\n\r\nSchedule::builder()\r\n     // initialize state when you construct the system\r\n    .add_system(stateful_system(5usize))\r\n    .build();\r\n```\r\n\r\nSystems can contain generic parameters.\r\n\r\n```rust\r\n#[system(for_each)]\r\nfn print_component<T: Component + Debug>(component: &T) {\r\n    println!(\"{:?}\", component);\r\n}\r\n\r\nSchedule::builder()\r\n     // supply generic parameters when constructing the system\r\n    .add_system(print_component_system::<Position>())\r\n    .build();\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/165/reactions", "total_count": 20, "+1": 0, "-1": 0, "laugh": 0, "hooray": 11, "confused": 0, "heart": 9, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/165/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/147", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/147/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/147/events", "html_url": "https://github.com/amethyst/legion/pull/147", "id": 636204589, "node_id": "MDExOlB1bGxSZXF1ZXN0NDMyNDIxMDAy", "number": 147, "title": "Update derivative dependency to resolve Clippy's warnings.", "user": {"login": "pasviegas", "id": 177274, "node_id": "MDQ6VXNlcjE3NzI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/177274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pasviegas", "html_url": "https://github.com/pasviegas", "followers_url": "https://api.github.com/users/pasviegas/followers", "following_url": "https://api.github.com/users/pasviegas/following{/other_user}", "gists_url": "https://api.github.com/users/pasviegas/gists{/gist_id}", "starred_url": "https://api.github.com/users/pasviegas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pasviegas/subscriptions", "organizations_url": "https://api.github.com/users/pasviegas/orgs", "repos_url": "https://api.github.com/users/pasviegas/repos", "events_url": "https://api.github.com/users/pasviegas/events{/privacy}", "received_events_url": "https://api.github.com/users/pasviegas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-10T12:27:26Z", "updated_at": "2020-06-10T14:30:02Z", "closed_at": "2020-06-10T14:30:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/147", "html_url": "https://github.com/amethyst/legion/pull/147", "diff_url": "https://github.com/amethyst/legion/pull/147.diff", "patch_url": "https://github.com/amethyst/legion/pull/147.patch", "merged_at": "2020-06-10T14:30:02Z"}, "body": "Derivative fixed this issue last version 2.1.1. So updating the version should fix all the warnings in the CI.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/147/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/115", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/115/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/115/events", "html_url": "https://github.com/amethyst/legion/pull/115", "id": 577572141, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg1MzE4NDQ5", "number": 115, "title": "Experimental refactor in legion_experiment crate", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 36, "created_at": "2020-03-08T21:51:03Z", "updated_at": "2020-07-27T07:14:05Z", "closed_at": "2020-07-27T07:13:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/115", "html_url": "https://github.com/amethyst/legion/pull/115", "diff_url": "https://github.com/amethyst/legion/pull/115.diff", "patch_url": "https://github.com/amethyst/legion/pull/115.patch", "merged_at": "2020-07-27T07:13:48Z"}, "body": "This started as a simple refactor of legion into smaller sub-modules, as some of the module files were well over 1k LoC and were getting unmaintainable. However, while moving things around, I found some soundness issues and saw some opportunity to simplify things. Those in turn caused more changes downstream, and the simplifications made other improvements that I had been planning fairly trivial to implement. This ended up being a _much_ larger and more impactful refactor of the entire legion_core crate than I had originally planned. This work is not yet complete, but it is wide reaching enough that I want to give everyone the opportunity to see what I've been doing and collect some feedback.\r\n\r\nThe general changes are:\r\n * Much shorter module files, each with a more clearly defined scope.\r\n * Simpler code in general. I don't have a line count yet, but I expect this to have shaved a few hundred lines off the library overall.\r\n * Removed many uses of `unsafe`.\r\n\r\nChanges to `World` (which now more closely resembles a std collection):\r\n * Added `len` to retrieve entity count.\r\n * Renamed `insert` to `extend`.\r\n * Added `push` as sugar for inserting a single entity.\r\n * Renamed `delete` to `remove`.\r\n * Renamed `is_alive` to `contains`.\r\n * Added `entity(Entity) -> Entry` and `entity_mut(Entity) -> EntryMut` functions. Entries contain the APIs for interacting with a single entity. e.g. `get_component`, `add_component` and `layout` (which in turn offers `has_component` etc).\r\n * `iter` and `iter_mut` for iterating through all entity entries.\r\n * You can now insert with a tuple of component vecs, in addition to an iterator of component tuples. This is about 50% faster.\r\n\r\nChanges to storage:\r\n * Much clearer distinction between structural changes to storage (e.g. adding entities) and the interior mutability involved in accessing components.\r\n * Chunk metadata has been pulled out into a `LayoutIndex`.\r\n * The layout index is optimised for search and provides a `.search(EntityFilter) -> impl Iterator<Item = ArchetypeIndex>` function.\r\n * Renamed \"archetype\" to \"layout\".\r\n * Renamed \"chunk set\" to \"archetype\".\r\n * Storage now derefs into `[Archetype]` and can be indexed by `ArchetypeIndex`.\r\n * Chunks no longer free their internal memory when empty. Defrag now deletes empty chunks.\r\n * Event subscribers can ask to recieve initial creation/insertion events for pre-existing archetypes and entities when they subscribe.\r\n\r\nChanges to filters:\r\n * No longer implemented as iterators. This was a pain without GATs (it is the canonical streaming iterator problem).\r\n * Filters now only provide their matching logic.\r\n * Distinction made between stateless layout/archetype filters and stateful chunk filters.\r\n * Filters can now _cache their matches_ and incrementally update queries. System queries should do this by default in the future.\r\n\r\nIt is likely that `SystemQuery` won't be needed anymore, too.\r\n\r\nI don't forsee any more major API changes beyond completing this rework, and legion v1.0.0 will likely closely resemble this, after which things should stabilise and breaking changes will hopefully be rare.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/115/reactions", "total_count": 21, "+1": 13, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 8, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/115/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/106", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/106/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/106/events", "html_url": "https://github.com/amethyst/legion/pull/106", "id": 567068260, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc2NzYxNzMx", "number": 106, "title": "Updates all dependency crates to latest versions", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-18T18:10:25Z", "updated_at": "2020-03-04T23:10:16Z", "closed_at": "2020-03-04T23:10:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/106", "html_url": "https://github.com/amethyst/legion/pull/106", "diff_url": "https://github.com/amethyst/legion/pull/106.diff", "patch_url": "https://github.com/amethyst/legion/pull/106.patch", "merged_at": "2020-03-04T23:10:16Z"}, "body": "This updates all dependencies to their latest versions. Also changes a small point where explicit iterator types were used, I changed these to impl Iterators for easier usage.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/106/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/103", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/103/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/103/events", "html_url": "https://github.com/amethyst/legion/pull/103", "id": 566125834, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc1OTk3MDM2", "number": 103, "title": "Fire RemoveEntity events when a ComponentStorage is dropped", "user": {"login": "aclysma", "id": 316070, "node_id": "MDQ6VXNlcjMxNjA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aclysma", "html_url": "https://github.com/aclysma", "followers_url": "https://api.github.com/users/aclysma/followers", "following_url": "https://api.github.com/users/aclysma/following{/other_user}", "gists_url": "https://api.github.com/users/aclysma/gists{/gist_id}", "starred_url": "https://api.github.com/users/aclysma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aclysma/subscriptions", "organizations_url": "https://api.github.com/users/aclysma/orgs", "repos_url": "https://api.github.com/users/aclysma/repos", "events_url": "https://api.github.com/users/aclysma/events{/privacy}", "received_events_url": "https://api.github.com/users/aclysma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-17T08:12:23Z", "updated_at": "2020-03-05T00:20:13Z", "closed_at": "2020-03-05T00:20:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/103", "html_url": "https://github.com/amethyst/legion/pull/103", "diff_url": "https://github.com/amethyst/legion/pull/103.diff", "patch_url": "https://github.com/amethyst/legion/pull/103.patch", "merged_at": "2020-03-05T00:20:13Z"}, "body": "Not sure if you consider it a bug that the event doesn't fire if a world is dropped. I have another PR that adds support for deleting all entities. This change would ensure events fire in that case too.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/103/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/54", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/54/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/54/events", "html_url": "https://github.com/amethyst/legion/pull/54", "id": 537905450, "node_id": "MDExOlB1bGxSZXF1ZXN0MzUzMTY5NTkw", "number": 54, "title": "Remove unused shrinkwraprs dependency", "user": {"login": "repi", "id": 1262692, "node_id": "MDQ6VXNlcjEyNjI2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1262692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/repi", "html_url": "https://github.com/repi", "followers_url": "https://api.github.com/users/repi/followers", "following_url": "https://api.github.com/users/repi/following{/other_user}", "gists_url": "https://api.github.com/users/repi/gists{/gist_id}", "starred_url": "https://api.github.com/users/repi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/repi/subscriptions", "organizations_url": "https://api.github.com/users/repi/orgs", "repos_url": "https://api.github.com/users/repi/repos", "events_url": "https://api.github.com/users/repi/events{/privacy}", "received_events_url": "https://api.github.com/users/repi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-14T12:04:06Z", "updated_at": "2019-12-14T21:09:18Z", "closed_at": "2019-12-14T21:09:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/54", "html_url": "https://github.com/amethyst/legion/pull/54", "diff_url": "https://github.com/amethyst/legion/pull/54.diff", "patch_url": "https://github.com/amethyst/legion/pull/54.patch", "merged_at": "2019-12-14T21:09:18Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/54/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/54/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/53", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/53/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/53/events", "html_url": "https://github.com/amethyst/legion/pull/53", "id": 537905438, "node_id": "MDExOlB1bGxSZXF1ZXN0MzUzMTY5NTgz", "number": 53, "title": "Include only needed crossbeam dependencies", "user": {"login": "repi", "id": 1262692, "node_id": "MDQ6VXNlcjEyNjI2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1262692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/repi", "html_url": "https://github.com/repi", "followers_url": "https://api.github.com/users/repi/followers", "following_url": "https://api.github.com/users/repi/following{/other_user}", "gists_url": "https://api.github.com/users/repi/gists{/gist_id}", "starred_url": "https://api.github.com/users/repi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/repi/subscriptions", "organizations_url": "https://api.github.com/users/repi/orgs", "repos_url": "https://api.github.com/users/repi/repos", "events_url": "https://api.github.com/users/repi/events{/privacy}", "received_events_url": "https://api.github.com/users/repi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-14T12:03:57Z", "updated_at": "2019-12-16T08:49:21Z", "closed_at": "2019-12-16T03:27:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/53", "html_url": "https://github.com/amethyst/legion/pull/53", "diff_url": "https://github.com/amethyst/legion/pull/53.diff", "patch_url": "https://github.com/amethyst/legion/pull/53.patch", "merged_at": "2019-12-16T03:27:28Z"}, "body": "When building without `par-schedule` feature one only needs the crossbeam-channel crate, not all the other parts of crossbeam. \r\n\r\nThis reduces compile times when building with few features. We ran into this because we are building with `default-features = false` and wanted to reduce amount of dependencies and improve build times.\r\n\r\nAnd when building with that feature, we only additionally need crossbeam-queue. Although in practice in that case one gets rest of crossbeam due to rayon.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/53/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/53/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/51", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/51/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/51/events", "html_url": "https://github.com/amethyst/legion/pull/51", "id": 536504095, "node_id": "MDExOlB1bGxSZXF1ZXN0MzUyMDIyODc3", "number": 51, "title": "Change from HashMap to FxHashMap. ", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-11T17:09:40Z", "updated_at": "2019-12-13T05:39:56Z", "closed_at": "2019-12-13T05:39:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/51", "html_url": "https://github.com/amethyst/legion/pull/51", "diff_url": "https://github.com/amethyst/legion/pull/51.diff", "patch_url": "https://github.com/amethyst/legion/pull/51.patch", "merged_at": "2019-12-13T05:39:56Z"}, "body": "See https://github.com/cbreeden/fxhash for comparison of performance for our 8/12 byte keys", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/51/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/51/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/40", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/40/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/40/events", "html_url": "https://github.com/amethyst/legion/pull/40", "id": 524019982, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQxODc3NTQw", "number": 40, "title": "Serde support for World", "user": {"login": "kabergstrom", "id": 625207, "node_id": "MDQ6VXNlcjYyNTIwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/625207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kabergstrom", "html_url": "https://github.com/kabergstrom", "followers_url": "https://api.github.com/users/kabergstrom/followers", "following_url": "https://api.github.com/users/kabergstrom/following{/other_user}", "gists_url": "https://api.github.com/users/kabergstrom/gists{/gist_id}", "starred_url": "https://api.github.com/users/kabergstrom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kabergstrom/subscriptions", "organizations_url": "https://api.github.com/users/kabergstrom/orgs", "repos_url": "https://api.github.com/users/kabergstrom/repos", "events_url": "https://api.github.com/users/kabergstrom/events{/privacy}", "received_events_url": "https://api.github.com/users/kabergstrom/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-17T17:55:26Z", "updated_at": "2020-01-09T11:51:08Z", "closed_at": "2020-01-09T11:51:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/40", "html_url": "https://github.com/amethyst/legion/pull/40", "diff_url": "https://github.com/amethyst/legion/pull/40.diff", "patch_url": "https://github.com/amethyst/legion/pull/40.patch", "merged_at": "2020-01-09T11:51:08Z"}, "body": "This PR implements support for serde 1.0. Users implement `ser::WorldSerializer` and `de::WorldDeserializer` traits, where they have full control over how to serialize `ComponentTypeId`, `TagTypeId`, `Entity` as well as component/tag data.\r\n\r\nAn example that roundtrips data by serializing, deserializing and then serializing again is provided, whereby the entity-UUID mappings are maintained through the whole process.\r\n\r\nPlease tell me all the ways in which this is unsound.\r\n\r\nI'll squash commits before merge.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/40/reactions", "total_count": 11, "+1": 0, "-1": 0, "laugh": 0, "hooray": 8, "confused": 0, "heart": 3, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/40/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/22", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/22/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/22/events", "html_url": "https://github.com/amethyst/legion/pull/22", "id": 519045753, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM3ODU4Njcw", "number": 22, "title": "Remove redundant mopa dependency", "user": {"login": "Ralith", "id": 104558, "node_id": "MDQ6VXNlcjEwNDU1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/104558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ralith", "html_url": "https://github.com/Ralith", "followers_url": "https://api.github.com/users/Ralith/followers", "following_url": "https://api.github.com/users/Ralith/following{/other_user}", "gists_url": "https://api.github.com/users/Ralith/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ralith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ralith/subscriptions", "organizations_url": "https://api.github.com/users/Ralith/orgs", "repos_url": "https://api.github.com/users/Ralith/repos", "events_url": "https://api.github.com/users/Ralith/events{/privacy}", "received_events_url": "https://api.github.com/users/Ralith/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-07T05:14:21Z", "updated_at": "2019-11-10T03:18:49Z", "closed_at": "2019-11-09T23:53:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/22", "html_url": "https://github.com/amethyst/legion/pull/22", "diff_url": "https://github.com/amethyst/legion/pull/22.diff", "patch_url": "https://github.com/amethyst/legion/pull/22.patch", "merged_at": "2019-11-09T23:53:10Z"}, "body": "I believe it and downcast-rs are functionally equivalent. It still builds, at least; let me know if I missed a subtlety!", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/22/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/22/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/11", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/11/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/11/events", "html_url": "https://github.com/amethyst/legion/pull/11", "id": 496836676, "node_id": "MDExOlB1bGxSZXF1ZXN0MzIwMDg1Nzkz", "number": 11, "title": "SystemBuilder and structural associated changes.", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-09-22T21:41:19Z", "updated_at": "2019-11-07T00:55:14Z", "closed_at": "2019-11-07T00:55:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/11", "html_url": "https://github.com/amethyst/legion/pull/11", "diff_url": "https://github.com/amethyst/legion/pull/11.diff", "patch_url": "https://github.com/amethyst/legion/pull/11.patch", "merged_at": "2019-11-07T00:55:14Z"}, "body": "See inline comments for actual changes. This adds a SystemBuilder allowing usage such as:\r\n\r\n```rs\r\n#[cfg(test)]\r\nmod tests {\r\n    use super::*;\r\n    use crate::prelude::*;\r\n    use crate::resources::{ResourceAccessType, Resources};\r\n\r\n    #[derive(Clone, Copy, Debug, PartialEq)]\r\n    struct Pos(f32, f32, f32);\r\n    #[derive(Clone, Copy, Debug, PartialEq)]\r\n    struct Vel(f32, f32, f32);\r\n    #[derive(Default)]\r\n    struct TestResource(pub i32);\r\n\r\n    #[test]\r\n    fn builder_crate_and_execute() {\r\n        let universe = Universe::new();\r\n        let mut world = universe.create_world();\r\n        let mut resources = Resources::default();\r\n\r\n        let system = SystemBuilder::<()>::new(\"TestSystem\")\r\n            .with_resource::<TestResource>(ResourceAccessType::Read)\r\n            .with_query(Read::<Pos>::query())\r\n            .with_query(Read::<Vel>::query())\r\n            .build(|resource, queries| {\r\n                println!(\"Hello world\");\r\n                let _ = queries.fetch(); // Fetch the prepared queries. This could be implemented as a Deref on the PreparedQueries struct\r\n            });\r\n\r\n        system.run(&resources, &world);\r\n    }\r\n}\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/11/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/11/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/8", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/8/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/8/events", "html_url": "https://github.com/amethyst/legion/pull/8", "id": 492786711, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE2ODkxNTI0", "number": 8, "title": "The Great Refactor", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-12T12:53:24Z", "updated_at": "2019-09-18T23:53:41Z", "closed_at": "2019-09-18T23:53:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/8", "html_url": "https://github.com/amethyst/legion/pull/8", "diff_url": "https://github.com/amethyst/legion/pull/8.diff", "patch_url": "https://github.com/amethyst/legion/pull/8.patch", "merged_at": "2019-09-18T23:53:36Z"}, "body": "This PR merges a total re-write of legion. The headline changes are:\r\n\r\n* New storage implementation.\r\n    * Untyped, largely to support a future C API.\r\n    * Tag values are now stored in linear vectors per archetype.\r\n    * Archetype tag and component types now stored in linear vectors.\r\n    * Chunks with the same tag values are now grouped into chunksets.\r\n    * Chunks lazily allocate their memory and automatically free it when empty.\r\n    * Iterative defragmentation compacts entities into fewer, more highly occupied, chunks.\r\n* New filter implementation.\r\n    * Filters now split into dictinct types for each level of the hierarchy (archetype, chunkset, chunk).\r\n    * New `Filter` trait implements filters as iterators\r\n    * Better type-foo to erase `Passthrough` filter in many situations.\r\n* API changes:\r\n    * `insert_from` removed; `insert` can perform the role of both functions.\r\n    * `world.tag` and `world.component` have been renamed `world.get_tag` and `world.get_component`.\r\n    * `.as_tags()` no longer needed on tag tuples for `insert`.\r\n    * `mutate_entity` removed, now individual `[add/remove]_[component/tag]` functions. Now no longer allocates temporary memory in most cases.\r\n    * All component references now return a smart pointer that correctly keeps tracking runtime borrows.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/8/reactions", "total_count": 7, "+1": 0, "-1": 0, "laugh": 0, "hooray": 3, "confused": 0, "heart": 2, "rocket": 2, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/8/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/6", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/6/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/6/events", "html_url": "https://github.com/amethyst/legion/pull/6", "id": 484726015, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEwNTQ1MjQ0", "number": 6, "title": "Initial rust format and clippy pass to allow for using clippy and format", "user": {"login": "jaynus", "id": 2880909, "node_id": "MDQ6VXNlcjI4ODA5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2880909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaynus", "html_url": "https://github.com/jaynus", "followers_url": "https://api.github.com/users/jaynus/followers", "following_url": "https://api.github.com/users/jaynus/following{/other_user}", "gists_url": "https://api.github.com/users/jaynus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaynus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaynus/subscriptions", "organizations_url": "https://api.github.com/users/jaynus/orgs", "repos_url": "https://api.github.com/users/jaynus/repos", "events_url": "https://api.github.com/users/jaynus/events{/privacy}", "received_events_url": "https://api.github.com/users/jaynus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-23T21:51:59Z", "updated_at": "2019-08-24T20:34:27Z", "closed_at": "2019-08-24T20:34:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/6", "html_url": "https://github.com/amethyst/legion/pull/6", "diff_url": "https://github.com/amethyst/legion/pull/6.diff", "patch_url": "https://github.com/amethyst/legion/pull/6.patch", "merged_at": "2019-08-24T20:34:26Z"}, "body": "This is strictly ergonomic changes. I went through the effort of getting Legion to completely pass a normal clippy pass. This included small changes like passing newtypes of primitives by value, some idiomatic changes to iterator usage (find instead of filter+next, etc) and some pointer arithmetic changes for clarity, and finally some derivative changes to be more in line with \"Default is default\" idiom.\r\n\r\nThis was mainly so i could begin work while actively using clippy on the repo.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/6/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/6/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/amethyst/legion/issues/147", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/147/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/147/events", "html_url": "https://github.com/amethyst/legion/pull/147", "id": 636204589, "node_id": "MDExOlB1bGxSZXF1ZXN0NDMyNDIxMDAy", "number": 147, "title": "Update derivative dependency to resolve Clippy's warnings.", "user": {"login": "pasviegas", "id": 177274, "node_id": "MDQ6VXNlcjE3NzI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/177274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pasviegas", "html_url": "https://github.com/pasviegas", "followers_url": "https://api.github.com/users/pasviegas/followers", "following_url": "https://api.github.com/users/pasviegas/following{/other_user}", "gists_url": "https://api.github.com/users/pasviegas/gists{/gist_id}", "starred_url": "https://api.github.com/users/pasviegas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pasviegas/subscriptions", "organizations_url": "https://api.github.com/users/pasviegas/orgs", "repos_url": "https://api.github.com/users/pasviegas/repos", "events_url": "https://api.github.com/users/pasviegas/events{/privacy}", "received_events_url": "https://api.github.com/users/pasviegas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-10T12:27:26Z", "updated_at": "2020-06-10T14:30:02Z", "closed_at": "2020-06-10T14:30:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/147", "html_url": "https://github.com/amethyst/legion/pull/147", "diff_url": "https://github.com/amethyst/legion/pull/147.diff", "patch_url": "https://github.com/amethyst/legion/pull/147.patch", "merged_at": "2020-06-10T14:30:02Z"}, "body": "Derivative fixed this issue last version 2.1.1. So updating the version should fix all the warnings in the CI.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/147/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/amethyst/legion/pulls/147", "id": 432421002, "node_id": "MDExOlB1bGxSZXF1ZXN0NDMyNDIxMDAy", "html_url": "https://github.com/amethyst/legion/pull/147", "diff_url": "https://github.com/amethyst/legion/pull/147.diff", "patch_url": "https://github.com/amethyst/legion/pull/147.patch", "issue_url": "https://api.github.com/repos/amethyst/legion/issues/147", "number": 147, "state": "closed", "locked": false, "title": "Update derivative dependency to resolve Clippy's warnings.", "user": {"login": "pasviegas", "id": 177274, "node_id": "MDQ6VXNlcjE3NzI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/177274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pasviegas", "html_url": "https://github.com/pasviegas", "followers_url": "https://api.github.com/users/pasviegas/followers", "following_url": "https://api.github.com/users/pasviegas/following{/other_user}", "gists_url": "https://api.github.com/users/pasviegas/gists{/gist_id}", "starred_url": "https://api.github.com/users/pasviegas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pasviegas/subscriptions", "organizations_url": "https://api.github.com/users/pasviegas/orgs", "repos_url": "https://api.github.com/users/pasviegas/repos", "events_url": "https://api.github.com/users/pasviegas/events{/privacy}", "received_events_url": "https://api.github.com/users/pasviegas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "Derivative fixed this issue last version 2.1.1. So updating the version should fix all the warnings in the CI.", "created_at": "2020-06-10T12:27:26Z", "updated_at": "2020-06-10T14:30:02Z", "closed_at": "2020-06-10T14:30:02Z", "merged_at": "2020-06-10T14:30:02Z", "merge_commit_sha": "1f2fa6b23525b919c255a4b099fbb126808f41c0", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/amethyst/legion/pulls/147/commits", "review_comments_url": "https://api.github.com/repos/amethyst/legion/pulls/147/comments", "review_comment_url": "https://api.github.com/repos/amethyst/legion/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/147/comments", "statuses_url": "https://api.github.com/repos/amethyst/legion/statuses/430ab6b624b345af9abb41458ced1c746ecb30a5", "head": {"label": "pasviegas:master", "ref": "master", "sha": "430ab6b624b345af9abb41458ced1c746ecb30a5", "user": {"login": "pasviegas", "id": 177274, "node_id": "MDQ6VXNlcjE3NzI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/177274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pasviegas", "html_url": "https://github.com/pasviegas", "followers_url": "https://api.github.com/users/pasviegas/followers", "following_url": "https://api.github.com/users/pasviegas/following{/other_user}", "gists_url": "https://api.github.com/users/pasviegas/gists{/gist_id}", "starred_url": "https://api.github.com/users/pasviegas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pasviegas/subscriptions", "organizations_url": "https://api.github.com/users/pasviegas/orgs", "repos_url": "https://api.github.com/users/pasviegas/repos", "events_url": "https://api.github.com/users/pasviegas/events{/privacy}", "received_events_url": "https://api.github.com/users/pasviegas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 271267430, "node_id": "MDEwOlJlcG9zaXRvcnkyNzEyNjc0MzA=", "name": "legion", "full_name": "pasviegas/legion", "private": false, "owner": {"login": "pasviegas", "id": 177274, "node_id": "MDQ6VXNlcjE3NzI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/177274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pasviegas", "html_url": "https://github.com/pasviegas", "followers_url": "https://api.github.com/users/pasviegas/followers", "following_url": "https://api.github.com/users/pasviegas/following{/other_user}", "gists_url": "https://api.github.com/users/pasviegas/gists{/gist_id}", "starred_url": "https://api.github.com/users/pasviegas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pasviegas/subscriptions", "organizations_url": "https://api.github.com/users/pasviegas/orgs", "repos_url": "https://api.github.com/users/pasviegas/repos", "events_url": "https://api.github.com/users/pasviegas/events{/privacy}", "received_events_url": "https://api.github.com/users/pasviegas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/pasviegas/legion", "description": "High performance Rust ECS library", "fork": true, "url": "https://api.github.com/repos/pasviegas/legion", "forks_url": "https://api.github.com/repos/pasviegas/legion/forks", "keys_url": "https://api.github.com/repos/pasviegas/legion/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/pasviegas/legion/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/pasviegas/legion/teams", "hooks_url": "https://api.github.com/repos/pasviegas/legion/hooks", "issue_events_url": "https://api.github.com/repos/pasviegas/legion/issues/events{/number}", "events_url": "https://api.github.com/repos/pasviegas/legion/events", "assignees_url": "https://api.github.com/repos/pasviegas/legion/assignees{/user}", "branches_url": "https://api.github.com/repos/pasviegas/legion/branches{/branch}", "tags_url": "https://api.github.com/repos/pasviegas/legion/tags", "blobs_url": "https://api.github.com/repos/pasviegas/legion/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/pasviegas/legion/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/pasviegas/legion/git/refs{/sha}", "trees_url": "https://api.github.com/repos/pasviegas/legion/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/pasviegas/legion/statuses/{sha}", "languages_url": "https://api.github.com/repos/pasviegas/legion/languages", "stargazers_url": "https://api.github.com/repos/pasviegas/legion/stargazers", "contributors_url": "https://api.github.com/repos/pasviegas/legion/contributors", "subscribers_url": "https://api.github.com/repos/pasviegas/legion/subscribers", "subscription_url": "https://api.github.com/repos/pasviegas/legion/subscription", "commits_url": "https://api.github.com/repos/pasviegas/legion/commits{/sha}", "git_commits_url": "https://api.github.com/repos/pasviegas/legion/git/commits{/sha}", "comments_url": "https://api.github.com/repos/pasviegas/legion/comments{/number}", "issue_comment_url": "https://api.github.com/repos/pasviegas/legion/issues/comments{/number}", "contents_url": "https://api.github.com/repos/pasviegas/legion/contents/{+path}", "compare_url": "https://api.github.com/repos/pasviegas/legion/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/pasviegas/legion/merges", "archive_url": "https://api.github.com/repos/pasviegas/legion/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/pasviegas/legion/downloads", "issues_url": "https://api.github.com/repos/pasviegas/legion/issues{/number}", "pulls_url": "https://api.github.com/repos/pasviegas/legion/pulls{/number}", "milestones_url": "https://api.github.com/repos/pasviegas/legion/milestones{/number}", "notifications_url": "https://api.github.com/repos/pasviegas/legion/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/pasviegas/legion/labels{/name}", "releases_url": "https://api.github.com/repos/pasviegas/legion/releases{/id}", "deployments_url": "https://api.github.com/repos/pasviegas/legion/deployments", "created_at": "2020-06-10T12:12:14Z", "updated_at": "2020-09-07T06:26:21Z", "pushed_at": "2020-06-10T12:17:06Z", "git_url": "git://github.com/pasviegas/legion.git", "ssh_url": "git@github.com:pasviegas/legion.git", "clone_url": "https://github.com/pasviegas/legion.git", "svn_url": "https://github.com/pasviegas/legion", "homepage": null, "size": 917, "stargazers_count": 0, "watchers_count": 0, "language": "Rust", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "mit", "name": "MIT License", "spdx_id": "MIT", "url": "https://api.github.com/licenses/mit", "node_id": "MDc6TGljZW5zZTEz"}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "amethyst:master", "ref": "master", "sha": "a38d5faf114d22d2b75dd9a345dc558c7ef58598", "user": {"login": "amethyst", "id": 17814736, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3ODE0NzM2", "avatar_url": "https://avatars.githubusercontent.com/u/17814736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amethyst", "html_url": "https://github.com/amethyst", "followers_url": "https://api.github.com/users/amethyst/followers", "following_url": "https://api.github.com/users/amethyst/following{/other_user}", "gists_url": "https://api.github.com/users/amethyst/gists{/gist_id}", "starred_url": "https://api.github.com/users/amethyst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amethyst/subscriptions", "organizations_url": "https://api.github.com/users/amethyst/orgs", "repos_url": "https://api.github.com/users/amethyst/repos", "events_url": "https://api.github.com/users/amethyst/events{/privacy}", "received_events_url": "https://api.github.com/users/amethyst/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 174642569, "node_id": "MDEwOlJlcG9zaXRvcnkxNzQ2NDI1Njk=", "name": "legion", "full_name": "amethyst/legion", "private": false, "owner": {"login": "amethyst", "id": 17814736, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3ODE0NzM2", "avatar_url": "https://avatars.githubusercontent.com/u/17814736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amethyst", "html_url": "https://github.com/amethyst", "followers_url": "https://api.github.com/users/amethyst/followers", "following_url": "https://api.github.com/users/amethyst/following{/other_user}", "gists_url": "https://api.github.com/users/amethyst/gists{/gist_id}", "starred_url": "https://api.github.com/users/amethyst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amethyst/subscriptions", "organizations_url": "https://api.github.com/users/amethyst/orgs", "repos_url": "https://api.github.com/users/amethyst/repos", "events_url": "https://api.github.com/users/amethyst/events{/privacy}", "received_events_url": "https://api.github.com/users/amethyst/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/amethyst/legion", "description": "High performance Rust ECS library", "fork": false, "url": "https://api.github.com/repos/amethyst/legion", "forks_url": "https://api.github.com/repos/amethyst/legion/forks", "keys_url": "https://api.github.com/repos/amethyst/legion/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/amethyst/legion/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/amethyst/legion/teams", "hooks_url": "https://api.github.com/repos/amethyst/legion/hooks", "issue_events_url": "https://api.github.com/repos/amethyst/legion/issues/events{/number}", "events_url": "https://api.github.com/repos/amethyst/legion/events", "assignees_url": "https://api.github.com/repos/amethyst/legion/assignees{/user}", "branches_url": "https://api.github.com/repos/amethyst/legion/branches{/branch}", "tags_url": "https://api.github.com/repos/amethyst/legion/tags", "blobs_url": "https://api.github.com/repos/amethyst/legion/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/amethyst/legion/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/amethyst/legion/git/refs{/sha}", "trees_url": "https://api.github.com/repos/amethyst/legion/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/amethyst/legion/statuses/{sha}", "languages_url": "https://api.github.com/repos/amethyst/legion/languages", "stargazers_url": "https://api.github.com/repos/amethyst/legion/stargazers", "contributors_url": "https://api.github.com/repos/amethyst/legion/contributors", "subscribers_url": "https://api.github.com/repos/amethyst/legion/subscribers", "subscription_url": "https://api.github.com/repos/amethyst/legion/subscription", "commits_url": "https://api.github.com/repos/amethyst/legion/commits{/sha}", "git_commits_url": "https://api.github.com/repos/amethyst/legion/git/commits{/sha}", "comments_url": "https://api.github.com/repos/amethyst/legion/comments{/number}", "issue_comment_url": "https://api.github.com/repos/amethyst/legion/issues/comments{/number}", "contents_url": "https://api.github.com/repos/amethyst/legion/contents/{+path}", "compare_url": "https://api.github.com/repos/amethyst/legion/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/amethyst/legion/merges", "archive_url": "https://api.github.com/repos/amethyst/legion/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/amethyst/legion/downloads", "issues_url": "https://api.github.com/repos/amethyst/legion/issues{/number}", "pulls_url": "https://api.github.com/repos/amethyst/legion/pulls{/number}", "milestones_url": "https://api.github.com/repos/amethyst/legion/milestones{/number}", "notifications_url": "https://api.github.com/repos/amethyst/legion/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/amethyst/legion/labels{/name}", "releases_url": "https://api.github.com/repos/amethyst/legion/releases{/id}", "deployments_url": "https://api.github.com/repos/amethyst/legion/deployments", "created_at": "2019-03-09T03:17:06Z", "updated_at": "2026-01-20T04:08:03Z", "pushed_at": "2021-12-30T19:05:52Z", "git_url": "git://github.com/amethyst/legion.git", "ssh_url": "git@github.com:amethyst/legion.git", "clone_url": "https://github.com/amethyst/legion.git", "svn_url": "https://github.com/amethyst/legion", "homepage": null, "size": 2475, "stargazers_count": 1700, "watchers_count": 1700, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 142, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 97, "license": {"key": "mit", "name": "MIT License", "spdx_id": "MIT", "url": "https://api.github.com/licenses/mit", "node_id": "MDc6TGljZW5zZTEz"}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["ecs", "rust"], "visibility": "public", "forks": 142, "open_issues": 97, "watchers": 1700, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/amethyst/legion/pulls/147"}, "html": {"href": "https://github.com/amethyst/legion/pull/147"}, "issue": {"href": "https://api.github.com/repos/amethyst/legion/issues/147"}, "comments": {"href": "https://api.github.com/repos/amethyst/legion/issues/147/comments"}, "review_comments": {"href": "https://api.github.com/repos/amethyst/legion/pulls/147/comments"}, "review_comment": {"href": "https://api.github.com/repos/amethyst/legion/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/amethyst/legion/pulls/147/commits"}, "statuses": {"href": "https://api.github.com/repos/amethyst/legion/statuses/430ab6b624b345af9abb41458ced1c746ecb30a5"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 0, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 1, "deletions": 1, "changed_files": 1}}