{"window": ["2021-01-08T17:33:49.972521+00:00", "2021-02-18T01:25:06.322215+00:00"], "repo_slug": "bytecodealliance/wasmtime", "candidates": [{"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2657", "id": 809683472, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc0NTA0NTgw", "number": 2657, "title": "Wasmtime 0.23.0", "user": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-16T22:08:10Z", "updated_at": "2021-02-17T23:35:45Z", "closed_at": "2021-02-17T23:35:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2657", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2657", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2657.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2657.patch", "merged_at": "2021-02-17T23:35:43Z"}, "body": "~~This updates a few .gitmodules entries and depedency versions in preparation for releasing 0.23.0.~~\r\n\r\nThis uses a specially-modified publish script to avoid bumping witx, so this is only a version bump and not a .gitmodules change.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2656", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2656/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2656/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2656/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2656", "id": 809612691, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc0NDQ1NTY1", "number": 2656, "title": "Update dependencies to address cargo audit reports", "user": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1596429979, "node_id": "MDU6TGFiZWwxNTk2NDI5OTc5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/lightbeam", "name": "lightbeam", "color": "a1e226", "default": false, "description": "Issues related to the Lightbeam compiler"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-02-16T20:10:03Z", "updated_at": "2021-02-16T22:10:13Z", "closed_at": "2021-02-16T22:10:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2656", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2656", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2656.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2656.patch", "merged_at": "2021-02-16T22:10:05Z"}, "body": "This switches from `term` to `termcolor`, switches from `memmap` to `memmap2`, and updates to `rand_core` 0.6.2.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2656/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2623", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2623/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2623/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2623/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2623", "id": 797078733, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0MTQ3MTc0", "number": 2623, "title": "Update some wasm-tools dependencies", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-29T18:05:13Z", "updated_at": "2021-01-29T19:00:15Z", "closed_at": "2021-01-29T18:53:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2623", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2623", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2623.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2623.patch", "merged_at": "2021-01-29T18:53:19Z"}, "body": "Mostly focused around some small bugfixes and improvements related to\r\nmodule-linking fuzzing.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2623/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2611", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2611/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2611/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2611/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2611", "id": 795496987, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyODM0Njg2", "number": 2611, "title": "Implement limiting WebAssembly execution with fuel", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-01-27T22:32:56Z", "updated_at": "2021-01-29T14:57:21Z", "closed_at": "2021-01-29T14:57:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2611", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2611", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2611.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2611.patch", "merged_at": "2021-01-29T14:57:18Z"}, "body": "This PR lifts a feature from Lucet to wasmtime where generated code can count instructions or account for \"fuel\" during execution. The purpose of this feature is similar to the interrupt support via `InterruptHandle`, but it mainly allows deterministically interrupting a wasm module instead of relying on a timer. Additionally a future goal of this PR is to extend the `async` support of wasmtime to leverage fuel to periodically \"interrupt\" executing wasm code to yield back to the host. This would enable wasmtime futures to never take \"too long\" in `Future::poll` since if they would otherwise take awhile they'd yield back to the host and allow preemption and/or other things like future timeouts.\r\n\r\nThee implementation here is nearly copied verbatim from Lucet itself, with tweaks as appropriate for the different vmctx representation in Wasmtime. The main difference is that Wasmtime's fuel counter is two levels of indirection away from the vmctx rather than one in Lucet. To help with this a new `Variable` stores the `VMInterrupts` pointer value to avoid reloading the same value each time from the vmctx.\r\n\r\nSupport for this feature is exposed through a few new APIs:\r\n\r\n* `Config::consume_fuel` - enables codegen options for wasm to consume fuel, and behaves similar to `interruptable`.\r\n* `Store::set_fuel_remaining` - this is how fuel is injected into a `Store` for execution of wasm. Note that stores always start with 0 fuel so this is required to be called.\r\n* `Store::fuel_consumed` - this can be used to check how much fuel has been consumed so far.\r\n\r\nThe current behavior, which cannot be changed, is that when fuel runs out a wasm trap is generated. I hope to make this configurable in the future so that for async stores when fuel runs out it's automatically re-injected with fuel but only after a yield back to the host happens.\r\n\r\nI've done a bit of benchmarking with this using criterion and the benchmarks here -- https://github.com/bytecodealliance/sightglass/tree/main/benchmarks-next. The benchmarks are relatively limited at this time but were able to produce some useful data in the meantime. This shows to be a 35-45% slowdown on my personal laptop for the runtime execution of the benchmarked porttion of the code for blake3-scalar and shootout-ackermann. At least for ackermann this is somewhat expected because the loops/function calls are all tiny, so the overhead is quite noticeable. For blake3-scalar I assume it's similar but haven't dug in yet. Note that these numbers were with the new backend since the old x86 backend seems significantly worse than the x64 one.\r\n\r\nI do think there might be some relatively low-hanging fruit with respect to performance, but further tweaks would require changes to cranelift itself to optimize instruction selection. For example one optimization might be to not have a `fuel_var` and instead periodically do `addq $fuel_consumed, offset(%vminterrupts_ptr)` which avoids consuming extra registers. Similarly `cmpq $0, offset(%vminterrupts_ptr)` could be generated as well. I couldn't get the x64 backend to emit those forms of instructions at this time though. I'm also not 100% certain that it'll be faster.\r\n\r\nNote that for now this doesn't depend on the `async` PR, but I plan on having a future PR after these two land which implements the periodically-yield option.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2611/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2611/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2607", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2607/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2607/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2607/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2607", "id": 794483247, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYxOTkxNjkx", "number": 2607, "title": "cranelift-native: Use libstd feature detection", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-26T19:01:12Z", "updated_at": "2021-01-26T22:42:14Z", "closed_at": "2021-01-26T22:42:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2607", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2607", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2607.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2607.patch", "merged_at": "2021-01-26T22:42:12Z"}, "body": "This commit switches cranelift-native to useing the\r\n`is_x86_feature_detected!` macro in the standard library instead of the\r\n`raw-cpuid` crate.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2607/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2603", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2603/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2603/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2603/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2603", "id": 793532595, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYxMjA0Njg5", "number": 2603, "title": "Fix cargo-deny issue with raw-cpuid advisory.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-25T16:33:41Z", "updated_at": "2021-01-25T17:13:50Z", "closed_at": "2021-01-25T17:12:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2603", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2603", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2603.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2603.patch", "merged_at": "2021-01-25T17:12:30Z"}, "body": "cargo-deny tells us that we should upgrade raw-cpuid to v9.0.0. This\r\nnew version also seems to lack the `nightly` feature (perhaps it has\r\nbeen incorporated into the base functionality) so I had to remove this\r\nfeature selector to build.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2603/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2597", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2597/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2597/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2597/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2597", "id": 792017566, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5OTc0NDc5", "number": 2597, "title": "Add support for the experimental wasi-crypto APIs", "user": {"login": "jedisct1", "id": 124872, "node_id": "MDQ6VXNlcjEyNDg3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/124872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jedisct1", "html_url": "https://github.com/jedisct1", "followers_url": "https://api.github.com/users/jedisct1/followers", "following_url": "https://api.github.com/users/jedisct1/following{/other_user}", "gists_url": "https://api.github.com/users/jedisct1/gists{/gist_id}", "starred_url": "https://api.github.com/users/jedisct1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jedisct1/subscriptions", "organizations_url": "https://api.github.com/users/jedisct1/orgs", "repos_url": "https://api.github.com/users/jedisct1/repos", "events_url": "https://api.github.com/users/jedisct1/events{/privacy}", "received_events_url": "https://api.github.com/users/jedisct1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-22T13:46:44Z", "updated_at": "2021-01-25T17:38:09Z", "closed_at": "2021-01-25T15:32:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2597", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2597", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2597.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2597.patch", "merged_at": "2021-01-25T15:32:58Z"}, "body": "Add support for the experimental wasi-crypto APIs.\r\n\r\nThis new PR imports only the wiggle/wasmtime integration bits into the `wasmtime` repository.\r\n\r\nThe purpose of the implementation is to allow bindings and application developers to test the proposed APIs. Rust and AssemblyScript bindings are also available as examples.\r\n\r\nLike `wasi-nn`, it is currently disabled by default, and requires the `wasi-crypto` feature flag to be compiled in.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2597/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2594", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2594/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2594/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2594/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2594", "id": 791267935, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5MzU1Nzg5", "number": 2594, "title": "Update a number of dependencies", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1596429979, "node_id": "MDU6TGFiZWwxNTk2NDI5OTc5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/lightbeam", "name": "lightbeam", "color": "a1e226", "default": false, "description": "Issues related to the Lightbeam compiler"}, {"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-21T16:04:23Z", "updated_at": "2021-09-09T15:13:21Z", "closed_at": "2021-01-21T21:49:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2594", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2594", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2594.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2594.patch", "merged_at": "2021-01-21T21:49:13Z"}, "body": "This commit goes through the dependencies that wasmtime has and updates\r\nversions where possible. This notably brings in a wasmparser/wast update\r\nwhich has some simd spec changes with new instructions. Otherwise most\r\nof these are just routine updates.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2594/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2592", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2592/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2592/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2592/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2592", "id": 791225656, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5MzE4NTIz", "number": 2592, "title": "cache: update zstd to 0.6, disable legacy feature", "user": {"login": "ordian", "id": 4211399, "node_id": "MDQ6VXNlcjQyMTEzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4211399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ordian", "html_url": "https://github.com/ordian", "followers_url": "https://api.github.com/users/ordian/followers", "following_url": "https://api.github.com/users/ordian/following{/other_user}", "gists_url": "https://api.github.com/users/ordian/gists{/gist_id}", "starred_url": "https://api.github.com/users/ordian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ordian/subscriptions", "organizations_url": "https://api.github.com/users/ordian/orgs", "repos_url": "https://api.github.com/users/ordian/repos", "events_url": "https://api.github.com/users/ordian/events{/privacy}", "received_events_url": "https://api.github.com/users/ordian/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-21T15:31:08Z", "updated_at": "2021-01-21T16:16:08Z", "closed_at": "2021-01-21T16:16:08Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2592", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2592", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2592.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2592.patch", "merged_at": "2021-01-21T16:16:08Z"}, "body": "* legacy feature of `zstd` is to support old compression formats `<zstd-0.8`\r\n* cargo doesn't allow linking of different version of native libraries, so w/o this patch a crate can't depends on both wasmtime and `zstd` 0.6", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2592/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2588", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2588/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2588/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2588/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2588", "id": 789199670, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU3NTc3OTM3", "number": 2588, "title": "Bugfix of issue #2575", "user": {"login": "h4n0", "id": 4738254, "node_id": "MDQ6VXNlcjQ3MzgyNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4738254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h4n0", "html_url": "https://github.com/h4n0", "followers_url": "https://api.github.com/users/h4n0/followers", "following_url": "https://api.github.com/users/h4n0/following{/other_user}", "gists_url": "https://api.github.com/users/h4n0/gists{/gist_id}", "starred_url": "https://api.github.com/users/h4n0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h4n0/subscriptions", "organizations_url": "https://api.github.com/users/h4n0/orgs", "repos_url": "https://api.github.com/users/h4n0/repos", "events_url": "https://api.github.com/users/h4n0/events{/privacy}", "received_events_url": "https://api.github.com/users/h4n0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-19T17:06:21Z", "updated_at": "2021-01-19T19:04:19Z", "closed_at": "2021-01-19T19:04:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2588", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2588", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2588.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2588.patch", "merged_at": "2021-01-19T19:04:19Z"}, "body": "Bugfix of issue #2575.\r\n\r\nUse libc 0.2.82 on aarch64-apple-darwin Apple Silicon platform, and local test with MacBook M1 passes.\r\n\r\n\r\n- [x] This has been discussed in issue #2575 \r\n- [x] Added aarch64 support for macos ", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2588/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2588/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2585", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2585/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2585/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2585/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2585", "id": 786225512, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU1MTI2MzM1", "number": 2585, "title": "Update support for the module linking proposal", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1596429979, "node_id": "MDU6TGFiZWwxNTk2NDI5OTc5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/lightbeam", "name": "lightbeam", "color": "a1e226", "default": false, "description": "Issues related to the Lightbeam compiler"}, {"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-14T18:41:49Z", "updated_at": "2021-09-09T15:15:05Z", "closed_at": "2021-01-14T23:48:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2585", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2585", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2585.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2585.patch", "merged_at": "2021-01-14T23:48:15Z"}, "body": "This commit updates the various tooling used by wasmtime which has new\r\nupdates to the module linking proposal. This is done primarily to sync\r\nwith WebAssembly/module-linking#26. The main change implemented here is\r\nthat wasmtime now supports creating instances from a set of values, nott\r\njust from instantiating a module. Additionally subtyping handling of\r\nmodules with respect to imports is now properly handled by desugaring\r\ntwo-level imports to imports of instances.\r\n\r\nA number of small refactorings are included here as well, but most of\r\nthem are in accordance with the changes to `wasmparser` and the updated\r\nbinary format for module linking.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2585/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2574", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2574/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2574/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2574/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2574", "id": 784628040, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUzNzg5Nzc5", "number": 2574, "title": "wasmtime-bench-api: Randomize the locations of heap objects", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-12T22:06:55Z", "updated_at": "2021-01-13T17:35:52Z", "closed_at": "2021-01-13T17:35:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2574", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2574", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2574.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2574.patch", "merged_at": "2021-01-13T17:35:47Z"}, "body": "This helps us avoid measurement bias due to accidental locality of unrelated heap objects. See *Stabilizer: Statistically Sound Performance Evaluation* by Curtsinger and Berger for details (although Stabilizer deals with much more than just the location of heap allocations): https://people.cs.umass.edu/~emery/pubs/stabilizer-asplos13.pdf\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2574/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2570", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2570/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2570/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2570/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2570", "id": 783856173, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUzMTQ0ODQx", "number": 2570, "title": "wiggle: generate flags using `bitflags`", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-12T02:31:06Z", "updated_at": "2021-01-12T21:48:37Z", "closed_at": "2021-01-12T21:48:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2570", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2570", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2570.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2570.patch", "merged_at": "2021-01-12T21:48:36Z"}, "body": "Wiggle generated flags that were sorta kinda like the ones generated by `bitflags::bitflags!`. The biggest stumbling block is that, for whatever reason, `fn contains(&self, &Self) -> bool` took the rhs by reference instead of value, despite deriving `Copy`.\r\n\r\nFor API consistency with the rest of the ecosystem, and to throw away some code, implement Wiggle's flags code generation using `bitflags::bitflags!`.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2570/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2568", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2568/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2568/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2568/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2568", "id": 783611643, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUyOTQxOTc4", "number": 2568, "title": "Cargo.toml metadata for publishing", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-11T18:48:19Z", "updated_at": "2021-01-11T19:21:52Z", "closed_at": "2021-01-11T19:21:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2568", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2568", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2568.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2568.patch", "merged_at": "2021-01-11T19:21:48Z"}, "body": "I had to update this stuff when making the latest release, and forgot to upstream it until now.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2568/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2565", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2565/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2565/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2565/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2565", "id": 782582623, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUyMTEyODYz", "number": 2565, "title": "Detailed debug-info (DWARF) support in new backends (initially x64).", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-01-09T10:54:22Z", "updated_at": "2021-01-23T01:22:18Z", "closed_at": "2021-01-23T01:22:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2565", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2565", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2565.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2565.patch", "merged_at": "2021-01-23T01:22:13Z"}, "body": "This PR propagates \"value labels\" all the way from CLIF to DWARF\r\nmetadata on the emitted machine code. The key idea is as follows:\r\n\r\n- Translate value-label metadata on the input into \"value_label\"\r\n  pseudo-instructions when lowering into VCode. These\r\n  pseudo-instructions take a register as input, denote a value label,\r\n  and semantically are like a \"move into value label\" -- i.e., they\r\n  update the current value (as seen by debugging tools) of the given\r\n  local. These pseudo-instructions emit no machine code.\r\n\r\n- Perform a dataflow analysis *at the machine-code level*, tracking\r\n  value-labels that propagate into registers and into [SP+constant]\r\n  stack storage. This is a forward dataflow fixpoint analysis where each\r\n  storage location can contain a *set* of value labels, and each value\r\n  label can reside in a *set* of storage locations. (Meet function is\r\n  pairwise intersection by storage location.)\r\n\r\n  This analysis traces value labels symbolically through loads and\r\n  stores and reg-to-reg moves, so it will naturally handle spills and\r\n  reloads without knowing anything special about them.\r\n\r\n- When this analysis converges, we have, at each machine-code offset, a\r\n  mapping from value labels to some number of storage locations; for\r\n  each offset for each label, we choose the best location (prefer\r\n  registers). Note that we can choose any location, as the symbolic\r\n  dataflow analysis is sound and guarantees that the value at the\r\n  value_label instruction propagates to all of the named locations.\r\n\r\n- Then we can convert this mapping into a format that the DWARF\r\n  generation code (wasmtime's debug crate) can use.\r\n\r\nThis PR also adds the new-backend variant to the gdb tests on CI.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2565/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2565/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2563", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2563/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2563/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2563/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2563", "id": 782476054, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUyMDI2NTAz", "number": 2563, "title": "fix: `dst` should be `Writable`, not `ValueRegs`", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-09T00:50:33Z", "updated_at": "2021-01-09T01:32:26Z", "closed_at": "2021-01-09T01:31:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2563", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2563", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2563.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2563.patch", "merged_at": "2021-01-09T01:31:39Z"}, "body": "<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2563/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2487", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2487/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2487/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2487/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2487", "id": 758976090, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM0MDUwNzQ5", "number": 2487, "title": "rewrite wasi-common in terms of cap-std", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}, {"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-08T01:12:54Z", "updated_at": "2021-02-05T02:02:47Z", "closed_at": "2021-02-05T02:02:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2487", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2487", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2487.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2487.patch", "merged_at": "2021-02-05T02:02:45Z"}, "body": "This PR is a complete rewrite of the `wasi-common` crate. It uses @sunfishcode 's new `cap-std` family of crates to provide a sandboxed implementation of WASI on the local filesystem.\r\n\r\nNote that this is a breaking change for all users of WASI with Wasmtime, except for the C API.\r\n\r\n# Re-architecting `wasi-common`\r\n\r\nOver the past year or so, we've run up against many design problems in `wasi-common`. Many of these problems ended up being so fundamental that a rewrite, as prolonged as it was, ended up being more tractable than incremental changes.\r\n\r\n## The `Table`\r\n\r\n`wasi-common` now has a `Table` type that is designed to map u32 handles to resources. The table is now part of the public interface to a `WasiCtx` - it is reference counted so that it can be shared beyond a `WasiCtx` with other WASI proposals (e.g. `wasi-crypto` and `wasi-nn`) to manage their resources. Elements in the `Table` are `Any` typed.\r\n\r\nThe `Table` type is intended to model how the Interface Types concept of Resources is shaping up. Right now it is just an approximation.\r\n\r\n## The `WasiFile` and `WasiDir` traits\r\n\r\nThe WASI specification only defines one `handle` type, `fd`, on which all operations on both files and directories (aka dirfds) are defined. We believe this is a design mistake, and are architecting wasi-common to make this straightforward to correct in future snapshots of WASI. Wasi-common internally treats files and directories as two distinct resource types in the table - `Box<dyn WasiFile>` and `Box<dyn WasiDir>`. The snapshot 0 and 1 interfaces via `fd` will attempt to downcast a table element to one or both of these interfaces depending on what is appropriate - e.g. `fd_close` operates on both files and directories, `fd_read` only operates on files, and `fd_readdir` only operates on directories.\r\n\r\nThe `WasiFile` and `WasiDir` traits are defined by `wasi-common` in terms of types defined directly in the crate's source code (I decided it should NOT those generated by the `wiggle` proc macros, see snapshot architecture below), as well as the `cap_std::time` family of types. And, importantly, `wasi-common` itself provides no implementation of `WasiDir`, and only two trivial implementations of `WasiFile` on the `crate::pipe::{ReadPipe, WritePipe}` types, which in turn just delegate to `std::io::{Read, Write}`. In order for `wasi-common` to access the local filesystem at all, you need to provide `WasiFile` and `WasiDir` impls through either the new `wasi-cap-std-sync` crate found at `crates/wasi-common/cap-std-sync` - see the section on that crate below - or by providing your own implementation from elsewhere.\r\n\r\nThis design makes it possible for `wasi-common` embedders to statically reason about access to the local filesystem by examining what impls are linked into an application. We found that this separation of concerns also makes it pretty enjoyable to write alternative implementations, e.g. a virtual filesystem (which will land in a future PR).\r\n\r\n## Traits for the rest of WASI's features\r\n\r\nOther aspects of a WASI implementation are not yet considered resources and accessed by `handle`. We plan to correct this design deficiency in WASI in the future, but for now we have designed the following traits to provide embedders with the same sort of implementation flexibility they get with WasiFile/WasiDir:\r\n\r\n* Timekeeping: `clocks::WasiSystemClock` and `clock::WasiMonotonicClock` provide the two interfaces for a clock. `WasiSystemClock` represents time as a `cap_std::time::SystemTime`, and `WasiMonotonicClock` represents time as `cap_std::time::Instant`.\r\n* Randomness: we re-use the `cap_rand::RngCore` trait to represent a randomness source. A trivial `Deterministic` impl is provided.\r\n* Scheduling: The `WasiSched` trait abstracts over the `sched_yield` and `poll_oneoff` functions.\r\n\r\nUsers can provide implementations of each of these interfaces to the `WasiCtx::builder(...)` function. The `wasi_cap_std_sync::WasiCtxBuilder::new()` function uses this public interface to plug in its own implementations of each of these resources.\r\n\r\n## Snapshot architecture\r\n\r\nOne goal we've had for a while, but not quite met, is for multiple WASI snapshots to provide an interface to the same underlying `WasiCtx`. This provides us a path to evolve WASI by allowing the same WASI Command to import functions from different snapshots - e.g. the user could use Rust's `std` which imports snapshot 1, but also depend directly on the `wasi` crate which imports some future snapshot 2. Right now, this amounts to supporting snapshot 1 and \"snapshot 0\" aka wasi_unstable at once.\r\n\r\nThe architectural rules for snapshots are:\r\n\r\n* Snapshots are arranged into modules under `crate::snapshots::`.\r\n* Each snapshot should invoke `wiggle::from_witx!` with `ctx: crate::WasiCtx` in its module, and impl all of the required traits.\r\n* Snapshots can be implemented in terms of other snapshots. For example, snapshot 0 is mostly implemented by calling the snapshot 1 implementation, and converting its own types back and forth with the snapshot 1 types. In a few cases, that is not feasible, so snapshot 0 carries its own implementations in terms of the `WasiFile` and `WasiSched` traits.\r\n* Snapshots can be implemented in terms of the `Wasi*` traits given by `WasiCtx`. No further downcasting via the `as_any` escape hatch is permitted.\r\n\r\n## The `wasi_common::Error` type\r\n\r\n`wasi_common::Error` is now `anyhow::Error`. `wasi_common::snapshots::preview_1` contains all of the logic for transforming an `Error` into an `Errno`, by downcasting the error into any of\r\n* `std::io::Error` - these are thrown by `std`, `cap_std`, etc for most of the operations WASI is concerned with.\r\n* `wasi_common::ErrorKind` - these are a subset of the Errnos, and are constructed directly by wasi-common or an impl rather than coming from the OS or some library which doesn't know about WASI.\r\n* `wiggle::GuestError`\r\n* `std::num::TryFromIntError`\r\n* `std::str::Utf8Error`\r\nand then applying specialized logic to translate each of those into `Errno`s.\r\n\r\nThe `wasi_common::ErrorExt` trait provides human-friendly constructors for the `wasi_common::ErrorKind` variants .\r\n\r\nIf you throw an error that does not downcast to one of those, it will turn into a `wiggle::Trap` and terminate execution.\r\n\r\nThe real value of using `anyhow::Error` here is being able to use `anyhow::Result::context` to aid in debugging of errors.\r\n\r\n## The `wasi-cap-std-sync` implementation of the WASI traits\r\n\r\nThe `wasi-cap-std-sync` crate provides impl of `WasiFile` and `WasiDir` in terms of `cap_std::fs::{File, Dir}`. These types provide sandboxed access to the local filesystem on both Unix and Windows.\r\n\r\nThe entire design story of `cap-std` is much bigger than we can address here, but in short, its functionality replaces all of the `wasi_common::sys` hierarchy, as well as the `yanix` / `winx` crates. All syscalls are hidden behind the `cap-std` hierarchy, with the lone exception of the `sched` implementation, which is provided for both unix and windows in separate modules. \r\n\r\nAny `wasi_common::{WasiCtx, WasiCtxBuilder}` is interoperable with the `wasi-cap-std-sync` crate. However, for convenience, `wasi-cap-std-sync` provides its own `WasiCtxBuilder` that hooks up to all of the crate's components, i.e. it fills in all of the arguments to `WasiCtx::builder(...)`, presents `preopen_dir` in terms of `cap_std::fs::Dir`, and provides convenience methods for inheriting the parent process's stdio, args, and env.\r\n\r\nThe only place we expect to run into long-term compatibility issues between `wasi-cap-std-sync` and the other impl crates that will come later is in the `Sched` abstraction. Once we can build an async scheduler based on Rust `Future`s, async impls will be able to interoperate, but the synchronous scheduler depends on downcasting the `WasiFile` type down to concrete types it knows about (which in turn impl `AsRawFd` for passing to unix `poll`, or the analogous traits on windows).\r\n\r\nWhy is this impl suffixed with `-sync`? https://github.com/bytecodealliance/wasmtime/pull/2434 async is coming soon! The async impl may end up depending on tokio or other relatively heavy deps, so we will retain a sync implementation so that wasi-common users have an option of not pulling in an async runtime.\r\n\r\n# Improving the WASI test suite\r\n\r\nThe bulk of `wasi-common`'s test suite lives at `crates/test-programs`. This test suite was extremely useful for guiding this rewrite. We improved the test suite in numerous ways, including\r\n* Breaking tests out into smaller units, so that failing behavior can be isolated more easily\r\n* Introducing a scheme which allows the test runner to describe to the wasm code what behaviors to expect of the embedding. Behaviors which vary between platforms (e.g. `fd_allcoate` is impossible to faithfully implement on Windows and is not provided by MacOS) are communicated to the guest by environment variables, which in turn is available in the guest behind the global `TESTCONFIG` struct.\r\n* Introducing the `assert_errno!` macro, which pretty-prints errnos by name rather than number in the error message. `assert_errno!` integrates with `TESTCONFIG` to specify which errno is expected on which platform. This allows the test source to describe the full set of acceptable errnos a call may return (all possible errnos will be acceptable if no `ERRNO_MODE_*` env var is set), and also detect regressions on any given platform.\r\n* We still use `crates/test-platforms/build.rs` to generate the test suite, and use functions directly in `build.rs` to describe the `TESTCONFIG` expectations, as well as which tests are to be ignored (expected to fail due to regressions) on what platforms.\r\n* The test suite has been generalized to support multiple backends to the `wasi-common` crate. This PR will only land with support for testing `wasi-cap-std-sync`, but it will be easy to add more runtimes under `tests/wasm_tests/runtime/` as more impls are created, with a minimum of boilerplate in `build.rs`.\r\n\r\n# Changes to `wiggle-wasmtime` and dependents\r\n\r\nYou used to pass a `WasiCtx` (or whatever ctx type) directly to the `Wasi` struct generated by `wiggle-wasmtime`, and the generated code would wrap the ctx into a `Rc<RefCell<ctx>>`. This got in the way of supporting multiple snapshots simultaneously, so now callers of the generated code have to pass in an `Rc<RefCell<ctx>>`.\r\n\r\nI made mechanical changes to `wasi-nn` (cc @abrown) and `wasi-crypto` (cc @jedisct1) to accommodate these changes. This was of particular help to the `wasi-crypto` code - I was able to erase an entire Rc<> indirection by getting wiggle out of our way. Sorry that I did not take the time to break this out into a standalone PR. \r\n\r\n# Changes to `wasmtime-wasi`\r\n\r\n`wasmtime-wasi` now supports using multiple snapshots to interface to the same `WasiCtx`!\r\n\r\n* `wasmtime_wasi::Wasi::new(&Store, WasiCtx)` is now a struct which owns your `WasiCtx` and provides linkage to every available snapshot.\r\n* Individual snapshots are available through `wasmtime_wasi::snapshots::preview_{0, 1}::Wasi::new(&Store, Rc<RefCell<WasiCtx>>)`.\r\n\r\nEveryone should use `wasmtime_wasi::Wasi` unless you have a really good reason not to. The C API is the only spot that I didn't port to use this.\r\n\r\n# Regressions\r\n\r\nSome behavior around trailing slashes in paths has changed from the test suite. We expect there are some improvements we'll make to these corner cases after this PR lands.\r\n\r\nFor now, the `path_rename_file_trailing_slashes` and `remove_directory_trailing_slashes` tests are `#[ignore]`'d on all platforms, and additionally the `interesting_paths` test is ignored on Windows.\r\n\r\nAdditionally, some behavior around the `FdFlags::{SYNC, DSYNC, RSYNC}` flags have changed. For now, cap-std does not support opening a file with these flags. Using these flags will result in an `Errno::NOTSUP` (Not supported).\r\n\r\n# Outstanding issues required to merge this PR:\r\n* [x] Metadata not associated with open file panics on windows: https://github.com/bytecodealliance/cap-std/issues/142\r\n* [x] `DirExt::delete_file_or_symlink` for `symlink_create` test to pass on Windows\r\n* [x] Yeet the virtfs into a separate PR\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2487/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 3, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2487/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2657", "id": 809683472, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc0NTA0NTgw", "number": 2657, "title": "Wasmtime 0.23.0", "user": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-16T22:08:10Z", "updated_at": "2021-02-17T23:35:45Z", "closed_at": "2021-02-17T23:35:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2657", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2657", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2657.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2657.patch", "merged_at": "2021-02-17T23:35:43Z"}, "body": "~~This updates a few .gitmodules entries and depedency versions in preparation for releasing 0.23.0.~~\r\n\r\nThis uses a specially-modified publish script to avoid bumping witx, so this is only a version bump and not a .gitmodules change.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2657", "id": 574504580, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc0NTA0NTgw", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2657", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2657.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2657.patch", "issue_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657", "number": 2657, "state": "closed", "locked": false, "title": "Wasmtime 0.23.0", "user": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "~~This updates a few .gitmodules entries and depedency versions in preparation for releasing 0.23.0.~~\r\n\r\nThis uses a specially-modified publish script to avoid bumping witx, so this is only a version bump and not a .gitmodules change.", "created_at": "2021-02-16T22:08:10Z", "updated_at": "2021-02-17T23:35:45Z", "closed_at": "2021-02-17T23:35:43Z", "merged_at": "2021-02-17T23:35:43Z", "merge_commit_sha": "8d90ea0390f6323725b34c50079a07ea635dfa43", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2657/commits", "review_comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2657/comments", "review_comment_url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/comments", "statuses_url": "https://api.github.com/repos/bytecodealliance/wasmtime/statuses/e2c801a5928e481499bcad204d79897cebdb653b", "head": {"label": "sunfishcode:sunfishcode/0.23.0", "ref": "sunfishcode/0.23.0", "sha": "e2c801a5928e481499bcad204d79897cebdb653b", "user": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 144394838, "node_id": "MDEwOlJlcG9zaXRvcnkxNDQzOTQ4Mzg=", "name": "wasmtime", "full_name": "sunfishcode/wasmtime", "private": false, "owner": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/sunfishcode/wasmtime", "description": "Standalone JIT-style runtime for WebAsssembly, using Cranelift", "fork": true, "url": "https://api.github.com/repos/sunfishcode/wasmtime", "forks_url": "https://api.github.com/repos/sunfishcode/wasmtime/forks", "keys_url": "https://api.github.com/repos/sunfishcode/wasmtime/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/sunfishcode/wasmtime/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/sunfishcode/wasmtime/teams", "hooks_url": "https://api.github.com/repos/sunfishcode/wasmtime/hooks", "issue_events_url": "https://api.github.com/repos/sunfishcode/wasmtime/issues/events{/number}", "events_url": "https://api.github.com/repos/sunfishcode/wasmtime/events", "assignees_url": "https://api.github.com/repos/sunfishcode/wasmtime/assignees{/user}", "branches_url": "https://api.github.com/repos/sunfishcode/wasmtime/branches{/branch}", "tags_url": "https://api.github.com/repos/sunfishcode/wasmtime/tags", "blobs_url": "https://api.github.com/repos/sunfishcode/wasmtime/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/sunfishcode/wasmtime/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/sunfishcode/wasmtime/git/refs{/sha}", "trees_url": "https://api.github.com/repos/sunfishcode/wasmtime/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/sunfishcode/wasmtime/statuses/{sha}", "languages_url": "https://api.github.com/repos/sunfishcode/wasmtime/languages", "stargazers_url": "https://api.github.com/repos/sunfishcode/wasmtime/stargazers", "contributors_url": "https://api.github.com/repos/sunfishcode/wasmtime/contributors", "subscribers_url": "https://api.github.com/repos/sunfishcode/wasmtime/subscribers", "subscription_url": "https://api.github.com/repos/sunfishcode/wasmtime/subscription", "commits_url": "https://api.github.com/repos/sunfishcode/wasmtime/commits{/sha}", "git_commits_url": "https://api.github.com/repos/sunfishcode/wasmtime/git/commits{/sha}", "comments_url": "https://api.github.com/repos/sunfishcode/wasmtime/comments{/number}", "issue_comment_url": "https://api.github.com/repos/sunfishcode/wasmtime/issues/comments{/number}", "contents_url": "https://api.github.com/repos/sunfishcode/wasmtime/contents/{+path}", "compare_url": "https://api.github.com/repos/sunfishcode/wasmtime/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/sunfishcode/wasmtime/merges", "archive_url": "https://api.github.com/repos/sunfishcode/wasmtime/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/sunfishcode/wasmtime/downloads", "issues_url": "https://api.github.com/repos/sunfishcode/wasmtime/issues{/number}", "pulls_url": "https://api.github.com/repos/sunfishcode/wasmtime/pulls{/number}", "milestones_url": "https://api.github.com/repos/sunfishcode/wasmtime/milestones{/number}", "notifications_url": "https://api.github.com/repos/sunfishcode/wasmtime/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/sunfishcode/wasmtime/labels{/name}", "releases_url": "https://api.github.com/repos/sunfishcode/wasmtime/releases{/id}", "deployments_url": "https://api.github.com/repos/sunfishcode/wasmtime/deployments", "created_at": "2018-08-11T15:06:39Z", "updated_at": "2026-01-02T10:34:53Z", "pushed_at": "2025-11-09T15:03:49Z", "git_url": "git://github.com/sunfishcode/wasmtime.git", "ssh_url": "git@github.com:sunfishcode/wasmtime.git", "clone_url": "https://github.com/sunfishcode/wasmtime.git", "svn_url": "https://github.com/sunfishcode/wasmtime", "homepage": "", "size": 127086, "stargazers_count": 5, "watchers_count": 5, "language": "Rust", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 1, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 1, "open_issues": 0, "watchers": 5, "default_branch": "main"}}, "base": {"label": "bytecodealliance:main", "ref": "main", "sha": "38b63f525e224e934d2bdc242ffee0347b031c2f", "user": {"login": "bytecodealliance", "id": 54038801, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MDM4ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/54038801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bytecodealliance", "html_url": "https://github.com/bytecodealliance", "followers_url": "https://api.github.com/users/bytecodealliance/followers", "following_url": "https://api.github.com/users/bytecodealliance/following{/other_user}", "gists_url": "https://api.github.com/users/bytecodealliance/gists{/gist_id}", "starred_url": "https://api.github.com/users/bytecodealliance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bytecodealliance/subscriptions", "organizations_url": "https://api.github.com/users/bytecodealliance/orgs", "repos_url": "https://api.github.com/users/bytecodealliance/repos", "events_url": "https://api.github.com/users/bytecodealliance/events{/privacy}", "received_events_url": "https://api.github.com/users/bytecodealliance/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 101767772, "node_id": "MDEwOlJlcG9zaXRvcnkxMDE3Njc3NzI=", "name": "wasmtime", "full_name": "bytecodealliance/wasmtime", "private": false, "owner": {"login": "bytecodealliance", "id": 54038801, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MDM4ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/54038801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bytecodealliance", "html_url": "https://github.com/bytecodealliance", "followers_url": "https://api.github.com/users/bytecodealliance/followers", "following_url": "https://api.github.com/users/bytecodealliance/following{/other_user}", "gists_url": "https://api.github.com/users/bytecodealliance/gists{/gist_id}", "starred_url": "https://api.github.com/users/bytecodealliance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bytecodealliance/subscriptions", "organizations_url": "https://api.github.com/users/bytecodealliance/orgs", "repos_url": "https://api.github.com/users/bytecodealliance/repos", "events_url": "https://api.github.com/users/bytecodealliance/events{/privacy}", "received_events_url": "https://api.github.com/users/bytecodealliance/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/bytecodealliance/wasmtime", "description": "A lightweight WebAssembly runtime that is fast, secure, and standards-compliant", "fork": false, "url": "https://api.github.com/repos/bytecodealliance/wasmtime", "forks_url": "https://api.github.com/repos/bytecodealliance/wasmtime/forks", "keys_url": "https://api.github.com/repos/bytecodealliance/wasmtime/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/bytecodealliance/wasmtime/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/bytecodealliance/wasmtime/teams", "hooks_url": "https://api.github.com/repos/bytecodealliance/wasmtime/hooks", "issue_events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/events{/number}", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/events", "assignees_url": "https://api.github.com/repos/bytecodealliance/wasmtime/assignees{/user}", "branches_url": "https://api.github.com/repos/bytecodealliance/wasmtime/branches{/branch}", "tags_url": "https://api.github.com/repos/bytecodealliance/wasmtime/tags", "blobs_url": "https://api.github.com/repos/bytecodealliance/wasmtime/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/bytecodealliance/wasmtime/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/bytecodealliance/wasmtime/git/refs{/sha}", "trees_url": "https://api.github.com/repos/bytecodealliance/wasmtime/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/bytecodealliance/wasmtime/statuses/{sha}", "languages_url": "https://api.github.com/repos/bytecodealliance/wasmtime/languages", "stargazers_url": "https://api.github.com/repos/bytecodealliance/wasmtime/stargazers", "contributors_url": "https://api.github.com/repos/bytecodealliance/wasmtime/contributors", "subscribers_url": "https://api.github.com/repos/bytecodealliance/wasmtime/subscribers", "subscription_url": "https://api.github.com/repos/bytecodealliance/wasmtime/subscription", "commits_url": "https://api.github.com/repos/bytecodealliance/wasmtime/commits{/sha}", "git_commits_url": "https://api.github.com/repos/bytecodealliance/wasmtime/git/commits{/sha}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/comments{/number}", "issue_comment_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/comments{/number}", "contents_url": "https://api.github.com/repos/bytecodealliance/wasmtime/contents/{+path}", "compare_url": "https://api.github.com/repos/bytecodealliance/wasmtime/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/bytecodealliance/wasmtime/merges", "archive_url": "https://api.github.com/repos/bytecodealliance/wasmtime/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/bytecodealliance/wasmtime/downloads", "issues_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues{/number}", "pulls_url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls{/number}", "milestones_url": "https://api.github.com/repos/bytecodealliance/wasmtime/milestones{/number}", "notifications_url": "https://api.github.com/repos/bytecodealliance/wasmtime/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels{/name}", "releases_url": "https://api.github.com/repos/bytecodealliance/wasmtime/releases{/id}", "deployments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/deployments", "created_at": "2017-08-29T14:01:55Z", "updated_at": "2026-01-21T02:27:37Z", "pushed_at": "2026-01-21T00:07:18Z", "git_url": "git://github.com/bytecodealliance/wasmtime.git", "ssh_url": "git@github.com:bytecodealliance/wasmtime.git", "clone_url": "https://github.com/bytecodealliance/wasmtime.git", "svn_url": "https://github.com/bytecodealliance/wasmtime", "homepage": "https://wasmtime.dev/", "size": 137884, "stargazers_count": 17476, "watchers_count": 17476, "language": "Rust", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": true, "has_discussions": false, "forks_count": 1596, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 830, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["aot", "cranelift", "jit", "lightweight", "portable", "runtime", "rust", "sandbox", "standalone", "wasi", "wasm", "wasmtime", "webassembly"], "visibility": "public", "forks": 1596, "open_issues": 830, "watchers": 17476, "default_branch": "main"}}, "_links": {"self": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2657"}, "html": {"href": "https://github.com/bytecodealliance/wasmtime/pull/2657"}, "issue": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657"}, "comments": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/comments"}, "review_comments": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2657/comments"}, "review_comment": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2657/commits"}, "statuses": {"href": "https://api.github.com/repos/bytecodealliance/wasmtime/statuses/e2c801a5928e481499bcad204d79897cebdb653b"}}, "author_association": "MEMBER", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 1, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 246, "deletions": 246, "changed_files": 53}}