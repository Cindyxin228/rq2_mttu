{"window": ["2023-01-03T22:20:40.063970+00:00", "2024-09-05T12:51:32.236412+00:00"], "repo_slug": "scylladb/scylla-rust-driver", "candidates": [{"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1070", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1070/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1070/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1070/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1070", "id": 2507525350, "node_id": "PR_kwDOEj0F6856gv_U", "number": 1070, "title": "Release 0.14", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-09-05T11:31:12Z", "updated_at": "2024-09-05T11:53:18Z", "closed_at": "2024-09-05T11:53:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1070", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1070", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1070.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1070.patch", "merged_at": "2024-09-05T11:53:18Z"}, "body": "Proposed release notes:\r\n```\r\nThe ScyllaDB team is pleased to announce ScyllaDB Rust Driver 0.14.0,\r\nan asynchronous CQL driver for Rust, optimized for Scylla, but also compatible with Apache Cassandra!\r\n\r\nSome interesting statistics:\r\n\r\n- over 2.103k downloads on crates!\r\n- over 556 GitHub stars!\r\n\r\n## Changes\r\n\r\n**API cleanups / breaking changes:**\r\n- Our session & paging API was revamped so that it is more intuitive and robust. Now the type of the query (paged / unpaged) is tied to the method used to execute it (`execute_unpaged` / `execute_single_page` / `execute_iter`) rather than the page size associated with the statement object. Other changes include ([#1061](https://github.com/scylladb/scylla-rust-driver/pull/1061)):\r\n\t- Introduced strongly typed paging state instead of using `Bytes`.\r\n\t- Paging state is explicitly returned from `execute_single_page` instead of being a field in `QueryResult`.\r\n\t- Made `page_size` on the statements mandatory and providing the default value.\r\n\t- Updated our docs and examples to point users towards paged queries and explaining the issues with unpaged SELECTs. ([#1069](https://github.com/scylladb/scylla-rust-driver/pull/1069), [#1068](https://github.com/scylladb/scylla-rust-driver/pull/1068))\r\n- Trait `SerializeCql` was renamed to `SerializeValue` because old name turned out to be confusing for users. ([#1000](https://github.com/scylladb/scylla-rust-driver/pull/1000))\r\n- Features `chrono`, `time` and `secret` were renamed to `chrono-04`, `time-03` and `secrecy-08` to allow us to support new major versions of those libraries in the future. ([#939](https://github.com/scylladb/scylla-rust-driver/pull/939))\r\n- Some of our error types were restructured to be more strongly typed (instead of just containing a string) and better reflect the conditions that they appear in. This work will be continued in 0.15. ([#1017](https://github.com/scylladb/scylla-rust-driver/pull/1017), [#1026](https://github.com/scylladb/scylla-rust-driver/pull/1026))\r\n- `QueryResult.col_specs` was changed from being a field to a method in order to allow sharing it with `PreparedStatement`. ([#1065](https://github.com/scylladb/scylla-rust-driver/pull/1065))\r\n- Moved `ResultMetadata.paging_state` field to `Rows.paging_state_response`. This is because paging state is something that changes on each paged request and should not be cached by `PreparedStatement`. ([#1065](https://github.com/scylladb/scylla-rust-driver/pull/1065))\r\n- Some parts of our upcoming deserialization refactor were merged, resulting in very minor breaking changes in our error types. The rest of deserialization refactor is planned for 0.15. ([#970](https://github.com/scylladb/scylla-rust-driver/pull/970), [#1004](https://github.com/scylladb/scylla-rust-driver/pull/1004), [#1024](https://github.com/scylladb/scylla-rust-driver/pull/1024), [#1065](https://github.com/scylladb/scylla-rust-driver/pull/1065))\r\n\r\n**New features / enhancements:**\r\n- Values that driver sends to server to identify itself in `STARTUP` message (`DRIVER_NAME`, `DRIVER_VERSION`) can now be configured using new `SelfIdentity` API in `SessionBuilder`. ([#1039](https://github.com/scylladb/scylla-rust-driver/pull/1039))\r\n- Replaced some `.unwrap()`s with `.expect()`s in the code generated by our derive macros. This is done to avoid angering `unwrap_used` clippy lint and to provide better error messages if those panics are ever triggered. ([#1055](https://github.com/scylladb/scylla-rust-driver/pull/1055))\r\nhttps://github.com/scylladb/scylla-rust-driver/pull/1019\r\n\r\n**Documentation:**\r\n- Documentation about using timeuuid type was improved. ([#980](https://github.com/scylladb/scylla-rust-driver/pull/980))\r\n- Improved documentation about `PreparedStatement`. ([#986](https://github.com/scylladb/scylla-rust-driver/pull/986))\r\n- Updated Scylla Sphinx theme to version 1.7. ([#994](https://github.com/scylladb/scylla-rust-driver/pull/994))\r\n- Added support for building documentation on Mac. ([#927](https://github.com/scylladb/scylla-rust-driver/pull/927))\r\n\r\n**CI / developer tool improvements:**\r\n- [#1011](https://github.com/scylladb/scylla-rust-driver/pull/1011) fixed some issue with tests and CI:\r\n\t- CI now prints versions of used Rust tools so we don't have to wonder what version is running on Github Actions runners again.\r\n\t- Disabled tablets in tests that use LWT because Scylla doesn't support it yet, and other minor tablet-related changes.\r\n\t- Restricted Tokio version because of regression when `[tokio::test]` is used with `[ntest::timeout]`\r\n- [#1019](https://github.com/scylladb/scylla-rust-driver/pull/1019) removed aforementioned Tokio version bounds after regression was fixed there.\r\n- Clippy lints that were previously skipped in two places are enabled again because Darling crate that was triggering them was fixed. ([#1036](https://github.com/scylladb/scylla-rust-driver/pull/1036))\r\n\r\n**Others:**\r\n- Updated maintainers list in `CONTRIBUTING.md`. ([#997](https://github.com/scylladb/scylla-rust-driver/pull/997))\r\n\r\nCongrats to all contributors and thanks everyone for using our driver!\r\n\r\n----------\r\n\r\nThe source code of the driver can be found here:\r\n- [https://github.com/scylladb/scylla-rust-driver](https://github.com/scylladb/scylla-rust-driver)\r\nContributions are most welcome!\r\n\r\nThe official crates.io registry entry is here:\r\n- [https://crates.io/crates/scylla](https://crates.io/crates/scylla)\r\n\r\nThank you for your attention, please do not hesitate to contact us if you have any questions, issues, feature requests, or are simply interested in our driver!\r\n\r\nContributors since the last release:\r\n\r\n| commits | author            |\r\n|---------|-------------------|\r\n| 163     | Wojciech Przytu\u0142a |\r\n| 55      | Miko\u0142aj Uzarski   |\r\n| 17      | Karol Bary\u0142a      |\r\n| 3       | David Garcia      |\r\n| 2       | Lucas Kent        |\r\n| 2       | Piotr Dulikowski  |\r\n| 1       | Daniel Reis       |\r\n| 1       | Dmitry Kropachev  |\r\n| 1       | Kailokk           |\r\n```", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1070/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1070/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1064", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1064/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1064/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1064/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1064", "id": 2481043961, "node_id": "PR_kwDOEj0F6855I7-x", "number": 1064, "title": "Release 0.13.2", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-08-22T15:09:16Z", "updated_at": "2024-08-22T15:27:43Z", "closed_at": "2024-08-22T15:27:42Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1064", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1064", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1064.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1064.patch", "merged_at": "2024-08-22T15:27:42Z"}, "body": "The ScyllaDB team is pleased to announce ScyllaDB Rust Driver 0.13.2,\r\nan asynchronous CQL driver for Rust, optimized for Scylla, but also compatible with Apache Cassandra!\r\n\r\nSome interesting statistics:\r\n\r\n- over 2,080k downloads on crates!\r\n- over 554 GitHub stars!\r\n\r\n## Changes\r\n\r\n**Bug fixes:**\r\n- Made driver issue a warning and continue instead of failing if an invalid peer is encountered in system tables ([#1045](https://github.com/scylladb/scylla-rust-driver/pull/1045))\r\n- Fixed bug that **paged queries would be broken when the recently introduced `use_cached_metadata` flag was set** on a `PreparedStatement`([#1063](https://github.com/scylladb/scylla-rust-driver/pull/1063))\r\n\r\n**Documentation:**\r\n- Documented `DefaultPolicy` (Load Balancing) with a lot of comments intended for developers to understand its logic easier ([#1062](https://github.com/scylladb/scylla-rust-driver/pull/1062))\r\n\r\n**CI / developer tool improvements:**\r\n- Appeased Clippy again ([#1046](https://github.com/scylladb/scylla-rust-driver/pull/1046))\r\n- Turned tablets off for Counter tests, as tablets do not support Counters yet ([#1060](https://github.com/scylladb/scylla-rust-driver/pull/1060))\r\n- Added scylla_cloud_tests to `cfg` allowlist (after such allowlist was made mandatory) ([#1049](https://github.com/scylladb/scylla-rust-driver/pull/1049))\r\n- Fixed semver-checks failure after its unexpected breaking update ([#1050](https://github.com/scylladb/scylla-rust-driver/pull/1050), [#1051](https://github.com/scylladb/scylla-rust-driver/pull/1051))\r\n\r\n\r\nCongrats to all contributors and thanks everyone for using our driver!\r\n\r\n----------\r\n\r\nThe source code of the driver can be found here:\r\n- [https://github.com/scylladb/scylla-rust-driver](https://github.com/scylladb/scylla-rust-driver)\r\nContributions are most welcome!\r\n\r\nThe official crates.io registry entry is here:\r\n- [https://crates.io/crates/scylla](https://crates.io/crates/scylla)\r\n\r\nThank you for your attention, please do not hesitate to contact us if you have any questions, issues, feature requests, or are simply interested in our driver!\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1064/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1064/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1049", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1049/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1049/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1049/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1049", "id": 2439911204, "node_id": "PR_kwDOEj0F6852_N9U", "number": 1049, "title": "scylla: add scylla_cloud_tests to cfg allowlist", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-07-31T12:16:01Z", "updated_at": "2024-08-20T08:07:49Z", "closed_at": "2024-07-31T13:31:35Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1049", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1049", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1049.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1049.patch", "merged_at": "2024-07-31T13:31:35Z"}, "body": "With rust 1.80, cfg parameters are checked by the compiler, so that warnings are emitted when unexpected cfg parameter is encountered. As we are using `cfg(scylla_cloud_tests)` to conditionally compile tests applicable for Scylla Serverless Cloud, that parameter is listed in Cargo.toml to prevent warnings.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.~~\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1049/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1049/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1040", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1040/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1040/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1040/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1040", "id": 2403446154, "node_id": "PR_kwDOEj0F6851HD_W", "number": 1040, "title": "Release 0.13.1", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-07-11T15:12:15Z", "updated_at": "2024-07-11T17:12:50Z", "closed_at": "2024-07-11T17:12:50Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1040", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1040", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1040.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1040.patch", "merged_at": "2024-07-11T17:12:50Z"}, "body": "The ScyllaDB team is pleased to announce ScyllaDB Rust Driver 0.13.1,\r\nan asynchronous CQL driver for Rust, optimized for Scylla, but also compatible with Apache Cassandra!\r\n\r\nSome interesting statistics:\r\n\r\n- over 1,905k downloads on crates!\r\n- over 545 GitHub stars!\r\n\r\n## Changes\r\n\r\n**Bug fixes:**\r\n- Made `log` logger work with the driver again ([#992](https://github.com/scylladb/scylla-rust-driver/pull/992))\r\n- Fixed bug that Batches would be always sent as LOGGED if they contain any unprepared statement (`Query`) ([#1038](https://github.com/scylladb/scylla-rust-driver/pull/1038))\r\n- Fixed two efficiency-related bugs in default load balancing policy ([#1037](https://github.com/scylladb/scylla-rust-driver/pull/1037))\r\n\r\n**Documentation:**\r\n- Documented logging with `tracing` and `log` libraries and provided an example ([#992](https://github.com/scylladb/scylla-rust-driver/pull/992))\r\n\r\n**CI / developer tool improvements:**\r\n- Silenced mock structs unused warning ([#996](https://github.com/scylladb/scylla-rust-driver/pull/996))\r\n- Appeased Clippy again ([#1002](https://github.com/scylladb/scylla-rust-driver/pull/1002) and [#1013](https://github.com/scylladb/scylla-rust-driver/pull/1013))\r\n- Turned tablets off for LWT tests, as tablets do not support LWT yet ([d20aed54](https://github.com/scylladb/scylla-rust-driver/commit/d20aed54))\r\n- Made LWT tests ignored when testing with tablets, as tablets do not support LWT yet ([2bd45560](https://github.com/scylladb/scylla-rust-driver/commit/2bd45560))\r\n\r\nCongrats to all contributors and thanks everyone for using our driver!\r\n\r\n----------\r\n\r\nThe source code of the driver can be found here:\r\n- [https://github.com/scylladb/scylla-rust-driver](https://github.com/scylladb/scylla-rust-driver)\r\nContributions are most welcome!\r\n\r\nThe official crates.io registry entry is here:\r\n- [https://crates.io/crates/scylla](https://crates.io/crates/scylla)\r\n\r\nThank you for your attention, please do not hesitate to contact us if you have any questions, issues, feature requests, or are simply interested in our driver!\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1040/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1040/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1036", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1036/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1036/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1036/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1036", "id": 2398522717, "node_id": "PR_kwDOEj0F68502d5B", "number": 1036, "title": "macros: enable clippy lints after darling fix", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-07-09T15:25:47Z", "updated_at": "2024-10-29T14:35:41Z", "closed_at": "2024-07-09T18:06:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1036", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1036", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1036.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1036.patch", "merged_at": "2024-07-09T18:06:27Z"}, "body": "Fix: https://github.com/scylladb/scylla-rust-driver/issues/1015\r\n\r\nBumped darling to v0.20.10. This version of darling appeases the clippy lints - we don't need to disable them anymore.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~[ ] I have provided docstrings for the public items that I want to introduce.~\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1036/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1036/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1019", "id": 2369234443, "node_id": "PR_kwDOEj0F685zUC7I", "number": 1019, "title": "Remove tokio version bounds", "user": {"login": "rukai", "id": 5120858, "node_id": "MDQ6VXNlcjUxMjA4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5120858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rukai", "html_url": "https://github.com/rukai", "followers_url": "https://api.github.com/users/rukai/followers", "following_url": "https://api.github.com/users/rukai/following{/other_user}", "gists_url": "https://api.github.com/users/rukai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rukai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rukai/subscriptions", "organizations_url": "https://api.github.com/users/rukai/orgs", "repos_url": "https://api.github.com/users/rukai/repos", "events_url": "https://api.github.com/users/rukai/events{/privacy}", "received_events_url": "https://api.github.com/users/rukai/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2024-06-24T05:18:12Z", "updated_at": "2024-06-26T13:52:05Z", "closed_at": "2024-06-26T13:52:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1019", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1019", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1019.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1019.patch", "merged_at": "2024-06-26T13:52:05Z"}, "body": "This is fine now since https://github.com/tokio-rs/tokio/issues/6610 is resolved via https://github.com/becheran/ntest/pull/28 which has now been released in ntest 0.9.3\r\nThis PR also bumps the itertools + base64 versions, since they are trivial upgrades\r\n\r\nThe latest git main branch of scylla-rust-driver fails to build in my project due to the version restriction, these kinds of version restrictions often cause problems like this, so it would be bad for such a version restriction to end up in a release.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1011", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1011/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1011/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1011/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1011", "id": 2348285462, "node_id": "PR_kwDOEj0F685yNgY4", "number": 1011, "title": "CI: fix issues related to `[tokio::test]`/`[ntest::timeout]` attributes and tablets with LWT", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2024-06-12T09:31:03Z", "updated_at": "2024-10-29T14:35:32Z", "closed_at": "2024-06-13T09:21:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1011", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1011", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1011.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1011.patch", "merged_at": "2024-06-13T09:21:31Z"}, "body": "This PR fixes the issues with CI that happen lately.\r\n\r\nChanges:\r\n- Printing rust tools' versions in CI. This might be helpful for future investigations in case of CI failures.\r\n- Put restrictions on tokio version. Bumped minimal version to 1.34. The version should be lower than 1.38, because of the issues with `[tokio::test]` and `[ntest::timeout]` attributes. Ref: https://github.com/tokio-rs/tokio/issues/6610. Remove this restriction once the issue is fixed.\r\n- Disabling tablets in tests that use LWT.\r\n- Marked `test_lwt_optimization_works_with_tablets` with `#[ignore]` (tests LWT + tablets).\r\n- Removed `tablets.yml` workflow, since tablets are stable in newest releases of Scylla - no need to create a separate job for tablets which creates a cluster with `ccm`.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~[ ] I have provided docstrings for the public items that I want to introduce.~\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1011/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1011/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1004", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1004/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1004/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1004/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1004", "id": 2307525595, "node_id": "PR_kwDOEj0F685wCsSM", "number": 1004, "title": "Pre-deserialization-refactor preparatory changes", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/11", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/11", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/11/labels", "id": 10992936, "node_id": "MI_kwDOEj0F684Ap70o", "number": 11, "title": "0.14.0", "description": "- part of errors refactor\r\n- paging API refactor", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2024-04-30T11:09:39Z", "updated_at": "2024-09-17T09:47:02Z", "due_on": "2024-08-29T00:00:00Z", "closed_at": "2024-09-17T09:47:02Z"}, "comments": 2, "created_at": "2024-05-21T07:20:06Z", "updated_at": "2024-05-21T09:43:28Z", "closed_at": "2024-05-21T09:43:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1004", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1004", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1004.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1004.patch", "merged_at": "2024-05-21T09:43:24Z"}, "body": "This is a bunch of preparatory changes to come before the proper deserialization refactor.\r\nTo avoid the PR with the first deserialization refactor portion being so big, I extracted them here to be merged sooner.\r\n\r\n### What's done:\r\n- `types::write_bytes_opt()` becomes more generic;\r\n- types: return `std::io::Error` instead of `ParseError` where possible - don't unnecessarily broaden the codomain of those functions (not to have to unnecessarily pattern match on their returned error type);\r\n- scylla-cql: add `assert_matches` as dev-dep. It will be helpful in testing deserialization framework, and will also be used in serialization instead of `assert!(matches!(...))`;\r\n- codewide: ditch assert!(matches!(...)) - as assert_matches!(...) provide superior experience (providing helpful debugging messages with how the mismatched type looked like), all `assert!(matches!(...))` occurences across the code were changed to `assert_matches!(...)`;\r\n- serialize: deduplicate `do_serialize[_err]`;\r\n- serialize errors:\r\n  - names and error messages are changed to better reflect reality;\r\n  - a bunch of typos are fixed, and some names are changed to be more explicit;\r\n  - where possible, `write!(f, ...)` is replaced with `f.write_str(...)` for performance. \r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1004/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/995", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/995/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/995/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/995/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/995", "id": 2287884628, "node_id": "PR_kwDOEj0F685vAE5d", "number": 995, "title": "Release 0.13", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-05-09T15:05:38Z", "updated_at": "2024-05-09T15:50:41Z", "closed_at": "2024-05-09T15:50:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/995", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/995", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/995.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/995.patch", "merged_at": "2024-05-09T15:50:41Z"}, "body": "This is a draft for 0.13 release. \r\nSteps I'll perform after approval:\r\n\r\n```\r\n# Perform fast-forward merge\r\ngit checkout main\r\ngit merge --ff-only branch-0.13.x\r\n\r\n# Create the tag\r\ngit tag -a v0.13.0\r\ngit push origin v0.13.0\r\n\r\n# Push the branch - need to push after the tag because otherwise docs will fail to build\r\ngit push origin main\r\n\r\n# Now verify that docs was built and published successfully\r\n\r\n# Publish new version to crates.io\r\ncargo publish -p scylla-macros\r\ncargo publish -p scylla-cql\r\ncargo publish -p scylla\r\n\r\n# Create a github release with previously approved release notes\r\n\r\n# Create post on the forum about release\r\n```\r\n\r\nProposed release notes:\r\n\r\n---\r\n\r\nThe ScyllaDB team is pleased to announce ScyllaDB Rust Driver 0.13.0,\r\nan asynchronous CQL driver for Rust, optimized for Scylla, but also compatible with Apache Cassandra!\r\n\r\nSome interesting statistics:\r\n\r\n- over 1,615k downloads on crates!\r\n- over 520 GitHub stars!\r\n\r\n## Changes\r\n\r\n**API cleanups / breaking changes:**\r\n\r\n- Implemented support for Tablets, a new major architectural feature of Scylla that will be a part of upcoming 6.0 release. This support is required for token (and shard) awareness to work with Tablet-based tables. You can read more about Tablets [in a blogpost by Tomasz Grabiec](https://www.scylladb.com/2023/07/10/why-scylladb-is-moving-to-a-new-replication-algorithm-tablets/) or watch a [presentation by Avi Kivity](https://www.scylladb.com/presentations/tablets-rethinking-replication/)  ([#937](https://github.com/scylladb/scylla-rust-driver/pull/937))\r\n- Enabled *shard-selecting* load balancing. Before, a `LoadBalancingPolicy` would return a `Plan` consisting of `Node`s;\r\nnow, together with a `Node` it can optionally specify the `Shard` to contact as well. This is crucial for proper Tablets support (see above). Main PR [#944](https://github.com/scylladb/scylla-rust-driver/pull/944), with follow up [#969](https://github.com/scylladb/scylla-rust-driver/pull/969)\r\n- `Token`: added constructor and normalization to increase type-safety ([#948](https://github.com/scylladb/scylla-rust-driver/pull/948))\r\n- Removed another unstable dependency, `histogram::Histogram`, from public API ([#935](https://github.com/scylladb/scylla-rust-driver/pull/935))\r\n- Implemented CQL protocol-level optimisation: prepared statement result metadata can be now used to decode rows. **This saves network bandwidth if that option is enabled, because result metadata need not be sent with each DB query result.** ([#925](https://github.com/scylladb/scylla-rust-driver/pull/925))\r\n- Removed `num_enum` dependency. It was unstable, and we managed to do without it, so it no longer appears in the public API. ([#931](https://github.com/scylladb/scylla-rust-driver/pull/931))\r\n- Decreased pub visibility of `scylla-cql` definitions which weren't intended for access from outside the driver. ([#933](https://github.com/scylladb/scylla-rust-driver/pull/933))\r\n\r\n**New features / enhancements:**\r\n\r\n- Improved the `FromRow` derive macro to suppport structs with unnamed fields. Before, only structs with named fields were supported. ([#985](https://github.com/scylladb/scylla-rust-driver/pull/985))\r\n- testing: Increased timeout for fetching tracing info - Cassandra was so slow in tests that our CI used to fail sometimes... ([#966](https://github.com/scylladb/scylla-rust-driver/pull/966))\r\n- Removed `strum` and `strum_macros` dependencies. They were unstable, and we managed to do without it. ([#934](https://github.com/scylladb/scylla-rust-driver/pull/934))\r\n\r\n**Documentation:**\r\n\r\n- Got rid of (most) uses of `QueryResult::rows`. The preferred method is the more type safe `QueryResult::rows_typed`. Moreover, **`QueryResult::rows` is going to be deprecated** in the next release, once the new lazy deserialization framework is introduced. We thus recommend switching to `rows_typed` wherever possible. ([#955](https://github.com/scylladb/scylla-rust-driver/pull/955))\r\n\r\n**CI / developer tool improvements:**\r\n\r\n- Removed unreachable `pub`s ([#958](https://github.com/scylladb/scylla-rust-driver/pull/958))\r\n- Dealed with `chrono` deprecations ([#951](https://github.com/scylladb/scylla-rust-driver/pull/951))\r\n- CI: run `cargo clean` before tests ([#929](https://github.com/scylladb/scylla-rust-driver/pull/929))\r\n- CI: small fixes in semver checks ([#942](https://github.com/scylladb/scylla-rust-driver/pull/942))\r\n- CI: semver_checks now edits its comment instead of posting new one, so that the PR wall is less cluttered. ([#952](https://github.com/scylladb/scylla-rust-driver/pull/952))\r\n- CI: Tracing output is now shown for a test iff the test failed. This is a major aid in debugging in CI. ([#959](https://github.com/scylladb/scylla-rust-driver/pull/959))\r\n- Reverted *\"CI/Makefile: disable `uninlined_format_args` clippy lint\"*, as `rust-analyzer` now properly supports semantic analysis of such format args. ([#945](https://github.com/scylladb/scylla-rust-driver/pull/945))\r\n- Appeased Clippy again ([#971](https://github.com/scylladb/scylla-rust-driver/pull/971))\r\n\r\nCongrats to all contributors and thanks everyone for using our driver!\r\n\r\n----------\r\n\r\nThe source code of the driver can be found here:\r\n- [https://github.com/scylladb/scylla-rust-driver](https://github.com/scylladb/scylla-rust-driver)\r\nContributions are most welcome!\r\n\r\nThe official crates.io registry entry is here:\r\n- [https://crates.io/crates/scylla](https://crates.io/crates/scylla)\r\n\r\nThank you for your attention, please do not hesitate to contact us if you have any questions, issues, feature requests, or are simply interested in our driver!\r\n\r\nContributors since the last release:\r\n\r\n|commits|author|\r\n|----|--|\r\n| 40 | Karol Bary\u0142a |\r\n| 24 | Miko\u0142aj Uzarski |\r\n| 10 | Wojciech Przytu\u0142a |\r\n| 1 | Piotr Dulikowski |\r\n| 1 | Piotr Grabowski |\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/995/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/992", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/992/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/992/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/992/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/992", "id": 2275817919, "node_id": "PR_kwDOEj0F685uX-Kl", "number": 992, "title": "Remove `.with_current_subscriber()` calls", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2024-05-02T15:25:29Z", "updated_at": "2024-05-14T12:02:59Z", "closed_at": "2024-05-14T12:02:58Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/992", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/992", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/992.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/992.patch", "merged_at": "2024-05-14T12:02:58Z"}, "body": "Those calls were introduced in e5570956758503a8f0a7ed0ad1c649909f370a73,\r\nwith message:\r\n```\r\nNow, when the driver spawns a task to run a new future on it, that\r\nfuture will use the same subscriber as the code that spawned the task in\r\nthe first place.\r\n```\r\n\r\nThere is unfortunately no explanation about when it is necessary.\r\nI don't see any problems after removing those - logs are still collected correctly using a tracing subscriber.\r\nThose calls however have a harmful side-effect: they prevent usage of `log` loggers to listen to driver logs using `log` feature in `tracing` crate, which was reported in https://github.com/scylladb/scylla-rust-driver/issues/860 .\r\nAfter reporting the problem to `tracing` crate (https://github.com/tokio-rs/tracing/issues/2913) one of maintainers said that using `.with_current_subscriber()` in a library is not necessary in general.\r\n\r\nAs I don't see any issue caused by removing these calls, but their existence cause an issue, they are removed in this PR.\r\nThe PR also introduces an example showing usage of the driver with `env_logger` and adjusts documentation about logging.\r\n\r\nFixes: #860 \r\n\r\n@piodul if you remember why those calls were added please explain, because I have no idea in which scenario they could be necessary.\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/992/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/992/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/980", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/980/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/980/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/980/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/980", "id": 2245622793, "node_id": "PR_kwDOEj0F685sx-E0", "number": 980, "title": "docs: adding context to timeuuid using v1 feature", "user": {"login": "danielhe4rt", "id": 6912596, "node_id": "MDQ6VXNlcjY5MTI1OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6912596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielhe4rt", "html_url": "https://github.com/danielhe4rt", "followers_url": "https://api.github.com/users/danielhe4rt/followers", "following_url": "https://api.github.com/users/danielhe4rt/following{/other_user}", "gists_url": "https://api.github.com/users/danielhe4rt/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielhe4rt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielhe4rt/subscriptions", "organizations_url": "https://api.github.com/users/danielhe4rt/orgs", "repos_url": "https://api.github.com/users/danielhe4rt/repos", "events_url": "https://api.github.com/users/danielhe4rt/events{/privacy}", "received_events_url": "https://api.github.com/users/danielhe4rt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2443370609, "node_id": "MDU6TGFiZWwyNDQzMzcwNjA5", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/area/documentation", "name": "area/documentation", "color": "25E487", "default": false, "description": "Improvements or additions to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2024-04-16T09:51:41Z", "updated_at": "2024-05-13T05:19:33Z", "closed_at": "2024-05-13T05:19:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/980", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/980", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/980.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/980.patch", "merged_at": "2024-05-13T05:19:33Z"}, "body": "## Motivation\r\n\r\nI decided to give more context for newcomers that want to try Timeuuid in the Rust Driver. Since I didn't had that much experience in the beginning and struggled for a while until understand how to use it.\r\n\r\nAlso I still didn't understand when and how I should generate the the node_id on `uuid::new_v1([])` parameters and IMHO it would be a great addition to the docs. \r\n\r\n### Fixes\r\n- [x] Add context to `uuid::v1` usage\r\n- [x] (Optional) Add context to `new_v1()` node_id numbers\r\n\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/980/reactions", "total_count": 15, "+1": 0, "-1": 0, "laugh": 0, "hooray": 5, "confused": 0, "heart": 6, "rocket": 4, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/980/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/970", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/970/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/970/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/970/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/970", "id": 2204373525, "node_id": "PR_kwDOEj0F685qldhN", "number": 970, "title": "Deserialization refactor: introduce new deserialization traits", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4712022841, "node_id": "LA_kwDOEj0F688AAAABGNvDOQ", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/performance", "name": "performance", "color": "1D76DB", "default": false, "description": "Improves performance of existing features"}, {"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/11", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/11", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/11/labels", "id": 10992936, "node_id": "MI_kwDOEj0F684Ap70o", "number": 11, "title": "0.14.0", "description": "- part of errors refactor\r\n- paging API refactor", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2024-04-30T11:09:39Z", "updated_at": "2024-09-17T09:47:02Z", "due_on": "2024-08-29T00:00:00Z", "closed_at": "2024-09-17T09:47:02Z"}, "comments": 39, "created_at": "2024-03-24T14:16:12Z", "updated_at": "2024-06-13T09:45:56Z", "closed_at": "2024-06-13T09:45:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/970", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/970", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/970.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/970.patch", "merged_at": "2024-06-13T09:45:48Z"}, "body": "Fixes #961\r\nFixes #963\r\n\r\nHuge credits to @piodul for creating most of the new deserialization framework!\r\n\r\n## The new traits\r\nThis PR introduces the new deserialization traits, `DeserializeValue` and `DeserializeRow`, which are going to replace `FromCqlVal` and `FromRow`, respectively.\r\n\r\nIf a type implements `DeserializeValue<'f>`, this means that it can take a buffer of lifetime `'f` and deserialize itself, treating the contents of the buffer as a CQL value. Analogously, `DeserializeRow<'f>` allows for deserialization of types that are supposed to represent a whole row returned in the results.\r\n\r\nDeserialization is now split into two phases: type checking and actual deserialization. Both traits have two methods: `type_check` and `deserialize`. The idea behind this is to validate the column types of the response only once, after the response is received. The `deserialize` method is then called for each row/value to perform the actual parsing: that method is allowed to assume that `type_check` was called and may skip some type checking for performance (although it cannot use that assumption to perform unsafe operations, it is not an unsafe method).\r\n    \r\nThe previous framework only supported deserialization of types that exclusively own their data, for example `String` or `Vec<u8>`. However, the new framework allows for types that borrow or co-own the frame buffer:\r\n    - Types that borrow the buffer are `&'f str` and `&'f [u8]`. They just point to the raw data from the serialized response. Rust's lifetime system  makes sure that the the user doesn't deallocate the serialized  response until using the deserialized types that point to the buffer are dropped. Apart from the aforementioned types, a bunch of iterator types have been introduced that allow consuming collections without allocations.\r\n    - Serialized frame is represented with `bytes::Bytes`. It is possible to create a subslice (also of type `Bytes`) that keep the original alive. The type being deserialized can obtain access to such subslice. Like in the case of e.g. `&str` vs. `String`, keeping `Bytes`  allows to avoid an allocation, but it is also easier to handle as deserialized type doesn't have to be bound by any lifetime. It important to be careful when handling such types as they keep whole serialized frame alive, even if they only point to a subslice. This can lead to a space leak and more memory being used than necessary.\r\n\r\n## Implementation of the new traits for all supported types\r\n\r\n**All the previously supported types** (i.e. those that could be deserialized using the old framework) **are supported now as well**.\r\nThere is only one exception: CQL List is no longer deserializable into a set (`HashSet` or `BTreeSet`), because such conversion could be lossy, which is an unwanted property for deserialization.\r\n\r\n## Errors\r\n\r\nThe error framework is analogous to one used in the serialization framework: `DeserializationError` is added that resembles `SerializationError` and is type-erased as well.\r\n\r\nAs the new deserialization framework has separate `type_check()` and `deserialize()` function (contrary to the serialization framework, which has only one `serialize()` method), it makes sense for them to return distinct errors.\r\nThat's why a new `TypeCheckError` is added, too, which is type-erased as well.\r\n\r\n## Testing\r\n\r\n- All new types are unit tested. \r\n- Additionally, a decent test suite is added to verify compatibility of the old and the new framework. As in a later commit the old framework (`deser_cql_value`) is refactored to use the new one, the compatibility tests are then removed.\r\n- Another test suite is added to check that serialization composed with deserialization yields identity.\r\n- New errors are tested, too, although not exhaustively. I'd prefer not to bog down too much in testing them thoroughly.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/970/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/958", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/958/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/958/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/958/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/958", "id": 2186202152, "node_id": "PR_kwDOEj0F685pn0VU", "number": 958, "title": "Remove unreachable pubs", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-03-14T12:17:31Z", "updated_at": "2024-03-18T17:06:26Z", "closed_at": "2024-03-14T18:30:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/958", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/958", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/958.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/958.patch", "merged_at": "2024-03-14T18:30:48Z"}, "body": "Up until now some structs / fields etc were marked as pub despite not being a part of public API.\r\nThis is confusing when reading code: in order to know if something is truly public you need to check all the modules up to lib.rs to verify that each appears in some `pub use`.\r\n\r\nThis PR removes all such occurrences - now something is public if and only if it is marked as pub.\r\nIt also enables rustc lint `unreachable-pub` to prevent such occurences in the future.\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/958/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/951", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/951/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/951/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/951/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/951", "id": 2172432108, "node_id": "PR_kwDOEj0F685o47SM", "number": 951, "title": "Deal with chrono deprecations", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-03-06T21:10:26Z", "updated_at": "2024-03-07T14:59:58Z", "closed_at": "2024-03-07T14:59:58Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/951", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/951", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/951.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/951.patch", "merged_at": "2024-03-07T14:59:58Z"}, "body": "Chrono deprecated several method in 0.4.35 / 0.4.34\r\n\r\n- chrono::Duration::days -> chrono::Duration::try_days New method was introduced in 0.4.33, so quite recently. This requires us to bump minimum chrono version.\r\n\r\n- NaiveDateTime::from_timestamp_opt -> DateTime::from_timestamp This requires some other changes, because of the switch from NaiveDateTime to DateTime.\r\n\r\n- NaiveDateTime::timestamp_millis -> .and_utc().timestamp_millis()\r\n\r\nI also added a comment explaining the implementation of CqlValueDisplayer and why it doesn't use existing `impl TryInto<NaiveDate> for CqlDate`.\r\n\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/950\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/951/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/951/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/944", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/944/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/944/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/944/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/944", "id": 2164516263, "node_id": "PR_kwDOEj0F685oeDYW", "number": 944, "title": "Shard selecting load balancing", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2024-03-02T02:26:40Z", "updated_at": "2024-03-14T11:11:01Z", "closed_at": "2024-03-14T11:11:00Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/944", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/944", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/944.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/944.patch", "merged_at": "2024-03-14T11:11:00Z"}, "body": "This is a more polished version of https://github.com/scylladb/scylla-rust-driver/pull/791\r\nThe changes from #791 are:\r\n- Totally reworked commit structure, so that each commit actually compiles and passes all tests and checks. Doing this took quite a lot of time. Original commit structure was... a bit chaotic.\r\n- Fixed all the warnings\r\n- Removed some functions that were no longer used.\r\n- Updated a comment that became incorrect\r\n\r\nPosting the original description, slightly modified, as it is still relevant:\r\n\r\n# Motivation\r\nMost of our drivers, being inherited from Cassandra, load balance only over nodes, not specific shards. Multiple ideas have arised that could benefit from having a shard-selecting load balancing. Among them:\r\n- **shard-aware batching** (#738);\r\n- **tablets support**:\r\nwith tablets enabled (ATM experimental in ScyllaDB), target shard is not derived from token (computed from partition key), but rather read from `system.tablets`. Therefore, a load balancer should be able to decide a target shard on its own, by abstracting over either token ring or tablets being used for cluster topology.\r\n- **overloaded shard optimisation**:\r\nsome tests have shown that sometimes, when a shard is particularly overloaded, it may be beneficial (performance-wise) to send the request to the proper node, **but** a wrong shard. That shard would then do part of the work that the overloaded shard would else have to do itself.\r\n\r\n# Design\r\n- LB policy now is to return a `(NodeRef, Shard)` pair, enabling finer-grained control over targeted shards.\r\n- regarding tablets support: `ReplicaLocator` is the place where the abstraction over either token ring or tablets is to be implemented. Ideally, the LB policy does not have to be aware of the actual mechanism (token ring or tablets) being used for a particular query.\r\n\r\n# What's done\r\n- internal and public load-balancing-related interfaces are changed from `NodeRef` to `(NodeRef, Shard)` pair,\r\n- shard selection logic is removed from `NodeConnectionPool`; a method is added there that returns a connection to a specific shard,\r\n- `Session`'s logic propagates the load balancing policy's target shard down to the connection pool,\r\n- a stub implementation of shard selection is added to `ReplicaLocator`. At the moment, it simply computes the shard based on the token, the same way as it was done in the connection pool layer before.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/944/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/944/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/939", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/939/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/939/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/939/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/939", "id": 2149363530, "node_id": "PR_kwDOEj0F685nqcGl", "number": 939, "title": "Rename `chrono`, `time` and `secret` features", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/11", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/11", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/11/labels", "id": 10992936, "node_id": "MI_kwDOEj0F684Ap70o", "number": 11, "title": "0.14.0", "description": "- part of errors refactor\r\n- paging API refactor", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2024-04-30T11:09:39Z", "updated_at": "2024-09-17T09:47:02Z", "due_on": "2024-08-29T00:00:00Z", "closed_at": "2024-09-17T09:47:02Z"}, "comments": 12, "created_at": "2024-02-22T15:43:39Z", "updated_at": "2024-10-29T14:35:33Z", "closed_at": "2024-06-19T09:41:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/939", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/939", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/939.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/939.patch", "merged_at": "2024-06-19T09:41:45Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/771\r\n\r\n## Motivation\r\n\r\nTo follow the same naming conventions as for other features, we want to add a crate version numbers to the remaining dependencies hidden behind crate features: `chrono`, `time` and `secrecy`.\r\n\r\n## Changes\r\n### Dependecies versions\r\nI bumped `secrecy` crate version from `0.7.0` to `0.8.0` which is the most recent version.\r\n\r\n### Feature names\r\nRenamed following features (and dependencies):\r\n- feature `chrono` => feature `chrono-04`, dependency `chrono` => dependency `chrono_04` (scylla-cql)\r\n- feature `time` => feature `time-03`, dependency `time` => dependency `time_03` (scylla-cql)\r\n- feature `secret` => feature `secrecy-08`, dependency `secrecy` => dependency `secrecy_08` \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/939/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/937", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/937/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/937/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/937/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/937", "id": 2149309366, "node_id": "PR_kwDOEj0F685nqQU5", "number": 937, "title": "Introduce support for Tablets", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 32, "created_at": "2024-02-22T15:17:20Z", "updated_at": "2024-05-09T13:11:55Z", "closed_at": "2024-05-09T13:11:55Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/937", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/937", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/937.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/937.patch", "merged_at": "2024-05-09T13:11:55Z"}, "body": "This PR introduces support for tablets. The design as a bit different than in the other drivers.\r\n\r\n### For information about what Tablets are see:\r\nhttps://www.scylladb.com/2023/07/10/why-scylladb-is-moving-to-a-new-replication-algorithm-tablets/\r\n\r\n### Driver context\r\nTo give a bit of context of how things are working in Rust Driver now:\r\n`Session` has a `cluster: Cluster` field which in turn has `data: Arc<ArcSwap<ClusterData>>`.\r\n`ClusterData` contains all the schema and topology information. It also contains `ReplicaLocator`, which uses token ring to return a list of replicas for a given token and replication strategy.\r\nDriver can access `ClusterData` cheaply, without the need for any locks. It is used for performing queries and is also exposed to the user: https://docs.rs/scylla/latest/scylla/transport/session/struct.Session.html#method.get_cluster_data\r\nThis data is updated by `ClusterWorker`, running in a separate Tokio task. This worker handles server events, `use_keyspace` requests, manages control connection. When necessary (and also periodically) it re-fetches topology and schema\r\ninformation, creates new `ClusterData` object and then swaps it atomically (for more information see https://docs.rs/arc-swap/latest/arc_swap/ ) with the old one - this way new queries will use new `ClusterData` without disrupting old ones.\r\n\r\n### How does the driver interact with Tablets?\r\nInformation about Tablets are stored in `system.tablets`. Driver could fetch this information to have it always complete and up to date, but that could be overwhelming for the cluster.\r\nThis is because there is just one token ring - token ownership is tied to a node, but in tablets this information is per-table (my intuition about tablets is to see them as per-table token ring that can by dynamically changed). Also there may be more tablets than token ring elements.\r\nNow imagine a scenario where a lot of clients try to reconnect to the cluster, which has a lot of tables. The amount of transferred data would be too big.\r\nFor this reason driver fetches tablets information lazily. When the driver send a statement to a non-replica node, it will receive tablet information in the custom payload of the response.\r\nThis information contains data about the tablet that the statement belongs to: first and last tokens of the tablet + list of tablet replicas (in the form `list<(uuid, shard)>` ).\r\nDriver can then update it's internal tablet information using this feedback, so that the following statements will be sent to a correct replica.\r\n\r\n### Implementation\r\n\r\nInformation about tablets is stored in `ReplicaLocator` (which is inside `ClusterData`), similarly to token ring data.\r\nWhen a connection receives tablet feedback it sends this feedback trough a channel. Receiving end of this channel\r\nis owned by `ClusterWorker`. When it receives something on this channel it clones `ClusterData` (because there is no other way to update it without introducing locks),\r\nupdates tablet info inside and stores it in `ArcSwap` - just like when topology is updated. As an optimisation it tries to retrieve several tablets from the channel at once,\r\nso that when there is a lot of updates we don't perform clone + swap for each of them.\r\n\r\nThis way queries can be executed as before, without any locks and other costly operations, just accessing `ClusterData` which is mostly a simple data structure.\r\n\r\n### Maintanance\r\n\r\nImplementation chosen by Scylla makes things a bit more complicated for the driver.  We only update tablet info when we send a query to a wrong node.\r\nThis means that the information can sometimes become stale\r\n- When a node is removed we would just keep sending queries to other replicas, never receiving new tablet.\r\n- When a keyspace / table is dropped we would unnecessarily keep info about it.\r\n- (may be Rust Driver only) When driver is not aware of one of the replicas yet (e.g. because the node is new and driver didn't yet fetch topology) and we skip this replica we'll increase load on other replicas indefinitely.\r\n- (may be Rust Driver only) When a `Node` object is recreated (this happens when node changes Ip / DC / Rack) tablet info would still contain old objects.\r\n\r\nTo handle those scenarios driver fixes tablet information after fetching new topology. As far as I'm aware other driver don't handle those scenarios, we may need to fix it.\r\nOne scenario which I'm not sure how to handle (and if it's even problematic): what if user changes RF of a keyspace? How does it work with tablets?\r\nIf it just adds a replica to replica list, then we will not use this replica - we'll keep sending requests to other replicas and never receive new tablet info.\r\nI'm not sure how we could detect it and if it's even a problem.\r\n\r\n### Alternative solution\r\n\r\nOne alternative solution would be to use `RwLock` - take a read lock in `ReplicaLocator` to get list of replicas, take a write lock when handling custom payload tablet feedback to update info.\r\nI decided against it because:\r\n- It's possible we would hold a write lock often, slowing down queries. I also don't like the idea of taking a lock in a hot path (executing a query) in general.\r\n- Most of `ClusterData` (pretty much all of it except `Node` objects) is a simple data, without any locks, which makes it simpler to reason about it. I didn't want to change this.\r\n- It makes implementing tablet info maintenance much harder. Doing maintenance would require taking a write lock for a lot of time, hindering performance.\r\n\r\n### Downsides of implemented solution\r\n\r\n- We need to copy `ClusterData` to update tablet info. This won't increase max memory usage - because we already copy it when updating topology - but now we'll copy it more often. Implementing https://github.com/scylladb/scylla-rust-driver/issues/595 will largely mitigate this issue because we won't need to copy schema information, just topology.\r\n- Received tablet info is not immediately used. There may be a brief period after we receive tablet information, but before it is present in `ClusterData` during which we'll keep sending data to wrong nodes. I don't think it's much of a problem - the same thing would happen with any implementation  if you send a few queries to the same parttition at once. The worst thing that happens is that some more queries will be sent to wrong nodes and we'll receive few more feedbacks.\r\n\r\n### LWT\r\nOne note about LWT: with token ring the LWT optimisation (sending LWT prepared statements to the same node from any clients, to avoid conflicts) was working always. Now it requires having tablet info for a given partition - so a first LWT to a given partition will not use the optimisation.\r\n\r\n\r\nTODO:\r\n- [x] Proper commit messages\r\n- [x] Verify content of each commit, change when necessary to ensure each passes CI - There are a few unused function warnings.\r\n- [ ] Run SCT tests with this branch\r\n- [ ] Is there any documentation / comments that need updating?\r\n- [ ] ~~Benchmark possible tablets implementations: vector vs map~~\r\n- [ ] Unit tests for maintenance code \r\n- [x] Don't unwrap when converting number type in Tablet info parsing\r\n- [x] I recently learned that i64::MIN is not a valid token. Need to look into this to check if we properly change it to i64::MAX when hashing. I wonder if such check should instead be moved to `Token` struct.\r\n- [x] CI for tablets, similar to serverless - because it needs unstable scylla version\r\n- [x] Put tablets behind unstable feature flag until they are released in Scylla\r\n\r\n## Past questions / considerations\r\n\r\nDuring implementation I had some dillemas questions, mostly solved / answered now, which are outlined below.\r\n\r\n### Tests with removed / decommisioned nodes\r\n\r\nI'd like to test such scenarios, as suggested by @avelanarius , but I think we don't have a good way to do this now.\r\nThere is proxy, but afaik it can only simulate network errors.\r\nIt would be nice to use ccm (or something like this) in tests and have Rust API for it to manipulate cluster more easily.\r\nNeed to figure out a way to test it now.\r\n\r\nStatus: I'll run some SCT tests using cql-stress built using this branch of driver.\r\n\r\n### Unknown replica\r\n\r\nIs it possible to get a replica uuid in custom payload that we don't know about? What should we do in this case?\r\nRight now I'm just ignoring this replica, but I don't like this. This will cause load to be distributed less evenly\r\nbecause we skip one (or more) of replicas.\r\n\r\nStatus: Implemented tablet maintanance to guard against this and some other problems.\r\n\r\n### What about `ReplicasOrdered`?\r\n\r\nIt returns replicas in ring order, which makes little sense in Tablets tables.\r\nI'm thinking of just editing a comment to say that the order is just consistent, but doesn't have to be ring order.\r\n`ReplicasOrdered` seems to only be used for LWT, so this should be fine.\r\nTo do this, I need to make sure that the order is actually consistent - because it's not obvious.\r\n\r\nAlso, I'd like to have some test that uses the path where it's used - probably neeed to use LWT with Tablet-enabled table?\r\n\r\nStatus: Assumed that replicas are returned in consistent order. Added integration tests performing LWT queries.\r\n\r\n### Integration tests\r\n\r\nI wrote an integration test for tablets (last commit) but it doesn't always work, and I'm not sure how to write a proper test.\r\nThe test first inserts some row. Each query is executed multiple times and the test checks that at least one execution\r\nwas sent to wrong node and recevied tablet feedback. This is not always the case and I'm not sure how to force it.\r\n\r\n@avelanarius suggested that there is `\"tablet_allocator_shuffle\"` HTTP api, but the comment in Scylla tests says\r\n` # Increases the chance of tablet migration concurrent with schema change` which doesn't sound helpful here.\r\n\r\nIn Python driver implementation the test looks into tracing to verify that the query was sent to a correct node.\r\nI'm not a big fan of this approach, as it doesn't verify that we can send things to the wrong nodes when we don't have the data.\r\n\r\nStatus: Managed to write correct integration tests using one-shot LBPs to make sure I send queries to all nodes/shards.\r\n\r\n### Wojciech's commits\r\n\r\nWhat should I do with Wojciech's commits?\r\nI'm considering squashing them (and introducing some changes to them so that resulting commit passes CI).\r\nThe changes are mostly mechanical and it would allow us to have atomic commits in this PR.\r\n\r\nStatus: Opened https://github.com/scylladb/scylla-rust-driver/pull/944 with his changes cleaned up\r\n\r\n\r\n### Tablet feedback handled in Connection, not in Session\r\n\r\nTablet info is extracted from frame in Connection instead of Session + iterators.\r\nI did look into moving that into session, but decided that it's too complicated and error-prone.\r\nIn the current implementation I can have certainty that we handle this for all requests.\r\n\r\nStatus: it will stay that way for now\r\n\r\n\r\n### `FromCqlVal::from_cql` is tablets.rs\r\n\r\nIs it possible for this to fail? I don't see how, but I'm not very familiar with this are of code.\r\nIf it can't fail, I could avoid introducing new error type.\r\n\r\nStatus: I added `.unwrap()`, it seems that this call can't fail.\r\n\r\n\r\n### Parsing fail\r\n\r\nWhat to do when parsing Tablet data from custom payload fails?\r\nErroring whole request seems excessive. Right now I just print a warning. Is it enough?\r\n\r\nStatus: Printing warning is enough, so I'll stick to that.\r\n\r\nFixes: #867 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/937/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/934", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/934/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/934/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/934/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/934", "id": 2136709361, "node_id": "PR_kwDOEj0F685m_JQp", "number": 934, "title": "Remove `strum` and `strum_macros` dependencies", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4564362172, "node_id": "LA_kwDOEj0F688AAAABEA6jvA", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/API-breaking", "name": "API-breaking", "color": "FBCA04", "default": false, "description": "This might introduce incompatible API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-02-15T14:42:32Z", "updated_at": "2024-10-29T14:35:11Z", "closed_at": "2024-02-16T08:32:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/934", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/934", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/934.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/934.patch", "merged_at": "2024-02-16T08:32:14Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/771\r\n\r\n## Motivation\r\n`strum` and `strum_macros` are unstable crates and their usages need to be removed from the public API to stabilize it.\r\n\r\nThese crates are responsible for generating `FromStr` implementations for the types.\r\n\r\n## Changes\r\nReplaced `strum` usages for `NativeType` and `ColumnKind` types with our own implementations of `FromStr`.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/934/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/931", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/931/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/931/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/931/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/931", "id": 2131484877, "node_id": "PR_kwDOEj0F685mtR-R", "number": 931, "title": "Remove num_enum dependency", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2024-02-13T05:19:55Z", "updated_at": "2024-10-29T14:35:08Z", "closed_at": "2024-02-15T12:18:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/931", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/931", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/931.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/931.patch", "merged_at": "2024-02-15T12:18:17Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/771\r\nI believe this PR closes https://github.com/scylladb/scylla-rust-driver/pull/857.\r\n\r\n## Motivation\r\nTo stabilize our API, we need to get rid of pre-1.0 crates. One of them is [num_enum](https://docs.rs/num_enum/latest/num_enum/).\r\n\r\nThis crate allows us to automatically generate conversions from primitive types to enum values - however, its usages needs to be removed from the library.\r\n\r\n## Changes\r\nTo get rid of the dependency, we needed to implement converters ourselves.\r\n\r\nThis is why, we introduce a `TryFromPrimitiveError` struct which holds the information about the enum name and the actual value that we tried to parse.\r\n\r\nApart from that, we implement `TryFrom` for the types that used the `num_enum` crate:\r\n- `impl TryFrom<u16> for Consistency`\r\n- `impl TryFrom<i16> for SerialConsistency`\r\n- `impl TryFrom<u8> for RequestOpcode`\r\n- `impl TryFrom<u8> for ResponseOpcode`\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/931/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/931/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/922", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/922/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/922/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/922/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/922", "id": 2102556879, "node_id": "PR_kwDOEj0F685lLWo1", "number": 922, "title": "Hide public usages of bigdecimal::BigDecimal behind a crate feature", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2024-01-26T17:07:03Z", "updated_at": "2024-10-29T14:35:04Z", "closed_at": "2024-02-01T11:28:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/922", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/922", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/922.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/922.patch", "merged_at": "2024-02-01T11:28:18Z"}, "body": "Refs: https://github.com/scylladb/scylla-rust-driver/issues/771\r\n\r\n## Changes\r\n- introduced `value::CqlDecimal` type\r\n- hidden public usages of `bigdecimal::Bigdecimal` behind crate feature.\r\n- wrapped `CqlDecimal` with `CqlValue::Decimal`\r\n- updated docs\r\n- updated tests\r\n- added docstrings\r\n\r\n## Points to discuss\r\n- how to implement `PartialEq` for `CqlDecimal`? Note that `CqlDecimal` makes use of `CqlVarint`, so the bytes normalization part can be delegated to `CqlVarint`. However, there is an additional issue, because there are multiple pairs (integer, scale) which can represent the same number. Take for example: `1e3` and `100e1`. I don't think it's trivial to implement the comparison without converting bytes (hexadecimal representation) to decimal number.\r\n- Should I create some macros for code repetitions? There are some parts of code that are repeated for each version of the `bigdecimal` crate that unfortunately cannot be expressed using some generic function (e.g. usages of `BigDecimal::new()` constructor).\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/922/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/922/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/902", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/902/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/902/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/902/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/902", "id": 2063901955, "node_id": "PR_kwDOEj0F685jIauJ", "number": 902, "title": "Hide public usages of `num_bigint::BigInt` behind a feature flag", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/9", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/9", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/9/labels", "id": 10176355, "node_id": "MI_kwDOEj0F684Am0dj", "number": 9, "title": "0.12.0", "description": "Finalize all API breaking stuff towards 1.0 (without tablets support).", "creator": {"login": "roydahan", "id": 20959584, "node_id": "MDQ6VXNlcjIwOTU5NTg0", "avatar_url": "https://avatars.githubusercontent.com/u/20959584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roydahan", "html_url": "https://github.com/roydahan", "followers_url": "https://api.github.com/users/roydahan/followers", "following_url": "https://api.github.com/users/roydahan/following{/other_user}", "gists_url": "https://api.github.com/users/roydahan/gists{/gist_id}", "starred_url": "https://api.github.com/users/roydahan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roydahan/subscriptions", "organizations_url": "https://api.github.com/users/roydahan/orgs", "repos_url": "https://api.github.com/users/roydahan/repos", "events_url": "https://api.github.com/users/roydahan/events{/privacy}", "received_events_url": "https://api.github.com/users/roydahan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2023-11-12T16:46:25Z", "updated_at": "2024-02-20T12:26:02Z", "due_on": "2024-01-26T00:00:00Z", "closed_at": "2024-02-20T12:26:02Z"}, "comments": 10, "created_at": "2024-01-03T12:03:36Z", "updated_at": "2024-10-29T14:35:02Z", "closed_at": "2024-01-26T14:39:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/902", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/902", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/902.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/902.patch", "merged_at": "2024-01-26T14:39:20Z"}, "body": "Related issue: https://github.com/scylladb/scylla-rust-driver/issues/771 (not fixed yet, as `bigdecimal::BigDecimal` is an unstable type as well).\r\n\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/679\r\n\r\n# Changes:\r\n- added `CqlVarint` type which is a simple native representation of cql `varint` type\r\n- wrapped `CqlVarint` with `CqlValue::Varint`\r\n- hidden public usages of unstable types (`num_bigint` - v0.3 and v0.4) behind feature flags. Notice, however, that `num_bigint v0.3` is still used within driver's code even without any feature flags. We make use of some library utilities such as pretty printing, or normalization of value's binary representation (e.g. getting rid of leading zeros).\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/902/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/893", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/893/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/893/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/893/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/893", "id": 2052556059, "node_id": "PR_kwDOEj0F685ilCu2", "number": 893, "title": "scylla-macros: bump version to 0.2.3", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-21T14:42:42Z", "updated_at": "2023-12-21T22:04:20Z", "closed_at": "2023-12-21T22:04:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/893", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/893", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/893.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/893.patch", "merged_at": "2023-12-21T22:04:20Z"}, "body": "This is a version bump of scylla-macros to 0.2.3 - the last step required to fix https://github.com/scylladb/scylla-rust-driver/issues/891\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/893/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/892", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/892/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/892/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/892/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/892", "id": 2052479955, "node_id": "PR_kwDOEj0F685ikxye", "number": 892, "title": "Release 0.11.1", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-21T14:01:57Z", "updated_at": "2023-12-21T14:26:37Z", "closed_at": "2023-12-21T14:26:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": true, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/892", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/892", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/892.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/892.patch", "merged_at": "2023-12-21T14:26:36Z"}, "body": "This is an emergency release to address https://github.com/scylladb/scylla-rust-driver/issues/891\r\nThe steps I'll perform after this is approved:\r\n- `git checkout branch-0.11.x`\r\n- `git tag -a v0.11.1`\r\n- `git push origin v0.11.1`\r\n- `git checkout main`\r\n- `git merge --ff-only branch-0.11.x`\r\n- `git push origin main`\r\n- `Check that documentation was built and published successfully`\r\n- `Create a github release explaining the purpose of the release`\r\n- `cargo publish -p scylla-macros`\r\n- `cargo publish -p scylla-cql`\r\n- `cargo publish -p scylla`\r\n- yank scylla-macros 0.2.2\r\n- yank scylla-cql 0.0.10\r\n- yank scylla 0.11.0\r\n\r\nAfter that I'll bump scylla-macros version on `branch-0.10.x` (will do a PR with this), and publish only `scylla-macros` crate\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/892/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/892/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/888", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/888/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/888/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/888/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/888", "id": 2047320810, "node_id": "PR_kwDOEj0F685iTIN4", "number": 888, "title": "Release 0.11.0", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-12-18T19:34:03Z", "updated_at": "2023-12-19T13:31:58Z", "closed_at": "2023-12-19T13:31:58Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": true, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/888", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/888", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/888.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/888.patch", "merged_at": "2023-12-19T13:31:58Z"}, "body": "\r\nThis PR is to review the changes required to release new version. It should NOT be merged, so I opened it as a draft.\r\nAfter the approve, I will perform following steps (correct me if I'm wrong @piodul):\r\n- `git checkout branch-0.11.x`\r\n- `git tag -a v0.11.0`\r\n- `git push origin v0.11.0`\r\n- `git checkout main`\r\n- `git merge --ff-only branch-0.11.x`\r\n- `git push origin main`\r\n- Check that documentation was built and published successfully\r\n- Create a github release with previously approved release notes\r\n- Push new version to crates.io:\r\n- Create post on the forum about release\r\n\r\n\r\n## Pre-review checklist\r\n\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/888/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/888/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/863", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/863/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/863/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/863/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/863", "id": 2002074196, "node_id": "PR_kwDOEj0F685f50Sa", "number": 863, "title": "scylla-proxy: Add option to filter out control connection messages", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-11-20T12:15:28Z", "updated_at": "2023-11-21T13:55:50Z", "closed_at": "2023-11-21T13:55:50Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/863", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/863", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/863.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/863.patch", "merged_at": "2023-11-21T13:55:50Z"}, "body": "Proxy does not allow filtering of control connection messages. Right now this is not a problem, as all queries performed by driver are not prepared, so tests can filter them out by checking query content.\r\n\r\nThe ongoing serialization refactor changes that and prepares some queries performed automatically by driver, which breaks some tests, as they are not able to differentiate test's queries from internal driver queries.\r\n\r\nThis PR adds a mechanism to filter out control connection messages by ignoring messages on connections that had any event registered. Control connection is the only one in rust driver that does it, so this should by a reliable heuristic.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/863/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/863/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/851", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/851/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/851/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/851/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/851", "id": 1953800255, "node_id": "PR_kwDOEj0F685dWzsM", "number": 851, "title": "Serialization refactor: macros for value/row serialization", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-10-20T08:31:26Z", "updated_at": "2023-12-09T11:15:01Z", "closed_at": "2023-12-09T11:15:00Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/851", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/851", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/851.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/851.patch", "merged_at": "2023-12-09T11:15:00Z"}, "body": "Introduce derive macros for both of the new serialization traits: `SerializeCql` and `SerializeRow`. They allow to serialize given Rust struct either into a UDT value or a list of values for a query.\r\n\r\nThe most significant difference from the previous `IntoUserType` and `ValueList` is that the new macros match the Rust struct fields to UDT fields or columns by name. This makes the macros less error-prone to use, especially in the UDT case.\r\n\r\nFor users which are already used to the old macros and are willing to guarantee the field order but do not want to pay performance cost associated with sorting the fields, a separate \"flavor\" is introduced. With that flavor enabled, the generated code expects that the field order is correct. The field names are still checked - if the expectation about the matching fields is broken serialization will just fail.\r\n\r\nDepends on https://github.com/scylladb/scylla-rust-driver/pull/862\r\n\r\nRefs: #802\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/851/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/851/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1019", "id": 2369234443, "node_id": "PR_kwDOEj0F685zUC7I", "number": 1019, "title": "Remove tokio version bounds", "user": {"login": "rukai", "id": 5120858, "node_id": "MDQ6VXNlcjUxMjA4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5120858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rukai", "html_url": "https://github.com/rukai", "followers_url": "https://api.github.com/users/rukai/followers", "following_url": "https://api.github.com/users/rukai/following{/other_user}", "gists_url": "https://api.github.com/users/rukai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rukai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rukai/subscriptions", "organizations_url": "https://api.github.com/users/rukai/orgs", "repos_url": "https://api.github.com/users/rukai/repos", "events_url": "https://api.github.com/users/rukai/events{/privacy}", "received_events_url": "https://api.github.com/users/rukai/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2024-06-24T05:18:12Z", "updated_at": "2024-06-26T13:52:05Z", "closed_at": "2024-06-26T13:52:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1019", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1019", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1019.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1019.patch", "merged_at": "2024-06-26T13:52:05Z"}, "body": "This is fine now since https://github.com/tokio-rs/tokio/issues/6610 is resolved via https://github.com/becheran/ntest/pull/28 which has now been released in ntest 0.9.3\r\nThis PR also bumps the itertools + base64 versions, since they are trivial upgrades\r\n\r\nThe latest git main branch of scylla-rust-driver fails to build in my project due to the version restriction, these kinds of version restrictions often cause problems like this, so it would be bad for such a version restriction to end up in a release.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1019", "id": 1934634696, "node_id": "PR_kwDOEj0F685zUC7I", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1019", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1019.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1019.patch", "issue_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019", "number": 1019, "state": "closed", "locked": false, "title": "Remove tokio version bounds", "user": {"login": "rukai", "id": 5120858, "node_id": "MDQ6VXNlcjUxMjA4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5120858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rukai", "html_url": "https://github.com/rukai", "followers_url": "https://api.github.com/users/rukai/followers", "following_url": "https://api.github.com/users/rukai/following{/other_user}", "gists_url": "https://api.github.com/users/rukai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rukai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rukai/subscriptions", "organizations_url": "https://api.github.com/users/rukai/orgs", "repos_url": "https://api.github.com/users/rukai/repos", "events_url": "https://api.github.com/users/rukai/events{/privacy}", "received_events_url": "https://api.github.com/users/rukai/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "This is fine now since https://github.com/tokio-rs/tokio/issues/6610 is resolved via https://github.com/becheran/ntest/pull/28 which has now been released in ntest 0.9.3\r\nThis PR also bumps the itertools + base64 versions, since they are trivial upgrades\r\n\r\nThe latest git main branch of scylla-rust-driver fails to build in my project due to the version restriction, these kinds of version restrictions often cause problems like this, so it would be bad for such a version restriction to end up in a release.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "created_at": "2024-06-24T05:18:12Z", "updated_at": "2024-06-26T13:52:05Z", "closed_at": "2024-06-26T13:52:05Z", "merged_at": "2024-06-26T13:52:05Z", "merge_commit_sha": "1386776db186bff87054eb21ae20a02b8c36b8b3", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1019/commits", "review_comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1019/comments", "review_comment_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019/comments", "statuses_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/statuses/568eaf47166e36b2ee9cce038fc3cc8173f0e16e", "head": {"label": "rukai:remove_tokio_version_bounds", "ref": "remove_tokio_version_bounds", "sha": "568eaf47166e36b2ee9cce038fc3cc8173f0e16e", "user": {"login": "rukai", "id": 5120858, "node_id": "MDQ6VXNlcjUxMjA4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5120858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rukai", "html_url": "https://github.com/rukai", "followers_url": "https://api.github.com/users/rukai/followers", "following_url": "https://api.github.com/users/rukai/following{/other_user}", "gists_url": "https://api.github.com/users/rukai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rukai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rukai/subscriptions", "organizations_url": "https://api.github.com/users/rukai/orgs", "repos_url": "https://api.github.com/users/rukai/repos", "events_url": "https://api.github.com/users/rukai/events{/privacy}", "received_events_url": "https://api.github.com/users/rukai/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 523522405, "node_id": "R_kgDOHzRRZQ", "name": "scylla-rust-driver", "full_name": "rukai/scylla-rust-driver", "private": false, "owner": {"login": "rukai", "id": 5120858, "node_id": "MDQ6VXNlcjUxMjA4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5120858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rukai", "html_url": "https://github.com/rukai", "followers_url": "https://api.github.com/users/rukai/followers", "following_url": "https://api.github.com/users/rukai/following{/other_user}", "gists_url": "https://api.github.com/users/rukai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rukai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rukai/subscriptions", "organizations_url": "https://api.github.com/users/rukai/orgs", "repos_url": "https://api.github.com/users/rukai/repos", "events_url": "https://api.github.com/users/rukai/events{/privacy}", "received_events_url": "https://api.github.com/users/rukai/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/rukai/scylla-rust-driver", "description": "Async CQL driver for Rust, optimized for Scylla!", "fork": true, "url": "https://api.github.com/repos/rukai/scylla-rust-driver", "forks_url": "https://api.github.com/repos/rukai/scylla-rust-driver/forks", "keys_url": "https://api.github.com/repos/rukai/scylla-rust-driver/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/rukai/scylla-rust-driver/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/rukai/scylla-rust-driver/teams", "hooks_url": "https://api.github.com/repos/rukai/scylla-rust-driver/hooks", "issue_events_url": "https://api.github.com/repos/rukai/scylla-rust-driver/issues/events{/number}", "events_url": "https://api.github.com/repos/rukai/scylla-rust-driver/events", "assignees_url": "https://api.github.com/repos/rukai/scylla-rust-driver/assignees{/user}", "branches_url": "https://api.github.com/repos/rukai/scylla-rust-driver/branches{/branch}", "tags_url": "https://api.github.com/repos/rukai/scylla-rust-driver/tags", "blobs_url": "https://api.github.com/repos/rukai/scylla-rust-driver/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/rukai/scylla-rust-driver/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/rukai/scylla-rust-driver/git/refs{/sha}", "trees_url": "https://api.github.com/repos/rukai/scylla-rust-driver/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/rukai/scylla-rust-driver/statuses/{sha}", "languages_url": "https://api.github.com/repos/rukai/scylla-rust-driver/languages", "stargazers_url": "https://api.github.com/repos/rukai/scylla-rust-driver/stargazers", "contributors_url": "https://api.github.com/repos/rukai/scylla-rust-driver/contributors", "subscribers_url": "https://api.github.com/repos/rukai/scylla-rust-driver/subscribers", "subscription_url": "https://api.github.com/repos/rukai/scylla-rust-driver/subscription", "commits_url": "https://api.github.com/repos/rukai/scylla-rust-driver/commits{/sha}", "git_commits_url": "https://api.github.com/repos/rukai/scylla-rust-driver/git/commits{/sha}", "comments_url": "https://api.github.com/repos/rukai/scylla-rust-driver/comments{/number}", "issue_comment_url": "https://api.github.com/repos/rukai/scylla-rust-driver/issues/comments{/number}", "contents_url": "https://api.github.com/repos/rukai/scylla-rust-driver/contents/{+path}", "compare_url": "https://api.github.com/repos/rukai/scylla-rust-driver/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/rukai/scylla-rust-driver/merges", "archive_url": "https://api.github.com/repos/rukai/scylla-rust-driver/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/rukai/scylla-rust-driver/downloads", "issues_url": "https://api.github.com/repos/rukai/scylla-rust-driver/issues{/number}", "pulls_url": "https://api.github.com/repos/rukai/scylla-rust-driver/pulls{/number}", "milestones_url": "https://api.github.com/repos/rukai/scylla-rust-driver/milestones{/number}", "notifications_url": "https://api.github.com/repos/rukai/scylla-rust-driver/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/rukai/scylla-rust-driver/labels{/name}", "releases_url": "https://api.github.com/repos/rukai/scylla-rust-driver/releases{/id}", "deployments_url": "https://api.github.com/repos/rukai/scylla-rust-driver/deployments", "created_at": "2022-08-10T23:11:35Z", "updated_at": "2022-08-10T22:28:12Z", "pushed_at": "2024-12-10T21:46:29Z", "git_url": "git://github.com/rukai/scylla-rust-driver.git", "ssh_url": "git@github.com:rukai/scylla-rust-driver.git", "clone_url": "https://github.com/rukai/scylla-rust-driver.git", "svn_url": "https://github.com/rukai/scylla-rust-driver", "homepage": null, "size": 4532, "stargazers_count": 0, "watchers_count": 0, "language": null, "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "main"}}, "base": {"label": "scylladb:main", "ref": "main", "sha": "c8db77b2148a2891741fcab27463fe50f79c3f0a", "user": {"login": "scylladb", "id": 14364730, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE0MzY0NzMw", "avatar_url": "https://avatars.githubusercontent.com/u/14364730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scylladb", "html_url": "https://github.com/scylladb", "followers_url": "https://api.github.com/users/scylladb/followers", "following_url": "https://api.github.com/users/scylladb/following{/other_user}", "gists_url": "https://api.github.com/users/scylladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/scylladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scylladb/subscriptions", "organizations_url": "https://api.github.com/users/scylladb/orgs", "repos_url": "https://api.github.com/users/scylladb/repos", "events_url": "https://api.github.com/users/scylladb/events{/privacy}", "received_events_url": "https://api.github.com/users/scylladb/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 305989099, "node_id": "MDEwOlJlcG9zaXRvcnkzMDU5ODkwOTk=", "name": "scylla-rust-driver", "full_name": "scylladb/scylla-rust-driver", "private": false, "owner": {"login": "scylladb", "id": 14364730, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE0MzY0NzMw", "avatar_url": "https://avatars.githubusercontent.com/u/14364730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scylladb", "html_url": "https://github.com/scylladb", "followers_url": "https://api.github.com/users/scylladb/followers", "following_url": "https://api.github.com/users/scylladb/following{/other_user}", "gists_url": "https://api.github.com/users/scylladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/scylladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scylladb/subscriptions", "organizations_url": "https://api.github.com/users/scylladb/orgs", "repos_url": "https://api.github.com/users/scylladb/repos", "events_url": "https://api.github.com/users/scylladb/events{/privacy}", "received_events_url": "https://api.github.com/users/scylladb/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/scylladb/scylla-rust-driver", "description": "Async CQL driver for Rust, optimized for ScyllaDB!", "fork": false, "url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "forks_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/forks", "keys_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/teams", "hooks_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/hooks", "issue_events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/events{/number}", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/events", "assignees_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/assignees{/user}", "branches_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/branches{/branch}", "tags_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/tags", "blobs_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/git/refs{/sha}", "trees_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/statuses/{sha}", "languages_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/languages", "stargazers_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/stargazers", "contributors_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/contributors", "subscribers_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/subscribers", "subscription_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/subscription", "commits_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/commits{/sha}", "git_commits_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/git/commits{/sha}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/comments{/number}", "issue_comment_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/comments{/number}", "contents_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/contents/{+path}", "compare_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/merges", "archive_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/downloads", "issues_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues{/number}", "pulls_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls{/number}", "milestones_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones{/number}", "notifications_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels{/name}", "releases_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/releases{/id}", "deployments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/deployments", "created_at": "2020-10-21T10:31:55Z", "updated_at": "2026-01-20T21:33:51Z", "pushed_at": "2026-01-20T21:34:22Z", "git_url": "git://github.com/scylladb/scylla-rust-driver.git", "ssh_url": "git@github.com:scylladb/scylla-rust-driver.git", "clone_url": "https://github.com/scylladb/scylla-rust-driver.git", "svn_url": "https://github.com/scylladb/scylla-rust-driver", "homepage": "", "size": 8964, "stargazers_count": 663, "watchers_count": 663, "language": "Rust", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": true, "has_discussions": false, "forks_count": 146, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 136, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["cql", "driver", "rust", "scylladb"], "visibility": "public", "forks": 146, "open_issues": 136, "watchers": 663, "default_branch": "main"}}, "_links": {"self": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1019"}, "html": {"href": "https://github.com/scylladb/scylla-rust-driver/pull/1019"}, "issue": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019"}, "comments": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1019/comments"}, "review_comments": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1019/comments"}, "review_comment": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1019/commits"}, "statuses": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/statuses/568eaf47166e36b2ee9cce038fc3cc8173f0e16e"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 5, "review_comments": 0, "maintainer_can_modify": false, "commits": 2, "additions": 21, "deletions": 27, "changed_files": 5}}