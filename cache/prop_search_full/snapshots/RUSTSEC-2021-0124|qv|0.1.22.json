{"window": ["2021-11-15T22:05:45.912725+00:00", "2022-06-12T13:24:38.899571+00:00"], "repo_slug": "timvw/qv", "candidates": [{"url": "https://api.github.com/repos/timvw/qv/issues/3", "repository_url": "https://api.github.com/repos/timvw/qv", "labels_url": "https://api.github.com/repos/timvw/qv/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/timvw/qv/issues/3/comments", "events_url": "https://api.github.com/repos/timvw/qv/issues/3/events", "html_url": "https://github.com/timvw/qv/pull/3", "id": 1260270792, "node_id": "PR_kwDOHZHU5M45FnBC", "number": 3, "title": "Update Rust crate tokio to 1.19", "user": {"login": "renovate[bot]", "id": 29139614, "node_id": "MDM6Qm90MjkxMzk2MTQ=", "avatar_url": "https://avatars.githubusercontent.com/in/2740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/renovate%5Bbot%5D", "html_url": "https://github.com/apps/renovate", "followers_url": "https://api.github.com/users/renovate%5Bbot%5D/followers", "following_url": "https://api.github.com/users/renovate%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/renovate%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/renovate%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/renovate%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/renovate%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/renovate%5Bbot%5D/repos", "events_url": "https://api.github.com/users/renovate%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/renovate%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-06-03T19:14:07Z", "updated_at": "2022-06-03T22:59:42Z", "closed_at": "2022-06-03T22:59:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/timvw/qv/pulls/3", "html_url": "https://github.com/timvw/qv/pull/3", "diff_url": "https://github.com/timvw/qv/pull/3.diff", "patch_url": "https://github.com/timvw/qv/pull/3.patch", "merged_at": "2022-06-03T22:59:41Z"}, "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [tokio](https://tokio.rs) ([source](https://togithub.com/tokio-rs/tokio)) | dependencies | minor | `1.18` -> `1.19` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>tokio-rs/tokio</summary>\n\n### [`v1.19.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.19.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.18.2...tokio-1.19.0)\n\n### 1.19.0 (June 3, 2022)\n\n##### Added\n\n-   runtime: add `is_finished` method for `JoinHandle` and `AbortHandle` ([#&#8203;4709])\n-   runtime: make global queue and event polling intervals configurable ([#&#8203;4671])\n-   sync: add `Notified::enable` ([#&#8203;4705])\n-   sync: add `watch::Sender::send_if_modified` ([#&#8203;4591])\n-   sync: add resubscribe method to broadcast::Receiver ([#&#8203;4607])\n-   net: add `take_error` to `TcpSocket` and `TcpStream` ([#&#8203;4739])\n\n##### Changed\n\n-   io: refactor out usage of Weak in the io handle ([#&#8203;4656])\n\n##### Fixed\n\n-   macros: avoid starvation in `join!` and `try_join!` ([#&#8203;4624])\n\n##### Documented\n\n-   runtime: clarify semantics of tasks outliving `block_on` ([#&#8203;4729])\n-   time: fix example for `MissedTickBehavior::Burst` ([#&#8203;4713])\n\n##### Unstable\n\n-   metrics: correctly update atomics in `IoDriverMetrics` ([#&#8203;4725])\n-   metrics: fix compilation with unstable, process, and rt, but without net ([#&#8203;4682])\n-   task: add `#[track_caller]` to `JoinSet`/`JoinMap` ([#&#8203;4697])\n-   task: add `Builder::{spawn_on, spawn_local_on, spawn_blocking_on}` ([#&#8203;4683])\n-   task: add `consume_budget` for cooperative scheduling ([#&#8203;4498])\n-   task: add `join_set::Builder` for configuring `JoinSet` tasks ([#&#8203;4687])\n-   task: update return value of `JoinSet::join_one` ([#&#8203;4726])\n\n[#&#8203;4498]: https://togithub.com/tokio-rs/tokio/pull/4498\n\n[#&#8203;4591]: https://togithub.com/tokio-rs/tokio/pull/4591\n\n[#&#8203;4607]: https://togithub.com/tokio-rs/tokio/pull/4607\n\n[#&#8203;4624]: https://togithub.com/tokio-rs/tokio/pull/4624\n\n[#&#8203;4656]: https://togithub.com/tokio-rs/tokio/pull/4656\n\n[#&#8203;4671]: https://togithub.com/tokio-rs/tokio/pull/4671\n\n[#&#8203;4682]: https://togithub.com/tokio-rs/tokio/pull/4682\n\n[#&#8203;4683]: https://togithub.com/tokio-rs/tokio/pull/4683\n\n[#&#8203;4687]: https://togithub.com/tokio-rs/tokio/pull/4687\n\n[#&#8203;4697]: https://togithub.com/tokio-rs/tokio/pull/4697\n\n[#&#8203;4705]: https://togithub.com/tokio-rs/tokio/pull/4705\n\n[#&#8203;4709]: https://togithub.com/tokio-rs/tokio/pull/4709\n\n[#&#8203;4713]: https://togithub.com/tokio-rs/tokio/pull/4713\n\n[#&#8203;4725]: https://togithub.com/tokio-rs/tokio/pull/4725\n\n[#&#8203;4726]: https://togithub.com/tokio-rs/tokio/pull/4726\n\n[#&#8203;4729]: https://togithub.com/tokio-rs/tokio/pull/4729\n\n[#&#8203;4739]: https://togithub.com/tokio-rs/tokio/pull/4739\n\n### [`v1.18.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.18.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.18.1...tokio-1.18.2)\n\n### 1.18.2 (May 5, 2022)\n\nAdd missing features for the `winapi` dependency. ([#&#8203;4663])\n\n[#&#8203;4663]: https://togithub.com/tokio-rs/tokio/pull/4663\n\n### [`v1.18.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.18.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.18.0...tokio-1.18.1)\n\n### 1.18.1 (May 2, 2022)\n\nThe 1.18.0 release broke the build for targets without 64-bit atomics when building with `tokio_unstable`. This release fixes that. ([#&#8203;4649])\n\n[#&#8203;4649]: https://togithub.com/tokio-rs/tokio/pull/4649\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Enabled.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/timvw/qv).", "reactions": {"url": "https://api.github.com/repos/timvw/qv/issues/3/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/timvw/qv/issues/3/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/timvw/qv/issues/1", "repository_url": "https://api.github.com/repos/timvw/qv", "labels_url": "https://api.github.com/repos/timvw/qv/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/timvw/qv/issues/1/comments", "events_url": "https://api.github.com/repos/timvw/qv/issues/1/events", "html_url": "https://github.com/timvw/qv/pull/1", "id": 1247685719, "node_id": "PR_kwDOHZHU5M44bI1_", "number": 1, "title": "Update Rust crate tokio to 1.18", "user": {"login": "renovate[bot]", "id": 29139614, "node_id": "MDM6Qm90MjkxMzk2MTQ=", "avatar_url": "https://avatars.githubusercontent.com/in/2740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/renovate%5Bbot%5D", "html_url": "https://github.com/apps/renovate", "followers_url": "https://api.github.com/users/renovate%5Bbot%5D/followers", "following_url": "https://api.github.com/users/renovate%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/renovate%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/renovate%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/renovate%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/renovate%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/renovate%5Bbot%5D/repos", "events_url": "https://api.github.com/users/renovate%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/renovate%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-25T07:35:42Z", "updated_at": "2022-05-25T12:30:40Z", "closed_at": "2022-05-25T12:30:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/timvw/qv/pulls/1", "html_url": "https://github.com/timvw/qv/pull/1", "diff_url": "https://github.com/timvw/qv/pull/1.diff", "patch_url": "https://github.com/timvw/qv/pull/1.patch", "merged_at": "2022-05-25T12:30:39Z"}, "body": "[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [tokio](https://tokio.rs) ([source](https://togithub.com/tokio-rs/tokio)) | dependencies | minor | `1.0` -> `1.18` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>tokio-rs/tokio</summary>\n\n### [`v1.18.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.18.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.18.1...tokio-1.18.2)\n\n### 1.18.2 (May 5, 2022)\n\nAdd missing features for the `winapi` dependency. ([#&#8203;4663])\n\n[#&#8203;4663]: https://togithub.com/tokio-rs/tokio/pull/4663\n\n### [`v1.18.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.18.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.18.0...tokio-1.18.1)\n\n### 1.18.1 (May 2, 2022)\n\nThe 1.18.0 release broke the build for targets without 64-bit atomics when building with `tokio_unstable`. This release fixes that. ([#&#8203;4649])\n\n[#&#8203;4649]: https://togithub.com/tokio-rs/tokio/pull/4649\n\n### [`v1.18.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.18.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.17.0...tokio-1.18.0)\n\n### 1.18.0 (April 27, 2022)\n\nThis release adds a number of new APIs in `tokio::net`, `tokio::signal`, and\n`tokio::sync`. In addition, it adds new unstable APIs to `tokio::task` (`Id`s\nfor uniquely identifying a task, and `AbortHandle` for remotely cancelling a\ntask), as well as a number of bugfixes.\n\n##### Fixed\n\n-   blocking: add missing `#[track_caller]` for `spawn_blocking` ([#&#8203;4616](https://togithub.com/tokio-rs/tokio/issues/4616))\n-   macros: fix `select` macro to process 64 branches ([#&#8203;4519](https://togithub.com/tokio-rs/tokio/issues/4519))\n-   net: fix `try_io` methods not calling Mio's `try_io` internally ([#&#8203;4582](https://togithub.com/tokio-rs/tokio/issues/4582))\n-   runtime: recover when OS fails to spawn a new thread ([#&#8203;4485](https://togithub.com/tokio-rs/tokio/issues/4485))\n\n##### Added\n\n-   macros: support setting a custom crate name for `#[tokio::main]` and\n    `#[tokio::test]` ([#&#8203;4613](https://togithub.com/tokio-rs/tokio/issues/4613))\n-   net: add `UdpSocket::peer_addr` ([#&#8203;4611](https://togithub.com/tokio-rs/tokio/issues/4611))\n-   net: add `try_read_buf` method for named pipes ([#&#8203;4626](https://togithub.com/tokio-rs/tokio/issues/4626))\n-   signal: add `SignalKind` `Hash`/`Eq` impls and `c_int` conversion ([#&#8203;4540](https://togithub.com/tokio-rs/tokio/issues/4540))\n-   signal: add support for signals up to `SIGRTMAX` ([#&#8203;4555](https://togithub.com/tokio-rs/tokio/issues/4555))\n-   sync: add `watch::Sender::send_modify` method ([#&#8203;4310](https://togithub.com/tokio-rs/tokio/issues/4310))\n-   sync: add `broadcast::Receiver::len` method ([#&#8203;4542](https://togithub.com/tokio-rs/tokio/issues/4542))\n-   sync: add `watch::Receiver::same_channel` method ([#&#8203;4581](https://togithub.com/tokio-rs/tokio/issues/4581))\n-   sync: implement `Clone` for `RecvError` types ([#&#8203;4560](https://togithub.com/tokio-rs/tokio/issues/4560))\n\n##### Changed\n\n-   update `mio` to 0.8.1 ([#&#8203;4582](https://togithub.com/tokio-rs/tokio/issues/4582))\n-   macros: rename `tokio::select!`'s internal `util` module ([#&#8203;4543](https://togithub.com/tokio-rs/tokio/issues/4543))\n-   runtime: use `Vec::with_capacity` when building runtime ([#&#8203;4553](https://togithub.com/tokio-rs/tokio/issues/4553))\n\n##### Documented\n\n-   improve docs for `tokio_unstable` ([#&#8203;4524](https://togithub.com/tokio-rs/tokio/issues/4524))\n-   runtime: include more documentation for thread_pool/worker ([#&#8203;4511](https://togithub.com/tokio-rs/tokio/issues/4511))\n-   runtime: update `Handle::current`'s docs to mention `EnterGuard` ([#&#8203;4567](https://togithub.com/tokio-rs/tokio/issues/4567))\n-   time: clarify platform specific timer resolution ([#&#8203;4474](https://togithub.com/tokio-rs/tokio/issues/4474))\n-   signal: document that `Signal::recv` is cancel-safe ([#&#8203;4634](https://togithub.com/tokio-rs/tokio/issues/4634))\n-   sync: `UnboundedReceiver` close docs ([#&#8203;4548](https://togithub.com/tokio-rs/tokio/issues/4548))\n\n##### Unstable\n\nThe following changes only apply when building with `--cfg tokio_unstable`:\n\n-   task: add `task::Id` type ([#&#8203;4630](https://togithub.com/tokio-rs/tokio/issues/4630))\n-   task: add `AbortHandle` type for cancelling tasks in a `JoinSet` ([#&#8203;4530](https://togithub.com/tokio-rs/tokio/issues/4530)],\n    \\[[#&#8203;4640](https://togithub.com/tokio-rs/tokio/issues/4640))\n-   task: fix missing `doc(cfg(...))` attributes for `JoinSet` ([#&#8203;4531](https://togithub.com/tokio-rs/tokio/issues/4531))\n-   task: fix broken link in `AbortHandle` RustDoc ([#&#8203;4545](https://togithub.com/tokio-rs/tokio/issues/4545))\n-   metrics: add initial IO driver metrics ([#&#8203;4507](https://togithub.com/tokio-rs/tokio/issues/4507))\n\n### [`v1.17.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.17.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.16.1...tokio-1.17.0)\n\n##### 1.17.0 (February 15, 2022)\n\nThis release updates the minimum supported Rust version (MSRV) to 1.49,\nthe `mio` dependency to v0.8, and the (optional) `parking_lot`\ndependency to v0.12. Additionally, it contains several bug fixes, as\nwell as internal refactoring and performance improvements.\n\n##### Fixed\n\n-   time: prevent panicking in `sleep` with large durations ([#&#8203;4495])\n-   time: eliminate potential panics in `Instant` arithmetic on platforms\n    where `Instant::now` is not monotonic ([#&#8203;4461])\n-   io: fix `DuplexStream` not participating in cooperative yielding\n    ([#&#8203;4478])\n-   rt: fix potential double panic when dropping a `JoinHandle` ([#&#8203;4430])\n\n##### Changed\n\n-   update minimum supported Rust version to 1.49 ([#&#8203;4457])\n-   update `parking_lot` dependency to v0.12.0 ([#&#8203;4459])\n-   update `mio` dependency to v0.8 ([#&#8203;4449])\n-   rt: remove an unnecessary lock in the blocking pool ([#&#8203;4436])\n-   rt: remove an unnecessary enum in the basic scheduler ([#&#8203;4462])\n-   time: use bit manipulation instead of modulo to improve performance\n    ([#&#8203;4480])\n-   net: use `std::future::Ready` instead of our own `Ready` future\n    ([#&#8203;4271])\n-   replace deprecated `atomic::spin_loop_hint` with `hint::spin_loop`\n    ([#&#8203;4491])\n-   fix miri failures in intrusive linked lists ([#&#8203;4397])\n\n##### Documented\n\n-   io: add an example for `tokio::process::ChildStdin` ([#&#8203;4479])\n\n##### Unstable\n\nThe following changes only apply when building with `--cfg\ntokio_unstable`:\n\n-   task: fix missing location information in `tracing` spans generated by\n    `spawn_local` ([#&#8203;4483])\n-   task: add `JoinSet` for managing sets of tasks ([#&#8203;4335])\n-   metrics: fix compilation error on MIPS ([#&#8203;4475])\n-   metrics: fix compilation error on arm32v7 ([#&#8203;4453])\n\n[#&#8203;4495]: https://togithub.com/tokio-rs/tokio/pull/4495\n\n[#&#8203;4461]: https://togithub.com/tokio-rs/tokio/pull/4461\n\n[#&#8203;4478]: https://togithub.com/tokio-rs/tokio/pull/4478\n\n[#&#8203;4430]: https://togithub.com/tokio-rs/tokio/pull/4430\n\n[#&#8203;4457]: https://togithub.com/tokio-rs/tokio/pull/4457\n\n[#&#8203;4459]: https://togithub.com/tokio-rs/tokio/pull/4459\n\n[#&#8203;4449]: https://togithub.com/tokio-rs/tokio/pull/4449\n\n[#&#8203;4462]: https://togithub.com/tokio-rs/tokio/pull/4462\n\n[#&#8203;4436]: https://togithub.com/tokio-rs/tokio/pull/4436\n\n[#&#8203;4480]: https://togithub.com/tokio-rs/tokio/pull/4480\n\n[#&#8203;4271]: https://togithub.com/tokio-rs/tokio/pull/4271\n\n[#&#8203;4491]: https://togithub.com/tokio-rs/tokio/pull/4491\n\n[#&#8203;4397]: https://togithub.com/tokio-rs/tokio/pull/4397\n\n[#&#8203;4479]: https://togithub.com/tokio-rs/tokio/pull/4479\n\n[#&#8203;4483]: https://togithub.com/tokio-rs/tokio/pull/4483\n\n[#&#8203;4335]: https://togithub.com/tokio-rs/tokio/pull/4335\n\n[#&#8203;4475]: https://togithub.com/tokio-rs/tokio/pull/4475\n\n[#&#8203;4453]: https://togithub.com/tokio-rs/tokio/pull/4453\n\n### [`v1.16.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.16.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.16.0...tokio-1.16.1)\n\n##### 1.16.1 (January 28, 2022)\n\nThis release fixes a bug in [#&#8203;4428] with the change [#&#8203;4437].\n\n[#&#8203;4428]: https://togithub.com/tokio-rs/tokio/pull/4428\n\n[#&#8203;4437]: https://togithub.com/tokio-rs/tokio/pull/4437\n\n### [`v1.16.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.16.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.15.0...tokio-1.16.0)\n\nFixes a soundness bug in `io::Take` ([#&#8203;4428]). The unsoundness is exposed when\nleaking memory in the given `AsyncRead` implementation and then overwriting the\nsupplied buffer:\n\n```rust\nimpl AsyncRead for Buggy {\n    fn poll_read(\n        self: Pin<&mut Self>,\n        cx: &mut Context<'_>,\n        buf: &mut ReadBuf<'_>\n    ) -> Poll<Result<()>> {\n      let new_buf = vec![0; 5].leak();\n      *buf = ReadBuf::new(new_buf);\n      buf.put_slice(b\"hello\");\n      Poll::Ready(Ok(()))\n    }\n}\n```\n\nAlso, this release includes improvements to the multi-threaded scheduler that\ncan increase throughput by up to 20% in some cases ([#&#8203;4383]).\n\n##### Fixed\n\n-   io: **soundness** don't expose uninitialized memory when using `io::Take` in edge case ([#&#8203;4428])\n-   fs: ensure `File::write` results in a `write` syscall when the runtime shuts down ([#&#8203;4316])\n-   process: drop pipe after child exits in `wait_with_output` ([#&#8203;4315])\n-   rt: improve error message when spawning a thread fails ([#&#8203;4398])\n-   rt: reduce false-positive thread wakups in the multi-threaded scheduler ([#&#8203;4383])\n-   sync: don't inherit `Send` from `parking_lot::*Guard` ([#&#8203;4359])\n\n##### Added\n\n-   net: `TcpSocket::linger()` and `set_linger()` ([#&#8203;4324])\n-   net: impl `UnwindSafe` for socket types ([#&#8203;4384])\n-   rt: impl `UnwindSafe` for `JoinHandle` ([#&#8203;4418])\n-   sync: `watch::Receiver::has_changed()` ([#&#8203;4342])\n-   sync: `oneshot::Receiver::blocking_recv()` ([#&#8203;4334])\n-   sync: `RwLock` blocking operations ([#&#8203;4425])\n\n##### Unstable\n\nThe following changes only apply when building with `--cfg tokio_unstable`\n\n-   rt: **breaking change** overhaul runtime metrics API ([#&#8203;4373])\n\n[#&#8203;4428]: https://togithub.com/tokio-rs/tokio/pull/4428\n\n[#&#8203;4316]: https://togithub.com/tokio-rs/tokio/pull/4316\n\n[#&#8203;4315]: https://togithub.com/tokio-rs/tokio/pull/4315\n\n[#&#8203;4398]: https://togithub.com/tokio-rs/tokio/pull/4398\n\n[#&#8203;4383]: https://togithub.com/tokio-rs/tokio/pull/4383\n\n[#&#8203;4359]: https://togithub.com/tokio-rs/tokio/pull/4359\n\n[#&#8203;4324]: https://togithub.com/tokio-rs/tokio/pull/4324\n\n[#&#8203;4384]: https://togithub.com/tokio-rs/tokio/pull/4384\n\n[#&#8203;4418]: https://togithub.com/tokio-rs/tokio/pull/4418\n\n[#&#8203;4342]: https://togithub.com/tokio-rs/tokio/pull/4342\n\n[#&#8203;4334]: https://togithub.com/tokio-rs/tokio/pull/4334\n\n[#&#8203;4425]: https://togithub.com/tokio-rs/tokio/pull/4425\n\n[#&#8203;4373]: https://togithub.com/tokio-rs/tokio/pull/4373\n\n### [`v1.15.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.15.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.14.1...tokio-1.15.0)\n\n##### Fixed\n\n-   io: add cooperative yielding support to `io::empty()` ([#&#8203;4300])\n-   time: make timeout robust against budget-depleting tasks ([#&#8203;4314])\n\n##### Changed\n\n-   update minimum supported Rust version to 1.46.\n\n##### Added\n\n-   time: add `Interval::reset()` ([#&#8203;4248])\n-   io: add explicit lifetimes to `AsyncFdReadyGuard` ([#&#8203;4267])\n-   process: add `Command::as_std()` ([#&#8203;4295])\n\n##### Added (unstable)\n\n-   tracing: instrument `tokio::sync` types ([#&#8203;4302])\n\n[#&#8203;4302]: https://togithub.com/tokio-rs/tokio/pull/4302\n\n[#&#8203;4300]: https://togithub.com/tokio-rs/tokio/pull/4300\n\n[#&#8203;4295]: https://togithub.com/tokio-rs/tokio/pull/4295\n\n[#&#8203;4267]: https://togithub.com/tokio-rs/tokio/pull/4267\n\n[#&#8203;4248]: https://togithub.com/tokio-rs/tokio/pull/4248\n\n[#&#8203;4314]: https://togithub.com/tokio-rs/tokio/pull/4314\n\n### [`v1.14.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.14.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.14.0...tokio-1.14.1)\n\nThis release backports a bug fix from 1.16.1\n\nFixes a soundness bug in `io::Take` ([#&#8203;4428]). The unsoundness is exposed when\nleaking memory in the given `AsyncRead` implementation and then overwriting the\nsupplied buffer:\n\n```rust\nimpl AsyncRead for Buggy {\n    fn poll_read(\n        self: Pin<&mut Self>,\n        cx: &mut Context<'_>,\n        buf: &mut ReadBuf<'_>\n    ) -> Poll<Result<()>> {\n      let new_buf = vec![0; 5].leak();\n      *buf = ReadBuf::new(new_buf);\n      buf.put_slice(b\"hello\");\n      Poll::Ready(Ok(()))\n    }\n}\n```\n\n##### Fixed\n\n-   io: **soundness** don't expose uninitialized memory when using `io::Take` in edge case ([#&#8203;4428])\n\n[#&#8203;4428]: https://togithub.com/tokio-rs/tokio/pull/4428\n\n### [`v1.14.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.14.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.13.1...tokio-1.14.0)\n\n##### 1.14.0 (November 15, 2021)\n\n##### Fixed\n\n-   macros: fix compiler errors when using `mut` patterns in `select!` ([#&#8203;4211])\n-   sync: fix a data race between `oneshot::Sender::send` and awaiting a\n    `oneshot::Receiver` when the oneshot has been closed ([#&#8203;4226])\n-   sync: make `AtomicWaker` panic safe ([#&#8203;3689])\n-   runtime: fix basic scheduler dropping tasks outside a runtime context\n    ([#&#8203;4213])\n\n##### Added\n\n-   stats: add `RuntimeStats::busy_duration_total` ([#&#8203;4179], [#&#8203;4223])\n\n##### Changed\n\n-   io: updated `copy` buffer size to match `std::io::copy` ([#&#8203;4209])\n\n##### Documented\n\n-   io: rename buffer to file in doc-test ([#&#8203;4230])\n-   sync: fix Notify example ([#&#8203;4212])\n\n[#&#8203;4211]: https://togithub.com/tokio-rs/tokio/pull/4211\n\n[#&#8203;4226]: https://togithub.com/tokio-rs/tokio/pull/4226\n\n[#&#8203;3689]: https://togithub.com/tokio-rs/tokio/pull/3689\n\n[#&#8203;4213]: https://togithub.com/tokio-rs/tokio/pull/4213\n\n[#&#8203;4179]: https://togithub.com/tokio-rs/tokio/pull/4179\n\n[#&#8203;4223]: https://togithub.com/tokio-rs/tokio/pull/4223\n\n[#&#8203;4209]: https://togithub.com/tokio-rs/tokio/pull/4209\n\n[#&#8203;4230]: https://togithub.com/tokio-rs/tokio/pull/4230\n\n[#&#8203;4212]: https://togithub.com/tokio-rs/tokio/pull/4212\n\n### [`v1.13.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.13.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.13.0...tokio-1.13.1)\n\n##### 1.13.1 (November 15, 2021)\n\nThis release fixes a data race when sending and receiving on a\nclosed `oneshot` channel ([RUSTSEC-2021-0124]).\n\n##### Fixed\n\n-   sync: fix a data race between `oneshot::Sender::send` and awaiting a\n    `oneshot::Receiver` when the oneshot has been closed ([#&#8203;4226](https://togithub.com/tokio-rs/tokio/issues/4226))\n\n[RUSTSEC-2021-0124]: https://rustsec.org/advisories/RUSTSEC-2021-0124.html\n\n### [`v1.13.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.13.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.12.0...tokio-1.13.0)\n\n##### 1.13.0 (October 29, 2021)\n\n##### Fixed\n\n-   sync: fix `Notify` to clone the waker before locking its waiter list ([#&#8203;4129])\n-   tokio: add riscv32 to non atomic64 architectures ([#&#8203;4185])\n\n##### Added\n\n-   net: add `poll_{recv,send}_ready` methods to `udp` and `uds_datagram` ([#&#8203;4131])\n-   net: add `try_*`, `readable`, `writable`, `ready`, and `peer_addr` methods to split halves ([#&#8203;4120])\n-   sync: add `blocking_lock` to `Mutex` ([#&#8203;4130])\n-   sync: add `watch::Sender::send_replace` ([#&#8203;3962], [#&#8203;4195])\n-   sync: expand `Debug` for `Mutex<T>` impl to unsized `T` ([#&#8203;4134])\n-   tracing: instrument time::Sleep ([#&#8203;4072])\n-   tracing: use structured location fields for spawned tasks ([#&#8203;4128])\n\n##### Changed\n\n-   io: add assert in `copy_bidirectional` that `poll_write` is sensible ([#&#8203;4125])\n-   macros: use qualified syntax when polling in `select!` ([#&#8203;4192])\n-   runtime: handle `block_on` wakeups better ([#&#8203;4157])\n-   task: allocate callback on heap immediately in debug mode ([#&#8203;4203])\n-   tokio: assert platform-minimum requirements at build time ([#&#8203;3797])\n\n##### Documented\n\n-   docs: conversion of doc comments to indicative mood ([#&#8203;4174])\n-   docs: add returning on the first error example for `try_join!` ([#&#8203;4133])\n-   docs: fixing broken links in `tokio/src/lib.rs` ([#&#8203;4132])\n-   signal: add example with background listener ([#&#8203;4171])\n-   sync: add more oneshot examples ([#&#8203;4153])\n-   time: document `Interval::tick` cancel safety ([#&#8203;4152])\n\n[#&#8203;3797]: https://togithub.com/tokio-rs/tokio/pull/3797\n\n[#&#8203;3962]: https://togithub.com/tokio-rs/tokio/pull/3962\n\n[#&#8203;4072]: https://togithub.com/tokio-rs/tokio/pull/4072\n\n[#&#8203;4120]: https://togithub.com/tokio-rs/tokio/pull/4120\n\n[#&#8203;4125]: https://togithub.com/tokio-rs/tokio/pull/4125\n\n[#&#8203;4128]: https://togithub.com/tokio-rs/tokio/pull/4128\n\n[#&#8203;4129]: https://togithub.com/tokio-rs/tokio/pull/4129\n\n[#&#8203;4130]: https://togithub.com/tokio-rs/tokio/pull/4130\n\n[#&#8203;4131]: https://togithub.com/tokio-rs/tokio/pull/4131\n\n[#&#8203;4132]: https://togithub.com/tokio-rs/tokio/pull/4132\n\n[#&#8203;4133]: https://togithub.com/tokio-rs/tokio/pull/4133\n\n[#&#8203;4134]: https://togithub.com/tokio-rs/tokio/pull/4134\n\n[#&#8203;4152]: https://togithub.com/tokio-rs/tokio/pull/4152\n\n[#&#8203;4153]: https://togithub.com/tokio-rs/tokio/pull/4153\n\n[#&#8203;4157]: https://togithub.com/tokio-rs/tokio/pull/4157\n\n[#&#8203;4171]: https://togithub.com/tokio-rs/tokio/pull/4171\n\n[#&#8203;4174]: https://togithub.com/tokio-rs/tokio/pull/4174\n\n[#&#8203;4185]: https://togithub.com/tokio-rs/tokio/pull/4185\n\n[#&#8203;4192]: https://togithub.com/tokio-rs/tokio/pull/4192\n\n[#&#8203;4195]: https://togithub.com/tokio-rs/tokio/pull/4195\n\n[#&#8203;4203]: https://togithub.com/tokio-rs/tokio/pull/4203\n\n### [`v1.12.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.12.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.11.0...tokio-1.12.0)\n\n##### 1.12.0 (September 21, 2021)\n\n##### Fixed\n\n-   mpsc: ensure `try_reserve` error is consistent with `try_send` ([#&#8203;4119])\n-   mpsc: use `spin_loop_hint` instead of `yield_now` ([#&#8203;4115])\n-   sync: make `SendError` field public ([#&#8203;4097])\n\n##### Added\n\n-   io: add POSIX AIO on FreeBSD ([#&#8203;4054])\n-   io: add convenience method `AsyncSeekExt::rewind` ([#&#8203;4107])\n-   runtime: add tracing span for `block_on` futures ([#&#8203;4094])\n-   runtime: callback when a worker parks and unparks ([#&#8203;4070])\n-   sync: implement `try_recv` for mpsc channels ([#&#8203;4113])\n\n##### Changed\n\n-   macros: run runtime inside `LocalSet` when using macro ([#&#8203;4027])\n\n##### Documented\n\n-   docs: clarify CPU-bound tasks on Tokio ([#&#8203;4105])\n-   mpsc: document spurious failures on `poll_recv` ([#&#8203;4117])\n-   mpsc: document that `PollSender` impls `Sink` ([#&#8203;4110])\n-   task: document non-guarantees of `yield_now` ([#&#8203;4091])\n-   time: document paused time details better ([#&#8203;4061], [#&#8203;4103])\n\n[#&#8203;4027]: https://togithub.com/tokio-rs/tokio/pull/4027\n\n[#&#8203;4054]: https://togithub.com/tokio-rs/tokio/pull/4054\n\n[#&#8203;4061]: https://togithub.com/tokio-rs/tokio/pull/4061\n\n[#&#8203;4070]: https://togithub.com/tokio-rs/tokio/pull/4070\n\n[#&#8203;4091]: https://togithub.com/tokio-rs/tokio/pull/4091\n\n[#&#8203;4094]: https://togithub.com/tokio-rs/tokio/pull/4094\n\n[#&#8203;4097]: https://togithub.com/tokio-rs/tokio/pull/4097\n\n[#&#8203;4103]: https://togithub.com/tokio-rs/tokio/pull/4103\n\n[#&#8203;4105]: https://togithub.com/tokio-rs/tokio/pull/4105\n\n[#&#8203;4107]: https://togithub.com/tokio-rs/tokio/pull/4107\n\n[#&#8203;4110]: https://togithub.com/tokio-rs/tokio/pull/4110\n\n[#&#8203;4113]: https://togithub.com/tokio-rs/tokio/pull/4113\n\n[#&#8203;4115]: https://togithub.com/tokio-rs/tokio/pull/4115\n\n[#&#8203;4117]: https://togithub.com/tokio-rs/tokio/pull/4117\n\n[#&#8203;4119]: https://togithub.com/tokio-rs/tokio/pull/4119\n\n### [`v1.11.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.11.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.10.1...tokio-1.11.0)\n\n### 1.11.0 (August 31, 2021)\n\n##### Fixed\n\n-   time: don't panic when Instant is not monotonic ([#&#8203;4044])\n-   io: fix panic in `fill_buf` by not calling `poll_fill_buf` twice ([#&#8203;4084])\n\n##### Added\n\n-   watch: add `watch::Sender::subscribe` ([#&#8203;3800])\n-   process: add `from_std` to `ChildStd*` ([#&#8203;4045])\n-   stats: initial work on runtime stats ([#&#8203;4043])\n\n##### Changed\n\n-   tracing: change span naming to new console convention ([#&#8203;4042])\n-   io: speed-up waking by using uninitialized array ([#&#8203;4055], [#&#8203;4071], [#&#8203;4075])\n\n##### Documented\n\n-   time: make Sleep examples easier to find ([#&#8203;4040])\n\n[#&#8203;3800]: https://togithub.com/tokio-rs/tokio/pull/3800\n\n[#&#8203;4040]: https://togithub.com/tokio-rs/tokio/pull/4040\n\n[#&#8203;4042]: https://togithub.com/tokio-rs/tokio/pull/4042\n\n[#&#8203;4043]: https://togithub.com/tokio-rs/tokio/pull/4043\n\n[#&#8203;4044]: https://togithub.com/tokio-rs/tokio/pull/4044\n\n[#&#8203;4045]: https://togithub.com/tokio-rs/tokio/pull/4045\n\n[#&#8203;4055]: https://togithub.com/tokio-rs/tokio/pull/4055\n\n[#&#8203;4071]: https://togithub.com/tokio-rs/tokio/pull/4071\n\n[#&#8203;4075]: https://togithub.com/tokio-rs/tokio/pull/4075\n\n[#&#8203;4084]: https://togithub.com/tokio-rs/tokio/pull/4084\n\n### [`v1.10.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.10.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.10.0...tokio-1.10.1)\n\n### 1.10.1 (August 24, 2021)\n\n##### Fixed\n\n-   runtime: fix leak in UnownedTask ([#&#8203;4063])\n\n[#&#8203;4063]: https://togithub.com/tokio-rs/tokio/pull/4063\n\n### [`v1.10.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.10.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.9.0...tokio-1.10.0)\n\n### 1.10.0 (August 12, 2021)\n\n##### Added\n\n-   io: add `(read|write)_f(32|64)[_le]` methods ([#&#8203;4022])\n-   io: add `fill_buf` and `consume` to `AsyncBufReadExt` ([#&#8203;3991])\n-   process: add `Child::raw_handle()` on windows ([#&#8203;3998])\n\n##### Fixed\n\n-   doc: fix non-doc builds with `--cfg docsrs` ([#&#8203;4020])\n-   io: flush eagerly in `io::copy` ([#&#8203;4001])\n-   runtime: a debug assert was sometimes triggered during shutdown ([#&#8203;4005])\n-   sync: use `spin_loop_hint` instead of `yield_now` in mpsc ([#&#8203;4037])\n-   tokio: the test-util feature depends on rt, sync, and time ([#&#8203;4036])\n\n##### Changes\n\n-   runtime: reorganize parts of the runtime ([#&#8203;3979], [#&#8203;4005])\n-   signal: make windows docs for signal module show up on unix builds ([#&#8203;3770])\n-   task: quickly send task to heap on debug mode ([#&#8203;4009])\n\n##### Documented\n\n-   io: document cancellation safety of `AsyncBufReadExt` ([#&#8203;3997])\n-   sync: document when `watch::send` fails ([#&#8203;4021])\n\n[#&#8203;3770]: https://togithub.com/tokio-rs/tokio/pull/3770\n\n[#&#8203;3979]: https://togithub.com/tokio-rs/tokio/pull/3979\n\n[#&#8203;3991]: https://togithub.com/tokio-rs/tokio/pull/3991\n\n[#&#8203;3997]: https://togithub.com/tokio-rs/tokio/pull/3997\n\n[#&#8203;3998]: https://togithub.com/tokio-rs/tokio/pull/3998\n\n[#&#8203;4001]: https://togithub.com/tokio-rs/tokio/pull/4001\n\n[#&#8203;4005]: https://togithub.com/tokio-rs/tokio/pull/4005\n\n[#&#8203;4009]: https://togithub.com/tokio-rs/tokio/pull/4009\n\n[#&#8203;4020]: https://togithub.com/tokio-rs/tokio/pull/4020\n\n[#&#8203;4021]: https://togithub.com/tokio-rs/tokio/pull/4021\n\n[#&#8203;4022]: https://togithub.com/tokio-rs/tokio/pull/4022\n\n[#&#8203;4036]: https://togithub.com/tokio-rs/tokio/pull/4036\n\n[#&#8203;4037]: https://togithub.com/tokio-rs/tokio/pull/4037\n\n### [`v1.9.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.9.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.5...tokio-1.9.0)\n\n### 1.9.0 (July 19, 2021)\n\n##### Added\n\n-   net: allow customized I/O operations for `TcpStream` ([#&#8203;3888])\n-   sync: add getter for the mutex from a guard ([#&#8203;3928])\n-   task: expose nameable future for `TaskLocal::scope` ([#&#8203;3273])\n\n##### Fixed\n\n-   Fix leak if output of future panics on drop ([#&#8203;3967])\n-   Fix leak in `LocalSet` ([#&#8203;3978])\n\n##### Changes\n\n-   runtime: reorganize parts of the runtime ([#&#8203;3909], [#&#8203;3939], [#&#8203;3950], [#&#8203;3955], [#&#8203;3980])\n-   sync: clean up `OnceCell` ([#&#8203;3945])\n-   task: remove mutex in `JoinError` ([#&#8203;3959])\n\n[#&#8203;3273]: https://togithub.com/tokio-rs/tokio/pull/3273\n\n[#&#8203;3888]: https://togithub.com/tokio-rs/tokio/pull/3888\n\n[#&#8203;3909]: https://togithub.com/tokio-rs/tokio/pull/3909\n\n[#&#8203;3928]: https://togithub.com/tokio-rs/tokio/pull/3928\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n[#&#8203;3939]: https://togithub.com/tokio-rs/tokio/pull/3939\n\n[#&#8203;3945]: https://togithub.com/tokio-rs/tokio/pull/3945\n\n[#&#8203;3950]: https://togithub.com/tokio-rs/tokio/pull/3950\n\n[#&#8203;3955]: https://togithub.com/tokio-rs/tokio/pull/3955\n\n[#&#8203;3959]: https://togithub.com/tokio-rs/tokio/pull/3959\n\n[#&#8203;3967]: https://togithub.com/tokio-rs/tokio/pull/3967\n\n[#&#8203;3978]: https://togithub.com/tokio-rs/tokio/pull/3978\n\n[#&#8203;3980]: https://togithub.com/tokio-rs/tokio/pull/3980\n\n### [`v1.8.5`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.5)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.4...tokio-1.8.5)\n\nThis release backports a bug fix from 1.16.1\n\nFixes a soundness bug in `io::Take` ([#&#8203;4428]). The unsoundness is exposed when\nleaking memory in the given `AsyncRead` implementation and then overwriting the\nsupplied buffer:\n\n```rust\nimpl AsyncRead for Buggy {\n    fn poll_read(\n        self: Pin<&mut Self>,\n        cx: &mut Context<'_>,\n        buf: &mut ReadBuf<'_>\n    ) -> Poll<Result<()>> {\n      let new_buf = vec![0; 5].leak();\n      *buf = ReadBuf::new(new_buf);\n      buf.put_slice(b\"hello\");\n      Poll::Ready(Ok(()))\n    }\n}\n```\n\n##### Fixed\n\n-   io: **soundness** don't expose uninitialized memory when using `io::Take` in edge case ([#&#8203;4428])\n\n[#&#8203;4428]: https://togithub.com/tokio-rs/tokio/pull/4428\n\n### [`v1.8.4`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.4)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.3...tokio-1.8.4)\n\n### 1.8.4 (November 15, 2021)\n\nThis release backports a bugfix for a data race when sending and receiving on a\nclosed `oneshot` channel (\\[RUSTSEC-2021-0124]) from v1.13.1.\n\n##### Fixed\n\n-   sync: fix a data race between `oneshot::Sender::send` and awaiting a\n    `oneshot::Receiver` when the oneshot has been closed ([#&#8203;4226](https://togithub.com/tokio-rs/tokio/issues/4226))\n\n### [`v1.8.3`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.3)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.2...tokio-1.8.3)\n\n### 1.8.3 (July 22, 2021)\n\nThis release backports two fixes from 1.9.0\n\n##### Fixed\n\n-   Fix leak if output of future panics on drop ([#&#8203;3967])\n-   Fix leak in `LocalSet` ([#&#8203;3978])\n\n[#&#8203;3967]: https://togithub.com/tokio-rs/tokio/pull/3967\n\n[#&#8203;3978]: https://togithub.com/tokio-rs/tokio/pull/3978\n\n### [`v1.8.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.1...tokio-1.8.2)\n\nFixes a missed edge case from 1.8.1.\n\n##### Fixed\n\n-   runtime: drop canceled future on next poll ([#&#8203;3965](https://togithub.com/tokio-rs/tokio/issues/3965))\n\n### [`v1.8.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.0...tokio-1.8.1)\n\nForward ports 1.5.1 fixes.\n\n##### Fixed\n\n-   runtime: remotely abort tasks on `JoinHandle::abort` ([#&#8203;3934])\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n### [`v1.8.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.7.3...tokio-1.8.0)\n\n### 1.8.0 (July 2, 2021)\n\n##### Added\n\n-   io: add `get_{ref,mut}` methods to `AsyncFdReadyGuard` and `AsyncFdReadyMutGuard` ([#&#8203;3807])\n-   io: efficient implementation of vectored writes for `BufWriter` ([#&#8203;3163])\n-   net: add ready/try methods to `NamedPipe{Client,Server}` ([#&#8203;3866], [#&#8203;3899])\n-   sync: add `watch::Receiver::borrow_and_update` ([#&#8203;3813])\n-   sync: implement `From<T>` for `OnceCell<T>` ([#&#8203;3877])\n-   time: allow users to specify Interval behaviour when delayed ([#&#8203;3721])\n\n##### Added (unstable)\n\n-   rt: add `tokio::task::Builder` ([#&#8203;3881])\n\n##### Fixed\n\n-   net: handle HUP event with `UnixStream` ([#&#8203;3898])\n\n##### Documented\n\n-   doc: document cancellation safety ([#&#8203;3900])\n-   time: add wait alias to sleep ([#&#8203;3897])\n-   time: document auto-advancing behaviour of runtime ([#&#8203;3763])\n\n[#&#8203;3163]: https://togithub.com/tokio-rs/tokio/pull/3163\n\n[#&#8203;3721]: https://togithub.com/tokio-rs/tokio/pull/3721\n\n[#&#8203;3763]: https://togithub.com/tokio-rs/tokio/pull/3763\n\n[#&#8203;3807]: https://togithub.com/tokio-rs/tokio/pull/3807\n\n[#&#8203;3813]: https://togithub.com/tokio-rs/tokio/pull/3813\n\n[#&#8203;3866]: https://togithub.com/tokio-rs/tokio/pull/3866\n\n[#&#8203;3877]: https://togithub.com/tokio-rs/tokio/pull/3877\n\n[#&#8203;3881]: https://togithub.com/tokio-rs/tokio/pull/3881\n\n[#&#8203;3897]: https://togithub.com/tokio-rs/tokio/pull/3897\n\n[#&#8203;3898]: https://togithub.com/tokio-rs/tokio/pull/3898\n\n[#&#8203;3899]: https://togithub.com/tokio-rs/tokio/pull/3899\n\n[#&#8203;3900]: https://togithub.com/tokio-rs/tokio/pull/3900\n\n### [`v1.7.3`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.7.3)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.7.2...tokio-1.7.3)\n\nFixes a missed edge case from 1.7.2.\n\n##### Fixed\n\n-   runtime: drop canceled future on next poll ([#&#8203;3965](https://togithub.com/tokio-rs/tokio/issues/3965))\n\n### [`v1.7.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.7.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.7.1...tokio-1.7.2)\n\nForward ports 1.5.1 fixes.\n\n##### Fixed\n\n-   runtime: remotely abort tasks on `JoinHandle::abort` ([#&#8203;3934])\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n### [`v1.7.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.7.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.7.0...tokio-1.7.1)\n\n##### Fixed\n\n-   runtime: fix early task shutdown during runtime shutdown ([#&#8203;3870])\n\n[#&#8203;3870]: https://togithub.com/tokio-rs/tokio/pull/3870\n\n### [`v1.7.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.7.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.4...tokio-1.7.0)\n\n### 1.7.0 (June 15, 2021)\n\n##### Added\n\n-   net: add named pipes on windows ([#&#8203;3760](https://togithub.com/tokio-rs/tokio/issues/3760))\n-   net: add `TcpSocket` from `std::net::TcpStream` conversion ([#&#8203;3838](https://togithub.com/tokio-rs/tokio/issues/3838))\n-   sync: add `receiver_count` to `watch::Sender` ([#&#8203;3729](https://togithub.com/tokio-rs/tokio/issues/3729))\n-   sync: export `sync::notify::Notified` future publicly ([#&#8203;3840](https://togithub.com/tokio-rs/tokio/issues/3840))\n-   tracing: instrument task wakers ([#&#8203;3836](https://togithub.com/tokio-rs/tokio/issues/3836))\n\n##### Fixed\n\n-   macros: suppress `clippy::default_numeric_fallback` lint in generated code ([#&#8203;3831](https://togithub.com/tokio-rs/tokio/issues/3831))\n-   runtime: immediately drop new tasks when runtime is shut down ([#&#8203;3752](https://togithub.com/tokio-rs/tokio/issues/3752))\n-   sync: deprecate unused `mpsc::RecvError` type ([#&#8203;3833](https://togithub.com/tokio-rs/tokio/issues/3833))\n\n##### Documented\n\n-   io: clarify EOF condition for `AsyncReadExt::read_buf` ([#&#8203;3850](https://togithub.com/tokio-rs/tokio/issues/3850))\n-   io: clarify limits on return values of `AsyncWrite::poll_write` ([#&#8203;3820](https://togithub.com/tokio-rs/tokio/issues/3820))\n-   sync: add examples to Semaphore ([#&#8203;3808](https://togithub.com/tokio-rs/tokio/issues/3808))\n\n### [`v1.6.4`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.4)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.3...tokio-1.6.4)\n\nFixes a missed edge case from 1.6.3.\n\n##### Fixed\n\n-   runtime: drop canceled future on next poll ([#&#8203;3965](https://togithub.com/tokio-rs/tokio/issues/3965))\n\n### [`v1.6.3`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.3)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.2...tokio-1.6.3)\n\nForward ports 1.5.1 fixes.\n\n##### Fixed\n\n-   runtime: remotely abort tasks on `JoinHandle::abort` ([#&#8203;3934])\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n### [`v1.6.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.1...tokio-1.6.2)\n\n##### Fixes\n\n-   test: sub-ms `time:advance` regression introduced in 1.6 ([#&#8203;3852])\n\n[#&#8203;3852]: https://togithub.com/tokio-rs/tokio/pull/3852\n\n### [`v1.6.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.0...tokio-1.6.1)\n\nThis release reverts [#&#8203;3518] because it doesn't work on some kernels due to\na kernel bug. ([#&#8203;3803])\n\n[#&#8203;3518]: https://togithub.com/tokio-rs/tokio/issues/3518\n\n[#&#8203;3803]: https://togithub.com/tokio-rs/tokio/issues/3803\n\n### [`v1.6.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.5.1...tokio-1.6.0)\n\n### 1.6.0 (May 14, 2021)\n\n##### Added\n\n-   fs: try doing a non-blocking read before punting to the threadpool ([#&#8203;3518](https://togithub.com/tokio-rs/tokio/issues/3518))\n-   io: add `write_all_buf` to `AsyncWriteExt` ([#&#8203;3737](https://togithub.com/tokio-rs/tokio/issues/3737))\n-   io: implement `AsyncSeek` for `BufReader`, `BufWriter`, and `BufStream` ([#&#8203;3491](https://togithub.com/tokio-rs/tokio/issues/3491))\n-   net: support non-blocking vectored I/O ([#&#8203;3761](https://togithub.com/tokio-rs/tokio/issues/3761))\n-   sync: add `mpsc::Sender::{reserve_owned, try_reserve_owned}` ([#&#8203;3704](https://togithub.com/tokio-rs/tokio/issues/3704))\n-   sync: add a `MutexGuard::map` method that returns a `MappedMutexGuard` ([#&#8203;2472](https://togithub.com/tokio-rs/tokio/issues/2472))\n-   time: add getter for Interval's period ([#&#8203;3705](https://togithub.com/tokio-rs/tokio/issues/3705))\n\n##### Fixed\n\n-   io: wake pending writers on `DuplexStream` close ([#&#8203;3756](https://togithub.com/tokio-rs/tokio/issues/3756))\n-   process: avoid redundant effort to reap orphan processes ([#&#8203;3743](https://togithub.com/tokio-rs/tokio/issues/3743))\n-   signal: use `std::os::raw::c_int` instead of `libc::c_int` on public API ([#&#8203;3774](https://togithub.com/tokio-rs/tokio/issues/3774))\n-   sync: preserve permit state in `notify_waiters` ([#&#8203;3660](https://togithub.com/tokio-rs/tokio/issues/3660))\n-   task: update `JoinHandle` panic message ([#&#8203;3727](https://togithub.com/tokio-rs/tokio/issues/3727))\n-   time: prevent `time::advance` from going too far ([#&#8203;3712](https://togithub.com/tokio-rs/tokio/issues/3712))\n\n##### Documented\n\n-   net: hide `net::unix::datagram` module from docs ([#&#8203;3775](https://togithub.com/tokio-rs/tokio/issues/3775))\n-   process: updated example ([#&#8203;3748](https://togithub.com/tokio-rs/tokio/issues/3748))\n-   sync: `Barrier` doc should use task, not thread ([#&#8203;3780](https://togithub.com/tokio-rs/tokio/issues/3780))\n-   task: update documentation on `block_in_place` ([#&#8203;3753](https://togithub.com/tokio-rs/tokio/issues/3753))\n\n### [`v1.5.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.5.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.5.0...tokio-1.5.1)\n\n##### Fixed\n\n-   runtime: remotely abort tasks on `JoinHandle::abort` ([#&#8203;3934])\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n### [`v1.5.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.5.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.4.0...tokio-1.5.0)\n\n### 1.5.0 (April 12, 2021)\n\n##### Added\n\n-   io: add `AsyncSeekExt::stream_position` ([#&#8203;3650](https://togithub.com/tokio-rs/tokio/issues/3650))\n-   io: add `AsyncWriteExt::write_vectored` ([#&#8203;3678](https://togithub.com/tokio-rs/tokio/issues/3678))\n-   io: add a `copy_bidirectional` utility ([#&#8203;3572](https://togithub.com/tokio-rs/tokio/issues/3572))\n-   net: implement `IntoRawFd` for `TcpSocket` ([#&#8203;3684](https://togithub.com/tokio-rs/tokio/issues/3684))\n-   sync: add `OnceCell` ([#&#8203;3591](https://togithub.com/tokio-rs/tokio/issues/3591))\n-   sync: add `OwnedRwLockReadGuard` and `OwnedRwLockWriteGuard` ([#&#8203;3340](https://togithub.com/tokio-rs/tokio/issues/3340))\n-   sync: add `Semaphore::is_closed` ([#&#8203;3673](https://togithub.com/tokio-rs/tokio/issues/3673))\n-   sync: add `mpsc::Sender::capacity` ([#&#8203;3690](https://togithub.com/tokio-rs/tokio/issues/3690))\n-   sync: allow configuring `RwLock` max reads ([#&#8203;3644](https://togithub.com/tokio-rs/tokio/issues/3644))\n-   task: add `sync_scope` for `LocalKey` ([#&#8203;3612](https://togithub.com/tokio-rs/tokio/issues/3612))\n\n##### Fixed\n\n-   chore: try to avoid `noalias` attributes on intrusive linked list ([#&#8203;3654](https://togithub.com/tokio-rs/tokio/issues/3654))\n-   rt: fix panic in `JoinHandle::abort()` when called from other threads ([#&#8203;3672](https://togithub.com/tokio-rs/tokio/issues/3672))\n-   sync: don't panic in `oneshot::try_recv` ([#&#8203;3674](https://togithub.com/tokio-rs/tokio/issues/3674))\n-   sync: fix notifications getting dropped on receiver drop ([#&#8203;3652](https://togithub.com/tokio-rs/tokio/issues/3652))\n-   sync: fix `Semaphore` permit overflow calculation ([#&#8203;3644](https://togithub.com/tokio-rs/tokio/issues/3644))\n\n##### Documented\n\n-   io: clarify requirements of `AsyncFd` ([#&#8203;3635](https://togithub.com/tokio-rs/tokio/issues/3635))\n-   runtime: fix unclear docs for `{Handle,Runtime}::block_on` ([#&#8203;3628](https://togithub.com/tokio-rs/tokio/issues/3628))\n-   sync: document that `Semaphore` is fair ([#&#8203;3693](https://togithub.com/tokio-rs/tokio/issues/3693))\n-   sync: improve doc on blocking mutex ([#&#8203;3645](https://togithub.com/tokio-rs/tokio/issues/3645))\n\n### [`v1.4.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.4.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.3.0...tokio-1.4.0)\n\n##### Added\n\n-   macros: introduce biased argument for `select!` ([#&#8203;3603])\n-   runtime: add `Handle::block_on` ([#&#8203;3569])\n\n##### Fixed\n\n-   runtime: avoid unnecessary polling of `block_on` future ([#&#8203;3582])\n-   runtime: fix memory leak/growth when creating many runtimes ([#&#8203;3564])\n-   runtime: mark `EnterGuard` with `must_use` ([#&#8203;3609])\n\n##### Documented\n\n-   chore: mention fix for building docs in contributing guide ([#&#8203;3618])\n-   doc: add link to `PollSender` ([#&#8203;3613])\n-   doc: alias sleep to delay ([#&#8203;3604])\n-   sync: improve `Mutex` FIFO explanation ([#&#8203;3615])\n-   timer: fix double newline in module docs ([#&#8203;3617])\n\n[#&#8203;3564]: https://togithub.com/tokio-rs/tokio/pull/3564\n\n[#&#8203;3613]: https://togithub.com/tokio-rs/tokio/pull/3613\n\n[#&#8203;3618]: https://togithub.com/tokio-rs/tokio/pull/3618\n\n[#&#8203;3617]: https://togithub.com/tokio-rs/tokio/pull/3617\n\n[#&#8203;3582]: https://togithub.com/tokio-rs/tokio/pull/3582\n\n[#&#8203;3615]: https://togithub.com/tokio-rs/tokio/pull/3615\n\n[#&#8203;3603]: https://togithub.com/tokio-rs/tokio/pull/3603\n\n[#&#8203;3609]: https://togithub.com/tokio-rs/tokio/pull/3609\n\n[#&#8203;3604]: https://togithub.com/tokio-rs/tokio/pull/3604\n\n[#&#8203;3569]: https://togithub.com/tokio-rs/tokio/pull/3569\n\n### [`v1.3.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.3.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.2.0...tokio-1.3.0)\n\n##### Added\n\n-   coop: expose an `unconstrained()` opt-out ([#&#8203;3547](https://togithub.com/tokio-rs/tokio/issues/3547))\n-   net: add `into_std` for net types without it ([#&#8203;3509](https://togithub.com/tokio-rs/tokio/issues/3509))\n-   sync: add `same_channel` method to `mpsc::Sender` ([#&#8203;3532](https://togithub.com/tokio-rs/tokio/issues/3532))\n-   sync: add `{try_,}acquire_many_owned` to `Semaphore` ([#&#8203;3535](https://togithub.com/tokio-rs/tokio/issues/3535))\n-   sync: add back `RwLockWriteGuard::map` and `RwLockWriteGuard::try_map` ([#&#8203;3348](https://togithub.com/tokio-rs/tokio/issues/3348))\n\n##### Fixed\n\n-   sync: allow `oneshot::Receiver::close` after successful `try_recv` ([#&#8203;3552](https://togithub.com/tokio-rs/tokio/issues/3552))\n-   time: do not panic on `timeout(Duration::MAX)` ([#&#8203;3551](https://togithub.com/tokio-rs/tokio/issues/3551))\n\n##### Documented\n\n-   doc: doc aliases for pre-1.0 function names ([#&#8203;3523](https://togithub.com/tokio-rs/tokio/issues/3523))\n-   io: fix typos ([#&#8203;3541](https://togithub.com/tokio-rs/tokio/issues/3541))\n-   io: note the EOF behaviour of `read_until` ([#&#8203;3536](https://togithub.com/tokio-rs/tokio/issues/3536))\n-   io: update `AsyncRead::poll_read` doc ([#&#8203;3557](https://togithub.com/tokio-rs/tokio/issues/3557))\n-   net: update `UdpSocket` splitting doc ([#&#8203;3517](https://togithub.com/tokio-rs/tokio/issues/3517))\n-   runtime: add link to `LocalSet` on `new_current_thread` ([#&#8203;3508](https://togithub.com/tokio-rs/tokio/issues/3508))\n-   runtime: update documentation of thread limits ([#&#8203;3527](https://togithub.com/tokio-rs/tokio/issues/3527))\n-   sync: do not recommend `join_all` for `Barrier` ([#&#8203;3514](https://togithub.com/tokio-rs/tokio/issues/3514))\n-   sync: documentation for `oneshot` ([#&#8203;3592](https://togithub.com/tokio-rs/tokio/issues/3592))\n-   sync: rename `notify` to `notify_one` ([#&#8203;3526](https://togithub.com/tokio-rs/tokio/issues/3526))\n-   time: fix typo in `Sleep` doc ([#&#8203;3515](https://togithub.com/tokio-rs/tokio/issues/3515))\n-   time: sync `interval.rs` and `time/mod.rs` docs ([#&#8203;3533](https://togithub.com/tokio-rs/tokio/issues/3533))\n\n### [`v1.2.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.2.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.1.1...tokio-1.2.0)\n\n##### Added\n\n-   signal: make `Signal::poll_recv` method public ([#&#8203;3383](https://togithub.com/tokio-rs/tokio/issues/3383))\n\n##### Fixed\n\n-   time: make `test-util` paused time fully deterministic ([#&#8203;3492](https://togithub.com/tokio-rs/tokio/issues/3492))\n\n##### Documented\n\n-   sync: link to new broadcast and watch wrappers ([#&#8203;3504](https://togithub.com/tokio-rs/tokio/issues/3504))\n\n### [`v1.1.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.1.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.1.0...tokio-1.1.1)\n\nForward ports 1.0.3 fix.\n\n##### Fixed\n\n-   io: memory leak during shutdown ([#&#8203;3477](https://togithub.com/tokio-rs/tokio/issues/3477)).\n\n### [`v1.1.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.1.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.0.3...tokio-1.1.0)\n\n##### Added\n\n-   net: add `try_read_buf` and `try_recv_buf` ([#&#8203;3351](https://togithub.com/tokio-rs/tokio/issues/3351))\n-   mpsc: Add `Sender::try_reserve` function ([#&#8203;3418](https://togithub.com/tokio-rs/tokio/issues/3418))\n-   sync: add `RwLock` `try_read` and `try_write` methods ([#&#8203;3400](https://togithub.com/tokio-rs/tokio/issues/3400))\n-   io: add `ReadBuf::inner_mut` ([#&#8203;3443](https://togithub.com/tokio-rs/tokio/issues/3443))\n\n##### Changed\n\n-   macros: improve `select!` error message ([#&#8203;3352](https://togithub.com/tokio-rs/tokio/issues/3352))\n-   io: keep track of initialized bytes in `read_to_end` ([#&#8203;3426](https://togithub.com/tokio-rs/tokio/issues/3426))\n-   runtime: consolidate errors for context missing ([#&#8203;3441](https://togithub.com/tokio-rs/tokio/issues/3441))\n\n##### Fixed\n\n-   task: wake `LocalSet` on `spawn_local` ([#&#8203;3369](https://togithub.com/tokio-rs/tokio/issues/3369))\n-   sync: fix panic in broadcast::Receiver drop ([#&#8203;3434](https://togithub.com/tokio-rs/tokio/issues/3434))\n\n##### Documented\n\n-   stream: link to new `Stream` wrappers in `tokio-stream` ([#&#8203;3343](https://togithub.com/tokio-rs/tokio/issues/3343))\n-   docs: mention that `test-util` feature is not enabled with full ([#&#8203;3397](https://togithub.com/tokio-rs/tokio/issues/3397))\n-   process: add documentation to process::Child fields ([#&#8203;3437](https://togithub.com/tokio-rs/tokio/issues/3437))\n-   io: clarify `AsyncFd` docs about changes of the inner fd ([#&#8203;3430](https://togithub.com/tokio-rs/tokio/issues/3430))\n-   net: update datagram docs on splitting ([#&#8203;3448](https://togithub.com/tokio-rs/tokio/issues/3448))\n-   time: document that `Sleep` is not `Unpin` ([#&#8203;3457](https://togithub.com/tokio-rs/tokio/issues/3457))\n-   sync: add link to `PollSemaphore` ([#&#8203;3456](https://togithub.com/tokio-rs/tokio/issues/3456))\n-   task: add `LocalSet` example ([#&#8203;3438](https://togithub.com/tokio-rs/tokio/issues/3438))\n-   sync: improve bounded `mpsc` documentation ([#&#8203;3458](https://togithub.com/tokio-rs/tokio/issues/3458))\n\n### [`v1.0.3`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.0.3)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.0.2...tokio-1.0.3)\n\n##### Fixed\n\n-   io: memory leak during shutdown ([#&#8203;3477](https://togithub.com/tokio-rs/tokio/issues/3477)).\n\n### [`v1.0.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.0.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.0.1...tokio-1.0.2)\n\n##### Fixed\n\n-   io: soundness in `read_to_end` ([#&#8203;3428](https://togithub.com/tokio-rs/tokio/issues/3428)).\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Enabled.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/timvw/qv).", "reactions": {"url": "https://api.github.com/repos/timvw/qv/issues/1/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/timvw/qv/issues/1/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/timvw/qv/issues/1", "repository_url": "https://api.github.com/repos/timvw/qv", "labels_url": "https://api.github.com/repos/timvw/qv/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/timvw/qv/issues/1/comments", "events_url": "https://api.github.com/repos/timvw/qv/issues/1/events", "html_url": "https://github.com/timvw/qv/pull/1", "id": 1247685719, "node_id": "PR_kwDOHZHU5M44bI1_", "number": 1, "title": "Update Rust crate tokio to 1.18", "user": {"login": "renovate[bot]", "id": 29139614, "node_id": "MDM6Qm90MjkxMzk2MTQ=", "avatar_url": "https://avatars.githubusercontent.com/in/2740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/renovate%5Bbot%5D", "html_url": "https://github.com/apps/renovate", "followers_url": "https://api.github.com/users/renovate%5Bbot%5D/followers", "following_url": "https://api.github.com/users/renovate%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/renovate%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/renovate%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/renovate%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/renovate%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/renovate%5Bbot%5D/repos", "events_url": "https://api.github.com/users/renovate%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/renovate%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-25T07:35:42Z", "updated_at": "2022-05-25T12:30:40Z", "closed_at": "2022-05-25T12:30:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/timvw/qv/pulls/1", "html_url": "https://github.com/timvw/qv/pull/1", "diff_url": "https://github.com/timvw/qv/pull/1.diff", "patch_url": "https://github.com/timvw/qv/pull/1.patch", "merged_at": "2022-05-25T12:30:39Z"}, "body": "[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [tokio](https://tokio.rs) ([source](https://togithub.com/tokio-rs/tokio)) | dependencies | minor | `1.0` -> `1.18` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>tokio-rs/tokio</summary>\n\n### [`v1.18.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.18.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.18.1...tokio-1.18.2)\n\n### 1.18.2 (May 5, 2022)\n\nAdd missing features for the `winapi` dependency. ([#&#8203;4663])\n\n[#&#8203;4663]: https://togithub.com/tokio-rs/tokio/pull/4663\n\n### [`v1.18.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.18.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.18.0...tokio-1.18.1)\n\n### 1.18.1 (May 2, 2022)\n\nThe 1.18.0 release broke the build for targets without 64-bit atomics when building with `tokio_unstable`. This release fixes that. ([#&#8203;4649])\n\n[#&#8203;4649]: https://togithub.com/tokio-rs/tokio/pull/4649\n\n### [`v1.18.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.18.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.17.0...tokio-1.18.0)\n\n### 1.18.0 (April 27, 2022)\n\nThis release adds a number of new APIs in `tokio::net`, `tokio::signal`, and\n`tokio::sync`. In addition, it adds new unstable APIs to `tokio::task` (`Id`s\nfor uniquely identifying a task, and `AbortHandle` for remotely cancelling a\ntask), as well as a number of bugfixes.\n\n##### Fixed\n\n-   blocking: add missing `#[track_caller]` for `spawn_blocking` ([#&#8203;4616](https://togithub.com/tokio-rs/tokio/issues/4616))\n-   macros: fix `select` macro to process 64 branches ([#&#8203;4519](https://togithub.com/tokio-rs/tokio/issues/4519))\n-   net: fix `try_io` methods not calling Mio's `try_io` internally ([#&#8203;4582](https://togithub.com/tokio-rs/tokio/issues/4582))\n-   runtime: recover when OS fails to spawn a new thread ([#&#8203;4485](https://togithub.com/tokio-rs/tokio/issues/4485))\n\n##### Added\n\n-   macros: support setting a custom crate name for `#[tokio::main]` and\n    `#[tokio::test]` ([#&#8203;4613](https://togithub.com/tokio-rs/tokio/issues/4613))\n-   net: add `UdpSocket::peer_addr` ([#&#8203;4611](https://togithub.com/tokio-rs/tokio/issues/4611))\n-   net: add `try_read_buf` method for named pipes ([#&#8203;4626](https://togithub.com/tokio-rs/tokio/issues/4626))\n-   signal: add `SignalKind` `Hash`/`Eq` impls and `c_int` conversion ([#&#8203;4540](https://togithub.com/tokio-rs/tokio/issues/4540))\n-   signal: add support for signals up to `SIGRTMAX` ([#&#8203;4555](https://togithub.com/tokio-rs/tokio/issues/4555))\n-   sync: add `watch::Sender::send_modify` method ([#&#8203;4310](https://togithub.com/tokio-rs/tokio/issues/4310))\n-   sync: add `broadcast::Receiver::len` method ([#&#8203;4542](https://togithub.com/tokio-rs/tokio/issues/4542))\n-   sync: add `watch::Receiver::same_channel` method ([#&#8203;4581](https://togithub.com/tokio-rs/tokio/issues/4581))\n-   sync: implement `Clone` for `RecvError` types ([#&#8203;4560](https://togithub.com/tokio-rs/tokio/issues/4560))\n\n##### Changed\n\n-   update `mio` to 0.8.1 ([#&#8203;4582](https://togithub.com/tokio-rs/tokio/issues/4582))\n-   macros: rename `tokio::select!`'s internal `util` module ([#&#8203;4543](https://togithub.com/tokio-rs/tokio/issues/4543))\n-   runtime: use `Vec::with_capacity` when building runtime ([#&#8203;4553](https://togithub.com/tokio-rs/tokio/issues/4553))\n\n##### Documented\n\n-   improve docs for `tokio_unstable` ([#&#8203;4524](https://togithub.com/tokio-rs/tokio/issues/4524))\n-   runtime: include more documentation for thread_pool/worker ([#&#8203;4511](https://togithub.com/tokio-rs/tokio/issues/4511))\n-   runtime: update `Handle::current`'s docs to mention `EnterGuard` ([#&#8203;4567](https://togithub.com/tokio-rs/tokio/issues/4567))\n-   time: clarify platform specific timer resolution ([#&#8203;4474](https://togithub.com/tokio-rs/tokio/issues/4474))\n-   signal: document that `Signal::recv` is cancel-safe ([#&#8203;4634](https://togithub.com/tokio-rs/tokio/issues/4634))\n-   sync: `UnboundedReceiver` close docs ([#&#8203;4548](https://togithub.com/tokio-rs/tokio/issues/4548))\n\n##### Unstable\n\nThe following changes only apply when building with `--cfg tokio_unstable`:\n\n-   task: add `task::Id` type ([#&#8203;4630](https://togithub.com/tokio-rs/tokio/issues/4630))\n-   task: add `AbortHandle` type for cancelling tasks in a `JoinSet` ([#&#8203;4530](https://togithub.com/tokio-rs/tokio/issues/4530)],\n    \\[[#&#8203;4640](https://togithub.com/tokio-rs/tokio/issues/4640))\n-   task: fix missing `doc(cfg(...))` attributes for `JoinSet` ([#&#8203;4531](https://togithub.com/tokio-rs/tokio/issues/4531))\n-   task: fix broken link in `AbortHandle` RustDoc ([#&#8203;4545](https://togithub.com/tokio-rs/tokio/issues/4545))\n-   metrics: add initial IO driver metrics ([#&#8203;4507](https://togithub.com/tokio-rs/tokio/issues/4507))\n\n### [`v1.17.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.17.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.16.1...tokio-1.17.0)\n\n##### 1.17.0 (February 15, 2022)\n\nThis release updates the minimum supported Rust version (MSRV) to 1.49,\nthe `mio` dependency to v0.8, and the (optional) `parking_lot`\ndependency to v0.12. Additionally, it contains several bug fixes, as\nwell as internal refactoring and performance improvements.\n\n##### Fixed\n\n-   time: prevent panicking in `sleep` with large durations ([#&#8203;4495])\n-   time: eliminate potential panics in `Instant` arithmetic on platforms\n    where `Instant::now` is not monotonic ([#&#8203;4461])\n-   io: fix `DuplexStream` not participating in cooperative yielding\n    ([#&#8203;4478])\n-   rt: fix potential double panic when dropping a `JoinHandle` ([#&#8203;4430])\n\n##### Changed\n\n-   update minimum supported Rust version to 1.49 ([#&#8203;4457])\n-   update `parking_lot` dependency to v0.12.0 ([#&#8203;4459])\n-   update `mio` dependency to v0.8 ([#&#8203;4449])\n-   rt: remove an unnecessary lock in the blocking pool ([#&#8203;4436])\n-   rt: remove an unnecessary enum in the basic scheduler ([#&#8203;4462])\n-   time: use bit manipulation instead of modulo to improve performance\n    ([#&#8203;4480])\n-   net: use `std::future::Ready` instead of our own `Ready` future\n    ([#&#8203;4271])\n-   replace deprecated `atomic::spin_loop_hint` with `hint::spin_loop`\n    ([#&#8203;4491])\n-   fix miri failures in intrusive linked lists ([#&#8203;4397])\n\n##### Documented\n\n-   io: add an example for `tokio::process::ChildStdin` ([#&#8203;4479])\n\n##### Unstable\n\nThe following changes only apply when building with `--cfg\ntokio_unstable`:\n\n-   task: fix missing location information in `tracing` spans generated by\n    `spawn_local` ([#&#8203;4483])\n-   task: add `JoinSet` for managing sets of tasks ([#&#8203;4335])\n-   metrics: fix compilation error on MIPS ([#&#8203;4475])\n-   metrics: fix compilation error on arm32v7 ([#&#8203;4453])\n\n[#&#8203;4495]: https://togithub.com/tokio-rs/tokio/pull/4495\n\n[#&#8203;4461]: https://togithub.com/tokio-rs/tokio/pull/4461\n\n[#&#8203;4478]: https://togithub.com/tokio-rs/tokio/pull/4478\n\n[#&#8203;4430]: https://togithub.com/tokio-rs/tokio/pull/4430\n\n[#&#8203;4457]: https://togithub.com/tokio-rs/tokio/pull/4457\n\n[#&#8203;4459]: https://togithub.com/tokio-rs/tokio/pull/4459\n\n[#&#8203;4449]: https://togithub.com/tokio-rs/tokio/pull/4449\n\n[#&#8203;4462]: https://togithub.com/tokio-rs/tokio/pull/4462\n\n[#&#8203;4436]: https://togithub.com/tokio-rs/tokio/pull/4436\n\n[#&#8203;4480]: https://togithub.com/tokio-rs/tokio/pull/4480\n\n[#&#8203;4271]: https://togithub.com/tokio-rs/tokio/pull/4271\n\n[#&#8203;4491]: https://togithub.com/tokio-rs/tokio/pull/4491\n\n[#&#8203;4397]: https://togithub.com/tokio-rs/tokio/pull/4397\n\n[#&#8203;4479]: https://togithub.com/tokio-rs/tokio/pull/4479\n\n[#&#8203;4483]: https://togithub.com/tokio-rs/tokio/pull/4483\n\n[#&#8203;4335]: https://togithub.com/tokio-rs/tokio/pull/4335\n\n[#&#8203;4475]: https://togithub.com/tokio-rs/tokio/pull/4475\n\n[#&#8203;4453]: https://togithub.com/tokio-rs/tokio/pull/4453\n\n### [`v1.16.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.16.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.16.0...tokio-1.16.1)\n\n##### 1.16.1 (January 28, 2022)\n\nThis release fixes a bug in [#&#8203;4428] with the change [#&#8203;4437].\n\n[#&#8203;4428]: https://togithub.com/tokio-rs/tokio/pull/4428\n\n[#&#8203;4437]: https://togithub.com/tokio-rs/tokio/pull/4437\n\n### [`v1.16.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.16.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.15.0...tokio-1.16.0)\n\nFixes a soundness bug in `io::Take` ([#&#8203;4428]). The unsoundness is exposed when\nleaking memory in the given `AsyncRead` implementation and then overwriting the\nsupplied buffer:\n\n```rust\nimpl AsyncRead for Buggy {\n    fn poll_read(\n        self: Pin<&mut Self>,\n        cx: &mut Context<'_>,\n        buf: &mut ReadBuf<'_>\n    ) -> Poll<Result<()>> {\n      let new_buf = vec![0; 5].leak();\n      *buf = ReadBuf::new(new_buf);\n      buf.put_slice(b\"hello\");\n      Poll::Ready(Ok(()))\n    }\n}\n```\n\nAlso, this release includes improvements to the multi-threaded scheduler that\ncan increase throughput by up to 20% in some cases ([#&#8203;4383]).\n\n##### Fixed\n\n-   io: **soundness** don't expose uninitialized memory when using `io::Take` in edge case ([#&#8203;4428])\n-   fs: ensure `File::write` results in a `write` syscall when the runtime shuts down ([#&#8203;4316])\n-   process: drop pipe after child exits in `wait_with_output` ([#&#8203;4315])\n-   rt: improve error message when spawning a thread fails ([#&#8203;4398])\n-   rt: reduce false-positive thread wakups in the multi-threaded scheduler ([#&#8203;4383])\n-   sync: don't inherit `Send` from `parking_lot::*Guard` ([#&#8203;4359])\n\n##### Added\n\n-   net: `TcpSocket::linger()` and `set_linger()` ([#&#8203;4324])\n-   net: impl `UnwindSafe` for socket types ([#&#8203;4384])\n-   rt: impl `UnwindSafe` for `JoinHandle` ([#&#8203;4418])\n-   sync: `watch::Receiver::has_changed()` ([#&#8203;4342])\n-   sync: `oneshot::Receiver::blocking_recv()` ([#&#8203;4334])\n-   sync: `RwLock` blocking operations ([#&#8203;4425])\n\n##### Unstable\n\nThe following changes only apply when building with `--cfg tokio_unstable`\n\n-   rt: **breaking change** overhaul runtime metrics API ([#&#8203;4373])\n\n[#&#8203;4428]: https://togithub.com/tokio-rs/tokio/pull/4428\n\n[#&#8203;4316]: https://togithub.com/tokio-rs/tokio/pull/4316\n\n[#&#8203;4315]: https://togithub.com/tokio-rs/tokio/pull/4315\n\n[#&#8203;4398]: https://togithub.com/tokio-rs/tokio/pull/4398\n\n[#&#8203;4383]: https://togithub.com/tokio-rs/tokio/pull/4383\n\n[#&#8203;4359]: https://togithub.com/tokio-rs/tokio/pull/4359\n\n[#&#8203;4324]: https://togithub.com/tokio-rs/tokio/pull/4324\n\n[#&#8203;4384]: https://togithub.com/tokio-rs/tokio/pull/4384\n\n[#&#8203;4418]: https://togithub.com/tokio-rs/tokio/pull/4418\n\n[#&#8203;4342]: https://togithub.com/tokio-rs/tokio/pull/4342\n\n[#&#8203;4334]: https://togithub.com/tokio-rs/tokio/pull/4334\n\n[#&#8203;4425]: https://togithub.com/tokio-rs/tokio/pull/4425\n\n[#&#8203;4373]: https://togithub.com/tokio-rs/tokio/pull/4373\n\n### [`v1.15.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.15.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.14.1...tokio-1.15.0)\n\n##### Fixed\n\n-   io: add cooperative yielding support to `io::empty()` ([#&#8203;4300])\n-   time: make timeout robust against budget-depleting tasks ([#&#8203;4314])\n\n##### Changed\n\n-   update minimum supported Rust version to 1.46.\n\n##### Added\n\n-   time: add `Interval::reset()` ([#&#8203;4248])\n-   io: add explicit lifetimes to `AsyncFdReadyGuard` ([#&#8203;4267])\n-   process: add `Command::as_std()` ([#&#8203;4295])\n\n##### Added (unstable)\n\n-   tracing: instrument `tokio::sync` types ([#&#8203;4302])\n\n[#&#8203;4302]: https://togithub.com/tokio-rs/tokio/pull/4302\n\n[#&#8203;4300]: https://togithub.com/tokio-rs/tokio/pull/4300\n\n[#&#8203;4295]: https://togithub.com/tokio-rs/tokio/pull/4295\n\n[#&#8203;4267]: https://togithub.com/tokio-rs/tokio/pull/4267\n\n[#&#8203;4248]: https://togithub.com/tokio-rs/tokio/pull/4248\n\n[#&#8203;4314]: https://togithub.com/tokio-rs/tokio/pull/4314\n\n### [`v1.14.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.14.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.14.0...tokio-1.14.1)\n\nThis release backports a bug fix from 1.16.1\n\nFixes a soundness bug in `io::Take` ([#&#8203;4428]). The unsoundness is exposed when\nleaking memory in the given `AsyncRead` implementation and then overwriting the\nsupplied buffer:\n\n```rust\nimpl AsyncRead for Buggy {\n    fn poll_read(\n        self: Pin<&mut Self>,\n        cx: &mut Context<'_>,\n        buf: &mut ReadBuf<'_>\n    ) -> Poll<Result<()>> {\n      let new_buf = vec![0; 5].leak();\n      *buf = ReadBuf::new(new_buf);\n      buf.put_slice(b\"hello\");\n      Poll::Ready(Ok(()))\n    }\n}\n```\n\n##### Fixed\n\n-   io: **soundness** don't expose uninitialized memory when using `io::Take` in edge case ([#&#8203;4428])\n\n[#&#8203;4428]: https://togithub.com/tokio-rs/tokio/pull/4428\n\n### [`v1.14.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.14.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.13.1...tokio-1.14.0)\n\n##### 1.14.0 (November 15, 2021)\n\n##### Fixed\n\n-   macros: fix compiler errors when using `mut` patterns in `select!` ([#&#8203;4211])\n-   sync: fix a data race between `oneshot::Sender::send` and awaiting a\n    `oneshot::Receiver` when the oneshot has been closed ([#&#8203;4226])\n-   sync: make `AtomicWaker` panic safe ([#&#8203;3689])\n-   runtime: fix basic scheduler dropping tasks outside a runtime context\n    ([#&#8203;4213])\n\n##### Added\n\n-   stats: add `RuntimeStats::busy_duration_total` ([#&#8203;4179], [#&#8203;4223])\n\n##### Changed\n\n-   io: updated `copy` buffer size to match `std::io::copy` ([#&#8203;4209])\n\n##### Documented\n\n-   io: rename buffer to file in doc-test ([#&#8203;4230])\n-   sync: fix Notify example ([#&#8203;4212])\n\n[#&#8203;4211]: https://togithub.com/tokio-rs/tokio/pull/4211\n\n[#&#8203;4226]: https://togithub.com/tokio-rs/tokio/pull/4226\n\n[#&#8203;3689]: https://togithub.com/tokio-rs/tokio/pull/3689\n\n[#&#8203;4213]: https://togithub.com/tokio-rs/tokio/pull/4213\n\n[#&#8203;4179]: https://togithub.com/tokio-rs/tokio/pull/4179\n\n[#&#8203;4223]: https://togithub.com/tokio-rs/tokio/pull/4223\n\n[#&#8203;4209]: https://togithub.com/tokio-rs/tokio/pull/4209\n\n[#&#8203;4230]: https://togithub.com/tokio-rs/tokio/pull/4230\n\n[#&#8203;4212]: https://togithub.com/tokio-rs/tokio/pull/4212\n\n### [`v1.13.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.13.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.13.0...tokio-1.13.1)\n\n##### 1.13.1 (November 15, 2021)\n\nThis release fixes a data race when sending and receiving on a\nclosed `oneshot` channel ([RUSTSEC-2021-0124]).\n\n##### Fixed\n\n-   sync: fix a data race between `oneshot::Sender::send` and awaiting a\n    `oneshot::Receiver` when the oneshot has been closed ([#&#8203;4226](https://togithub.com/tokio-rs/tokio/issues/4226))\n\n[RUSTSEC-2021-0124]: https://rustsec.org/advisories/RUSTSEC-2021-0124.html\n\n### [`v1.13.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.13.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.12.0...tokio-1.13.0)\n\n##### 1.13.0 (October 29, 2021)\n\n##### Fixed\n\n-   sync: fix `Notify` to clone the waker before locking its waiter list ([#&#8203;4129])\n-   tokio: add riscv32 to non atomic64 architectures ([#&#8203;4185])\n\n##### Added\n\n-   net: add `poll_{recv,send}_ready` methods to `udp` and `uds_datagram` ([#&#8203;4131])\n-   net: add `try_*`, `readable`, `writable`, `ready`, and `peer_addr` methods to split halves ([#&#8203;4120])\n-   sync: add `blocking_lock` to `Mutex` ([#&#8203;4130])\n-   sync: add `watch::Sender::send_replace` ([#&#8203;3962], [#&#8203;4195])\n-   sync: expand `Debug` for `Mutex<T>` impl to unsized `T` ([#&#8203;4134])\n-   tracing: instrument time::Sleep ([#&#8203;4072])\n-   tracing: use structured location fields for spawned tasks ([#&#8203;4128])\n\n##### Changed\n\n-   io: add assert in `copy_bidirectional` that `poll_write` is sensible ([#&#8203;4125])\n-   macros: use qualified syntax when polling in `select!` ([#&#8203;4192])\n-   runtime: handle `block_on` wakeups better ([#&#8203;4157])\n-   task: allocate callback on heap immediately in debug mode ([#&#8203;4203])\n-   tokio: assert platform-minimum requirements at build time ([#&#8203;3797])\n\n##### Documented\n\n-   docs: conversion of doc comments to indicative mood ([#&#8203;4174])\n-   docs: add returning on the first error example for `try_join!` ([#&#8203;4133])\n-   docs: fixing broken links in `tokio/src/lib.rs` ([#&#8203;4132])\n-   signal: add example with background listener ([#&#8203;4171])\n-   sync: add more oneshot examples ([#&#8203;4153])\n-   time: document `Interval::tick` cancel safety ([#&#8203;4152])\n\n[#&#8203;3797]: https://togithub.com/tokio-rs/tokio/pull/3797\n\n[#&#8203;3962]: https://togithub.com/tokio-rs/tokio/pull/3962\n\n[#&#8203;4072]: https://togithub.com/tokio-rs/tokio/pull/4072\n\n[#&#8203;4120]: https://togithub.com/tokio-rs/tokio/pull/4120\n\n[#&#8203;4125]: https://togithub.com/tokio-rs/tokio/pull/4125\n\n[#&#8203;4128]: https://togithub.com/tokio-rs/tokio/pull/4128\n\n[#&#8203;4129]: https://togithub.com/tokio-rs/tokio/pull/4129\n\n[#&#8203;4130]: https://togithub.com/tokio-rs/tokio/pull/4130\n\n[#&#8203;4131]: https://togithub.com/tokio-rs/tokio/pull/4131\n\n[#&#8203;4132]: https://togithub.com/tokio-rs/tokio/pull/4132\n\n[#&#8203;4133]: https://togithub.com/tokio-rs/tokio/pull/4133\n\n[#&#8203;4134]: https://togithub.com/tokio-rs/tokio/pull/4134\n\n[#&#8203;4152]: https://togithub.com/tokio-rs/tokio/pull/4152\n\n[#&#8203;4153]: https://togithub.com/tokio-rs/tokio/pull/4153\n\n[#&#8203;4157]: https://togithub.com/tokio-rs/tokio/pull/4157\n\n[#&#8203;4171]: https://togithub.com/tokio-rs/tokio/pull/4171\n\n[#&#8203;4174]: https://togithub.com/tokio-rs/tokio/pull/4174\n\n[#&#8203;4185]: https://togithub.com/tokio-rs/tokio/pull/4185\n\n[#&#8203;4192]: https://togithub.com/tokio-rs/tokio/pull/4192\n\n[#&#8203;4195]: https://togithub.com/tokio-rs/tokio/pull/4195\n\n[#&#8203;4203]: https://togithub.com/tokio-rs/tokio/pull/4203\n\n### [`v1.12.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.12.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.11.0...tokio-1.12.0)\n\n##### 1.12.0 (September 21, 2021)\n\n##### Fixed\n\n-   mpsc: ensure `try_reserve` error is consistent with `try_send` ([#&#8203;4119])\n-   mpsc: use `spin_loop_hint` instead of `yield_now` ([#&#8203;4115])\n-   sync: make `SendError` field public ([#&#8203;4097])\n\n##### Added\n\n-   io: add POSIX AIO on FreeBSD ([#&#8203;4054])\n-   io: add convenience method `AsyncSeekExt::rewind` ([#&#8203;4107])\n-   runtime: add tracing span for `block_on` futures ([#&#8203;4094])\n-   runtime: callback when a worker parks and unparks ([#&#8203;4070])\n-   sync: implement `try_recv` for mpsc channels ([#&#8203;4113])\n\n##### Changed\n\n-   macros: run runtime inside `LocalSet` when using macro ([#&#8203;4027])\n\n##### Documented\n\n-   docs: clarify CPU-bound tasks on Tokio ([#&#8203;4105])\n-   mpsc: document spurious failures on `poll_recv` ([#&#8203;4117])\n-   mpsc: document that `PollSender` impls `Sink` ([#&#8203;4110])\n-   task: document non-guarantees of `yield_now` ([#&#8203;4091])\n-   time: document paused time details better ([#&#8203;4061], [#&#8203;4103])\n\n[#&#8203;4027]: https://togithub.com/tokio-rs/tokio/pull/4027\n\n[#&#8203;4054]: https://togithub.com/tokio-rs/tokio/pull/4054\n\n[#&#8203;4061]: https://togithub.com/tokio-rs/tokio/pull/4061\n\n[#&#8203;4070]: https://togithub.com/tokio-rs/tokio/pull/4070\n\n[#&#8203;4091]: https://togithub.com/tokio-rs/tokio/pull/4091\n\n[#&#8203;4094]: https://togithub.com/tokio-rs/tokio/pull/4094\n\n[#&#8203;4097]: https://togithub.com/tokio-rs/tokio/pull/4097\n\n[#&#8203;4103]: https://togithub.com/tokio-rs/tokio/pull/4103\n\n[#&#8203;4105]: https://togithub.com/tokio-rs/tokio/pull/4105\n\n[#&#8203;4107]: https://togithub.com/tokio-rs/tokio/pull/4107\n\n[#&#8203;4110]: https://togithub.com/tokio-rs/tokio/pull/4110\n\n[#&#8203;4113]: https://togithub.com/tokio-rs/tokio/pull/4113\n\n[#&#8203;4115]: https://togithub.com/tokio-rs/tokio/pull/4115\n\n[#&#8203;4117]: https://togithub.com/tokio-rs/tokio/pull/4117\n\n[#&#8203;4119]: https://togithub.com/tokio-rs/tokio/pull/4119\n\n### [`v1.11.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.11.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.10.1...tokio-1.11.0)\n\n### 1.11.0 (August 31, 2021)\n\n##### Fixed\n\n-   time: don't panic when Instant is not monotonic ([#&#8203;4044])\n-   io: fix panic in `fill_buf` by not calling `poll_fill_buf` twice ([#&#8203;4084])\n\n##### Added\n\n-   watch: add `watch::Sender::subscribe` ([#&#8203;3800])\n-   process: add `from_std` to `ChildStd*` ([#&#8203;4045])\n-   stats: initial work on runtime stats ([#&#8203;4043])\n\n##### Changed\n\n-   tracing: change span naming to new console convention ([#&#8203;4042])\n-   io: speed-up waking by using uninitialized array ([#&#8203;4055], [#&#8203;4071], [#&#8203;4075])\n\n##### Documented\n\n-   time: make Sleep examples easier to find ([#&#8203;4040])\n\n[#&#8203;3800]: https://togithub.com/tokio-rs/tokio/pull/3800\n\n[#&#8203;4040]: https://togithub.com/tokio-rs/tokio/pull/4040\n\n[#&#8203;4042]: https://togithub.com/tokio-rs/tokio/pull/4042\n\n[#&#8203;4043]: https://togithub.com/tokio-rs/tokio/pull/4043\n\n[#&#8203;4044]: https://togithub.com/tokio-rs/tokio/pull/4044\n\n[#&#8203;4045]: https://togithub.com/tokio-rs/tokio/pull/4045\n\n[#&#8203;4055]: https://togithub.com/tokio-rs/tokio/pull/4055\n\n[#&#8203;4071]: https://togithub.com/tokio-rs/tokio/pull/4071\n\n[#&#8203;4075]: https://togithub.com/tokio-rs/tokio/pull/4075\n\n[#&#8203;4084]: https://togithub.com/tokio-rs/tokio/pull/4084\n\n### [`v1.10.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.10.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.10.0...tokio-1.10.1)\n\n### 1.10.1 (August 24, 2021)\n\n##### Fixed\n\n-   runtime: fix leak in UnownedTask ([#&#8203;4063])\n\n[#&#8203;4063]: https://togithub.com/tokio-rs/tokio/pull/4063\n\n### [`v1.10.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.10.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.9.0...tokio-1.10.0)\n\n### 1.10.0 (August 12, 2021)\n\n##### Added\n\n-   io: add `(read|write)_f(32|64)[_le]` methods ([#&#8203;4022])\n-   io: add `fill_buf` and `consume` to `AsyncBufReadExt` ([#&#8203;3991])\n-   process: add `Child::raw_handle()` on windows ([#&#8203;3998])\n\n##### Fixed\n\n-   doc: fix non-doc builds with `--cfg docsrs` ([#&#8203;4020])\n-   io: flush eagerly in `io::copy` ([#&#8203;4001])\n-   runtime: a debug assert was sometimes triggered during shutdown ([#&#8203;4005])\n-   sync: use `spin_loop_hint` instead of `yield_now` in mpsc ([#&#8203;4037])\n-   tokio: the test-util feature depends on rt, sync, and time ([#&#8203;4036])\n\n##### Changes\n\n-   runtime: reorganize parts of the runtime ([#&#8203;3979], [#&#8203;4005])\n-   signal: make windows docs for signal module show up on unix builds ([#&#8203;3770])\n-   task: quickly send task to heap on debug mode ([#&#8203;4009])\n\n##### Documented\n\n-   io: document cancellation safety of `AsyncBufReadExt` ([#&#8203;3997])\n-   sync: document when `watch::send` fails ([#&#8203;4021])\n\n[#&#8203;3770]: https://togithub.com/tokio-rs/tokio/pull/3770\n\n[#&#8203;3979]: https://togithub.com/tokio-rs/tokio/pull/3979\n\n[#&#8203;3991]: https://togithub.com/tokio-rs/tokio/pull/3991\n\n[#&#8203;3997]: https://togithub.com/tokio-rs/tokio/pull/3997\n\n[#&#8203;3998]: https://togithub.com/tokio-rs/tokio/pull/3998\n\n[#&#8203;4001]: https://togithub.com/tokio-rs/tokio/pull/4001\n\n[#&#8203;4005]: https://togithub.com/tokio-rs/tokio/pull/4005\n\n[#&#8203;4009]: https://togithub.com/tokio-rs/tokio/pull/4009\n\n[#&#8203;4020]: https://togithub.com/tokio-rs/tokio/pull/4020\n\n[#&#8203;4021]: https://togithub.com/tokio-rs/tokio/pull/4021\n\n[#&#8203;4022]: https://togithub.com/tokio-rs/tokio/pull/4022\n\n[#&#8203;4036]: https://togithub.com/tokio-rs/tokio/pull/4036\n\n[#&#8203;4037]: https://togithub.com/tokio-rs/tokio/pull/4037\n\n### [`v1.9.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.9.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.5...tokio-1.9.0)\n\n### 1.9.0 (July 19, 2021)\n\n##### Added\n\n-   net: allow customized I/O operations for `TcpStream` ([#&#8203;3888])\n-   sync: add getter for the mutex from a guard ([#&#8203;3928])\n-   task: expose nameable future for `TaskLocal::scope` ([#&#8203;3273])\n\n##### Fixed\n\n-   Fix leak if output of future panics on drop ([#&#8203;3967])\n-   Fix leak in `LocalSet` ([#&#8203;3978])\n\n##### Changes\n\n-   runtime: reorganize parts of the runtime ([#&#8203;3909], [#&#8203;3939], [#&#8203;3950], [#&#8203;3955], [#&#8203;3980])\n-   sync: clean up `OnceCell` ([#&#8203;3945])\n-   task: remove mutex in `JoinError` ([#&#8203;3959])\n\n[#&#8203;3273]: https://togithub.com/tokio-rs/tokio/pull/3273\n\n[#&#8203;3888]: https://togithub.com/tokio-rs/tokio/pull/3888\n\n[#&#8203;3909]: https://togithub.com/tokio-rs/tokio/pull/3909\n\n[#&#8203;3928]: https://togithub.com/tokio-rs/tokio/pull/3928\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n[#&#8203;3939]: https://togithub.com/tokio-rs/tokio/pull/3939\n\n[#&#8203;3945]: https://togithub.com/tokio-rs/tokio/pull/3945\n\n[#&#8203;3950]: https://togithub.com/tokio-rs/tokio/pull/3950\n\n[#&#8203;3955]: https://togithub.com/tokio-rs/tokio/pull/3955\n\n[#&#8203;3959]: https://togithub.com/tokio-rs/tokio/pull/3959\n\n[#&#8203;3967]: https://togithub.com/tokio-rs/tokio/pull/3967\n\n[#&#8203;3978]: https://togithub.com/tokio-rs/tokio/pull/3978\n\n[#&#8203;3980]: https://togithub.com/tokio-rs/tokio/pull/3980\n\n### [`v1.8.5`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.5)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.4...tokio-1.8.5)\n\nThis release backports a bug fix from 1.16.1\n\nFixes a soundness bug in `io::Take` ([#&#8203;4428]). The unsoundness is exposed when\nleaking memory in the given `AsyncRead` implementation and then overwriting the\nsupplied buffer:\n\n```rust\nimpl AsyncRead for Buggy {\n    fn poll_read(\n        self: Pin<&mut Self>,\n        cx: &mut Context<'_>,\n        buf: &mut ReadBuf<'_>\n    ) -> Poll<Result<()>> {\n      let new_buf = vec![0; 5].leak();\n      *buf = ReadBuf::new(new_buf);\n      buf.put_slice(b\"hello\");\n      Poll::Ready(Ok(()))\n    }\n}\n```\n\n##### Fixed\n\n-   io: **soundness** don't expose uninitialized memory when using `io::Take` in edge case ([#&#8203;4428])\n\n[#&#8203;4428]: https://togithub.com/tokio-rs/tokio/pull/4428\n\n### [`v1.8.4`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.4)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.3...tokio-1.8.4)\n\n### 1.8.4 (November 15, 2021)\n\nThis release backports a bugfix for a data race when sending and receiving on a\nclosed `oneshot` channel (\\[RUSTSEC-2021-0124]) from v1.13.1.\n\n##### Fixed\n\n-   sync: fix a data race between `oneshot::Sender::send` and awaiting a\n    `oneshot::Receiver` when the oneshot has been closed ([#&#8203;4226](https://togithub.com/tokio-rs/tokio/issues/4226))\n\n### [`v1.8.3`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.3)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.2...tokio-1.8.3)\n\n### 1.8.3 (July 22, 2021)\n\nThis release backports two fixes from 1.9.0\n\n##### Fixed\n\n-   Fix leak if output of future panics on drop ([#&#8203;3967])\n-   Fix leak in `LocalSet` ([#&#8203;3978])\n\n[#&#8203;3967]: https://togithub.com/tokio-rs/tokio/pull/3967\n\n[#&#8203;3978]: https://togithub.com/tokio-rs/tokio/pull/3978\n\n### [`v1.8.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.1...tokio-1.8.2)\n\nFixes a missed edge case from 1.8.1.\n\n##### Fixed\n\n-   runtime: drop canceled future on next poll ([#&#8203;3965](https://togithub.com/tokio-rs/tokio/issues/3965))\n\n### [`v1.8.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.0...tokio-1.8.1)\n\nForward ports 1.5.1 fixes.\n\n##### Fixed\n\n-   runtime: remotely abort tasks on `JoinHandle::abort` ([#&#8203;3934])\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n### [`v1.8.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.7.3...tokio-1.8.0)\n\n### 1.8.0 (July 2, 2021)\n\n##### Added\n\n-   io: add `get_{ref,mut}` methods to `AsyncFdReadyGuard` and `AsyncFdReadyMutGuard` ([#&#8203;3807])\n-   io: efficient implementation of vectored writes for `BufWriter` ([#&#8203;3163])\n-   net: add ready/try methods to `NamedPipe{Client,Server}` ([#&#8203;3866], [#&#8203;3899])\n-   sync: add `watch::Receiver::borrow_and_update` ([#&#8203;3813])\n-   sync: implement `From<T>` for `OnceCell<T>` ([#&#8203;3877])\n-   time: allow users to specify Interval behaviour when delayed ([#&#8203;3721])\n\n##### Added (unstable)\n\n-   rt: add `tokio::task::Builder` ([#&#8203;3881])\n\n##### Fixed\n\n-   net: handle HUP event with `UnixStream` ([#&#8203;3898])\n\n##### Documented\n\n-   doc: document cancellation safety ([#&#8203;3900])\n-   time: add wait alias to sleep ([#&#8203;3897])\n-   time: document auto-advancing behaviour of runtime ([#&#8203;3763])\n\n[#&#8203;3163]: https://togithub.com/tokio-rs/tokio/pull/3163\n\n[#&#8203;3721]: https://togithub.com/tokio-rs/tokio/pull/3721\n\n[#&#8203;3763]: https://togithub.com/tokio-rs/tokio/pull/3763\n\n[#&#8203;3807]: https://togithub.com/tokio-rs/tokio/pull/3807\n\n[#&#8203;3813]: https://togithub.com/tokio-rs/tokio/pull/3813\n\n[#&#8203;3866]: https://togithub.com/tokio-rs/tokio/pull/3866\n\n[#&#8203;3877]: https://togithub.com/tokio-rs/tokio/pull/3877\n\n[#&#8203;3881]: https://togithub.com/tokio-rs/tokio/pull/3881\n\n[#&#8203;3897]: https://togithub.com/tokio-rs/tokio/pull/3897\n\n[#&#8203;3898]: https://togithub.com/tokio-rs/tokio/pull/3898\n\n[#&#8203;3899]: https://togithub.com/tokio-rs/tokio/pull/3899\n\n[#&#8203;3900]: https://togithub.com/tokio-rs/tokio/pull/3900\n\n### [`v1.7.3`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.7.3)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.7.2...tokio-1.7.3)\n\nFixes a missed edge case from 1.7.2.\n\n##### Fixed\n\n-   runtime: drop canceled future on next poll ([#&#8203;3965](https://togithub.com/tokio-rs/tokio/issues/3965))\n\n### [`v1.7.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.7.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.7.1...tokio-1.7.2)\n\nForward ports 1.5.1 fixes.\n\n##### Fixed\n\n-   runtime: remotely abort tasks on `JoinHandle::abort` ([#&#8203;3934])\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n### [`v1.7.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.7.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.7.0...tokio-1.7.1)\n\n##### Fixed\n\n-   runtime: fix early task shutdown during runtime shutdown ([#&#8203;3870])\n\n[#&#8203;3870]: https://togithub.com/tokio-rs/tokio/pull/3870\n\n### [`v1.7.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.7.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.4...tokio-1.7.0)\n\n### 1.7.0 (June 15, 2021)\n\n##### Added\n\n-   net: add named pipes on windows ([#&#8203;3760](https://togithub.com/tokio-rs/tokio/issues/3760))\n-   net: add `TcpSocket` from `std::net::TcpStream` conversion ([#&#8203;3838](https://togithub.com/tokio-rs/tokio/issues/3838))\n-   sync: add `receiver_count` to `watch::Sender` ([#&#8203;3729](https://togithub.com/tokio-rs/tokio/issues/3729))\n-   sync: export `sync::notify::Notified` future publicly ([#&#8203;3840](https://togithub.com/tokio-rs/tokio/issues/3840))\n-   tracing: instrument task wakers ([#&#8203;3836](https://togithub.com/tokio-rs/tokio/issues/3836))\n\n##### Fixed\n\n-   macros: suppress `clippy::default_numeric_fallback` lint in generated code ([#&#8203;3831](https://togithub.com/tokio-rs/tokio/issues/3831))\n-   runtime: immediately drop new tasks when runtime is shut down ([#&#8203;3752](https://togithub.com/tokio-rs/tokio/issues/3752))\n-   sync: deprecate unused `mpsc::RecvError` type ([#&#8203;3833](https://togithub.com/tokio-rs/tokio/issues/3833))\n\n##### Documented\n\n-   io: clarify EOF condition for `AsyncReadExt::read_buf` ([#&#8203;3850](https://togithub.com/tokio-rs/tokio/issues/3850))\n-   io: clarify limits on return values of `AsyncWrite::poll_write` ([#&#8203;3820](https://togithub.com/tokio-rs/tokio/issues/3820))\n-   sync: add examples to Semaphore ([#&#8203;3808](https://togithub.com/tokio-rs/tokio/issues/3808))\n\n### [`v1.6.4`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.4)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.3...tokio-1.6.4)\n\nFixes a missed edge case from 1.6.3.\n\n##### Fixed\n\n-   runtime: drop canceled future on next poll ([#&#8203;3965](https://togithub.com/tokio-rs/tokio/issues/3965))\n\n### [`v1.6.3`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.3)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.2...tokio-1.6.3)\n\nForward ports 1.5.1 fixes.\n\n##### Fixed\n\n-   runtime: remotely abort tasks on `JoinHandle::abort` ([#&#8203;3934])\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n### [`v1.6.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.1...tokio-1.6.2)\n\n##### Fixes\n\n-   test: sub-ms `time:advance` regression introduced in 1.6 ([#&#8203;3852])\n\n[#&#8203;3852]: https://togithub.com/tokio-rs/tokio/pull/3852\n\n### [`v1.6.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.0...tokio-1.6.1)\n\nThis release reverts [#&#8203;3518] because it doesn't work on some kernels due to\na kernel bug. ([#&#8203;3803])\n\n[#&#8203;3518]: https://togithub.com/tokio-rs/tokio/issues/3518\n\n[#&#8203;3803]: https://togithub.com/tokio-rs/tokio/issues/3803\n\n### [`v1.6.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.5.1...tokio-1.6.0)\n\n### 1.6.0 (May 14, 2021)\n\n##### Added\n\n-   fs: try doing a non-blocking read before punting to the threadpool ([#&#8203;3518](https://togithub.com/tokio-rs/tokio/issues/3518))\n-   io: add `write_all_buf` to `AsyncWriteExt` ([#&#8203;3737](https://togithub.com/tokio-rs/tokio/issues/3737))\n-   io: implement `AsyncSeek` for `BufReader`, `BufWriter`, and `BufStream` ([#&#8203;3491](https://togithub.com/tokio-rs/tokio/issues/3491))\n-   net: support non-blocking vectored I/O ([#&#8203;3761](https://togithub.com/tokio-rs/tokio/issues/3761))\n-   sync: add `mpsc::Sender::{reserve_owned, try_reserve_owned}` ([#&#8203;3704](https://togithub.com/tokio-rs/tokio/issues/3704))\n-   sync: add a `MutexGuard::map` method that returns a `MappedMutexGuard` ([#&#8203;2472](https://togithub.com/tokio-rs/tokio/issues/2472))\n-   time: add getter for Interval's period ([#&#8203;3705](https://togithub.com/tokio-rs/tokio/issues/3705))\n\n##### Fixed\n\n-   io: wake pending writers on `DuplexStream` close ([#&#8203;3756](https://togithub.com/tokio-rs/tokio/issues/3756))\n-   process: avoid redundant effort to reap orphan processes ([#&#8203;3743](https://togithub.com/tokio-rs/tokio/issues/3743))\n-   signal: use `std::os::raw::c_int` instead of `libc::c_int` on public API ([#&#8203;3774](https://togithub.com/tokio-rs/tokio/issues/3774))\n-   sync: preserve permit state in `notify_waiters` ([#&#8203;3660](https://togithub.com/tokio-rs/tokio/issues/3660))\n-   task: update `JoinHandle` panic message ([#&#8203;3727](https://togithub.com/tokio-rs/tokio/issues/3727))\n-   time: prevent `time::advance` from going too far ([#&#8203;3712](https://togithub.com/tokio-rs/tokio/issues/3712))\n\n##### Documented\n\n-   net: hide `net::unix::datagram` module from docs ([#&#8203;3775](https://togithub.com/tokio-rs/tokio/issues/3775))\n-   process: updated example ([#&#8203;3748](https://togithub.com/tokio-rs/tokio/issues/3748))\n-   sync: `Barrier` doc should use task, not thread ([#&#8203;3780](https://togithub.com/tokio-rs/tokio/issues/3780))\n-   task: update documentation on `block_in_place` ([#&#8203;3753](https://togithub.com/tokio-rs/tokio/issues/3753))\n\n### [`v1.5.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.5.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.5.0...tokio-1.5.1)\n\n##### Fixed\n\n-   runtime: remotely abort tasks on `JoinHandle::abort` ([#&#8203;3934])\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n### [`v1.5.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.5.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.4.0...tokio-1.5.0)\n\n### 1.5.0 (April 12, 2021)\n\n##### Added\n\n-   io: add `AsyncSeekExt::stream_position` ([#&#8203;3650](https://togithub.com/tokio-rs/tokio/issues/3650))\n-   io: add `AsyncWriteExt::write_vectored` ([#&#8203;3678](https://togithub.com/tokio-rs/tokio/issues/3678))\n-   io: add a `copy_bidirectional` utility ([#&#8203;3572](https://togithub.com/tokio-rs/tokio/issues/3572))\n-   net: implement `IntoRawFd` for `TcpSocket` ([#&#8203;3684](https://togithub.com/tokio-rs/tokio/issues/3684))\n-   sync: add `OnceCell` ([#&#8203;3591](https://togithub.com/tokio-rs/tokio/issues/3591))\n-   sync: add `OwnedRwLockReadGuard` and `OwnedRwLockWriteGuard` ([#&#8203;3340](https://togithub.com/tokio-rs/tokio/issues/3340))\n-   sync: add `Semaphore::is_closed` ([#&#8203;3673](https://togithub.com/tokio-rs/tokio/issues/3673))\n-   sync: add `mpsc::Sender::capacity` ([#&#8203;3690](https://togithub.com/tokio-rs/tokio/issues/3690))\n-   sync: allow configuring `RwLock` max reads ([#&#8203;3644](https://togithub.com/tokio-rs/tokio/issues/3644))\n-   task: add `sync_scope` for `LocalKey` ([#&#8203;3612](https://togithub.com/tokio-rs/tokio/issues/3612))\n\n##### Fixed\n\n-   chore: try to avoid `noalias` attributes on intrusive linked list ([#&#8203;3654](https://togithub.com/tokio-rs/tokio/issues/3654))\n-   rt: fix panic in `JoinHandle::abort()` when called from other threads ([#&#8203;3672](https://togithub.com/tokio-rs/tokio/issues/3672))\n-   sync: don't panic in `oneshot::try_recv` ([#&#8203;3674](https://togithub.com/tokio-rs/tokio/issues/3674))\n-   sync: fix notifications getting dropped on receiver drop ([#&#8203;3652](https://togithub.com/tokio-rs/tokio/issues/3652))\n-   sync: fix `Semaphore` permit overflow calculation ([#&#8203;3644](https://togithub.com/tokio-rs/tokio/issues/3644))\n\n##### Documented\n\n-   io: clarify requirements of `AsyncFd` ([#&#8203;3635](https://togithub.com/tokio-rs/tokio/issues/3635))\n-   runtime: fix unclear docs for `{Handle,Runtime}::block_on` ([#&#8203;3628](https://togithub.com/tokio-rs/tokio/issues/3628))\n-   sync: document that `Semaphore` is fair ([#&#8203;3693](https://togithub.com/tokio-rs/tokio/issues/3693))\n-   sync: improve doc on blocking mutex ([#&#8203;3645](https://togithub.com/tokio-rs/tokio/issues/3645))\n\n### [`v1.4.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.4.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.3.0...tokio-1.4.0)\n\n##### Added\n\n-   macros: introduce biased argument for `select!` ([#&#8203;3603])\n-   runtime: add `Handle::block_on` ([#&#8203;3569])\n\n##### Fixed\n\n-   runtime: avoid unnecessary polling of `block_on` future ([#&#8203;3582])\n-   runtime: fix memory leak/growth when creating many runtimes ([#&#8203;3564])\n-   runtime: mark `EnterGuard` with `must_use` ([#&#8203;3609])\n\n##### Documented\n\n-   chore: mention fix for building docs in contributing guide ([#&#8203;3618])\n-   doc: add link to `PollSender` ([#&#8203;3613])\n-   doc: alias sleep to delay ([#&#8203;3604])\n-   sync: improve `Mutex` FIFO explanation ([#&#8203;3615])\n-   timer: fix double newline in module docs ([#&#8203;3617])\n\n[#&#8203;3564]: https://togithub.com/tokio-rs/tokio/pull/3564\n\n[#&#8203;3613]: https://togithub.com/tokio-rs/tokio/pull/3613\n\n[#&#8203;3618]: https://togithub.com/tokio-rs/tokio/pull/3618\n\n[#&#8203;3617]: https://togithub.com/tokio-rs/tokio/pull/3617\n\n[#&#8203;3582]: https://togithub.com/tokio-rs/tokio/pull/3582\n\n[#&#8203;3615]: https://togithub.com/tokio-rs/tokio/pull/3615\n\n[#&#8203;3603]: https://togithub.com/tokio-rs/tokio/pull/3603\n\n[#&#8203;3609]: https://togithub.com/tokio-rs/tokio/pull/3609\n\n[#&#8203;3604]: https://togithub.com/tokio-rs/tokio/pull/3604\n\n[#&#8203;3569]: https://togithub.com/tokio-rs/tokio/pull/3569\n\n### [`v1.3.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.3.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.2.0...tokio-1.3.0)\n\n##### Added\n\n-   coop: expose an `unconstrained()` opt-out ([#&#8203;3547](https://togithub.com/tokio-rs/tokio/issues/3547))\n-   net: add `into_std` for net types without it ([#&#8203;3509](https://togithub.com/tokio-rs/tokio/issues/3509))\n-   sync: add `same_channel` method to `mpsc::Sender` ([#&#8203;3532](https://togithub.com/tokio-rs/tokio/issues/3532))\n-   sync: add `{try_,}acquire_many_owned` to `Semaphore` ([#&#8203;3535](https://togithub.com/tokio-rs/tokio/issues/3535))\n-   sync: add back `RwLockWriteGuard::map` and `RwLockWriteGuard::try_map` ([#&#8203;3348](https://togithub.com/tokio-rs/tokio/issues/3348))\n\n##### Fixed\n\n-   sync: allow `oneshot::Receiver::close` after successful `try_recv` ([#&#8203;3552](https://togithub.com/tokio-rs/tokio/issues/3552))\n-   time: do not panic on `timeout(Duration::MAX)` ([#&#8203;3551](https://togithub.com/tokio-rs/tokio/issues/3551))\n\n##### Documented\n\n-   doc: doc aliases for pre-1.0 function names ([#&#8203;3523](https://togithub.com/tokio-rs/tokio/issues/3523))\n-   io: fix typos ([#&#8203;3541](https://togithub.com/tokio-rs/tokio/issues/3541))\n-   io: note the EOF behaviour of `read_until` ([#&#8203;3536](https://togithub.com/tokio-rs/tokio/issues/3536))\n-   io: update `AsyncRead::poll_read` doc ([#&#8203;3557](https://togithub.com/tokio-rs/tokio/issues/3557))\n-   net: update `UdpSocket` splitting doc ([#&#8203;3517](https://togithub.com/tokio-rs/tokio/issues/3517))\n-   runtime: add link to `LocalSet` on `new_current_thread` ([#&#8203;3508](https://togithub.com/tokio-rs/tokio/issues/3508))\n-   runtime: update documentation of thread limits ([#&#8203;3527](https://togithub.com/tokio-rs/tokio/issues/3527))\n-   sync: do not recommend `join_all` for `Barrier` ([#&#8203;3514](https://togithub.com/tokio-rs/tokio/issues/3514))\n-   sync: documentation for `oneshot` ([#&#8203;3592](https://togithub.com/tokio-rs/tokio/issues/3592))\n-   sync: rename `notify` to `notify_one` ([#&#8203;3526](https://togithub.com/tokio-rs/tokio/issues/3526))\n-   time: fix typo in `Sleep` doc ([#&#8203;3515](https://togithub.com/tokio-rs/tokio/issues/3515))\n-   time: sync `interval.rs` and `time/mod.rs` docs ([#&#8203;3533](https://togithub.com/tokio-rs/tokio/issues/3533))\n\n### [`v1.2.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.2.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.1.1...tokio-1.2.0)\n\n##### Added\n\n-   signal: make `Signal::poll_recv` method public ([#&#8203;3383](https://togithub.com/tokio-rs/tokio/issues/3383))\n\n##### Fixed\n\n-   time: make `test-util` paused time fully deterministic ([#&#8203;3492](https://togithub.com/tokio-rs/tokio/issues/3492))\n\n##### Documented\n\n-   sync: link to new broadcast and watch wrappers ([#&#8203;3504](https://togithub.com/tokio-rs/tokio/issues/3504))\n\n### [`v1.1.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.1.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.1.0...tokio-1.1.1)\n\nForward ports 1.0.3 fix.\n\n##### Fixed\n\n-   io: memory leak during shutdown ([#&#8203;3477](https://togithub.com/tokio-rs/tokio/issues/3477)).\n\n### [`v1.1.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.1.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.0.3...tokio-1.1.0)\n\n##### Added\n\n-   net: add `try_read_buf` and `try_recv_buf` ([#&#8203;3351](https://togithub.com/tokio-rs/tokio/issues/3351))\n-   mpsc: Add `Sender::try_reserve` function ([#&#8203;3418](https://togithub.com/tokio-rs/tokio/issues/3418))\n-   sync: add `RwLock` `try_read` and `try_write` methods ([#&#8203;3400](https://togithub.com/tokio-rs/tokio/issues/3400))\n-   io: add `ReadBuf::inner_mut` ([#&#8203;3443](https://togithub.com/tokio-rs/tokio/issues/3443))\n\n##### Changed\n\n-   macros: improve `select!` error message ([#&#8203;3352](https://togithub.com/tokio-rs/tokio/issues/3352))\n-   io: keep track of initialized bytes in `read_to_end` ([#&#8203;3426](https://togithub.com/tokio-rs/tokio/issues/3426))\n-   runtime: consolidate errors for context missing ([#&#8203;3441](https://togithub.com/tokio-rs/tokio/issues/3441))\n\n##### Fixed\n\n-   task: wake `LocalSet` on `spawn_local` ([#&#8203;3369](https://togithub.com/tokio-rs/tokio/issues/3369))\n-   sync: fix panic in broadcast::Receiver drop ([#&#8203;3434](https://togithub.com/tokio-rs/tokio/issues/3434))\n\n##### Documented\n\n-   stream: link to new `Stream` wrappers in `tokio-stream` ([#&#8203;3343](https://togithub.com/tokio-rs/tokio/issues/3343))\n-   docs: mention that `test-util` feature is not enabled with full ([#&#8203;3397](https://togithub.com/tokio-rs/tokio/issues/3397))\n-   process: add documentation to process::Child fields ([#&#8203;3437](https://togithub.com/tokio-rs/tokio/issues/3437))\n-   io: clarify `AsyncFd` docs about changes of the inner fd ([#&#8203;3430](https://togithub.com/tokio-rs/tokio/issues/3430))\n-   net: update datagram docs on splitting ([#&#8203;3448](https://togithub.com/tokio-rs/tokio/issues/3448))\n-   time: document that `Sleep` is not `Unpin` ([#&#8203;3457](https://togithub.com/tokio-rs/tokio/issues/3457))\n-   sync: add link to `PollSemaphore` ([#&#8203;3456](https://togithub.com/tokio-rs/tokio/issues/3456))\n-   task: add `LocalSet` example ([#&#8203;3438](https://togithub.com/tokio-rs/tokio/issues/3438))\n-   sync: improve bounded `mpsc` documentation ([#&#8203;3458](https://togithub.com/tokio-rs/tokio/issues/3458))\n\n### [`v1.0.3`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.0.3)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.0.2...tokio-1.0.3)\n\n##### Fixed\n\n-   io: memory leak during shutdown ([#&#8203;3477](https://togithub.com/tokio-rs/tokio/issues/3477)).\n\n### [`v1.0.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.0.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.0.1...tokio-1.0.2)\n\n##### Fixed\n\n-   io: soundness in `read_to_end` ([#&#8203;3428](https://togithub.com/tokio-rs/tokio/issues/3428)).\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Enabled.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/timvw/qv).", "reactions": {"url": "https://api.github.com/repos/timvw/qv/issues/1/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/timvw/qv/issues/1/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/timvw/qv/pulls/1", "id": 946638207, "node_id": "PR_kwDOHZHU5M44bI1_", "html_url": "https://github.com/timvw/qv/pull/1", "diff_url": "https://github.com/timvw/qv/pull/1.diff", "patch_url": "https://github.com/timvw/qv/pull/1.patch", "issue_url": "https://api.github.com/repos/timvw/qv/issues/1", "number": 1, "state": "closed", "locked": false, "title": "Update Rust crate tokio to 1.18", "user": {"login": "renovate[bot]", "id": 29139614, "node_id": "MDM6Qm90MjkxMzk2MTQ=", "avatar_url": "https://avatars.githubusercontent.com/in/2740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/renovate%5Bbot%5D", "html_url": "https://github.com/apps/renovate", "followers_url": "https://api.github.com/users/renovate%5Bbot%5D/followers", "following_url": "https://api.github.com/users/renovate%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/renovate%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/renovate%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/renovate%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/renovate%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/renovate%5Bbot%5D/repos", "events_url": "https://api.github.com/users/renovate%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/renovate%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "body": "[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [tokio](https://tokio.rs) ([source](https://togithub.com/tokio-rs/tokio)) | dependencies | minor | `1.0` -> `1.18` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>tokio-rs/tokio</summary>\n\n### [`v1.18.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.18.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.18.1...tokio-1.18.2)\n\n### 1.18.2 (May 5, 2022)\n\nAdd missing features for the `winapi` dependency. ([#&#8203;4663])\n\n[#&#8203;4663]: https://togithub.com/tokio-rs/tokio/pull/4663\n\n### [`v1.18.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.18.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.18.0...tokio-1.18.1)\n\n### 1.18.1 (May 2, 2022)\n\nThe 1.18.0 release broke the build for targets without 64-bit atomics when building with `tokio_unstable`. This release fixes that. ([#&#8203;4649])\n\n[#&#8203;4649]: https://togithub.com/tokio-rs/tokio/pull/4649\n\n### [`v1.18.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.18.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.17.0...tokio-1.18.0)\n\n### 1.18.0 (April 27, 2022)\n\nThis release adds a number of new APIs in `tokio::net`, `tokio::signal`, and\n`tokio::sync`. In addition, it adds new unstable APIs to `tokio::task` (`Id`s\nfor uniquely identifying a task, and `AbortHandle` for remotely cancelling a\ntask), as well as a number of bugfixes.\n\n##### Fixed\n\n-   blocking: add missing `#[track_caller]` for `spawn_blocking` ([#&#8203;4616](https://togithub.com/tokio-rs/tokio/issues/4616))\n-   macros: fix `select` macro to process 64 branches ([#&#8203;4519](https://togithub.com/tokio-rs/tokio/issues/4519))\n-   net: fix `try_io` methods not calling Mio's `try_io` internally ([#&#8203;4582](https://togithub.com/tokio-rs/tokio/issues/4582))\n-   runtime: recover when OS fails to spawn a new thread ([#&#8203;4485](https://togithub.com/tokio-rs/tokio/issues/4485))\n\n##### Added\n\n-   macros: support setting a custom crate name for `#[tokio::main]` and\n    `#[tokio::test]` ([#&#8203;4613](https://togithub.com/tokio-rs/tokio/issues/4613))\n-   net: add `UdpSocket::peer_addr` ([#&#8203;4611](https://togithub.com/tokio-rs/tokio/issues/4611))\n-   net: add `try_read_buf` method for named pipes ([#&#8203;4626](https://togithub.com/tokio-rs/tokio/issues/4626))\n-   signal: add `SignalKind` `Hash`/`Eq` impls and `c_int` conversion ([#&#8203;4540](https://togithub.com/tokio-rs/tokio/issues/4540))\n-   signal: add support for signals up to `SIGRTMAX` ([#&#8203;4555](https://togithub.com/tokio-rs/tokio/issues/4555))\n-   sync: add `watch::Sender::send_modify` method ([#&#8203;4310](https://togithub.com/tokio-rs/tokio/issues/4310))\n-   sync: add `broadcast::Receiver::len` method ([#&#8203;4542](https://togithub.com/tokio-rs/tokio/issues/4542))\n-   sync: add `watch::Receiver::same_channel` method ([#&#8203;4581](https://togithub.com/tokio-rs/tokio/issues/4581))\n-   sync: implement `Clone` for `RecvError` types ([#&#8203;4560](https://togithub.com/tokio-rs/tokio/issues/4560))\n\n##### Changed\n\n-   update `mio` to 0.8.1 ([#&#8203;4582](https://togithub.com/tokio-rs/tokio/issues/4582))\n-   macros: rename `tokio::select!`'s internal `util` module ([#&#8203;4543](https://togithub.com/tokio-rs/tokio/issues/4543))\n-   runtime: use `Vec::with_capacity` when building runtime ([#&#8203;4553](https://togithub.com/tokio-rs/tokio/issues/4553))\n\n##### Documented\n\n-   improve docs for `tokio_unstable` ([#&#8203;4524](https://togithub.com/tokio-rs/tokio/issues/4524))\n-   runtime: include more documentation for thread_pool/worker ([#&#8203;4511](https://togithub.com/tokio-rs/tokio/issues/4511))\n-   runtime: update `Handle::current`'s docs to mention `EnterGuard` ([#&#8203;4567](https://togithub.com/tokio-rs/tokio/issues/4567))\n-   time: clarify platform specific timer resolution ([#&#8203;4474](https://togithub.com/tokio-rs/tokio/issues/4474))\n-   signal: document that `Signal::recv` is cancel-safe ([#&#8203;4634](https://togithub.com/tokio-rs/tokio/issues/4634))\n-   sync: `UnboundedReceiver` close docs ([#&#8203;4548](https://togithub.com/tokio-rs/tokio/issues/4548))\n\n##### Unstable\n\nThe following changes only apply when building with `--cfg tokio_unstable`:\n\n-   task: add `task::Id` type ([#&#8203;4630](https://togithub.com/tokio-rs/tokio/issues/4630))\n-   task: add `AbortHandle` type for cancelling tasks in a `JoinSet` ([#&#8203;4530](https://togithub.com/tokio-rs/tokio/issues/4530)],\n    \\[[#&#8203;4640](https://togithub.com/tokio-rs/tokio/issues/4640))\n-   task: fix missing `doc(cfg(...))` attributes for `JoinSet` ([#&#8203;4531](https://togithub.com/tokio-rs/tokio/issues/4531))\n-   task: fix broken link in `AbortHandle` RustDoc ([#&#8203;4545](https://togithub.com/tokio-rs/tokio/issues/4545))\n-   metrics: add initial IO driver metrics ([#&#8203;4507](https://togithub.com/tokio-rs/tokio/issues/4507))\n\n### [`v1.17.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.17.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.16.1...tokio-1.17.0)\n\n##### 1.17.0 (February 15, 2022)\n\nThis release updates the minimum supported Rust version (MSRV) to 1.49,\nthe `mio` dependency to v0.8, and the (optional) `parking_lot`\ndependency to v0.12. Additionally, it contains several bug fixes, as\nwell as internal refactoring and performance improvements.\n\n##### Fixed\n\n-   time: prevent panicking in `sleep` with large durations ([#&#8203;4495])\n-   time: eliminate potential panics in `Instant` arithmetic on platforms\n    where `Instant::now` is not monotonic ([#&#8203;4461])\n-   io: fix `DuplexStream` not participating in cooperative yielding\n    ([#&#8203;4478])\n-   rt: fix potential double panic when dropping a `JoinHandle` ([#&#8203;4430])\n\n##### Changed\n\n-   update minimum supported Rust version to 1.49 ([#&#8203;4457])\n-   update `parking_lot` dependency to v0.12.0 ([#&#8203;4459])\n-   update `mio` dependency to v0.8 ([#&#8203;4449])\n-   rt: remove an unnecessary lock in the blocking pool ([#&#8203;4436])\n-   rt: remove an unnecessary enum in the basic scheduler ([#&#8203;4462])\n-   time: use bit manipulation instead of modulo to improve performance\n    ([#&#8203;4480])\n-   net: use `std::future::Ready` instead of our own `Ready` future\n    ([#&#8203;4271])\n-   replace deprecated `atomic::spin_loop_hint` with `hint::spin_loop`\n    ([#&#8203;4491])\n-   fix miri failures in intrusive linked lists ([#&#8203;4397])\n\n##### Documented\n\n-   io: add an example for `tokio::process::ChildStdin` ([#&#8203;4479])\n\n##### Unstable\n\nThe following changes only apply when building with `--cfg\ntokio_unstable`:\n\n-   task: fix missing location information in `tracing` spans generated by\n    `spawn_local` ([#&#8203;4483])\n-   task: add `JoinSet` for managing sets of tasks ([#&#8203;4335])\n-   metrics: fix compilation error on MIPS ([#&#8203;4475])\n-   metrics: fix compilation error on arm32v7 ([#&#8203;4453])\n\n[#&#8203;4495]: https://togithub.com/tokio-rs/tokio/pull/4495\n\n[#&#8203;4461]: https://togithub.com/tokio-rs/tokio/pull/4461\n\n[#&#8203;4478]: https://togithub.com/tokio-rs/tokio/pull/4478\n\n[#&#8203;4430]: https://togithub.com/tokio-rs/tokio/pull/4430\n\n[#&#8203;4457]: https://togithub.com/tokio-rs/tokio/pull/4457\n\n[#&#8203;4459]: https://togithub.com/tokio-rs/tokio/pull/4459\n\n[#&#8203;4449]: https://togithub.com/tokio-rs/tokio/pull/4449\n\n[#&#8203;4462]: https://togithub.com/tokio-rs/tokio/pull/4462\n\n[#&#8203;4436]: https://togithub.com/tokio-rs/tokio/pull/4436\n\n[#&#8203;4480]: https://togithub.com/tokio-rs/tokio/pull/4480\n\n[#&#8203;4271]: https://togithub.com/tokio-rs/tokio/pull/4271\n\n[#&#8203;4491]: https://togithub.com/tokio-rs/tokio/pull/4491\n\n[#&#8203;4397]: https://togithub.com/tokio-rs/tokio/pull/4397\n\n[#&#8203;4479]: https://togithub.com/tokio-rs/tokio/pull/4479\n\n[#&#8203;4483]: https://togithub.com/tokio-rs/tokio/pull/4483\n\n[#&#8203;4335]: https://togithub.com/tokio-rs/tokio/pull/4335\n\n[#&#8203;4475]: https://togithub.com/tokio-rs/tokio/pull/4475\n\n[#&#8203;4453]: https://togithub.com/tokio-rs/tokio/pull/4453\n\n### [`v1.16.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.16.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.16.0...tokio-1.16.1)\n\n##### 1.16.1 (January 28, 2022)\n\nThis release fixes a bug in [#&#8203;4428] with the change [#&#8203;4437].\n\n[#&#8203;4428]: https://togithub.com/tokio-rs/tokio/pull/4428\n\n[#&#8203;4437]: https://togithub.com/tokio-rs/tokio/pull/4437\n\n### [`v1.16.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.16.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.15.0...tokio-1.16.0)\n\nFixes a soundness bug in `io::Take` ([#&#8203;4428]). The unsoundness is exposed when\nleaking memory in the given `AsyncRead` implementation and then overwriting the\nsupplied buffer:\n\n```rust\nimpl AsyncRead for Buggy {\n    fn poll_read(\n        self: Pin<&mut Self>,\n        cx: &mut Context<'_>,\n        buf: &mut ReadBuf<'_>\n    ) -> Poll<Result<()>> {\n      let new_buf = vec![0; 5].leak();\n      *buf = ReadBuf::new(new_buf);\n      buf.put_slice(b\"hello\");\n      Poll::Ready(Ok(()))\n    }\n}\n```\n\nAlso, this release includes improvements to the multi-threaded scheduler that\ncan increase throughput by up to 20% in some cases ([#&#8203;4383]).\n\n##### Fixed\n\n-   io: **soundness** don't expose uninitialized memory when using `io::Take` in edge case ([#&#8203;4428])\n-   fs: ensure `File::write` results in a `write` syscall when the runtime shuts down ([#&#8203;4316])\n-   process: drop pipe after child exits in `wait_with_output` ([#&#8203;4315])\n-   rt: improve error message when spawning a thread fails ([#&#8203;4398])\n-   rt: reduce false-positive thread wakups in the multi-threaded scheduler ([#&#8203;4383])\n-   sync: don't inherit `Send` from `parking_lot::*Guard` ([#&#8203;4359])\n\n##### Added\n\n-   net: `TcpSocket::linger()` and `set_linger()` ([#&#8203;4324])\n-   net: impl `UnwindSafe` for socket types ([#&#8203;4384])\n-   rt: impl `UnwindSafe` for `JoinHandle` ([#&#8203;4418])\n-   sync: `watch::Receiver::has_changed()` ([#&#8203;4342])\n-   sync: `oneshot::Receiver::blocking_recv()` ([#&#8203;4334])\n-   sync: `RwLock` blocking operations ([#&#8203;4425])\n\n##### Unstable\n\nThe following changes only apply when building with `--cfg tokio_unstable`\n\n-   rt: **breaking change** overhaul runtime metrics API ([#&#8203;4373])\n\n[#&#8203;4428]: https://togithub.com/tokio-rs/tokio/pull/4428\n\n[#&#8203;4316]: https://togithub.com/tokio-rs/tokio/pull/4316\n\n[#&#8203;4315]: https://togithub.com/tokio-rs/tokio/pull/4315\n\n[#&#8203;4398]: https://togithub.com/tokio-rs/tokio/pull/4398\n\n[#&#8203;4383]: https://togithub.com/tokio-rs/tokio/pull/4383\n\n[#&#8203;4359]: https://togithub.com/tokio-rs/tokio/pull/4359\n\n[#&#8203;4324]: https://togithub.com/tokio-rs/tokio/pull/4324\n\n[#&#8203;4384]: https://togithub.com/tokio-rs/tokio/pull/4384\n\n[#&#8203;4418]: https://togithub.com/tokio-rs/tokio/pull/4418\n\n[#&#8203;4342]: https://togithub.com/tokio-rs/tokio/pull/4342\n\n[#&#8203;4334]: https://togithub.com/tokio-rs/tokio/pull/4334\n\n[#&#8203;4425]: https://togithub.com/tokio-rs/tokio/pull/4425\n\n[#&#8203;4373]: https://togithub.com/tokio-rs/tokio/pull/4373\n\n### [`v1.15.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.15.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.14.1...tokio-1.15.0)\n\n##### Fixed\n\n-   io: add cooperative yielding support to `io::empty()` ([#&#8203;4300])\n-   time: make timeout robust against budget-depleting tasks ([#&#8203;4314])\n\n##### Changed\n\n-   update minimum supported Rust version to 1.46.\n\n##### Added\n\n-   time: add `Interval::reset()` ([#&#8203;4248])\n-   io: add explicit lifetimes to `AsyncFdReadyGuard` ([#&#8203;4267])\n-   process: add `Command::as_std()` ([#&#8203;4295])\n\n##### Added (unstable)\n\n-   tracing: instrument `tokio::sync` types ([#&#8203;4302])\n\n[#&#8203;4302]: https://togithub.com/tokio-rs/tokio/pull/4302\n\n[#&#8203;4300]: https://togithub.com/tokio-rs/tokio/pull/4300\n\n[#&#8203;4295]: https://togithub.com/tokio-rs/tokio/pull/4295\n\n[#&#8203;4267]: https://togithub.com/tokio-rs/tokio/pull/4267\n\n[#&#8203;4248]: https://togithub.com/tokio-rs/tokio/pull/4248\n\n[#&#8203;4314]: https://togithub.com/tokio-rs/tokio/pull/4314\n\n### [`v1.14.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.14.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.14.0...tokio-1.14.1)\n\nThis release backports a bug fix from 1.16.1\n\nFixes a soundness bug in `io::Take` ([#&#8203;4428]). The unsoundness is exposed when\nleaking memory in the given `AsyncRead` implementation and then overwriting the\nsupplied buffer:\n\n```rust\nimpl AsyncRead for Buggy {\n    fn poll_read(\n        self: Pin<&mut Self>,\n        cx: &mut Context<'_>,\n        buf: &mut ReadBuf<'_>\n    ) -> Poll<Result<()>> {\n      let new_buf = vec![0; 5].leak();\n      *buf = ReadBuf::new(new_buf);\n      buf.put_slice(b\"hello\");\n      Poll::Ready(Ok(()))\n    }\n}\n```\n\n##### Fixed\n\n-   io: **soundness** don't expose uninitialized memory when using `io::Take` in edge case ([#&#8203;4428])\n\n[#&#8203;4428]: https://togithub.com/tokio-rs/tokio/pull/4428\n\n### [`v1.14.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.14.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.13.1...tokio-1.14.0)\n\n##### 1.14.0 (November 15, 2021)\n\n##### Fixed\n\n-   macros: fix compiler errors when using `mut` patterns in `select!` ([#&#8203;4211])\n-   sync: fix a data race between `oneshot::Sender::send` and awaiting a\n    `oneshot::Receiver` when the oneshot has been closed ([#&#8203;4226])\n-   sync: make `AtomicWaker` panic safe ([#&#8203;3689])\n-   runtime: fix basic scheduler dropping tasks outside a runtime context\n    ([#&#8203;4213])\n\n##### Added\n\n-   stats: add `RuntimeStats::busy_duration_total` ([#&#8203;4179], [#&#8203;4223])\n\n##### Changed\n\n-   io: updated `copy` buffer size to match `std::io::copy` ([#&#8203;4209])\n\n##### Documented\n\n-   io: rename buffer to file in doc-test ([#&#8203;4230])\n-   sync: fix Notify example ([#&#8203;4212])\n\n[#&#8203;4211]: https://togithub.com/tokio-rs/tokio/pull/4211\n\n[#&#8203;4226]: https://togithub.com/tokio-rs/tokio/pull/4226\n\n[#&#8203;3689]: https://togithub.com/tokio-rs/tokio/pull/3689\n\n[#&#8203;4213]: https://togithub.com/tokio-rs/tokio/pull/4213\n\n[#&#8203;4179]: https://togithub.com/tokio-rs/tokio/pull/4179\n\n[#&#8203;4223]: https://togithub.com/tokio-rs/tokio/pull/4223\n\n[#&#8203;4209]: https://togithub.com/tokio-rs/tokio/pull/4209\n\n[#&#8203;4230]: https://togithub.com/tokio-rs/tokio/pull/4230\n\n[#&#8203;4212]: https://togithub.com/tokio-rs/tokio/pull/4212\n\n### [`v1.13.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.13.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.13.0...tokio-1.13.1)\n\n##### 1.13.1 (November 15, 2021)\n\nThis release fixes a data race when sending and receiving on a\nclosed `oneshot` channel ([RUSTSEC-2021-0124]).\n\n##### Fixed\n\n-   sync: fix a data race between `oneshot::Sender::send` and awaiting a\n    `oneshot::Receiver` when the oneshot has been closed ([#&#8203;4226](https://togithub.com/tokio-rs/tokio/issues/4226))\n\n[RUSTSEC-2021-0124]: https://rustsec.org/advisories/RUSTSEC-2021-0124.html\n\n### [`v1.13.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.13.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.12.0...tokio-1.13.0)\n\n##### 1.13.0 (October 29, 2021)\n\n##### Fixed\n\n-   sync: fix `Notify` to clone the waker before locking its waiter list ([#&#8203;4129])\n-   tokio: add riscv32 to non atomic64 architectures ([#&#8203;4185])\n\n##### Added\n\n-   net: add `poll_{recv,send}_ready` methods to `udp` and `uds_datagram` ([#&#8203;4131])\n-   net: add `try_*`, `readable`, `writable`, `ready`, and `peer_addr` methods to split halves ([#&#8203;4120])\n-   sync: add `blocking_lock` to `Mutex` ([#&#8203;4130])\n-   sync: add `watch::Sender::send_replace` ([#&#8203;3962], [#&#8203;4195])\n-   sync: expand `Debug` for `Mutex<T>` impl to unsized `T` ([#&#8203;4134])\n-   tracing: instrument time::Sleep ([#&#8203;4072])\n-   tracing: use structured location fields for spawned tasks ([#&#8203;4128])\n\n##### Changed\n\n-   io: add assert in `copy_bidirectional` that `poll_write` is sensible ([#&#8203;4125])\n-   macros: use qualified syntax when polling in `select!` ([#&#8203;4192])\n-   runtime: handle `block_on` wakeups better ([#&#8203;4157])\n-   task: allocate callback on heap immediately in debug mode ([#&#8203;4203])\n-   tokio: assert platform-minimum requirements at build time ([#&#8203;3797])\n\n##### Documented\n\n-   docs: conversion of doc comments to indicative mood ([#&#8203;4174])\n-   docs: add returning on the first error example for `try_join!` ([#&#8203;4133])\n-   docs: fixing broken links in `tokio/src/lib.rs` ([#&#8203;4132])\n-   signal: add example with background listener ([#&#8203;4171])\n-   sync: add more oneshot examples ([#&#8203;4153])\n-   time: document `Interval::tick` cancel safety ([#&#8203;4152])\n\n[#&#8203;3797]: https://togithub.com/tokio-rs/tokio/pull/3797\n\n[#&#8203;3962]: https://togithub.com/tokio-rs/tokio/pull/3962\n\n[#&#8203;4072]: https://togithub.com/tokio-rs/tokio/pull/4072\n\n[#&#8203;4120]: https://togithub.com/tokio-rs/tokio/pull/4120\n\n[#&#8203;4125]: https://togithub.com/tokio-rs/tokio/pull/4125\n\n[#&#8203;4128]: https://togithub.com/tokio-rs/tokio/pull/4128\n\n[#&#8203;4129]: https://togithub.com/tokio-rs/tokio/pull/4129\n\n[#&#8203;4130]: https://togithub.com/tokio-rs/tokio/pull/4130\n\n[#&#8203;4131]: https://togithub.com/tokio-rs/tokio/pull/4131\n\n[#&#8203;4132]: https://togithub.com/tokio-rs/tokio/pull/4132\n\n[#&#8203;4133]: https://togithub.com/tokio-rs/tokio/pull/4133\n\n[#&#8203;4134]: https://togithub.com/tokio-rs/tokio/pull/4134\n\n[#&#8203;4152]: https://togithub.com/tokio-rs/tokio/pull/4152\n\n[#&#8203;4153]: https://togithub.com/tokio-rs/tokio/pull/4153\n\n[#&#8203;4157]: https://togithub.com/tokio-rs/tokio/pull/4157\n\n[#&#8203;4171]: https://togithub.com/tokio-rs/tokio/pull/4171\n\n[#&#8203;4174]: https://togithub.com/tokio-rs/tokio/pull/4174\n\n[#&#8203;4185]: https://togithub.com/tokio-rs/tokio/pull/4185\n\n[#&#8203;4192]: https://togithub.com/tokio-rs/tokio/pull/4192\n\n[#&#8203;4195]: https://togithub.com/tokio-rs/tokio/pull/4195\n\n[#&#8203;4203]: https://togithub.com/tokio-rs/tokio/pull/4203\n\n### [`v1.12.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.12.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.11.0...tokio-1.12.0)\n\n##### 1.12.0 (September 21, 2021)\n\n##### Fixed\n\n-   mpsc: ensure `try_reserve` error is consistent with `try_send` ([#&#8203;4119])\n-   mpsc: use `spin_loop_hint` instead of `yield_now` ([#&#8203;4115])\n-   sync: make `SendError` field public ([#&#8203;4097])\n\n##### Added\n\n-   io: add POSIX AIO on FreeBSD ([#&#8203;4054])\n-   io: add convenience method `AsyncSeekExt::rewind` ([#&#8203;4107])\n-   runtime: add tracing span for `block_on` futures ([#&#8203;4094])\n-   runtime: callback when a worker parks and unparks ([#&#8203;4070])\n-   sync: implement `try_recv` for mpsc channels ([#&#8203;4113])\n\n##### Changed\n\n-   macros: run runtime inside `LocalSet` when using macro ([#&#8203;4027])\n\n##### Documented\n\n-   docs: clarify CPU-bound tasks on Tokio ([#&#8203;4105])\n-   mpsc: document spurious failures on `poll_recv` ([#&#8203;4117])\n-   mpsc: document that `PollSender` impls `Sink` ([#&#8203;4110])\n-   task: document non-guarantees of `yield_now` ([#&#8203;4091])\n-   time: document paused time details better ([#&#8203;4061], [#&#8203;4103])\n\n[#&#8203;4027]: https://togithub.com/tokio-rs/tokio/pull/4027\n\n[#&#8203;4054]: https://togithub.com/tokio-rs/tokio/pull/4054\n\n[#&#8203;4061]: https://togithub.com/tokio-rs/tokio/pull/4061\n\n[#&#8203;4070]: https://togithub.com/tokio-rs/tokio/pull/4070\n\n[#&#8203;4091]: https://togithub.com/tokio-rs/tokio/pull/4091\n\n[#&#8203;4094]: https://togithub.com/tokio-rs/tokio/pull/4094\n\n[#&#8203;4097]: https://togithub.com/tokio-rs/tokio/pull/4097\n\n[#&#8203;4103]: https://togithub.com/tokio-rs/tokio/pull/4103\n\n[#&#8203;4105]: https://togithub.com/tokio-rs/tokio/pull/4105\n\n[#&#8203;4107]: https://togithub.com/tokio-rs/tokio/pull/4107\n\n[#&#8203;4110]: https://togithub.com/tokio-rs/tokio/pull/4110\n\n[#&#8203;4113]: https://togithub.com/tokio-rs/tokio/pull/4113\n\n[#&#8203;4115]: https://togithub.com/tokio-rs/tokio/pull/4115\n\n[#&#8203;4117]: https://togithub.com/tokio-rs/tokio/pull/4117\n\n[#&#8203;4119]: https://togithub.com/tokio-rs/tokio/pull/4119\n\n### [`v1.11.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.11.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.10.1...tokio-1.11.0)\n\n### 1.11.0 (August 31, 2021)\n\n##### Fixed\n\n-   time: don't panic when Instant is not monotonic ([#&#8203;4044])\n-   io: fix panic in `fill_buf` by not calling `poll_fill_buf` twice ([#&#8203;4084])\n\n##### Added\n\n-   watch: add `watch::Sender::subscribe` ([#&#8203;3800])\n-   process: add `from_std` to `ChildStd*` ([#&#8203;4045])\n-   stats: initial work on runtime stats ([#&#8203;4043])\n\n##### Changed\n\n-   tracing: change span naming to new console convention ([#&#8203;4042])\n-   io: speed-up waking by using uninitialized array ([#&#8203;4055], [#&#8203;4071], [#&#8203;4075])\n\n##### Documented\n\n-   time: make Sleep examples easier to find ([#&#8203;4040])\n\n[#&#8203;3800]: https://togithub.com/tokio-rs/tokio/pull/3800\n\n[#&#8203;4040]: https://togithub.com/tokio-rs/tokio/pull/4040\n\n[#&#8203;4042]: https://togithub.com/tokio-rs/tokio/pull/4042\n\n[#&#8203;4043]: https://togithub.com/tokio-rs/tokio/pull/4043\n\n[#&#8203;4044]: https://togithub.com/tokio-rs/tokio/pull/4044\n\n[#&#8203;4045]: https://togithub.com/tokio-rs/tokio/pull/4045\n\n[#&#8203;4055]: https://togithub.com/tokio-rs/tokio/pull/4055\n\n[#&#8203;4071]: https://togithub.com/tokio-rs/tokio/pull/4071\n\n[#&#8203;4075]: https://togithub.com/tokio-rs/tokio/pull/4075\n\n[#&#8203;4084]: https://togithub.com/tokio-rs/tokio/pull/4084\n\n### [`v1.10.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.10.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.10.0...tokio-1.10.1)\n\n### 1.10.1 (August 24, 2021)\n\n##### Fixed\n\n-   runtime: fix leak in UnownedTask ([#&#8203;4063])\n\n[#&#8203;4063]: https://togithub.com/tokio-rs/tokio/pull/4063\n\n### [`v1.10.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.10.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.9.0...tokio-1.10.0)\n\n### 1.10.0 (August 12, 2021)\n\n##### Added\n\n-   io: add `(read|write)_f(32|64)[_le]` methods ([#&#8203;4022])\n-   io: add `fill_buf` and `consume` to `AsyncBufReadExt` ([#&#8203;3991])\n-   process: add `Child::raw_handle()` on windows ([#&#8203;3998])\n\n##### Fixed\n\n-   doc: fix non-doc builds with `--cfg docsrs` ([#&#8203;4020])\n-   io: flush eagerly in `io::copy` ([#&#8203;4001])\n-   runtime: a debug assert was sometimes triggered during shutdown ([#&#8203;4005])\n-   sync: use `spin_loop_hint` instead of `yield_now` in mpsc ([#&#8203;4037])\n-   tokio: the test-util feature depends on rt, sync, and time ([#&#8203;4036])\n\n##### Changes\n\n-   runtime: reorganize parts of the runtime ([#&#8203;3979], [#&#8203;4005])\n-   signal: make windows docs for signal module show up on unix builds ([#&#8203;3770])\n-   task: quickly send task to heap on debug mode ([#&#8203;4009])\n\n##### Documented\n\n-   io: document cancellation safety of `AsyncBufReadExt` ([#&#8203;3997])\n-   sync: document when `watch::send` fails ([#&#8203;4021])\n\n[#&#8203;3770]: https://togithub.com/tokio-rs/tokio/pull/3770\n\n[#&#8203;3979]: https://togithub.com/tokio-rs/tokio/pull/3979\n\n[#&#8203;3991]: https://togithub.com/tokio-rs/tokio/pull/3991\n\n[#&#8203;3997]: https://togithub.com/tokio-rs/tokio/pull/3997\n\n[#&#8203;3998]: https://togithub.com/tokio-rs/tokio/pull/3998\n\n[#&#8203;4001]: https://togithub.com/tokio-rs/tokio/pull/4001\n\n[#&#8203;4005]: https://togithub.com/tokio-rs/tokio/pull/4005\n\n[#&#8203;4009]: https://togithub.com/tokio-rs/tokio/pull/4009\n\n[#&#8203;4020]: https://togithub.com/tokio-rs/tokio/pull/4020\n\n[#&#8203;4021]: https://togithub.com/tokio-rs/tokio/pull/4021\n\n[#&#8203;4022]: https://togithub.com/tokio-rs/tokio/pull/4022\n\n[#&#8203;4036]: https://togithub.com/tokio-rs/tokio/pull/4036\n\n[#&#8203;4037]: https://togithub.com/tokio-rs/tokio/pull/4037\n\n### [`v1.9.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.9.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.5...tokio-1.9.0)\n\n### 1.9.0 (July 19, 2021)\n\n##### Added\n\n-   net: allow customized I/O operations for `TcpStream` ([#&#8203;3888])\n-   sync: add getter for the mutex from a guard ([#&#8203;3928])\n-   task: expose nameable future for `TaskLocal::scope` ([#&#8203;3273])\n\n##### Fixed\n\n-   Fix leak if output of future panics on drop ([#&#8203;3967])\n-   Fix leak in `LocalSet` ([#&#8203;3978])\n\n##### Changes\n\n-   runtime: reorganize parts of the runtime ([#&#8203;3909], [#&#8203;3939], [#&#8203;3950], [#&#8203;3955], [#&#8203;3980])\n-   sync: clean up `OnceCell` ([#&#8203;3945])\n-   task: remove mutex in `JoinError` ([#&#8203;3959])\n\n[#&#8203;3273]: https://togithub.com/tokio-rs/tokio/pull/3273\n\n[#&#8203;3888]: https://togithub.com/tokio-rs/tokio/pull/3888\n\n[#&#8203;3909]: https://togithub.com/tokio-rs/tokio/pull/3909\n\n[#&#8203;3928]: https://togithub.com/tokio-rs/tokio/pull/3928\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n[#&#8203;3939]: https://togithub.com/tokio-rs/tokio/pull/3939\n\n[#&#8203;3945]: https://togithub.com/tokio-rs/tokio/pull/3945\n\n[#&#8203;3950]: https://togithub.com/tokio-rs/tokio/pull/3950\n\n[#&#8203;3955]: https://togithub.com/tokio-rs/tokio/pull/3955\n\n[#&#8203;3959]: https://togithub.com/tokio-rs/tokio/pull/3959\n\n[#&#8203;3967]: https://togithub.com/tokio-rs/tokio/pull/3967\n\n[#&#8203;3978]: https://togithub.com/tokio-rs/tokio/pull/3978\n\n[#&#8203;3980]: https://togithub.com/tokio-rs/tokio/pull/3980\n\n### [`v1.8.5`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.5)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.4...tokio-1.8.5)\n\nThis release backports a bug fix from 1.16.1\n\nFixes a soundness bug in `io::Take` ([#&#8203;4428]). The unsoundness is exposed when\nleaking memory in the given `AsyncRead` implementation and then overwriting the\nsupplied buffer:\n\n```rust\nimpl AsyncRead for Buggy {\n    fn poll_read(\n        self: Pin<&mut Self>,\n        cx: &mut Context<'_>,\n        buf: &mut ReadBuf<'_>\n    ) -> Poll<Result<()>> {\n      let new_buf = vec![0; 5].leak();\n      *buf = ReadBuf::new(new_buf);\n      buf.put_slice(b\"hello\");\n      Poll::Ready(Ok(()))\n    }\n}\n```\n\n##### Fixed\n\n-   io: **soundness** don't expose uninitialized memory when using `io::Take` in edge case ([#&#8203;4428])\n\n[#&#8203;4428]: https://togithub.com/tokio-rs/tokio/pull/4428\n\n### [`v1.8.4`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.4)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.3...tokio-1.8.4)\n\n### 1.8.4 (November 15, 2021)\n\nThis release backports a bugfix for a data race when sending and receiving on a\nclosed `oneshot` channel (\\[RUSTSEC-2021-0124]) from v1.13.1.\n\n##### Fixed\n\n-   sync: fix a data race between `oneshot::Sender::send` and awaiting a\n    `oneshot::Receiver` when the oneshot has been closed ([#&#8203;4226](https://togithub.com/tokio-rs/tokio/issues/4226))\n\n### [`v1.8.3`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.3)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.2...tokio-1.8.3)\n\n### 1.8.3 (July 22, 2021)\n\nThis release backports two fixes from 1.9.0\n\n##### Fixed\n\n-   Fix leak if output of future panics on drop ([#&#8203;3967])\n-   Fix leak in `LocalSet` ([#&#8203;3978])\n\n[#&#8203;3967]: https://togithub.com/tokio-rs/tokio/pull/3967\n\n[#&#8203;3978]: https://togithub.com/tokio-rs/tokio/pull/3978\n\n### [`v1.8.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.1...tokio-1.8.2)\n\nFixes a missed edge case from 1.8.1.\n\n##### Fixed\n\n-   runtime: drop canceled future on next poll ([#&#8203;3965](https://togithub.com/tokio-rs/tokio/issues/3965))\n\n### [`v1.8.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.8.0...tokio-1.8.1)\n\nForward ports 1.5.1 fixes.\n\n##### Fixed\n\n-   runtime: remotely abort tasks on `JoinHandle::abort` ([#&#8203;3934])\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n### [`v1.8.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.8.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.7.3...tokio-1.8.0)\n\n### 1.8.0 (July 2, 2021)\n\n##### Added\n\n-   io: add `get_{ref,mut}` methods to `AsyncFdReadyGuard` and `AsyncFdReadyMutGuard` ([#&#8203;3807])\n-   io: efficient implementation of vectored writes for `BufWriter` ([#&#8203;3163])\n-   net: add ready/try methods to `NamedPipe{Client,Server}` ([#&#8203;3866], [#&#8203;3899])\n-   sync: add `watch::Receiver::borrow_and_update` ([#&#8203;3813])\n-   sync: implement `From<T>` for `OnceCell<T>` ([#&#8203;3877])\n-   time: allow users to specify Interval behaviour when delayed ([#&#8203;3721])\n\n##### Added (unstable)\n\n-   rt: add `tokio::task::Builder` ([#&#8203;3881])\n\n##### Fixed\n\n-   net: handle HUP event with `UnixStream` ([#&#8203;3898])\n\n##### Documented\n\n-   doc: document cancellation safety ([#&#8203;3900])\n-   time: add wait alias to sleep ([#&#8203;3897])\n-   time: document auto-advancing behaviour of runtime ([#&#8203;3763])\n\n[#&#8203;3163]: https://togithub.com/tokio-rs/tokio/pull/3163\n\n[#&#8203;3721]: https://togithub.com/tokio-rs/tokio/pull/3721\n\n[#&#8203;3763]: https://togithub.com/tokio-rs/tokio/pull/3763\n\n[#&#8203;3807]: https://togithub.com/tokio-rs/tokio/pull/3807\n\n[#&#8203;3813]: https://togithub.com/tokio-rs/tokio/pull/3813\n\n[#&#8203;3866]: https://togithub.com/tokio-rs/tokio/pull/3866\n\n[#&#8203;3877]: https://togithub.com/tokio-rs/tokio/pull/3877\n\n[#&#8203;3881]: https://togithub.com/tokio-rs/tokio/pull/3881\n\n[#&#8203;3897]: https://togithub.com/tokio-rs/tokio/pull/3897\n\n[#&#8203;3898]: https://togithub.com/tokio-rs/tokio/pull/3898\n\n[#&#8203;3899]: https://togithub.com/tokio-rs/tokio/pull/3899\n\n[#&#8203;3900]: https://togithub.com/tokio-rs/tokio/pull/3900\n\n### [`v1.7.3`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.7.3)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.7.2...tokio-1.7.3)\n\nFixes a missed edge case from 1.7.2.\n\n##### Fixed\n\n-   runtime: drop canceled future on next poll ([#&#8203;3965](https://togithub.com/tokio-rs/tokio/issues/3965))\n\n### [`v1.7.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.7.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.7.1...tokio-1.7.2)\n\nForward ports 1.5.1 fixes.\n\n##### Fixed\n\n-   runtime: remotely abort tasks on `JoinHandle::abort` ([#&#8203;3934])\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n### [`v1.7.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.7.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.7.0...tokio-1.7.1)\n\n##### Fixed\n\n-   runtime: fix early task shutdown during runtime shutdown ([#&#8203;3870])\n\n[#&#8203;3870]: https://togithub.com/tokio-rs/tokio/pull/3870\n\n### [`v1.7.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.7.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.4...tokio-1.7.0)\n\n### 1.7.0 (June 15, 2021)\n\n##### Added\n\n-   net: add named pipes on windows ([#&#8203;3760](https://togithub.com/tokio-rs/tokio/issues/3760))\n-   net: add `TcpSocket` from `std::net::TcpStream` conversion ([#&#8203;3838](https://togithub.com/tokio-rs/tokio/issues/3838))\n-   sync: add `receiver_count` to `watch::Sender` ([#&#8203;3729](https://togithub.com/tokio-rs/tokio/issues/3729))\n-   sync: export `sync::notify::Notified` future publicly ([#&#8203;3840](https://togithub.com/tokio-rs/tokio/issues/3840))\n-   tracing: instrument task wakers ([#&#8203;3836](https://togithub.com/tokio-rs/tokio/issues/3836))\n\n##### Fixed\n\n-   macros: suppress `clippy::default_numeric_fallback` lint in generated code ([#&#8203;3831](https://togithub.com/tokio-rs/tokio/issues/3831))\n-   runtime: immediately drop new tasks when runtime is shut down ([#&#8203;3752](https://togithub.com/tokio-rs/tokio/issues/3752))\n-   sync: deprecate unused `mpsc::RecvError` type ([#&#8203;3833](https://togithub.com/tokio-rs/tokio/issues/3833))\n\n##### Documented\n\n-   io: clarify EOF condition for `AsyncReadExt::read_buf` ([#&#8203;3850](https://togithub.com/tokio-rs/tokio/issues/3850))\n-   io: clarify limits on return values of `AsyncWrite::poll_write` ([#&#8203;3820](https://togithub.com/tokio-rs/tokio/issues/3820))\n-   sync: add examples to Semaphore ([#&#8203;3808](https://togithub.com/tokio-rs/tokio/issues/3808))\n\n### [`v1.6.4`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.4)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.3...tokio-1.6.4)\n\nFixes a missed edge case from 1.6.3.\n\n##### Fixed\n\n-   runtime: drop canceled future on next poll ([#&#8203;3965](https://togithub.com/tokio-rs/tokio/issues/3965))\n\n### [`v1.6.3`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.3)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.2...tokio-1.6.3)\n\nForward ports 1.5.1 fixes.\n\n##### Fixed\n\n-   runtime: remotely abort tasks on `JoinHandle::abort` ([#&#8203;3934])\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n### [`v1.6.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.1...tokio-1.6.2)\n\n##### Fixes\n\n-   test: sub-ms `time:advance` regression introduced in 1.6 ([#&#8203;3852])\n\n[#&#8203;3852]: https://togithub.com/tokio-rs/tokio/pull/3852\n\n### [`v1.6.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.6.0...tokio-1.6.1)\n\nThis release reverts [#&#8203;3518] because it doesn't work on some kernels due to\na kernel bug. ([#&#8203;3803])\n\n[#&#8203;3518]: https://togithub.com/tokio-rs/tokio/issues/3518\n\n[#&#8203;3803]: https://togithub.com/tokio-rs/tokio/issues/3803\n\n### [`v1.6.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.6.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.5.1...tokio-1.6.0)\n\n### 1.6.0 (May 14, 2021)\n\n##### Added\n\n-   fs: try doing a non-blocking read before punting to the threadpool ([#&#8203;3518](https://togithub.com/tokio-rs/tokio/issues/3518))\n-   io: add `write_all_buf` to `AsyncWriteExt` ([#&#8203;3737](https://togithub.com/tokio-rs/tokio/issues/3737))\n-   io: implement `AsyncSeek` for `BufReader`, `BufWriter`, and `BufStream` ([#&#8203;3491](https://togithub.com/tokio-rs/tokio/issues/3491))\n-   net: support non-blocking vectored I/O ([#&#8203;3761](https://togithub.com/tokio-rs/tokio/issues/3761))\n-   sync: add `mpsc::Sender::{reserve_owned, try_reserve_owned}` ([#&#8203;3704](https://togithub.com/tokio-rs/tokio/issues/3704))\n-   sync: add a `MutexGuard::map` method that returns a `MappedMutexGuard` ([#&#8203;2472](https://togithub.com/tokio-rs/tokio/issues/2472))\n-   time: add getter for Interval's period ([#&#8203;3705](https://togithub.com/tokio-rs/tokio/issues/3705))\n\n##### Fixed\n\n-   io: wake pending writers on `DuplexStream` close ([#&#8203;3756](https://togithub.com/tokio-rs/tokio/issues/3756))\n-   process: avoid redundant effort to reap orphan processes ([#&#8203;3743](https://togithub.com/tokio-rs/tokio/issues/3743))\n-   signal: use `std::os::raw::c_int` instead of `libc::c_int` on public API ([#&#8203;3774](https://togithub.com/tokio-rs/tokio/issues/3774))\n-   sync: preserve permit state in `notify_waiters` ([#&#8203;3660](https://togithub.com/tokio-rs/tokio/issues/3660))\n-   task: update `JoinHandle` panic message ([#&#8203;3727](https://togithub.com/tokio-rs/tokio/issues/3727))\n-   time: prevent `time::advance` from going too far ([#&#8203;3712](https://togithub.com/tokio-rs/tokio/issues/3712))\n\n##### Documented\n\n-   net: hide `net::unix::datagram` module from docs ([#&#8203;3775](https://togithub.com/tokio-rs/tokio/issues/3775))\n-   process: updated example ([#&#8203;3748](https://togithub.com/tokio-rs/tokio/issues/3748))\n-   sync: `Barrier` doc should use task, not thread ([#&#8203;3780](https://togithub.com/tokio-rs/tokio/issues/3780))\n-   task: update documentation on `block_in_place` ([#&#8203;3753](https://togithub.com/tokio-rs/tokio/issues/3753))\n\n### [`v1.5.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.5.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.5.0...tokio-1.5.1)\n\n##### Fixed\n\n-   runtime: remotely abort tasks on `JoinHandle::abort` ([#&#8203;3934])\n\n[#&#8203;3934]: https://togithub.com/tokio-rs/tokio/pull/3934\n\n### [`v1.5.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.5.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.4.0...tokio-1.5.0)\n\n### 1.5.0 (April 12, 2021)\n\n##### Added\n\n-   io: add `AsyncSeekExt::stream_position` ([#&#8203;3650](https://togithub.com/tokio-rs/tokio/issues/3650))\n-   io: add `AsyncWriteExt::write_vectored` ([#&#8203;3678](https://togithub.com/tokio-rs/tokio/issues/3678))\n-   io: add a `copy_bidirectional` utility ([#&#8203;3572](https://togithub.com/tokio-rs/tokio/issues/3572))\n-   net: implement `IntoRawFd` for `TcpSocket` ([#&#8203;3684](https://togithub.com/tokio-rs/tokio/issues/3684))\n-   sync: add `OnceCell` ([#&#8203;3591](https://togithub.com/tokio-rs/tokio/issues/3591))\n-   sync: add `OwnedRwLockReadGuard` and `OwnedRwLockWriteGuard` ([#&#8203;3340](https://togithub.com/tokio-rs/tokio/issues/3340))\n-   sync: add `Semaphore::is_closed` ([#&#8203;3673](https://togithub.com/tokio-rs/tokio/issues/3673))\n-   sync: add `mpsc::Sender::capacity` ([#&#8203;3690](https://togithub.com/tokio-rs/tokio/issues/3690))\n-   sync: allow configuring `RwLock` max reads ([#&#8203;3644](https://togithub.com/tokio-rs/tokio/issues/3644))\n-   task: add `sync_scope` for `LocalKey` ([#&#8203;3612](https://togithub.com/tokio-rs/tokio/issues/3612))\n\n##### Fixed\n\n-   chore: try to avoid `noalias` attributes on intrusive linked list ([#&#8203;3654](https://togithub.com/tokio-rs/tokio/issues/3654))\n-   rt: fix panic in `JoinHandle::abort()` when called from other threads ([#&#8203;3672](https://togithub.com/tokio-rs/tokio/issues/3672))\n-   sync: don't panic in `oneshot::try_recv` ([#&#8203;3674](https://togithub.com/tokio-rs/tokio/issues/3674))\n-   sync: fix notifications getting dropped on receiver drop ([#&#8203;3652](https://togithub.com/tokio-rs/tokio/issues/3652))\n-   sync: fix `Semaphore` permit overflow calculation ([#&#8203;3644](https://togithub.com/tokio-rs/tokio/issues/3644))\n\n##### Documented\n\n-   io: clarify requirements of `AsyncFd` ([#&#8203;3635](https://togithub.com/tokio-rs/tokio/issues/3635))\n-   runtime: fix unclear docs for `{Handle,Runtime}::block_on` ([#&#8203;3628](https://togithub.com/tokio-rs/tokio/issues/3628))\n-   sync: document that `Semaphore` is fair ([#&#8203;3693](https://togithub.com/tokio-rs/tokio/issues/3693))\n-   sync: improve doc on blocking mutex ([#&#8203;3645](https://togithub.com/tokio-rs/tokio/issues/3645))\n\n### [`v1.4.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.4.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.3.0...tokio-1.4.0)\n\n##### Added\n\n-   macros: introduce biased argument for `select!` ([#&#8203;3603])\n-   runtime: add `Handle::block_on` ([#&#8203;3569])\n\n##### Fixed\n\n-   runtime: avoid unnecessary polling of `block_on` future ([#&#8203;3582])\n-   runtime: fix memory leak/growth when creating many runtimes ([#&#8203;3564])\n-   runtime: mark `EnterGuard` with `must_use` ([#&#8203;3609])\n\n##### Documented\n\n-   chore: mention fix for building docs in contributing guide ([#&#8203;3618])\n-   doc: add link to `PollSender` ([#&#8203;3613])\n-   doc: alias sleep to delay ([#&#8203;3604])\n-   sync: improve `Mutex` FIFO explanation ([#&#8203;3615])\n-   timer: fix double newline in module docs ([#&#8203;3617])\n\n[#&#8203;3564]: https://togithub.com/tokio-rs/tokio/pull/3564\n\n[#&#8203;3613]: https://togithub.com/tokio-rs/tokio/pull/3613\n\n[#&#8203;3618]: https://togithub.com/tokio-rs/tokio/pull/3618\n\n[#&#8203;3617]: https://togithub.com/tokio-rs/tokio/pull/3617\n\n[#&#8203;3582]: https://togithub.com/tokio-rs/tokio/pull/3582\n\n[#&#8203;3615]: https://togithub.com/tokio-rs/tokio/pull/3615\n\n[#&#8203;3603]: https://togithub.com/tokio-rs/tokio/pull/3603\n\n[#&#8203;3609]: https://togithub.com/tokio-rs/tokio/pull/3609\n\n[#&#8203;3604]: https://togithub.com/tokio-rs/tokio/pull/3604\n\n[#&#8203;3569]: https://togithub.com/tokio-rs/tokio/pull/3569\n\n### [`v1.3.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.3.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.2.0...tokio-1.3.0)\n\n##### Added\n\n-   coop: expose an `unconstrained()` opt-out ([#&#8203;3547](https://togithub.com/tokio-rs/tokio/issues/3547))\n-   net: add `into_std` for net types without it ([#&#8203;3509](https://togithub.com/tokio-rs/tokio/issues/3509))\n-   sync: add `same_channel` method to `mpsc::Sender` ([#&#8203;3532](https://togithub.com/tokio-rs/tokio/issues/3532))\n-   sync: add `{try_,}acquire_many_owned` to `Semaphore` ([#&#8203;3535](https://togithub.com/tokio-rs/tokio/issues/3535))\n-   sync: add back `RwLockWriteGuard::map` and `RwLockWriteGuard::try_map` ([#&#8203;3348](https://togithub.com/tokio-rs/tokio/issues/3348))\n\n##### Fixed\n\n-   sync: allow `oneshot::Receiver::close` after successful `try_recv` ([#&#8203;3552](https://togithub.com/tokio-rs/tokio/issues/3552))\n-   time: do not panic on `timeout(Duration::MAX)` ([#&#8203;3551](https://togithub.com/tokio-rs/tokio/issues/3551))\n\n##### Documented\n\n-   doc: doc aliases for pre-1.0 function names ([#&#8203;3523](https://togithub.com/tokio-rs/tokio/issues/3523))\n-   io: fix typos ([#&#8203;3541](https://togithub.com/tokio-rs/tokio/issues/3541))\n-   io: note the EOF behaviour of `read_until` ([#&#8203;3536](https://togithub.com/tokio-rs/tokio/issues/3536))\n-   io: update `AsyncRead::poll_read` doc ([#&#8203;3557](https://togithub.com/tokio-rs/tokio/issues/3557))\n-   net: update `UdpSocket` splitting doc ([#&#8203;3517](https://togithub.com/tokio-rs/tokio/issues/3517))\n-   runtime: add link to `LocalSet` on `new_current_thread` ([#&#8203;3508](https://togithub.com/tokio-rs/tokio/issues/3508))\n-   runtime: update documentation of thread limits ([#&#8203;3527](https://togithub.com/tokio-rs/tokio/issues/3527))\n-   sync: do not recommend `join_all` for `Barrier` ([#&#8203;3514](https://togithub.com/tokio-rs/tokio/issues/3514))\n-   sync: documentation for `oneshot` ([#&#8203;3592](https://togithub.com/tokio-rs/tokio/issues/3592))\n-   sync: rename `notify` to `notify_one` ([#&#8203;3526](https://togithub.com/tokio-rs/tokio/issues/3526))\n-   time: fix typo in `Sleep` doc ([#&#8203;3515](https://togithub.com/tokio-rs/tokio/issues/3515))\n-   time: sync `interval.rs` and `time/mod.rs` docs ([#&#8203;3533](https://togithub.com/tokio-rs/tokio/issues/3533))\n\n### [`v1.2.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.2.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.1.1...tokio-1.2.0)\n\n##### Added\n\n-   signal: make `Signal::poll_recv` method public ([#&#8203;3383](https://togithub.com/tokio-rs/tokio/issues/3383))\n\n##### Fixed\n\n-   time: make `test-util` paused time fully deterministic ([#&#8203;3492](https://togithub.com/tokio-rs/tokio/issues/3492))\n\n##### Documented\n\n-   sync: link to new broadcast and watch wrappers ([#&#8203;3504](https://togithub.com/tokio-rs/tokio/issues/3504))\n\n### [`v1.1.1`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.1.1)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.1.0...tokio-1.1.1)\n\nForward ports 1.0.3 fix.\n\n##### Fixed\n\n-   io: memory leak during shutdown ([#&#8203;3477](https://togithub.com/tokio-rs/tokio/issues/3477)).\n\n### [`v1.1.0`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.1.0)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.0.3...tokio-1.1.0)\n\n##### Added\n\n-   net: add `try_read_buf` and `try_recv_buf` ([#&#8203;3351](https://togithub.com/tokio-rs/tokio/issues/3351))\n-   mpsc: Add `Sender::try_reserve` function ([#&#8203;3418](https://togithub.com/tokio-rs/tokio/issues/3418))\n-   sync: add `RwLock` `try_read` and `try_write` methods ([#&#8203;3400](https://togithub.com/tokio-rs/tokio/issues/3400))\n-   io: add `ReadBuf::inner_mut` ([#&#8203;3443](https://togithub.com/tokio-rs/tokio/issues/3443))\n\n##### Changed\n\n-   macros: improve `select!` error message ([#&#8203;3352](https://togithub.com/tokio-rs/tokio/issues/3352))\n-   io: keep track of initialized bytes in `read_to_end` ([#&#8203;3426](https://togithub.com/tokio-rs/tokio/issues/3426))\n-   runtime: consolidate errors for context missing ([#&#8203;3441](https://togithub.com/tokio-rs/tokio/issues/3441))\n\n##### Fixed\n\n-   task: wake `LocalSet` on `spawn_local` ([#&#8203;3369](https://togithub.com/tokio-rs/tokio/issues/3369))\n-   sync: fix panic in broadcast::Receiver drop ([#&#8203;3434](https://togithub.com/tokio-rs/tokio/issues/3434))\n\n##### Documented\n\n-   stream: link to new `Stream` wrappers in `tokio-stream` ([#&#8203;3343](https://togithub.com/tokio-rs/tokio/issues/3343))\n-   docs: mention that `test-util` feature is not enabled with full ([#&#8203;3397](https://togithub.com/tokio-rs/tokio/issues/3397))\n-   process: add documentation to process::Child fields ([#&#8203;3437](https://togithub.com/tokio-rs/tokio/issues/3437))\n-   io: clarify `AsyncFd` docs about changes of the inner fd ([#&#8203;3430](https://togithub.com/tokio-rs/tokio/issues/3430))\n-   net: update datagram docs on splitting ([#&#8203;3448](https://togithub.com/tokio-rs/tokio/issues/3448))\n-   time: document that `Sleep` is not `Unpin` ([#&#8203;3457](https://togithub.com/tokio-rs/tokio/issues/3457))\n-   sync: add link to `PollSemaphore` ([#&#8203;3456](https://togithub.com/tokio-rs/tokio/issues/3456))\n-   task: add `LocalSet` example ([#&#8203;3438](https://togithub.com/tokio-rs/tokio/issues/3438))\n-   sync: improve bounded `mpsc` documentation ([#&#8203;3458](https://togithub.com/tokio-rs/tokio/issues/3458))\n\n### [`v1.0.3`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.0.3)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.0.2...tokio-1.0.3)\n\n##### Fixed\n\n-   io: memory leak during shutdown ([#&#8203;3477](https://togithub.com/tokio-rs/tokio/issues/3477)).\n\n### [`v1.0.2`](https://togithub.com/tokio-rs/tokio/releases/tag/tokio-1.0.2)\n\n[Compare Source](https://togithub.com/tokio-rs/tokio/compare/tokio-1.0.1...tokio-1.0.2)\n\n##### Fixed\n\n-   io: soundness in `read_to_end` ([#&#8203;3428](https://togithub.com/tokio-rs/tokio/issues/3428)).\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Enabled.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/timvw/qv).", "created_at": "2022-05-25T07:35:42Z", "updated_at": "2022-05-25T12:30:40Z", "closed_at": "2022-05-25T12:30:39Z", "merged_at": "2022-05-25T12:30:39Z", "merge_commit_sha": "742a72b9f3b92903acf41c06e6c3938ebf593ced", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/timvw/qv/pulls/1/commits", "review_comments_url": "https://api.github.com/repos/timvw/qv/pulls/1/comments", "review_comment_url": "https://api.github.com/repos/timvw/qv/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/timvw/qv/issues/1/comments", "statuses_url": "https://api.github.com/repos/timvw/qv/statuses/e8be97784baf3b82a6d3a97dd77725243c4a352c", "head": {"label": "timvw:renovate/all", "ref": "renovate/all", "sha": "e8be97784baf3b82a6d3a97dd77725243c4a352c", "user": {"login": "timvw", "id": 115225, "node_id": "MDQ6VXNlcjExNTIyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/115225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timvw", "html_url": "https://github.com/timvw", "followers_url": "https://api.github.com/users/timvw/followers", "following_url": "https://api.github.com/users/timvw/following{/other_user}", "gists_url": "https://api.github.com/users/timvw/gists{/gist_id}", "starred_url": "https://api.github.com/users/timvw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timvw/subscriptions", "organizations_url": "https://api.github.com/users/timvw/orgs", "repos_url": "https://api.github.com/users/timvw/repos", "events_url": "https://api.github.com/users/timvw/events{/privacy}", "received_events_url": "https://api.github.com/users/timvw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 496096484, "node_id": "R_kgDOHZHU5A", "name": "qv", "full_name": "timvw/qv", "private": false, "owner": {"login": "timvw", "id": 115225, "node_id": "MDQ6VXNlcjExNTIyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/115225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timvw", "html_url": "https://github.com/timvw", "followers_url": "https://api.github.com/users/timvw/followers", "following_url": "https://api.github.com/users/timvw/following{/other_user}", "gists_url": "https://api.github.com/users/timvw/gists{/gist_id}", "starred_url": "https://api.github.com/users/timvw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timvw/subscriptions", "organizations_url": "https://api.github.com/users/timvw/orgs", "repos_url": "https://api.github.com/users/timvw/repos", "events_url": "https://api.github.com/users/timvw/events{/privacy}", "received_events_url": "https://api.github.com/users/timvw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/timvw/qv", "description": "Quickly view your data", "fork": false, "url": "https://api.github.com/repos/timvw/qv", "forks_url": "https://api.github.com/repos/timvw/qv/forks", "keys_url": "https://api.github.com/repos/timvw/qv/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/timvw/qv/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/timvw/qv/teams", "hooks_url": "https://api.github.com/repos/timvw/qv/hooks", "issue_events_url": "https://api.github.com/repos/timvw/qv/issues/events{/number}", "events_url": "https://api.github.com/repos/timvw/qv/events", "assignees_url": "https://api.github.com/repos/timvw/qv/assignees{/user}", "branches_url": "https://api.github.com/repos/timvw/qv/branches{/branch}", "tags_url": "https://api.github.com/repos/timvw/qv/tags", "blobs_url": "https://api.github.com/repos/timvw/qv/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/timvw/qv/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/timvw/qv/git/refs{/sha}", "trees_url": "https://api.github.com/repos/timvw/qv/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/timvw/qv/statuses/{sha}", "languages_url": "https://api.github.com/repos/timvw/qv/languages", "stargazers_url": "https://api.github.com/repos/timvw/qv/stargazers", "contributors_url": "https://api.github.com/repos/timvw/qv/contributors", "subscribers_url": "https://api.github.com/repos/timvw/qv/subscribers", "subscription_url": "https://api.github.com/repos/timvw/qv/subscription", "commits_url": "https://api.github.com/repos/timvw/qv/commits{/sha}", "git_commits_url": "https://api.github.com/repos/timvw/qv/git/commits{/sha}", "comments_url": "https://api.github.com/repos/timvw/qv/comments{/number}", "issue_comment_url": "https://api.github.com/repos/timvw/qv/issues/comments{/number}", "contents_url": "https://api.github.com/repos/timvw/qv/contents/{+path}", "compare_url": "https://api.github.com/repos/timvw/qv/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/timvw/qv/merges", "archive_url": "https://api.github.com/repos/timvw/qv/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/timvw/qv/downloads", "issues_url": "https://api.github.com/repos/timvw/qv/issues{/number}", "pulls_url": "https://api.github.com/repos/timvw/qv/pulls{/number}", "milestones_url": "https://api.github.com/repos/timvw/qv/milestones{/number}", "notifications_url": "https://api.github.com/repos/timvw/qv/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/timvw/qv/labels{/name}", "releases_url": "https://api.github.com/repos/timvw/qv/releases{/id}", "deployments_url": "https://api.github.com/repos/timvw/qv/deployments", "created_at": "2022-05-25T05:38:03Z", "updated_at": "2026-01-11T22:36:59Z", "pushed_at": "2026-01-12T17:15:42Z", "git_url": "git://github.com/timvw/qv.git", "ssh_url": "git@github.com:timvw/qv.git", "clone_url": "https://github.com/timvw/qv.git", "svn_url": "https://github.com/timvw/qv", "homepage": "", "size": 435, "stargazers_count": 343, "watchers_count": 343, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 18, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 7, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 18, "open_issues": 7, "watchers": 343, "default_branch": "main"}}, "base": {"label": "timvw:main", "ref": "main", "sha": "ea6c8acc835bd8576d898a07934294ef5bb6588b", "user": {"login": "timvw", "id": 115225, "node_id": "MDQ6VXNlcjExNTIyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/115225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timvw", "html_url": "https://github.com/timvw", "followers_url": "https://api.github.com/users/timvw/followers", "following_url": "https://api.github.com/users/timvw/following{/other_user}", "gists_url": "https://api.github.com/users/timvw/gists{/gist_id}", "starred_url": "https://api.github.com/users/timvw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timvw/subscriptions", "organizations_url": "https://api.github.com/users/timvw/orgs", "repos_url": "https://api.github.com/users/timvw/repos", "events_url": "https://api.github.com/users/timvw/events{/privacy}", "received_events_url": "https://api.github.com/users/timvw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 496096484, "node_id": "R_kgDOHZHU5A", "name": "qv", "full_name": "timvw/qv", "private": false, "owner": {"login": "timvw", "id": 115225, "node_id": "MDQ6VXNlcjExNTIyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/115225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timvw", "html_url": "https://github.com/timvw", "followers_url": "https://api.github.com/users/timvw/followers", "following_url": "https://api.github.com/users/timvw/following{/other_user}", "gists_url": "https://api.github.com/users/timvw/gists{/gist_id}", "starred_url": "https://api.github.com/users/timvw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timvw/subscriptions", "organizations_url": "https://api.github.com/users/timvw/orgs", "repos_url": "https://api.github.com/users/timvw/repos", "events_url": "https://api.github.com/users/timvw/events{/privacy}", "received_events_url": "https://api.github.com/users/timvw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/timvw/qv", "description": "Quickly view your data", "fork": false, "url": "https://api.github.com/repos/timvw/qv", "forks_url": "https://api.github.com/repos/timvw/qv/forks", "keys_url": "https://api.github.com/repos/timvw/qv/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/timvw/qv/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/timvw/qv/teams", "hooks_url": "https://api.github.com/repos/timvw/qv/hooks", "issue_events_url": "https://api.github.com/repos/timvw/qv/issues/events{/number}", "events_url": "https://api.github.com/repos/timvw/qv/events", "assignees_url": "https://api.github.com/repos/timvw/qv/assignees{/user}", "branches_url": "https://api.github.com/repos/timvw/qv/branches{/branch}", "tags_url": "https://api.github.com/repos/timvw/qv/tags", "blobs_url": "https://api.github.com/repos/timvw/qv/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/timvw/qv/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/timvw/qv/git/refs{/sha}", "trees_url": "https://api.github.com/repos/timvw/qv/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/timvw/qv/statuses/{sha}", "languages_url": "https://api.github.com/repos/timvw/qv/languages", "stargazers_url": "https://api.github.com/repos/timvw/qv/stargazers", "contributors_url": "https://api.github.com/repos/timvw/qv/contributors", "subscribers_url": "https://api.github.com/repos/timvw/qv/subscribers", "subscription_url": "https://api.github.com/repos/timvw/qv/subscription", "commits_url": "https://api.github.com/repos/timvw/qv/commits{/sha}", "git_commits_url": "https://api.github.com/repos/timvw/qv/git/commits{/sha}", "comments_url": "https://api.github.com/repos/timvw/qv/comments{/number}", "issue_comment_url": "https://api.github.com/repos/timvw/qv/issues/comments{/number}", "contents_url": "https://api.github.com/repos/timvw/qv/contents/{+path}", "compare_url": "https://api.github.com/repos/timvw/qv/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/timvw/qv/merges", "archive_url": "https://api.github.com/repos/timvw/qv/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/timvw/qv/downloads", "issues_url": "https://api.github.com/repos/timvw/qv/issues{/number}", "pulls_url": "https://api.github.com/repos/timvw/qv/pulls{/number}", "milestones_url": "https://api.github.com/repos/timvw/qv/milestones{/number}", "notifications_url": "https://api.github.com/repos/timvw/qv/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/timvw/qv/labels{/name}", "releases_url": "https://api.github.com/repos/timvw/qv/releases{/id}", "deployments_url": "https://api.github.com/repos/timvw/qv/deployments", "created_at": "2022-05-25T05:38:03Z", "updated_at": "2026-01-11T22:36:59Z", "pushed_at": "2026-01-12T17:15:42Z", "git_url": "git://github.com/timvw/qv.git", "ssh_url": "git@github.com:timvw/qv.git", "clone_url": "https://github.com/timvw/qv.git", "svn_url": "https://github.com/timvw/qv", "homepage": "", "size": 435, "stargazers_count": 343, "watchers_count": 343, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 18, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 7, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 18, "open_issues": 7, "watchers": 343, "default_branch": "main"}}, "_links": {"self": {"href": "https://api.github.com/repos/timvw/qv/pulls/1"}, "html": {"href": "https://github.com/timvw/qv/pull/1"}, "issue": {"href": "https://api.github.com/repos/timvw/qv/issues/1"}, "comments": {"href": "https://api.github.com/repos/timvw/qv/issues/1/comments"}, "review_comments": {"href": "https://api.github.com/repos/timvw/qv/pulls/1/comments"}, "review_comment": {"href": "https://api.github.com/repos/timvw/qv/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/timvw/qv/pulls/1/commits"}, "statuses": {"href": "https://api.github.com/repos/timvw/qv/statuses/e8be97784baf3b82a6d3a97dd77725243c4a352c"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "timvw", "id": 115225, "node_id": "MDQ6VXNlcjExNTIyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/115225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timvw", "html_url": "https://github.com/timvw", "followers_url": "https://api.github.com/users/timvw/followers", "following_url": "https://api.github.com/users/timvw/following{/other_user}", "gists_url": "https://api.github.com/users/timvw/gists{/gist_id}", "starred_url": "https://api.github.com/users/timvw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timvw/subscriptions", "organizations_url": "https://api.github.com/users/timvw/orgs", "repos_url": "https://api.github.com/users/timvw/repos", "events_url": "https://api.github.com/users/timvw/events{/privacy}", "received_events_url": "https://api.github.com/users/timvw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 0, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 1, "deletions": 1, "changed_files": 1}}