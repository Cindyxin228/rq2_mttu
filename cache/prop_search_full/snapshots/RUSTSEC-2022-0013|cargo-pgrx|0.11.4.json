{"window": ["2022-03-08T13:59:00.709389+00:00", "2024-04-19T13:02:56.237901+00:00"], "repo_slug": "pgcentralfoundation/pgrx", "candidates": [{"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1663", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1663/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1663/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1663/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1663", "id": 2249225471, "node_id": "PR_kwDODaTcLs5s-SP1", "number": 1663, "title": "Use supports-colors feature", "user": {"login": "theory", "id": 46604, "node_id": "MDQ6VXNlcjQ2NjA0", "avatar_url": "https://avatars.githubusercontent.com/u/46604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theory", "html_url": "https://github.com/theory", "followers_url": "https://api.github.com/users/theory/followers", "following_url": "https://api.github.com/users/theory/following{/other_user}", "gists_url": "https://api.github.com/users/theory/gists{/gist_id}", "starred_url": "https://api.github.com/users/theory/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theory/subscriptions", "organizations_url": "https://api.github.com/users/theory/orgs", "repos_url": "https://api.github.com/users/theory/repos", "events_url": "https://api.github.com/users/theory/events{/privacy}", "received_events_url": "https://api.github.com/users/theory/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-04-17T20:33:53Z", "updated_at": "2025-04-28T21:02:07Z", "closed_at": "2024-04-17T21:39:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1663", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1663", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1663.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1663.patch", "merged_at": "2024-04-17T21:39:21Z"}, "body": "To enable the `NO_COLOR` and `FORCE_COLOR` environment variables, as well as detect when running in a tty to suppress colors.\r\n\r\nIdeally pgrx would resect [`CARGO_TERM_COLOR`](https://doc.rust-lang.org/cargo/reference/config.html#termcolor), but this is a start.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1663/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1638", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1638/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1638/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1638/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1638", "id": 2228656463, "node_id": "PR_kwDODaTcLs5r4OlK", "number": 1638, "title": "Bump whoami and eyre", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-05T19:07:19Z", "updated_at": "2024-04-05T19:29:43Z", "closed_at": "2024-04-05T19:29:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1638", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1638", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1638.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1638.patch", "merged_at": "2024-04-05T19:29:38Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1638/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1621", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1621/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1621/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1621/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1621", "id": 2203191539, "node_id": "PR_kwDODaTcLs5qhp2R", "number": 1621, "title": "Use Ceescape's `sigsetjmp()` wrapper", "user": {"login": "NotGyro", "id": 4525370, "node_id": "MDQ6VXNlcjQ1MjUzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/4525370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NotGyro", "html_url": "https://github.com/NotGyro", "followers_url": "https://api.github.com/users/NotGyro/followers", "following_url": "https://api.github.com/users/NotGyro/following{/other_user}", "gists_url": "https://api.github.com/users/NotGyro/gists{/gist_id}", "starred_url": "https://api.github.com/users/NotGyro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NotGyro/subscriptions", "organizations_url": "https://api.github.com/users/NotGyro/orgs", "repos_url": "https://api.github.com/users/NotGyro/repos", "events_url": "https://api.github.com/users/NotGyro/events{/privacy}", "received_events_url": "https://api.github.com/users/NotGyro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2024-03-22T19:39:44Z", "updated_at": "2024-10-01T15:04:47Z", "closed_at": "2024-03-25T19:37:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1621", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1621", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1621.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1621.patch", "merged_at": "2024-03-25T19:37:35Z"}, "body": "The [cee-scape](https://crates.io/crates/cee-scape) crate uses a hand-rolled assembly wrapper around libc's `sigsetjmp()`. This has better correctness guarantees than calling `sigsetjmp()` directly, because LLVM is not allowed to reason about / attempt to optimize inside hand-written assembly. `sigsetjmp()` is used for `pg_guard_ffi_boundary_impl()`, which is our wrapper around Postgres' exception handling, since Postgres uses `sigsetjmp()` and `siglongjmp()` to handle multiple return points. Rust's paradigm doesn't understand this - in Rust, a a function call can only return to its caller at one point in time: when it has finished executing. Whereas, sigsetjmp can return to two places _chronologically_ - and so this needs to be handled carefully.\r\n\r\nFixes https://github.com/pgcentralfoundation/pgrx/issues/1144", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1621/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1621/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1620", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1620/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1620/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1620/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1620", "id": 2201013182, "node_id": "PR_kwDODaTcLs5qaL4O", "number": 1620, "title": "Consistently test on latest rustc stable", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-03-21T19:37:29Z", "updated_at": "2024-03-24T01:02:45Z", "closed_at": "2024-03-24T01:01:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1620", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1620", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1620.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1620.patch", "merged_at": "2024-03-24T01:01:44Z"}, "body": "Consistently use latest rustc stable for the test infrastructure by replacing a number of ad hoc lines of bash-in-YAML with a single script. This allows us to use rustc 1.77, for which:\r\n- `offset_of!` in stdlib lets us drop the `memoffset` crate\r\n- some compile-fail tests require blessing, as diagnostics changed", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1620/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1610", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1610/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1610/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1610/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1610", "id": 2185360664, "node_id": "PR_kwDODaTcLs5plC0y", "number": 1610, "title": "Break Time on the anvil of proptest", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421126885, "node_id": "LA_kwDODaTcLs8AAAABB4UK5Q", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/breaks-API", "name": "breaks-API", "color": "FBCA04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2024-03-14T04:02:30Z", "updated_at": "2024-03-18T23:00:56Z", "closed_at": "2024-03-18T23:00:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1610", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1610", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1610.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1610.patch", "merged_at": "2024-03-18T23:00:49Z"}, "body": "Our handling of the various datetime types is extremely dubious. In particular, we `impl From` for these types to allow a conversion from their \"raw repr\", the underlying integer type. This was justified on the idea that this is how Postgres reasons about them anyways, and at worst it was an application bug. However, there are two problems:\r\n\r\n- The conversions are not infallible, as `From` requires[^1]! At various points of the conversions, they may `ereport` (which we convert to a `panic!`, naturally).\r\n- For many possible integer values, they return **non-equal** values when passed through the native Postgres (de)serialization functions and converted back to the original type, which we should not accept as a reasonable outcome. It permits data that flows through pgrx extensions to become corrupt or invalid by the time it reaches the database, causing errors when read out again. In this sense, it is another way the conversion is fallible, except the realization of the error may become delayed for hours or weeks after the data is actually committed to the database, as it is only upon (de)serialization that it is guaranteed to error.\r\n\r\nAccordingly, this PR breaks the `From` impls for Time, TimeTz, and Timestamp, for their integer representations. The implementations are replaced by convenience functions that _do_ implement a possible valid interpretation of conversion from the integer types, but are lossy, and thus inappropriate for `impl From`. Conversion to-and-from these integer types is no longer lossless, and thus it is not \"perfect\".\r\n\r\nThe bounds selected for the conversion functions reflect the bounds that Postgres implements for these types.\r\n\r\nFixes https://github.com/pgcentralfoundation/pgrx/issues/1525\r\n\r\n[^1]: https://doc.rust-lang.org/std/convert/trait.From.html", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1610/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1610/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1598", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1598/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1598/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1598/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1598", "id": 2162574290, "node_id": "PR_kwDODaTcLs5oXVxB", "number": 1598, "title": "Release pgrx 0.12.0-alpha.1", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-01T04:20:09Z", "updated_at": "2024-03-01T05:00:17Z", "closed_at": "2024-03-01T04:55:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1598", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1598", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1598.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1598.patch", "merged_at": "2024-03-01T04:55:14Z"}, "body": "Welcome to pgrx 0.12.0-alpha.1!\r\n\r\nSay the magic words with me!\r\n\r\n```shell\r\ncargo install cargo-pgrx --locked --version 0.12.0-alpha.1\r\n```\r\n\r\n# Breaking Changes\r\n\r\n## No more dlopen!\r\n\r\nPerhaps the most exciting change this round is @usamoi's contribution in https://github.com/pgcentralfoundation/pgrx/pull/1468 which means that we no longer perform a `dlopen` in order to generate the schema. The cost, such as it is, is that your pgrx extensions now require a `src/bin/pgrx_embed.rs`, which will be used to generate the schema. This has much less cross-platform issues and will enable supporting things like `cargo binstall` down the line.\r\n\r\nIt may be a bit touchy on first-time setup for transitioning older repos. If necessary, you may have to directly add a `src/bin/pgrx_embed.rs` and add the following code (which should be the only code in the file, though you can add comments if you like?):\r\n\r\n```rust\r\n::pgrx::pgrx_embed!();\r\n```\r\n\r\nYour Cargo.toml will also want to update its crate-type key for the library:\r\n```toml\r\n[lib]\r\ncrate-type = [\"cdylib\", \"lib\"]\r\n```\r\n\r\n## Library Code\r\n\r\n- pgrx-pg-sys will now use `ManuallyDropUnion` thanks to @NotGyro in https://github.com/pgcentralfoundation/pgrx/pull/1547\r\n- VARHDRSZ `const`s are no longer `fn`, thanks to @workingjubilee in https://github.com/pgcentralfoundation/pgrx/pull/1584\r\n- We no longer have `Interval::is_finite` since https://github.com/pgcentralfoundation/pgrx/pull/1594\r\n- We translate more `*_tree_walker` functions to the same signature their `*_impl` version in Postgres 16 has: https://github.com/pgcentralfoundation/pgrx/pull/1596\r\n- Thanks to @eeeebbbbrrrr in https://github.com/pgcentralfoundation/pgrx/pull/1591 we no longer have the `pg_sql_graph_magic!()` macro, which should help with more things in the future!\r\n\r\n# What's New\r\n\r\nWe have quite a lot of useful additions to our API:\r\n\r\n- `SpiClient::prepare_mut` was added thanks to @XeniaLu in https://github.com/pgcentralfoundation/pgrx/pull/1275\r\n- @usamoi also contributed bindings subscripting code in https://github.com/pgcentralfoundation/pgrx/pull/1562\r\n- For `#[pg_test]`, you have been able to use `#[should_panic(expected = \"string\")]` to anticipate a panic that contains that string in that test. For various reasons, `#[pg_test(error = \"string\")]` is much the same. Now, you can also use `#[pg_test(expected = \"string\")]`, in the hopes that is easier to stumble across, as of https://github.com/pgcentralfoundation/pgrx/pull/1570\r\n\r\n## `Result<composite_type!(\"...\"), E>` support\r\n\r\n- In https://github.com/pgcentralfoundation/pgrx/pull/1560 @NotGyro contributed support for using `Result<composite_type!(\"Name\"), E>`, as a case that had not been handled before.\r\n\r\n## Significantly expanded docs\r\nThanks to @rjuju, @NotGyro, and @workingjubilee, we now have significantly expanded docs for cargo-pgrx and pgrx in general. Some of these are in the API docs on https://docs.rs or the READMEs, but there's also a guide, now! It's not currently published, but is available as an [mdbook](https://github.com/rust-lang/mdBook) in the repo.\r\n\r\nSome diagnostic information that is also arguably documentation, like comments and the suggestion to `cargo install`, have also been improved, thanks to @workingjubilee in\r\n- https://github.com/pgcentralfoundation/pgrx/pull/1579\r\n- https://github.com/pgcentralfoundation/pgrx/pull/1573\r\n\r\n## `#[pg_cast]`\r\n\r\nAn experimental macro for a `CREATE CAST` was contributed by @xwkuang5 in https://github.com/pgcentralfoundation/pgrx/pull/1445!\r\n\r\n## Legal Stuff\r\n\r\nThanks to @the-kenny in https://github.com/pgcentralfoundation/pgrx/pull/1490 and @workingjubilee in https://github.com/pgcentralfoundation/pgrx/pull/1504, it was brought to our attention that some dependencies had unusual legal requirements. So we fixed this with CI! We now check our code included into pgrx-using binaries is MIT/Apache 2.0 licensed, as is common across crates.io, using `cargo deny`!. The build tools will have more flexible legal requirements (partly due to the use of Mozilla Public License code in rustls).\r\n\r\n# Internal Changes\r\nMany internal cleanups were done thanks to\r\n- @workingjubilee in too many PRs to count!\r\n- @thomcc found a needless condition in https://github.com/pgcentralfoundation/pgrx/pull/1501\r\n- @nyurik in too many PRs to count!\r\n\r\nIn particular:\r\n- we now actually `pfree` our `Array`s we detoasted as-of https://github.com/pgcentralfoundation/pgrx/pull/1571\r\n- creating a `RawArray` is now low-overhead due to https://github.com/pgcentralfoundation/pgrx/pull/1587\r\n\r\n## Soundness Fixes\r\nWe had a number of soundness issues uncovered or have added more tests to catch them.\r\n- Bounds-checking debug assertions for array access by @NotGyro in https://github.com/pgcentralfoundation/pgrx/pull/1514\r\n- Fix unsound `&` and `&mut` in `fcinfo.rs` by @workingjubilee in https://github.com/pgcentralfoundation/pgrx/pull/1595\r\n\r\n## Less Deps\r\nPart of the cleanup by @workingjubilee was reducing the number of deps we compile:\r\n* cargo-pgrx: reduce trivial dep usages in https://github.com/pgcentralfoundation/pgrx/pull/1499\r\n* Update 2 syn in https://github.com/pgcentralfoundation/pgrx/pull/1557\r\n\r\nHopefully it will reduce compile time and disk usage!\r\n\r\n## New Contributors\r\n* @the-kenny made their first contribution in https://github.com/pgcentralfoundation/pgrx/pull/1490\r\n* @xwkuang5 made their first contribution in https://github.com/pgcentralfoundation/pgrx/pull/1445\r\n* @rjuju made their first contribution in https://github.com/pgcentralfoundation/pgrx/pull/1516\r\n* @nyurik made their first contribution in https://github.com/pgcentralfoundation/pgrx/pull/1533\r\n* @NotGyro made their first contribution in https://github.com/pgcentralfoundation/pgrx/pull/1514\r\n* @XeniaLu made their first contribution in https://github.com/pgcentralfoundation/pgrx/pull/1275\r\n\r\n**Full Changelog**: https://github.com/pgcentralfoundation/pgrx/compare/v0.12.0-alpha.0...v0.12.0-alpha.1", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1598/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1598/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1557", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1557/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1557/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1557/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1557", "id": 2132898173, "node_id": "PR_kwDODaTcLs5myHL9", "number": 1557, "title": "Update 2 syn", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-02-13T18:14:07Z", "updated_at": "2024-02-14T00:01:47Z", "closed_at": "2024-02-14T00:01:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1557", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1557", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1557.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1557.patch", "merged_at": "2024-02-14T00:01:47Z"}, "body": "We have not been receiving updates to syn for a while, because we are on syn 1 still. Update to syn 2 and lift it into the workspace, which requires revamping how several `proc_macro_attribute`s are parsed. In the process, sprinkle pgrx-sql-entity-graph with paranoid amounts of `track_caller`, expects, and compound errors on the unhappy path, to try to make the code start producing useful error spans.\r\n\r\nThen also drop unused features from some of our dependencies to completely erase syn 1 from the dependency tree. We don't meddle with any compressible sections, because we just look at exported symbols, not debuginfo, so I believe this is inconsequential. It's acceptable to revert that part of this change, however, if it doesn't actually work out.\r\n\r\nRemoves 4 crates from the dependency tree\r\n\r\nThe syn changes include:\r\n- `syn::LifetimeDef` is now `LifetimeParam`\r\n- `syn::ImplItem::Method` is now `syn::ImplItem::Fn`\r\n- `syn::ImplItemMethod` is now `syn::ImplItemFn`\r\n- Type ascription && `syn::Expr::Type` no longer exist\r\n- `syn::MetaNameValue` replaces its `lit` field with `value`, as it accepts non-literals\r\n- `syn::GenericArgument::Binding` is now `GenericArgument::AssocType`\r\n- `syn::Attribute` hid its `path` field as `.path()`\r\n- `syn::Attribute` hid its `token` field, so there is only `ToTokens`\r\n- `syn::Attribute` changed how it structures access to its args. We now parse inner args of a `syn::Attribute` for our proc-macro attributes like `#[pg_operator]`, without considering parentheses.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1557/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1557/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1533", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1533/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1533/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1533/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1533", "id": 2119621400, "node_id": "PR_kwDODaTcLs5mFNw5", "number": 1533, "title": "Simplify errors with thiserror", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-02-05T23:02:14Z", "updated_at": "2024-02-06T01:06:08Z", "closed_at": "2024-02-06T00:57:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1533", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1533", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1533.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1533.patch", "merged_at": "2024-02-06T00:57:57Z"}, "body": "Thiserror is far better for most of these, and reduces accidental bugs / mismatches with descriptions.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1533/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1531", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1531/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1531/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1531/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1531", "id": 2119572242, "node_id": "PR_kwDODaTcLs5mFCyq", "number": 1531, "title": "lib: inline `format_args!` idents", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-02-05T22:25:12Z", "updated_at": "2024-02-07T03:20:16Z", "closed_at": "2024-02-07T03:14:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1531", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1531", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1531.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1531.patch", "merged_at": "2024-02-07T03:14:30Z"}, "body": "Per https://github.com/pgcentralfoundation/pgrx/pull/1517#issuecomment-1925899219 consolidate all lib-related PRs", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1531/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1523", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1523/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1523/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1523/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1523", "id": 2116969584, "node_id": "PR_kwDODaTcLs5l8MJd", "number": 1523, "title": "chore: lots of lints and fixes", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2024-02-04T09:08:28Z", "updated_at": "2024-02-07T23:09:48Z", "closed_at": "2024-02-07T23:05:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1523", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1523", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1523.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1523.patch", "merged_at": "2024-02-07T23:05:01Z"}, "body": "* it is an anti-pattern for a fn to take a reference, and clone it right away.  If a fn needs to own a value, a value ownership should be passed in, not cloned inside the fn.  This way the caller can decide to clone something, or to pass it in as is\r\n* use `&Path` instead of `&PathBuf` (same as &str instead of &String)\r\n* use `.cmp` for comparison\r\n* some spelling\r\n* lots of `match` statements can be simplified\r\n* use `.is_null()` instead of comparing with the null ptr\r\n* do not impl `ToString` trait, use `Display` instead, and get ToString for free - perf gain too.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1523/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504", "id": 2108865504, "node_id": "PR_kwDODaTcLs5lgW_d", "number": 1504, "title": "Add license check", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-01-30T22:04:14Z", "updated_at": "2024-01-31T20:59:17Z", "closed_at": "2024-01-31T19:25:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1504", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504.patch", "merged_at": "2024-01-31T19:25:15Z"}, "body": "This uses an allow list, mostly-duplicates the deny.toml, and runs a simple shell script instead of using the action, so that the pgrx library can have an independently tracked set of licenses. This is done because the dependencies of that are liable to be actually linked into extensions as dynamic libraries.\r\n\r\nIn order to let the deny.toml have accurate reporting, the example extension crates are marked as being unpublished. I also tweaked the version on them because I didn't care about the version field in my regex-replace.\r\n\r\nCloses #1502.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1499", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1499/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1499/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1499/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1499", "id": 2103026944, "node_id": "PR_kwDODaTcLs5lM9tT", "number": 1499, "title": "cargo-pgrx: reduce trivial dep usages", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-01-26T22:55:32Z", "updated_at": "2024-02-12T04:16:40Z", "closed_at": "2024-02-07T22:58:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1499", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1499", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1499.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1499.patch", "merged_at": "2024-02-07T22:58:29Z"}, "body": "I noticed #1468 would allow us to also remove a dependency or two from cargo-pgrx, so I started work by removing `once_cell` from it and a few other spots in our tree, although we use it so pervasively it's not realistic to remove it entirely. It was actually secretly in our public API, behind a `#[doc(hidden)]`, for some reason.\r\n\r\nI then noticed a bunch of other easy removals from cargo-pgrx. In particular:\r\n- `serde_derive` should not be used directly\r\n- flate2, prettyplease, syn, and unescape are not directly used anymore\r\n- the nix crate maintenance has gotten better, but it feels like a big dep for a bool\r\n", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1499/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1498", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1498/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1498/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1498/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1498", "id": 2102967239, "node_id": "PR_kwDODaTcLs5lMwW_", "number": 1498, "title": "Use workspace dependencies", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-26T22:06:25Z", "updated_at": "2024-01-27T01:08:08Z", "closed_at": "2024-01-27T01:06:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1498", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1498", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1498.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1498.patch", "merged_at": "2024-01-27T01:06:32Z"}, "body": "This converts a number of dependencies to workspace dependencies so that they share a version, and does a bit of spring cleaning on the way things are organized. Some things that have complications due to features + default-features, or that I wish to remove without replacement, were not hoisted.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1498/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1497", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1497/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1497/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1497/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1497", "id": 2099435294, "node_id": "PR_kwDODaTcLs5lA893", "number": 1497, "title": "Update pgrx to 0.12.0-alpha.0", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-25T02:16:47Z", "updated_at": "2024-01-25T20:54:36Z", "closed_at": "2024-01-25T20:54:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1497", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1497", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1497.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1497.patch", "merged_at": "2024-01-25T20:54:30Z"}, "body": "Hello and welcome to The Beginning of The End!\r\n\r\nYou may have seen some largely-inscrutable rambling about \"object lifetimes\" and \"memory contexts\" from me in various comments, logs, and issues. You may have also heard that this has effectively stalled all forward feature work. You may have noticed this has been the case for months now.\r\n\r\nThe long and short of it is that pgrx never actually fully built-in the actual lifetimes of objects in Postgres into its various types. As more and more interlocking parts grew, between things like the type unboxing in `trait FromDatum`, or the bounded memory context of `Spi::connect`, eventually many supposedly-safe interfaces arose which proved wildly unsafe in reality due to this mesh of interactions. Internal portions of pgrx relied on expeditious hacks to ignore the growing problems, until this rotten foundation yielded an enormous crop of soundness issues over the year of 2023. Even when not exploitable, they prevent otherwise-trivial enhancements in terms of speed or memory usage.\r\n\r\nKey elements of a new foundation have landed in pgrx, which allow ascribing lifetimes to every datum and every memory context that a Postgres extension will encounter. There is much more work to be done to actually make it so all Rust code has to flow through these new interfaces. This alpha release is an extremely \"preview\" release to allow assessing some of the damage from the first set of breaking changes, so that some initial feedback and triage can occur. There will, unfortunately, be more breaking changes on the horizon.\r\n\r\n## Many Macros Expand Subtly Differently\r\n\r\nIf your extension now breaks in some inscrutable way that you cannot otherwise discern, the problem is probably hidden in macro expansion. This cannot really be diagnosed except using `cargo expand` diffed against previous expansions. A most likely issue is that something that previously hid a lifetime during expansion or writes it as 'static now propagates it by name or as the anonymous '_ lifetime.\r\n\r\n## `Datum<'src>`\r\n\r\nThere are now lifetime-bound Datums. Expect to see them in more places.\r\n\r\n## `UnboxDatum<As<'src> = Type<'src>>`\r\n\r\nExpect to see this or a similar signature a lot: there are new conversion traits which use a generic associated type or similar sneaky tactics to allow \"clamping down\" the lifetime to a bound, unless the produced type is always 'static by being a simple value like `i32`.\r\n\r\n## `&'mcx MemCx<'_>`\r\n\r\nYou will see more and more references to this type, which is a memory context that encodes an inner invariant lifetime, in signatures. If one of these is currently in-scope, then please remember it is always `unsafe` to manipulate the `static mut CurrentMemoryContext` in Postgres, but it is doubly so then. In general, when designing your own types using pgrx, you should prefer designing code that uses a signature like that of `MemoryContextAlloc` instead of `palloc` if you are at all uncertain.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1497/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1496", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1496/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1496/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1496/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1496", "id": 2099434656, "node_id": "PR_kwDODaTcLs5lA81S", "number": 1496, "title": "Prepare pgrx 0.11.3", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-25T02:15:55Z", "updated_at": "2024-01-26T18:39:02Z", "closed_at": "2024-01-25T20:45:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1496", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1496", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1496.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1496.patch", "merged_at": "2024-01-25T20:45:47Z"}, "body": "The pgrx 0.11.3 release addresses a few UB risks in pgrx, updates its dependencies on many points, and includes many additional headers. It should also now be easier to use cargo-pgrx on more-complicated network configurations.\r\n\r\n## New Bindings!\r\n\r\nNew bindings added thanks to\r\n- @burmecia in https://github.com/pgcentralfoundation/pgrx/pull/1432\r\n- @daamien in\r\n  - https://github.com/pgcentralfoundation/pgrx/pull/1431\r\n  - https://github.com/pgcentralfoundation/pgrx/pull/1485\r\n- @rebasedming in https://github.com/pgcentralfoundation/pgrx/pull/1486\r\n- @usamoi in https://github.com/pgcentralfoundation/pgrx/pull/1436\r\n- @workingjubilee in https://github.com/pgcentralfoundation/pgrx/pull/1453\r\n\r\n## \"...wait, that's UB?\"\r\n\r\nTwo UB fixes!\r\n- Thanks to @Lokathor in https://github.com/pgcentralfoundation/pgrx/pull/1443\r\n- Thanks to @usamoi in https://github.com/pgcentralfoundation/pgrx/pull/1466\r\n\r\n## Ergonomics\r\n\r\n- A better `ereport!` macro in https://github.com/pgcentralfoundation/pgrx/pull/1472\r\n\r\n## Less transport-level security problems in cargo-pgrx\r\n\r\n- We no longer secretly require rustls! Thanks to @jirutka in https://github.com/pgcentralfoundation/pgrx/pull/1448\r\n- We now use native certs if possible, even with rustls, since https://github.com/pgcentralfoundation/pgrx/pull/1449\r\n\r\nTogether these should mean it's possible to actually use cargo-pgrx on whatever your network configuration is, but you might have to use `cargo install --no-default-features --features native-tls` to install with native-tls (which, on Linux, means OpenSSL). By default, you will use rustls.\r\n\r\n## Many dependency updates\r\n\r\nThese address some largely-hypothetical security risks, but one is particularly important: the bindgen update means we now should be compatible with some aarch64 builds that might have failed.\r\n\r\n- https://github.com/pgcentralfoundation/pgrx/pull/1492\r\n- https://github.com/pgcentralfoundation/pgrx/pull/1493\r\n- https://github.com/pgcentralfoundation/pgrx/pull/1494", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1496/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1495", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1495/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1495/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1495/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1495", "id": 2099397282, "node_id": "PR_kwDODaTcLs5lA1AG", "number": 1495, "title": "Use heapless 0.8", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421126885, "node_id": "LA_kwDODaTcLs8AAAABB4UK5Q", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/breaks-API", "name": "breaks-API", "color": "FBCA04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-01-25T01:26:42Z", "updated_at": "2024-01-25T18:43:22Z", "closed_at": "2024-01-25T01:57:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1495", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1495", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1495.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1495.patch", "merged_at": "2024-01-25T01:57:56Z"}, "body": "Note this is an API break for users of heapless because we expose this in our own public API and they need to match the types and such. We should probably constrain this problem more by reexporting the relevant crates, so pgrx's users can simply use the reexported types and traits.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1495/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1494", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1494/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1494/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1494/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1494", "id": 2099363318, "node_id": "PR_kwDODaTcLs5lAtyn", "number": 1494, "title": "Remove atty", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-25T00:43:18Z", "updated_at": "2024-01-28T00:46:10Z", "closed_at": "2024-01-25T01:10:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1494", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1494", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1494.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1494.patch", "merged_at": "2024-01-25T01:10:21Z"}, "body": "Requires tweaking owo-color features to reduce exposure via transitive deps.\r\n\r\nAddresses a security alert that essentially doesn't apply to pgrx due to being Windows-only, but still annoys me to have on my dashboard.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1494/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1493", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1493/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1493/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1493/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1493", "id": 2099319664, "node_id": "PR_kwDODaTcLs5lAkXN", "number": 1493, "title": "Bump shlex 1.3 to reduce escaping concerns", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-24T23:54:31Z", "updated_at": "2024-01-25T00:27:58Z", "closed_at": "2024-01-25T00:27:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1493", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1493", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1493.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1493.patch", "merged_at": "2024-01-25T00:27:58Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1493/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1492", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1492/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1492/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1492/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1492", "id": 2099277115, "node_id": "PR_kwDODaTcLs5lAbMR", "number": 1492, "title": "Use bindgen 0.69", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-24T23:09:26Z", "updated_at": "2024-01-24T23:18:00Z", "closed_at": "2024-01-24T23:17:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1492", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1492", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1492.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1492.patch", "merged_at": "2024-01-24T23:17:56Z"}, "body": "Nice.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1492/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1492/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1490", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1490/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1490/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1490/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1490", "id": 2097833546, "node_id": "PR_kwDODaTcLs5k7eZa", "number": 1490, "title": "Replace dependency on `dirs` with `home`", "user": {"login": "the-kenny", "id": 31167, "node_id": "MDQ6VXNlcjMxMTY3", "avatar_url": "https://avatars.githubusercontent.com/u/31167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/the-kenny", "html_url": "https://github.com/the-kenny", "followers_url": "https://api.github.com/users/the-kenny/followers", "following_url": "https://api.github.com/users/the-kenny/following{/other_user}", "gists_url": "https://api.github.com/users/the-kenny/gists{/gist_id}", "starred_url": "https://api.github.com/users/the-kenny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/the-kenny/subscriptions", "organizations_url": "https://api.github.com/users/the-kenny/orgs", "repos_url": "https://api.github.com/users/the-kenny/repos", "events_url": "https://api.github.com/users/the-kenny/events{/privacy}", "received_events_url": "https://api.github.com/users/the-kenny/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-01-24T09:34:08Z", "updated_at": "2024-01-30T23:42:20Z", "closed_at": "2024-01-29T21:36:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1490", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1490", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1490.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1490.patch", "merged_at": "2024-01-29T21:36:45Z"}, "body": "\r\nThe `dirs` crate recently [started depending](https://github.com/dirs-dev/dirs-sys-rs/commit/e169da7af901eb621e5d244efe960f4da8ed150d) on the `options-ext` crate\r\nwhich uses copyleft license (MPL). This (unnecessary) dependency causes\r\nlicensing issues for various users by possibly poisoning the dependency\r\ntree of their projects.\r\n\r\nThis change replaces the `dirs` crate with `home`. The `home` crate is\r\nmaintained by the cargo team and offers the same functionality.\r\n\r\nAs a bonus, this change also results in a slightly smaller dependency\r\ntree.\r\n\r\n- https://github.com/artichoke/artichoke/pull/2564\r\n- https://github.com/pyrossh/rust-embed/issues/231\r\n- https://github.com/juhaku/utoipa/issues/834\r\n- https://github.com/harryfei/which-rs/pull/78", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1490/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1468", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1468/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1468/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1468/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1468", "id": 2070766845, "node_id": "PR_kwDODaTcLs5jfinn", "number": 1468, "title": "remove dlopen hack", "user": {"login": "usamoi", "id": 79277854, "node_id": "MDQ6VXNlcjc5Mjc3ODU0", "avatar_url": "https://avatars.githubusercontent.com/u/79277854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/usamoi", "html_url": "https://github.com/usamoi", "followers_url": "https://api.github.com/users/usamoi/followers", "following_url": "https://api.github.com/users/usamoi/following{/other_user}", "gists_url": "https://api.github.com/users/usamoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/usamoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/usamoi/subscriptions", "organizations_url": "https://api.github.com/users/usamoi/orgs", "repos_url": "https://api.github.com/users/usamoi/repos", "events_url": "https://api.github.com/users/usamoi/events{/privacy}", "received_events_url": "https://api.github.com/users/usamoi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4421126885, "node_id": "LA_kwDODaTcLs8AAAABB4UK5Q", "url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels/breaks-API", "name": "breaks-API", "color": "FBCA04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 25, "created_at": "2024-01-08T16:04:44Z", "updated_at": "2024-02-07T20:58:51Z", "closed_at": "2024-02-07T20:54:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1468", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1468", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1468.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1468.patch", "merged_at": "2024-02-07T20:54:13Z"}, "body": "Resolves https://github.com/pgcentralfoundation/pgrx/issues/1369\r\n\r\nMotivation of this PR:\r\n* no need to compile `cargo-pgrx` after upgrading compiler\r\n* make it possible to support `binstall`\r\n\r\nThis PR:\r\n* recompilation occurs even if we use a nightly toolchain.\r\n* schema is generated by `cargo run --bin pgrx_embed_${ext_name}` , instead of using `libloading` crate (unused symbols are removed by linker, so it compiles)\r\n* removes compiler version check\r\n* removes codes about stub\r\n* removes unnecessary metadata traits\r\n\r\nThis is a breaking change: users need to write `pgrx::pgrx_embed!();` to `src/pgrx_embed.rs` and add that `[[bin]]` to the `Cargo.toml`, otherwise schema generation will report an error.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1468/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 2}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1468/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1449", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1449/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1449/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1449/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1449", "id": 2057823717, "node_id": "PR_kwDODaTcLs5i2mcM", "number": 1449, "title": "Use native-certs with ureq", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-12-27T22:41:54Z", "updated_at": "2023-12-27T23:01:35Z", "closed_at": "2023-12-27T23:01:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1449", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1449", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1449.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1449.patch", "merged_at": "2023-12-27T23:01:28Z"}, "body": "I at first had settled down to write up something using `rustls_native_certs` but then I actually noticed ureq simply enables this with a feature.\r\n\r\nThis should fully solve #1430 for both features now (rustls and native-tls).", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1449/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1449/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1448", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1448/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1448/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1448/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1448", "id": 2057789051, "node_id": "PR_kwDODaTcLs5i2fIE", "number": 1448, "title": "Allow to build cargo-pgrx either with rustls (default) or native-tls", "user": {"login": "jirutka", "id": 949228, "node_id": "MDQ6VXNlcjk0OTIyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/949228?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jirutka", "html_url": "https://github.com/jirutka", "followers_url": "https://api.github.com/users/jirutka/followers", "following_url": "https://api.github.com/users/jirutka/following{/other_user}", "gists_url": "https://api.github.com/users/jirutka/gists{/gist_id}", "starred_url": "https://api.github.com/users/jirutka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jirutka/subscriptions", "organizations_url": "https://api.github.com/users/jirutka/orgs", "repos_url": "https://api.github.com/users/jirutka/repos", "events_url": "https://api.github.com/users/jirutka/events{/privacy}", "received_events_url": "https://api.github.com/users/jirutka/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-12-27T21:33:56Z", "updated_at": "2023-12-27T23:52:18Z", "closed_at": "2023-12-27T22:31:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1448", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1448", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1448.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1448.patch", "merged_at": "2023-12-27T22:31:08Z"}, "body": "ureq defines `default = [\"tls\", \"gzip\"]`, so \"tls\" feature (rustls) is currently always enabled even when native-tls is preferred, i.e. both rustls and native-tls is built if openssl headers are available and the user cannot opt-out from using rustls. This also disallows building cargo-pgrx on platforms not supported by the ring crate (dependency of rustls).\r\n\r\nThis should also solve #1430 if `cargo-pgrx` is built with `--no-default-features --features native-tls`.\r\n\r\nSupersedes #1442", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1448/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504", "repository_url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/labels{/name}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/comments", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/events", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504", "id": 2108865504, "node_id": "PR_kwDODaTcLs5lgW_d", "number": 1504, "title": "Add license check", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-01-30T22:04:14Z", "updated_at": "2024-01-31T20:59:17Z", "closed_at": "2024-01-31T19:25:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1504", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504.patch", "merged_at": "2024-01-31T19:25:15Z"}, "body": "This uses an allow list, mostly-duplicates the deny.toml, and runs a simple shell script instead of using the action, so that the pgrx library can have an independently tracked set of licenses. This is done because the dependencies of that are liable to be actually linked into extensions as dynamic libraries.\r\n\r\nIn order to let the deny.toml have accurate reporting, the example extension crates are marked as being unpublished. I also tweaked the version on them because I didn't care about the version field in my regex-replace.\r\n\r\nCloses #1502.", "reactions": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1504", "id": 1702981597, "node_id": "PR_kwDODaTcLs5lgW_d", "html_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504", "diff_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504.diff", "patch_url": "https://github.com/pgcentralfoundation/pgrx/pull/1504.patch", "issue_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504", "number": 1504, "state": "closed", "locked": false, "title": "Add license check", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "This uses an allow list, mostly-duplicates the deny.toml, and runs a simple shell script instead of using the action, so that the pgrx library can have an independently tracked set of licenses. This is done because the dependencies of that are liable to be actually linked into extensions as dynamic libraries.\r\n\r\nIn order to let the deny.toml have accurate reporting, the example extension crates are marked as being unpublished. I also tweaked the version on them because I didn't care about the version field in my regex-replace.\r\n\r\nCloses #1502.", "created_at": "2024-01-30T22:04:14Z", "updated_at": "2024-01-31T20:59:17Z", "closed_at": "2024-01-31T19:25:15Z", "merged_at": "2024-01-31T19:25:15Z", "merge_commit_sha": "9eb5c18e64e51750352c44b2319bf17ab059b5cb", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1504/commits", "review_comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1504/comments", "review_comment_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/comments", "statuses_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/statuses/0dcb9f4967884e6ee8911aefd3228fe31edb7b8f", "head": {"label": "workingjubilee:add-license-check", "ref": "add-license-check", "sha": "0dcb9f4967884e6ee8911aefd3228fe31edb7b8f", "user": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 498824561, "node_id": "R_kgDOHbt1cQ", "name": "pgrx", "full_name": "workingjubilee/pgrx", "private": false, "owner": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/workingjubilee/pgrx", "description": "Build Postgres Extensions with Rust!", "fork": true, "url": "https://api.github.com/repos/workingjubilee/pgrx", "forks_url": "https://api.github.com/repos/workingjubilee/pgrx/forks", "keys_url": "https://api.github.com/repos/workingjubilee/pgrx/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/workingjubilee/pgrx/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/workingjubilee/pgrx/teams", "hooks_url": "https://api.github.com/repos/workingjubilee/pgrx/hooks", "issue_events_url": "https://api.github.com/repos/workingjubilee/pgrx/issues/events{/number}", "events_url": "https://api.github.com/repos/workingjubilee/pgrx/events", "assignees_url": "https://api.github.com/repos/workingjubilee/pgrx/assignees{/user}", "branches_url": "https://api.github.com/repos/workingjubilee/pgrx/branches{/branch}", "tags_url": "https://api.github.com/repos/workingjubilee/pgrx/tags", "blobs_url": "https://api.github.com/repos/workingjubilee/pgrx/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/workingjubilee/pgrx/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/workingjubilee/pgrx/git/refs{/sha}", "trees_url": "https://api.github.com/repos/workingjubilee/pgrx/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/workingjubilee/pgrx/statuses/{sha}", "languages_url": "https://api.github.com/repos/workingjubilee/pgrx/languages", "stargazers_url": "https://api.github.com/repos/workingjubilee/pgrx/stargazers", "contributors_url": "https://api.github.com/repos/workingjubilee/pgrx/contributors", "subscribers_url": "https://api.github.com/repos/workingjubilee/pgrx/subscribers", "subscription_url": "https://api.github.com/repos/workingjubilee/pgrx/subscription", "commits_url": "https://api.github.com/repos/workingjubilee/pgrx/commits{/sha}", "git_commits_url": "https://api.github.com/repos/workingjubilee/pgrx/git/commits{/sha}", "comments_url": "https://api.github.com/repos/workingjubilee/pgrx/comments{/number}", "issue_comment_url": "https://api.github.com/repos/workingjubilee/pgrx/issues/comments{/number}", "contents_url": "https://api.github.com/repos/workingjubilee/pgrx/contents/{+path}", "compare_url": "https://api.github.com/repos/workingjubilee/pgrx/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/workingjubilee/pgrx/merges", "archive_url": "https://api.github.com/repos/workingjubilee/pgrx/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/workingjubilee/pgrx/downloads", "issues_url": "https://api.github.com/repos/workingjubilee/pgrx/issues{/number}", "pulls_url": "https://api.github.com/repos/workingjubilee/pgrx/pulls{/number}", "milestones_url": "https://api.github.com/repos/workingjubilee/pgrx/milestones{/number}", "notifications_url": "https://api.github.com/repos/workingjubilee/pgrx/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/workingjubilee/pgrx/labels{/name}", "releases_url": "https://api.github.com/repos/workingjubilee/pgrx/releases{/id}", "deployments_url": "https://api.github.com/repos/workingjubilee/pgrx/deployments", "created_at": "2022-06-01T16:59:33Z", "updated_at": "2023-04-17T21:33:11Z", "pushed_at": "2025-12-30T19:39:02Z", "git_url": "git://github.com/workingjubilee/pgrx.git", "ssh_url": "git@github.com:workingjubilee/pgrx.git", "clone_url": "https://github.com/workingjubilee/pgrx.git", "svn_url": "https://github.com/workingjubilee/pgrx", "homepage": "", "size": 38116, "stargazers_count": 0, "watchers_count": 0, "language": "Rust", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "develop"}}, "base": {"label": "pgcentralfoundation:develop", "ref": "develop", "sha": "38b749bea26b08c20f00f2719690e9357287ca09", "user": {"login": "pgcentralfoundation", "id": 136124948, "node_id": "O_kgDOCB0aFA", "avatar_url": "https://avatars.githubusercontent.com/u/136124948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pgcentralfoundation", "html_url": "https://github.com/pgcentralfoundation", "followers_url": "https://api.github.com/users/pgcentralfoundation/followers", "following_url": "https://api.github.com/users/pgcentralfoundation/following{/other_user}", "gists_url": "https://api.github.com/users/pgcentralfoundation/gists{/gist_id}", "starred_url": "https://api.github.com/users/pgcentralfoundation/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pgcentralfoundation/subscriptions", "organizations_url": "https://api.github.com/users/pgcentralfoundation/orgs", "repos_url": "https://api.github.com/users/pgcentralfoundation/repos", "events_url": "https://api.github.com/users/pgcentralfoundation/events{/privacy}", "received_events_url": "https://api.github.com/users/pgcentralfoundation/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 228908078, "node_id": "MDEwOlJlcG9zaXRvcnkyMjg5MDgwNzg=", "name": "pgrx", "full_name": "pgcentralfoundation/pgrx", "private": false, "owner": {"login": "pgcentralfoundation", "id": 136124948, "node_id": "O_kgDOCB0aFA", "avatar_url": "https://avatars.githubusercontent.com/u/136124948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pgcentralfoundation", "html_url": "https://github.com/pgcentralfoundation", "followers_url": "https://api.github.com/users/pgcentralfoundation/followers", "following_url": "https://api.github.com/users/pgcentralfoundation/following{/other_user}", "gists_url": "https://api.github.com/users/pgcentralfoundation/gists{/gist_id}", "starred_url": "https://api.github.com/users/pgcentralfoundation/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pgcentralfoundation/subscriptions", "organizations_url": "https://api.github.com/users/pgcentralfoundation/orgs", "repos_url": "https://api.github.com/users/pgcentralfoundation/repos", "events_url": "https://api.github.com/users/pgcentralfoundation/events{/privacy}", "received_events_url": "https://api.github.com/users/pgcentralfoundation/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/pgcentralfoundation/pgrx", "description": "Build Postgres Extensions with Rust!", "fork": false, "url": "https://api.github.com/repos/pgcentralfoundation/pgrx", "forks_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/forks", "keys_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/teams", "hooks_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/hooks", "issue_events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/events{/number}", "events_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/events", "assignees_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/assignees{/user}", "branches_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/branches{/branch}", "tags_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/tags", "blobs_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/git/refs{/sha}", "trees_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/statuses/{sha}", "languages_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/languages", "stargazers_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/stargazers", "contributors_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/contributors", "subscribers_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/subscribers", "subscription_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/subscription", "commits_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/commits{/sha}", "git_commits_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/git/commits{/sha}", "comments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/comments{/number}", "issue_comment_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/comments{/number}", "contents_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/contents/{+path}", "compare_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/merges", "archive_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/downloads", "issues_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues{/number}", "pulls_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls{/number}", "milestones_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/milestones{/number}", "notifications_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/labels{/name}", "releases_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/releases{/id}", "deployments_url": "https://api.github.com/repos/pgcentralfoundation/pgrx/deployments", "created_at": "2019-12-18T19:30:29Z", "updated_at": "2026-01-21T17:55:02Z", "pushed_at": "2025-12-30T19:38:58Z", "git_url": "git://github.com/pgcentralfoundation/pgrx.git", "ssh_url": "git@github.com:pgcentralfoundation/pgrx.git", "clone_url": "https://github.com/pgcentralfoundation/pgrx.git", "svn_url": "https://github.com/pgcentralfoundation/pgrx", "homepage": "", "size": 38180, "stargazers_count": 4338, "watchers_count": 4338, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 302, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 333, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["postgres", "postgresql", "postgresql-extension", "rust", "rustlang"], "visibility": "public", "forks": 302, "open_issues": 333, "watchers": 4338, "default_branch": "develop"}}, "_links": {"self": {"href": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1504"}, "html": {"href": "https://github.com/pgcentralfoundation/pgrx/pull/1504"}, "issue": {"href": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504"}, "comments": {"href": "https://api.github.com/repos/pgcentralfoundation/pgrx/issues/1504/comments"}, "review_comments": {"href": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1504/comments"}, "review_comment": {"href": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/pgcentralfoundation/pgrx/pulls/1504/commits"}, "statuses": {"href": "https://api.github.com/repos/pgcentralfoundation/pgrx/statuses/0dcb9f4967884e6ee8911aefd3228fe31edb7b8f"}}, "author_association": "MEMBER", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 1, "review_comments": 3, "maintainer_can_modify": false, "commits": 13, "additions": 321, "deletions": 24, "changed_files": 30}}