{"window": ["2023-01-17T18:28:06.492647+00:00", "2023-06-05T21:40:30.175823+00:00"], "repo_slug": "scylladb/scylla-rust-driver", "candidates": [{"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/735", "id": 1736691428, "node_id": "PR_kwDOEj0F685R7AkU", "number": 735, "title": "connection: Add configurable TCP keepalives", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-01T16:28:05Z", "updated_at": "2023-07-24T09:56:43Z", "closed_at": "2023-06-05T13:47:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/735", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/735", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/735.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/735.patch", "merged_at": "2023-06-05T13:47:19Z"}, "body": "Similarly to other drivers, support for TCP-layer keepalives is added. This is possible, because tokio::net::TcpStream finally implements `AsFd`. This enables creating `socket2::SockRef`, which in turn allows for configuring the underlying socket.\r\nFixes: #132 \r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/723", "id": 1704738730, "node_id": "PR_kwDOEj0F685QPGOD", "number": 723, "title": "Fixes chrono vulnerability caused by time dependency", "user": {"login": "sagoez", "id": 39674930, "node_id": "MDQ6VXNlcjM5Njc0OTMw", "avatar_url": "https://avatars.githubusercontent.com/u/39674930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sagoez", "html_url": "https://github.com/sagoez", "followers_url": "https://api.github.com/users/sagoez/followers", "following_url": "https://api.github.com/users/sagoez/following{/other_user}", "gists_url": "https://api.github.com/users/sagoez/gists{/gist_id}", "starred_url": "https://api.github.com/users/sagoez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sagoez/subscriptions", "organizations_url": "https://api.github.com/users/sagoez/orgs", "repos_url": "https://api.github.com/users/sagoez/repos", "events_url": "https://api.github.com/users/sagoez/events{/privacy}", "received_events_url": "https://api.github.com/users/sagoez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-05-10T23:12:52Z", "updated_at": "2023-05-11T16:04:16Z", "closed_at": "2023-05-11T16:04:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/723", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/723", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/723.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/723.patch", "merged_at": "2023-05-11T16:04:15Z"}, "body": "Fixes #722 \r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/667", "id": 1632402857, "node_id": "PR_kwDOEj0F685Md2Yv", "number": 667, "title": "load_balancing: allow to disable shuffling replicas", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-20T15:54:46Z", "updated_at": "2023-03-20T17:51:39Z", "closed_at": "2023-03-20T17:51:39Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/667", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/667", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/667.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/667.patch", "merged_at": "2023-03-20T17:51:39Z"}, "body": "## Pre-review checklist\r\n\r\nWhen token awareness is enabled in the default load balancing policy, it chooses a random replica to send the query to. This is supposed to balance the load however in some scenarios it might be more beneficial to always choose the same replica - for example, reads might benefit from better caching. This PR adds an option to disable this behavior, which will cause the load balancing policy to always choose nodes in the same order for each replica set.\r\n\r\nThis feature was inspired by similar functionality in the cpp driver.\r\n\r\nFixes: #634\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/628", "id": 1532528691, "node_id": "PR_kwDOEj0F685HV5cI", "number": 628, "title": "scylla-macros: increase hygiene", "user": {"login": "wmitros", "id": 44506288, "node_id": "MDQ6VXNlcjQ0NTA2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/44506288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wmitros", "html_url": "https://github.com/wmitros", "followers_url": "https://api.github.com/users/wmitros/followers", "following_url": "https://api.github.com/users/wmitros/following{/other_user}", "gists_url": "https://api.github.com/users/wmitros/gists{/gist_id}", "starred_url": "https://api.github.com/users/wmitros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wmitros/subscriptions", "organizations_url": "https://api.github.com/users/wmitros/orgs", "repos_url": "https://api.github.com/users/wmitros/repos", "events_url": "https://api.github.com/users/wmitros/events{/privacy}", "received_events_url": "https://api.github.com/users/wmitros/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-13T15:54:08Z", "updated_at": "2023-01-26T10:45:22Z", "closed_at": "2023-01-26T10:45:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/628", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/628", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/628.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/628.patch", "merged_at": "2023-01-26T10:45:22Z"}, "body": "While trying to make my macros at https://github.com/wmitros/scylla-rust-udf/pull/1 more hygienic, I noticed that I also need the macros here to be more hygienic.\r\nI'm posting this mostly to find out if I'm heading in the right direction with the changes, although this patch does pass tests if it turns out being close to a state ready for merging\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n~~- [ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/625", "id": 1530515927, "node_id": "PR_kwDOEj0F685HPFAD", "number": 625, "title": "caching_session: use custom hasher instead of ahash in tests", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-01-12T11:01:55Z", "updated_at": "2023-01-21T01:10:54Z", "closed_at": "2023-01-21T01:10:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/625", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/625", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/625.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/625.patch", "merged_at": "2023-01-21T01:10:54Z"}, "body": "Currently, we are importing the `ahash` crate for only one reason: to test that CachingSession works with custom hasher implementations. The custom hasher quality doesn't matter at all in this test, so it's very easy to write own implementation for testing purposes, rendering the dependency on `ahash` obsolete.\r\n\r\nThe change was prompted by a report from one of our users which use a fork of the driver and managed to trigger a bug in cargo - most likely this one: https://github.com/rust-lang/cargo/issues/7463 . The most likely cause was that the project specified a different, non-compatible version of ahash in the dependencies than the one in scylla's dev-dependencies. While it doesn't fix the cargo bug and it can still happen with other dev-dependencies, the bug should no longer happen with conflicting `ahash`. Moreover, removing an unneeded depdencency from a project is a good motivation in itself.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/622", "id": 1521020474, "node_id": "PR_kwDOEj0F685GvG05", "number": 622, "title": "secrecy: Features and dependencies cleanup", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-05T16:27:52Z", "updated_at": "2023-01-26T11:05:35Z", "closed_at": "2023-01-26T10:01:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/622", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/622", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/622.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/622.patch", "merged_at": "2023-01-26T10:01:32Z"}, "body": "First, secrecy is now built as `scylla-cql` dependency only if the corresponding feature is requested. Secondly, the corresponding feature that turns on the secrecy-related serialization has been added to scylla crate.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/617", "id": 1514688662, "node_id": "PR_kwDOEj0F685GZeN0", "number": 617, "title": "Identify nodes by host id instead of IPs", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-12-30T17:57:52Z", "updated_at": "2023-01-18T16:03:05Z", "closed_at": "2023-01-18T15:51:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/617", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/617", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/617.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/617.patch", "merged_at": "2023-01-18T15:51:36Z"}, "body": "As a corresponding change has been merged into Scylla itself, we should adjust as well.\r\nMoreover, for Serverless Cloud host IDs are the only valid way of identifying nodes.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/614", "id": 1494731081, "node_id": "PR_kwDOEj0F685FWJ-1", "number": 614, "title": "Serverless support", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/1", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1/labels", "id": 9009426, "node_id": "MI_kwDOEj0F684AiXkS", "number": 1, "title": "0.8.0", "description": "", "creator": {"login": "mykaul", "id": 4655593, "node_id": "MDQ6VXNlcjQ2NTU1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4655593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mykaul", "html_url": "https://github.com/mykaul", "followers_url": "https://api.github.com/users/mykaul/followers", "following_url": "https://api.github.com/users/mykaul/following{/other_user}", "gists_url": "https://api.github.com/users/mykaul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mykaul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mykaul/subscriptions", "organizations_url": "https://api.github.com/users/mykaul/orgs", "repos_url": "https://api.github.com/users/mykaul/repos", "events_url": "https://api.github.com/users/mykaul/events{/privacy}", "received_events_url": "https://api.github.com/users/mykaul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2023-02-06T10:12:47Z", "updated_at": "2023-03-23T12:32:51Z", "due_on": "2023-03-15T00:00:00Z", "closed_at": "2023-03-23T12:32:51Z"}, "comments": 6, "created_at": "2022-12-13T17:07:12Z", "updated_at": "2023-04-26T12:29:45Z", "closed_at": "2023-03-08T16:50:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/614", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/614", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/614.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/614.patch", "merged_at": "2023-03-08T16:50:34Z"}, "body": "This PR adds a basic serverless Scylla Cloud support for our driver. It contains:\r\n- parsing and validation of cloud config yaml, with tests\r\n- identifying nodes internally by host ID instead of IP addresses _[EDIT: this is now also present in #617 , atop which this PR was rebased]_\r\n- tidy split of SessionBuilder into two modes: Default and Cloud, which prevents weird user configuration, while preserving API compatibility\r\n- rework of several flows in code in order to pass information necessary for setting up SNI in TLS connection to cloud proxy\r\n- address translation: internal nodes' IPs are translated into IPs of proxies in their DCs\r\n- encapsulation of SslContext into SslConfig along with similar data\r\n- conditional compilation of all cloud-related stuff under `cloud` feature\r\n\r\nSo far tested with ccm, on a single dc cluster.\r\nUPDATE: tested on a cloud test cluster.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/612", "id": 1474288458, "node_id": "PR_kwDOEj0F685EN8zS", "number": 612, "title": "transport: load balancing module refactor", "user": {"login": "havaker", "id": 41525193, "node_id": "MDQ6VXNlcjQxNTI1MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/41525193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/havaker", "html_url": "https://github.com/havaker", "followers_url": "https://api.github.com/users/havaker/followers", "following_url": "https://api.github.com/users/havaker/following{/other_user}", "gists_url": "https://api.github.com/users/havaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/havaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/havaker/subscriptions", "organizations_url": "https://api.github.com/users/havaker/orgs", "repos_url": "https://api.github.com/users/havaker/repos", "events_url": "https://api.github.com/users/havaker/events{/privacy}", "received_events_url": "https://api.github.com/users/havaker/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/1", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1/labels", "id": 9009426, "node_id": "MI_kwDOEj0F684AiXkS", "number": 1, "title": "0.8.0", "description": "", "creator": {"login": "mykaul", "id": 4655593, "node_id": "MDQ6VXNlcjQ2NTU1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4655593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mykaul", "html_url": "https://github.com/mykaul", "followers_url": "https://api.github.com/users/mykaul/followers", "following_url": "https://api.github.com/users/mykaul/following{/other_user}", "gists_url": "https://api.github.com/users/mykaul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mykaul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mykaul/subscriptions", "organizations_url": "https://api.github.com/users/mykaul/orgs", "repos_url": "https://api.github.com/users/mykaul/repos", "events_url": "https://api.github.com/users/mykaul/events{/privacy}", "received_events_url": "https://api.github.com/users/mykaul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2023-02-06T10:12:47Z", "updated_at": "2023-03-23T12:32:51Z", "due_on": "2023-03-15T00:00:00Z", "closed_at": "2023-03-23T12:32:51Z"}, "comments": 29, "created_at": "2022-12-04T00:12:31Z", "updated_at": "2023-03-17T15:42:10Z", "closed_at": "2023-03-17T14:25:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/612", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/612", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/612.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/612.patch", "merged_at": "2023-03-17T14:25:44Z"}, "body": "## Description\r\n\r\nThis is the third attempt to refactor this module;)\r\n\r\n#### Replica set calculation was moved to a separate module (`transport::locator`).\r\n\r\nReplica set calculation is done by a module originally written by @cvybhu - `transport::locator::replication_info`. `struct ReplicationData` lives in that module, and provides a set of functions that allow calculating of `SimpleStrategy` & `NetworkTopologyStrategy` replica lists.\r\n\r\nTo make load balancing fast, precomputing replica sets is required. This is done by another of @cvybhu's modules - `transport::locator::precomputed_replicas`. `precomputed_replicas::PrecomputedReplicas` is a struct that precomputes replica lists of a given strategies, and provides O(1) access to desired replica slices.\r\n\r\n`locator::ReplicaLocator` combines the functionality of the previously mentioned modules, and provides a unified API for getting precomputed or calculated on the fly replica sets. Representing replica sets by a custom `ReplicaSet` type allowed creating an API that supported optional limiting replicas to a single data center (and allocation-free creation, getting & iteration through precomputed replica sets). \r\n\r\nThings left for a follow-up:\r\n- A way to configure which strategies need replica set precomputation\r\n\r\n#### `LoadBalancingPolicy` interface was changed.\r\n\r\n`plan` was split to `pick` and `fallback` methods. This allows to better optimize the most common case, where only one node from the load balancing plan is needed. Changes required in query execution code were minimized by providing a lazy chaining iterator `ltransport::load_balancing::plan::Plan`. This iterator's first element is a node returned by the `LoadBalancingPolicy::pick` function, the next items come from `LoadBalancingPolicy::fallback` iterator. Falback method is called lazily - only when second+ element of the `Plan` iterator is needed.\r\n\r\nThe following methods were added:\r\n```rust\r\nfn on_query_success(&self, query: &QueryInfo, latency: Duration, node: NodeRef<_'>);\r\nfn on_query_error(&self, query: &QueryInfo, latency: Duration, node: NodeRef<_'>, error: &QueryError);\r\n```\r\nThe motivation for adding them was the ability to contain the logic of latency-aware policy inside some load balancing policy.\r\n\r\n#### Default policy was created.\r\n\r\nDefault policy supports token and data center awareness. It also has a logic to do a data center failover.\r\n\r\nThings left for a follow-up:\r\n- LWT routing support\r\n\r\n#### Latency aware policy was merged with the default one\r\n\r\nMechanisms used only by latency aware policy were removed (e.g. `TimestampedAverage` living in `Node`).\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/408", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/592", "id": 1443644701, "node_id": "PR_kwDOEj0F685Cm2D-", "number": 592, "title": "Execution profiles", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2022-11-10T10:32:13Z", "updated_at": "2023-02-20T08:38:00Z", "closed_at": "2023-02-09T15:09:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/592", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/592", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/592.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/592.patch", "merged_at": "2023-02-09T15:09:44Z"}, "body": "We introduce execution profiles, a concept analogous to that found in other drivers. They enable batch changes of configuration options for queries, as well as for whole sessions.\r\nFixes: #354\r\n\r\n## Considerations yet to be done\r\n\r\n- Other drivers support saving execution profiles to a file and loading them from there. Do we want such a feature?\r\n- There is also an idea that a file could be set up to be read periodically; once it is read, the execution profile the file contains is loaded and reapplied to all statements and sessions associated with its handle. This way we would enable changing execution profiles during runtime, without changing code at all. Is this feature worth it?\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}], "chosen_pr": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/735", "id": 1736691428, "node_id": "PR_kwDOEj0F685R7AkU", "number": 735, "title": "connection: Add configurable TCP keepalives", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-01T16:28:05Z", "updated_at": "2023-07-24T09:56:43Z", "closed_at": "2023-06-05T13:47:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/735", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/735", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/735.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/735.patch", "merged_at": "2023-06-05T13:47:19Z"}, "body": "Similarly to other drivers, support for TCP-layer keepalives is added. This is possible, because tokio::net::TcpStream finally implements `AsFd`. This enables creating `socket2::SockRef`, which in turn allows for configuring the underlying socket.\r\nFixes: #132 \r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, "chosen_detail": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/735", "id": 1374423316, "node_id": "PR_kwDOEj0F685R7AkU", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/735", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/735.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/735.patch", "issue_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735", "number": 735, "state": "closed", "locked": false, "title": "connection: Add configurable TCP keepalives", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "Similarly to other drivers, support for TCP-layer keepalives is added. This is possible, because tokio::net::TcpStream finally implements `AsFd`. This enables creating `socket2::SockRef`, which in turn allows for configuring the underlying socket.\r\nFixes: #132 \r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "created_at": "2023-06-01T16:28:05Z", "updated_at": "2023-07-24T09:56:43Z", "closed_at": "2023-06-05T13:47:20Z", "merged_at": "2023-06-05T13:47:19Z", "merge_commit_sha": "c033ab381719430fe1263f9946fc25ababfe2790", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/735/commits", "review_comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/735/comments", "review_comment_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/comments", "statuses_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/statuses/033e56fc7f9e5701615cb1b3250e56a35ea2f6f1", "head": {"label": "wprzytula:tcp_keepalives", "ref": "tcp_keepalives", "sha": "033e56fc7f9e5701615cb1b3250e56a35ea2f6f1", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 511436591, "node_id": "R_kgDOHnvnLw", "name": "scylla-rust-driver", "full_name": "wprzytula/scylla-rust-driver", "private": false, "owner": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/wprzytula/scylla-rust-driver", "description": "Async CQL driver for Rust, optimized for Scylla!", "fork": true, "url": "https://api.github.com/repos/wprzytula/scylla-rust-driver", "forks_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/forks", "keys_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/teams", "hooks_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/hooks", "issue_events_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/issues/events{/number}", "events_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/events", "assignees_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/assignees{/user}", "branches_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/branches{/branch}", "tags_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/tags", "blobs_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/git/refs{/sha}", "trees_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/statuses/{sha}", "languages_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/languages", "stargazers_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/stargazers", "contributors_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/contributors", "subscribers_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/subscribers", "subscription_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/subscription", "commits_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/commits{/sha}", "git_commits_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/git/commits{/sha}", "comments_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/comments{/number}", "issue_comment_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/issues/comments{/number}", "contents_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/contents/{+path}", "compare_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/merges", "archive_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/downloads", "issues_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/issues{/number}", "pulls_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/pulls{/number}", "milestones_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/milestones{/number}", "notifications_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/labels{/name}", "releases_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/releases{/id}", "deployments_url": "https://api.github.com/repos/wprzytula/scylla-rust-driver/deployments", "created_at": "2022-07-07T08:00:15Z", "updated_at": "2026-01-11T13:27:34Z", "pushed_at": "2026-01-20T20:49:36Z", "git_url": "git://github.com/wprzytula/scylla-rust-driver.git", "ssh_url": "git@github.com:wprzytula/scylla-rust-driver.git", "clone_url": "https://github.com/wprzytula/scylla-rust-driver.git", "svn_url": "https://github.com/wprzytula/scylla-rust-driver", "homepage": null, "size": 9115, "stargazers_count": 1, "watchers_count": 1, "language": "Rust", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 1, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 1, "watchers": 1, "default_branch": "main"}}, "base": {"label": "scylladb:main", "ref": "main", "sha": "ad0d2f54757608f5af3b581053385e899a6d8500", "user": {"login": "scylladb", "id": 14364730, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE0MzY0NzMw", "avatar_url": "https://avatars.githubusercontent.com/u/14364730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scylladb", "html_url": "https://github.com/scylladb", "followers_url": "https://api.github.com/users/scylladb/followers", "following_url": "https://api.github.com/users/scylladb/following{/other_user}", "gists_url": "https://api.github.com/users/scylladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/scylladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scylladb/subscriptions", "organizations_url": "https://api.github.com/users/scylladb/orgs", "repos_url": "https://api.github.com/users/scylladb/repos", "events_url": "https://api.github.com/users/scylladb/events{/privacy}", "received_events_url": "https://api.github.com/users/scylladb/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 305989099, "node_id": "MDEwOlJlcG9zaXRvcnkzMDU5ODkwOTk=", "name": "scylla-rust-driver", "full_name": "scylladb/scylla-rust-driver", "private": false, "owner": {"login": "scylladb", "id": 14364730, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE0MzY0NzMw", "avatar_url": "https://avatars.githubusercontent.com/u/14364730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scylladb", "html_url": "https://github.com/scylladb", "followers_url": "https://api.github.com/users/scylladb/followers", "following_url": "https://api.github.com/users/scylladb/following{/other_user}", "gists_url": "https://api.github.com/users/scylladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/scylladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scylladb/subscriptions", "organizations_url": "https://api.github.com/users/scylladb/orgs", "repos_url": "https://api.github.com/users/scylladb/repos", "events_url": "https://api.github.com/users/scylladb/events{/privacy}", "received_events_url": "https://api.github.com/users/scylladb/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/scylladb/scylla-rust-driver", "description": "Async CQL driver for Rust, optimized for ScyllaDB!", "fork": false, "url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "forks_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/forks", "keys_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/teams", "hooks_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/hooks", "issue_events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/events{/number}", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/events", "assignees_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/assignees{/user}", "branches_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/branches{/branch}", "tags_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/tags", "blobs_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/git/refs{/sha}", "trees_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/statuses/{sha}", "languages_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/languages", "stargazers_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/stargazers", "contributors_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/contributors", "subscribers_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/subscribers", "subscription_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/subscription", "commits_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/commits{/sha}", "git_commits_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/git/commits{/sha}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/comments{/number}", "issue_comment_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/comments{/number}", "contents_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/contents/{+path}", "compare_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/merges", "archive_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/downloads", "issues_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues{/number}", "pulls_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls{/number}", "milestones_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones{/number}", "notifications_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels{/name}", "releases_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/releases{/id}", "deployments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/deployments", "created_at": "2020-10-21T10:31:55Z", "updated_at": "2026-01-20T21:33:51Z", "pushed_at": "2026-01-20T21:34:22Z", "git_url": "git://github.com/scylladb/scylla-rust-driver.git", "ssh_url": "git@github.com:scylladb/scylla-rust-driver.git", "clone_url": "https://github.com/scylladb/scylla-rust-driver.git", "svn_url": "https://github.com/scylladb/scylla-rust-driver", "homepage": "", "size": 8964, "stargazers_count": 663, "watchers_count": 663, "language": "Rust", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": true, "has_discussions": false, "forks_count": 146, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 136, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["cql", "driver", "rust", "scylladb"], "visibility": "public", "forks": 146, "open_issues": 136, "watchers": 663, "default_branch": "main"}}, "_links": {"self": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/735"}, "html": {"href": "https://github.com/scylladb/scylla-rust-driver/pull/735"}, "issue": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735"}, "comments": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/comments"}, "review_comments": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/735/comments"}, "review_comment": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/735/commits"}, "statuses": {"href": "https://api.github.com/repos/scylladb/scylla-rust-driver/statuses/033e56fc7f9e5701615cb1b3250e56a35ea2f6f1"}}, "author_association": "COLLABORATOR", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 2, "review_comments": 3, "maintainer_can_modify": false, "commits": 1, "additions": 93, "deletions": 11, "changed_files": 4}}