[{"url": "https://api.github.com/repos/ezrosent/frawk/issues/81", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/81/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/81/events", "html_url": "https://github.com/ezrosent/frawk/pull/81", "id": 1101034119, "node_id": "PR_kwDOC8AIms4w5MML", "number": 81, "title": "Update dependencies", "user": {"login": "ghuls", "id": 1299177, "node_id": "MDQ6VXNlcjEyOTkxNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1299177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghuls", "html_url": "https://github.com/ghuls", "followers_url": "https://api.github.com/users/ghuls/followers", "following_url": "https://api.github.com/users/ghuls/following{/other_user}", "gists_url": "https://api.github.com/users/ghuls/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghuls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghuls/subscriptions", "organizations_url": "https://api.github.com/users/ghuls/orgs", "repos_url": "https://api.github.com/users/ghuls/repos", "events_url": "https://api.github.com/users/ghuls/events{/privacy}", "received_events_url": "https://api.github.com/users/ghuls/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-13T01:51:47Z", "updated_at": "2022-01-15T20:19:20Z", "closed_at": "2022-01-15T20:19:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/81", "html_url": "https://github.com/ezrosent/frawk/pull/81", "diff_url": "https://github.com/ezrosent/frawk/pull/81.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/81.patch", "merged_at": "2022-01-15T20:19:20Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/81/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/81/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/79", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/79/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/79/events", "html_url": "https://github.com/ezrosent/frawk/pull/79", "id": 1031867966, "node_id": "PR_kwDOC8AIms4tdoxd", "number": 79, "title": "chore: added syntax highlighting to awk part", "user": {"login": "0xflotus", "id": 26602940, "node_id": "MDQ6VXNlcjI2NjAyOTQw", "avatar_url": "https://avatars.githubusercontent.com/u/26602940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0xflotus", "html_url": "https://github.com/0xflotus", "followers_url": "https://api.github.com/users/0xflotus/followers", "following_url": "https://api.github.com/users/0xflotus/following{/other_user}", "gists_url": "https://api.github.com/users/0xflotus/gists{/gist_id}", "starred_url": "https://api.github.com/users/0xflotus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0xflotus/subscriptions", "organizations_url": "https://api.github.com/users/0xflotus/orgs", "repos_url": "https://api.github.com/users/0xflotus/repos", "events_url": "https://api.github.com/users/0xflotus/events{/privacy}", "received_events_url": "https://api.github.com/users/0xflotus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-20T22:04:28Z", "updated_at": "2021-10-25T00:57:54Z", "closed_at": "2021-10-25T00:57:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/79", "html_url": "https://github.com/ezrosent/frawk/pull/79", "diff_url": "https://github.com/ezrosent/frawk/pull/79.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/79.patch", "merged_at": "2021-10-25T00:57:54Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/79/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/79/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/78", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/78/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/78/events", "html_url": "https://github.com/ezrosent/frawk/pull/78", "id": 1028332111, "node_id": "PR_kwDOC8AIms4tSkUB", "number": 78, "title": "docs: add mac os specific instructions", "user": {"login": "barakplasma", "id": 62937, "node_id": "MDQ6VXNlcjYyOTM3", "avatar_url": "https://avatars.githubusercontent.com/u/62937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/barakplasma", "html_url": "https://github.com/barakplasma", "followers_url": "https://api.github.com/users/barakplasma/followers", "following_url": "https://api.github.com/users/barakplasma/following{/other_user}", "gists_url": "https://api.github.com/users/barakplasma/gists{/gist_id}", "starred_url": "https://api.github.com/users/barakplasma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/barakplasma/subscriptions", "organizations_url": "https://api.github.com/users/barakplasma/orgs", "repos_url": "https://api.github.com/users/barakplasma/repos", "events_url": "https://api.github.com/users/barakplasma/events{/privacy}", "received_events_url": "https://api.github.com/users/barakplasma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-17T13:56:33Z", "updated_at": "2021-10-18T17:30:23Z", "closed_at": "2021-10-17T20:53:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/78", "html_url": "https://github.com/ezrosent/frawk/pull/78", "diff_url": "https://github.com/ezrosent/frawk/pull/78.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/78.patch", "merged_at": "2021-10-17T20:53:04Z"}, "body": "also needed to add `#![feature(extended_key_value_attributes)]` to `.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.4/src/lib.rs` to get around a build failure on Mac OS\r\n```\r\n   Compiling clap v3.0.0-beta.4\r\nerror[E0658]: arbitrary expressions in key-value attributes are unstable\r\n --> /Users/smichael1/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.4/src/lib.rs:8:10\r\n  |\r\n8 | #![doc = include_str!(\"../README.md\")]\r\n  |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  |\r\n  = note: see issue #78835 <https://github.com/rust-lang/rust/issues/78835> for more information\r\n  = help: add `#![feature(extended_key_value_attributes)]` to the crate attributes to enable\r\n```\r\n\r\nbuilt via `cargo +nightly install --path .`\r\n\r\nThanks again for this project @ezrosent !", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/78/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/78/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/77", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/77/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/77/events", "html_url": "https://github.com/ezrosent/frawk/pull/77", "id": 1027066116, "node_id": "PR_kwDOC8AIms4tO-Bc", "number": 77, "title": "Add exit", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-15T04:23:56Z", "updated_at": "2022-02-03T07:26:38Z", "closed_at": "2021-10-15T04:27:11Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/77", "html_url": "https://github.com/ezrosent/frawk/pull/77", "diff_url": "https://github.com/ezrosent/frawk/pull/77.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/77.patch", "merged_at": "2021-10-15T04:27:11Z"}, "body": "This PR adds support for the `exit` command to frawk, which should close out #71 \r\n\r\nMost of the complexity here is around providing useful semantics for `exit` when it is invoked from a parallel script. The overall strategy here is that if `exit` is called from a worker thread it will cut off input for all other threads, leading them to hopefully exit early. At that point, the main thread can do an orderly shutdown with the proper exit code.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/77/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/77/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/69", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/69/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/69/events", "html_url": "https://github.com/ezrosent/frawk/pull/69", "id": 991750252, "node_id": "MDExOlB1bGxSZXF1ZXN0NzMwMTcwMTg5", "number": 69, "title": "Update to LLVM version 12", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-09T04:44:43Z", "updated_at": "2021-09-09T04:45:16Z", "closed_at": "2021-09-09T04:45:10Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/69", "html_url": "https://github.com/ezrosent/frawk/pull/69", "diff_url": "https://github.com/ezrosent/frawk/pull/69.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/69.patch", "merged_at": "2021-09-09T04:45:10Z"}, "body": "This was pointed out in #67 as LLVM 10 is a couple releases back now, and some distros will make it easier to use a newer version. \r\n\r\nSmall diff as everything built cleanly.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/69/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/69/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/64", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/64/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/64/events", "html_url": "https://github.com/ezrosent/frawk/pull/64", "id": 984258654, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIzNzEzMzgy", "number": 64, "title": "removed extra colon", "user": {"login": "alperyilmaz", "id": 410615, "node_id": "MDQ6VXNlcjQxMDYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/410615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alperyilmaz", "html_url": "https://github.com/alperyilmaz", "followers_url": "https://api.github.com/users/alperyilmaz/followers", "following_url": "https://api.github.com/users/alperyilmaz/following{/other_user}", "gists_url": "https://api.github.com/users/alperyilmaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/alperyilmaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alperyilmaz/subscriptions", "organizations_url": "https://api.github.com/users/alperyilmaz/orgs", "repos_url": "https://api.github.com/users/alperyilmaz/repos", "events_url": "https://api.github.com/users/alperyilmaz/events{/privacy}", "received_events_url": "https://api.github.com/users/alperyilmaz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-31T20:01:53Z", "updated_at": "2021-09-02T06:25:21Z", "closed_at": "2021-09-02T06:25:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/64", "html_url": "https://github.com/ezrosent/frawk/pull/64", "diff_url": "https://github.com/ezrosent/frawk/pull/64.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/64.patch", "merged_at": "2021-09-02T06:25:21Z"}, "body": "provided code gives error.. ", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/64/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/64/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/61", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/61/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/61/events", "html_url": "https://github.com/ezrosent/frawk/pull/61", "id": 948372848, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkzMjI2MDQ4", "number": 61, "title": "Fix non avx2", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-07-20T07:26:55Z", "updated_at": "2021-07-20T07:27:12Z", "closed_at": "2021-07-20T07:27:07Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/61", "html_url": "https://github.com/ezrosent/frawk/pull/61", "diff_url": "https://github.com/ezrosent/frawk/pull/61.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/61.patch", "merged_at": "2021-07-20T07:27:07Z"}, "body": "This change fixes the core bug pointed out in #60, though part of the ensuing discussion on that issue has pointed out to me that frawk does not have great support for people with CPUs that do not support AVX. This change will fix bugs that show up when those folks build from source on such a machine, but there's more work to do before we can reliably ship binary releases that will work on any (say, post-SSE2) x86-64 machine.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/61/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/61/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/56", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/56/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/56/events", "html_url": "https://github.com/ezrosent/frawk/pull/56", "id": 862427665, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE5MDAxNzE3", "number": 56, "title": "Replace custom arena with bumpalo", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-20T05:27:30Z", "updated_at": "2021-04-20T05:28:04Z", "closed_at": "2021-04-20T05:28:01Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/56", "html_url": "https://github.com/ezrosent/frawk/pull/56", "diff_url": "https://github.com/ezrosent/frawk/pull/56.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/56.patch", "merged_at": "2021-04-20T05:28:01Z"}, "body": "I don't think I knew about bumpalo when I started this project, but there's basically no reason to use the old custom arena instead of this one.\r\n\r\nThis PR migrates the arena module from a custom implementation based on frozen vectors to a thin wrapper around bumpalo. It also changes the vectors to use bumpalo's custom Vec type, to move even more of the frontend data structures into the arena. Various cleanups along the way too.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/56/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/56/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/55", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/55/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/55/events", "html_url": "https://github.com/ezrosent/frawk/pull/55", "id": 851022763, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA5NTA2NDY1", "number": 55, "title": "Disallow literal regex parsing with last token ]", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-06T06:09:31Z", "updated_at": "2021-04-06T06:18:17Z", "closed_at": "2021-04-06T06:18:17Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/55", "html_url": "https://github.com/ezrosent/frawk/pull/55", "diff_url": "https://github.com/ezrosent/frawk/pull/55.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/55.patch", "merged_at": "2021-04-06T06:18:17Z"}, "body": "This fixes one of the examples brought up in #54 \r\nFor the first example, I think I'll need to do a larger refactor for the parser. Spent some time trying to permute the rules in syntax.lalrpop but I don't think local/tactical changes are going to get us there.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/55/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/55/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/52", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/52/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/52/events", "html_url": "https://github.com/ezrosent/frawk/pull/52", "id": 833414595, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk0NDE0MDE2", "number": 52, "title": "Add toupper and tolower builtin functions", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-17T05:26:46Z", "updated_at": "2021-03-17T05:30:25Z", "closed_at": "2021-03-17T05:30:22Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/52", "html_url": "https://github.com/ezrosent/frawk/pull/52", "diff_url": "https://github.com/ezrosent/frawk/pull/52.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/52.patch", "merged_at": "2021-03-17T05:30:22Z"}, "body": "This PR also includes an optimization for increment operations on an array (`m[x] += y` or `m[x]++`). This seems to speed up the groupby module.\r\n\r\nI'm not sure if I'm happy with the exact implementation here. I think it might be easier to express this pattern as a peephole-style optimization rather than a syntactic rewrite. I may experiment with that some in the future.\r\n\r\nAlso left to future work: SIMD implementations of toupper and tolower.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/52/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/52/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/50", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/50/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/50/events", "html_url": "https://github.com/ezrosent/frawk/pull/50", "id": 813063835, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc3MjcxMzIy", "number": 50, "title": "Optimize singe-byte character splitting, add adaptive parallelism ", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-22T02:50:01Z", "updated_at": "2021-02-22T02:51:04Z", "closed_at": "2021-02-22T02:51:01Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/50", "html_url": "https://github.com/ezrosent/frawk/pull/50", "diff_url": "https://github.com/ezrosent/frawk/pull/50.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/50.patch", "merged_at": "2021-02-22T02:51:01Z"}, "body": "Some miscellaneous hacking, and a new benchmark run. Highlights.\r\n\r\n* I found that `tsv-utils` is doing particularly well when there is a long sequence of columns at the end of the line that are not read by the script. This isn't so easy to do for `itsv` or `icsv`, but it is simple enough to get part of this benefit in the single-byte-splitter case.\r\n* I switched the TSV benchmarks to use frawk -F'\\t', as it provides a closer analog to what tsv-utils, mawk, and gawk are doing\r\n* Simplified some of the find_indexes code. It is still pretty gnarly, but now there is a lot less duplication, so it should be easier to optimize and modify in the future.\r\n\r\nIn addition, record-oriented parallelism now tries to dynamically determine a good number of worker threads for a given script. I've found the proper argument to the `-j` flag pretty hard to guess in advance: this new adaptive system seems to guess \"right\" at least in the cases I've tried. It's not quite as efficient as \"guessing right ahead of time\" (which explains lower numbers for some workloads in the benchmark), but overall I think this makes parallel frawk easier to user, and it probably boosted benchmark performance overall.\r\n\r\n-j flag now determines an _upper bound_ on the number of workers created in record-oriented mode. File-oriented parallelism is unchanged.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/50/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/50/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/46", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/46/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/46/events", "html_url": "https://github.com/ezrosent/frawk/pull/46", "id": 799046117, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY1NzU4MzUw", "number": 46, "title": "Fast float", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-02-02T08:17:51Z", "updated_at": "2021-02-04T02:47:54Z", "closed_at": "2021-02-02T08:22:37Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/46", "html_url": "https://github.com/ezrosent/frawk/pull/46", "diff_url": "https://github.com/ezrosent/frawk/pull/46.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/46.patch", "merged_at": "2021-02-02T08:22:37Z"}, "body": "This PR deletes the old implementation of eisel-lemeir and merges in the one from the new [fast-float](https://github.com/aldanor/fast-float-rust) library:\r\n\r\n(_fast is the frawk-internal implementation, and _ff is the new fast-float implementation)\r\n\r\n```\r\ntest runtime::float_parse::slow_path::bench::bench_strtod_long_fast    ... bench:         413 ns/iter (+/- 23)\r\ntest runtime::float_parse::slow_path::bench::bench_strtod_long_ff      ... bench:          53 ns/iter (+/- 25)\r\ntest runtime::float_parse::slow_path::bench::bench_strtod_medium_fast  ... bench:          20 ns/iter (+/- 5)\r\ntest runtime::float_parse::slow_path::bench::bench_strtod_medium_ff    ... bench:          25 ns/iter (+/- 6)\r\ntest runtime::float_parse::slow_path::bench::bench_strtod_short_fast   ... bench:          11 ns/iter (+/- 9)\r\ntest runtime::float_parse::slow_path::bench::bench_strtod_short_ff     ... bench:          10 ns/iter (+/- 1)\r\n```\r\n\r\nIn the rudimentary benchmarks I had in the float_parse module, `fast_float` is far better on long strings (we fell back to libc, which is particularly slow) and seems to be slower -albiet within the margin of error- for short and medium strings (both of which are in the fast path for the algorithm. Performance aside, `fast_float` is far better tested than frawk's float_parse module.\r\n\r\nI'll look around for any improvements to close the gap in the fast path, but I suspect the difference here may be in the noise.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/46/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/46/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/45", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/45/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/45/events", "html_url": "https://github.com/ezrosent/frawk/pull/45", "id": 799025857, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY1NzQxODQ5", "number": 45, "title": "Various cleanups", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-02T07:45:59Z", "updated_at": "2021-02-02T07:46:16Z", "closed_at": "2021-02-02T07:46:12Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/45", "html_url": "https://github.com/ezrosent/frawk/pull/45", "diff_url": "https://github.com/ezrosent/frawk/pull/45.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/45.patch", "merged_at": "2021-02-02T07:46:12Z"}, "body": "This change includes a number of small cleanups I was looking at, along with some test fixes in line with the new output formatting introduced in #44 ", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/45/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/44", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/44/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/44/events", "html_url": "https://github.com/ezrosent/frawk/pull/44", "id": 798566771, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY1MzYxMTY0", "number": 44, "title": "Print Float as Int if it ends in \".0\".", "user": {"login": "ghuls", "id": 1299177, "node_id": "MDQ6VXNlcjEyOTkxNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1299177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghuls", "html_url": "https://github.com/ghuls", "followers_url": "https://api.github.com/users/ghuls/followers", "following_url": "https://api.github.com/users/ghuls/following{/other_user}", "gists_url": "https://api.github.com/users/ghuls/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghuls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghuls/subscriptions", "organizations_url": "https://api.github.com/users/ghuls/orgs", "repos_url": "https://api.github.com/users/ghuls/repos", "events_url": "https://api.github.com/users/ghuls/events{/privacy}", "received_events_url": "https://api.github.com/users/ghuls/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-01T17:38:07Z", "updated_at": "2021-02-02T07:36:12Z", "closed_at": "2021-02-02T07:36:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/44", "html_url": "https://github.com/ezrosent/frawk/pull/44", "diff_url": "https://github.com/ezrosent/frawk/pull/44.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/44.patch", "merged_at": "2021-02-02T07:36:12Z"}, "body": "Print Float as Int if it ends in \".0\" as this is the default behaviour in other\r\nawk implementations.\r\n\r\nFixes issue #41: Other awks don't print trailing zeros when printing floats.\r\n\r\nTest case:\r\n\r\n    for AWK in frawk_old frawk_new gawk mawk goawk; do\r\n        echo \"${AWK}:\";\r\n\r\n        echo '1 9.0 5.5 6.600 1234567890' | ${AWK} '\r\n            BEGIN { OFS=\"\\t\" }\r\n            {\r\n                print \"column 1:\", $1, $1 + 0, 0 + $1, $1 + 1.0;\r\n                print \"column 2:\", $2, $2 + 0, 0 + $2, $2 + 1.0;\r\n                print \"column 3:\", $3, $3 + 0, 0 + $3, $3 + 0.5;\r\n                print \"column 4:\", $4, $4 + 0, 0 + $4, $4 + 0.4;\r\n                print \"column 5:\", $5, $5 + 0, 0 + $5, $5 + 0.4;\r\n            }';\r\n        echo;\r\n    done\r\n\r\nOutput:\r\n\r\nfrawk_old:\r\ncolumn 1:\t1\t1.0\t1.0\t2.0\r\ncolumn 2:\t9.0\t9.0\t9.0\t10.0\r\ncolumn 3:\t5.5\t5.5\t5.5\t6.0\r\ncolumn 4:\t6.600\t6.6\t6.6\t7.0\r\ncolumn 5:\t1234567890\t1234567890.0\t1234567890.0\t1234567890.4\r\n\r\nfrawk_new:\r\ncolumn 1:\t1\t1\t1\t2\r\ncolumn 2:\t9.0\t9\t9\t10\r\ncolumn 3:\t5.5\t5.5\t5.5\t6\r\ncolumn 4:\t6.600\t6.6\t6.6\t7\r\ncolumn 5:\t1234567890\t1234567890\t1234567890\t1234567890.4\r\n\r\ngawk:\r\ncolumn 1:\t1\t1\t1\t2\r\ncolumn 2:\t9.0\t9\t9\t10\r\ncolumn 3:\t5.5\t5.5\t5.5\t6\r\ncolumn 4:\t6.600\t6.6\t6.6\t7\r\ncolumn 5:\t1234567890\t1234567890\t1234567890\t1.23457e+09\r\n\r\nmawk:\r\ncolumn 1:\t1\t1\t1\t2\r\ncolumn 2:\t9.0\t9\t9\t10\r\ncolumn 3:\t5.5\t5.5\t5.5\t6\r\ncolumn 4:\t6.600\t6.6\t6.6\t7\r\ncolumn 5:\t1234567890\t1234567890\t1234567890\t1.23457e+09\r\n\r\ngoawk:\r\ncolumn 1:\t1\t1\t1\t2\r\ncolumn 2:\t9.0\t9\t9\t10\r\ncolumn 3:\t5.5\t5.5\t5.5\t6\r\ncolumn 4:\t6.600\t6.6\t6.6\t7\r\ncolumn 5:\t1234567890\t1234567890\t1234567890\t1.23457e+09", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/44/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/44/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/43", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/43/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/43/events", "html_url": "https://github.com/ezrosent/frawk/pull/43", "id": 797804585, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0NzIzNjA2", "number": 43, "title": "Speed up column mutation", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-31T20:31:05Z", "updated_at": "2021-02-01T00:12:08Z", "closed_at": "2021-02-01T00:12:01Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/43", "html_url": "https://github.com/ezrosent/frawk/pull/43", "diff_url": "https://github.com/ezrosent/frawk/pull/43.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/43.patch", "merged_at": "2021-02-01T00:12:01Z"}, "body": "This change includes a number of small improvements to speed up field mutation and `$0` reconstruction. \r\n\r\nOne of these improvements was to change `Buf::slice_to_str` to prefer `Shared` strings rather than `Inline` strings. For strings that are only read once or twice, the extra `memcpy` of reading into an Inline string ends up being too much overhead. This change generates single-percentage-point decreases in runtime for some aggregation-heavy benchmarks, but I think the overall win for output-heavy benchmarks is enough to keep the change.\r\n\r\nThe other impact of this change was to make reference counting for many more strings in frawk scripts nontrivial. This revealed two separate bugs in the llvm and cranelift backends: both were `ref`-ing strings and maps too often, leading simple scripts to hold onto the entire input in memory. This took a while to track down, but this bug does appear to be fixed in this change.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/43/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/43/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/40", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/40/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/40/events", "html_url": "https://github.com/ezrosent/frawk/pull/40", "id": 791030279, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5MTU0NDc4", "number": 40, "title": "Fix usage of '-v' args as last argument before program.", "user": {"login": "ghuls", "id": 1299177, "node_id": "MDQ6VXNlcjEyOTkxNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1299177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghuls", "html_url": "https://github.com/ghuls", "followers_url": "https://api.github.com/users/ghuls/followers", "following_url": "https://api.github.com/users/ghuls/following{/other_user}", "gists_url": "https://api.github.com/users/ghuls/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghuls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghuls/subscriptions", "organizations_url": "https://api.github.com/users/ghuls/orgs", "repos_url": "https://api.github.com/users/ghuls/repos", "events_url": "https://api.github.com/users/ghuls/events{/privacy}", "received_events_url": "https://api.github.com/users/ghuls/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-21T12:32:58Z", "updated_at": "2021-01-22T06:48:02Z", "closed_at": "2021-01-22T06:48:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/40", "html_url": "https://github.com/ezrosent/frawk/pull/40", "diff_url": "https://github.com/ezrosent/frawk/pull/40.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/40.patch", "merged_at": "2021-01-22T06:48:02Z"}, "body": "Fix usage of '-v' args as last argument before program.\r\nNow it is not needed anymore to have another option after\r\n'-v' or to have '--' before the program part.\r\n\r\nAs indicated in the clap documentation for Arg::multiple:\r\n  Setting multiple(true) for an option with no other details,\r\n  allows multiple values and multiple occurrences because it\r\n  isn't possible to have more occurrences than values for options.\r\n  Because multiple values are allowed, --option val1 val2 val3 is\r\n  perfectly valid, be careful when designing a CLI where positional\r\n  arguments are expected after a option which accepts multiple\r\n  values, as clap will continue parsing values until it reaches the\r\n  max or specific number of values defined, or another flag or\r\n  option.\r\n\r\n  It's possible to define an option which allows multiple\r\n  occurrences, but only one value per occurrence. To do this use\r\n  Arg::number_of_values(1) in coordination with Arg::multiple(true).", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/40/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/40/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/39", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/39/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/39/events", "html_url": "https://github.com/ezrosent/frawk/pull/39", "id": 790817091, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU4OTY5ODk0", "number": 39, "title": "Fix `-v` arg parsing", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-21T08:27:15Z", "updated_at": "2021-01-22T07:44:26Z", "closed_at": "2021-01-22T07:44:13Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/39", "html_url": "https://github.com/ezrosent/frawk/pull/39", "diff_url": "https://github.com/ezrosent/frawk/pull/39.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/39.patch", "merged_at": "2021-01-22T07:44:13Z"}, "body": "This change implements switches frawk over to Awk semantics for `-v` args. frawk initially treated the RHS of these args as being arbitrary expressions; while marginally more expressive, this is a breaking change that makes `-v` much less ergonomic in some common cases.\r\n\r\nIn addition to moving to Awk semantics, this change also adds tests for these arguments to avoid regressions like the one found in #22.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/39/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/39/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/36", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/36/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/36/events", "html_url": "https://github.com/ezrosent/frawk/pull/36", "id": 788542725, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU3MDM0OTEx", "number": 36, "title": "Cranelift Backend", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-18T20:57:08Z", "updated_at": "2021-02-27T18:54:22Z", "closed_at": "2021-01-18T21:06:25Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/36", "html_url": "https://github.com/ezrosent/frawk/pull/36", "diff_url": "https://github.com/ezrosent/frawk/pull/36.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/36.patch", "merged_at": "2021-01-18T21:06:25Z"}, "body": "This change adds a frawk backend that JITs machine code using cranelift. This is a large diff because I refactored a lot of the code in the LLVM module to live behind higher-level interfaces that we could implement in terms of either LLVM or cranelift. On top of that, I regenerated all of the benchmark numbers to include the cranelift backend.\r\n\r\nCranelift will be the new default backend for frawk. I'm hoping it will make frawk more accessible for people who do not want to install or build LLVM on their own. ", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/36/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/36/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/35", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/35/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/35/events", "html_url": "https://github.com/ezrosent/frawk/pull/35", "id": 774135977, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ1MTA0MTgx", "number": 35, "title": "Parse header", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-24T02:19:17Z", "updated_at": "2020-12-24T02:33:04Z", "closed_at": "2020-12-24T02:33:01Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/35", "html_url": "https://github.com/ezrosent/frawk/pull/35", "diff_url": "https://github.com/ezrosent/frawk/pull/35.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/35.patch", "merged_at": "2020-12-24T02:33:01Z"}, "body": "This PR implements the feature request #31. You can now skip the header line by passing the `-H` flag and then access fields by name by looking up the column name in new builtin `FI` variable. The core challenge here is to integrate the new `FI`-related functionality  _without_ completely trivializing the fields inferred in the projection pushdown analysis.\r\n\r\nI went about this by adding to the constant string analysis already used to eliminate regex lookups to gathering a set of strings passed as keys to `FI`. We need corresponding changes in the used field analysis to ensure we \"look the other way\" when accessing a field that comes from a value in `FI`. After all of that is done, special runtime primitives munge the relevant column indexes gleaned from the header line into the used field set we are using at runtime. This avoids complicated schemes where we run custom logic on the first line of input before yielding control back to the frawk program.\r\n\r\nAll of this was complicated by the fact that I discovered some soundness issues in the existing dataflow analyses that had been implemented so far. This PR includes fixes and tests for those issues, and unifies the implementations in a common framework so that future bugs will only have to be fixed once.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/35/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/35/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/34", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/34/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/34/events", "html_url": "https://github.com/ezrosent/frawk/pull/34", "id": 765687201, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM5MDM1Nzcx", "number": 34, "title": "Add new CLI-level tests in `tests` directory.", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-13T22:46:48Z", "updated_at": "2020-12-17T19:20:06Z", "closed_at": "2020-12-17T19:20:02Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/34", "html_url": "https://github.com/ezrosent/frawk/pull/34", "diff_url": "https://github.com/ezrosent/frawk/pull/34.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/34.patch", "merged_at": "2020-12-17T19:20:02Z"}, "body": "This includes two files:\r\n\r\n1. `nawk_p` which is a translation of the `p.` tests in the nawk repo\r\n   into frawk.\r\n2. `sort` which tests multithreaded and singlethreaded sorts for large\r\n   inputs.\r\n\r\nThese tests all pass, but only with several modifications to frawk to\r\nfix bugs uncovered by the tests.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/34/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/34/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/32", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/32/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/32/events", "html_url": "https://github.com/ezrosent/frawk/pull/32", "id": 758195258, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzNDA1MjQ4", "number": 32, "title": "Compile using stable", "user": {"login": "robertevans-org", "id": 66225842, "node_id": "MDQ6VXNlcjY2MjI1ODQy", "avatar_url": "https://avatars.githubusercontent.com/u/66225842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robertevans-org", "html_url": "https://github.com/robertevans-org", "followers_url": "https://api.github.com/users/robertevans-org/followers", "following_url": "https://api.github.com/users/robertevans-org/following{/other_user}", "gists_url": "https://api.github.com/users/robertevans-org/gists{/gist_id}", "starred_url": "https://api.github.com/users/robertevans-org/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robertevans-org/subscriptions", "organizations_url": "https://api.github.com/users/robertevans-org/orgs", "repos_url": "https://api.github.com/users/robertevans-org/repos", "events_url": "https://api.github.com/users/robertevans-org/events{/privacy}", "received_events_url": "https://api.github.com/users/robertevans-org/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-12-07T06:12:55Z", "updated_at": "2020-12-09T07:17:50Z", "closed_at": "2020-12-09T07:17:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/32", "html_url": "https://github.com/ezrosent/frawk/pull/32", "diff_url": "https://github.com/ezrosent/frawk/pull/32.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/32.patch", "merged_at": "2020-12-09T07:17:50Z"}, "body": "I saw #25 , so I went ahead and took a pass. I added a default feature called `unstable`, so everything should work as is on nightly. On stable (`rustc 1.48.0 (7eac88abb 2020-11-16)` at the moment), this should now work:\r\n\r\n```\r\ncargo test --no-default-features --features use_jemalloc,allow_avx2,llvm_backend 2>&1 | tail\r\ntest runtime::utf8::x86::tests::test_utf8 ... ok\r\ntest runtime::writers::tests::basic_writing ... ok\r\ntest runtime::utf8::tests::test_partial ... ok\r\ntest runtime::writers::tests::reopen_named_file ... ok\r\ntest runtime::writers::tests::multithreaded_write ... ok\r\ntest runtime::utf8::tests::utf8_valid ... ok\r\ntest runtime::splitter::regex::tests::test_clipped_chunk_split_random ... ok\r\n\r\ntest result: ok. 194 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\n```\r\n\r\nI excluded the `bench` tests when run on `stable`, which is why the number of tests is lower.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/32/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/32/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/30", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/30/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/30/events", "html_url": "https://github.com/ezrosent/frawk/pull/30", "id": 744555196, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIyMjU4OTQ5", "number": 30, "title": "fixed small error", "user": {"login": "0xflotus", "id": 26602940, "node_id": "MDQ6VXNlcjI2NjAyOTQw", "avatar_url": "https://avatars.githubusercontent.com/u/26602940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0xflotus", "html_url": "https://github.com/0xflotus", "followers_url": "https://api.github.com/users/0xflotus/followers", "following_url": "https://api.github.com/users/0xflotus/following{/other_user}", "gists_url": "https://api.github.com/users/0xflotus/gists{/gist_id}", "starred_url": "https://api.github.com/users/0xflotus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0xflotus/subscriptions", "organizations_url": "https://api.github.com/users/0xflotus/orgs", "repos_url": "https://api.github.com/users/0xflotus/repos", "events_url": "https://api.github.com/users/0xflotus/events{/privacy}", "received_events_url": "https://api.github.com/users/0xflotus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-17T09:16:44Z", "updated_at": "2020-11-18T16:09:46Z", "closed_at": "2020-11-18T05:50:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/30", "html_url": "https://github.com/ezrosent/frawk/pull/30", "diff_url": "https://github.com/ezrosent/frawk/pull/30.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/30.patch", "merged_at": "2020-11-18T05:50:48Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/30/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/30/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/29", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/29/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/29/events", "html_url": "https://github.com/ezrosent/frawk/pull/29", "id": 743216010, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIxMTY3MDQ0", "number": 29, "title": "Add support for `SUBSEP` syntactic sugar with", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-15T09:13:42Z", "updated_at": "2020-11-15T09:14:14Z", "closed_at": "2020-11-15T09:14:04Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/29", "html_url": "https://github.com/ezrosent/frawk/pull/29", "diff_url": "https://github.com/ezrosent/frawk/pull/29.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/29.patch", "merged_at": "2020-11-15T09:14:04Z"}, "body": "This change adds support for array subscripts like `m[x,y]` or `(x, y) in m`.\r\n\r\nI initially left this out with the hope that I'd be able to add more structured datatypes to frawk. While I still think this is a worthwhile goal, I do not think it's likely that I'll get to it in the next several months. On the other hand it's a fairly common feature in awk for which support was not terribly difficult to add.\r\n\r\nThis PR also moves more of the AST from strings to byte slices.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/29/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/29/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/28", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/28/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/28/events", "html_url": "https://github.com/ezrosent/frawk/pull/28", "id": 738334967, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE3MjAzOTYx", "number": 28, "title": "Commands", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-07T23:13:21Z", "updated_at": "2020-11-07T23:14:16Z", "closed_at": "2020-11-07T23:14:13Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/28", "html_url": "https://github.com/ezrosent/frawk/pull/28", "diff_url": "https://github.com/ezrosent/frawk/pull/28.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/28.patch", "merged_at": "2020-11-07T23:14:12Z"}, "body": "This PR adds support for awk-style shell commands, which is one of the asks called out in #24. The major differences here are:\r\n* frawk currently performs a static taint analysis that aims to rule out shell commands that can contain user input. This analysis is optional, but it is an opt-out.\r\n* frawk currently models reading from commands similarly to how it models reading from files. Among other things, that means that there isn't support for reading from commands in some of the more optimized code-paths (such as CSV, TSV) from a subshell; those use-cases still  have to be passed through stdin. I'd be open for adding that support in a follow-up, though.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/28/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/28/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/27", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/27/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/27/events", "html_url": "https://github.com/ezrosent/frawk/pull/27", "id": 731156909, "node_id": "MDExOlB1bGxSZXF1ZXN0NTExMzIyODIy", "number": 27, "title": "line-buffered stdout where appropriate", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-10-28T06:47:47Z", "updated_at": "2020-11-03T07:08:40Z", "closed_at": "2020-10-28T06:48:17Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/27", "html_url": "https://github.com/ezrosent/frawk/pull/27", "diff_url": "https://github.com/ezrosent/frawk/pull/27.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/27.patch", "merged_at": "2020-10-28T06:48:16Z"}, "body": "Based on the suggestion in #18, this change adopts grep_cli to detect\r\nwhen to line-buffer output, and adds support for line-buffering to the\r\n`writers` module.\r\n\r\nThis change accomplishes this by:\r\n\r\n* Plumbing through \"flush on newlines\" information into FileHandles for\r\n  stdout, when stdout is a tty.\r\n* Allowing write requests to trigger a flush of the underlying writer.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/27/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/27/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/26", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/26/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/26/events", "html_url": "https://github.com/ezrosent/frawk/pull/26", "id": 724260327, "node_id": "MDExOlB1bGxSZXF1ZXN0NTA1Njc2MTEx", "number": 26, "title": "Parsing Fixes", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-19T05:02:31Z", "updated_at": "2020-10-19T05:03:54Z", "closed_at": "2020-10-19T05:03:50Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/26", "html_url": "https://github.com/ezrosent/frawk/pull/26", "diff_url": "https://github.com/ezrosent/frawk/pull/26.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/26.patch", "merged_at": "2020-10-19T05:03:50Z"}, "body": "This PR contains a fix for most (but not _all_) mentioned in #24 \r\nThe bulk of this change is a refactor of the grammar in `syntax.lalrpop` for better handling of newlines. Along the way, I fixed a few edge cases in code gen uncovered by some of the examples that parse now, but did not at the time. I'll follow up on #24 to discuss next steps.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/26/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/26/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/19", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/19/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/19/events", "html_url": "https://github.com/ezrosent/frawk/pull/19", "id": 710796207, "node_id": "MDExOlB1bGxSZXF1ZXN0NDk0NTgyNzE2", "number": 19, "title": "Add benchmark results for Linux", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-29T06:14:05Z", "updated_at": "2020-09-29T06:18:50Z", "closed_at": "2020-09-29T06:18:46Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/19", "html_url": "https://github.com/ezrosent/frawk/pull/19", "diff_url": "https://github.com/ezrosent/frawk/pull/19.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/19.patch", "merged_at": "2020-09-29T06:18:46Z"}, "body": "When I posted about frawk on reddit, some folks found frawk performed pretty well, but not as well as the benchmarks suggested. One factor that I noticed was that this seemed to be happening on a few-year-old CPU with some older hardware. I did a quick re-run of the benchmark scripts on an Ubuntu workstation with CPUs from mid-2016, and I think I've reproduced those more-tepid results. This PR adds those results to the benchmarks doc alongside the existing ones from my laptop.\r\n\r\nAt some point it would be worth re-running the Linux benchmarks on a newer gawk, and re-running the Mac benchmarks on a newer tsv-utils. I hope these initial numbers are still helpful for now.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/19/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/19/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/15", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/15/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/15/events", "html_url": "https://github.com/ezrosent/frawk/pull/15", "id": 709844953, "node_id": "MDExOlB1bGxSZXF1ZXN0NDkzNzk5NzA1", "number": 15, "title": "Upgrade to LLVM 10.", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-28T00:01:27Z", "updated_at": "2020-09-28T00:03:11Z", "closed_at": "2020-09-28T00:03:11Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/15", "html_url": "https://github.com/ezrosent/frawk/pull/15", "diff_url": "https://github.com/ezrosent/frawk/pull/15.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/15.patch", "merged_at": "2020-09-28T00:03:11Z"}, "body": "Tests pass on my Ubuntu and MacOS machines. No upgrades to the underlying LLVM calls were needed, though we'll eventually need to migrate away from MCJit.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/15/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/15/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/14", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/14/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/14/events", "html_url": "https://github.com/ezrosent/frawk/pull/14", "id": 709673571, "node_id": "MDExOlB1bGxSZXF1ZXN0NDkzNjczNzI1", "number": 14, "title": "Make UTF-8 Optional", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-27T05:42:22Z", "updated_at": "2020-09-27T05:44:14Z", "closed_at": "2020-09-27T05:44:09Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/14", "html_url": "https://github.com/ezrosent/frawk/pull/14", "diff_url": "https://github.com/ezrosent/frawk/pull/14.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/14.patch", "merged_at": "2020-09-27T05:44:09Z"}, "body": "This PR.removes the invariant that frawk strings can only contain valid UTF-8. It keeps the existing machinery for validating UTF-8, but places it behind a flag. Most of the internal string routines have been updated to operate on byte slices. Strings are (re)validated for UTF-8 where necessary (e.g. file opens, regex construction, printf, the first two of which are cached).", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/14/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/14/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/13", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/13/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/13/events", "html_url": "https://github.com/ezrosent/frawk/pull/13", "id": 704128466, "node_id": "MDExOlB1bGxSZXF1ZXN0NDg5MTA4ODEw", "number": 13, "title": "Better parse errors", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-18T06:33:41Z", "updated_at": "2020-09-18T06:33:59Z", "closed_at": "2020-09-18T06:33:59Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/13", "html_url": "https://github.com/ezrosent/frawk/pull/13", "diff_url": "https://github.com/ezrosent/frawk/pull/13.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/13.patch", "merged_at": "2020-09-18T06:33:59Z"}, "body": "Improve parse error readability by tracking line and column numbers, rather than simply the offset into the program text.\r\n\r\nThis PR also includes some cleanups regarding keyword tokenization.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/13/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/13/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/12", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/12/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/12/events", "html_url": "https://github.com/ezrosent/frawk/pull/12", "id": 700505106, "node_id": "MDExOlB1bGxSZXF1ZXN0NDg2MTM0Nzcx", "number": 12, "title": "Reduce number of bytecode instructions", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-13T05:52:57Z", "updated_at": "2020-09-13T05:55:38Z", "closed_at": "2020-09-13T05:55:34Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/12", "html_url": "https://github.com/ezrosent/frawk/pull/12", "diff_url": "https://github.com/ezrosent/frawk/pull/12.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/12.patch", "merged_at": "2020-09-13T05:55:34Z"}, "body": "This PR cleans up the \"flattened\" representation of frawk's bytecode. This was getting very cumbersome to read and modify. The original reason for this was performance. Indeed, tight loops, particularly those involving maps, are a good deal slower on this branch (sometimes 20-40% slower). However, since I now anticipate compute-bound scripts will use the LLVM backend, I do not think this poses a huge problem. This moves the bytecode interpreter closer to the status of \"reference implementation\".", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/12/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/11", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/11/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/11/events", "html_url": "https://github.com/ezrosent/frawk/pull/11", "id": 693540284, "node_id": "MDExOlB1bGxSZXF1ZXN0NDgwMDE5NjEy", "number": 11, "title": "Simd improvements", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-04T19:41:26Z", "updated_at": "2020-09-04T23:29:40Z", "closed_at": "2020-09-04T19:42:13Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/11", "html_url": "https://github.com/ezrosent/frawk/pull/11", "diff_url": "https://github.com/ezrosent/frawk/pull/11.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/11.patch", "merged_at": "2020-09-04T19:42:13Z"}, "body": "Implemented new SIMD-accelerated whitespace splitting algorithm. This means that scripts that only split by whitespace (with a newline record separator, for now) will execute faster and can now be executed in parallel. I've seen substantial speedups when compared to the existing byte-by-byte parser. For the script `{SUM += $3} END { print SUM}` on the [TREE_GRM_ESTN dataset](https://github.com/ezrosent/frawk/blob/master/info/performance.md#test-data) converted to TSV, I've seen the following numbers on my laptop:\r\n\r\n| Baseline | SIMD (single-threaded) | SIMD (parallel, `-j2`) |\r\n| --- | --- | --- |\r\n| 20.4s (18.7s + 1.6s) | 14.7s (13.4s + 1.2s) | 5.7s (14.2s + 1.2s) |\r\n\r\nIn addition to a new whitespace-splitting algorithm, there are also a number of bug fixes for whitespace splitting and byte-wise splitting, as well as some refactoring of the existing SIMD code.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/11/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/11/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/10", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/10/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/10/events", "html_url": "https://github.com/ezrosent/frawk/pull/10", "id": 682503621, "node_id": "MDExOlB1bGxSZXF1ZXN0NDcwNzM0Njgw", "number": 10, "title": "Parallelism Support", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-20T07:51:40Z", "updated_at": "2020-08-20T07:52:05Z", "closed_at": "2020-08-20T07:51:59Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/10", "html_url": "https://github.com/ezrosent/frawk/pull/10", "diff_url": "https://github.com/ezrosent/frawk/pull/10.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/10.patch", "merged_at": "2020-08-20T07:51:59Z"}, "body": "In addition to a number of bug fixes, this PR adds basic support for parallelism for frawk scripts. A new doc provides an overview of this feature, and the performance doc has been updated with numbers from parallel implementations of the same tasks.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/10/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]