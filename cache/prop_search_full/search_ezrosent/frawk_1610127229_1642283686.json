[{"url": "https://api.github.com/repos/ezrosent/frawk/issues/81", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/81/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/81/events", "html_url": "https://github.com/ezrosent/frawk/pull/81", "id": 1101034119, "node_id": "PR_kwDOC8AIms4w5MML", "number": 81, "title": "Update dependencies", "user": {"login": "ghuls", "id": 1299177, "node_id": "MDQ6VXNlcjEyOTkxNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1299177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghuls", "html_url": "https://github.com/ghuls", "followers_url": "https://api.github.com/users/ghuls/followers", "following_url": "https://api.github.com/users/ghuls/following{/other_user}", "gists_url": "https://api.github.com/users/ghuls/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghuls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghuls/subscriptions", "organizations_url": "https://api.github.com/users/ghuls/orgs", "repos_url": "https://api.github.com/users/ghuls/repos", "events_url": "https://api.github.com/users/ghuls/events{/privacy}", "received_events_url": "https://api.github.com/users/ghuls/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-13T01:51:47Z", "updated_at": "2022-01-15T20:19:20Z", "closed_at": "2022-01-15T20:19:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/81", "html_url": "https://github.com/ezrosent/frawk/pull/81", "diff_url": "https://github.com/ezrosent/frawk/pull/81.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/81.patch", "merged_at": "2022-01-15T20:19:20Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/81/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/81/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/79", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/79/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/79/events", "html_url": "https://github.com/ezrosent/frawk/pull/79", "id": 1031867966, "node_id": "PR_kwDOC8AIms4tdoxd", "number": 79, "title": "chore: added syntax highlighting to awk part", "user": {"login": "0xflotus", "id": 26602940, "node_id": "MDQ6VXNlcjI2NjAyOTQw", "avatar_url": "https://avatars.githubusercontent.com/u/26602940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0xflotus", "html_url": "https://github.com/0xflotus", "followers_url": "https://api.github.com/users/0xflotus/followers", "following_url": "https://api.github.com/users/0xflotus/following{/other_user}", "gists_url": "https://api.github.com/users/0xflotus/gists{/gist_id}", "starred_url": "https://api.github.com/users/0xflotus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0xflotus/subscriptions", "organizations_url": "https://api.github.com/users/0xflotus/orgs", "repos_url": "https://api.github.com/users/0xflotus/repos", "events_url": "https://api.github.com/users/0xflotus/events{/privacy}", "received_events_url": "https://api.github.com/users/0xflotus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-20T22:04:28Z", "updated_at": "2021-10-25T00:57:54Z", "closed_at": "2021-10-25T00:57:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/79", "html_url": "https://github.com/ezrosent/frawk/pull/79", "diff_url": "https://github.com/ezrosent/frawk/pull/79.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/79.patch", "merged_at": "2021-10-25T00:57:54Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/79/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/79/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/78", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/78/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/78/events", "html_url": "https://github.com/ezrosent/frawk/pull/78", "id": 1028332111, "node_id": "PR_kwDOC8AIms4tSkUB", "number": 78, "title": "docs: add mac os specific instructions", "user": {"login": "barakplasma", "id": 62937, "node_id": "MDQ6VXNlcjYyOTM3", "avatar_url": "https://avatars.githubusercontent.com/u/62937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/barakplasma", "html_url": "https://github.com/barakplasma", "followers_url": "https://api.github.com/users/barakplasma/followers", "following_url": "https://api.github.com/users/barakplasma/following{/other_user}", "gists_url": "https://api.github.com/users/barakplasma/gists{/gist_id}", "starred_url": "https://api.github.com/users/barakplasma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/barakplasma/subscriptions", "organizations_url": "https://api.github.com/users/barakplasma/orgs", "repos_url": "https://api.github.com/users/barakplasma/repos", "events_url": "https://api.github.com/users/barakplasma/events{/privacy}", "received_events_url": "https://api.github.com/users/barakplasma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-17T13:56:33Z", "updated_at": "2021-10-18T17:30:23Z", "closed_at": "2021-10-17T20:53:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/78", "html_url": "https://github.com/ezrosent/frawk/pull/78", "diff_url": "https://github.com/ezrosent/frawk/pull/78.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/78.patch", "merged_at": "2021-10-17T20:53:04Z"}, "body": "also needed to add `#![feature(extended_key_value_attributes)]` to `.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.4/src/lib.rs` to get around a build failure on Mac OS\r\n```\r\n   Compiling clap v3.0.0-beta.4\r\nerror[E0658]: arbitrary expressions in key-value attributes are unstable\r\n --> /Users/smichael1/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.4/src/lib.rs:8:10\r\n  |\r\n8 | #![doc = include_str!(\"../README.md\")]\r\n  |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  |\r\n  = note: see issue #78835 <https://github.com/rust-lang/rust/issues/78835> for more information\r\n  = help: add `#![feature(extended_key_value_attributes)]` to the crate attributes to enable\r\n```\r\n\r\nbuilt via `cargo +nightly install --path .`\r\n\r\nThanks again for this project @ezrosent !", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/78/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/78/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/77", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/77/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/77/events", "html_url": "https://github.com/ezrosent/frawk/pull/77", "id": 1027066116, "node_id": "PR_kwDOC8AIms4tO-Bc", "number": 77, "title": "Add exit", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-15T04:23:56Z", "updated_at": "2022-02-03T07:26:38Z", "closed_at": "2021-10-15T04:27:11Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/77", "html_url": "https://github.com/ezrosent/frawk/pull/77", "diff_url": "https://github.com/ezrosent/frawk/pull/77.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/77.patch", "merged_at": "2021-10-15T04:27:11Z"}, "body": "This PR adds support for the `exit` command to frawk, which should close out #71 \r\n\r\nMost of the complexity here is around providing useful semantics for `exit` when it is invoked from a parallel script. The overall strategy here is that if `exit` is called from a worker thread it will cut off input for all other threads, leading them to hopefully exit early. At that point, the main thread can do an orderly shutdown with the proper exit code.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/77/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/77/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/69", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/69/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/69/events", "html_url": "https://github.com/ezrosent/frawk/pull/69", "id": 991750252, "node_id": "MDExOlB1bGxSZXF1ZXN0NzMwMTcwMTg5", "number": 69, "title": "Update to LLVM version 12", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-09T04:44:43Z", "updated_at": "2021-09-09T04:45:16Z", "closed_at": "2021-09-09T04:45:10Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/69", "html_url": "https://github.com/ezrosent/frawk/pull/69", "diff_url": "https://github.com/ezrosent/frawk/pull/69.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/69.patch", "merged_at": "2021-09-09T04:45:10Z"}, "body": "This was pointed out in #67 as LLVM 10 is a couple releases back now, and some distros will make it easier to use a newer version. \r\n\r\nSmall diff as everything built cleanly.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/69/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/69/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/64", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/64/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/64/events", "html_url": "https://github.com/ezrosent/frawk/pull/64", "id": 984258654, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIzNzEzMzgy", "number": 64, "title": "removed extra colon", "user": {"login": "alperyilmaz", "id": 410615, "node_id": "MDQ6VXNlcjQxMDYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/410615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alperyilmaz", "html_url": "https://github.com/alperyilmaz", "followers_url": "https://api.github.com/users/alperyilmaz/followers", "following_url": "https://api.github.com/users/alperyilmaz/following{/other_user}", "gists_url": "https://api.github.com/users/alperyilmaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/alperyilmaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alperyilmaz/subscriptions", "organizations_url": "https://api.github.com/users/alperyilmaz/orgs", "repos_url": "https://api.github.com/users/alperyilmaz/repos", "events_url": "https://api.github.com/users/alperyilmaz/events{/privacy}", "received_events_url": "https://api.github.com/users/alperyilmaz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-31T20:01:53Z", "updated_at": "2021-09-02T06:25:21Z", "closed_at": "2021-09-02T06:25:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/64", "html_url": "https://github.com/ezrosent/frawk/pull/64", "diff_url": "https://github.com/ezrosent/frawk/pull/64.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/64.patch", "merged_at": "2021-09-02T06:25:21Z"}, "body": "provided code gives error.. ", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/64/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/64/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/61", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/61/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/61/events", "html_url": "https://github.com/ezrosent/frawk/pull/61", "id": 948372848, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkzMjI2MDQ4", "number": 61, "title": "Fix non avx2", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-07-20T07:26:55Z", "updated_at": "2021-07-20T07:27:12Z", "closed_at": "2021-07-20T07:27:07Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/61", "html_url": "https://github.com/ezrosent/frawk/pull/61", "diff_url": "https://github.com/ezrosent/frawk/pull/61.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/61.patch", "merged_at": "2021-07-20T07:27:07Z"}, "body": "This change fixes the core bug pointed out in #60, though part of the ensuing discussion on that issue has pointed out to me that frawk does not have great support for people with CPUs that do not support AVX. This change will fix bugs that show up when those folks build from source on such a machine, but there's more work to do before we can reliably ship binary releases that will work on any (say, post-SSE2) x86-64 machine.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/61/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/61/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/56", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/56/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/56/events", "html_url": "https://github.com/ezrosent/frawk/pull/56", "id": 862427665, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE5MDAxNzE3", "number": 56, "title": "Replace custom arena with bumpalo", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-20T05:27:30Z", "updated_at": "2021-04-20T05:28:04Z", "closed_at": "2021-04-20T05:28:01Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/56", "html_url": "https://github.com/ezrosent/frawk/pull/56", "diff_url": "https://github.com/ezrosent/frawk/pull/56.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/56.patch", "merged_at": "2021-04-20T05:28:01Z"}, "body": "I don't think I knew about bumpalo when I started this project, but there's basically no reason to use the old custom arena instead of this one.\r\n\r\nThis PR migrates the arena module from a custom implementation based on frozen vectors to a thin wrapper around bumpalo. It also changes the vectors to use bumpalo's custom Vec type, to move even more of the frontend data structures into the arena. Various cleanups along the way too.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/56/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/56/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/55", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/55/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/55/events", "html_url": "https://github.com/ezrosent/frawk/pull/55", "id": 851022763, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA5NTA2NDY1", "number": 55, "title": "Disallow literal regex parsing with last token ]", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-06T06:09:31Z", "updated_at": "2021-04-06T06:18:17Z", "closed_at": "2021-04-06T06:18:17Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/55", "html_url": "https://github.com/ezrosent/frawk/pull/55", "diff_url": "https://github.com/ezrosent/frawk/pull/55.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/55.patch", "merged_at": "2021-04-06T06:18:17Z"}, "body": "This fixes one of the examples brought up in #54 \r\nFor the first example, I think I'll need to do a larger refactor for the parser. Spent some time trying to permute the rules in syntax.lalrpop but I don't think local/tactical changes are going to get us there.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/55/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/55/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/52", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/52/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/52/events", "html_url": "https://github.com/ezrosent/frawk/pull/52", "id": 833414595, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk0NDE0MDE2", "number": 52, "title": "Add toupper and tolower builtin functions", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-17T05:26:46Z", "updated_at": "2021-03-17T05:30:25Z", "closed_at": "2021-03-17T05:30:22Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/52", "html_url": "https://github.com/ezrosent/frawk/pull/52", "diff_url": "https://github.com/ezrosent/frawk/pull/52.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/52.patch", "merged_at": "2021-03-17T05:30:22Z"}, "body": "This PR also includes an optimization for increment operations on an array (`m[x] += y` or `m[x]++`). This seems to speed up the groupby module.\r\n\r\nI'm not sure if I'm happy with the exact implementation here. I think it might be easier to express this pattern as a peephole-style optimization rather than a syntactic rewrite. I may experiment with that some in the future.\r\n\r\nAlso left to future work: SIMD implementations of toupper and tolower.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/52/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/52/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/50", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/50/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/50/events", "html_url": "https://github.com/ezrosent/frawk/pull/50", "id": 813063835, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc3MjcxMzIy", "number": 50, "title": "Optimize singe-byte character splitting, add adaptive parallelism ", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-22T02:50:01Z", "updated_at": "2021-02-22T02:51:04Z", "closed_at": "2021-02-22T02:51:01Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/50", "html_url": "https://github.com/ezrosent/frawk/pull/50", "diff_url": "https://github.com/ezrosent/frawk/pull/50.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/50.patch", "merged_at": "2021-02-22T02:51:01Z"}, "body": "Some miscellaneous hacking, and a new benchmark run. Highlights.\r\n\r\n* I found that `tsv-utils` is doing particularly well when there is a long sequence of columns at the end of the line that are not read by the script. This isn't so easy to do for `itsv` or `icsv`, but it is simple enough to get part of this benefit in the single-byte-splitter case.\r\n* I switched the TSV benchmarks to use frawk -F'\\t', as it provides a closer analog to what tsv-utils, mawk, and gawk are doing\r\n* Simplified some of the find_indexes code. It is still pretty gnarly, but now there is a lot less duplication, so it should be easier to optimize and modify in the future.\r\n\r\nIn addition, record-oriented parallelism now tries to dynamically determine a good number of worker threads for a given script. I've found the proper argument to the `-j` flag pretty hard to guess in advance: this new adaptive system seems to guess \"right\" at least in the cases I've tried. It's not quite as efficient as \"guessing right ahead of time\" (which explains lower numbers for some workloads in the benchmark), but overall I think this makes parallel frawk easier to user, and it probably boosted benchmark performance overall.\r\n\r\n-j flag now determines an _upper bound_ on the number of workers created in record-oriented mode. File-oriented parallelism is unchanged.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/50/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/50/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/46", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/46/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/46/events", "html_url": "https://github.com/ezrosent/frawk/pull/46", "id": 799046117, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY1NzU4MzUw", "number": 46, "title": "Fast float", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-02-02T08:17:51Z", "updated_at": "2021-02-04T02:47:54Z", "closed_at": "2021-02-02T08:22:37Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/46", "html_url": "https://github.com/ezrosent/frawk/pull/46", "diff_url": "https://github.com/ezrosent/frawk/pull/46.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/46.patch", "merged_at": "2021-02-02T08:22:37Z"}, "body": "This PR deletes the old implementation of eisel-lemeir and merges in the one from the new [fast-float](https://github.com/aldanor/fast-float-rust) library:\r\n\r\n(_fast is the frawk-internal implementation, and _ff is the new fast-float implementation)\r\n\r\n```\r\ntest runtime::float_parse::slow_path::bench::bench_strtod_long_fast    ... bench:         413 ns/iter (+/- 23)\r\ntest runtime::float_parse::slow_path::bench::bench_strtod_long_ff      ... bench:          53 ns/iter (+/- 25)\r\ntest runtime::float_parse::slow_path::bench::bench_strtod_medium_fast  ... bench:          20 ns/iter (+/- 5)\r\ntest runtime::float_parse::slow_path::bench::bench_strtod_medium_ff    ... bench:          25 ns/iter (+/- 6)\r\ntest runtime::float_parse::slow_path::bench::bench_strtod_short_fast   ... bench:          11 ns/iter (+/- 9)\r\ntest runtime::float_parse::slow_path::bench::bench_strtod_short_ff     ... bench:          10 ns/iter (+/- 1)\r\n```\r\n\r\nIn the rudimentary benchmarks I had in the float_parse module, `fast_float` is far better on long strings (we fell back to libc, which is particularly slow) and seems to be slower -albiet within the margin of error- for short and medium strings (both of which are in the fast path for the algorithm. Performance aside, `fast_float` is far better tested than frawk's float_parse module.\r\n\r\nI'll look around for any improvements to close the gap in the fast path, but I suspect the difference here may be in the noise.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/46/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/46/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/45", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/45/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/45/events", "html_url": "https://github.com/ezrosent/frawk/pull/45", "id": 799025857, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY1NzQxODQ5", "number": 45, "title": "Various cleanups", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-02T07:45:59Z", "updated_at": "2021-02-02T07:46:16Z", "closed_at": "2021-02-02T07:46:12Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/45", "html_url": "https://github.com/ezrosent/frawk/pull/45", "diff_url": "https://github.com/ezrosent/frawk/pull/45.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/45.patch", "merged_at": "2021-02-02T07:46:12Z"}, "body": "This change includes a number of small cleanups I was looking at, along with some test fixes in line with the new output formatting introduced in #44 ", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/45/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/44", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/44/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/44/events", "html_url": "https://github.com/ezrosent/frawk/pull/44", "id": 798566771, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY1MzYxMTY0", "number": 44, "title": "Print Float as Int if it ends in \".0\".", "user": {"login": "ghuls", "id": 1299177, "node_id": "MDQ6VXNlcjEyOTkxNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1299177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghuls", "html_url": "https://github.com/ghuls", "followers_url": "https://api.github.com/users/ghuls/followers", "following_url": "https://api.github.com/users/ghuls/following{/other_user}", "gists_url": "https://api.github.com/users/ghuls/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghuls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghuls/subscriptions", "organizations_url": "https://api.github.com/users/ghuls/orgs", "repos_url": "https://api.github.com/users/ghuls/repos", "events_url": "https://api.github.com/users/ghuls/events{/privacy}", "received_events_url": "https://api.github.com/users/ghuls/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-01T17:38:07Z", "updated_at": "2021-02-02T07:36:12Z", "closed_at": "2021-02-02T07:36:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/44", "html_url": "https://github.com/ezrosent/frawk/pull/44", "diff_url": "https://github.com/ezrosent/frawk/pull/44.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/44.patch", "merged_at": "2021-02-02T07:36:12Z"}, "body": "Print Float as Int if it ends in \".0\" as this is the default behaviour in other\r\nawk implementations.\r\n\r\nFixes issue #41: Other awks don't print trailing zeros when printing floats.\r\n\r\nTest case:\r\n\r\n    for AWK in frawk_old frawk_new gawk mawk goawk; do\r\n        echo \"${AWK}:\";\r\n\r\n        echo '1 9.0 5.5 6.600 1234567890' | ${AWK} '\r\n            BEGIN { OFS=\"\\t\" }\r\n            {\r\n                print \"column 1:\", $1, $1 + 0, 0 + $1, $1 + 1.0;\r\n                print \"column 2:\", $2, $2 + 0, 0 + $2, $2 + 1.0;\r\n                print \"column 3:\", $3, $3 + 0, 0 + $3, $3 + 0.5;\r\n                print \"column 4:\", $4, $4 + 0, 0 + $4, $4 + 0.4;\r\n                print \"column 5:\", $5, $5 + 0, 0 + $5, $5 + 0.4;\r\n            }';\r\n        echo;\r\n    done\r\n\r\nOutput:\r\n\r\nfrawk_old:\r\ncolumn 1:\t1\t1.0\t1.0\t2.0\r\ncolumn 2:\t9.0\t9.0\t9.0\t10.0\r\ncolumn 3:\t5.5\t5.5\t5.5\t6.0\r\ncolumn 4:\t6.600\t6.6\t6.6\t7.0\r\ncolumn 5:\t1234567890\t1234567890.0\t1234567890.0\t1234567890.4\r\n\r\nfrawk_new:\r\ncolumn 1:\t1\t1\t1\t2\r\ncolumn 2:\t9.0\t9\t9\t10\r\ncolumn 3:\t5.5\t5.5\t5.5\t6\r\ncolumn 4:\t6.600\t6.6\t6.6\t7\r\ncolumn 5:\t1234567890\t1234567890\t1234567890\t1234567890.4\r\n\r\ngawk:\r\ncolumn 1:\t1\t1\t1\t2\r\ncolumn 2:\t9.0\t9\t9\t10\r\ncolumn 3:\t5.5\t5.5\t5.5\t6\r\ncolumn 4:\t6.600\t6.6\t6.6\t7\r\ncolumn 5:\t1234567890\t1234567890\t1234567890\t1.23457e+09\r\n\r\nmawk:\r\ncolumn 1:\t1\t1\t1\t2\r\ncolumn 2:\t9.0\t9\t9\t10\r\ncolumn 3:\t5.5\t5.5\t5.5\t6\r\ncolumn 4:\t6.600\t6.6\t6.6\t7\r\ncolumn 5:\t1234567890\t1234567890\t1234567890\t1.23457e+09\r\n\r\ngoawk:\r\ncolumn 1:\t1\t1\t1\t2\r\ncolumn 2:\t9.0\t9\t9\t10\r\ncolumn 3:\t5.5\t5.5\t5.5\t6\r\ncolumn 4:\t6.600\t6.6\t6.6\t7\r\ncolumn 5:\t1234567890\t1234567890\t1234567890\t1.23457e+09", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/44/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/44/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/43", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/43/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/43/events", "html_url": "https://github.com/ezrosent/frawk/pull/43", "id": 797804585, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0NzIzNjA2", "number": 43, "title": "Speed up column mutation", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-31T20:31:05Z", "updated_at": "2021-02-01T00:12:08Z", "closed_at": "2021-02-01T00:12:01Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/43", "html_url": "https://github.com/ezrosent/frawk/pull/43", "diff_url": "https://github.com/ezrosent/frawk/pull/43.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/43.patch", "merged_at": "2021-02-01T00:12:01Z"}, "body": "This change includes a number of small improvements to speed up field mutation and `$0` reconstruction. \r\n\r\nOne of these improvements was to change `Buf::slice_to_str` to prefer `Shared` strings rather than `Inline` strings. For strings that are only read once or twice, the extra `memcpy` of reading into an Inline string ends up being too much overhead. This change generates single-percentage-point decreases in runtime for some aggregation-heavy benchmarks, but I think the overall win for output-heavy benchmarks is enough to keep the change.\r\n\r\nThe other impact of this change was to make reference counting for many more strings in frawk scripts nontrivial. This revealed two separate bugs in the llvm and cranelift backends: both were `ref`-ing strings and maps too often, leading simple scripts to hold onto the entire input in memory. This took a while to track down, but this bug does appear to be fixed in this change.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/43/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/43/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/40", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/40/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/40/events", "html_url": "https://github.com/ezrosent/frawk/pull/40", "id": 791030279, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5MTU0NDc4", "number": 40, "title": "Fix usage of '-v' args as last argument before program.", "user": {"login": "ghuls", "id": 1299177, "node_id": "MDQ6VXNlcjEyOTkxNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1299177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghuls", "html_url": "https://github.com/ghuls", "followers_url": "https://api.github.com/users/ghuls/followers", "following_url": "https://api.github.com/users/ghuls/following{/other_user}", "gists_url": "https://api.github.com/users/ghuls/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghuls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghuls/subscriptions", "organizations_url": "https://api.github.com/users/ghuls/orgs", "repos_url": "https://api.github.com/users/ghuls/repos", "events_url": "https://api.github.com/users/ghuls/events{/privacy}", "received_events_url": "https://api.github.com/users/ghuls/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-21T12:32:58Z", "updated_at": "2021-01-22T06:48:02Z", "closed_at": "2021-01-22T06:48:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/40", "html_url": "https://github.com/ezrosent/frawk/pull/40", "diff_url": "https://github.com/ezrosent/frawk/pull/40.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/40.patch", "merged_at": "2021-01-22T06:48:02Z"}, "body": "Fix usage of '-v' args as last argument before program.\r\nNow it is not needed anymore to have another option after\r\n'-v' or to have '--' before the program part.\r\n\r\nAs indicated in the clap documentation for Arg::multiple:\r\n  Setting multiple(true) for an option with no other details,\r\n  allows multiple values and multiple occurrences because it\r\n  isn't possible to have more occurrences than values for options.\r\n  Because multiple values are allowed, --option val1 val2 val3 is\r\n  perfectly valid, be careful when designing a CLI where positional\r\n  arguments are expected after a option which accepts multiple\r\n  values, as clap will continue parsing values until it reaches the\r\n  max or specific number of values defined, or another flag or\r\n  option.\r\n\r\n  It's possible to define an option which allows multiple\r\n  occurrences, but only one value per occurrence. To do this use\r\n  Arg::number_of_values(1) in coordination with Arg::multiple(true).", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/40/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/40/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/39", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/39/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/39/events", "html_url": "https://github.com/ezrosent/frawk/pull/39", "id": 790817091, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU4OTY5ODk0", "number": 39, "title": "Fix `-v` arg parsing", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-21T08:27:15Z", "updated_at": "2021-01-22T07:44:26Z", "closed_at": "2021-01-22T07:44:13Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/39", "html_url": "https://github.com/ezrosent/frawk/pull/39", "diff_url": "https://github.com/ezrosent/frawk/pull/39.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/39.patch", "merged_at": "2021-01-22T07:44:13Z"}, "body": "This change implements switches frawk over to Awk semantics for `-v` args. frawk initially treated the RHS of these args as being arbitrary expressions; while marginally more expressive, this is a breaking change that makes `-v` much less ergonomic in some common cases.\r\n\r\nIn addition to moving to Awk semantics, this change also adds tests for these arguments to avoid regressions like the one found in #22.", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/39/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/39/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ezrosent/frawk/issues/36", "repository_url": "https://api.github.com/repos/ezrosent/frawk", "labels_url": "https://api.github.com/repos/ezrosent/frawk/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/ezrosent/frawk/issues/36/comments", "events_url": "https://api.github.com/repos/ezrosent/frawk/issues/36/events", "html_url": "https://github.com/ezrosent/frawk/pull/36", "id": 788542725, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU3MDM0OTEx", "number": 36, "title": "Cranelift Backend", "user": {"login": "ezrosent", "id": 3622899, "node_id": "MDQ6VXNlcjM2MjI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3622899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezrosent", "html_url": "https://github.com/ezrosent", "followers_url": "https://api.github.com/users/ezrosent/followers", "following_url": "https://api.github.com/users/ezrosent/following{/other_user}", "gists_url": "https://api.github.com/users/ezrosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezrosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezrosent/subscriptions", "organizations_url": "https://api.github.com/users/ezrosent/orgs", "repos_url": "https://api.github.com/users/ezrosent/repos", "events_url": "https://api.github.com/users/ezrosent/events{/privacy}", "received_events_url": "https://api.github.com/users/ezrosent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-18T20:57:08Z", "updated_at": "2021-02-27T18:54:22Z", "closed_at": "2021-01-18T21:06:25Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ezrosent/frawk/pulls/36", "html_url": "https://github.com/ezrosent/frawk/pull/36", "diff_url": "https://github.com/ezrosent/frawk/pull/36.diff", "patch_url": "https://github.com/ezrosent/frawk/pull/36.patch", "merged_at": "2021-01-18T21:06:25Z"}, "body": "This change adds a frawk backend that JITs machine code using cranelift. This is a large diff because I refactored a lot of the code in the LLVM module to live behind higher-level interfaces that we could implement in terms of either LLVM or cranelift. On top of that, I regenerated all of the benchmark numbers to include the cranelift backend.\r\n\r\nCranelift will be the new default backend for frawk. I'm hoping it will make frawk more accessible for people who do not want to install or build LLVM on their own. ", "reactions": {"url": "https://api.github.com/repos/ezrosent/frawk/issues/36/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ezrosent/frawk/issues/36/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]