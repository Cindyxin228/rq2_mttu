[{"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1269", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1269/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1269/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1269/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1269", "id": 2894747246, "node_id": "PR_kwDOEj0F686NVm1u", "number": 1269, "title": "Mark some policies-related structs as non_exhaustive", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 1, "created_at": "2025-03-04T15:58:47Z", "updated_at": "2025-03-04T16:20:41Z", "closed_at": "2025-03-04T16:20:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1269", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1269", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1269.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1269.patch", "merged_at": "2025-03-04T16:20:41Z"}, "body": "We missed some structs when adding non_exhaustive.\r\nThis PR fixes that - we may want to add more stuff to them.\r\n\r\nOne example is RequestInfo, we will definitely want to add at least one field to it, see https://github.com/scylladb/scylla-rust-driver/issues/1155\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1269/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1267", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1267/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1267/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1267/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1267", "id": 2894532634, "node_id": "PR_kwDOEj0F686NU54B", "number": 1267, "title": "CI: Fix serverless job", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-03-04T14:48:08Z", "updated_at": "2025-03-04T15:13:26Z", "closed_at": "2025-03-04T15:13:26Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1267", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1267", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1267.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1267.patch", "merged_at": "2025-03-04T15:13:26Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1267/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1266", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1266/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1266/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1266/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1266", "id": 2894257974, "node_id": "PR_kwDOEj0F686NT9kR", "number": 1266, "title": "state: Adjust ClusterState keyspace info getters", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2025-03-04T13:23:25Z", "updated_at": "2025-03-04T15:37:26Z", "closed_at": "2025-03-04T15:37:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1266", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1266", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1266.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1266.patch", "merged_at": "2025-03-04T15:37:26Z"}, "body": "We don't want to expose the underlying structure of how we store keyspace info. This is because, we may want to change this structure in the future.\r\n\r\nOne possible idea for the future is to wrap `Keyspace` in an `Arc`. This would allow us to do following:\r\n- share keyspace info in multiple places\r\n- cheap cloning of keyspace info (e.g. currently we do the clone of whole `Keyspace` structure here: https://github.com/scylladb/scylla-rust-driver/blob/main/scylla/src/cluster/state.rs#L118-L121)\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1266/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1265", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1265/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1265/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1265/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1265", "id": 2894166113, "node_id": "PR_kwDOEj0F686NTqDU", "number": 1265, "title": "Release 1.0.0", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2025-03-04T12:55:32Z", "updated_at": "2025-04-01T14:06:21Z", "closed_at": "2025-03-04T17:07:00Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1265", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1265", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1265.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1265.patch", "merged_at": "2025-03-04T17:07:00Z"}, "body": "This is a PR with changes for release 1.0.0. Its purpose is to make it possible to review the release notes, and changes to README.md.\r\n\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/968\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/552\r\n\r\n## Current release notes\r\n\r\n\r\nThe ScyllaDB team is pleased to announce ScyllaDB Rust Driver 1.0.0,\r\nan asynchronous CQL driver for Rust, optimized for Scylla, but also compatible with Apache Cassandra!\r\n\r\nSome interesting statistics:\r\n\r\n- over 3.162k downloads on crates!\r\n- over 612 GitHub stars!\r\n\r\n## Stabilization\r\n\r\n1.0 has a special meaning for Rust crates - it means that the crate is considered \"API-stable\" - however there is no specific definition of what it means to be \"API-stable\".\r\nSo what does it mean to us, and why did we release this version?\r\nUp until now, we introduced breaking changes whenever we felt we could improve the API this way (sometimes we kept the old API for a bit, and provided a migration guide). This caused the vast majority of our releases to have to bump the major version number - we didn't reach minor version greater than \"2\" for a few years now. This is not a great situation for our users, because it means it is basically never possible to update the driver without adjusting their codebases.\r\nAt the same time we know that we can't (and don't want to) freeze the API forever - there are still many improvements we can make, and the databases (Scylla / Cassandra) are always changing, which sometimes requires breaking changes on our part (an example of this is Tablets feature in Scylla, which required us to change our load balancing APIs). This means we won't stay on 1.x forever.\r\nWe decided to stabilize the API by providing a guarantee regarding how long a breaking change won't occur, which will allows users to better allocate time for dealing with breakage. For the 1.0, we won't release 2.0 earlier than 9 months after 1.0 (but we may release it later). Until then we will release minor (1.x) versions. In 1.x versions we may of course introduce new APIs, and [deprecate](https://doc.rust-lang.org/reference/attributes/diagnostics.html#the-deprecated-attribute) old ones, but there will be no breaking changes.\r\nTwo exceptions that may force us to release major versions quicker are:\r\n- urgent security issues\r\n- changes in Scylla / Cassandra that have to be supported by driver quickly and there is no way to implement them without a major version bump.\r\n\r\nAfter releasing new major version (e.g. 2.0) we will continue to provide bugfixes (but no new features) for the previous major version (e.g. 1.0). The exact duration of such bugfix support will be provided after the new major version is released.\r\n\r\nAdditionally, 1.0 release signifies that we view the driver as production ready. It has been for a long time now, but the 0.x version number may have been suggesting otherwise to some people, and we don't want to send mixed signals.\r\n\r\n## Changes\r\n\r\n**New features / enhancements:**\r\n\r\n- \u26a0\ufe0f **[API-breaking]** Support for Rustls as a TLS provider was added. With this change you can connect to Scylla with TLS without having additional system C libraries installed! ([#1254](https://github.com/scylladb/scylla-rust-driver/pull/1254))\r\n- Added Timestamp Generators. This is a user-customizable way of generating client-side timestamps for requests. ([#1128](https://github.com/scylladb/scylla-rust-driver/pull/1128))\r\n- \u26a0\ufe0f **[API-breaking]** Driver metrics performance was improved. Previously they used `Mutex` internally, causing performance problems because of contention. Now `AtomicHistogram` is used to avoid this problem. Additionally, metrics are now guarded by `metrics` feature, so that the users who don't need them don't have to pay the performance cost and introduce additional dependency. ([#1263](https://github.com/scylladb/scylla-rust-driver/pull/1263))\r\n- Borrowed versions of CqlVarint and CqlDecimal were added. ([#1148](https://github.com/scylladb/scylla-rust-driver/pull/1148))\r\n- \u26a0\ufe0f **[API-breaking]** In metadata, MissingUserDefinedType is no longer part of `CqlType::UserDefinedType`. Now, in case of this (and some other errors) the metadata fetch for given keyspace will be aborted (and warning printed), returning previous version of this keyspace if possible. ([#1162](https://github.com/scylladb/scylla-rust-driver/pull/1162))\r\n- Metadata fetching now verifies that partition key and clustering key indexes have no holes. Thanks to that the users now have guarantee that column names from `Table::partition_key` and `Table::clustering_key` are present in `Table::columns`. If this is not the case, fetch is failed only for this keyspace, as above. ([#1252](https://github.com/scylladb/scylla-rust-driver/pull/1252))\r\n- \u26a0\ufe0f **[API-breaking]** `Node::is_down` was made private, instead new method `Node::is_connected` was introduced. The old method has very misleading semantics. The new one tells if there are currently any driver connections opened to given node. ([#1196](https://github.com/scylladb/scylla-rust-driver/pull/1196))\r\n- \u26a0\ufe0f **[API-breaking]** Added partial `Vector` support. Driver can now correctly fetch metadata of tables with vector columns. Serializing / deserializing vector values will be added after 1.0. ([#1020](https://github.com/scylladb/scylla-rust-driver/pull/1020))\r\n- `Display` was implemented for `CqlValue`. ([#1257](https://github.com/scylladb/scylla-rust-driver/pull/1257))\r\n- \u26a0\ufe0f **[API-breaking]** `rand` dependency was updated to 0.9.0. This is a breaking change, because a trait from `rand` appears in `ReplicaSet::choose_filtered` method. ([#1255](https://github.com/scylladb/scylla-rust-driver/pull/1255))\r\n- Made all internal queries to `system.local` table use `WHERE key='local'` which should be a minor performance improvement. ([#1245](https://github.com/scylladb/scylla-rust-driver/pull/1245))\r\n- Implemented `Debug` for `MaybeUnset`.  ([#1199](https://github.com/scylladb/scylla-rust-driver/pull/1199))\r\n\r\n**Bug fixes:**\r\n\r\n- `Debug` implementation on `CachingSession` was not usable due to unsatisfiable bounds. ([#1161](https://github.com/scylladb/scylla-rust-driver/pull/1161))\r\n- \u26a0\ufe0f **[API-breaking]** Our derive macros were not fully hygienic. This was discovered when migrating the hygiene test to new ser/deser frameworks. Issue was fixed, test was migrated and extended to cover more scenarios. Fixing hygiene required moving some modules in `scylla-cql`, so the change is breaking - but it should not affect users. ([#1176](https://github.com/scylladb/scylla-rust-driver/pull/1176))\r\n\r\n**API cleanups / better types:**\r\n\r\n- \u26a0\ufe0f **[API-breaking]** Most of the driver module structure was reworked. Before most of the files were put in the non-descriptive \"transport\" module. Now our top-level modules are much more clear: `authentication`, `client`, `cluster`, `network`, `observability`, `policies`, `response`, `routing`, `statement`, `utils`. Some structs and method were also renamed as part of this effort. Unfortunately, this is a big change that will require users of our driver to update most of their `use` statements. ([#1163](https://github.com/scylladb/scylla-rust-driver/pull/1163), [#1187](https://github.com/scylladb/scylla-rust-driver/pull/1187))\r\n- \u26a0\ufe0f **[API-breaking]** `CqlType` was removed, and `ColumnType` is used in its place. To make this possible, `ColumnType` was heavily modified. ([#1166](https://github.com/scylladb/scylla-rust-driver/pull/1166))\r\n- \u26a0\ufe0f **[API-breaking]** Errors refactor, started a few versions ago, was finished. Credits to @muzarski for this incredible work. ([#1204](https://github.com/scylladb/scylla-rust-driver/pull/1204), [#1200](https://github.com/scylladb/scylla-rust-driver/pull/1200), [#1191](https://github.com/scylladb/scylla-rust-driver/pull/1191), [#1194](https://github.com/scylladb/scylla-rust-driver/pull/1194), [#1193](https://github.com/scylladb/scylla-rust-driver/pull/1193), [#1201](https://github.com/scylladb/scylla-rust-driver/pull/1201), [#1192](https://github.com/scylladb/scylla-rust-driver/pull/1192), [#1185](https://github.com/scylladb/scylla-rust-driver/pull/1185), [#1180](https://github.com/scylladb/scylla-rust-driver/pull/1180), [#1170](https://github.com/scylladb/scylla-rust-driver/pull/1170), [#1181](https://github.com/scylladb/scylla-rust-driver/pull/1181), [#1160](https://github.com/scylladb/scylla-rust-driver/pull/1160), [#1159](https://github.com/scylladb/scylla-rust-driver/pull/1159), [#1157](https://github.com/scylladb/scylla-rust-driver/pull/1157), [#1168](https://github.com/scylladb/scylla-rust-driver/pull/1168))\r\n- \u26a0\ufe0f **[API-breaking]** Old serialization and deserialization frameworks were fully removed, after being deprecated in previous version of the driver. ([#1184](https://github.com/scylladb/scylla-rust-driver/pull/1184))\r\n- \u26a0\ufe0f **[API-breaking]** After legacy APIs were removed it became clear that module structure of `scylla-cql` has a lot of problems. Many of them were addressed, which of course is a very breaking change. ([#1198](https://github.com/scylladb/scylla-rust-driver/pull/1198))\r\n- \u26a0\ufe0f **[API-breaking]** APIs related to TLS were refactored when adding support for Rustls. This will enable us to add further providers in the future without breaking backwards compatibility. ([#1254](https://github.com/scylladb/scylla-rust-driver/pull/1254))\r\n- \u26a0\ufe0f **[API-breaking]** `Query` was renamed to `Statement`.  ([#1250](https://github.com/scylladb/scylla-rust-driver/pull/1250))\r\n- \u26a0\ufe0f **[API-breaking]** Removed `SerializedValues` from public API of `scylla` crate. Functions using it were either changed to using `&dyn SerializeRow` or deemed unnecessary and removed from the public API.  Error types of `ClusterState` token calculation APIs were changed as part of this. ([#1252](https://github.com/scylladb/scylla-rust-driver/pull/1252))\r\n- `ColumnSpecView` and `TableSpecView` were removed. `ColumnSpecs` received a second lifetime. `PreparedStatement::get_variable_col_specs` and `PreparedStatement::get_result_set_col_specs` now return `ColumnSpecs` to make it consistent with `QueryRowsResult` and `QueryPager`. ([#1249](https://github.com/scylladb/scylla-rust-driver/pull/1249))\r\n- \u26a0\ufe0f **[API-breaking]** Low-level partition APIs were made private. `PreparedStatement::get_partitioner_name()` was made `pub`. ([#1222](https://github.com/scylladb/scylla-rust-driver/pull/1222))\r\n- \u26a0\ufe0f **[API-breaking]** Marked various structures and enums `#[non_exhaustive]` because we may want to add new variants to them in the future. ([#1261](https://github.com/scylladb/scylla-rust-driver/pull/1261), [#1262](https://github.com/scylladb/scylla-rust-driver/pull/1262), [#1257](https://github.com/scylladb/scylla-rust-driver/pull/1257), [#1205](https://github.com/scylladb/scylla-rust-driver/pull/1205), [#1269](https://github.com/scylladb/scylla-rust-driver/pull/1269))\r\n- \u26a0\ufe0f **[API-breaking]** `RetryPolicy`-related APIs were adjusted to past naming changes in load balancing. ([#1202](https://github.com/scylladb/scylla-rust-driver/pull/1202))\r\n- \u26a0\ufe0f **[API-breaking]** Derive macro paths were made consistent, so that there is a single place to import a macro from. ([#1260](https://github.com/scylladb/scylla-rust-driver/pull/1260))\r\n- \u26a0\ufe0f **[API-breaking]** `ClusterState` now has getter and iterator for keyspaces, instead of exposing `HashMap<String, Keyspace>`. ([#1266](https://github.com/scylladb/scylla-rust-driver/pull/1266))\r\nThe two changes below are formally API-breaking, but are extremely unlikely to cause any breakage, so we don't mark them as such.\r\n- Unpublished `PeerEndpoint`, because it was not used in any public API. ([#1261](https://github.com/scylladb/scylla-rust-driver/pull/1261))\r\n- Removed `RowSerializationContext::column_by_name` because there is no probable use case that needs it. ([#1252](https://github.com/scylladb/scylla-rust-driver/pull/1252))\r\n\r\n**Internal API cleanups/refactors:**\r\n\r\n- Internal Session APIs were renamed to make them easier to understand. ([#1156](https://github.com/scylladb/scylla-rust-driver/pull/1156))\r\n\r\n**Documentation:**\r\n\r\n- Updated documentation theme to 1.8.5. ([#1175](https://github.com/scylladb/scylla-rust-driver/pull/1175), [#1174](https://github.com/scylladb/scylla-rust-driver/pull/1174))\r\n- Documentation terminology was adjusted with regards to using `query` vs `statement` vs `request`. ([#1250](https://github.com/scylladb/scylla-rust-driver/pull/1250))\r\n- Hidden internal testing API from publicly rendered documentation. ([#1262](https://github.com/scylladb/scylla-rust-driver/pull/1262))\r\n- Our logo was not showing up on crates.io due to issues with relative links. ([#1158](https://github.com/scylladb/scylla-rust-driver/pull/1158))\r\n- README and other markdown files were updated in preparation for 1.0 release. ([#1259](https://github.com/scylladb/scylla-rust-driver/pull/1259))\r\n- Doc comments of our derive macros were moved to `scylla-macros` crate. ([#1260](https://github.com/scylladb/scylla-rust-driver/pull/1260))\r\n\r\n\r\n**CI / developer tool improvements:**\r\n\r\n- Tests now retry DDL requests when Scylla returns \"group 0 concurrent modification error\" to workaround a problem in Scylla. ([#1197](https://github.com/scylladb/scylla-rust-driver/pull/1197), [#1206](https://github.com/scylladb/scylla-rust-driver/pull/1206))\r\n- Addressed Clippy lints enabled in Rust 1.85. ([#1256](https://github.com/scylladb/scylla-rust-driver/pull/1256))\r\n- Various CI fixes, mostly Docker-related. ([#1195](https://github.com/scylladb/scylla-rust-driver/pull/1195), [#1179](https://github.com/scylladb/scylla-rust-driver/pull/1179), [#1173](https://github.com/scylladb/scylla-rust-driver/pull/1173), [#1209](https://github.com/scylladb/scylla-rust-driver/pull/1209), [#1259](https://github.com/scylladb/scylla-rust-driver/pull/1259))\r\n\r\n**Others:**\r\n\r\n- Various small performance optimizations, mostly related to allocations in logging. ([#1169](https://github.com/scylladb/scylla-rust-driver/pull/1169))\r\n\r\n\r\nCongrats to all contributors and thanks everyone for using our driver!\r\n\r\n----------\r\n\r\nThe source code of the driver can be found here:\r\n- [https://github.com/scylladb/scylla-rust-driver](https://github.com/scylladb/scylla-rust-driver)\r\nContributions are most welcome!\r\n\r\nThe official crates.io registry entry is here:\r\n- [https://crates.io/crates/scylla](https://crates.io/crates/scylla)\r\n\r\nThank you for your attention, please do not hesitate to contact us if you have any questions, issues, feature requests, or are simply interested in our driver!\r\n\r\nContributors since the last release:\r\n\r\n| commits | author            |\r\n|---------|-------------------|\r\n| 194     | Karol Bary\u0142a      |\r\n| 149     | Wojciech Przytu\u0142a |\r\n| 133     | Miko\u0142aj Uzarski   |\r\n| 9       | Andr\u00e9s Medina     |\r\n| 8       | Dmitry Kropachev  |\r\n| 6       | smoczy123         |\r\n| 6       | Dawid Pawlik      |\r\n| 3       | Henrik Gustafsson |\r\n| 2       | Joel H\u00f6ner        |\r\n| 2       | Lucas Kent        |\r\n| 2       | William Shiao     |\r\n| 2       | dependabot[bot]   |\r\n| 1       | Nikodem Gapski    |\r\n| 1       | Stanislav Tkach   |\r\n\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1265/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1265/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1263", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1263/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1263/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1263/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1263", "id": 2892153009, "node_id": "PR_kwDOEj0F686NM3oz", "number": 1263, "title": "Make metrics collection optional/faster", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 3, "created_at": "2025-03-03T19:43:09Z", "updated_at": "2025-03-04T16:54:00Z", "closed_at": "2025-03-04T15:42:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1263", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1263", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1263.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1263.patch", "merged_at": "2025-03-04T15:42:46Z"}, "body": "This is a touch-up of #1147. Pasting the original cover letter below.\r\n-------\r\n\r\nThis patch contains:\r\n- Implementation of lock-free histogram with hot and cold bucket pools\r\n- Introduction of crate feature \"metrics\" to make using them optional\r\n- Functionality to gather latency statistics via histogram snapshots\r\n- Implementation of [rates of queries per second](https://github.com/scylladb/cpp-driver/blob/9d6b05c9d4ebd0a6d7006af4df3e33fcdf956eeb/src/metrics.hpp#L39C1-L252C5) based on cpp-driver implementation.\r\n- Initial implementation of connection metrics (changes required after review)\r\n\r\nFixes: #330\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1263/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1262", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1262/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1262/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1262/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1262", "id": 2891329803, "node_id": "PR_kwDOEj0F686NKCj_", "number": 1262, "title": "Minor API stabilization changes", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 1, "created_at": "2025-03-03T13:56:36Z", "updated_at": "2025-03-03T14:51:46Z", "closed_at": "2025-03-03T14:51:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1262", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1262", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1262.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1262.patch", "merged_at": "2025-03-03T14:51:46Z"}, "body": "- Marked some enums as non_exhaustive, because we may want to add variants to them.\r\n- Marked internal_testing module as doc(hidden), otherwise it would show up at docs.rs\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1262/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1261", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1261/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1261/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1261/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1261", "id": 2890893235, "node_id": "PR_kwDOEj0F686NIiN4", "number": 1261, "title": "mark metadata public structs as `non_exhaustive`", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 9, "created_at": "2025-03-03T10:56:13Z", "updated_at": "2025-03-03T15:15:38Z", "closed_at": "2025-03-03T15:15:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1261", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1261", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1261.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1261.patch", "merged_at": "2025-03-03T15:15:38Z"}, "body": "I decided to introduce getters for (and un-pub the fields of) `Keyspace` and `Table`. I think these are the structs whose current fields may be modified in the future.\r\n\r\nRemaining types (`ColumnKind`, `Column`, `MaterializedView` and `Strategy`) are simple enough for me to believe we won't need to modify their current fields/variants in the future. OTOH, we want to be able to introduce new fields/variants in the future - thus I marked them as `non_exhaustive`.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1261/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1260", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1260/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1260/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1260/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1260", "id": 2887758462, "node_id": "PR_kwDOEj0F686M-MKE", "number": 1260, "title": "Address unnecessary doc(hidden)", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 7, "created_at": "2025-02-28T17:50:42Z", "updated_at": "2025-03-03T11:15:02Z", "closed_at": "2025-03-03T11:15:02Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1260", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1260", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1260.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1260.patch", "merged_at": "2025-03-03T11:15:02Z"}, "body": "There are some places were we use `doc(hidden)` and we probably shouldn't.\r\nIn some cases the function can be just removed, in others it can be made pub(crate), or the doc(hidden) can be just removed.\r\nFirst four commits should be quite obvious, I don't expect them to be controversial.\r\n\r\nThe last commit is the one I'm not sure about.\r\n\r\nIt removes `doc(hidden)` from items that are to be used only by our proc macros.\r\nWhy? There are a few arguments for that - but also arguments against that.\r\n\r\nA more theoretical / ideological issue is that the macros should be just that - macros, a way to automatically generate some code instead of writing it by hand.\r\nIf the macros use some private API that the user should not use, then this is no longer true - because writing the same code by hand is no longer possible without opting out of semver.\r\n\r\nOne exception that could be doc(hidden) without breaking this rule is items that themselves only use the public API, so they could be considered macro-internal items (e.g. macro could generate their code directly).\r\nMacros of course can't export non-macro functions, so the function would need to be generated as a nested function, which would increase compile time. `doc(hidden)` seems like a good solution here.\r\nExample of such item is `mk_typck_err`.\r\n\r\nThe more practical argument is that the items used by scylla-macros have to (currently, but not inherently) partially adhere to semver even if they are `doc(hidden)`.\r\nIf they are doc(hidden) then this is harder, because `cargo-semver-checks` no longer checks them (because they are not part of public API).\r\n\r\nWhy do those items need to (partially) adhere to semver in our case?\r\n`scylla` crate currently depends on `scylla-macros` in a way we would on most other dependencies: by specifying minimum version, and declaring that versions that are semver-compatible with this one are also ok.\r\n`scylla-macros = { version = \"0.7.0\", path = \"../scylla-macros\" }` means that using `0.7.0` is fine, but so is using `0.7.39`.\r\nLet's say we have `scylla` crate 1.1, with dependency on scylla-macros version = \"1.1\".\r\nNow let's say in 1.2 we want to change the API used by macros, so we remove some stuff from `macro_internal` mod, and adjust the macros.\r\n\r\nThis would break `scylla` 1.1 because it would happily use new version of the `scylla-macros` crate, that uses incompatible items.\r\nWe can fix it by treating our proc macro API as a public one. This would address both the theoretical and practical issue.\r\n\r\nThe solution that seem to be easier in practice is to only depend on a specific version of `scylla-macros`. \r\nThat is what `clap` and `serde` do - they depend on a specific version of their macro crates.\r\nIn our case this solution is not totally obvious, because `scylla-cql` is the one that depends on `scylla-macros`, and defines the items in `macro_internal` module.\r\nIf we wanted to go this way, we should probably:\r\n- make `scylla-cql` depend on fixed version on `scylla-macros`.\r\n- keep `scylla` dependencies loose as they are now, because `scylla` crates doesn't really influence macros.\r\n\r\nThe second solution allows us to modify the interface between macros and the code.\r\nIt's worth mentioning that macros are only a separate crate out of necessity (Rust doesn't allow proc macros to be defined inside lib crate),\r\nso depending on a specific version of macros makes sense - it's basically treating both crates as one.\r\nUnfortunately this solution doesn't address the first problem at all - the interface between macros and the crate still remains inaccessible magic :(\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1260/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1259", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1259/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1259/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1259/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1259", "id": 2882375330, "node_id": "PR_kwDOEj0F686Mr2KG", "number": 1259, "title": "Minor CI / docs fixes", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 8, "created_at": "2025-02-26T17:45:17Z", "updated_at": "2025-03-01T10:54:44Z", "closed_at": "2025-03-01T10:54:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1259", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1259", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1259.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1259.patch", "merged_at": "2025-03-01T10:54:44Z"}, "body": "When working on adjusting CI / README / MAINTENANCE for 1.0 I made some minor improvements that can easily be merged earlier.\r\nTo not clutter the main 1.0 PR, I'm opening this one.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1259/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1257", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1257/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1257/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1257/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1257", "id": 2875646740, "node_id": "PR_kwDOEj0F686MU2fp", "number": 1257, "title": "value: mark CqlValue as non_exhaustive", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4564362172, "node_id": "LA_kwDOEj0F688AAAABEA6jvA", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/API-breaking", "name": "API-breaking", "color": "FBCA04", "default": false, "description": "This might introduce incompatible API changes"}, {"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 5, "created_at": "2025-02-24T17:07:43Z", "updated_at": "2025-02-25T17:42:28Z", "closed_at": "2025-02-25T17:42:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1257", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1257", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1257.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1257.patch", "merged_at": "2025-02-25T17:42:28Z"}, "body": "## Motivation\r\nThe motivation is quite obvious - we want to be able to extend `CqlValue` without introducing API breaking changes in the future.\r\n\r\n## Obstacles\r\nWhen you simply try to add `non_exhaustive` to `CqlValue`, the compiler starts to complain. The reason is that `CqlValue` is defined in `scylla-cql` crate, and we match against its instance in `CqlValueDisplayer` (scylla crate). The compiler complains that `_` arm is not covered - which makes sense.\r\n\r\nWe could obviously add the `_` arm, but it's not ok. In the future, if someone adds new variant to `CqlValue`, the compliler won't complain about uncovered variant in `CqlValueDisplayer`. It will result in runtime error (or panic) when someone tries to display a CqlValue instance holding a new variant. So, TLDR, all commits but last are related to cleaning up, and moving `pretty` module from `scylla` to `scylla-cql`.\r\n\r\n## Things to discuss\r\n### chrono 0.4 - Very important!!!\r\nIn current version of PR, chrono 0.4 dependency is no longer **optional** (and hidden behind `chrono-04` feature). It's needed unconditionally for some conversions used in `std::fmt::Display` implementation for `CqlValue`. I'm not sure how to address it. I don't see (or know of) any alternative solution to this...\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1257/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1256", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1256/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1256/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1256/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1256", "id": 2870663665, "node_id": "PR_kwDOEj0F686MIsbS", "number": 1256, "title": "Fix Clippy lints introduced in Clippy 0.1.85", "user": {"login": "gsson", "id": 110603, "node_id": "MDQ6VXNlcjExMDYwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/110603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsson", "html_url": "https://github.com/gsson", "followers_url": "https://api.github.com/users/gsson/followers", "following_url": "https://api.github.com/users/gsson/following{/other_user}", "gists_url": "https://api.github.com/users/gsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsson/subscriptions", "organizations_url": "https://api.github.com/users/gsson/orgs", "repos_url": "https://api.github.com/users/gsson/repos", "events_url": "https://api.github.com/users/gsson/events{/privacy}", "received_events_url": "https://api.github.com/users/gsson/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-22T10:51:22Z", "updated_at": "2025-02-25T16:56:39Z", "closed_at": "2025-02-24T12:35:34Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1256", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1256", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1256.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1256.patch", "merged_at": "2025-02-24T12:35:34Z"}, "body": "Clippy 0.1.85 (introduced in Rust 1.85.0) adds or updates a few lints, causing builds to fail.\r\n\r\nIn particular the changes to the `clippy::useless_conversion` lint that was changed in https://github.com/rust-lang/rust-clippy/pull/13756 and the `clippy::precedence` lint that was changed in https://github.com/rust-lang/rust-clippy/pull/13743 are causing issues.\r\n\r\nThe precedence fix changes things that could impact functionality, so tests were added. I have not run any benchmarks, but https://godbolt.org/z/j78fETzbT seems to indicate better codegen with the new code.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1256/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1255", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1255/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1255/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1255/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1255", "id": 2869299091, "node_id": "PR_kwDOEj0F686MEG3u", "number": 1255, "title": "Update `rand` crate 0.8.5 -> 0.9.0", "user": {"login": "gsson", "id": 110603, "node_id": "MDQ6VXNlcjExMDYwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/110603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsson", "html_url": "https://github.com/gsson", "followers_url": "https://api.github.com/users/gsson/followers", "following_url": "https://api.github.com/users/gsson/following{/other_user}", "gists_url": "https://api.github.com/users/gsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsson/subscriptions", "organizations_url": "https://api.github.com/users/gsson/orgs", "repos_url": "https://api.github.com/users/gsson/repos", "events_url": "https://api.github.com/users/gsson/events{/privacy}", "received_events_url": "https://api.github.com/users/gsson/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2025-02-21T15:10:47Z", "updated_at": "2025-02-25T16:56:19Z", "closed_at": "2025-02-25T16:56:08Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1255", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1255", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1255.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1255.patch", "merged_at": "2025-02-25T16:56:08Z"}, "body": "Also updates the following to align versions and avoid duplicates in transitive dependencies\r\n* `rand_pcg` 0.3.1 -> 0.9.0\r\n* `rand_chacha` 0.3.1 -> 0.9.0\r\n\r\nMSRV for all changes is 1.63, so should hopefully be good\r\n\r\nI'm currently trying to reduce the number of duplicate dependencies to reduce some bloat in my projects, and `rand` is one of them.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1255/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1254", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1254/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1254/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1254/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1254", "id": 2863890705, "node_id": "PR_kwDOEj0F686Lx3hA", "number": 1254, "title": "Rustls support with dynamic choice of TLS provider for cloud", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 14, "created_at": "2025-02-19T16:49:31Z", "updated_at": "2025-02-25T19:52:46Z", "closed_at": "2025-02-25T18:18:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1254", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1254", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1254.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1254.patch", "merged_at": "2025-02-25T18:18:51Z"}, "body": "Bases on https://github.com/scylladb/scylla-rust-driver/pull/1190\r\nCloses: https://github.com/scylladb/scylla-rust-driver/pull/1190\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/771\r\n\r\nWhat changes compared to the base PR:\r\n- `__tls` feature is removed\r\n- TLS provider for the cloud is not statically predetermined based on enabled feature set. Users are now able to choose the provider in runtime via `CloudSessionBuilder::new()`.\r\n- renamed `cloud.rs` example to `cloud-openssl.rs`. Introduced analogous `cloud-rustls.rs` example.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1254/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1252", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1252/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1252/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1252/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1252", "id": 2860352066, "node_id": "PR_kwDOEj0F686Ll7ER", "number": 1252, "title": "Remove SerializedValues from public API of `scylla` crate.", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 3, "created_at": "2025-02-18T12:46:03Z", "updated_at": "2025-03-03T10:24:17Z", "closed_at": "2025-03-03T10:24:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1252", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1252", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1252.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1252.patch", "merged_at": "2025-03-03T10:24:16Z"}, "body": "Some APIs on ClusterState still accept SerializedValues instead of `impl SerializeRow` / `&dyn SerializeRow`.\r\nThis is a leftover from the old serialization API, and should be changed. Why? Because there is no easy way for the user to create the SerializedValues.\r\nThat means that if a user wants to calculate the token / replicas, for some partition key of some table they need to:\r\n- Get the `Table` struct from `ClusterState`\r\n- Create new SerializedValues\r\n- Iterate over `partition_key` field and retrieve relevant `ColumnSpec`s from `columns` field.\r\n- For each column, call `add_value` on the SerializedValues and handle the error\r\n- Pass the result to `compute_token` / `get_endpoints`\r\n\r\nThis is a lot of unnecessary work.\r\nThis PR changes those methods to accepts `&dyn SerializeRow`.\r\n\r\nAs a small side change I removed `RowSerializationContext::column_by_name`.\r\nColumns need to be serialized in order, so there is no reason to get the column out of order.\r\nThis is confirmed by this method being unused.\r\n\r\n## Creating RowSerializationContext from Table\r\n\r\nSee the commit \"Table: Add Vec of primary key column specs\" for an explanation.\r\nI'm not sure that the approach I've taken is the best one, so I'm open t suggestions in this matter.\r\n\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/1152\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1252/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1250", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1250/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1250/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1250/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1250", "id": 2858299310, "node_id": "PR_kwDOEj0F686Le-Ju", "number": 1250, "title": "rename `Query` to `Statement`", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 3, "created_at": "2025-02-17T16:24:09Z", "updated_at": "2025-02-27T11:19:46Z", "closed_at": "2025-02-27T11:19:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1250", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1250", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1250.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1250.patch", "merged_at": "2025-02-27T11:19:46Z"}, "body": "Fixes: https://github.com/scylladb/scylla-rust-driver/issues/713\r\n\r\n## Changes\r\n### Renamed `Query` to `Statement` (first commit)\r\nNew name is definitely better than the old one. However, the question is if it's the best. Other candidates:\r\n- `SimpleStatement` - used in other drivers, but probably a bit too verbose (just `Statement` is `Simple` enough).\r\n- `UnpreparedStatement` - verbose, but OTOH immediately gives user all information required about the type - it's literally an unprepared statement. The main downside is that the name is pretty long.\r\n\r\nAnyway, whatever the choice, the adjustment should be rather trivial (now that I spotted all mentions in the docs and docstrings).\r\n\r\n### Renamed `query.rs` to `unprepared.rs`\r\n\r\n### Adjusted docstrings and variable names to `statement` terminology (third commit)\r\n\r\n### Adjusted docs (book) to `statement` terminology\r\nThe word `query` was abused in the docs. In some cases, we would even call the `INSERT ...` CQL statement a query. The last commit hopefully fixes that.\r\n\r\nApart from that, regarding the docs structure:\r\n- renamed `queries` directory to `statements`\r\n- renamed `queries/queries.md` to `statements/statements.md`\r\n- renamed `queries/simple.md` to `statements/unprepared.md`\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1250/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1249", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1249/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1249/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1249/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1249", "id": 2857678024, "node_id": "PR_kwDOEj0F686Lc2ML", "number": 1249, "title": "Refactor `ColumnSpecs` and adjust `PreparedStatement` API", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2025-02-17T12:14:08Z", "updated_at": "2025-02-18T10:54:32Z", "closed_at": "2025-02-18T10:54:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1249", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1249", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1249.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1249.patch", "merged_at": "2025-02-18T10:54:32Z"}, "body": "Fixes: https://github.com/scylladb/scylla-rust-driver/issues/1132\r\n\r\n## Motivation\r\nThe motivation is described in the issue - TLDR, there is a return type discrepancy between `PreparedStatement` and `QueryRowsResult/QueryPager` methods.\r\n\r\n## What changed:\r\n- refactored `ColumnSpecs` wrapper - adjusted it to two lifetimes so it can be used in `PreparedStatement`'s API\r\n- removed `ColumnSpecView` and `TableSpecView` - these are redundant\r\n- adjusted `PreparedStatement` API to `ColumnSpecs`\r\n- introduced a small integration test case for `PreparedStatement` metadata. The methods used to get col specs (bind markers and result set) were not tested anywhere.\r\n\r\n## Why I decided to not remove `ColumnSpecs`?\r\nOriginally, I (others as well - based on the discussion in the issue) wanted to remove `ColumnSpecs` wrapper. But then, when I did that and started to adjust the test cases, I noticed that `get_by_name` method is really handy. When having a raw slice, user needs to do multiple chained calls on iterator. I believe that `ColumnSpecs` API is user friendly.\r\n\r\nSince I decided to not remove `ColumnSpecs`, I also pubified its constructor and deconstructor (conversion back to slice). My only concern is that if we ever decide to change the structure of `ColumnSpecs`, it may require some API breaking changes. This can be discussed.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1249/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1245", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1245/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1245/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1245/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1245", "id": 2852564151, "node_id": "PR_kwDOEj0F686LL007", "number": 1245, "title": "Make any query on system.local go with WHERE clause", "user": {"login": "dkropachev", "id": 40304587, "node_id": "MDQ6VXNlcjQwMzA0NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/40304587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkropachev", "html_url": "https://github.com/dkropachev", "followers_url": "https://api.github.com/users/dkropachev/followers", "following_url": "https://api.github.com/users/dkropachev/following{/other_user}", "gists_url": "https://api.github.com/users/dkropachev/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkropachev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkropachev/subscriptions", "organizations_url": "https://api.github.com/users/dkropachev/orgs", "repos_url": "https://api.github.com/users/dkropachev/repos", "events_url": "https://api.github.com/users/dkropachev/events{/privacy}", "received_events_url": "https://api.github.com/users/dkropachev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-14T03:11:51Z", "updated_at": "2025-02-14T23:06:21Z", "closed_at": "2025-02-14T23:06:21Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1245", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1245", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1245.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1245.patch", "merged_at": "2025-02-14T23:06:21Z"}, "body": "Full scan requests are slower even if there is only one record.\r\n\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/1244\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1245/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1236", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1236/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1236/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1236/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1236", "id": 2848735054, "node_id": "PR_kwDOEj0F686K-5pv", "number": 1236, "title": "tests: port AUTH tests to ccm", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-02-12T16:13:11Z", "updated_at": "2025-02-13T11:42:45Z", "closed_at": "2025-02-13T11:39:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1236", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1236", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1236.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1236.patch", "merged_at": "2025-02-13T11:39:17Z"}, "body": "This PR moves existing auth tests from `integration` to `ccm_integration`. The corresponding custom workflow in CI is now deleted.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1236/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1234", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1234/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1234/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1234/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1234", "id": 2848249004, "node_id": "PR_kwDOEj0F686K9NX_", "number": 1234, "title": "ccm: Make 'opts' parameter of the 'stop' method be optional", "user": {"login": "vponomaryov", "id": 3796058, "node_id": "MDQ6VXNlcjM3OTYwNTg=", "avatar_url": "https://avatars.githubusercontent.com/u/3796058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vponomaryov", "html_url": "https://github.com/vponomaryov", "followers_url": "https://api.github.com/users/vponomaryov/followers", "following_url": "https://api.github.com/users/vponomaryov/following{/other_user}", "gists_url": "https://api.github.com/users/vponomaryov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vponomaryov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vponomaryov/subscriptions", "organizations_url": "https://api.github.com/users/vponomaryov/orgs", "repos_url": "https://api.github.com/users/vponomaryov/repos", "events_url": "https://api.github.com/users/vponomaryov/events{/privacy}", "received_events_url": "https://api.github.com/users/vponomaryov/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-12T13:31:07Z", "updated_at": "2025-02-12T14:06:49Z", "closed_at": "2025-02-12T14:06:49Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1234", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1234", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1234.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1234.patch", "merged_at": "2025-02-12T14:06:49Z"}, "body": "It will allow to use the 'stop' method just providing \"None\" parameter:\r\n```\r\n  ... .stop(None).await;\r\n```\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1234/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1233", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1233/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1233/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1233/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1233", "id": 2848125275, "node_id": "PR_kwDOEj0F686K8yJ5", "number": 1233, "title": "ccm: Add simple support for `updateconf` and setting up TLS", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2025-02-12T12:41:35Z", "updated_at": "2025-02-12T15:37:26Z", "closed_at": "2025-02-12T15:37:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1233", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1233", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1233.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1233.patch", "merged_at": "2025-02-12T15:37:26Z"}, "body": "This PR adds support for `ccm updateconf` command (for both cluster and node) in our new API. It also adds a possibility to start a cluster with TLS enabled (by using `updateconf`). I added a simple test case for tls to check that everything works.\r\n\r\nApart from that, I removed the `tls.yml` workflow. There is no need for it, since we can write integration tests using ccm API. Originally, the workflow would only run the tls example.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1233/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1231", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1231/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1231/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1231/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1231", "id": 2848007096, "node_id": "PR_kwDOEj0F686K8YH_", "number": 1231, "title": "Fix improper ip address formatting in CCM integration.", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-02-12T11:50:48Z", "updated_at": "2025-02-12T13:56:39Z", "closed_at": "2025-02-12T12:00:25Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1231", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1231", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1231.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1231.patch", "merged_at": "2025-02-12T12:00:25Z"}, "body": "When passing `NetPrefix` as an argument to `ccm populate` it is\r\nformatted using `.to_string()` method. Result of this is then concatenated\r\nwith the node id, and the result is an \"ip\" that ccm tries to find in\r\nScylla logs to determine that the node is UP.\r\n\r\n`.to_string()` implementation was displaying the whole ip, instead of\r\nit's first 3 octets, resulting in CCM looking for ips like `127.0.1.02`.\r\nInstead the `to_str()` method should be used, that produces ccm-compatible\r\nform of the ip range.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [ ] ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1225", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1225/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1225/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1225/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1225", "id": 2845504457, "node_id": "PR_kwDOEj0F686Kz1bs", "number": 1225, "title": "Minimal CCM integration", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2025-02-11T14:05:54Z", "updated_at": "2025-02-11T14:39:08Z", "closed_at": "2025-02-11T14:38:42Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1225", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1225", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1225.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1225.patch", "merged_at": "2025-02-11T14:38:42Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1225/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1224", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1224/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1224/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1224/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1224", "id": 2845215413, "node_id": "PR_kwDOEj0F686Ky12P", "number": 1224, "title": "session_test.rs: Move some tests to integration", "user": {"login": "sylwiaszunejko", "id": 52855732, "node_id": "MDQ6VXNlcjUyODU1NzMy", "avatar_url": "https://avatars.githubusercontent.com/u/52855732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sylwiaszunejko", "html_url": "https://github.com/sylwiaszunejko", "followers_url": "https://api.github.com/users/sylwiaszunejko/followers", "following_url": "https://api.github.com/users/sylwiaszunejko/following{/other_user}", "gists_url": "https://api.github.com/users/sylwiaszunejko/gists{/gist_id}", "starred_url": "https://api.github.com/users/sylwiaszunejko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sylwiaszunejko/subscriptions", "organizations_url": "https://api.github.com/users/sylwiaszunejko/orgs", "repos_url": "https://api.github.com/users/sylwiaszunejko/repos", "events_url": "https://api.github.com/users/sylwiaszunejko/events{/privacy}", "received_events_url": "https://api.github.com/users/sylwiaszunejko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sylwiaszunejko", "id": 52855732, "node_id": "MDQ6VXNlcjUyODU1NzMy", "avatar_url": "https://avatars.githubusercontent.com/u/52855732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sylwiaszunejko", "html_url": "https://github.com/sylwiaszunejko", "followers_url": "https://api.github.com/users/sylwiaszunejko/followers", "following_url": "https://api.github.com/users/sylwiaszunejko/following{/other_user}", "gists_url": "https://api.github.com/users/sylwiaszunejko/gists{/gist_id}", "starred_url": "https://api.github.com/users/sylwiaszunejko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sylwiaszunejko/subscriptions", "organizations_url": "https://api.github.com/users/sylwiaszunejko/orgs", "repos_url": "https://api.github.com/users/sylwiaszunejko/repos", "events_url": "https://api.github.com/users/sylwiaszunejko/events{/privacy}", "received_events_url": "https://api.github.com/users/sylwiaszunejko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "sylwiaszunejko", "id": 52855732, "node_id": "MDQ6VXNlcjUyODU1NzMy", "avatar_url": "https://avatars.githubusercontent.com/u/52855732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sylwiaszunejko", "html_url": "https://github.com/sylwiaszunejko", "followers_url": "https://api.github.com/users/sylwiaszunejko/followers", "following_url": "https://api.github.com/users/sylwiaszunejko/following{/other_user}", "gists_url": "https://api.github.com/users/sylwiaszunejko/gists{/gist_id}", "starred_url": "https://api.github.com/users/sylwiaszunejko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sylwiaszunejko/subscriptions", "organizations_url": "https://api.github.com/users/sylwiaszunejko/orgs", "repos_url": "https://api.github.com/users/sylwiaszunejko/repos", "events_url": "https://api.github.com/users/sylwiaszunejko/events{/privacy}", "received_events_url": "https://api.github.com/users/sylwiaszunejko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2025-02-11T12:15:25Z", "updated_at": "2025-02-11T13:15:11Z", "closed_at": "2025-02-11T13:15:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1224", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1224", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1224.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1224.patch", "merged_at": "2025-02-11T13:15:11Z"}, "body": "Tests that require a running cluster should be in integration tests.\r\n\r\nThis PR moves some of such tests from `session_test.rs`. Not all, because two of them use https://github.com/scylladb/scylla-rust-driver/blob/27aeca278d1ff2e68fbd50b25a873c04d2249f77/scylla/src/statement/prepared_statement.rs#L458-L465 that is not publicly available. \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1223", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1223/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1223/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1223/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1223", "id": 2845138302, "node_id": "PR_kwDOEj0F686Kyk91", "number": 1223, "title": "Partitioner visibility", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2025-02-11T11:41:54Z", "updated_at": "2025-02-11T11:59:33Z", "closed_at": "2025-02-11T11:59:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1223", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1223", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1223.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1223.patch", "merged_at": "2025-02-11T11:59:27Z"}, "body": "Clone of #1222.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1223/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1222", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1222/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1222/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1222/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1222", "id": 2845098881, "node_id": "PR_kwDOEj0F686KycRy", "number": 1222, "title": "`partitioner`: Change visibility of  `Partitioner`-related items", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2025-02-11T11:24:01Z", "updated_at": "2025-02-11T11:39:19Z", "closed_at": "2025-02-11T11:39:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1222", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1222", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1222.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1222.patch", "merged_at": "2025-02-11T11:39:19Z"}, "body": "# Motivation\r\n\r\nWe want to extract `session_test.rs` to integration tests directory - out of `scylla` crate.\r\n\r\nTests in `session_test.rs` call `get_partitioner_name()` to assert some things. We must therefore expose `get_partitioner_name().\r\n\r\n# What's done\r\n1. `PartitionerName` and `PreparedStatement::get_partitioner_name()` are made `pub`.\r\n2. `PartitionerName` gets missing `Eq` impl and `#[non_exhaustive]` attribute.\r\n3. `calculate_token_for_partition_key()` now accepts `PartitionerName` instead of `impl Partitioner`.\r\n4. `Partitioner(Hasher)` traits and their impls are un`pub`bed.\r\n\r\n## Bonus\r\nImplemented `Debug` for `QueryPager` and `TypedRowStream`.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1222/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1216", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1216/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1216/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1216/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1216", "id": 2842990029, "node_id": "PR_kwDOEj0F686KrMzw", "number": 1216, "title": "Add tests for {query,execute}_iter API", "user": {"login": "sylwiaszunejko", "id": 52855732, "node_id": "MDQ6VXNlcjUyODU1NzMy", "avatar_url": "https://avatars.githubusercontent.com/u/52855732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sylwiaszunejko", "html_url": "https://github.com/sylwiaszunejko", "followers_url": "https://api.github.com/users/sylwiaszunejko/followers", "following_url": "https://api.github.com/users/sylwiaszunejko/following{/other_user}", "gists_url": "https://api.github.com/users/sylwiaszunejko/gists{/gist_id}", "starred_url": "https://api.github.com/users/sylwiaszunejko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sylwiaszunejko/subscriptions", "organizations_url": "https://api.github.com/users/sylwiaszunejko/orgs", "repos_url": "https://api.github.com/users/sylwiaszunejko/repos", "events_url": "https://api.github.com/users/sylwiaszunejko/events{/privacy}", "received_events_url": "https://api.github.com/users/sylwiaszunejko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sylwiaszunejko", "id": 52855732, "node_id": "MDQ6VXNlcjUyODU1NzMy", "avatar_url": "https://avatars.githubusercontent.com/u/52855732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sylwiaszunejko", "html_url": "https://github.com/sylwiaszunejko", "followers_url": "https://api.github.com/users/sylwiaszunejko/followers", "following_url": "https://api.github.com/users/sylwiaszunejko/following{/other_user}", "gists_url": "https://api.github.com/users/sylwiaszunejko/gists{/gist_id}", "starred_url": "https://api.github.com/users/sylwiaszunejko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sylwiaszunejko/subscriptions", "organizations_url": "https://api.github.com/users/sylwiaszunejko/orgs", "repos_url": "https://api.github.com/users/sylwiaszunejko/repos", "events_url": "https://api.github.com/users/sylwiaszunejko/events{/privacy}", "received_events_url": "https://api.github.com/users/sylwiaszunejko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "sylwiaszunejko", "id": 52855732, "node_id": "MDQ6VXNlcjUyODU1NzMy", "avatar_url": "https://avatars.githubusercontent.com/u/52855732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sylwiaszunejko", "html_url": "https://github.com/sylwiaszunejko", "followers_url": "https://api.github.com/users/sylwiaszunejko/followers", "following_url": "https://api.github.com/users/sylwiaszunejko/following{/other_user}", "gists_url": "https://api.github.com/users/sylwiaszunejko/gists{/gist_id}", "starred_url": "https://api.github.com/users/sylwiaszunejko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sylwiaszunejko/subscriptions", "organizations_url": "https://api.github.com/users/sylwiaszunejko/orgs", "repos_url": "https://api.github.com/users/sylwiaszunejko/repos", "events_url": "https://api.github.com/users/sylwiaszunejko/events{/privacy}", "received_events_url": "https://api.github.com/users/sylwiaszunejko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2025-02-10T16:32:54Z", "updated_at": "2025-02-11T13:13:58Z", "closed_at": "2025-02-11T13:13:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1216", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1216", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1216.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1216.patch", "merged_at": "2025-02-11T13:13:58Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1216/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1212", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1212/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1212/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1212/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1212", "id": 2842590767, "node_id": "PR_kwDOEj0F686Kp0q2", "number": 1212, "title": "feature(structre): extract utils into seperate common module", "user": {"login": "CodeLieutenant", "id": 33778979, "node_id": "MDQ6VXNlcjMzNzc4OTc5", "avatar_url": "https://avatars.githubusercontent.com/u/33778979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CodeLieutenant", "html_url": "https://github.com/CodeLieutenant", "followers_url": "https://api.github.com/users/CodeLieutenant/followers", "following_url": "https://api.github.com/users/CodeLieutenant/following{/other_user}", "gists_url": "https://api.github.com/users/CodeLieutenant/gists{/gist_id}", "starred_url": "https://api.github.com/users/CodeLieutenant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CodeLieutenant/subscriptions", "organizations_url": "https://api.github.com/users/CodeLieutenant/orgs", "repos_url": "https://api.github.com/users/CodeLieutenant/repos", "events_url": "https://api.github.com/users/CodeLieutenant/events{/privacy}", "received_events_url": "https://api.github.com/users/CodeLieutenant/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "CodeLieutenant", "id": 33778979, "node_id": "MDQ6VXNlcjMzNzc4OTc5", "avatar_url": "https://avatars.githubusercontent.com/u/33778979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CodeLieutenant", "html_url": "https://github.com/CodeLieutenant", "followers_url": "https://api.github.com/users/CodeLieutenant/followers", "following_url": "https://api.github.com/users/CodeLieutenant/following{/other_user}", "gists_url": "https://api.github.com/users/CodeLieutenant/gists{/gist_id}", "starred_url": "https://api.github.com/users/CodeLieutenant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CodeLieutenant/subscriptions", "organizations_url": "https://api.github.com/users/CodeLieutenant/orgs", "repos_url": "https://api.github.com/users/CodeLieutenant/repos", "events_url": "https://api.github.com/users/CodeLieutenant/events{/privacy}", "received_events_url": "https://api.github.com/users/CodeLieutenant/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "CodeLieutenant", "id": 33778979, "node_id": "MDQ6VXNlcjMzNzc4OTc5", "avatar_url": "https://avatars.githubusercontent.com/u/33778979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CodeLieutenant", "html_url": "https://github.com/CodeLieutenant", "followers_url": "https://api.github.com/users/CodeLieutenant/followers", "following_url": "https://api.github.com/users/CodeLieutenant/following{/other_user}", "gists_url": "https://api.github.com/users/CodeLieutenant/gists{/gist_id}", "starred_url": "https://api.github.com/users/CodeLieutenant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CodeLieutenant/subscriptions", "organizations_url": "https://api.github.com/users/CodeLieutenant/orgs", "repos_url": "https://api.github.com/users/CodeLieutenant/repos", "events_url": "https://api.github.com/users/CodeLieutenant/events{/privacy}", "received_events_url": "https://api.github.com/users/CodeLieutenant/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2025-02-10T14:26:52Z", "updated_at": "2025-02-10T16:59:51Z", "closed_at": "2025-02-10T14:42:13Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1212", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1212", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1212.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1212.patch", "merged_at": "2025-02-10T14:42:13Z"}, "body": "Since there will be more folders in scylla/tests, not just integration tests, then we'll need to extract common logic need by all tests folders into seperate module (`common`) before moving forward.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1212/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1209", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1209/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1209/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1209/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1209", "id": 2840908447, "node_id": "PR_kwDOEj0F686KkGC8", "number": 1209, "title": "CI fixes", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-09T19:28:53Z", "updated_at": "2025-02-10T09:33:37Z", "closed_at": "2025-02-09T22:55:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1209", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1209", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1209.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1209.patch", "merged_at": "2025-02-09T22:55:32Z"}, "body": "This PR prepares CI for our upcoming hackathon by enabling CI to run on PRs to any branch.\r\nIt also fixes a small issue: docs pages would not be built for 1.x version.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [ ] ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1209/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1206", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1206/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1206/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1206/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1206", "id": 2837903132, "node_id": "PR_kwDOEj0F686KZ6c5", "number": 1206, "title": "Integration tests: Add DDL retry", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2025-02-07T11:16:41Z", "updated_at": "2025-02-07T11:41:18Z", "closed_at": "2025-02-07T11:41:11Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1206", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1206", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1206.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1206.patch", "merged_at": "2025-02-07T11:41:11Z"}, "body": "In the previous PR I forgot to also modify the utils in integration tests.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [ ] ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1206/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1205", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1205/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1205/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1205/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1205", "id": 2835649940, "node_id": "PR_kwDOEj0F686KSMfR", "number": 1205, "title": "result: mark ColumnType and related enums as non-exhaustive", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 5, "created_at": "2025-02-06T14:11:36Z", "updated_at": "2025-02-25T12:57:22Z", "closed_at": "2025-02-25T12:57:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1205", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1205", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1205.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1205.patch", "merged_at": "2025-02-25T12:57:22Z"}, "body": "This will allow us to introduce support for new column types in the future without breaking the API.\r\n\r\nI did not mark `UserDefinedType` as non_exhaustive. It probably won't ever be extended by additional fields.\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~[ ] I have provided docstrings for the public items that I want to introduce.~\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1205/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1204", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1204/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1204/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1204/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1204", "id": 2835636376, "node_id": "PR_kwDOEj0F686KSJff", "number": 1204, "title": "errors: final cleanups (restructure ExecutionError and introduce SchemaAgreementError)", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 6, "created_at": "2025-02-06T14:06:34Z", "updated_at": "2025-02-10T10:30:56Z", "closed_at": "2025-02-10T10:30:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1204", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1204", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1204.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1204.patch", "merged_at": "2025-02-10T10:30:56Z"}, "body": "Fixes: https://github.com/scylladb/scylla-rust-driver/issues/519\r\n\r\nThis PR originated from our offline discussion with @Lorak-mmk .\r\n\r\n# Changes\r\n\r\n## ProtocolError\r\nWe remove this type altogether. We noticed that this error type was a catch-all for sub-errors/variants we did not know where to put otherwise.\r\n\r\n## ExecutionError\r\nBefore this PR, it would contain a lot of top-level variants without providing some meaningful context for them. Most of the variants came from the `RequestAttemptError::into_execution_error` method.\r\n\r\n### Inlining RequestAttemptError\r\nWe decided  that it's best to inline `RequestAttemptError`, so users have additional context about how request execution looks like when they match the error. It allows us to remove a lot of variants from ExecutionError and ProtocolError (which is later removed).\r\n\r\n## SchemaAgreementError\r\nNew error type - returned by public API related to awaiting schema agreement (Session::await/check_schema_agreement).\r\n\r\n## BadQuery\r\nMe and @Lorak-mmk agreed that final version (after this PR) of `BadQuery` is just fine. I did not do any changes to this error type, apart from moving one of the ProtocolError variants to it. I remember that @wprzytula did not like the name of this error - any suggestions?\r\n\r\n# Potential improvements for the future\r\n## SerializationError appears in two places\r\n1. `BadQuery::SerializationError`\r\nThis is an error that appears on standard execution path for `Session::execute` and `Session::batch`, when we serialize the values (before doing the retries etc.)\r\n\r\n2. `ExecutionError::LastAttemptError(RequestAttemptError::SerializationError)`\r\nThis error is constructed ONLY for `Session::query` with non-empty values. Why do we currently need a SerializationError in RequestAttemptError - i.e. why do we serialize on each attempt? This is because we need to firstly prepare the statement during each attempt - the statement needs to be firstly prepared on the node during current attempt. Only after preparation, have we access to the metadata and are able to serialize the values.\r\n\r\nAfter discussion, we decided to currently leave it as is. This is something to be potentially fixed in the future. The fix requires non-trivial changes to execution logic (which is quite complex). The idea is to prepare the statement only once before the retries - then we can serialize the values and pass the serialized values to the context of each attempt. I think it deserves a separate issue in the repository, since it not only will fix the hierarchy of errors, but will improve the overall performance as well - we won't need to prepare the statement on each attempt (we can send QUERY cql request to the node).\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1204/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1202", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1202/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1202/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1202/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1202", "id": 2833477425, "node_id": "PR_kwDOEj0F686KK1U2", "number": 1202, "title": "Update RetryPolicy and SE terminology: \"host\" -> \"target\"", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 3, "created_at": "2025-02-05T16:55:24Z", "updated_at": "2025-02-07T14:37:45Z", "closed_at": "2025-02-07T12:19:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1202", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1202", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1202.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1202.patch", "merged_at": "2025-02-07T12:19:20Z"}, "body": "Some time ago LoadBalancingPolicy started to operate on \"targets\", where a \"target\" is a pair of host and optional shard.\r\nPreviously it operated on hosts.\r\nSome doc comments in retry policy and speculative execution modules were not updated and still mentioned hosts.\r\nThis PR fixes that.\r\n\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/972\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1202/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1201", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1201/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1201/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1201/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1201", "id": 2832906183, "node_id": "PR_kwDOEj0F686KI4cQ", "number": 1201, "title": "f_errors: remove unused variant from ColumnSpecParseErrorKind", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 1, "created_at": "2025-02-05T13:07:08Z", "updated_at": "2025-02-06T10:11:06Z", "closed_at": "2025-02-06T10:11:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1201", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1201", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1201.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1201.patch", "merged_at": "2025-02-06T10:11:05Z"}, "body": "In #1135 we removed a check for the table spec across different column specs. Since we wanted to release it in a patch release, the corresponding error variant was not removed (not to introduce API breaking changes).\r\n\r\nThis commit removes the unused variant.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~[ ] I have provided docstrings for the public items that I want to introduce.~\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1201/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1200", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1200/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1200/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1200/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1200", "id": 2832468400, "node_id": "PR_kwDOEj0F686KHXoT", "number": 1200, "title": "session: narrow error type of prepare_batch", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 1, "created_at": "2025-02-05T10:01:34Z", "updated_at": "2025-02-06T10:13:27Z", "closed_at": "2025-02-06T10:13:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1200", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1200", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1200.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1200.patch", "merged_at": "2025-02-06T10:13:26Z"}, "body": "When introducing `PrepareError`, I missed the public `Session::prepare_batch` method. This PR narrows the return error type of this method to PrepareError. As a bonus, I also narrow the error type of private `Session::handle_set_keyspace_response` method.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~[ ] I have provided docstrings for the public items that I want to introduce.~\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1200/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1199", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1199/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1199/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1199/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1199", "id": 2830909979, "node_id": "PR_kwDOEj0F686KCEZS", "number": 1199, "title": "Implement (derive) Debug for MaybeUnset", "user": {"login": "stanislav-tkach", "id": 2997902, "node_id": "MDQ6VXNlcjI5OTc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2997902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stanislav-tkach", "html_url": "https://github.com/stanislav-tkach", "followers_url": "https://api.github.com/users/stanislav-tkach/followers", "following_url": "https://api.github.com/users/stanislav-tkach/following{/other_user}", "gists_url": "https://api.github.com/users/stanislav-tkach/gists{/gist_id}", "starred_url": "https://api.github.com/users/stanislav-tkach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stanislav-tkach/subscriptions", "organizations_url": "https://api.github.com/users/stanislav-tkach/orgs", "repos_url": "https://api.github.com/users/stanislav-tkach/repos", "events_url": "https://api.github.com/users/stanislav-tkach/events{/privacy}", "received_events_url": "https://api.github.com/users/stanislav-tkach/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2025-02-04T17:46:46Z", "updated_at": "2025-02-10T20:17:17Z", "closed_at": "2025-02-10T19:44:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1199", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1199", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1199.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1199.patch", "merged_at": "2025-02-10T19:44:01Z"}, "body": "In our project we have multiple structures that derive `SerializeRow` and we often want to print them, but as `MaybeUnset` doesn't implement `Debug` we are forced to manually implement it.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1199/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1198", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1198/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1198/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1198/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1198", "id": 2829468011, "node_id": "PR_kwDOEj0F686J9Exo", "number": 1198, "title": "scylla_cql cleanup after legacy APIs removal", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 4, "created_at": "2025-02-04T08:28:35Z", "updated_at": "2025-02-07T14:37:56Z", "closed_at": "2025-02-07T11:42:43Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1198", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1198", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1198.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1198.patch", "merged_at": "2025-02-07T11:42:43Z"}, "body": "After removing the legacy serialization / deserialization APIs it became clear that some things in scylla_cql are not placed where they should be.\r\nThis PR tries to address it.\r\n\r\n### Ser / deser tests\r\n\r\nThey are placed in several places, making it hard to follow what tests we actually have.\r\nWe should strive to put them together.\r\nWhere are the tests and how does this PR change it?\r\n- In `deserialize` module in files separate from implementation (`row_tests.rs`, `value_tests.rs`). This is good and so left unchanged.\r\n- In `serialize` module inside the files with implementation. I extracted those tests to separate files (`row_tests.rs`, `value_tests.rs`) to reduce file size and be more similar to `deserialize` module.\r\n- In `frame/value_tests.rs` file. Those were some of the serialization tests for both values, rows, and batches. I moved them to relevant files in `serialize` module.\r\n- In `frame/result/response.rs` file. Those were some of the deserialization tests for `CqlValue`. I moved them to `deserialize/value_tests.rs` file.\r\n\r\n### `value` module\r\n\r\nThis module in `scylla_cql` is placed in `frame` module and contained multiple things:\r\n1. Old serialization APIs (`Value` and `ValueList` traits and their implementations)\r\n2. Our ser/deser related types like `CqlValue`, `CqlTimeuuid` etc\r\n\r\nAfter removing (1), and removing `cql_to_rust` module which was also in `frame`, I find it a bit weird\r\nfor this module to be placed in `frame`. Why? Previously types like `CqlValue` and `CqlTimeuuid`\r\nwere strongly tied to frame serialization / deserialization, because they were used in CqlValue,\r\nwhich was always used when deserializing result values.\r\nWith the new API this is no longer the case, so there is no more reason to keep those types in `frame` module.\r\n\r\nI moved this file into the root folder, so `value` is now a top-level module.\r\n\r\n### CqlValue and Row\r\n\r\nThose were placed in `scylla-cql/frame/response/result.rs`. As described in the previous point, this location made\r\nsense with the old deserialization API because `CqlValue` and `Row` were strongly tied to frame deserialization.\r\n\r\nWith the new API they are not anymore - they are normal types than can be serialized / deserialized, and are kept\r\nmostly to address dynamic use cases. With this change, `result.rs` no longer seems like a good place for them.\r\n\r\nI moved them to the newly created `value.rs` top-level module, so it is placed close to  `CqlTimeuuid` and other such types.\r\nThis may be a bit of a weird place for a `Row` struct, but I don't have any better ideas.\r\n\r\nFixes https://github.com/scylladb/scylla-rust-driver/issues/1167\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1198/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1197", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1197/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1197/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1197/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1197", "id": 2828114006, "node_id": "PR_kwDOEj0F686J4bo-", "number": 1197, "title": "Retry DLL queries upon group 0 concurrent modification error", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2025-02-03T17:28:38Z", "updated_at": "2025-02-20T14:38:44Z", "closed_at": "2025-02-04T11:00:21Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1197", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1197", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1197.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1197.patch", "merged_at": "2025-02-04T11:00:21Z"}, "body": "Despite previous measures (sending all DDL queries to a single node) this error is still haunting our CI. I see no better way of patching this on our side than retrying.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [ ] ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1197/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1196", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1196/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1196/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1196/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1196", "id": 2828069030, "node_id": "PR_kwDOEj0F686J4R0n", "number": 1196, "title": "Replace `Node::is_down` with `Node::is_connected`", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 2, "created_at": "2025-02-03T17:06:31Z", "updated_at": "2025-02-05T16:47:21Z", "closed_at": "2025-02-04T14:12:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1196", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1196", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1196.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1196.patch", "merged_at": "2025-02-04T14:12:41Z"}, "body": "As found by @danielhe4rt `Node::is_down` method is unintuive. It is actually not really possible for the user to utilize this method because status tracking with events is inherently unreliable. Instead we should treat node as up if we have some connections open to it.\r\nThis PR introduces `Node::is_connected` method that does just that, and un-pubs the old method.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [ ] ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1196/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1196/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1195", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1195/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1195/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1195/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1195", "id": 2827820362, "node_id": "PR_kwDOEj0F686J3bbx", "number": 1195, "title": "cicd: fix tls tests", "user": {"login": "dkropachev", "id": 40304587, "node_id": "MDQ6VXNlcjQwMzA0NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/40304587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkropachev", "html_url": "https://github.com/dkropachev", "followers_url": "https://api.github.com/users/dkropachev/followers", "following_url": "https://api.github.com/users/dkropachev/following{/other_user}", "gists_url": "https://api.github.com/users/dkropachev/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkropachev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkropachev/subscriptions", "organizations_url": "https://api.github.com/users/dkropachev/orgs", "repos_url": "https://api.github.com/users/dkropachev/repos", "events_url": "https://api.github.com/users/dkropachev/events{/privacy}", "received_events_url": "https://api.github.com/users/dkropachev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "dkropachev", "id": 40304587, "node_id": "MDQ6VXNlcjQwMzA0NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/40304587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkropachev", "html_url": "https://github.com/dkropachev", "followers_url": "https://api.github.com/users/dkropachev/followers", "following_url": "https://api.github.com/users/dkropachev/following{/other_user}", "gists_url": "https://api.github.com/users/dkropachev/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkropachev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkropachev/subscriptions", "organizations_url": "https://api.github.com/users/dkropachev/orgs", "repos_url": "https://api.github.com/users/dkropachev/repos", "events_url": "https://api.github.com/users/dkropachev/events{/privacy}", "received_events_url": "https://api.github.com/users/dkropachev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "dkropachev", "id": 40304587, "node_id": "MDQ6VXNlcjQwMzA0NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/40304587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkropachev", "html_url": "https://github.com/dkropachev", "followers_url": "https://api.github.com/users/dkropachev/followers", "following_url": "https://api.github.com/users/dkropachev/following{/other_user}", "gists_url": "https://api.github.com/users/dkropachev/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkropachev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkropachev/subscriptions", "organizations_url": "https://api.github.com/users/dkropachev/orgs", "repos_url": "https://api.github.com/users/dkropachev/repos", "events_url": "https://api.github.com/users/dkropachev/events{/privacy}", "received_events_url": "https://api.github.com/users/dkropachev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2025-02-03T15:21:21Z", "updated_at": "2025-02-10T09:39:21Z", "closed_at": "2025-02-04T13:18:31Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1195", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1195", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1195.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1195.patch", "merged_at": "2025-02-04T13:18:31Z"}, "body": "Commit https://github.com/scylladb/scylla-rust-driver/commit/188964e0be36e035ada0b1d12e6af70a832230c6 assumed that `build` is supported by `github actions services`.\r\nWhich is not, so, move to `docker-compose` instead of `services`.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [ ] ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1195/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1194", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1194/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1194/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1194/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1194", "id": 2827114030, "node_id": "PR_kwDOEj0F686J1AhZ", "number": 1194, "title": "errors: rename and extract TracingError", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 4, "created_at": "2025-02-03T10:32:25Z", "updated_at": "2025-02-05T13:58:12Z", "closed_at": "2025-02-05T13:58:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1194", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1194", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1194.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1194.patch", "merged_at": "2025-02-05T13:58:11Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/519\r\n\r\nIt was previously called `TracingProtocolError` and was contained in ExecutionError::ProtocolError.\r\n\r\nSince we now have a big picture of errors hierarchy, it's much clearer that `TracingError` should be a separate error type returned by tracing methods. ExecutionError should NOT depend on it.\r\n\r\nThis PR renames TracingProtocolError to TracingError, and changes the return type of Session::get_tracing_info(). New variant is introduced to `TracingError` - it contains an `ExecutionError`, which makes sense since we try to execute queries to system tracing tables.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1194/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1193", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1193/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1193/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1193/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1193", "id": 2827049280, "node_id": "PR_kwDOEj0F686J0yWW", "number": 1193, "title": "errors: introduce PrepareError", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 1, "created_at": "2025-02-03T10:04:25Z", "updated_at": "2025-02-03T17:12:12Z", "closed_at": "2025-02-03T17:12:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1193", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1193", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1193.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1193.patch", "merged_at": "2025-02-03T17:12:12Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/519\r\n\r\nAs noticed by @wprzytula , after renaming `QueryError` to `ExecutionError` it is clear that `Session::prepare` should not return such error. This is why we introduce a `PrepareError` - an error that occurred during statement preparation. It's returned by `Session::prepare` method.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1193/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1192", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1192/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1192/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1192/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1192", "id": 2826716415, "node_id": "PR_kwDOEj0F686JznuH", "number": 1192, "title": "errors: remove BadQuery::Other variant", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 2, "created_at": "2025-02-03T08:16:28Z", "updated_at": "2025-02-03T17:09:35Z", "closed_at": "2025-02-03T17:09:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1192", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1192", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1192.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1192.patch", "merged_at": "2025-02-03T17:09:34Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/519\r\n\r\nIt's not used anywhere.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~[ ] I have provided docstrings for the public items that I want to introduce.~\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1192/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1191", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1191/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1191/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1191/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1191", "id": 2826713331, "node_id": "PR_kwDOEj0F686JznEC", "number": 1191, "title": "errors: Narrow return error type of Session::[query/execute]_iter", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 7, "created_at": "2025-02-03T08:14:44Z", "updated_at": "2025-02-05T14:13:20Z", "closed_at": "2025-02-05T14:13:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1191", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1191", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1191.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1191.patch", "merged_at": "2025-02-05T14:13:20Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/519\r\n\r\n## Motivation\r\n\r\n`NextPageError` and `NextRowError` were introduced specifically for `QueryPager` API. Currently (before this PR), the top-level Session methods `[execute/query]_iter()` return a `ExecutionError`. This is why `NextRowError` variant is present in `ExecutionError`. To remove that, we can narrow the return error type of these methods.\r\n\r\nThere is one subtle thing to pay attention to (and potentially discuss). `query_iter` method potentially prepares the statement (if values are not empty). `Session::prepare` currently returns a `ExecutionError`. This is why newly introduced `PagerExecutionError` now depends on `ExecutionError.` The question is whether we should narrow the return error type of `Session::prepare` to some new error type (`PrepareError`), or leave it as is.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1191/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1187", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1187/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1187/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1187/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1187", "id": 2825131153, "node_id": "PR_kwDOEj0F686JumgB", "number": 1187, "title": "codewide: rename remnants of cluster data to state", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 2, "created_at": "2025-02-01T10:33:30Z", "updated_at": "2025-02-03T17:11:44Z", "closed_at": "2025-02-03T17:11:40Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1187", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1187", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1187.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1187.patch", "merged_at": "2025-02-03T17:11:40Z"}, "body": "There were multiple places where `ClusterState` was still referred to as `ClusterData`:\r\n- `Session::get_cluster_data()`,\r\n- `Cluster::get_data()`,\r\n- variable names,\r\n- comments and docstrings.\r\n\r\nAll were renamed.\r\n\r\nSupplements #1163.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1187/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1185", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1185/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1185/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1185/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1185", "id": 2820952166, "node_id": "PR_kwDOEj0F686Jgbag", "number": 1185, "title": "errors: rename `QueryError` to `ExecutionError`", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 1, "created_at": "2025-01-30T14:14:05Z", "updated_at": "2025-01-30T16:09:28Z", "closed_at": "2025-01-30T16:09:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1185", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1185", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1185.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1185.patch", "merged_at": "2025-01-30T16:09:27Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/519\r\nStep forward: https://github.com/scylladb/scylla-rust-driver/issues/713\r\n\r\nAs the PR titles says, this PR renames the `QueryError` to `ExecutionError`. I also checked the mentions of the QueryError in the docs - last commit adjusts the docs regarding the error returned in case of schema agreement timeout. \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~[ ] I have provided docstrings for the public items that I want to introduce.~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1185/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1184", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1184/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1184/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1184/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1184", "id": 2818240269, "node_id": "PR_kwDOEj0F686JXPip", "number": 1184, "title": "Remove legacy serialization and deserialization APIs", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 13, "created_at": "2025-01-29T13:33:59Z", "updated_at": "2025-02-18T11:38:09Z", "closed_at": "2025-02-04T13:42:35Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1184", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1184", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1184.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1184.patch", "merged_at": "2025-02-04T13:42:35Z"}, "body": "This PR finally removes both of the old APIs.\r\nFocus in review should be on making sure that I didn't miss anything that shall be removed.\r\n\r\nRemoving old APIs makes it clear that some cleanups in scylla-cql shall be done.\r\nThose will be described and done in a follow-up PR because this one is already big enough.\r\n\r\nI'm delibarately not marking this as fixing https://github.com/scylladb/scylla-rust-driver/issues/1167 - the follow-up PR that deals with the consequences of API removal will do that.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1184/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1184/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1181", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1181/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1181/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1181/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1181", "id": 2813691008, "node_id": "PR_kwDOEj0F686JHvFH", "number": 1181, "title": "errors: adjust ShardingError", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 1, "created_at": "2025-01-27T17:58:13Z", "updated_at": "2025-01-28T13:36:04Z", "closed_at": "2025-01-28T13:26:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1181", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1181", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1181.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1181.patch", "merged_at": "2025-01-28T13:26:47Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/pull/1170\r\n\r\nThe only breaking change in this PR is unpubbing `ShardingError`. Remaining commits adjust the internal usages of this error - for example logging in case parsing of sharding info fails.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1181/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1180", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1180/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1180/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1180/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1180", "id": 2813526784, "node_id": "PR_kwDOEj0F686JHK5M", "number": 1180, "title": "errors: refactor errors on USE KEYSPACE execution path and clean up NewSessionError", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 4, "created_at": "2025-01-27T16:47:14Z", "updated_at": "2025-01-30T14:07:14Z", "closed_at": "2025-01-30T14:07:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1180", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1180", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1180.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1180.patch", "merged_at": "2025-01-30T14:07:14Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/519\r\n\r\n## Motivation\r\n`NewSessionError` has a lot of variants that can't even be constructed. This is all because of `From<QueryError> for NewSessionError` implementation. The only remaining execution path where we make use of this conversion is USE KEYSPACE request execution. (Previously, there was also `MetadataReader::read_metadata` that returned `QueryError`, but this was addressed in previous PR).\r\n\r\nThis is why we narrow the return error types in USE KEYSPACE execution path - from `QueryError` to new `UseKeyspaceError`.\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1180/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1179", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1179/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1179/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1179/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1179", "id": 2807463652, "node_id": "PR_kwDOEj0F686IytVI", "number": 1179, "title": "cicd: fix authenticate tests", "user": {"login": "dkropachev", "id": 40304587, "node_id": "MDQ6VXNlcjQwMzA0NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/40304587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkropachev", "html_url": "https://github.com/dkropachev", "followers_url": "https://api.github.com/users/dkropachev/followers", "following_url": "https://api.github.com/users/dkropachev/following{/other_user}", "gists_url": "https://api.github.com/users/dkropachev/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkropachev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkropachev/subscriptions", "organizations_url": "https://api.github.com/users/dkropachev/orgs", "repos_url": "https://api.github.com/users/dkropachev/repos", "events_url": "https://api.github.com/users/dkropachev/events{/privacy}", "received_events_url": "https://api.github.com/users/dkropachev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5517539332, "node_id": "LA_kwDOEj0F688AAAABSN74BA", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/symptom/ci%20stability", "name": "symptom/ci stability", "color": "E99695", "default": false, "description": "Related to continuous integration"}], "state": "closed", "locked": false, "assignee": {"login": "dkropachev", "id": 40304587, "node_id": "MDQ6VXNlcjQwMzA0NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/40304587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkropachev", "html_url": "https://github.com/dkropachev", "followers_url": "https://api.github.com/users/dkropachev/followers", "following_url": "https://api.github.com/users/dkropachev/following{/other_user}", "gists_url": "https://api.github.com/users/dkropachev/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkropachev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkropachev/subscriptions", "organizations_url": "https://api.github.com/users/dkropachev/orgs", "repos_url": "https://api.github.com/users/dkropachev/repos", "events_url": "https://api.github.com/users/dkropachev/events{/privacy}", "received_events_url": "https://api.github.com/users/dkropachev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "dkropachev", "id": 40304587, "node_id": "MDQ6VXNlcjQwMzA0NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/40304587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkropachev", "html_url": "https://github.com/dkropachev", "followers_url": "https://api.github.com/users/dkropachev/followers", "following_url": "https://api.github.com/users/dkropachev/following{/other_user}", "gists_url": "https://api.github.com/users/dkropachev/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkropachev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkropachev/subscriptions", "organizations_url": "https://api.github.com/users/dkropachev/orgs", "repos_url": "https://api.github.com/users/dkropachev/repos", "events_url": "https://api.github.com/users/dkropachev/events{/privacy}", "received_events_url": "https://api.github.com/users/dkropachev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2025-01-23T17:10:44Z", "updated_at": "2025-01-29T16:09:17Z", "closed_at": "2025-01-29T16:08:00Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1179", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1179", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1179.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1179.patch", "merged_at": "2025-01-29T16:08:00Z"}, "body": "Github actions do not have API to override entrypoint, we have to switch to `docker-compose` to start container for auth tests. \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [ ] ~~All commits compile, pass static checks and pass test.~~\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [ ] ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1179/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1176", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1176/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1176/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1176/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1176", "id": 2804935528, "node_id": "PR_kwDOEj0F686IqFrv", "number": 1176, "title": "Hygiene fixes for ser / deser macros", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 6, "created_at": "2025-01-22T17:16:40Z", "updated_at": "2025-01-27T15:08:56Z", "closed_at": "2025-01-27T15:08:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1176", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1176", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1176.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1176.patch", "merged_at": "2025-01-27T15:08:56Z"}, "body": "Removing old serialization / deserialization APIs requires migrating the hygiene integration test - this is one of very few places that still uses old APIs. \r\nThis makes such migration a prerequisite for https://github.com/scylladb/scylla-rust-driver/issues/1167\r\n\r\nWhile migrating the test I found that our new macros actually have many problems with hygiene. Who could expect that if we don't test something then it won't work...\r\n\r\nApart from hygiene fixes in macros one more change was required: moving `types/serialize` and `types/deserialize` modules in `scylla_cql` to, respectively, `serialize` and `deserialize`.\r\nIn other words, inlining `types` module. Why is it required? The tests assume that required traits are exposed  under the same paths in `scylla` and `scylla_cql`, and the ability to make such\r\nassumption is present in the documentation of the macros.\r\n\r\nThis PR fixes all the hygiene problems that I found, inlines `types` module, and migrates the hygiene test to new APIs.\r\n\r\nApart from that I significantly extended the test. Before it tested only most basic scenario, but our new macros have many variants and possible field attributes.\r\nDoing this proved to be good idea, because I found and fixed even more issues in macros.\r\n\r\n\r\nRef: https://github.com/scylladb/scylla-rust-driver/issues/1167\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1176/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1175", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1175/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1175/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1175/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1175", "id": 2803781475, "node_id": "PR_kwDOEj0F686ImJaM", "number": 1175, "title": "build(deps): bump sphinx-scylladb-theme from 1.8.4 to 1.8.5 in /docs", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 8028277310, "node_id": "LA_kwDOEj0F688AAAAB3oXKPg", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-01-22T08:55:54Z", "updated_at": "2025-01-22T10:22:00Z", "closed_at": "2025-01-22T10:21:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1175", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1175", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1175.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1175.patch", "merged_at": "2025-01-22T10:21:51Z"}, "body": "Bumps [sphinx-scylladb-theme](https://github.com/scylladb/sphinx-scylladb-theme) from 1.8.4 to 1.8.5.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/scylladb/sphinx-scylladb-theme/releases\">sphinx-scylladb-theme's releases</a>.</em></p>\n<blockquote>\n<h2>1.8.5</h2>\n<p>Changelog: <a href=\"https://sphinx-theme.scylladb.com/master/upgrade/CHANGELOG.html\">https://sphinx-theme.scylladb.com/master/upgrade/CHANGELOG.html</a></p>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/scylladb/sphinx-scylladb-theme/commit/7e79a5fce9201102a7a04d8275ee737519f358d5\"><code>7e79a5f</code></a> Fix sidebar menu overlapping the project title (<a href=\"https://redirect.github.com/scylladb/sphinx-scylladb-theme/issues/1336\">#1336</a>)</li>\n<li>See full diff in <a href=\"https://github.com/scylladb/sphinx-scylladb-theme/compare/1.8.4...1.8.5\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=sphinx-scylladb-theme&package-manager=pip&previous-version=1.8.4&new-version=1.8.5)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1174", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1174/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1174/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1174/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1174", "id": 2798629635, "node_id": "PR_kwDOEj0F686IUiE0", "number": 1174, "title": "build(deps): bump sphinx-scylladb-theme from 1.8.3 to 1.8.4 in /docs", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 8028277310, "node_id": "LA_kwDOEj0F688AAAAB3oXKPg", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-01-20T08:59:49Z", "updated_at": "2025-01-20T16:02:06Z", "closed_at": "2025-01-20T16:01:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1174", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1174", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1174.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1174.patch", "merged_at": "2025-01-20T16:01:57Z"}, "body": "Bumps [sphinx-scylladb-theme](https://github.com/scylladb/sphinx-scylladb-theme) from 1.8.3 to 1.8.4.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/scylladb/sphinx-scylladb-theme/releases\">sphinx-scylladb-theme's releases</a>.</em></p>\n<blockquote>\n<h2>1.8.4</h2>\n<p>Changelog: <a href=\"https://sphinx-theme.scylladb.com/master/upgrade/CHANGELOG.html\">https://sphinx-theme.scylladb.com/master/upgrade/CHANGELOG.html</a></p>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/scylladb/sphinx-scylladb-theme/commit/19f6f8d4320f975b574a728026407bed8acdd506\"><code>19f6f8d</code></a> Build(deps-dev): bump sass from 1.83.1 to 1.83.4 (<a href=\"https://redirect.github.com/scylladb/sphinx-scylladb-theme/issues/1334\">#1334</a>)</li>\n<li><a href=\"https://github.com/scylladb/sphinx-scylladb-theme/commit/1fb671507fb61b9f9343376a5e5024f030707474\"><code>1fb6715</code></a> rm: license alert (<a href=\"https://redirect.github.com/scylladb/sphinx-scylladb-theme/issues/1333\">#1333</a>)</li>\n<li><a href=\"https://github.com/scylladb/sphinx-scylladb-theme/commit/c3567b8a726c3743d5036a59fe1fd72ced5a2c84\"><code>c3567b8</code></a> chore: release 1.8.4 (<a href=\"https://redirect.github.com/scylladb/sphinx-scylladb-theme/issues/1331\">#1331</a>)</li>\n<li><a href=\"https://github.com/scylladb/sphinx-scylladb-theme/commit/482387ec20b571b61be6f9d8952629f505b508b2\"><code>482387e</code></a> fix: alerts position (<a href=\"https://redirect.github.com/scylladb/sphinx-scylladb-theme/issues/1330\">#1330</a>)</li>\n<li><a href=\"https://github.com/scylladb/sphinx-scylladb-theme/commit/3cc67a5540773542c23716e82eaa8cc845a6a2fa\"><code>3cc67a5</code></a> feat: override multiversion redirect (<a href=\"https://redirect.github.com/scylladb/sphinx-scylladb-theme/issues/1329\">#1329</a>)</li>\n<li><a href=\"https://github.com/scylladb/sphinx-scylladb-theme/commit/5c978131b32459d86421d018f683ca224652e30c\"><code>5c97813</code></a> Build(deps): bump actions/upload-artifact from 4.5.0 to 4.6.0 (<a href=\"https://redirect.github.com/scylladb/sphinx-scylladb-theme/issues/1326\">#1326</a>)</li>\n<li><a href=\"https://github.com/scylladb/sphinx-scylladb-theme/commit/f3d55e81abd934e71747e1e1c5fa44400ef5bcef\"><code>f3d55e8</code></a> Build(deps): bump setuptools from 75.6.0 to 75.8.0 (<a href=\"https://redirect.github.com/scylladb/sphinx-scylladb-theme/issues/1325\">#1325</a>)</li>\n<li><a href=\"https://github.com/scylladb/sphinx-scylladb-theme/commit/c906673642ee439e1a30bf04b9049647e0856bbc\"><code>c906673</code></a> Build(deps): bump sphinx-substitution-extensions (<a href=\"https://redirect.github.com/scylladb/sphinx-scylladb-theme/issues/1321\">#1321</a>)</li>\n<li><a href=\"https://github.com/scylladb/sphinx-scylladb-theme/commit/25f893f241b52e6ddf48f564ff53789ef4fd3483\"><code>25f893f</code></a> Build(deps-dev): bump sass from 1.83.0 to 1.83.1 (<a href=\"https://redirect.github.com/scylladb/sphinx-scylladb-theme/issues/1322\">#1322</a>)</li>\n<li><a href=\"https://github.com/scylladb/sphinx-scylladb-theme/commit/9382d732c46ba5b6ef002431822b6f9a1edf3fe9\"><code>9382d73</code></a> Build(deps-dev): bump eslint from 9.17.0 to 9.18.0 (<a href=\"https://redirect.github.com/scylladb/sphinx-scylladb-theme/issues/1327\">#1327</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/scylladb/sphinx-scylladb-theme/compare/1.8.3...1.8.4\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=sphinx-scylladb-theme&package-manager=pip&previous-version=1.8.3&new-version=1.8.4)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1174/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1173", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1173/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1173/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1173/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1173", "id": 2796665764, "node_id": "PR_kwDOEj0F686IOEQu", "number": 1173, "title": "Get rid of custom scylla images", "user": {"login": "dkropachev", "id": 40304587, "node_id": "MDQ6VXNlcjQwMzA0NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/40304587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkropachev", "html_url": "https://github.com/dkropachev", "followers_url": "https://api.github.com/users/dkropachev/followers", "following_url": "https://api.github.com/users/dkropachev/following{/other_user}", "gists_url": "https://api.github.com/users/dkropachev/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkropachev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkropachev/subscriptions", "organizations_url": "https://api.github.com/users/dkropachev/orgs", "repos_url": "https://api.github.com/users/dkropachev/repos", "events_url": "https://api.github.com/users/dkropachev/events{/privacy}", "received_events_url": "https://api.github.com/users/dkropachev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2025-01-18T04:23:05Z", "updated_at": "2025-02-10T09:39:51Z", "closed_at": "2025-01-20T15:27:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1173", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1173", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1173.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1173.patch", "merged_at": "2025-01-20T15:27:36Z"}, "body": "Stop using custom images.\r\n\r\nWe used to use `scylladb/scylla-passauth` and `scylladb/scylla-tls` in our pipeline.\r\nThey were based on old scylla and has minimal config changes on them.\r\nThis PR removes them, to eleviate burdain to keep them updated.\r\nInstead it makes them build on fly or just patch config via docker image cli.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [ ] ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1173/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1173/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1170", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1170/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1170/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1170/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1170", "id": 2793386885, "node_id": "PR_kwDOEj0F686ICu8H", "number": 1170, "title": "errors: metadata errors refactor", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 5, "created_at": "2025-01-16T17:45:35Z", "updated_at": "2025-01-29T16:58:38Z", "closed_at": "2025-01-29T16:58:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1170", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1170", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1170.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1170.patch", "merged_at": "2025-01-29T16:58:37Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/519\r\n\r\n## Motivation\r\n\r\nThe goal of this PR is to purge `metadata.rs` of `QueryError`, and replace it with `MetadataError`. Thanks to that metadata related functions are now independent of `QueryError`.\r\n\r\nI tried to split this PR into commits, so each commit handles one function/method from metadata module. New error variants are introduced where necessary.\r\n\r\nWhen it comes to public API - after this PR `Session::refresh_metadata()` will now return `MetadataError`.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1169", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1169/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1169/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1169/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1169", "id": 2790723019, "node_id": "PR_kwDOEj0F686H5d3q", "number": 1169, "title": "codewide: small performance optimisations", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2025-01-15T19:57:09Z", "updated_at": "2025-01-16T13:53:23Z", "closed_at": "2025-01-16T13:53:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1169", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1169", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1169.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1169.patch", "merged_at": "2025-01-16T13:53:19Z"}, "body": "This is a bunch of tiny optimisations around reducing number of allocations.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1169/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1168", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1168/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1168/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1168/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1168", "id": 2784803442, "node_id": "PR_kwDOEj0F686Hk610", "number": 1168, "title": "errors: rename RequestError and make it private", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 1, "created_at": "2025-01-13T17:58:04Z", "updated_at": "2025-01-15T08:49:51Z", "closed_at": "2025-01-15T08:49:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1168", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1168", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1168.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1168.patch", "merged_at": "2025-01-15T08:49:51Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/519\r\n\r\n## Motivation\r\nCurrent `RequestError` is a low-level (connection layer) error that represents a failure of ANY CQL request. Before this PR it was public. Why? There was only one place it was used in public API - namely `BrokenConnectionErrorKind::KeepaliveQueryError`. This is a very rare error.\r\n\r\nI decided to make this error type `pub(crate)` for multiple reasons:\r\n- As mentioned previously - this is a very rare low-level error kind. I don't think there is a point in exposing it to the user\r\n- Thanks to that, we can rename it to `InternalRequestError` (since it becomes an error used only in driver's internals)\r\n- `RequestError` name is now available :). It can be used for some more meaningful error returned from user-facing API. For example, an error representing a definite request failure that occurs in a session layer after possible retries, speculative execution etc.\r\n\r\nI've hidden this type in `BrokenConnectionErrorKind::KeepaliveRequestError` (variant got renamed as well) behind an `Arc`. It's OK to do so, because this specific case is very rare. I think that not providing any additional context (i.e., ignoring the underlying error cause) is a valid alternative solution.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~[ ] I have provided docstrings for the public items that I want to introduce.~\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1168/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1166", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1166/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1166/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1166/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1166", "id": 2777639546, "node_id": "PR_kwDOEj0F686HMlLq", "number": 1166, "title": "Remove CqlType in favor of ColumnType", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 8, "created_at": "2025-01-09T12:04:34Z", "updated_at": "2025-01-29T12:00:34Z", "closed_at": "2025-01-29T12:00:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1166", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1166", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1166.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1166.patch", "merged_at": "2025-01-29T12:00:34Z"}, "body": "This PR removes `CqlType` (used in schema metadata) and replaces its usages with `ColumnType` (used in statement metadata).\r\nInitially those two structures were quite different, so most of the commits are done to make them mostly identical, which made the unification possible.\r\n\r\n## Layout \r\n\r\nCqlType was split into subtypes (native type, collection type, tuple, UDT) as defined by https://cassandra.apache.org/doc/stable/cassandra/cql/types.html\r\nColumnType was fully inlined - it had a variant for each possible type.\r\n\r\nI decided to change ColumnType in this regard to follow CqlType, because CqlType's approach seems to be much more elegant.\r\n\r\n## Frozen flag\r\n\r\nCqlType contained frozen flag, because the schema contains information about whether the collection/UDT is frozen or not.\r\nColumnType did not contain such flag, because this information is not present in result metadata / arguments metadata.\r\n\r\nThere wasn't any real choice - we have to store the frozen flag to accurately represent the schema metadata.\r\nFor types used in statements, this flag is simply always set to false.\r\n\r\n## UDT shared ownership\r\n\r\nColumnType stored the UDT data inline, this is how the variant looked:\r\n```rust\r\n    UserDefinedType {\r\n        type_name: Cow<'frame, str>,\r\n        keyspace: Cow<'frame, str>,\r\n        field_types: Vec<(Cow<'frame, str>, ColumnType<'frame>)>,\r\n    },\r\n```\r\n\r\nCqlType stored it in a separate struct, which was held under Arc:\r\n```rust\r\n/// Definition of a user-defined type\r\n    UserDefinedType {\r\n        frozen: bool,\r\n        // Using Arc here in order not to have many copies of the same definition\r\n        definition: Arc<UserDefinedType>,\r\n    },\r\n...\r\n\r\n#[derive(Clone, Debug, PartialEq, Eq)]\r\npub struct UserDefinedType {\r\n    pub name: String,\r\n    pub keyspace: String,\r\n    pub field_types: Vec<(String, CqlType)>,\r\n}\r\n\r\n```\r\n\r\nThis is because it may be stored in a few places:\r\n- `Keyspace::user_defined_types`\r\n- As a field in another UDT\r\n- As a column in the table\r\n- As a column in the view\r\n\r\nThis requires either cloning, or shared ownership.\r\n\r\n## Custom type\r\n\r\nColumnType had a variant for Custom type, because it is defined by the protocol.\r\nHowever, this type is rarely used, and we don't really have any working support for it, so I decided to remove it.\r\n\r\n## Minor changes\r\n\r\nI decided to change the size type of Vector to u16. It frees any users of this struct from dealing with negative numbers (which are disallowed by the protocol, and make no sense here).\r\n\r\nFixes https://github.com/scylladb/scylla-rust-driver/issues/691\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~ - Nothing to adjust\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1166/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1163", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1163/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1163/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1163/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1163", "id": 2765221149, "node_id": "PR_kwDOEj0F686Gidp_", "number": 1163, "title": "Restructure modules - purge `transport` module", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 26, "created_at": "2025-01-01T19:18:17Z", "updated_at": "2025-01-10T12:44:49Z", "closed_at": "2025-01-10T12:43:06Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1163", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1163", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1163.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1163.patch", "merged_at": "2025-01-10T12:43:06Z"}, "body": "### This is a revival of https://github.com/scylladb/scylla-rust-driver/pull/804.\r\n\r\n## Motivation\r\nThe division into modules used to be poor. The `transport` module has long been abused, as a bag full of everything, with no clear intention behind it.\r\n\r\n## What's done\r\n\r\nThe `transport` module was dissolved. Its contents were grouped in other modules, many of them newly introduced. The new modules were documented with docstrings, so that it's clear what is the intended scope of each module.\r\n\r\n`ClusterData` was renamed to `ClusterState`, which we believe suits its semantics better.\r\n\r\nNow, the module tree looks the following way (omitting the unchanged modules - `cloud`, `statement`, `utils`, and `authentication`):\r\n```\r\n- client\r\n  - caching_session.rs\r\n  - execution_profile.rs\r\n  - pager.rs\r\n  - self_identity.rs\r\n  - session_builder.rs\r\n  - session.rs\r\n  - session_test.rs\r\n- cluster\r\n  - metadata.rs\r\n  - node.rs\r\n  - state.rs\r\n  - worker.rs\r\n- network\r\n  - connection.rs\r\n  - connection_pool.rs\r\n- errors.rs (top-level module)\r\n- policies\r\n  - address_translator.rs\r\n  - host_filter.rs\r\n  - load_balancing\r\n    - default.rs\r\n    - plan.rs\r\n  - retry\r\n    - default.rs\r\n    - downgrading_consistency.rs\r\n    - fallthrough.rs\r\n    - retry_policy.rs\r\n  - speculative_execution.rs\r\n- observability\r\n  - driver_tracing.rs\r\n  - history.rs\r\n  - metrics.rs\r\n  - tracing.rs\r\n- response\r\n  - legacy_query_result.rs\r\n  - query_result.rs\r\n  - request_response.rs\r\n- routing\r\n  - locator\r\n    - (unchanged contents)\r\n  - partitioner.rs\r\n  - sharding.rs\r\n```\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1163/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1163/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1162", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1162/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1162/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1162/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1162", "id": 2762448810, "node_id": "PR_kwDOEj0F686GZNTz", "number": 1162, "title": "Remove MissingUserDefinedType from public API", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2024-12-29T22:56:09Z", "updated_at": "2025-01-22T12:57:23Z", "closed_at": "2025-01-22T12:57:23Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1162", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1162", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1162.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1162.patch", "merged_at": "2025-01-22T12:57:23Z"}, "body": "Up until now `CqlType::UserDefinedType` contained a `Result`, with error type `MissingUserDefinedType`.\r\nThis error is an edge case that should be quite rare. It could possibly happen if we fetch metadata in the middle of schema change.\r\nPossible scenario:\r\n- We fetch UDTs\r\n- New UDT is added\r\n- New column is added to some table, with the type being this new UDT\r\n- We fetch column types for all tables\r\n- Now we have a column type with unknown UDT.\r\n\r\nAs this error should be extremely rare, it is okay to handle it a little bit less gracefully.\r\nThis simplifies user API (user no longer needs to handle the error) and makes progress towards unifying CqlType and ColumnType.\r\n\r\nThe new proposed way to handle this error is to drop the fetched metadata for the whole keyspace - re-using older version of it if available - and printing a warning.\r\n\r\nAs a side-fix, I found that `query_tables_schema` was unnecessarily called twice, so I deduplicated those calls.\r\n`query_tables_schema` is likely the heaviest part of metadata reading, so this fix should lower the cluster load resulting from metadata fetches.\r\n\r\nProgresses towards: https://github.com/scylladb/scylla-rust-driver/issues/691\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1162/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1161", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1161/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1161/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1161/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1161", "id": 2761745134, "node_id": "PR_kwDOEj0F686GW80l", "number": 1161, "title": "Add working `Debug` impl for caching session", "user": {"login": "athre0z", "id": 6553158, "node_id": "MDQ6VXNlcjY1NTMxNTg=", "avatar_url": "https://avatars.githubusercontent.com/u/6553158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/athre0z", "html_url": "https://github.com/athre0z", "followers_url": "https://api.github.com/users/athre0z/followers", "following_url": "https://api.github.com/users/athre0z/following{/other_user}", "gists_url": "https://api.github.com/users/athre0z/gists{/gist_id}", "starred_url": "https://api.github.com/users/athre0z/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/athre0z/subscriptions", "organizations_url": "https://api.github.com/users/athre0z/orgs", "repos_url": "https://api.github.com/users/athre0z/repos", "events_url": "https://api.github.com/users/athre0z/events{/privacy}", "received_events_url": "https://api.github.com/users/athre0z/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-28T14:34:59Z", "updated_at": "2024-12-29T16:22:21Z", "closed_at": "2024-12-29T15:44:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1161", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1161", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1161.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1161.patch", "merged_at": "2024-12-29T15:44:17Z"}, "body": "The previous derived implementation was not actually usable because it had `Debug` bounds on the type parameters. The `RandomState` default value for the `S` argument does not impl `Debug`, so this didn't work.\r\n\r\nThis commit switches to a manual `Debug` impl that doesn't have these unnecessary bounds.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1161/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1160", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1160/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1160/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1160/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1160", "id": 2760514635, "node_id": "PR_kwDOEj0F686GSyrP", "number": 1160, "title": "errors: pager API errors refactor", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 2, "created_at": "2024-12-27T07:23:50Z", "updated_at": "2025-01-23T17:57:25Z", "closed_at": "2025-01-23T17:19:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1160", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1160", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1160.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1160.patch", "merged_at": "2025-01-23T17:19:38Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/519\r\n\r\n## Motivation\r\nThere are three main objectives:\r\n### Purge pager.rs module of QueryError\r\nIt's yet another module where usage of `QueryError` was abused. It's taken care of in this PR\r\n\r\n### Narrow return error type of `[poll_]next()` methods on iterators/streams\r\nThey now return a self-contained `NextRow` error. It's independent of `QueryError`.\r\n\r\n### Step forward narrowing error type of metadata related functions\r\nCurrently all top-level metadata related functions/methods (e.g. `Session::refresh_metadata`) return `QueryError`. This is because low-level methods use `QueryPager` API under the hood. Before this PR, the pager API would return `QueryError`. In the follow-up PR we will continue on purging the metadata methods of `QueryError`. It will be replaced with an error type designated for these operations - namely `MetadataError`.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1160/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1159", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1159/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1159/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1159/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1159", "id": 2757288259, "node_id": "PR_kwDOEj0F686GJMNG", "number": 1159, "title": "errors: narrow error types accepted by `HistoryListener`", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2024-12-24T06:49:38Z", "updated_at": "2025-01-23T17:57:28Z", "closed_at": "2025-01-23T15:38:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1159", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1159", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1159.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1159.patch", "merged_at": "2025-01-23T15:38:27Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/519\r\n\r\n## New error types and variants\r\n\r\n### RequestError (reintroduced)\r\nError type returned by `run_request_speculative_fiber`. It represents either a definite request failure - last attempt error, connection pool error, or an empty plan error.\r\n\r\n### Replaced QueryError::RequestTimeout\r\nThis error variant was not good for 2 reasons:\r\n1. it contains stringified error message\r\n2. it was used for both user requests timeouts, and schema agreement timeouts\r\nI decoupled this variant into two separate variants that provide more context.\r\n\r\n### RequestError::RequestTimeout\r\nAfter refactoring the timeout errors in `QueryError`, I added the corresponding variant to `RequestError` (one introduced in this PR) as well.\r\n\r\n## HistoryListener\r\n### Narrowed error types passed to log_query_error and log_attempt_error.\r\n`log_query_error` (or rather `log_request_error` after rename) now accepts `RequestError`. `log_attempt_error` now accepts `RequestAttemptError` (representing an error of a single attempt).\r\n\r\n### Replaced \"query\" mentions with \"request\"\r\nI did the replacement in trait methods, docstrings, tests etc. I tried to break the changes into multiple commits.\r\n\r\n## Execution errors summary\r\nCurrently, in session layer we can distinguish 3 kind of errors:\r\n- `RequestAttemptError` - a failure of a single attempt of request execution. It is used in public API in `RetrySession::decide_should_retry` and `HistoryListener::log_attempt_error`\r\n- `RequestError` - a definite failure of request execution, after all (speculative) retries etc. In addition to `RequestAttemptError` it contains information about the empty plan and request timeout. It also contains `ConnectionPoolError` variant. This variant is not included in `RequestAttemptError`, because we don't want to log such error in execution history - there is a comment suggesting that (is it still true, though?). `RequestError` is used in public API in `HistoryListener::log_request_error`.\r\n- `QueryError` - a top-level error returned by `Session` methods. It holds some additional information - e.g. about the failure of request preparation - values serialization etc.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1159/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1158", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1158/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1158/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1158/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1158", "id": 2756657279, "node_id": "PR_kwDOEj0F686GHRf9", "number": 1158, "title": "README: Use absolute link for image", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-23T20:09:35Z", "updated_at": "2024-12-29T15:10:25Z", "closed_at": "2024-12-29T09:00:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1158", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1158", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1158.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1158.patch", "merged_at": "2024-12-29T09:00:19Z"}, "body": "crates.io doesn't handle relative links well, so currently our logo is not visible on crates.io :(\r\n![image](https://github.com/user-attachments/assets/7b796287-238d-425a-91b6-ca56da873081)\r\n\r\nRelevant crates.io issue: https://github.com/rust-lang/crates.io/issues/9939\r\n\r\nThis PR changes the link to be absolute so that we are not bitten by this again.\r\nIt is a bit sad to do this, because now you need internet to render the README locally, and it just feels a bit wrong\r\nto refer to the outside file instead of the file in the same filetree, but I don't see any better option for now.\r\n\r\nOTOH if we ever decide to change the logo, the new one will be automatically visible in any place that uses absolute link, which is a plus.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [ ] ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1158/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1157", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1157/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1157/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1157/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1157", "id": 2755851275, "node_id": "PR_kwDOEj0F686GEmbw", "number": 1157, "title": "session: internal request execution API error types refactor", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/12", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/12/labels", "id": 10992945, "node_id": "MI_kwDOEj0F684Ap70x", "number": 12, "title": "0.16.0", "description": "", "creator": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2024-04-30T11:11:37Z", "updated_at": "2025-02-05T16:57:11Z", "due_on": "2025-01-31T00:00:00Z", "closed_at": "2025-02-05T16:57:11Z"}, "comments": 10, "created_at": "2024-12-23T11:31:13Z", "updated_at": "2025-01-15T11:47:43Z", "closed_at": "2025-01-15T11:47:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1157", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1157", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1157.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1157.patch", "merged_at": "2025-01-15T11:47:42Z"}, "body": "Ref: https://github.com/scylladb/scylla-rust-driver/issues/519\r\n\r\n## run_request_once closure\r\nTo narrow the error return types of some important API functions (e.g. `RS::decide_should_retry` and `LBP::on_query_failure`), the error type of `execute_request_once` (previously known as `do_query`) needs to be adjusted as well. A couple of commits at the beginning of this PR do just that. What we achieve, is that we narrow the return error type of the closure from `QueryError` to `UserRequestError`.\r\n\r\n## UserRequestError\r\nThis error is renamed to `RequestAttemptError` - as the name suggests, it represents a failure of a single attempt of execution.\r\n\r\n## LBP and RetrySession\r\nBoth of these traits accept some error and do something based on the error. Before this PR, they would accept a `QueryError`, resulting in matches against variants that could never even be constructed before the call. In this PR, I pub-ified the `RequestAttemptError`, and made `LBP::on_query_failure` and `RetrySession::decide_should_retry` accept it instead of `QueryError`.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1157/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1156", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1156/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1156/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1156/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1156", "id": 2755330333, "node_id": "PR_kwDOEj0F686GC2-K", "number": 1156, "title": "session: adjust naming in internal session functions", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2024-12-23T06:30:51Z", "updated_at": "2024-12-30T10:31:52Z", "closed_at": "2024-12-30T10:31:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1156", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1156", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1156.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1156.patch", "merged_at": "2024-12-30T10:31:52Z"}, "body": "During error refactor, I found it hard to understand what which function does on a request execution path. Three different names were used:\r\n- `run_query`\r\n- `execute_query`\r\n- `do_query`\r\n\r\nI renamed them (and all internal structures/traits related to these functions). The `_query`  part is very misleading. It would suggest that we want to execute a CQL QUERY request, which is not true - these functions/closures are generic and allow to execute QUERY, EXECUTE and BATCH CQL requests.\r\n\r\nKind of related to https://github.com/scylladb/scylla-rust-driver/issues/713\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~[ ] I have provided docstrings for the public items that I want to introduce.~\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1156/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1150", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1150/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1150/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1150/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1150", "id": 2733114135, "node_id": "PR_kwDOEj0F686E3gDg", "number": 1150, "title": "Release 0.15.1", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/17", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/17", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/17/labels", "id": 11995438, "node_id": "MI_kwDOEj0F684Atwku", "number": 17, "title": "0.15.1", "description": "", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2024-12-04T17:14:19Z", "updated_at": "2024-12-16T12:33:02Z", "due_on": null, "closed_at": "2024-12-16T12:33:02Z"}, "comments": 1, "created_at": "2024-12-11T14:20:50Z", "updated_at": "2024-12-11T16:56:52Z", "closed_at": "2024-12-11T16:56:51Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1150", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1150", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1150.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1150.patch", "merged_at": "2024-12-11T16:56:51Z"}, "body": "# Proposed release notes:\r\n\r\nThe ScyllaDB team is pleased to announce ScyllaDB Rust Driver 0.15.1,\r\nan asynchronous CQL driver for Rust, optimized for Scylla, but also compatible with Apache Cassandra!\r\n\r\nSome interesting statistics:\r\n\r\n- over 2.692k downloads on crates!\r\n- over 590 GitHub stars!\r\n\r\n### Changes by category:\r\n\r\n**New features / enhancements:**\r\n- Migrated tablets to the new deserialization framework ([#1120](https://github.com/scylladb/scylla-rust-driver/pull/1120)).\r\n- Added `automatically_derived` attribute to impls auto-generated by derive macros ([#1145](https://github.com/scylladb/scylla-rust-driver/pull/1145)).\r\n- Made fields of `ConnectionSetupRequestError` public ([#1131](https://github.com/scylladb/scylla-rust-driver/pull/1131)).\r\n\r\n**Bug fixes:**\r\n- Allowed serialization of columns/fields that are not valid Rust identifiers ([#1137](https://github.com/scylladb/scylla-rust-driver/pull/1137)).\r\n- Fixed bug that occured when preparing batch statements targetting multiple tables ([#1135](https://github.com/scylladb/scylla-rust-driver/pull/1135)).\r\n- Fixed bug that when there were fewer batch statements than batch values provided, `session.batch()` would silently drop extra values ([#1142](https://github.com/scylladb/scylla-rust-driver/pull/1142)).\r\n\r\n**API cleanups / better types:**\r\n- Deprecated remnants of the legacy framework and items belonging to the legacy serialization framework ([#1141](https://github.com/scylladb/scylla-rust-driver/pull/1141)).\r\n- Removed uses of the legacy `SerializedValuesError` ([#1149](https://github.com/scylladb/scylla-rust-driver/pull/1149)).\r\n\r\n**Documentation:**\r\n- Updated the docs about time types to reflect the new name of the feature flag (`chrono` -> `chrono-04`) ([#1123](https://github.com/scylladb/scylla-rust-driver/pull/1123), [#1110](https://github.com/scylladb/scylla-rust-driver/pull/1110)).\r\n\r\n**CI / developer tool improvements:**\r\n- Moved most of tests that require a running cluster to integration tests ([#1102](https://github.com/scylladb/scylla-rust-driver/pull/1102)).\r\n- Attempted to combat \"group 0 concurrent modification\" error in CI by sending DDL changes always to the same node ([#1127](https://github.com/scylladb/scylla-rust-driver/pull/1127)).\r\n- clippy was appeased again ([#1136](https://github.com/scylladb/scylla-rust-driver/pull/1136)).\r\n\r\n**Others:**\r\n- Implemented `QueryRowsResult::into_inner` behind `cpp_rust_unstable` cfg for use in cpp-rust-driver ([#1133](https://github.com/scylladb/scylla-rust-driver/pull/1133)).\r\n- Removed unnecessary clone in `PoolRefiller::use_keyspace` ([#1143](https://github.com/scylladb/scylla-rust-driver/pull/1143)).\r\n\r\nCongrats to all contributors and thanks everyone for using our driver!\r\n\r\n----------\r\n\r\nThe source code of the driver can be found here:\r\n- [https://github.com/scylladb/scylla-rust-driver](https://github.com/scylladb/scylla-rust-driver)\r\nContributions are most welcome!\r\n\r\nThe official crates.io registry entry is here:\r\n- [https://crates.io/crates/scylla](https://crates.io/crates/scylla)\r\n\r\nThank you for your attention, please do not hesitate to contact us if you have any questions, issues, feature requests, or are simply interested in our driver!\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1150/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1149", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1149/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1149/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1149/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1149", "id": 2733040740, "node_id": "PR_kwDOEj0F686E3Pxl", "number": 1149, "title": "Remove uses of `SerializeValuesError` and deprecate it", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/17", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/17", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/17/labels", "id": 11995438, "node_id": "MI_kwDOEj0F684Atwku", "number": 17, "title": "0.15.1", "description": "", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2024-12-04T17:14:19Z", "updated_at": "2024-12-16T12:33:02Z", "due_on": null, "closed_at": "2024-12-16T12:33:02Z"}, "comments": 1, "created_at": "2024-12-11T13:52:21Z", "updated_at": "2024-12-11T14:19:42Z", "closed_at": "2024-12-11T14:19:37Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1149", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1149", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1149.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1149.patch", "merged_at": "2024-12-11T14:19:37Z"}, "body": "`SerializeValuesError` is part of the legacy serialization API, so it should be deprecated as well.\r\n\r\nRefs: #1139\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1149/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1148", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1148/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1148/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1148/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1148", "id": 2732705801, "node_id": "PR_kwDOEj0F686E2E9A", "number": 1148, "title": "value: `Cql[Varint/Decimal]Borrowed`", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7177048623, "node_id": "LA_kwDOEj0F688AAAABq8kSLw", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/cpp-rust-driver-p0", "name": "cpp-rust-driver-p0", "color": "FA7D3D", "default": false, "description": "Functionality required by cpp-rust-driver"}, {"id": 7180912560, "node_id": "LA_kwDOEj0F688AAAABrAQHsA", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/area/deserialization", "name": "area/deserialization", "color": "799E5B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2024-12-11T11:35:42Z", "updated_at": "2024-12-19T16:35:08Z", "closed_at": "2024-12-15T07:47:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1148", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1148", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1148.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1148.patch", "merged_at": "2024-12-15T07:47:59Z"}, "body": "\r\nThis PR introduces borrowed versions of CqlDecimal and CqlVarint. It implements SerializeValue and DeserializeValue for new types.\r\n\r\nThere is a use case for this in cpp-rust-driver - we need to set the pointer user provided, so it points to the underlying data. After lazy-deserialization refactor in cpp-rust-driver, CqlDecimal is not useful anymore. If we deserialize to CqlDecimal, it owns the bytes and is a stack variable - thus, we cannot set the pointer to its underlying data (it will be freed after function call).\r\n\r\nQuestions for reviewers:\r\n- Should I put it under #[cfg(cpp_rust_unstable]? I think it may be useful for other users as well.\r\n- I only implemente `From<Cql[Varint/Decimal]Borrowed> for Big[Int/Decimal]`. I didn't implement conversions in other direction, since new types borrow bytes (and From consumes). Do you think it's ok to make an exception here, and implement `From<&Big[Int/Decimal]>` (from reference)?\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1148/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1145", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1145/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1145/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1145/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1145", "id": 2725046024, "node_id": "PR_kwDOEj0F686EbkJu", "number": 1145, "title": "macros: generate automatically_derived attribute", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/17", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/17", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/17/labels", "id": 11995438, "node_id": "MI_kwDOEj0F684Atwku", "number": 17, "title": "0.15.1", "description": "", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2024-12-04T17:14:19Z", "updated_at": "2024-12-16T12:33:02Z", "due_on": null, "closed_at": "2024-12-16T12:33:02Z"}, "comments": 1, "created_at": "2024-12-08T08:19:20Z", "updated_at": "2024-12-08T11:20:45Z", "closed_at": "2024-12-08T11:20:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1145", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1145", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1145.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1145.patch", "merged_at": "2024-12-08T11:20:41Z"}, "body": "It is customary that auto-generated trait impls have that attribute. Also, this disables dead code analysis for derived impls.\r\n\r\nFixes: #1140 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1145/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1143", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1143/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1143/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1143/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1143", "id": 2724488381, "node_id": "PR_kwDOEj0F686EZy24", "number": 1143, "title": "refiller: Remove unnecessary clone", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-12-07T08:48:36Z", "updated_at": "2024-12-11T15:11:28Z", "closed_at": "2024-12-07T09:24:29Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1143", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1143", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1143.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1143.patch", "merged_at": "2024-12-07T09:24:29Z"}, "body": "PoolRefiller::use_keyspace took keyspace_name by ref even though it actually needs the ownership, so it had to clone it. Taking by value removes this clone.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1143/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1142", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1142/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1142/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1142/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1142", "id": 2723844395, "node_id": "PR_kwDOEj0F686EXpeL", "number": 1142, "title": "Make RawBatchValuesIteratorAdapter length equal to its internal BatchValuesIter length", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2443370607, "node_id": "MDU6TGFiZWwyNDQzMzcwNjA3", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/17", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/17", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/17/labels", "id": 11995438, "node_id": "MI_kwDOEj0F684Atwku", "number": 17, "title": "0.15.1", "description": "", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2024-12-04T17:14:19Z", "updated_at": "2024-12-16T12:33:02Z", "due_on": null, "closed_at": "2024-12-16T12:33:02Z"}, "comments": 1, "created_at": "2024-12-06T20:17:59Z", "updated_at": "2024-12-11T14:46:45Z", "closed_at": "2024-12-07T12:09:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1142", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1142", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1142.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1142.patch", "merged_at": "2024-12-07T12:09:34Z"}, "body": "When executing batch statement, the amount of statements should be equal to amount of batch values.\r\nThis is checked in `scylla-cql/src/frame/request/batch.rs` in impl of `Batch`, specifically it's `do_serialize` method.\r\nThis method iterates over statements, serializes the statement and serializes the values for the statement.\r\n\r\nIf the value iterator returns `None`, then  there were not enough values, so it returns an error.\r\nAfter serialization it verifies that the iterator is finished - if it is not, then there are too many values.\r\n\r\nThe problem is that the length of `RawBatchValuesIteratorAdapter` is limited to the amount\r\nof statements, because all of it's methods first try to get next serialization context, and if it is not present, return `None`.\r\nThis limits the length of this iterator to the amount of statement, so the second check (the one after serializing all the statements) couldn't do it's job.\r\n\r\nThe fix is to make sure that the length of `RawBatchValuesIteratorAdapter` is always equal to the length of its internal `BatchValuesIterator`.\r\nThis is done by:\r\n- Ignoring the return value of `self.contexts.next()` in `is_empty_next` and `skip_next`\r\n- Using empty serialization context as a default value in `serialize_next`.\r\n\r\nFixes https://github.com/scylladb/scylla-rust-driver/issues/1114\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1142/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1142/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1141", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1141/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1141/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1141/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1141", "id": 2722588322, "node_id": "PR_kwDOEj0F686ETSpH", "number": 1141, "title": "Deprecate legacy items", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/17", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/17", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/17/labels", "id": 11995438, "node_id": "MI_kwDOEj0F684Atwku", "number": 17, "title": "0.15.1", "description": "", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2024-12-04T17:14:19Z", "updated_at": "2024-12-16T12:33:02Z", "due_on": null, "closed_at": "2024-12-16T12:33:02Z"}, "comments": 7, "created_at": "2024-12-06T10:01:15Z", "updated_at": "2024-12-11T13:13:49Z", "closed_at": "2024-12-11T13:13:45Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1141", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1141", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1141.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1141.patch", "merged_at": "2024-12-11T13:13:45Z"}, "body": "# The following items are now marked as deprecated:\r\n\r\n### Serialization:\r\n- `scylla::impl_serialize_value_via_value`\r\n- `scylla::impl_serialize_row_via_value_list`\r\n- `scylla::ValueList`\r\n- `scylla::serialize::batch::LegacyBatchValuesAdapter`\r\n- `scylla::serialize::batch::LegacyBatchValuesIteratorAdapter`\r\n- `scylla::serialize::row::ValueListAdapter`\r\n- `scylla::serialize::row::ValueListToSerializeRowAdapterError`\r\n- `scylla::serialize::row::serialize_legacy_row`\r\n- `scylla::serialize::value::ValueAdapter`\r\n- `scylla::serialize::value::ValueToSerializeValueAdapterError`\r\n- `scylla::serialize::value::serialize_legacy_value`\r\n- `scylla_cql::frame::value::LegacyBatchValues`\r\n- `scylla_cql::frame::value::LegacyBatchValuesFirstSerialized`\r\n- `scylla_cql::frame::value::LegacyBatchValuesIterator`\r\n- `scylla_cql::frame::value::LegacyBatchValuesFromIter`\r\n- `scylla_cql::frame::value::LegacyBatchValuesIteratorFromIterator`\r\n- `scylla_cql::frame::value::TupleValuesIter`\r\n- `scylla_cql::frame::value::Value`\r\n\r\n### Deserialization:\r\n- `scylla::impl_from_cql_value_from_method`\r\n- `scylla::transport::iterator::LegacyNextRowError`\r\n- `scylla::transport::legacy_query_result::IntoLegacyQueryResultError`\r\n- `scylla::transport::legacy_query_result::MaybeFirstRowTypedError`\r\n- `scylla::transport::legacy_query_result::RowsExpectedError`\r\n- `scylla::transport::legacy_query_result::SingleRowError`\r\n- `scylla::transport::legacy_query_result::IntoTypedRows`\r\n- `scylla::transport::legacy_query_result::TypedRowIter`\r\n- `scylla_cql::cql_to_rust::FromCqlValError`\r\n- `scylla_cql::cql_to_rust::FromRowError`\r\n\r\nFixes: #1139 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1141/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1137", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1137/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1137/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1137/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1137", "id": 2713702936, "node_id": "PR_kwDOEj0F686D0oc-", "number": 1137, "title": "Allow serialization of \"columns\" that are not valid rust identifiers", "user": {"login": "nrxus", "id": 2774084, "node_id": "MDQ6VXNlcjI3NzQwODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2774084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrxus", "html_url": "https://github.com/nrxus", "followers_url": "https://api.github.com/users/nrxus/followers", "following_url": "https://api.github.com/users/nrxus/following{/other_user}", "gists_url": "https://api.github.com/users/nrxus/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrxus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrxus/subscriptions", "organizations_url": "https://api.github.com/users/nrxus/orgs", "repos_url": "https://api.github.com/users/nrxus/repos", "events_url": "https://api.github.com/users/nrxus/events{/privacy}", "received_events_url": "https://api.github.com/users/nrxus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2024-12-03T00:43:57Z", "updated_at": "2024-12-04T14:41:52Z", "closed_at": "2024-12-04T14:41:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1137", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1137", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1137.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1137.patch", "merged_at": "2024-12-04T14:41:52Z"}, "body": "## Fixes\r\n\r\nWhen trying to serialize a row that isn't a valid rust identifier, the macro fails to expand due to the invalid rust identifier being used when creating variables for the derived implementation. This PR fixes that such that those variables are driven by the field identifier rather than the column name. \r\n\r\nIn particular, this occurs when trying to serialize a dynamic TTL that would be using in a query such as:\r\n\r\n```cql\r\nINSERT INTO my_table (/* snip cols */) VALUES((/* snip cols */) USING TTL ?\r\n```\r\n\r\nThe struct desired for serialization is:\r\n```rust\r\nstruct InsertRow {\r\n    #[scylla(rename = \"[ttl]\"]\r\n    ttl: i32,\r\n    /* snip cols */\r\n}\r\n```\r\n\r\nHowever, in the current version of the driver this fails because it tries to create a variable called `visited_flag_[ttl]` which is not a valid rust identifier. As far as I could tell there is no reason for this variable to be based on the column name rather than the field name so I switched it to be based off the field name since that already has to be a valid identifier. \r\n\r\nI added a test to verify that the serialization works but I didn't add any integration tests to make sure that the TTL insert actually works. I have tested it locally however. \r\n\r\nFor context: I am using this dynamic TTL to allow moving of rows to different \"buckets\" (which drive partitions in my schema). I want the re-bucketing to not affect the existing TTL so I am reading the existing TTL in one query and then applying it to the new row in the new bucket in an insert. \r\n\r\nI also fixed a doc typo that was missing an ending square bracket. \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [X] I have split my patch into logically separate commits.\r\n- [X] All commit messages clearly explain what they change and why.\r\n- [X] I added relevant tests for new features and bug fixes.\r\n- [X] All commits compile, pass static checks and pass test.\r\n- [X] PR description sums up the changes and reasons why they should be introduced.\r\n- [X] I have provided docstrings for the public items that I want to introduce.\r\n- [X] I have adjusted the documentation in `./docs/source/`.\r\n- [X] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1137/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1136", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1136/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1136/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1136/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1136", "id": 2712040121, "node_id": "PR_kwDOEj0F686DwJcd", "number": 1136, "title": "rust: appease compiler, formatter and linter from toolchain 1.83", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-12-02T13:59:29Z", "updated_at": "2024-12-19T16:34:18Z", "closed_at": "2024-12-02T14:13:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1136", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1136", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1136.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1136.patch", "merged_at": "2024-12-02T14:13:29Z"}, "body": "This PR fixes CI, by fixing the:\r\n- formatting errors - some changes to `cargo fmt` were introduced in 1.83\r\n- compiler warnings - these are regarding elision of lifetimes that are already declared\r\n- clippy lints\r\n\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~[ ] I have provided docstrings for the public items that I want to introduce.~\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1136/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1135", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1135/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1135/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1135/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1135", "id": 2712009862, "node_id": "PR_kwDOEj0F686DwDiI", "number": 1135, "title": "frame/result: allow differing TableSpecs in PreparedMetadata", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2443370607, "node_id": "MDU6TGFiZWwyNDQzMzcwNjA3", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2024-12-02T13:48:47Z", "updated_at": "2024-12-05T15:26:42Z", "closed_at": "2024-12-05T15:26:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1135", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1135", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1135.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1135.patch", "merged_at": "2024-12-05T15:26:38Z"}, "body": "As noted in #1134, when preparing batches containing requests to multiple to different tables, the PreparedMetadata received upon preparation contains differing TableSpecs (i.e., TableSpecs with more than table mentioned).\r\nThis fails the check that we introduced with ResultMetadata in mind: we've been assuming that all TableSpecs are the same, because ScyllaDB/ Cassandra has no support for JOINs.\r\nNot to fail preparation of cross-table batches, the check is now only turned on for ResultMetadata and turned off for PreparedMetadata.\r\n\r\nFixes: #1134\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1135/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1133", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1133/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1133/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1133/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1133", "id": 2705187177, "node_id": "PR_kwDOEj0F686DkqEA", "number": 1133, "title": "rows_result: implement into_inner behind `cpp_rust_unstable` cfg", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7177048623, "node_id": "LA_kwDOEj0F688AAAABq8kSLw", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/cpp-rust-driver-p0", "name": "cpp-rust-driver-p0", "color": "FA7D3D", "default": false, "description": "Functionality required by cpp-rust-driver"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2024-11-29T13:47:53Z", "updated_at": "2024-12-19T16:35:09Z", "closed_at": "2024-12-02T15:37:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1133", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1133", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1133.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1133.patch", "merged_at": "2024-12-02T15:37:18Z"}, "body": "This is convenience introduced only for cpp-rust-driver purposes.\r\n\r\nWe will use DeserializedMetadataAndRawRows directly to implement lazy deserialization in cpp-rust-driver\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~[ ] I have provided docstrings for the public items that I want to introduce.~\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1133/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1131", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1131/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1131/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1131/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1131", "id": 2689143171, "node_id": "PR_kwDOEj0F686C-VYe", "number": 1131, "title": "Make fields of ConnectionSetupRequestError public", "user": {"login": "rukai", "id": 5120858, "node_id": "MDQ6VXNlcjUxMjA4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5120858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rukai", "html_url": "https://github.com/rukai", "followers_url": "https://api.github.com/users/rukai/followers", "following_url": "https://api.github.com/users/rukai/following{/other_user}", "gists_url": "https://api.github.com/users/rukai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rukai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rukai/subscriptions", "organizations_url": "https://api.github.com/users/rukai/orgs", "repos_url": "https://api.github.com/users/rukai/repos", "events_url": "https://api.github.com/users/rukai/events{/privacy}", "received_events_url": "https://api.github.com/users/rukai/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/17", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/17", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/17/labels", "id": 11995438, "node_id": "MI_kwDOEj0F684Atwku", "number": 17, "title": "0.15.1", "description": "", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2024-12-04T17:14:19Z", "updated_at": "2024-12-16T12:33:02Z", "due_on": null, "closed_at": "2024-12-16T12:33:02Z"}, "comments": 3, "created_at": "2024-11-25T04:58:09Z", "updated_at": "2024-12-11T06:59:56Z", "closed_at": "2024-12-11T06:59:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1131", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1131", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1131.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1131.patch", "merged_at": "2024-12-11T06:59:56Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n\r\nThis seems like an accidental omission. Without these fields being public it is impossible to match on the error type.", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1131/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1128", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1128/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1128/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1128/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1128", "id": 2677179539, "node_id": "PR_kwDOEj0F686ClM5I", "number": 1128, "title": "Implement timestamp generators", "user": {"login": "smoczy123", "id": 30671438, "node_id": "MDQ6VXNlcjMwNjcxNDM4", "avatar_url": "https://avatars.githubusercontent.com/u/30671438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smoczy123", "html_url": "https://github.com/smoczy123", "followers_url": "https://api.github.com/users/smoczy123/followers", "following_url": "https://api.github.com/users/smoczy123/following{/other_user}", "gists_url": "https://api.github.com/users/smoczy123/gists{/gist_id}", "starred_url": "https://api.github.com/users/smoczy123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smoczy123/subscriptions", "organizations_url": "https://api.github.com/users/smoczy123/orgs", "repos_url": "https://api.github.com/users/smoczy123/repos", "events_url": "https://api.github.com/users/smoczy123/events{/privacy}", "received_events_url": "https://api.github.com/users/smoczy123/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2443370612, "node_id": "MDU6TGFiZWwyNDQzMzcwNjEy", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": {"login": "smoczy123", "id": 30671438, "node_id": "MDQ6VXNlcjMwNjcxNDM4", "avatar_url": "https://avatars.githubusercontent.com/u/30671438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smoczy123", "html_url": "https://github.com/smoczy123", "followers_url": "https://api.github.com/users/smoczy123/followers", "following_url": "https://api.github.com/users/smoczy123/following{/other_user}", "gists_url": "https://api.github.com/users/smoczy123/gists{/gist_id}", "starred_url": "https://api.github.com/users/smoczy123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smoczy123/subscriptions", "organizations_url": "https://api.github.com/users/smoczy123/orgs", "repos_url": "https://api.github.com/users/smoczy123/repos", "events_url": "https://api.github.com/users/smoczy123/events{/privacy}", "received_events_url": "https://api.github.com/users/smoczy123/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "smoczy123", "id": 30671438, "node_id": "MDQ6VXNlcjMwNjcxNDM4", "avatar_url": "https://avatars.githubusercontent.com/u/30671438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smoczy123", "html_url": "https://github.com/smoczy123", "followers_url": "https://api.github.com/users/smoczy123/followers", "following_url": "https://api.github.com/users/smoczy123/following{/other_user}", "gists_url": "https://api.github.com/users/smoczy123/gists{/gist_id}", "starred_url": "https://api.github.com/users/smoczy123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smoczy123/subscriptions", "organizations_url": "https://api.github.com/users/smoczy123/orgs", "repos_url": "https://api.github.com/users/smoczy123/repos", "events_url": "https://api.github.com/users/smoczy123/events{/privacy}", "received_events_url": "https://api.github.com/users/smoczy123/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 8, "created_at": "2024-11-20T20:59:43Z", "updated_at": "2025-03-25T13:55:32Z", "closed_at": "2025-01-27T13:47:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1128", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1128", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1128.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1128.patch", "merged_at": "2025-01-27T13:47:44Z"}, "body": "To achieve parity with cpp-driver we need to implement client-side timestamp generators.\r\nThis pull request adds a TimestampGenerator trait and a MonotonicTimestampGenerator that implements it,\r\ntogether with an extension to SessionBuilder that provides an ability to set a TimestampGenerator in Session \r\nand use it to generate timestamps.\r\n\r\n\r\nFixes #1032 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1128/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1128/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1127", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1127/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1127/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1127/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1127", "id": 2676686910, "node_id": "PR_kwDOEj0F686CkE98", "number": 1127, "title": "Fix concurrent DDL queries", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2024-11-20T17:40:48Z", "updated_at": "2024-11-21T13:19:52Z", "closed_at": "2024-11-21T13:19:52Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1127", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1127", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1127.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1127.patch", "merged_at": "2024-11-21T13:19:52Z"}, "body": "Fixes: https://github.com/scylladb/scylla-rust-driver/issues/1126\r\n\r\nThis PR implements the third solution from the ones described in the issue.\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1127/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1125", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1125/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1125/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1125/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1125", "id": 2659171106, "node_id": "PR_kwDOEj0F686B8BJn", "number": 1125, "title": "Release 0.15", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2024-11-14T15:30:17Z", "updated_at": "2024-11-14T16:43:39Z", "closed_at": "2024-11-14T16:43:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1125", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1125", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1125.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1125.patch", "merged_at": "2024-11-14T16:43:38Z"}, "body": "# Proposed release notes:\r\n\r\nThe ScyllaDB team is pleased to announce ScyllaDB Rust Driver 0.15.0,\r\nan asynchronous CQL driver for Rust, optimized for Scylla, but also compatible with Apache Cassandra!\r\n\r\nSome interesting statistics:\r\n\r\n- over 2.516k downloads on crates!\r\n- over 583 GitHub stars!\r\n\r\n## Changes\r\n\r\nBeginning with this release, instead of putting all API-breaking changes into one group, now they are in the proper categories, but labeled as \u26a0\ufe0f **[API-breaking]**.\r\n\r\n### Main changes:\r\n\r\n#### New deserialization API\r\n\r\nThe main change in this release is the deserialization API refactor. Its primary goal was to reduce overhead caused by all rows being eagerly deserialized to type-erased `CqlValue` type, only then being converted to end user types.\r\nOld traits and structs (`FromCqlVal`, `FromRow`, `QueryResult` - renamed to `LegacyQueryResult`, `RowIterator` - renamed to `LegacyRowIterator`, `TypedRowIterator` - renamed to `LegacyTypedRowIterator`) are replaced by new ones (`DeserializeValue`, `DeserializeRow`, new `QueryResult`, `QueryPager`, `TypedRowStream`). There are wrappers and helper implementations provided, designed to aid in gradually migrating to new API - see the migration guide in the book for more information. Old traits and structs will be removed in one of future versions.\r\n\r\nNew serialization API has a benefit of increased efficiency - now, rows are deserialized straight to the end user type, without any copying and allocations on the way.\r\nAnother feature is the ability to deserialize rows to borrowed types (e.g. `&str` or `&[u8]`).\r\nAnd the result metadata is now deserialized in the borrowed form, saving even more allocations.\r\n\r\nThe refactor included:\r\n- \u26a0\ufe0f **[API-breaking]** Parametrized `Deserialize{Value,Row}` with two lifetimes: `'frame` and `'metadata` separately ([#1101](https://github.com/scylladb/scylla-rust-driver/pull/1101)).\r\n- \u26a0\ufe0f **[API-breaking]** The deserialization refactor was finished ([#1088](https://github.com/scylladb/scylla-rust-driver/pull/1088), [#1107](https://github.com/scylladb/scylla-rust-driver/pull/1107), [#1109](https://github.com/scylladb/scylla-rust-driver/pull/1109), [#1093](https://github.com/scylladb/scylla-rust-driver/pull/1093), [#1057](https://github.com/scylladb/scylla-rust-driver/pull/1057), [#1120](https://github.com/scylladb/scylla-rust-driver/pull/1120), [#1118](https://github.com/scylladb/scylla-rust-driver/pull/1118), [#1122](https://github.com/scylladb/scylla-rust-driver/pull/1122), [#1121](https://github.com/scylladb/scylla-rust-driver/pull/1121)).\r\n- \u26a0\ufe0f **[API-breaking]** Unified macro attributes' syntax and semantics between serialization and deserialization derive macros ([#1119](https://github.com/scylladb/scylla-rust-driver/pull/1119)).\r\n\r\n\r\n### Other changes by category:\r\n\r\n**New features / enhancements:**\r\n- \u26a0\ufe0f **[API-breaking]** Made `ResultMetadata` lifetime-generic, which paved a path to deserializing metadata in a borrowed way as an optimisation to save allocations ([#1082](https://github.com/scylladb/scylla-rust-driver/pull/1082)).\r\n- Exported serialization migration macros that accidentally hadn't been exported before ([#1089](https://github.com/scylladb/scylla-rust-driver/pull/1089)).\r\n- Exposed public getters to type-erased errors ([#1087](https://github.com/scylladb/scylla-rust-driver/pull/1087)).\r\n- Trace message is now issued upon successful keepalive ([#1092](https://github.com/scylladb/scylla-rust-driver/pull/1092)).\r\n- Added `SerializeRow` impl for `Box<T: SerializeRow>` ([#1105](https://github.com/scylladb/scylla-rust-driver/pull/1105)).\r\n- Exposed public getters for execution profile configuration ([#1104](https://github.com/scylladb/scylla-rust-driver/pull/1104)).\r\n- Allowed public access to the profile associated with an execution profile handle ([#1112](https://github.com/scylladb/scylla-rust-driver/pull/1112)).\r\n\r\n**Bug fixes:**\r\n- \u26a0\ufe0f **[API-breaking]** Fixed driver's logic that bases on error variants returned from query execution ([#1075](https://github.com/scylladb/scylla-rust-driver/pull/1075)).\r\n- Fixed possible panic in speculative execution ([#1086](https://github.com/scylladb/scylla-rust-driver/pull/1086))\r\n- \u26a0\ufe0f **[API-breaking]** Disallowed deserializing Counter type to plain `i64` for type safety ([#1106](https://github.com/scylladb/scylla-rust-driver/pull/1106)).\r\n- Fixed logic about ignoring particular error kinds if speculative execution failed ([#1124](https://github.com/scylladb/scylla-rust-driver/pull/1124)).\r\n\r\n**API cleanups / better types:**\r\n- \u26a0\ufe0f **[API-breaking]** Some of our error types were restructured to be more strongly typed (instead of just containing a string) and better reflect the conditions that they appear in. This work will be continued in 0.16. ([#1067](https://github.com/scylladb/scylla-rust-driver/pull/1067), [#1074](https://github.com/scylladb/scylla-rust-driver/pull/1074), [#1054](https://github.com/scylladb/scylla-rust-driver/pull/1054), [#1080](https://github.com/scylladb/scylla-rust-driver/pull/1074), [#1080](https://github.com/scylladb/scylla-rust-driver/pull/1080), [#1117](https://github.com/scylladb/scylla-rust-driver/pull/1117)).\r\n- Removed wildcard re-exports of the serialization framework's entities ([#1090](https://github.com/scylladb/scylla-rust-driver/pull/1090)).\r\n- \u26a0\ufe0f **[API-breaking]** Made `RetryPolicy` stored behind `Arc` instead of `Box` ([#1103](https://github.com/scylladb/scylla-rust-driver/pull/1103)).\r\n\r\n**Internal API cleanups/refactors:**\r\n- Removed paging state parameter from unpaged raw `Connection`'s API ([#1084](https://github.com/scylladb/scylla-rust-driver/pull/1084)).\r\n- \u26a0\ufe0f **[API-breaking]** Fixed unnameable types in our codebase (by making them exposed, unexposing them or deleting them at all) and enabled the `unnameable_types` clippy lint to prevent having such situation in the future ([#1094](https://github.com/scylladb/scylla-rust-driver/pull/1094)).\r\n- Tiny optimizations and code refactors ([#1108](https://github.com/scylladb/scylla-rust-driver/pull/1108)).\r\n\r\n\r\n**Documentation:**\r\n- Updated docs theme ([#1081](https://github.com/scylladb/scylla-rust-driver/pull/1081), [#1110](https://github.com/scylladb/scylla-rust-driver/pull/1110)).\r\n\r\n\r\n**CI / developer tool improvements:**\r\n- clippy was appeased again ([#1072](https://github.com/scylladb/scylla-rust-driver/pull/1072), [#1077](https://github.com/scylladb/scylla-rust-driver/pull/1077), [#1095](https://github.com/scylladb/scylla-rust-driver/pull/1095)).\r\n- Pinned Rust version in `book.yml` CI workflow ([#1096](https://github.com/scylladb/scylla-rust-driver/pull/1096)).\r\n\r\n**Others:**\r\n- Rewritten RELEASE.md, so that it now contains up-to-date guide about maintaining and releasing the driver ([#1076](https://github.com/scylladb/scylla-rust-driver/pull/1076)).\r\n- Bumped MSRV to 1.70 ([#1098](https://github.com/scylladb/scylla-rust-driver/pull/1098)).\r\n- Added an example showing Counter UPDATE ([#1100](https://github.com/scylladb/scylla-rust-driver/pull/1100)).\r\n\r\n\r\nCongrats to all contributors and thanks everyone for using our driver!\r\n\r\n----------\r\n\r\nThe source code of the driver can be found here:\r\n- [https://github.com/scylladb/scylla-rust-driver](https://github.com/scylladb/scylla-rust-driver)\r\nContributions are most welcome!\r\n\r\nThe official crates.io registry entry is here:\r\n- [https://crates.io/crates/scylla](https://crates.io/crates/scylla)\r\n\r\nThank you for your attention, please do not hesitate to contact us if you have any questions, issues, feature requests, or are simply interested in our driver!\r\n\r\nContributors since the last release:\r\n\r\n| commits | author            |\r\n|---------|-------------------|\r\n| 154     | Miko\u0142aj Uzarski   |\r\n| 89      | Wojciech Przytu\u0142a |\r\n| 45      | Karol Bary\u0142a      |\r\n| 26      | Piotr Dulikowski  |\r\n| 3       | David Garcia      |\r\n| 1       | Daniel Boll       |\r\n| 1       | Alex Pozhylenkov  |\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1125/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1124", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1124/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1124/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1124/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1124", "id": 2655233421, "node_id": "PR_kwDOEj0F686BxP4-", "number": 1124, "title": "spec_exec: fix can_be_ignored function", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2443370607, "node_id": "MDU6TGFiZWwyNDQzMzcwNjA3", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/14", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14/labels", "id": 11464697, "node_id": "MI_kwDOEj0F684Aru_5", "number": 14, "title": "0.15.0", "description": "- another part of errors refactor\r\n- deserialization API refactor", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2024-08-20T11:05:54Z", "updated_at": "2024-11-14T15:59:18Z", "due_on": "2024-11-14T00:00:00Z", "closed_at": "2024-11-14T15:59:18Z"}, "comments": 1, "created_at": "2024-11-13T11:50:09Z", "updated_at": "2024-12-19T16:34:24Z", "closed_at": "2024-11-13T14:53:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1124", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1124", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1124.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1124.patch", "merged_at": "2024-11-13T14:53:48Z"}, "body": "ref: https://github.com/scylladb/scylla-rust-driver/pull/1083\r\nThis is a first iteration of fixing https://github.com/scylladb/scylla-rust-driver/pull/1083 - one we can merge before 0.15. I think this is crucial for speculative execution's performance - current implementation does not ignore any of the DbErrors. If any DbError is returned from database, we return prematurely without further investigation.\r\n\r\nPrevious implementation did not make much sense. We would prematurely return from speculative execution for some errors which could be ignored.\r\n\r\nI adjusted the function, so we use `#[deny(clippy::wildcard_enum_match_arm)]` lint. It will force the developer to think before adjusting this function if new QueryError variant is introduced.\r\n\r\nI categorized the errors (see the comments in the code) and justified why each of them needs to be ignored or not.\r\n\r\nNote: In the comments, I mention that there are some error variants we don't expect there. It's true, because not all of the `QueryError` variants could be constructed at this stage. I'm currently working on narrowing the error type passed to this function (as well as errors passed to `RetrySession::decide_should_retry` and `LBP::on_query_failure`).\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1124/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1123", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1123/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1123/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1123/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1123", "id": 2653754326, "node_id": "PR_kwDOEj0F686BtAXJ", "number": 1123, "title": "Update time docs to reflect new chrono feature flag name", "user": {"login": "willshiao", "id": 7531676, "node_id": "MDQ6VXNlcjc1MzE2NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/7531676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willshiao", "html_url": "https://github.com/willshiao", "followers_url": "https://api.github.com/users/willshiao/followers", "following_url": "https://api.github.com/users/willshiao/following{/other_user}", "gists_url": "https://api.github.com/users/willshiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/willshiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willshiao/subscriptions", "organizations_url": "https://api.github.com/users/willshiao/orgs", "repos_url": "https://api.github.com/users/willshiao/repos", "events_url": "https://api.github.com/users/willshiao/events{/privacy}", "received_events_url": "https://api.github.com/users/willshiao/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2443370609, "node_id": "MDU6TGFiZWwyNDQzMzcwNjA5", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/area/documentation", "name": "area/documentation", "color": "25E487", "default": false, "description": "Improvements or additions to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-11-13T00:39:28Z", "updated_at": "2024-11-20T11:59:59Z", "closed_at": "2024-11-20T11:59:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1123", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1123", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1123.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1123.patch", "merged_at": "2024-11-20T11:59:59Z"}, "body": "Changes `chrono` -> `chrono-04` to reflect the new name for the feature flag. This was confusing when I was trying to find the feature flag.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [X] I have split my patch into logically separate commits.\r\n- [X] All commit messages clearly explain what they change and why.\r\n- [X] I added relevant tests for new features and bug fixes.\r\n- [X] All commits compile, pass static checks and pass test.\r\n- [X] PR description sums up the changes and reasons why they should be introduced.\r\n- [X] I have provided docstrings for the public items that I want to introduce.\r\n- [X] I have adjusted the documentation in `./docs/source/`.\r\n- [X] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1123/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1122", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1122/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1122/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1122/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1122", "id": 2653203581, "node_id": "PR_kwDOEj0F686Brd_U", "number": 1122, "title": "iterator: delete `TypedRowLendingStream` as unusable", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}, {"id": 7180912560, "node_id": "LA_kwDOEj0F688AAAABrAQHsA", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/area/deserialization", "name": "area/deserialization", "color": "799E5B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/14", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14/labels", "id": 11464697, "node_id": "MI_kwDOEj0F684Aru_5", "number": 14, "title": "0.15.0", "description": "- another part of errors refactor\r\n- deserialization API refactor", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2024-08-20T11:05:54Z", "updated_at": "2024-11-14T15:59:18Z", "due_on": "2024-11-14T00:00:00Z", "closed_at": "2024-11-14T15:59:18Z"}, "comments": 1, "created_at": "2024-11-12T20:04:29Z", "updated_at": "2024-11-12T20:25:06Z", "closed_at": "2024-11-12T20:25:01Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1122", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1122", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1122.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1122.patch", "merged_at": "2024-11-12T20:25:01Z"}, "body": "We failed to find a way to make `TypedRowLendingStream` usable. The borrow checker keeps forbidding making more than one call to `next()` method.\r\n\r\nIn the close future, we'll investigate alternatives to bring borrowed types deserialization capabilities to `QueryPager`.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1122/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1121", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1121/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1121/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1121/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1121", "id": 2653160744, "node_id": "PR_kwDOEj0F686BrVp7", "number": 1121, "title": "Aid in migration to the new deserialization API", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}, {"id": 7180912560, "node_id": "LA_kwDOEj0F688AAAABrAQHsA", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/area/deserialization", "name": "area/deserialization", "color": "799E5B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/14", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14/labels", "id": 11464697, "node_id": "MI_kwDOEj0F684Aru_5", "number": 14, "title": "0.15.0", "description": "- another part of errors refactor\r\n- deserialization API refactor", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2024-08-20T11:05:54Z", "updated_at": "2024-11-14T15:59:18Z", "due_on": "2024-11-14T00:00:00Z", "closed_at": "2024-11-14T15:59:18Z"}, "comments": 2, "created_at": "2024-11-12T19:45:39Z", "updated_at": "2024-11-13T20:40:57Z", "closed_at": "2024-11-13T20:40:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1121", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1121", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1121.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1121.patch", "merged_at": "2024-11-13T20:40:54Z"}, "body": "# Motivation\r\n\r\nLet's reduce friction when migrating to the new deserialization API.\r\n\r\n# What's done\r\n\r\n### Deprecations\r\n\r\nEntities (traits and structs) belonging to the old deserialization API, which we plan to remove soon, are labeled with `#[deprecated]` attribute. This way they will trigger warnings when used, urging users to consider migration.\r\n\r\n### Convenient switching between the legacy & the new Session's API\r\n\r\nThere already are `Session` and `LegacySession`. However, a viable migration strategy involves incremental migration from the old API to the new API. In such case, it makes sense to have cheap conversions between Session APIs, using the same data underneath. This is done: `LegacySession` is convertible to `Session` and vice versa (and they share the same `Cluster` through an `Arc`).\r\n \r\n### Migration guide\r\n\r\nA migration guide is added. It briefly describes the old and the new deserialization traits and compares them. Then, it summarises what changes are needed to adjust to the new deserialization framework entities.\r\n\r\nFixes:  #965\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1121/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1120", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1120/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1120/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1120/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1120", "id": 2652756199, "node_id": "PR_kwDOEj0F686BqObo", "number": 1120, "title": "Migrate tablets to new deserialization framework", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7180912560, "node_id": "LA_kwDOEj0F688AAAABrAQHsA", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/area/deserialization", "name": "area/deserialization", "color": "799E5B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-11-12T16:47:26Z", "updated_at": "2024-12-11T15:56:46Z", "closed_at": "2024-11-12T17:04:58Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1120", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1120", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1120.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1120.patch", "merged_at": "2024-11-12T17:04:58Z"}, "body": "Tablets were omitted during migration in #1057.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1120/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1119", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1119/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1119/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1119/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1119", "id": 2648818552, "node_id": "PR_kwDOEj0F686BfILm", "number": 1119, "title": "Unify macro attributes between serialization and deserialization derive macros", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6133263722, "node_id": "LA_kwDOEj0F688AAAABbZItag", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/area/proc-macros", "name": "area/proc-macros", "color": "8EED0B", "default": false, "description": "Related to procedural macros"}, {"id": 7180912560, "node_id": "LA_kwDOEj0F688AAAABrAQHsA", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/area/deserialization", "name": "area/deserialization", "color": "799E5B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/14", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14/labels", "id": 11464697, "node_id": "MI_kwDOEj0F684Aru_5", "number": 14, "title": "0.15.0", "description": "- another part of errors refactor\r\n- deserialization API refactor", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2024-08-20T11:05:54Z", "updated_at": "2024-11-14T15:59:18Z", "due_on": "2024-11-14T00:00:00Z", "closed_at": "2024-11-14T15:59:18Z"}, "comments": 4, "created_at": "2024-11-11T10:05:26Z", "updated_at": "2024-11-14T13:56:08Z", "closed_at": "2024-11-14T13:56:05Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1119", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1119", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1119.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1119.patch", "merged_at": "2024-11-14T13:56:05Z"}, "body": "## Motivation\r\nWhen deserialization macros were introduced in #1024, their attributes differed in naming and usage from those introduced in #851 for serialization derive macros.\r\n\r\nThis PR aims to unify attributes between `SerializeValue` and `DeserializeValue`, and between `SerializeRow` and `DeserializeRow`, so that both traits can be derived for a struct without a clash in attribute parsing.\r\n\r\nFixes: #462\r\nFINALLY!\r\n\r\n## What's done\r\n\r\n1. In `SerializeValue`: `force_exact_match` -> `forbid_excess_udt_fields` (attribute renamed for consistency with `DeserializeValue`);\r\n2. `Flavor` is shared between serialization and deserialization derive macros, and both have the same syntax for choosing the flavor: `flavor = \"enforce_order\"`;\r\n3. `allow_missing` is supported for `SerializeValue`, as it is in `DeserializeValue`;\r\n4. `default_when_null` is parsed and ignored in `SerializeValue`, as it's a no-op for serialization (it's only useful for deserialization, as it says: _\"If I got NULL for a non-Option Rust field, let's fill it with Default::default()\"_; currently, it would cause a parse error in `SerializeValue`.\r\n5. Doctests are added (analogous to those for `Deserialize{Value,Row}`) for sanity verification of provided attributes.\r\n6. Tests are added for Ser/De macros integration. Those make sure that those macros don't conflict and their attributes' syntax and behaviour are consistent.\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1119/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1119/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1118", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1118/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1118/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1118/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1118", "id": 2647593053, "node_id": "PR_kwDOEj0F686Bb_jM", "number": 1118, "title": "Adjust Book examples to the new deserialization API", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/14", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14/labels", "id": 11464697, "node_id": "MI_kwDOEj0F684Aru_5", "number": 14, "title": "0.15.0", "description": "- another part of errors refactor\r\n- deserialization API refactor", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2024-08-20T11:05:54Z", "updated_at": "2024-11-14T15:59:18Z", "due_on": "2024-11-14T00:00:00Z", "closed_at": "2024-11-14T15:59:18Z"}, "comments": 3, "created_at": "2024-11-10T20:07:04Z", "updated_at": "2024-11-12T19:30:22Z", "closed_at": "2024-11-12T19:30:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1118", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1118", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1118.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1118.patch", "merged_at": "2024-11-12T19:30:19Z"}, "body": "This PR adjusts examples in the Book to the new API, so that the tests compile and pass. This should be merged quickly to bring back the passing Book check to the CI.\r\n\r\nFurther adjustments of the Book to the new API, including more descriptive tips and a migration guide, are left as a follow-up.\r\n\r\nRefs: #462\r\nDepends on: #1057 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1118/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1117", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1117/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1117/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1117/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1117", "id": 2645151634, "node_id": "PR_kwDOEj0F686BXt5X", "number": 1117, "title": "errors: replace `RowsParseError` and narrow the return types after deserialization refactor", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}, {"id": 7180912560, "node_id": "LA_kwDOEj0F688AAAABrAQHsA", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/area/deserialization", "name": "area/deserialization", "color": "799E5B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/14", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14/labels", "id": 11464697, "node_id": "MI_kwDOEj0F684Aru_5", "number": 14, "title": "0.15.0", "description": "- another part of errors refactor\r\n- deserialization API refactor", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2024-08-20T11:05:54Z", "updated_at": "2024-11-14T15:59:18Z", "due_on": "2024-11-14T00:00:00Z", "closed_at": "2024-11-14T15:59:18Z"}, "comments": 13, "created_at": "2024-11-08T21:01:53Z", "updated_at": "2024-12-19T16:34:22Z", "closed_at": "2024-11-13T15:40:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1117", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1117", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1117.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1117.patch", "merged_at": "2024-11-13T15:40:45Z"}, "body": "## Motivation\r\n\r\nAfter deserialization refactor, the `RowsParseError` was widely abused in multiple places, namely:\r\n- `deser_rows()` - initial deserialization of RESULT:Rows response\r\n- `QueryResult::into_rows_result()` - lazy deserialization of metadata\r\n- `QueryResult::into_legacy_result()` - lazy metadata deserialization, rows deserialization etc.\r\n- everytime we needed to convert `Typecheck/DeserializationError`s to `QueryError` - widely abused in iterator API\r\n\r\nThis PR fixes that by narrowing the return types of functions originally depending on `RowsParseError`. The `RowsParseError` is removed at the end of this PR.\r\n\r\n## `QueryResult::into_rows_result()` return type\r\n\r\nThe last two commits adjust the API of `QueryResult`:\r\n1. Flattened the return type of `QueryResult::into_rows_result()` to `Result<_, IntoRowsResultError>`. I believe that this API is cleaner than returning `Option<Result<...>>`.\r\n2. ***[postponed]*** Introduced `QueryResult::into_rows_result_with_recovery()` - it does the same as `into_rows_result()`, but recovers `self` in case error occurred.\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1117/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1112", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1112/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1112/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1112/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1112", "id": 2621411239, "node_id": "PR_kwDOEj0F686AQGsw", "number": 1112, "title": "exec_profile_handle: allow public access to associated profile", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-10-29T14:20:26Z", "updated_at": "2024-12-19T16:34:26Z", "closed_at": "2024-10-30T12:00:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1112", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1112", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1112.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1112.patch", "merged_at": "2024-10-30T12:00:21Z"}, "body": "Last time, I introduced getters for `ExecutionProfile`. However, I forgot that in cpp-rust-driver use case, we only have an access to `ExecutionProfileHandle`...\r\n\r\nSince, we can convert handle to builder, I see no objections against having the ability to convert it to well-defined execution profile.\r\n\r\nObviously, we need to clone an `Arc`. But only a single one. Notice, however, that when converting to builder,\r\nwe need to clone multiple Arcs anyway (e.g. retry or load balancing policies).\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1112/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1110", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1110/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1110/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1110/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1110", "id": 2620255344, "node_id": "PR_kwDOEj0F686AMUOv", "number": 1110, "title": "docs: update theme 1.8.3", "user": {"login": "dgarcia360", "id": 9107969, "node_id": "MDQ6VXNlcjkxMDc5Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/9107969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgarcia360", "html_url": "https://github.com/dgarcia360", "followers_url": "https://api.github.com/users/dgarcia360/followers", "following_url": "https://api.github.com/users/dgarcia360/following{/other_user}", "gists_url": "https://api.github.com/users/dgarcia360/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgarcia360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgarcia360/subscriptions", "organizations_url": "https://api.github.com/users/dgarcia360/orgs", "repos_url": "https://api.github.com/users/dgarcia360/repos", "events_url": "https://api.github.com/users/dgarcia360/events{/privacy}", "received_events_url": "https://api.github.com/users/dgarcia360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-10-29T06:20:50Z", "updated_at": "2024-10-29T11:49:11Z", "closed_at": "2024-10-29T11:49:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1110", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1110", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1110.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1110.patch", "merged_at": "2024-10-29T11:49:10Z"}, "body": "Related issue https://github.com/scylladb/sphinx-scylladb-theme/issues/1229\r\n\r\nScyllaDB Sphinx Theme 1.8.3 is out \ud83e\udd73!  \r\n![image](https://github.com/user-attachments/assets/64d8fc02-ea76-4128-b908-c79f8223b974)\r\n\r\nThis release addresses some issues introduced in version 1.8. The key updates include:\r\n- Dark theme settings are now preserved between projects.\r\n- Tooltip functionality now supports glossary entries.\r\n- Dependabot configuration was edited to allow theme-related packages updates.\r\n   \r\nYou can read more about all the notable changes [here](https://sphinx-theme.scylladb.com/master/upgrade/CHANGELOG.html#oct-2024) (1.8.2 and 1.8.3)", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1110/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1109", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1109/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1109/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1109/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1109", "id": 2618571711, "node_id": "PR_kwDOEj0F686AG9zF", "number": 1109, "title": "result: fix wrong implied lifetime in `col_specs()`", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2443370607, "node_id": "MDU6TGFiZWwyNDQzMzcwNjA3", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2024-10-28T14:20:01Z", "updated_at": "2024-10-28T14:48:59Z", "closed_at": "2024-10-28T14:48:52Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1109", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1109", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1109.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1109.patch", "merged_at": "2024-10-28T14:48:51Z"}, "body": "As `ColumnSpec` is now parametrised by a lifetime, methods that return it implicitly bound its lifetime with lifetime of `&self`. This bug would lead to inefficiencies.\r\nAs a fix, an explicit lifetime is added in every method returning `ColumnSpec`.\r\n\r\nRef: https://github.com/scylladb/cpp-rust-driver/pull/200#discussion_r1819118480\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1109/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1109/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1108", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1108/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1108/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1108/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1108", "id": 2614806028, "node_id": "PR_kwDOEj0F685_8IMU", "number": 1108, "title": "node: tiny optimizations and code refactors", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-10-25T18:06:16Z", "updated_at": "2024-10-29T14:34:44Z", "closed_at": "2024-10-26T19:33:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1108", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1108", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1108.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1108.patch", "merged_at": "2024-10-26T19:33:11Z"}, "body": "While reading, and trying to understand the hostname resolution and pool refiller logic, I found some places where things could be slightly adjusted. These changes are mostly tiny optimizations and things that aid code readability.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1108/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1107", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1107/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1107/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1107/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1107", "id": 2614178221, "node_id": "PR_kwDOEj0F685_6F39", "number": 1107, "title": "Remove redundant macros in response/result.rs", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-10-25T13:53:21Z", "updated_at": "2024-10-28T10:04:28Z", "closed_at": "2024-10-28T10:04:28Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1107", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1107", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1107.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1107.patch", "merged_at": "2024-10-28T10:04:28Z"}, "body": "`generate_deser_type` and `generate_deser_col_specs` are not necessary: generic function is enough.\r\n\r\nTo ease future development this PR removes those macros.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] ~~I have adjusted the documentation in `./docs/source/`.~~\r\n- [ ] ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1107/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1106", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1106/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1106/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1106/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1106", "id": 2613529254, "node_id": "PR_kwDOEj0F685_3-j6", "number": 1106, "title": "Deserialize: don't use i64 for Counter column", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-10-25T09:07:12Z", "updated_at": "2024-10-25T09:31:22Z", "closed_at": "2024-10-25T09:31:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1106", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1106", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1106.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1106.patch", "merged_at": "2024-10-25T09:31:22Z"}, "body": "We have a dedicated type for that and such deserialization decreases type safety.\r\n\r\nRef: https://github.com/scylladb/scylla-rust-driver/issues/1099\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1106/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1105", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1105/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1105/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1105/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1105", "id": 2611983683, "node_id": "PR_kwDOEj0F685_y214", "number": 1105, "title": "feat(serialize): add `SerializeRow` impl for `Box<T: SerializeRow>`", "user": {"login": "Daniel-Boll", "id": 43689101, "node_id": "MDQ6VXNlcjQzNjg5MTAx", "avatar_url": "https://avatars.githubusercontent.com/u/43689101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Daniel-Boll", "html_url": "https://github.com/Daniel-Boll", "followers_url": "https://api.github.com/users/Daniel-Boll/followers", "following_url": "https://api.github.com/users/Daniel-Boll/following{/other_user}", "gists_url": "https://api.github.com/users/Daniel-Boll/gists{/gist_id}", "starred_url": "https://api.github.com/users/Daniel-Boll/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Daniel-Boll/subscriptions", "organizations_url": "https://api.github.com/users/Daniel-Boll/orgs", "repos_url": "https://api.github.com/users/Daniel-Boll/repos", "events_url": "https://api.github.com/users/Daniel-Boll/events{/privacy}", "received_events_url": "https://api.github.com/users/Daniel-Boll/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-10-24T15:47:31Z", "updated_at": "2024-10-27T07:05:38Z", "closed_at": "2024-10-26T21:14:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1105", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1105", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1105.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1105.patch", "merged_at": "2024-10-26T21:14:38Z"}, "body": "Fixes #1043 \r\n\r\nThis PR implements `SerializeRow` for `Box<T: SerializeRow>`, as suggested by `@piodul` in [Missing SerializeRow impl for Box<dyn SerializeRow> #1043](https://github.com/scylladb/scylla-rust-driver/issues/1043). The aim is to address the user-reported use case where they need to perform batch queries with different length tuples (e.g., one insert into Table A and N inserts into Table B).\r\n\r\nI have also added a corresponding unit test (`test_row_serialization_with_boxed_tuple`) to verify the behavior, comparing the serialization of a boxed tuple with that of a regular tuple.\r\n\r\nIf there are any issues with this implementation, if I misunderstood the assignment, or if this feature would be better placed elsewhere, please let me know, and I'd be happy to make the necessary adjustments.\r\n\r\nLooking forward to your feedback!\r\n\r\nBest regards,  \r\nDaniel\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [X] I have split my patch into logically separate commits.\r\n- [X] All commit messages clearly explain what they change and why.\r\n- [X] I added relevant tests for new features and bug fixes.\r\n- [X] All commits compile, pass static checks and pass test.\r\n- [X] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1105/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1104", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1104/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1104/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1104/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1104", "id": 2611898894, "node_id": "PR_kwDOEj0F685_yk8_", "number": 1104, "title": "exec_profile: expose public getters for profile configuration", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-10-24T15:11:15Z", "updated_at": "2024-12-19T16:34:27Z", "closed_at": "2024-10-28T11:41:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1104", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1104", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1104.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1104.patch", "merged_at": "2024-10-28T11:41:18Z"}, "body": "Depends on: https://github.com/scylladb/scylla-rust-driver/pull/1103\r\n\r\nThere is a use case for this in cpp-rust-driver.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~[ ] I have adjusted the documentation in `./docs/source/`.~\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1104/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1103", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1103/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1103/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1103/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1103", "id": 2611825710, "node_id": "PR_kwDOEj0F685_yVOa", "number": 1103, "title": "retry_policy: replace all usages of `Box<dyn RetryPolicy>` with `Arc<...>`", "user": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6415039480, "node_id": "LA_kwDOEj0F688AAAABfl27-A", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/semver-checks-breaking", "name": "semver-checks-breaking", "color": "F28D15", "default": false, "description": "cargo-semver-checks reports that this PR introduces breaking API changes"}], "state": "closed", "locked": false, "assignee": {"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "muzarski", "id": 64713071, "node_id": "MDQ6VXNlcjY0NzEzMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/64713071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzarski", "html_url": "https://github.com/muzarski", "followers_url": "https://api.github.com/users/muzarski/followers", "following_url": "https://api.github.com/users/muzarski/following{/other_user}", "gists_url": "https://api.github.com/users/muzarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzarski/subscriptions", "organizations_url": "https://api.github.com/users/muzarski/orgs", "repos_url": "https://api.github.com/users/muzarski/repos", "events_url": "https://api.github.com/users/muzarski/events{/privacy}", "received_events_url": "https://api.github.com/users/muzarski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-10-24T14:42:20Z", "updated_at": "2024-12-19T16:34:28Z", "closed_at": "2024-10-24T15:29:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1103", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1103", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1103.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1103.patch", "merged_at": "2024-10-24T15:29:06Z"}, "body": "This way, when user wants to reuse a retry policy in multiple places, there is no need for an additional allocation for Box (`RetryPolicy::clone_boxed`).\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~[ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~[ ] I have provided docstrings for the public items that I want to introduce.~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- ~[ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1103/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1102", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1102/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1102/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1102/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1102", "id": 2605494166, "node_id": "PR_kwDOEj0F685_dxZ_", "number": 1102, "title": "Move some tests to integration", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2024-10-22T13:40:08Z", "updated_at": "2024-11-20T15:31:34Z", "closed_at": "2024-11-20T15:31:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1102", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1102", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1102.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1102.patch", "merged_at": "2024-11-20T15:31:34Z"}, "body": "This is the first step towards improved integration tests.\r\nTests that require a running cluster should be in integration tests.\r\n\r\nThis PR moves some of such tests. Not all - for that there are a few other changes needed, but I wanted to merge what I already have.\r\n\r\nRef: https://github.com/scylladb/scylla-rust-driver/issues/1097\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/1048\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1102/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1101", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1101/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1101/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1101/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1101", "id": 2603534480, "node_id": "PR_kwDOEj0F685_Xp2B", "number": 1101, "title": "Parametrize `Deserialize{Value,Row}` with two lifetimes: `'frame` and `'metadata` separately", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4564362172, "node_id": "LA_kwDOEj0F688AAAABEA6jvA", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/API-breaking", "name": "API-breaking", "color": "FBCA04", "default": false, "description": "This might introduce incompatible API changes"}, {"id": 7180912560, "node_id": "LA_kwDOEj0F688AAAABrAQHsA", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/area/deserialization", "name": "area/deserialization", "color": "799E5B", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/14", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/14/labels", "id": 11464697, "node_id": "MI_kwDOEj0F684Aru_5", "number": 14, "title": "0.15.0", "description": "- another part of errors refactor\r\n- deserialization API refactor", "creator": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2024-08-20T11:05:54Z", "updated_at": "2024-11-14T15:59:18Z", "due_on": "2024-11-14T00:00:00Z", "closed_at": "2024-11-14T15:59:18Z"}, "comments": 5, "created_at": "2024-10-21T19:57:18Z", "updated_at": "2024-10-26T19:39:00Z", "closed_at": "2024-10-26T19:38:45Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1101", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1101", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1101.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1101.patch", "merged_at": "2024-10-26T19:38:45Z"}, "body": "Refs: #462\r\n\r\n## Tl;dr\r\nA second lifetime parameter is introduced to entities comprising the bottom part of the new deserialization framework: `'metadata`.\r\n\r\n## Deserialization traits - recap\r\n\r\n`DeserializeValue` requires two types of data in order to perform deserialization:\r\n1) a reference to the CQL frame (a `FrameSlice`),\r\n2) the type of the column being deserialized, being part of the result metadata.\r\n\r\nSimilarly, `DeserializeRow` requires two types of data in order to perform deserialization:\r\n1) a reference to the CQL frame (a `FrameSlice`),\r\n2) a slice of specifications of all columns in the row, being part of the result metadata.\r\n\r\n### Observation\r\n\r\nWhen deserializing owned types, both the frame and the metadata can have any lifetime and it's not important. When deserializing borrowed types, however, they borrow from the frame, so their lifetime must necessarily be bound by the lifetime of the frame. Metadata is only needed for the deserialization, so its lifetime does not abstractly bound the deserialized value.\r\n\r\n### Problem\r\n\r\nUp to this PR, `Deserialize{Value, Row}` were only parametrized by one lifetime: `'frame`, which bounded both the frame slice and the metadata. This was done that way due to an assumption that both the metadata and the frame (shared using `Bytes`) will be owned by the same entity. However, the new idea of deserializing result metadata to a borrowed form (to save allocations) makes result metadata's lifetime shorter than the frame's lifetime.\r\n\r\n### Implemented solution\r\n\r\nNot to unnecessarily shorten the deserialized values' lifetime, a separate lifetime parameter is introduced for result metadata: `'metadata`.\r\n\r\nThe PR is large, but the changes are mostly mechanical, by adding\r\nthe second lifetime parameter.\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- [ ] I have adjusted the documentation in `./docs/source/`. <-- _not yet, will be done at the end of the deserialization refactor_\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1101/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1100", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1100/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1100/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1100/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1100", "id": 2603089944, "node_id": "PR_kwDOEj0F685_WSkK", "number": 1100, "title": "docs: Add Counter UPDATE example", "user": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "Lorak-mmk", "id": 5958117, "node_id": "MDQ6VXNlcjU5NTgxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5958117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lorak-mmk", "html_url": "https://github.com/Lorak-mmk", "followers_url": "https://api.github.com/users/Lorak-mmk/followers", "following_url": "https://api.github.com/users/Lorak-mmk/following{/other_user}", "gists_url": "https://api.github.com/users/Lorak-mmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lorak-mmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lorak-mmk/subscriptions", "organizations_url": "https://api.github.com/users/Lorak-mmk/orgs", "repos_url": "https://api.github.com/users/Lorak-mmk/repos", "events_url": "https://api.github.com/users/Lorak-mmk/events{/privacy}", "received_events_url": "https://api.github.com/users/Lorak-mmk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-10-21T16:30:49Z", "updated_at": "2024-10-24T14:01:17Z", "closed_at": "2024-10-24T14:01:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/1100", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/1100", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/1100.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/1100.patch", "merged_at": "2024-10-24T14:01:17Z"}, "body": "Counter was the only data type that didn't have at least two examples: one for reading and one for writing.\r\n\r\nThis PR adds the missing example.\r\n\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/1099\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I have provided docstrings for the public items that I want to introduce.~~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/1100/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]