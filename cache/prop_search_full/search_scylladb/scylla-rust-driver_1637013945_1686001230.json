[{"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/735", "id": 1736691428, "node_id": "PR_kwDOEj0F685R7AkU", "number": 735, "title": "connection: Add configurable TCP keepalives", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-01T16:28:05Z", "updated_at": "2023-07-24T09:56:43Z", "closed_at": "2023-06-05T13:47:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/735", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/735", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/735.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/735.patch", "merged_at": "2023-06-05T13:47:19Z"}, "body": "Similarly to other drivers, support for TCP-layer keepalives is added. This is possible, because tokio::net::TcpStream finally implements `AsFd`. This enables creating `socket2::SockRef`, which in turn allows for configuring the underlying socket.\r\nFixes: #132 \r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/731", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/731/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/731/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/731/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/731", "id": 1728107111, "node_id": "PR_kwDOEj0F685Rd2YR", "number": 731, "title": "Close connections on no response to keepalives ", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-05-26T19:05:36Z", "updated_at": "2023-07-24T09:56:44Z", "closed_at": "2023-06-05T16:03:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/731", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/731", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/731.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/731.patch", "merged_at": "2023-06-05T16:03:48Z"}, "body": "This PR aims to add a feature that has been supported in other drivers: closing connections when not receiving responses to keepalives. To do so:\r\n- `SessionBuilder`, `SessionConfig` and `ConnectionConfig` get new parameter: `keepalive_timeout`,\r\n- `Keepaliver` is refactored so that it no longer resides in the connection pool layer, but...\r\n- ...it is moved into `Connection` layer, more specifically into `router`. This enables clean closing connection when the keepalive timeout elapses without receiving a response,\r\n- a test is added for the new feature.\r\n\r\nFixes: #718\r\n\r\n## Pre-review checklist\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/731/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/730", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/730/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/730/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/730/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/730", "id": 1727933675, "node_id": "PR_kwDOEj0F685RdQm7", "number": 730, "title": "Integration tests single binary", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 0, "created_at": "2023-05-26T16:41:27Z", "updated_at": "2023-06-07T09:41:50Z", "closed_at": "2023-05-31T07:08:42Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/730", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/730", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/730.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/730.patch", "merged_at": "2023-05-31T07:08:42Z"}, "body": "Refactor of integration tests into single binary.\r\n\r\nThis, according to https://matklad.github.io/2021/02/27/delete-cargo-integration-tests leads to faster compilation, integration tests run paralelly and smaller artifacts size.\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/730/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/729", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/729/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/729/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/729/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/729", "id": 1725829687, "node_id": "PR_kwDOEj0F685RWHHV", "number": 729, "title": "exec_profile: Default to SerialConsistency::LocalSerial", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 0, "created_at": "2023-05-25T13:26:04Z", "updated_at": "2024-03-05T13:05:34Z", "closed_at": "2023-06-02T05:18:59Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/729", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/729", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/729.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/729.patch", "merged_at": "2023-06-02T05:18:59Z"}, "body": "Contrary to what is stated in documentation, the default SerialConsistency was None, which resulted in SerialConsistency not being set in the CQL frames. This led to ProtocolError in case of LWT statements. As it is better to always include SerialConsistency (even for statements for which it is not relevant), the previous default is reverted.\r\n\r\nRef: https://github.com/scylladb/scylla-enterprise/issues/2970\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[] I added relevant tests for new features and bug fixes.~~\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/729/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/725", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/725/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/725/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/725/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/725", "id": 1719638550, "node_id": "PR_kwDOEj0F685RA8l_", "number": 725, "title": "connection: make it possible to switch off write coalescing", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-05-22T12:58:10Z", "updated_at": "2023-06-05T15:29:56Z", "closed_at": "2023-06-05T15:29:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/725", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/725", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/725.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/725.patch", "merged_at": "2023-06-05T15:29:56Z"}, "body": "Each connection is managed by a tokio task that reads from and writes to a single socket. The task (called internally as \"router\") polls, amongst others, a future that collects write requests from a channel and pushes them to the socket. It currently has a heuristic that is meant to be a throughput optimization: if there are no more write requests on the channel, the future yields, hoping to give an opportunity for more write requests to arrive on the channel. This improves efficiency as it allows more requests to be batched together into a single write and reduces the number of syscalls issued.\r\n\r\nThe described optimization was implemented in:\r\ne1c0b6f3b48eac2f60c043c05fc0b806189788c4\r\n\r\nHowever, this optimization obviously can cause worse latency in some scenarios. For example, if there aren't many requests being issued but the application otherwise runs lots of unrelated tokio tasks, then a yielded task can be rescheduled again only after a significant delay. If the request rate is low enough then batching won't ever bring any benefit but will only make the latency worse.\r\n\r\nIn order to help in those scenarios, this commit adds a flag that allows turning off the write coalescing optimization. Write coalescing is kept turned on by default, but it can be easily disabled when constructing a new session.\r\n\r\nResults of a test with modified cql-stress that runs 100 tasks which spin for 0.25ms and then yield, in a loop (https://github.com/piodul/cql-stress/commit/f20050e3a3514af20f431e0c4c187cd254500fbd):\r\n\r\n```\r\ncargo run --release --bin cql-stress-scylla-bench -- -max-rate 10000 -mode write -workload uniform -partition-count 128 -concurrency 16 -nodes 127.0.0.1 -duration 10s -noise-task-count 100 -noise-task-hog-duration 250us\r\n```\r\n\r\nWith the coalescing optimization _enabled_:\r\n\r\n```\r\n  99h:          11.5ms\r\n  95h:          7.21ms\r\n  90h:          6.25ms\r\n  median:       3.74ms\r\n  mean:         4.11ms\r\n```\r\n\r\nWith the coalescing optimization _disabled_:\r\n\r\n```\r\n  99h:          6.24ms\r\n  95h:          4.89ms\r\n  90h:          4.25ms\r\n  median:       2.32ms\r\n  mean:         2.44ms\r\n```\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] ~I have adjusted the documentation in `./docs/source/`.~\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/725/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/725/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/723", "id": 1704738730, "node_id": "PR_kwDOEj0F685QPGOD", "number": 723, "title": "Fixes chrono vulnerability caused by time dependency", "user": {"login": "sagoez", "id": 39674930, "node_id": "MDQ6VXNlcjM5Njc0OTMw", "avatar_url": "https://avatars.githubusercontent.com/u/39674930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sagoez", "html_url": "https://github.com/sagoez", "followers_url": "https://api.github.com/users/sagoez/followers", "following_url": "https://api.github.com/users/sagoez/following{/other_user}", "gists_url": "https://api.github.com/users/sagoez/gists{/gist_id}", "starred_url": "https://api.github.com/users/sagoez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sagoez/subscriptions", "organizations_url": "https://api.github.com/users/sagoez/orgs", "repos_url": "https://api.github.com/users/sagoez/repos", "events_url": "https://api.github.com/users/sagoez/events{/privacy}", "received_events_url": "https://api.github.com/users/sagoez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-05-10T23:12:52Z", "updated_at": "2023-05-11T16:04:16Z", "closed_at": "2023-05-11T16:04:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/723", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/723", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/723.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/723.patch", "merged_at": "2023-05-11T16:04:15Z"}, "body": "Fixes #722 \r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/719", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/719/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/719/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/719/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/719", "id": 1702243813, "node_id": "PR_kwDOEj0F685QGuYv", "number": 719, "title": "CI: add RUST_BACKTRACE=full env variable to the workflows", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 1, "created_at": "2023-05-09T15:10:30Z", "updated_at": "2023-06-07T09:41:45Z", "closed_at": "2023-05-12T14:04:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/719", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/719", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/719.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/719.patch", "merged_at": "2023-05-12T14:04:41Z"}, "body": "Currently, if a test panics in CI, a panic message will be printed which does not contain too much of the context. For example:\r\n\r\n    thread 'transport::session_test::test_tracing' panicked at 'No rows for tracing with this session id!', scylla/src/transport/session_test.rs:1093:5\r\n\r\nFrom this information, it's not always possible to learn much about the issue. In this particular case, the `test_tracing` case calls the function which panicked from multiple places and it's impossible to tell which place has this problem specifically.\r\n\r\nTo help with debugging such issues, this commit modifies the workflow definitions to set the `RUST_BACKTRACE` environment variable. This will make sure that the panic will print a full backtrace from the place where this panic originated from, which should help narrow down the code path that failed.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [?] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I have provided docstrings for the public items that I want to introduce.~\r\n- [ ] ~I have adjusted the documentation in `./docs/source/`.~\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/719/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/719/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/717", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/717/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/717/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/717/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/717", "id": 1687087847, "node_id": "PR_kwDOEj0F685PT0Gc", "number": 717, "title": "LWT routing optimisation: plan contains replicas in ring order", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4712022841, "node_id": "LA_kwDOEj0F688AAAABGNvDOQ", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/performance", "name": "performance", "color": "1D76DB", "default": false, "description": "Improves performance of existing features"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 5, "created_at": "2023-04-27T15:27:47Z", "updated_at": "2024-03-05T13:05:36Z", "closed_at": "2023-05-31T10:20:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/717", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/717", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/717.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/717.patch", "merged_at": "2023-05-31T10:20:38Z"}, "body": "While routing statements that are confirmed LWTs, replicas are never shuffled but instead attempted in the ring order. This is done according to https://github.com/scylladb/gocql/issues/40.\r\n\r\n### `ReplicaSet` currently\r\nIn case of Network Topology Strategy, the replica iterator we obtain from the `ReplicaLocator` (`ReplicaSetIterator`) does not yield replicas in the ring order.\r\n\r\n### Meet `ReplicasOrdered`\r\nTo support that, `ReplicasOrdered` struct is added and constructible from `ReplicaSet`. It is also convertible into `ReplicasOrderedIterator`, which does yield replicas in the ring order.\r\n\r\n### Costs incurred\r\nThe first call to `next()` on `ReplicasOrderedIterator` is cheap, because the primary replica can be computed cheaply, and this suits the `pick()` method.\r\nThe second call to `next()` is expensive, because all the replicas are materialised in a vector (there is no cheap way to compute the second replica and so on). All subsequent calls are cheap (because replicas are already computed). This suits the `fallback()` method expected high cost. Because of this characteristic, a semantic change was done to `Plan` (and `LoadBalancingPolicy`, as result).\r\n\r\n### Plan semantics change\r\nBefore, `pick()` could return `None` and this signified that the plan is empty, so `fallback()` was not even called in such case.\r\nNow, `pick()` can return `None` and this signifies that _the first node cannot be computed **cheaply**_. `fallback()` is called even then, for it is still possible to compute the first node (and the others) more expensively.\r\n\r\n### Taken approach\r\nIf the first replica computed by `pick()` is believed to be down, then `pick()` doesn't attempt to compute any more replicas, but returns `None`. Then, `fallback()` is called and computes all remaining replicas at once.\r\nThanks to that, `pick()` remains cheap.\r\n\r\nFixes: #672 \r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/717/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/716", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/716/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/716/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/716/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/716", "id": 1684442570, "node_id": "PR_kwDOEj0F685PK4Wk", "number": 716, "title": "examples: logging: removed obsolete comment", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 2, "created_at": "2023-04-26T07:32:28Z", "updated_at": "2023-06-07T09:41:35Z", "closed_at": "2023-05-04T10:10:10Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/716", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/716", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/716.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/716.patch", "merged_at": "2023-05-04T10:10:10Z"}, "body": "The executed request no longer produces any warnings. This was changed in 2af7800c: `session: improve use keyspace queries detection`, since when `USE KEYSPACE ` statement is no longer parsed by the driver. As since then the parsing is delegated to the database (and therefore considered stable), the warning about sending raw `USE KEYSPACE` being experimental is no longer relevant.\r\nFixes: #589 \r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- ~~[ ] I have split my patch into logically separate commits.~~\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/716/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/715", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/715/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/715/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/715/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/715", "id": 1684427023, "node_id": "PR_kwDOEj0F685PK1Dx", "number": 715, "title": "docs: Updated scylla dep version", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 0, "created_at": "2023-04-26T07:20:42Z", "updated_at": "2023-04-27T12:45:28Z", "closed_at": "2023-04-27T12:45:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/715", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/715", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/715.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/715.patch", "merged_at": "2023-04-27T12:45:24Z"}, "body": "Fixes: #706\r\nFixes: #670 \r\n\r\n## Pre-review checklist\r\n\r\n- ~~[ ] I have split my patch into logically separate commits.~~\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/715/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/715/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/714", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/714/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/714/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/714/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/714", "id": 1683777582, "node_id": "PR_kwDOEj0F685PIrdL", "number": 714, "title": "latency_awareness: Combat tests flakiness by not relying on timing", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 1, "created_at": "2023-04-25T19:59:21Z", "updated_at": "2023-07-24T09:57:05Z", "closed_at": "2023-05-09T16:51:35Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/714", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/714", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/714.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/714.patch", "merged_at": "2023-05-09T16:51:35Z"}, "body": "The test bearing an undeniably attractive name: `latency_aware_default_policy_stops_penalising_after_min_average_increases_enough_only_after_update_rate_elapses` has shown to be flaky. I suspect it is due to the fact that it relies on timing to be valid, and execution in CI is often extremely slow. The problem, most probably, lies in minimum average updates done periodically: the test code assumes that an update has not yet been triggered at some point, which in CI happens to not be true.\r\nTo combat that:\r\n- min avg update logic is extracted into `MinAvgUpdater` struct\r\n- it is made configurable upon LA creation whether updates are to be scheduled to be periodically issued (as before, used in real cases) _or_ triggered manually by calls on `MinAvgUpdater`, \r\n- the affected tests (those that have relied on timing) are changed to use the `MinAvgUpdater` explicitly instead of scheduling periodic updates. This prevents flakiness.\r\n\r\nFixes: #710 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/714/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/712", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/712/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/712/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/712/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/712", "id": 1682816478, "node_id": "PR_kwDOEj0F685PFb0j", "number": 712, "title": "docs/batch: clarify the wording around what can be put in batches", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 0, "created_at": "2023-04-25T09:43:46Z", "updated_at": "2023-06-07T09:41:30Z", "closed_at": "2023-04-28T07:03:37Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/712", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/712", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/712.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/712.patch", "merged_at": "2023-04-28T07:03:37Z"}, "body": "This commit clarifies the doc page about batches and performs two changes:\r\n\r\n- Occurrences of \"query\" have been changed to \"statement\". Batches do not support putting queries into them, only data-modifying statements. The driver documentation interchangeably uses \"query\" and \"statement\" which is not really correct but is especially confusing in this page.\r\n- The first paragraph now also lists `DELETE` as a possible operation for batch in addition to `INSERT` and `UPDATE`.\r\n\r\nAs a bonus, a single backslash that was unnecessarily rendered at the end of a line was removed.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] ~I have split my patch into logically separate commits.~\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I have provided docstrings for the public items that I want to introduce.~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/712/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/708", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/708/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/708/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/708/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/708", "id": 1678731759, "node_id": "PR_kwDOEj0F685O35bd", "number": 708, "title": "session_test: fix flakiness due to slow Cassandra tracing", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-21T15:47:25Z", "updated_at": "2023-04-21T16:01:43Z", "closed_at": "2023-04-21T16:01:43Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/708", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/708", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/708.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/708.patch", "merged_at": "2023-04-21T16:01:43Z"}, "body": "The driver's default configuration for fetching traces from the DB is quite unforgiving. After the query finishes, it tries 5 times to fetch tracing information, waiting 3ms between each attempt. This is too fast for Cassandra in CI and the `test_token_awareness` fails due to that.\r\n\r\nThis commit modifies the test so that it uses a much more relaxed configuration: 50 attempts with 200ms sleeps in between. As a long term solution, we should consider changing the default parameters.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I have provided docstrings for the public items that I want to introduce.~\r\n- [ ] ~I have adjusted the documentation in `./docs/source/`.~\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/708/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/707", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/707/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/707/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/707/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/707", "id": 1678177758, "node_id": "PR_kwDOEj0F685O2CHm", "number": 707, "title": "statement/transport: re-add per-statement setters for retry policy", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-21T09:09:09Z", "updated_at": "2023-04-21T15:09:11Z", "closed_at": "2023-04-21T15:09:10Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/707", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/707", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/707.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/707.patch", "merged_at": "2023-04-21T15:09:10Z"}, "body": "The `set_retry_policy` and `get_retry_policy` methods of `Query`, `PreparedStatement` and `Batch` were removed #592, but are re-added here due to user request and because they will be useful for cpp-rust-driver.\r\n\r\nOne important difference with the old `{set,get}_retry_policy` is that the new methods take and `Arc<dyn RetryPolicy>` instead of `Box<dyn RetryPolicy>`. This was done in order not to introduce additional allocations when a query/statement/batch is cloned.\r\n\r\nThe retry_policy field was added directly to\r\n`Batch`/`Query`/`PreparedStatement` instead of `StatementConfig`. Unfortunately, `StatementConfig` is public along with all of its fields, so adding more fields to it will be a breaking change. This should be fixed during/after #701.\r\n\r\nFixes: #692\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/707/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/705", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/705/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/705/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/705/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/705", "id": 1676729526, "node_id": "PR_kwDOEj0F685OxLAo", "number": 705, "title": "session_builder: known_nodes accept IntoIterator", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-20T13:28:06Z", "updated_at": "2023-05-04T08:54:08Z", "closed_at": "2023-04-28T07:12:02Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/705", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/705", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/705.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/705.patch", "merged_at": "2023-04-28T07:12:02Z"}, "body": "There is no reason why not accept arbitrary `impl IntoIterator` in `SessionBuilder::[known_nodes(), known_nodes_addr()]`. It will also save an allocation in bindings.\r\n\r\nThis is an API mere _extension_, so it can be considered as **non**-API-breaking.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/705/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/704", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/704/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/704/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/704/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/704", "id": 1676606965, "node_id": "PR_kwDOEj0F685OwwrR", "number": 704, "title": "proxy: Add forged_ready()", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-20T12:16:53Z", "updated_at": "2023-04-26T12:29:42Z", "closed_at": "2023-04-20T16:01:05Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/704", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/704", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/704.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/704.patch", "merged_at": "2023-04-20T16:01:05Z"}, "body": "This is a tiny feature addition to proxy, useful in tests. Currently needed for execution profiles testing in bindings.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/704/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/700", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/700/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/700/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/700/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/700", "id": 1668131991, "node_id": "PR_kwDOEj0F685OUion", "number": 700, "title": "iterator: make token awareness work again with execute_iter", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-14T12:06:20Z", "updated_at": "2023-04-20T09:25:56Z", "closed_at": "2023-04-20T09:25:55Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/700", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/700", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/700.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/700.patch", "merged_at": "2023-04-20T09:25:55Z"}, "body": "Due to an oversight, when the RowIterator asks the load balancing policy to calculate the plan (sequence of nodes that will be tried), it passes a RoutingInfo structure without providing the keyspace relevant to the query. The old token aware policy used to fall back to SimpleStrategy and rf=1, which could provide an illusion of token-aware routing. However, the new default load balancing policy will, in the case described above, treat this as if no routing information is available and will choose a random node.\r\n\r\nThis commit fixes the simple issue and adds a test which verifies that token awareness works both in case of `execute` and `execute_iter`.\r\n\r\nFixes: #699\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I have provided docstrings for the public items that I want to introduce~.\r\n- [ ] ~I have adjusted the documentation in `./docs/source/`~.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/700/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/697", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/697/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/697/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/697/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/697", "id": 1664784394, "node_id": "PR_kwDOEj0F685OJVfC", "number": 697, "title": "default_policy: Fix deadlock on LatencyAwareness used", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2443370607, "node_id": "MDU6TGFiZWwyNDQzMzcwNjA3", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-12T15:26:44Z", "updated_at": "2023-04-13T13:02:45Z", "closed_at": "2023-04-13T12:47:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/697", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/697", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/697.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/697.patch", "merged_at": "2023-04-13T12:47:46Z"}, "body": "Described in #696.\r\nRust, unfortunately, makes lock guards taken on right side of `if let` expression live for else branch duration, too. This results in taking write lock while holding read lock.\r\n\r\nIn order to compile, I had to hint the `usize` type in one unrelated place, hence that change.\r\n\r\nAdded a regression test for the issue.\r\n\r\nFixes: #696\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/697/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/694", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/694/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/694/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/694/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/694", "id": 1662152960, "node_id": "PR_kwDOEj0F685OAZTo", "number": 694, "title": "Serverless tests", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-11T10:03:39Z", "updated_at": "2023-04-21T13:38:12Z", "closed_at": "2023-04-21T13:38:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/694", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/694", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/694.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/694.patch", "merged_at": "2023-04-21T13:38:12Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n\r\nThis PR adjusts session tests to run with a serverless cluster in CI. As a serverless cluster requires a different Session setup, a generic way of session builder creation is added that creates a `CloudSessionBuilder` if the \"cloud\" feature is enabled for session tests.\r\nFixes #688 \r\n\r\nEDIT:\r\nModified CI workflows to run cloud tests separately, as examples required the \"cloud\" feature to be enabled, `cargo test` run session tests for serverless mode.", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/694/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/693", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/693/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/693/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/693/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/693", "id": 1659168174, "node_id": "PR_kwDOEj0F685N2zJk", "number": 693, "title": "Add serialize/deserialize support for [u8; N]", "user": {"login": "siningma", "id": 2812144, "node_id": "MDQ6VXNlcjI4MTIxNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2812144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siningma", "html_url": "https://github.com/siningma", "followers_url": "https://api.github.com/users/siningma/followers", "following_url": "https://api.github.com/users/siningma/following{/other_user}", "gists_url": "https://api.github.com/users/siningma/gists{/gist_id}", "starred_url": "https://api.github.com/users/siningma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siningma/subscriptions", "organizations_url": "https://api.github.com/users/siningma/orgs", "repos_url": "https://api.github.com/users/siningma/repos", "events_url": "https://api.github.com/users/siningma/events{/privacy}", "received_events_url": "https://api.github.com/users/siningma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-07T20:35:58Z", "updated_at": "2023-04-11T11:18:58Z", "closed_at": "2023-04-11T11:18:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/693", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/693", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/693.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/693.patch", "merged_at": "2023-04-11T11:18:58Z"}, "body": "Right now the driver supports Vec<u8>. This PR adds serialize/deserialize support for [u8; N]\r\n\r\n@piodul for review\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/693/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/690", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/690/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/690/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/690/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/690", "id": 1652405763, "node_id": "PR_kwDOEj0F685NggYm", "number": 690, "title": "Execution profiles API extensions", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 0, "created_at": "2023-04-03T16:36:34Z", "updated_at": "2023-04-26T12:29:41Z", "closed_at": "2023-04-10T17:25:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/690", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/690", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/690.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/690.patch", "merged_at": "2023-04-10T17:25:57Z"}, "body": "In order to implement execution profiles in Cpp-Rust-driver project, the public API of execution profiles needs to be extended. To sum up, this PR:\r\n- derives `Clone` and `Default` for `ExecutionProfileBuilder`,\r\n- reexports `ExecutionProfile` directly from crate root instead of `transport::` - this is just for user convenience and it is similarly done with policies etc.,\r\n- makes `Session::get_default_execution_profile_handle()` public,\r\n- adds `ExecutionProfileHandle::pointee_to_builder()`, which creates a builder with configuration equivalent to one of the profile pointed by provided handle.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/690/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/689", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/689/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/689/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/689/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/689", "id": 1651778781, "node_id": "PR_kwDOEj0F685NeYgk", "number": 689, "title": "Serverless ci", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-03T10:21:15Z", "updated_at": "2023-04-04T09:58:36Z", "closed_at": "2023-04-04T09:58:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/689", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/689", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/689.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/689.patch", "merged_at": "2023-04-04T09:58:36Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n\r\nThis PR adds a test workflow to CI for a serverless cluster. For now, only the `examples/cloud` example is added to test serverless support, but the existing tests will be adjusted to be run with a serverless cluster, see #688.\r\n\r\nFixes #687", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/689/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/686", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/686/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/686/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/686/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/686", "id": 1648450132, "node_id": "PR_kwDOEj0F685NTiXw", "number": 686, "title": "Handle errors that occur during handshake", "user": {"login": "rukai", "id": 5120858, "node_id": "MDQ6VXNlcjUxMjA4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5120858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rukai", "html_url": "https://github.com/rukai", "followers_url": "https://api.github.com/users/rukai/followers", "following_url": "https://api.github.com/users/rukai/following{/other_user}", "gists_url": "https://api.github.com/users/rukai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rukai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rukai/subscriptions", "organizations_url": "https://api.github.com/users/rukai/orgs", "repos_url": "https://api.github.com/users/rukai/repos", "events_url": "https://api.github.com/users/rukai/events{/privacy}", "received_events_url": "https://api.github.com/users/rukai/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 0, "created_at": "2023-03-30T23:24:00Z", "updated_at": "2023-04-02T12:46:32Z", "closed_at": "2023-03-31T08:29:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/686", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/686", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/686.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/686.patch", "merged_at": "2023-03-31T08:29:36Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n\r\n\r\nThis allows users to see the errors that occurred during the handshake, previously the user just gets a generic `Wrong response to OPTIONS message was received`\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/686/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/686/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/685", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/685/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/685/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/685/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/685", "id": 1644504262, "node_id": "PR_kwDOEj0F685NGR_G", "number": 685, "title": "Docs: Add serverless cluster connect code example", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-28T18:57:40Z", "updated_at": "2023-04-03T08:54:26Z", "closed_at": "2023-04-03T08:54:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/685", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/685", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/685.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/685.patch", "merged_at": "2023-04-03T08:54:26Z"}, "body": "Fixes #677\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/685/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/684", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/684/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/684/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/684/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/684", "id": 1643587785, "node_id": "PR_kwDOEj0F685NDL0-", "number": 684, "title": "docs: don't strip Rust attributes", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-28T09:50:36Z", "updated_at": "2023-03-28T12:35:13Z", "closed_at": "2023-03-28T12:35:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/684", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/684", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/684.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/684.patch", "merged_at": "2023-03-28T12:35:13Z"}, "body": "The `prepare_sphinx_source.py` script goes over snippets of Rust code in the docs and removes the lines that start with a pound sign (#). This is done to simulate the mdbook behavior: the snippets are supposed to be valid Rust code that compiles, however making them compile may require adding some boilerplate lines of code that shouldn't be displayed in the final documentation. Sphinx, used to generate the official documentation, doesn't understand that so we need a script to pre-process.\r\n\r\nHowever, the current behavior of the script is not entirely correct. Not every line that starts with a pound sign should be removed - for example, `derive` attributes like this are currently stripped but shouldn't:\r\n\r\n    #[derive(Debug)]\r\n    struct Foo {\r\n        bar: i32,\r\n    }\r\n\r\nIn order to fix this, the code is adjusted to strip lines that start with the '# ' string (pound sign followed by a space). This is what the `rustdoc` tool actually does (and `mdbook`, too). This results in correctly pre-processed snippets of code in the documentation generated by sphinx.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/684/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/683", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/683/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/683/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/683/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/683", "id": 1643502315, "node_id": "PR_kwDOEj0F685NC5ZU", "number": 683, "title": "Docs update theme 1.4", "user": {"login": "dgarcia360", "id": 9107969, "node_id": "MDQ6VXNlcjkxMDc5Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/9107969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgarcia360", "html_url": "https://github.com/dgarcia360", "followers_url": "https://api.github.com/users/dgarcia360/followers", "following_url": "https://api.github.com/users/dgarcia360/following{/other_user}", "gists_url": "https://api.github.com/users/dgarcia360/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgarcia360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgarcia360/subscriptions", "organizations_url": "https://api.github.com/users/dgarcia360/orgs", "repos_url": "https://api.github.com/users/dgarcia360/repos", "events_url": "https://api.github.com/users/dgarcia360/events{/privacy}", "received_events_url": "https://api.github.com/users/dgarcia360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-28T08:59:14Z", "updated_at": "2023-03-28T13:50:20Z", "closed_at": "2023-03-28T13:27:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/683", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/683", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/683.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/683.patch", "merged_at": "2023-03-28T13:27:26Z"}, "body": "Related issue https://github.com/scylladb/sphinx-scylladb-theme/issues/707\r\n\r\nScyllaDB Sphinx Theme 1.4 is now released \ud83e\udd73 \r\n\r\nYou can read more about all notable changes [here](https://sphinx-theme.scylladb.com/master/upgrade/CHANGELOG.html#march-2023).\r\n\r\n## How to test this PR\r\n\r\n1. Clone this PR. For more information, see [Cloning pull requests locally](https://docs.github.com/en/github/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally).\r\n\r\n2. Enter the docs folder, and run:\r\n\r\n  ```\r\n  make preview\r\n  ````\r\n\r\n3. Open http://localhost:5500 with your favorite browser. The doc should render without errors, and the version should be Sphinx Theme version (see the footer) must be ``1.4.x``:\r\n\r\n![image](https://user-images.githubusercontent.com/9107969/224791653-701bcc8e-98ef-4998-999f-d03459169850.png)\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/683/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/682", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/682/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/682/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/682/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/682", "id": 1641529118, "node_id": "PR_kwDOEj0F685M8S0B", "number": 682, "title": "pull_request_template.md: add reminder to update docs", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-27T07:15:05Z", "updated_at": "2023-03-28T12:33:18Z", "closed_at": "2023-03-28T12:33:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/682", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/682", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/682.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/682.patch", "merged_at": "2023-03-28T12:33:18Z"}, "body": "It's important to have documentation that is up-to-date, and the best time to update it is along with the changes introduced to the code. As not everybody remembers to do it every time (me, in particular), let's add a pre-review check about introducing docstrings and adjusting the documentation in the book.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/682/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/682/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/669", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/669/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/669/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/669/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/669", "id": 1634246019, "node_id": "PR_kwDOEj0F685MkFAj", "number": 669, "title": "treewide: implement Clone for most error types", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-21T16:06:44Z", "updated_at": "2023-03-22T09:02:15Z", "closed_at": "2023-03-22T09:02:15Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/669", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/669", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/669.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/669.patch", "merged_at": "2023-03-22T09:02:15Z"}, "body": "For convenience, adds a `#[derive(Clone)]` for those error types for which it was currently possible. Some error types currently have fields that cannot be cloned (mostly std::io::Error), notably:\r\n\r\n- ParseError, FrameError - extensively used in deserialization, but don't seem to appear in the main API.\r\n- CloudConfigError - only used when creating a session that connects to Scylla Cloud.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/669/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/668", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/668/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/668/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/668/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/668", "id": 1634193396, "node_id": "PR_kwDOEj0F685Mj5iC", "number": 668, "title": "Extended request spans", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-21T15:43:46Z", "updated_at": "2023-03-22T16:58:36Z", "closed_at": "2023-03-22T16:58:35Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/668", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/668", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/668.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/668.patch", "merged_at": "2023-03-22T16:58:35Z"}, "body": "Provides more information in trace spans emitted for unprepared query, prepared query and batch requests.\r\n\r\nThe following information is provided:\r\n\r\n- `kind`: type of operation (`unprepared`, `prepared`, `batch`),\r\n- `contents` - the query string (applicable only to unprepared queries),\r\n- `routing_key`: routing key of the request (if known, i.e. applies only to prepared queries),\r\n- `token`: partition token relevant to the request (if known, i.e. applies only to prepared queries),\r\n- `request_size`: serialized size of query parameters (not implemented for batches),\r\n- `result_size`: serialized size of rows returned in response,\r\n- `result_rows`: number of rows returned in response,\r\n- `shard`: ID of the shard the request was served on,\r\n- `speculative_executions` - the number of times this request was speculatively executed,\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/668/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/667", "id": 1632402857, "node_id": "PR_kwDOEj0F685Md2Yv", "number": 667, "title": "load_balancing: allow to disable shuffling replicas", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-20T15:54:46Z", "updated_at": "2023-03-20T17:51:39Z", "closed_at": "2023-03-20T17:51:39Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/667", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/667", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/667.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/667.patch", "merged_at": "2023-03-20T17:51:39Z"}, "body": "## Pre-review checklist\r\n\r\nWhen token awareness is enabled in the default load balancing policy, it chooses a random replica to send the query to. This is supposed to balance the load however in some scenarios it might be more beneficial to always choose the same replica - for example, reads might benefit from better caching. This PR adds an option to disable this behavior, which will cause the load balancing policy to always choose nodes in the same order for each replica set.\r\n\r\nThis feature was inspired by similar functionality in the cpp driver.\r\n\r\nFixes: #634\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/666", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/666/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/666/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/666/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/666", "id": 1631801336, "node_id": "PR_kwDOEj0F685Mb0ZO", "number": 666, "title": "Add rack-awareness to default LBP", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-03-20T10:19:05Z", "updated_at": "2023-04-05T11:02:33Z", "closed_at": "2023-04-05T11:02:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/666", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/666", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/666.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/666.patch", "merged_at": "2023-04-05T11:02:33Z"}, "body": "Added rack-awareness option to prefer replicas in local rack while picking a coordinator. It will allow to create a top-level tier with local datacenter and local rack replicas in the fallback plan.\r\n\r\nFixes: #604 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/666/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/664", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/664/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/664/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/664/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/664", "id": 1629099159, "node_id": "PR_kwDOEj0F685MS5h4", "number": 664, "title": "treewide: appease clippy", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-17T10:50:34Z", "updated_at": "2023-03-17T11:44:27Z", "closed_at": "2023-03-17T11:44:26Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/664", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/664", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/664.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/664.patch", "merged_at": "2023-03-17T11:44:26Z"}, "body": "The usual: clippy have been updated in GitHub's CI runner image that we use and it has new lints that our codebase doesn't currently pass.\r\n\r\nThis time, clippy complains about some `impl Default`s being unnecessarily hand-written where they could be easily implemented with an automatic derive. This commit removes the problematic impl for PartitionerName and replaces it with a derive, but the impl for Consistency is left as is and marked with an \"allow\" annotation. Unfortunately, implementing Default with a derive requires adding a #[default] annotation in the enum body which incorrectly interacts with num_enum::TryFromPrimitive macro.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/664/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/663", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/663/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/663/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/663/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/663", "id": 1629029514, "node_id": "PR_kwDOEj0F685MSqj_", "number": 663, "title": "session: add get_keyspace() method", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-17T10:01:15Z", "updated_at": "2023-03-20T10:08:02Z", "closed_at": "2023-03-20T10:08:02Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/663", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/663", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/663.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/663.patch", "merged_at": "2023-03-20T10:08:01Z"}, "body": "Adds the `get_keyspace()` method which allows to get the keyspace name currently set for the session. Initially, it is set to the keyspace name specified in the session configuration as the keyspace to be USE-d, but it will be updated when calling `Session::use_keyspace()` later. Because of that possibility, `get_keyspace` returns a shared pointer to the keyspace name instead of a reference.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/663/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/658", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/658/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/658/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/658/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/658", "id": 1620176407, "node_id": "PR_kwDOEj0F685L0-YQ", "number": 658, "title": "Expose calculate_token", "user": {"login": "Ten0", "id": 9094255, "node_id": "MDQ6VXNlcjkwOTQyNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9094255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ten0", "html_url": "https://github.com/Ten0", "followers_url": "https://api.github.com/users/Ten0/followers", "following_url": "https://api.github.com/users/Ten0/following{/other_user}", "gists_url": "https://api.github.com/users/Ten0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ten0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ten0/subscriptions", "organizations_url": "https://api.github.com/users/Ten0/orgs", "repos_url": "https://api.github.com/users/Ten0/repos", "events_url": "https://api.github.com/users/Ten0/events{/privacy}", "received_events_url": "https://api.github.com/users/Ten0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-11T23:26:31Z", "updated_at": "2023-03-20T17:57:48Z", "closed_at": "2023-03-20T17:57:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/658", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/658", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/658.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/658.patch", "merged_at": "2023-03-20T17:57:48Z"}, "body": "Helps (or arguably fixes) #468\r\n\r\nFor smarter batch constitution (following up on #448), it is required to have access to the token a particular statement would be directed to. However, that is pretty difficult to do without access to calculate_token.\r\n\r\nThat was initially put in #508, but planned to put in a separate PR to keep it minimal\r\n(https://github.com/scylladb/scylla-rust-driver/pull/508#discussion_r949399700)\r\nIt seems I had forgotten to open that separate PR, and I end up getting bitten by that now that I want to constitute my batches in a smarter way. ^^'\r\n\r\nSo here it is.\r\n\r\nI'm only putting \"helps\" above because I think we may want to also expose query planning (\r\n`session.plan(prepared_statement, serialized_values) -> impl Iterator<Item = (Arc<Node>, ShardID)>` ) as that may make it significantly easier on the user to obtain the relevant keys for batching - but I'd like to keep this PR that just *enables* the ideal behavior as simple as possible.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/658/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/657", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/657/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/657/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/657/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/657", "id": 1620088294, "node_id": "PR_kwDOEj0F685L0ul4", "number": 657, "title": "Minor typo fix in comment", "user": {"login": "Ten0", "id": 9094255, "node_id": "MDQ6VXNlcjkwOTQyNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9094255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ten0", "html_url": "https://github.com/Ten0", "followers_url": "https://api.github.com/users/Ten0/followers", "following_url": "https://api.github.com/users/Ten0/following{/other_user}", "gists_url": "https://api.github.com/users/Ten0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ten0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ten0/subscriptions", "organizations_url": "https://api.github.com/users/Ten0/orgs", "repos_url": "https://api.github.com/users/Ten0/repos", "events_url": "https://api.github.com/users/Ten0/events{/privacy}", "received_events_url": "https://api.github.com/users/Ten0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-11T17:42:01Z", "updated_at": "2023-03-14T17:45:11Z", "closed_at": "2023-03-14T15:09:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/657", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/657", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/657.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/657.patch", "merged_at": "2023-03-14T15:09:14Z"}, "body": "- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/657/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/656", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/656/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/656/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/656/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/656", "id": 1620083089, "node_id": "PR_kwDOEj0F685L0tm2", "number": 656, "title": "Don't early-allocate trace arguments (significant perf impact somehow)", "user": {"login": "Ten0", "id": 9094255, "node_id": "MDQ6VXNlcjkwOTQyNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9094255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ten0", "html_url": "https://github.com/Ten0", "followers_url": "https://api.github.com/users/Ten0/followers", "following_url": "https://api.github.com/users/Ten0/following{/other_user}", "gists_url": "https://api.github.com/users/Ten0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ten0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ten0/subscriptions", "organizations_url": "https://api.github.com/users/Ten0/orgs", "repos_url": "https://api.github.com/users/Ten0/repos", "events_url": "https://api.github.com/users/Ten0/events{/privacy}", "received_events_url": "https://api.github.com/users/Ten0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4712022841, "node_id": "LA_kwDOEj0F688AAAABGNvDOQ", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/performance", "name": "performance", "color": "1D76DB", "default": false, "description": "Improves performance of existing features"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/1", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1/labels", "id": 9009426, "node_id": "MI_kwDOEj0F684AiXkS", "number": 1, "title": "0.8.0", "description": "", "creator": {"login": "mykaul", "id": 4655593, "node_id": "MDQ6VXNlcjQ2NTU1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4655593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mykaul", "html_url": "https://github.com/mykaul", "followers_url": "https://api.github.com/users/mykaul/followers", "following_url": "https://api.github.com/users/mykaul/following{/other_user}", "gists_url": "https://api.github.com/users/mykaul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mykaul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mykaul/subscriptions", "organizations_url": "https://api.github.com/users/mykaul/orgs", "repos_url": "https://api.github.com/users/mykaul/repos", "events_url": "https://api.github.com/users/mykaul/events{/privacy}", "received_events_url": "https://api.github.com/users/mykaul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2023-02-06T10:12:47Z", "updated_at": "2023-03-23T12:32:51Z", "due_on": "2023-03-15T00:00:00Z", "closed_at": "2023-03-23T12:32:51Z"}, "comments": 0, "created_at": "2023-03-11T17:22:45Z", "updated_at": "2023-03-15T09:22:30Z", "closed_at": "2023-03-14T15:35:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/656", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/656", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/656.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/656.patch", "merged_at": "2023-03-14T15:35:45Z"}, "body": "Fixes #655\r\n\r\nThis would have a significant perf impact (see #655) and be unidiomatic (see https://docs.rs/tracing/0.1.37/tracing/#recording-fields)\r\n\r\n- [X] I have split my patch into logically separate commits.\r\n- [X] All commit messages clearly explain what they change and why.\r\n- [X] I added relevant tests for new features and bug fixes.\r\n- [X] All commits compile, pass static checks and pass test.\r\n- [X] PR description sums up the changes and reasons why they should be introduced.\r\n- [X] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/656/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/654", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/654/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/654/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/654/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/654", "id": 1617324638, "node_id": "PR_kwDOEj0F685LrjvB", "number": 654, "title": "session_builder: Keepalive interval defaults to 30 secs", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-09T14:04:23Z", "updated_at": "2023-03-09T15:18:40Z", "closed_at": "2023-03-09T15:08:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/654", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/654", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/654.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/654.patch", "merged_at": "2023-03-09T15:08:13Z"}, "body": "When testing the new serverless support implementation in the driver, it appeared that while being idle, the driver must deal with server closing the connection every 60 seconds. To prevent such behaviour, the default keepalive interval is set to 30 seconds.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/654/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/653", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/653/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/653/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/653/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/653", "id": 1615058322, "node_id": "PR_kwDOEj0F685Lj19q", "number": 653, "title": "prepared_statement: Made cloning cheaper by use of Arcs", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-08T10:45:02Z", "updated_at": "2023-03-08T14:12:54Z", "closed_at": "2023-03-08T11:50:09Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/653", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/653", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/653.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/653.patch", "merged_at": "2023-03-08T11:50:09Z"}, "body": "As cloning PreparedStatements may be convenient in some workloads, effort is done to make it possibly cheap. This commit put the heavy heap-allocated PreparedStatement metadata and its statement String behind an Arc, in a shared struct. In order to have cleaner inner API, usages of data referenced in the shared struct access them now through the getter.\r\n\r\nFixes: #635\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/653/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/653/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/649", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/649/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/649/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/649/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/649", "id": 1595161623, "node_id": "PR_kwDOEj0F685KhFXU", "number": 649, "title": "topology: UDTs hold complete definition of themselves", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-22T14:01:05Z", "updated_at": "2023-03-02T16:58:41Z", "closed_at": "2023-03-02T16:56:28Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/649", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/649", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/649.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/649.patch", "merged_at": "2023-03-02T16:56:28Z"}, "body": "It has been requested by a customer to make `CqlType::UserDefinedType` hold a complete definition of the type. \r\n\r\nBefore, the definition was distributed among multiple code locations: the type name was present inside the mentioned variant, the keyspace name was to be deduced from the context, and the fields definitions were only stored in a hash map in each `Keyspace`.\r\n\r\nThis PR:\r\n- introduces `UserDefinedType` struct as a complete UDT definition,\r\n- makes the `Keyspace` hold the hash map from UDT name to  `Arc<UserDefinedType>`,\r\n- makes `CqlType::UserDefinedType` store a complete definition of a UDT (`Result<Arc<UserDefinedType>, MissingUserDefinedType>`, the `Err` variant is used in case when an unknown UDT is defined as a field of another UDT),\r\n- introduces `UdtRow` struct to represent a row with UDT definition,\r\n- adds a topological sort of `UdtRow` to avoid processing references to unknown UDTs. The topological order is always achievable, as UDTs circular dependencies are forbidden and rejected by Scylla.\r\n\r\nThis PR is based on #645, because it is very likely that it will be merged soon and otherwise it would introduce a lot of merge conflicts.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description~~.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/649/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/647", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/647/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/647/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/647/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/647", "id": 1589471762, "node_id": "PR_kwDOEj0F685KOYIi", "number": 647, "title": "docker-compose.yml: improve settings and the boot order", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-17T14:43:01Z", "updated_at": "2023-02-24T11:03:54Z", "closed_at": "2023-02-24T11:03:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/647", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/647", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/647.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/647.patch", "merged_at": "2023-02-24T11:03:54Z"}, "body": "Up until now, our docker-compose file that sets up Scylla cluster was starting up all nodes in parallel. This is not something that is supported in Scylla and it can sometimes fail. We didn't see those failures until now because we didn't print the cluster logs. This commit makes sure that nodes are booted up in order.\r\n\r\nIn addition to this, now nodes start with a fixed number of shards (2 each) and memory (1GB each). I'm not sure a more powerful cluster is really needed, and - by default - the shard count is equal to the number of cores of the host machine. A large number of shards can quickly eat up the /proc/sys/fs/aio-nr resource in the system, so the cluster wasn't really usable on machines with a large number of cores.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/647/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/646", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/646/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/646/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/646/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/646", "id": 1589309519, "node_id": "PR_kwDOEj0F685KN0q3", "number": 646, "title": "CI: print logs from the cluster as a build step", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-17T12:49:55Z", "updated_at": "2023-02-24T00:16:25Z", "closed_at": "2023-02-24T00:16:25Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/646", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/646", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/646.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/646.patch", "merged_at": "2023-02-24T00:16:25Z"}, "body": "Some test failures may be caused due to issues in Cassandra or Scylla and it is hard to identify them if they are silent during the whole CI run.\r\n\r\nThis PR modifies our CI jobs that use docker-compose so that the logs from the cluster are always printed.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/646/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/645", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/645/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/645/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/645/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/645", "id": 1589169390, "node_id": "PR_kwDOEj0F685KNWZT", "number": 645, "title": "Replace Connection::query_all with Connection::query_iter", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-02-17T10:55:04Z", "updated_at": "2023-03-02T13:51:31Z", "closed_at": "2023-03-02T13:51:30Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/645", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/645", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/645.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/645.patch", "merged_at": "2023-03-02T13:51:30Z"}, "body": "For internal queries that can return a large number of rows (topology info, schema) we use currently use `Connection::query_all` to perform them. That method fetches results of the query in multiple pages and then returns it as a single combined `QueryResult`. This PR replaces it with a new `Connection::query_iter` method which has semantics more similar to the iterator-based query methods from the public interface (`Session::query_iter`, `Session::execute_iter`).\r\n\r\nThe motivations for this change are as follows:\r\n\r\n- Although the new methods will use slightly more memory if the query returns only one page (because of the need to spawn a new task/channels/etc.), it should consume less memory if multiple pages are fetched because rows are processed on-line as new pages appear and only 1-2 pages need to exist at a given time.\r\n- The logic that combines multiple pages into a single `QueryResult` will be hard to translate to use the upcoming iterator-based deserialization interface (https://github.com/scylladb/scylla-rust-driver/issues/462). Although the old interface will still be available as a deprecated fallback, I would like to adapt those methods as a form of dogfooding test for the new interface.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/645/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/644", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/644/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/644/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/644/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/644", "id": 1572457691, "node_id": "PR_kwDOEj0F685JVWBh", "number": 644, "title": "iterator: Return empty iterator on modification stmt", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-06T12:11:35Z", "updated_at": "2023-02-09T13:41:49Z", "closed_at": "2023-02-09T08:47:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/644", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/644", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/644.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/644.patch", "merged_at": "2023-02-09T08:47:22Z"}, "body": "...instead of ProtocolError as before. This was requested by #631. Also, added a test for this behaviour.\r\n\r\nFixes: #631\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/644/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/641", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/641/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/641/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/641/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/641", "id": 1569795230, "node_id": "PR_kwDOEj0F685JM0We", "number": 641, "title": "Move address translation to opening new connection", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-03T12:51:21Z", "updated_at": "2023-03-08T15:36:55Z", "closed_at": "2023-03-08T15:36:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/641", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/641", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/641.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/641.patch", "merged_at": "2023-03-08T15:36:18Z"}, "body": "Motivations are described in the referenced issue.\r\nCorrectness of the changes is tested by the existing tests making use of address translation. \r\nFixes: #640 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/641/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/639", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/639/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/639/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/639/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/639", "id": 1568571613, "node_id": "PR_kwDOEj0F685JIzj5", "number": 639, "title": "CI/Makefile: disable `uninlined_format_args` clippy lint", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-02T18:36:00Z", "updated_at": "2023-02-03T17:15:39Z", "closed_at": "2023-02-03T17:15:39Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/639", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/639", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/639.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/639.patch", "merged_at": "2023-02-03T17:15:39Z"}, "body": "New version of clippy introduced the `uninlined_format_args` lint which recommends putting variable names directly into format strings, like this:\r\n\r\n    let what = \"world\";\r\n    println!(\"Hello, {what}!\");\r\n\r\n    // Instead of:\r\n    println!(\"Hello, {}!\", what);\r\n\r\nThe problem with this feature is that rust-analyzer does not support renaming variables inside format strings yet. The lint has been downgraded to pedantic level and will most likely appear as such in the next release.\r\n\r\nThis commit disables the new lint in the CI and local Makefile. We can turn it on again after this feature gets better support from rust-analyzer.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/639/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/638", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/638/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/638/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/638/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/638", "id": 1568432290, "node_id": "PR_kwDOEj0F685JIU0U", "number": 638, "title": "cql_to_rust: impl FromCqlValue for Date", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-02T17:07:28Z", "updated_at": "2023-02-14T14:07:17Z", "closed_at": "2023-02-14T14:07:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/638", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/638", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/638.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/638.patch", "merged_at": "2023-02-14T14:07:16Z"}, "body": "The driver supports serializing and deserializing between the `date` CQL type and the `chrono::NaiveDate` type. However, the `NaiveDate` type is not always sufficient as it can't represent the whole range of values the `date` CQL type can. For that purpose, we provide a `Date` type that is able to represent all CQL values of `date` type.\r\n\r\nUntil now, it was only possible to serialize `Date`. This commit adds a missing FromCqlValue impl necessary for deserialization.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/638/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/630", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/630/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/630/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/630/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/630", "id": 1553307692, "node_id": "PR_kwDOEj0F685IVn2O", "number": 630, "title": "deserialization: make deser_cql_value public", "user": {"login": "wmitros", "id": 44506288, "node_id": "MDQ6VXNlcjQ0NTA2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/44506288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wmitros", "html_url": "https://github.com/wmitros", "followers_url": "https://api.github.com/users/wmitros/followers", "following_url": "https://api.github.com/users/wmitros/following{/other_user}", "gists_url": "https://api.github.com/users/wmitros/gists{/gist_id}", "starred_url": "https://api.github.com/users/wmitros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wmitros/subscriptions", "organizations_url": "https://api.github.com/users/wmitros/orgs", "repos_url": "https://api.github.com/users/wmitros/repos", "events_url": "https://api.github.com/users/wmitros/events{/privacy}", "received_events_url": "https://api.github.com/users/wmitros/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-23T15:32:52Z", "updated_at": "2023-01-26T09:52:34Z", "closed_at": "2023-01-26T09:52:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/630", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/630", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/630.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/630.patch", "merged_at": "2023-01-26T09:52:33Z"}, "body": "In some cases (in particular, Scylla UDFs), the cql values are passed in a serialized form without the context of a row.\r\n\r\nThe current implementation of deser_cql_value function is already able to parse these values, so it can be just made public to be usable in those cases.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n~- [ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n~- [ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/630/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/629", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/629/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/629/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/629/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/629", "id": 1532652371, "node_id": "PR_kwDOEj0F685HWUVm", "number": 629, "title": "Downgrade Cassandra version for CI", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-13T17:11:36Z", "updated_at": "2023-01-13T17:24:58Z", "closed_at": "2023-01-13T17:24:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/629", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/629", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/629.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/629.patch", "merged_at": "2023-01-13T17:24:57Z"}, "body": "The cassandra tests were run on the latest version of Cassandra 4.1.0 and most probably the version contains some bugs as some tests were flaky. This PR pins version 4.0.7 for creating a 3-node Cassandra cluster, which solves the flakiness problem, however, the root cause of the problem is still unknown.\r\nAdditionally, memory flags `HEAP_NEWSIZE=512M` and `MAX_HEAP_SIZE=2048M` are added for each node creation as the GitHub Actions Linux virtual machine has a RAM limit of 7GB.\r\n\r\nFixes: #620 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/629/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/628", "id": 1532528691, "node_id": "PR_kwDOEj0F685HV5cI", "number": 628, "title": "scylla-macros: increase hygiene", "user": {"login": "wmitros", "id": 44506288, "node_id": "MDQ6VXNlcjQ0NTA2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/44506288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wmitros", "html_url": "https://github.com/wmitros", "followers_url": "https://api.github.com/users/wmitros/followers", "following_url": "https://api.github.com/users/wmitros/following{/other_user}", "gists_url": "https://api.github.com/users/wmitros/gists{/gist_id}", "starred_url": "https://api.github.com/users/wmitros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wmitros/subscriptions", "organizations_url": "https://api.github.com/users/wmitros/orgs", "repos_url": "https://api.github.com/users/wmitros/repos", "events_url": "https://api.github.com/users/wmitros/events{/privacy}", "received_events_url": "https://api.github.com/users/wmitros/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-13T15:54:08Z", "updated_at": "2023-01-26T10:45:22Z", "closed_at": "2023-01-26T10:45:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/628", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/628", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/628.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/628.patch", "merged_at": "2023-01-26T10:45:22Z"}, "body": "While trying to make my macros at https://github.com/wmitros/scylla-rust-udf/pull/1 more hygienic, I noticed that I also need the macros here to be more hygienic.\r\nI'm posting this mostly to find out if I'm heading in the right direction with the changes, although this patch does pass tests if it turns out being close to a state ready for merging\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n~~- [ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/627", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/627/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/627/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/627/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/627", "id": 1532506150, "node_id": "PR_kwDOEj0F685HV0fY", "number": 627, "title": "CI: bump MSRV to 1.65", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-13T15:40:15Z", "updated_at": "2023-01-13T16:20:59Z", "closed_at": "2023-01-13T16:20:59Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/627", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/627", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/627.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/627.patch", "merged_at": "2023-01-13T16:20:59Z"}, "body": "Bumping MSRV due to those reasons:\r\n\r\n- The newest version of tokio (1.24.1) doesn't seem to compile with Rust 1.59 and `-D warnings`. Fortunately, 1.65 doesn't seem to be affected.\r\n- #596 needs GATs, which were introduced in 1.65\r\n- #614 would like to use the new `dep:` syntax for optional features.\r\n\r\nThe version 1.65 is also not the newest, released about 2.5 months ago since the time this commit message was written. Although our MSRV policy allows us to bump MSRV in major releases - and I understand going from 0.x to 0.(x+1) as such a change - choosing an older version has the benefit that, at the time of release of the next driver version, some of the users will probably already have migrated to a Rust version supported by the driver.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [ ] ~All commits compile, pass static checks and pass test.~ not really, but it should make the situation better\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/627/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/626", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/626/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/626/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/626/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/626", "id": 1532129162, "node_id": "PR_kwDOEj0F685HUixy", "number": 626, "title": "treewide: appease cargo doc", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-13T11:08:10Z", "updated_at": "2023-01-13T16:50:04Z", "closed_at": "2023-01-13T16:50:04Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/626", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/626", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/626.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/626.patch", "merged_at": "2023-01-13T16:50:04Z"}, "body": "The new version of cargo doc started complaining about unescaped `<` and `>` signs because they looked like html tags. This commit gets rid of this complaint either by putting them into `backticks` if they are a part of some rust code mentioned in a docstring, or escaping them with a backslash in other cases.\r\n\r\nAlso contains a bonus commit that fixes one missed clippy lint.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [ ] ~All commits compile, pass static checks and pass test.~ (not really possible with our current, sad state of CI)\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/626/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/625", "id": 1530515927, "node_id": "PR_kwDOEj0F685HPFAD", "number": 625, "title": "caching_session: use custom hasher instead of ahash in tests", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-01-12T11:01:55Z", "updated_at": "2023-01-21T01:10:54Z", "closed_at": "2023-01-21T01:10:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/625", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/625", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/625.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/625.patch", "merged_at": "2023-01-21T01:10:54Z"}, "body": "Currently, we are importing the `ahash` crate for only one reason: to test that CachingSession works with custom hasher implementations. The custom hasher quality doesn't matter at all in this test, so it's very easy to write own implementation for testing purposes, rendering the dependency on `ahash` obsolete.\r\n\r\nThe change was prompted by a report from one of our users which use a fork of the driver and managed to trigger a bug in cargo - most likely this one: https://github.com/rust-lang/cargo/issues/7463 . The most likely cause was that the project specified a different, non-compatible version of ahash in the dependencies than the one in scylla's dev-dependencies. While it doesn't fix the cargo bug and it can still happen with other dev-dependencies, the bug should no longer happen with conflicting `ahash`. Moreover, removing an unneeded depdencency from a project is a good motivation in itself.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/624", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/624/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/624/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/624/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/624", "id": 1527953838, "node_id": "PR_kwDOEj0F685HGa1N", "number": 624, "title": "appeasing clippy just another time", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-10T20:19:25Z", "updated_at": "2023-01-17T16:05:17Z", "closed_at": "2023-01-13T16:23:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/624", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/624", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/624.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/624.patch", "merged_at": "2023-01-13T16:23:41Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/624/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/623", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/623/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/623/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/623/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/623", "id": 1525574176, "node_id": "PR_kwDOEj0F685G-cxa", "number": 623, "title": "data-types: add CqlDuration as the Rust equivalent of CQL Duration", "user": {"login": "wmitros", "id": 44506288, "node_id": "MDQ6VXNlcjQ0NTA2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/44506288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wmitros", "html_url": "https://github.com/wmitros", "followers_url": "https://api.github.com/users/wmitros/followers", "following_url": "https://api.github.com/users/wmitros/following{/other_user}", "gists_url": "https://api.github.com/users/wmitros/gists{/gist_id}", "starred_url": "https://api.github.com/users/wmitros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wmitros/subscriptions", "organizations_url": "https://api.github.com/users/wmitros/orgs", "repos_url": "https://api.github.com/users/wmitros/repos", "events_url": "https://api.github.com/users/wmitros/events{/privacy}", "received_events_url": "https://api.github.com/users/wmitros/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-09T13:13:18Z", "updated_at": "2023-01-18T08:52:58Z", "closed_at": "2023-01-18T08:52:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/623", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/623", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/623.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/623.patch", "merged_at": "2023-01-18T08:52:58Z"}, "body": "CqlDuration has de facto already been the Rust type mapping for the CQL type `duration`, but was missing a `from_cql` impl. This patch adds the missing impl and adds the type mapping to the documentation.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n~~- [ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/623/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/622", "id": 1521020474, "node_id": "PR_kwDOEj0F685GvG05", "number": 622, "title": "secrecy: Features and dependencies cleanup", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-05T16:27:52Z", "updated_at": "2023-01-26T11:05:35Z", "closed_at": "2023-01-26T10:01:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/622", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/622", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/622.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/622.patch", "merged_at": "2023-01-26T10:01:32Z"}, "body": "First, secrecy is now built as `scylla-cql` dependency only if the corresponding feature is requested. Secondly, the corresponding feature that turns on the secrecy-related serialization has been added to scylla crate.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/621", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/621/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/621/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/621/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/621", "id": 1520722846, "node_id": "PR_kwDOEj0F685GuFUF", "number": 621, "title": "Automated proxy addresses in tests", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-05T13:08:56Z", "updated_at": "2023-04-26T12:29:49Z", "closed_at": "2023-01-18T08:29:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/621", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/621", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/621.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/621.patch", "merged_at": "2023-01-18T08:29:54Z"}, "body": "## Pre-review checklist\r\nAs tests are run concurrently on a single process, so addresses for proxy instances used in them can be assigned automatically in a non-colliding way. To this end, one atomic suffices.\r\n\r\nFixes: #586\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/621/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/619", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/619/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/619/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/619/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/619", "id": 1519664995, "node_id": "PR_kwDOEj0F685GqZjd", "number": 619, "title": "Add serialize and deserialize support for DateTime<Utc> and secret", "user": {"login": "siningma", "id": 2812144, "node_id": "MDQ6VXNlcjI4MTIxNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2812144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siningma", "html_url": "https://github.com/siningma", "followers_url": "https://api.github.com/users/siningma/followers", "following_url": "https://api.github.com/users/siningma/following{/other_user}", "gists_url": "https://api.github.com/users/siningma/gists{/gist_id}", "starred_url": "https://api.github.com/users/siningma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siningma/subscriptions", "organizations_url": "https://api.github.com/users/siningma/orgs", "repos_url": "https://api.github.com/users/siningma/repos", "events_url": "https://api.github.com/users/siningma/events{/privacy}", "received_events_url": "https://api.github.com/users/siningma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-04T22:26:58Z", "updated_at": "2023-01-05T18:50:44Z", "closed_at": "2023-01-05T12:03:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/619", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/619", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/619.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/619.patch", "merged_at": "2023-01-05T12:03:24Z"}, "body": "Implement FromCqlVal and Value for DateTime<Utc> and secrecy::Secret.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/619/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/617", "id": 1514688662, "node_id": "PR_kwDOEj0F685GZeN0", "number": 617, "title": "Identify nodes by host id instead of IPs", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-12-30T17:57:52Z", "updated_at": "2023-01-18T16:03:05Z", "closed_at": "2023-01-18T15:51:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/617", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/617", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/617.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/617.patch", "merged_at": "2023-01-18T15:51:36Z"}, "body": "As a corresponding change has been merged into Scylla itself, we should adjust as well.\r\nMoreover, for Serverless Cloud host IDs are the only valid way of identifying nodes.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/614", "id": 1494731081, "node_id": "PR_kwDOEj0F685FWJ-1", "number": 614, "title": "Serverless support", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/1", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1/labels", "id": 9009426, "node_id": "MI_kwDOEj0F684AiXkS", "number": 1, "title": "0.8.0", "description": "", "creator": {"login": "mykaul", "id": 4655593, "node_id": "MDQ6VXNlcjQ2NTU1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4655593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mykaul", "html_url": "https://github.com/mykaul", "followers_url": "https://api.github.com/users/mykaul/followers", "following_url": "https://api.github.com/users/mykaul/following{/other_user}", "gists_url": "https://api.github.com/users/mykaul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mykaul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mykaul/subscriptions", "organizations_url": "https://api.github.com/users/mykaul/orgs", "repos_url": "https://api.github.com/users/mykaul/repos", "events_url": "https://api.github.com/users/mykaul/events{/privacy}", "received_events_url": "https://api.github.com/users/mykaul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2023-02-06T10:12:47Z", "updated_at": "2023-03-23T12:32:51Z", "due_on": "2023-03-15T00:00:00Z", "closed_at": "2023-03-23T12:32:51Z"}, "comments": 6, "created_at": "2022-12-13T17:07:12Z", "updated_at": "2023-04-26T12:29:45Z", "closed_at": "2023-03-08T16:50:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/614", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/614", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/614.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/614.patch", "merged_at": "2023-03-08T16:50:34Z"}, "body": "This PR adds a basic serverless Scylla Cloud support for our driver. It contains:\r\n- parsing and validation of cloud config yaml, with tests\r\n- identifying nodes internally by host ID instead of IP addresses _[EDIT: this is now also present in #617 , atop which this PR was rebased]_\r\n- tidy split of SessionBuilder into two modes: Default and Cloud, which prevents weird user configuration, while preserving API compatibility\r\n- rework of several flows in code in order to pass information necessary for setting up SNI in TLS connection to cloud proxy\r\n- address translation: internal nodes' IPs are translated into IPs of proxies in their DCs\r\n- encapsulation of SslContext into SslConfig along with similar data\r\n- conditional compilation of all cloud-related stuff under `cloud` feature\r\n\r\nSo far tested with ccm, on a single dc cluster.\r\nUPDATE: tested on a cloud test cluster.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/612", "id": 1474288458, "node_id": "PR_kwDOEj0F685EN8zS", "number": 612, "title": "transport: load balancing module refactor", "user": {"login": "havaker", "id": 41525193, "node_id": "MDQ6VXNlcjQxNTI1MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/41525193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/havaker", "html_url": "https://github.com/havaker", "followers_url": "https://api.github.com/users/havaker/followers", "following_url": "https://api.github.com/users/havaker/following{/other_user}", "gists_url": "https://api.github.com/users/havaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/havaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/havaker/subscriptions", "organizations_url": "https://api.github.com/users/havaker/orgs", "repos_url": "https://api.github.com/users/havaker/repos", "events_url": "https://api.github.com/users/havaker/events{/privacy}", "received_events_url": "https://api.github.com/users/havaker/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/1", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1/labels", "id": 9009426, "node_id": "MI_kwDOEj0F684AiXkS", "number": 1, "title": "0.8.0", "description": "", "creator": {"login": "mykaul", "id": 4655593, "node_id": "MDQ6VXNlcjQ2NTU1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4655593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mykaul", "html_url": "https://github.com/mykaul", "followers_url": "https://api.github.com/users/mykaul/followers", "following_url": "https://api.github.com/users/mykaul/following{/other_user}", "gists_url": "https://api.github.com/users/mykaul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mykaul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mykaul/subscriptions", "organizations_url": "https://api.github.com/users/mykaul/orgs", "repos_url": "https://api.github.com/users/mykaul/repos", "events_url": "https://api.github.com/users/mykaul/events{/privacy}", "received_events_url": "https://api.github.com/users/mykaul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2023-02-06T10:12:47Z", "updated_at": "2023-03-23T12:32:51Z", "due_on": "2023-03-15T00:00:00Z", "closed_at": "2023-03-23T12:32:51Z"}, "comments": 29, "created_at": "2022-12-04T00:12:31Z", "updated_at": "2023-03-17T15:42:10Z", "closed_at": "2023-03-17T14:25:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/612", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/612", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/612.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/612.patch", "merged_at": "2023-03-17T14:25:44Z"}, "body": "## Description\r\n\r\nThis is the third attempt to refactor this module;)\r\n\r\n#### Replica set calculation was moved to a separate module (`transport::locator`).\r\n\r\nReplica set calculation is done by a module originally written by @cvybhu - `transport::locator::replication_info`. `struct ReplicationData` lives in that module, and provides a set of functions that allow calculating of `SimpleStrategy` & `NetworkTopologyStrategy` replica lists.\r\n\r\nTo make load balancing fast, precomputing replica sets is required. This is done by another of @cvybhu's modules - `transport::locator::precomputed_replicas`. `precomputed_replicas::PrecomputedReplicas` is a struct that precomputes replica lists of a given strategies, and provides O(1) access to desired replica slices.\r\n\r\n`locator::ReplicaLocator` combines the functionality of the previously mentioned modules, and provides a unified API for getting precomputed or calculated on the fly replica sets. Representing replica sets by a custom `ReplicaSet` type allowed creating an API that supported optional limiting replicas to a single data center (and allocation-free creation, getting & iteration through precomputed replica sets). \r\n\r\nThings left for a follow-up:\r\n- A way to configure which strategies need replica set precomputation\r\n\r\n#### `LoadBalancingPolicy` interface was changed.\r\n\r\n`plan` was split to `pick` and `fallback` methods. This allows to better optimize the most common case, where only one node from the load balancing plan is needed. Changes required in query execution code were minimized by providing a lazy chaining iterator `ltransport::load_balancing::plan::Plan`. This iterator's first element is a node returned by the `LoadBalancingPolicy::pick` function, the next items come from `LoadBalancingPolicy::fallback` iterator. Falback method is called lazily - only when second+ element of the `Plan` iterator is needed.\r\n\r\nThe following methods were added:\r\n```rust\r\nfn on_query_success(&self, query: &QueryInfo, latency: Duration, node: NodeRef<_'>);\r\nfn on_query_error(&self, query: &QueryInfo, latency: Duration, node: NodeRef<_'>, error: &QueryError);\r\n```\r\nThe motivation for adding them was the ability to contain the logic of latency-aware policy inside some load balancing policy.\r\n\r\n#### Default policy was created.\r\n\r\nDefault policy supports token and data center awareness. It also has a logic to do a data center failover.\r\n\r\nThings left for a follow-up:\r\n- LWT routing support\r\n\r\n#### Latency aware policy was merged with the default one\r\n\r\nMechanisms used only by latency aware policy were removed (e.g. `TimestampedAverage` living in `Node`).\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/408", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/611", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/611/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/611/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/611/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/611", "id": 1473243029, "node_id": "PR_kwDOEj0F685EKYOi", "number": 611, "title": "connection: send DRIVER_VERSION in STARTUP message", "user": {"login": "avelanarius", "id": 10003183, "node_id": "MDQ6VXNlcjEwMDAzMTgz", "avatar_url": "https://avatars.githubusercontent.com/u/10003183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avelanarius", "html_url": "https://github.com/avelanarius", "followers_url": "https://api.github.com/users/avelanarius/followers", "following_url": "https://api.github.com/users/avelanarius/following{/other_user}", "gists_url": "https://api.github.com/users/avelanarius/gists{/gist_id}", "starred_url": "https://api.github.com/users/avelanarius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avelanarius/subscriptions", "organizations_url": "https://api.github.com/users/avelanarius/orgs", "repos_url": "https://api.github.com/users/avelanarius/repos", "events_url": "https://api.github.com/users/avelanarius/events{/privacy}", "received_events_url": "https://api.github.com/users/avelanarius/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-02T18:01:53Z", "updated_at": "2022-12-02T19:16:58Z", "closed_at": "2022-12-02T19:16:57Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/611", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/611", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/611.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/611.patch", "merged_at": "2022-12-02T19:16:57Z"}, "body": "When sending a `STARTUP` message while establishing the connection, this change properly populates the `DRIVER_VERSION` field.\r\n\r\nBefore this change, `SELECT * FROM system.clients` would allow a user to see that Scylla Rust Driver has connected to the cluster, but the version number was `null`.\r\n\r\nThe version number is fetched compile-time by invoking option_env! and reading a standard `CARGO_PKG_VERSION` environment variable.\r\n\r\nExample contents of system.clients after change:\r\n```\r\n>> `select driver_name, driver_version from system.clients;`\r\n| Text(\"scylla-rust-driver\")| Text(\"0.6.1\")   |\r\n| Text(\"scylla-rust-driver\")| Text(\"0.6.1\")   |\r\n```\r\n\r\nFixes #610\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/611/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/609", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/609/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/609/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/609/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/609", "id": 1468320265, "node_id": "PR_kwDOEj0F685D5s0q", "number": 609, "title": "iterator: fix panic when retry policy returns IgnoreWriteError in iterator", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-29T16:09:02Z", "updated_at": "2022-12-02T18:38:20Z", "closed_at": "2022-12-02T18:38:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/609", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/609", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/609.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/609.patch", "merged_at": "2022-12-02T18:38:20Z"}, "body": "Currently, the RowIterator expects that its background worker will always send at least one page (or an error) to the iterator. However, there is an edge case where it may not be true: if the first request executed via query_iter/execute_iter fails and the retry policy returns an IgnoreWriteError decision (currently returned only by downgrading consistency policy in case of WriteTimeout). In such case, those methods will trigger a panic.\r\n\r\nThis PR fixes this issue by sending a dummy, empty page to the iterator in the aforementioned case. Moreover, in order to make it less possible for such bugs to appear in this area of the code in the future, the RowIterator::work function is now forced to return an object which serves as a proof of the fact that it sent (or at least attempted to send) at least one page or error to the RowIterator.\r\n\r\nFixes: #608\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/609/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/609/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/606", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/606/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/606/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/606/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/606", "id": 1464648639, "node_id": "PR_kwDOEj0F685DttUw", "number": 606, "title": "transport: fix clippy warnings", "user": {"login": "havaker", "id": 41525193, "node_id": "MDQ6VXNlcjQxNTI1MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/41525193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/havaker", "html_url": "https://github.com/havaker", "followers_url": "https://api.github.com/users/havaker/followers", "following_url": "https://api.github.com/users/havaker/following{/other_user}", "gists_url": "https://api.github.com/users/havaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/havaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/havaker/subscriptions", "organizations_url": "https://api.github.com/users/havaker/orgs", "repos_url": "https://api.github.com/users/havaker/repos", "events_url": "https://api.github.com/users/havaker/events{/privacy}", "received_events_url": "https://api.github.com/users/havaker/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-25T14:50:48Z", "updated_at": "2022-11-25T15:07:29Z", "closed_at": "2022-11-25T15:03:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/606", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/606", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/606.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/606.patch", "merged_at": "2022-11-25T15:03:44Z"}, "body": "Running clippy 0.1.60 on our code results in a set of warnings about our `sort` usage:\r\n\r\n```\r\nerror: used `sort` on primitive type `tuple`\r\n   --> scylla/src/transport/caching_session.rs:564:9\r\n    |\r\n564 |         rows.sort();\r\n    |         ^^^^^^^^^^^ help: try: `rows.sort_unstable()`\r\n    |\r\n    = note: `-D clippy::stable-sort-primitive` implied by `-D warnings`\r\n    = note: an unstable sort would perform faster without any observable difference for this data type\r\n    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#stable_sort_primitive\r\n\r\n...\r\n```\r\nThis pull request applies the above suggestions .\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/606/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/606/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/602", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/602/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/602/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/602/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/602", "id": 1460077542, "node_id": "PR_kwDOEj0F685DeKgq", "number": 602, "title": "Cassandra 3 nodes CI & proxy features enhancements", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-22T15:22:17Z", "updated_at": "2022-11-29T18:10:43Z", "closed_at": "2022-11-29T18:06:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/602", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/602", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/602.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/602.patch", "merged_at": "2022-11-29T18:06:41Z"}, "body": "I've made our CI Cassandra cluster consist of 3 nodes (instead of only 1). This will let us test freely on both C* and Scylla in case that the test assumes 3 nodes present; we will no longer have to opt those tests out for C*.\r\n\r\nMoveover, I've made several improvements to proxy:\r\n- rule changing is no longer async\r\n- Reaction prettier printing\r\n- Support frames can be conveniently forged\r\n- ShardAwareness::QueryNode falls back to Unaware in case of shard info not present at node\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/602/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/601", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/601/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/601/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/601/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/601", "id": 1458130016, "node_id": "PR_kwDOEj0F685DXcB8", "number": 601, "title": "cql_to_rust: expose impl_from_cql_value_from_method macro", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-21T15:25:49Z", "updated_at": "2022-12-06T12:00:36Z", "closed_at": "2022-12-06T12:00:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/601", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/601", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/601.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/601.patch", "merged_at": "2022-12-06T12:00:36Z"}, "body": "This commit exposes the existing `impl_from_cql_val` macro as `impl_from_cql_value_from_method` macro. It was originally used to define implementations of the FromCqlValue macro based on CqlValue's existing methods, but it can be useful outside the crate itself too - namely, users can define more methods for CqlValue via extension traits.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/601/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/600", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/600/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/600/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/600/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/600", "id": 1456573065, "node_id": "PR_kwDOEj0F685DSUDE", "number": 600, "title": "Fix #599", "user": {"login": "Ten0", "id": 9094255, "node_id": "MDQ6VXNlcjkwOTQyNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9094255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ten0", "html_url": "https://github.com/Ten0", "followers_url": "https://api.github.com/users/Ten0/followers", "following_url": "https://api.github.com/users/Ten0/following{/other_user}", "gists_url": "https://api.github.com/users/Ten0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ten0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ten0/subscriptions", "organizations_url": "https://api.github.com/users/Ten0/orgs", "repos_url": "https://api.github.com/users/Ten0/repos", "events_url": "https://api.github.com/users/Ten0/events{/privacy}", "received_events_url": "https://api.github.com/users/Ten0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-19T16:48:06Z", "updated_at": "2022-11-21T12:33:48Z", "closed_at": "2022-11-21T12:33:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/600", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/600", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/600.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/600.patch", "merged_at": "2022-11-21T12:33:06Z"}, "body": "Fixes #599\r\n\r\nFor some unknown reason, the `BatchValuesIter` associated type, when not resolved to a concrete type for a given async function, cannot live across await boundaries while maintaining the corresponding future `Send`, unless `'r: 'static`\r\n\r\nIt is consequently required to drop that variable before any `await` in `Session::batch`.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/600/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/598", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/598/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/598/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/598/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/598", "id": 1451394891, "node_id": "PR_kwDOEj0F685DA3AL", "number": 598, "title": "caching_session: always inherit params from provided Query object ", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-16T11:15:48Z", "updated_at": "2022-11-17T22:13:33Z", "closed_at": "2022-11-17T22:13:33Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/598", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/598", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/598.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/598.patch", "merged_at": "2022-11-17T22:13:33Z"}, "body": "Currently, the CachingSession keeps full PreparedStatement objects in its cache. When calling CachingSession::execute etc., a full Query object is provided. If the query is not in the cache, then Session::prepare is called and the resulting query - which inherits parameters like paging size, consistency etc. - is inserted into the cache. If the query is already in the cache, then the original PreparedStatement which was inserted into the cache is returned - and that prepared statement may have different parameters than the Query passed as a parameter.\r\n\r\nThis PR modifies the CachingSession so that it only keeps essential information necessary to create a PreparedStatement from a Query, i.e. ID of the query and prepared statement metadata. All other parameters are inherited from the Query provided as a parameter to the function.\r\n\r\nApart from the above, this PR contains some tiny improvements to the API and performance of the CachingSession.\r\n\r\nFixes: #597\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/598/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/598/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/596", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/596/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/596/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/596/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/596", "id": 1449869467, "node_id": "PR_kwDOEj0F685C7xZF", "number": 596, "title": "Migrate ValueList to recently-stabilized GATs", "user": {"login": "Ten0", "id": 9094255, "node_id": "MDQ6VXNlcjkwOTQyNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9094255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ten0", "html_url": "https://github.com/Ten0", "followers_url": "https://api.github.com/users/Ten0/followers", "following_url": "https://api.github.com/users/Ten0/following{/other_user}", "gists_url": "https://api.github.com/users/Ten0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ten0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ten0/subscriptions", "organizations_url": "https://api.github.com/users/Ten0/orgs", "repos_url": "https://api.github.com/users/Ten0/repos", "events_url": "https://api.github.com/users/Ten0/events{/privacy}", "received_events_url": "https://api.github.com/users/Ten0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-15T14:23:29Z", "updated_at": "2023-01-16T15:56:46Z", "closed_at": "2023-01-16T15:56:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/596", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/596", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/596.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/596.patch", "merged_at": "2023-01-16T15:56:45Z"}, "body": "This requires bumping the MSRV to 1.65.0\r\n\r\nThis is a separate PR from #573 as discussed at https://github.com/scylladb/scylla-rust-driver/pull/573#issuecomment-1315125612.\r\n\r\nImplementation note:\r\nThis requires adding a PhantomData in `BatchValuesFromIter` so that the `where Self: 'r` bound will imply the previous `'a: 'r` bound.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/596/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/596/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/594", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/594/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/594/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/594/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/594", "id": 1448360432, "node_id": "PR_kwDOEj0F685C2sRI", "number": 594, "title": "Remove uses of deprecated NaiveData::from_ymd/hms", "user": {"login": "cvybhu", "id": 36861778, "node_id": "MDQ6VXNlcjM2ODYxNzc4", "avatar_url": "https://avatars.githubusercontent.com/u/36861778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cvybhu", "html_url": "https://github.com/cvybhu", "followers_url": "https://api.github.com/users/cvybhu/followers", "following_url": "https://api.github.com/users/cvybhu/following{/other_user}", "gists_url": "https://api.github.com/users/cvybhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/cvybhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cvybhu/subscriptions", "organizations_url": "https://api.github.com/users/cvybhu/orgs", "repos_url": "https://api.github.com/users/cvybhu/repos", "events_url": "https://api.github.com/users/cvybhu/events{/privacy}", "received_events_url": "https://api.github.com/users/cvybhu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-14T16:18:54Z", "updated_at": "2022-11-14T18:16:46Z", "closed_at": "2022-11-14T18:16:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/594", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/594", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/594.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/594.patch", "merged_at": "2022-11-14T18:16:46Z"}, "body": "The functions `NaiveData::from_ymd` and `from_hms` have been deprecated. This causes the CI to fail\r\nduring clippy check.\r\n(see https://github.com/scylladb/scylla-rust-driver/actions/runs/3462054587/jobs/5780445658)\r\n\r\nChange all occurences of `from_ymd` and `from_hms` to `from_ymd_opt` and `from_hms_opt`.\r\n\r\nThe `_opt` variant requires adding an `unwrap()`, but this doesn't decrease safety.\r\nIn all cases where there is an `unwrap()` the old code would've panicked.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/594/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/593", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/593/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/593/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/593/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/593", "id": 1448110968, "node_id": "PR_kwDOEj0F685C12Mp", "number": 593, "title": "make: do not use --verbose flag with cargo build", "user": {"login": "havaker", "id": 41525193, "node_id": "MDQ6VXNlcjQxNTI1MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/41525193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/havaker", "html_url": "https://github.com/havaker", "followers_url": "https://api.github.com/users/havaker/followers", "following_url": "https://api.github.com/users/havaker/following{/other_user}", "gists_url": "https://api.github.com/users/havaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/havaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/havaker/subscriptions", "organizations_url": "https://api.github.com/users/havaker/orgs", "repos_url": "https://api.github.com/users/havaker/repos", "events_url": "https://api.github.com/users/havaker/events{/privacy}", "received_events_url": "https://api.github.com/users/havaker/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-14T13:53:03Z", "updated_at": "2022-11-15T09:01:32Z", "closed_at": "2022-11-15T09:01:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/593", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/593", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/593.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/593.patch", "merged_at": "2022-11-15T09:01:32Z"}, "body": "## Description\r\n\r\nRunning `make build` is too verbose to use it as a convenient `cargo build` replacement. Removing `--verbose` flag helps a lot - the terminal is not flooded with messages about which compiler flags are being used etc.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/593/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/593/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/592", "id": 1443644701, "node_id": "PR_kwDOEj0F685Cm2D-", "number": 592, "title": "Execution profiles", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2022-11-10T10:32:13Z", "updated_at": "2023-02-20T08:38:00Z", "closed_at": "2023-02-09T15:09:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/592", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/592", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/592.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/592.patch", "merged_at": "2023-02-09T15:09:44Z"}, "body": "We introduce execution profiles, a concept analogous to that found in other drivers. They enable batch changes of configuration options for queries, as well as for whole sessions.\r\nFixes: #354\r\n\r\n## Considerations yet to be done\r\n\r\n- Other drivers support saving execution profiles to a file and loading them from there. Do we want such a feature?\r\n- There is also an idea that a file could be set up to be read periodically; once it is read, the execution profile the file contains is loaded and reapplied to all statements and sessions associated with its handle. This way we would enable changing execution profiles during runtime, without changing code at all. Is this feature worth it?\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/591", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/591/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/591/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/591/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/591", "id": 1442228332, "node_id": "PR_kwDOEj0F685CiBW6", "number": 591, "title": "clippy new version's whims required some fixes", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-09T14:42:43Z", "updated_at": "2022-11-10T09:23:32Z", "closed_at": "2022-11-09T19:07:23Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/591", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/591", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/591.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/591.patch", "merged_at": "2022-11-09T19:07:23Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n-  ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/591/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/590", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/590/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/590/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/590/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/590", "id": 1441072043, "node_id": "PR_kwDOEj0F685CeFyq", "number": 590, "title": "Implement Value for Vec<&dyn Value> and Vec<Box<dyn Value>>", "user": {"login": "rukai", "id": 5120858, "node_id": "MDQ6VXNlcjUxMjA4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5120858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rukai", "html_url": "https://github.com/rukai", "followers_url": "https://api.github.com/users/rukai/followers", "following_url": "https://api.github.com/users/rukai/following{/other_user}", "gists_url": "https://api.github.com/users/rukai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rukai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rukai/subscriptions", "organizations_url": "https://api.github.com/users/rukai/orgs", "repos_url": "https://api.github.com/users/rukai/repos", "events_url": "https://api.github.com/users/rukai/events{/privacy}", "received_events_url": "https://api.github.com/users/rukai/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-08T23:38:44Z", "updated_at": "2022-11-10T08:24:04Z", "closed_at": "2022-11-10T08:24:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/590", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/590", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/590.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/590.patch", "merged_at": "2022-11-10T08:24:03Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n\r\n\r\nThe new test demonstrates the new types that are now possible to provide.\r\nSupporting `Vec<&dyn Value>` and `Vec<Box<dyn Value>>` here is very rarely useful but I ran into a case where I needed it for abstracting across multiple cassandra drivers in order to easily test my cassandra proxy implementation across multiple drivers.", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/590/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/590/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/588", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/588/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/588/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/588/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/588", "id": 1437911075, "node_id": "PR_kwDOEj0F685CTY7X", "number": 588, "title": "connection: clearly mark db-side warnings as such", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-07T07:47:58Z", "updated_at": "2022-11-07T10:23:02Z", "closed_at": "2022-11-07T10:23:02Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/588", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/588", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/588.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/588.patch", "merged_at": "2022-11-07T10:23:02Z"}, "body": "The CQL protocol allows the database to return some warnings along with the response and the driver prints them using the tracing::warn! macro. Those warnings, when reported by tracing, may be confused with a driver-side error, so this commit attempts to make it more clear that the warning was generated on the db-side.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/588/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/588/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/585", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/585/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/585/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/585/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/585", "id": 1429869440, "node_id": "PR_kwDOEj0F685B4qnJ", "number": 585, "title": "retry_policy: Added support for SerialConsistency", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-31T13:40:20Z", "updated_at": "2022-11-04T09:02:53Z", "closed_at": "2022-11-04T08:56:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/585", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/585", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/585.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/585.patch", "merged_at": "2022-11-04T08:56:17Z"}, "body": "RetryDecision contains Option<Consistency> now instead of Consistency. None conveys meaning of \"retry with the same CL as before\", which is especially suitable when the previous consistency was Serial (even though such a case seems to be impossible in the code ATM). Moreover, covered one special case of LWT Unavailable error in DowngradingConsistencyPolicy, mirroring Java driver's behaviour.\r\nFixes: #527 \r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/585/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/584", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/584/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/584/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/584/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/584", "id": 1426048032, "node_id": "PR_kwDOEj0F685BsDFL", "number": 584, "title": "Makefile", "user": {"login": "havaker", "id": 41525193, "node_id": "MDQ6VXNlcjQxNTI1MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/41525193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/havaker", "html_url": "https://github.com/havaker", "followers_url": "https://api.github.com/users/havaker/followers", "following_url": "https://api.github.com/users/havaker/following{/other_user}", "gists_url": "https://api.github.com/users/havaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/havaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/havaker/subscriptions", "organizations_url": "https://api.github.com/users/havaker/orgs", "repos_url": "https://api.github.com/users/havaker/repos", "events_url": "https://api.github.com/users/havaker/events{/privacy}", "received_events_url": "https://api.github.com/users/havaker/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-10-27T17:46:22Z", "updated_at": "2022-11-10T12:19:31Z", "closed_at": "2022-11-10T12:19:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/584", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/584", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/584.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/584.patch", "merged_at": "2022-11-10T12:19:31Z"}, "body": "## Description\r\n\r\nThis pull request tidies up our methods to run tests and makes setting up test cluster easier.\r\n\r\nThe main thing that was added is a Makefile. Thanks to its presence it is now possible to run a cargo test suite against a 3-node cluster using only `make test` command - no need to invoke `docker-compose` manually. Doing a format check, cargo check, clippy, test and build can now be done with `make ci`.\r\n\r\nTests in Docker (`scripts/test_in_docker/`) were modified to use the same `docker-compose.yml` as the CI and Makefile. They were also moved to `test/dockerized/` directory, and made to be run by a `dockerized-test` `make` target.\r\nI chose to drop the `test_in_docker.ps1` script that was written to make it easier to run tests on Windows.\r\nRunning tests in a Docker container on Windows changes the build target to the Linux one - Windows-specific code paths are not tested in that way. I don't see any benefit of maintaining this script, especially given that Windows users can use WSL to run tests.\r\nAs for now, I think that `test/dockerized` makes sense only on macOS.\r\n\r\nThis pull request is a draft because I have to add commit messages that explain motivations behind some changes.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/584/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/583", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/583/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/583/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/583/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/583", "id": 1424311717, "node_id": "PR_kwDOEj0F685BmMUI", "number": 583, "title": "proxy: Enabled dry mode (run with simulated nodes)", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-10-26T16:07:17Z", "updated_at": "2023-04-26T12:29:20Z", "closed_at": "2022-11-18T12:34:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/583", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/583", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/583.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/583.patch", "merged_at": "2022-11-18T12:34:38Z"}, "body": "It has appeared to be useful to have a feature in the proxy to interact with the driver without having any Scylla nodes up. This is especially useful for unit testing.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/583/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/581", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/581/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/581/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/581/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/581", "id": 1415350603, "node_id": "PR_kwDOEj0F685BIOY_", "number": 581, "title": "Add benchmarks for request serialize", "user": {"login": "colin-grapl", "id": 62314572, "node_id": "MDQ6VXNlcjYyMzE0NTcy", "avatar_url": "https://avatars.githubusercontent.com/u/62314572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colin-grapl", "html_url": "https://github.com/colin-grapl", "followers_url": "https://api.github.com/users/colin-grapl/followers", "following_url": "https://api.github.com/users/colin-grapl/following{/other_user}", "gists_url": "https://api.github.com/users/colin-grapl/gists{/gist_id}", "starred_url": "https://api.github.com/users/colin-grapl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colin-grapl/subscriptions", "organizations_url": "https://api.github.com/users/colin-grapl/orgs", "repos_url": "https://api.github.com/users/colin-grapl/repos", "events_url": "https://api.github.com/users/colin-grapl/events{/privacy}", "received_events_url": "https://api.github.com/users/colin-grapl/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-19T17:33:45Z", "updated_at": "2022-10-20T16:04:09Z", "closed_at": "2022-10-20T16:00:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/581", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/581", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/581.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/581.patch", "merged_at": "2022-10-20T16:00:34Z"}, "body": "Small PR to add benchmarks to the SerializedRequest::make method. I have some other changes that I'd like to PR separately that will improve performance of this method in a couple of different ways.\r\n\r\nThe benchmark is very minimal and only tests the LZ4 path. Adding a few more that cover:\r\n\r\n1. Snappy + No Compression\r\n2. Smaller and larger queries\r\n\r\nwould be very reasonable, and very easy given this baseline.\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/581/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/580", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/580/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/580/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/580/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/580", "id": 1415331089, "node_id": "PR_kwDOEj0F685BIKPh", "number": 580, "title": "Update .gitignore", "user": {"login": "colin-grapl", "id": 62314572, "node_id": "MDQ6VXNlcjYyMzE0NTcy", "avatar_url": "https://avatars.githubusercontent.com/u/62314572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colin-grapl", "html_url": "https://github.com/colin-grapl", "followers_url": "https://api.github.com/users/colin-grapl/followers", "following_url": "https://api.github.com/users/colin-grapl/following{/other_user}", "gists_url": "https://api.github.com/users/colin-grapl/gists{/gist_id}", "starred_url": "https://api.github.com/users/colin-grapl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colin-grapl/subscriptions", "organizations_url": "https://api.github.com/users/colin-grapl/orgs", "repos_url": "https://api.github.com/users/colin-grapl/repos", "events_url": "https://api.github.com/users/colin-grapl/events{/privacy}", "received_events_url": "https://api.github.com/users/colin-grapl/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-19T17:17:01Z", "updated_at": "2022-10-19T18:11:36Z", "closed_at": "2022-10-19T17:29:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/580", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/580", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/580.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/580.patch", "merged_at": "2022-10-19T17:29:22Z"}, "body": "Fix target directory exclude so that it applies to all rust target dirs. This will ensure that `scylla-cql/target/` gets excluded, or any other rust project target directories in the future.\r\n\r\nI also removed `/scylla/target` as it should now be covered by `target/`.\r\n\r\nA `/` at the beginning of an exclusion means \"relative to the .gitignore\", so `/target` would only apply to the workspace target dir. \r\n\r\n- [X] I have split my patch into logically separate commits.\r\n- [X] All commit messages clearly explain what they change and why.\r\n- [X] I added relevant tests for new features and bug fixes.\r\n- [X] All commits compile, pass static checks and pass test.\r\n- [X] PR description sums up the changes and reasons why they should be introduced.\r\n- [X] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/580/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/578", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/578/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/578/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/578/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/578", "id": 1408840559, "node_id": "PR_kwDOEj0F685Aylq5", "number": 578, "title": "LWT routing optimisation", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-10-14T06:34:10Z", "updated_at": "2022-12-01T11:42:58Z", "closed_at": "2022-12-01T11:32:52Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/578", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/578", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/578.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/578.patch", "merged_at": "2022-12-01T11:32:52Z"}, "body": "This enables optimisation of LWT queries routing. If the cluster supports the LWT mark protocol extension, then it will be negotiated and henceforth prepared statements which contain an LWT will be routed to the replicas only.\r\nFixes: #100 \r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/578/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/577", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/577/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/577/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/577/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/577", "id": 1407510575, "node_id": "PR_kwDOEj0F685AuHiH", "number": 577, "title": "Minimal implementation of custom hasher for CachingSession", "user": {"login": "colin-grapl", "id": 62314572, "node_id": "MDQ6VXNlcjYyMzE0NTcy", "avatar_url": "https://avatars.githubusercontent.com/u/62314572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colin-grapl", "html_url": "https://github.com/colin-grapl", "followers_url": "https://api.github.com/users/colin-grapl/followers", "following_url": "https://api.github.com/users/colin-grapl/following{/other_user}", "gists_url": "https://api.github.com/users/colin-grapl/gists{/gist_id}", "starred_url": "https://api.github.com/users/colin-grapl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colin-grapl/subscriptions", "organizations_url": "https://api.github.com/users/colin-grapl/orgs", "repos_url": "https://api.github.com/users/colin-grapl/repos", "events_url": "https://api.github.com/users/colin-grapl/events{/privacy}", "received_events_url": "https://api.github.com/users/colin-grapl/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-10-13T10:00:42Z", "updated_at": "2022-10-19T17:01:52Z", "closed_at": "2022-10-19T17:01:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/577", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/577", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/577.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/577.patch", "merged_at": "2022-10-19T17:01:51Z"}, "body": "This is a minimal version of a PR I had tried to push through a while back. It's very small and straightforward, and avoids some of the additional APIs I had provided in the last PR. In short, the `CachingSession` now has a 3rd type parameter, `S`, which will be used to customize the hash algorithm used by DashMap.\r\n\r\nThere are lots of benchmarks for other hash algorithms, such as these:\r\nhttps://github.com/rust-lang/hashbrown#performance\r\nhttps://github.com/tkaitchuck/aHash/blob/master/compare/readme.md#why-use-ahash-over-x\r\n\r\nAs you can see from those benchmarks there are significantly faster algorithms than what rust provides by default.\r\n\r\n## Pre-review checklist\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n\r\nI don't think there are any \"Fixes\" annotations to apply here.", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/577/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/577/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/576", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/576/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/576/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/576/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/576", "id": 1403711689, "node_id": "PR_kwDOEj0F685Ahcfh", "number": 576, "title": "session: add keyspaces_to_fetch configuration", "user": {"login": "wyfo", "id": 6006079, "node_id": "MDQ6VXNlcjYwMDYwNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6006079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wyfo", "html_url": "https://github.com/wyfo", "followers_url": "https://api.github.com/users/wyfo/followers", "following_url": "https://api.github.com/users/wyfo/following{/other_user}", "gists_url": "https://api.github.com/users/wyfo/gists{/gist_id}", "starred_url": "https://api.github.com/users/wyfo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wyfo/subscriptions", "organizations_url": "https://api.github.com/users/wyfo/orgs", "repos_url": "https://api.github.com/users/wyfo/repos", "events_url": "https://api.github.com/users/wyfo/events{/privacy}", "received_events_url": "https://api.github.com/users/wyfo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-10T21:05:10Z", "updated_at": "2022-11-15T12:43:20Z", "closed_at": "2022-11-15T12:43:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/576", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/576", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/576.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/576.patch", "merged_at": "2022-11-15T12:43:19Z"}, "body": "This attribute allows filtering fetched keyspaces in metadata queries\r\n\r\nFixes #574 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/576/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/576/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/573", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/573/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/573/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/573/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/573", "id": 1398488257, "node_id": "PR_kwDOEj0F685AQEoT", "number": 573, "title": "Pick connections based on batch first statement's shard - v2", "user": {"login": "Ten0", "id": 9094255, "node_id": "MDQ6VXNlcjkwOTQyNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9094255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ten0", "html_url": "https://github.com/Ten0", "followers_url": "https://api.github.com/users/Ten0/followers", "following_url": "https://api.github.com/users/Ten0/following{/other_user}", "gists_url": "https://api.github.com/users/Ten0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ten0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ten0/subscriptions", "organizations_url": "https://api.github.com/users/Ten0/orgs", "repos_url": "https://api.github.com/users/Ten0/repos", "events_url": "https://api.github.com/users/Ten0/events{/privacy}", "received_events_url": "https://api.github.com/users/Ten0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-10-05T23:08:28Z", "updated_at": "2022-11-15T14:38:53Z", "closed_at": "2022-11-15T14:17:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/573", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/573", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/573.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/573.patch", "merged_at": "2022-11-15T14:17:14Z"}, "body": "Fixes #448 \r\n\r\nFollow-up on #508 being reverted in #569 because of #568 - first commit reintroduces #508, while second commit fixes #568.\r\n\r\n-> This re-fixes #448, without reintroducing #568.\r\n\r\n#568 is effectively fixed by using default generic argument on the `BatchValuesGatWorkaround` trait which will generate an implicit  `where Self: 'r` bound in `for<'r> BatchValuesGatWorkaround<'r>` (becoming in effect `for<'r where Self: 'r> BatchValuesGatWorkaround<'r>`). This trick is explained in more detail at https://sabrinajewson.org/blog/the-better-alternative-to-lifetime-gats.\r\n\r\nWe also get rid of lending iteration in `BatchValuesIterator`, giving more flexibility for future shard-pick heuristic improvements (this is also unlocked by that same implicit bound).\r\n\r\n--\r\n\r\nUpdate: c7f7640 now also moves to the recently-stabilized GATs.  This removes the need for the previously described GAT workaround. The implicit bound is replaced by an explicit `where Self: 'r` bound.\r\nSince we don't need `for<'r> X::AssociatedType<'r>: Something` bounds anywhere, we don't hit the limitations described [here](https://sabrinajewson.org/blog/the-better-alternative-to-lifetime-gats), and the simplification is probably worth losing those.\r\n\r\n## Pre-review checklist\r\n\r\n- [X] I have split my patch into logically separate commits.\r\n- [X] All commit messages clearly explain what they change and why.\r\n- [X] I added relevant tests for new features and bug fixes.\r\n- [X] All commits compile, pass static checks and pass test.\r\n- [X] PR description sums up the changes and reasons why they should be introduced.\r\n- [X] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/573/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/573/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/572", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/572/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/572/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/572/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/572", "id": 1397712733, "node_id": "PR_kwDOEj0F685ANdTk", "number": 572, "title": "Add support for custom authentication", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-05T12:26:59Z", "updated_at": "2022-12-01T10:15:54Z", "closed_at": "2022-12-01T10:15:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/572", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/572", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/572.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/572.patch", "merged_at": "2022-12-01T10:15:54Z"}, "body": "Added AuthenticatorProvider and AuthenticatorSession traits. AuthenticatorProvider serves as a factory to create a new AuthenticatorSession instance for each session.\r\n\r\nAuthenticatorSession trait has 3 methods to be implemented by a user:\r\n * initial_response: to initiate a request to begin an authentication exchange. Resources required for this specific exchange can be stored in the struct implementing AuthenticatorSession trait.\r\n * evaluate_challenge: to handle an authentication challenge initiated by the server. The information contained in the token parameter is authentication protocol specific. It may be NULL or empty.\r\n * success: to handle the success phase of exchange. The token parameters contain information that may be used to finalize the request.\r\n\r\nFixes #562 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/572/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/572/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/569", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/569/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/569/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/569/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/569", "id": 1396490540, "node_id": "PR_kwDOEj0F685AJYdx", "number": 569, "title": "Revert \"Pick connections based on batch first statement's shard\"", "user": {"login": "cvybhu", "id": 36861778, "node_id": "MDQ6VXNlcjM2ODYxNzc4", "avatar_url": "https://avatars.githubusercontent.com/u/36861778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cvybhu", "html_url": "https://github.com/cvybhu", "followers_url": "https://api.github.com/users/cvybhu/followers", "following_url": "https://api.github.com/users/cvybhu/following{/other_user}", "gists_url": "https://api.github.com/users/cvybhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/cvybhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cvybhu/subscriptions", "organizations_url": "https://api.github.com/users/cvybhu/orgs", "repos_url": "https://api.github.com/users/cvybhu/repos", "events_url": "https://api.github.com/users/cvybhu/events{/privacy}", "received_events_url": "https://api.github.com/users/cvybhu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-04T15:41:31Z", "updated_at": "2022-10-04T16:02:07Z", "closed_at": "2022-10-04T16:02:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/569", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/569", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/569.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/569.patch", "merged_at": "2022-10-04T16:02:07Z"}, "body": "The new code, and in particualr the fancy GAT workaroound, cause problems when trying to pass batch values by reference, as described in #568.\r\n\r\nFixes: #568\r\nUnfixes: #448\r\n\r\nThis reverts commit 24ee9545774291607f591e2a4ad2ba1bbe7ab96e.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/569/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/567", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/567/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/567/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/567/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/567", "id": 1396455718, "node_id": "PR_kwDOEj0F685AJQ64", "number": 567, "title": "Host filter", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-04T15:17:08Z", "updated_at": "2022-10-04T17:32:27Z", "closed_at": "2022-10-04T17:32:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/567", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/567", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/567.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/567.patch", "merged_at": "2022-10-04T17:32:27Z"}, "body": "This PR adds host filters. With host filters, it is possible to prevent some nodes from establishing connections to the cluster at all. For example, the set of nodes for which connections are allowed can be restricted to the local DC.\r\n\r\nTested manually with cql-stress and a 3 node cluster - applied an allowlist of nodes and observed in metrics that forbidden nodes do not have additional connections and do not receive any requests.\r\n\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/561\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/567/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/566", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/566/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/566/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/566/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/566", "id": 1396407617, "node_id": "PR_kwDOEj0F685AJGn_", "number": 566, "title": "session_builder: fixed doc example", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-04T14:45:24Z", "updated_at": "2022-10-04T16:15:52Z", "closed_at": "2022-10-04T16:13:09Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/566", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/566", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/566.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/566.patch", "merged_at": "2022-10-04T16:13:09Z"}, "body": "In `address_translator()`, fixed bad formatting and added port numbers to supplied addresses.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/566/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/565", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/565/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/565/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/565/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/565", "id": 1393562645, "node_id": "PR_kwDOEj0F684__xdq", "number": 565, "title": "Fix derives so that they work with generics", "user": {"login": "Ten0", "id": 9094255, "node_id": "MDQ6VXNlcjkwOTQyNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9094255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ten0", "html_url": "https://github.com/Ten0", "followers_url": "https://api.github.com/users/Ten0/followers", "following_url": "https://api.github.com/users/Ten0/following{/other_user}", "gists_url": "https://api.github.com/users/Ten0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ten0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ten0/subscriptions", "organizations_url": "https://api.github.com/users/Ten0/orgs", "repos_url": "https://api.github.com/users/Ten0/repos", "events_url": "https://api.github.com/users/Ten0/events{/privacy}", "received_events_url": "https://api.github.com/users/Ten0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-01T21:45:17Z", "updated_at": "2022-11-10T08:30:59Z", "closed_at": "2022-11-10T08:29:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/565", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/565", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/565.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/565.patch", "merged_at": "2022-11-10T08:29:37Z"}, "body": "Derives were written without using the dedicated [`item.generics.split_for_impl()`](https://docs.rs/syn/latest/syn/struct.Generics.html#method.split_for_impl) which resulted in them not working as soon as the struct contained generics. Notably, it was impossible to derive `ValueList` on a struct that contained an `&str`, forcing the user to reallocate.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/565/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/565/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/563", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/563/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/563/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/563/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/563", "id": 1392620665, "node_id": "PR_kwDOEj0F684_8qss", "number": 563, "title": "Change maintainer from psarna to cvybhu", "user": {"login": "cvybhu", "id": 36861778, "node_id": "MDQ6VXNlcjM2ODYxNzc4", "avatar_url": "https://avatars.githubusercontent.com/u/36861778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cvybhu", "html_url": "https://github.com/cvybhu", "followers_url": "https://api.github.com/users/cvybhu/followers", "following_url": "https://api.github.com/users/cvybhu/following{/other_user}", "gists_url": "https://api.github.com/users/cvybhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/cvybhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cvybhu/subscriptions", "organizations_url": "https://api.github.com/users/cvybhu/orgs", "repos_url": "https://api.github.com/users/cvybhu/repos", "events_url": "https://api.github.com/users/cvybhu/events{/privacy}", "received_events_url": "https://api.github.com/users/cvybhu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-30T15:35:21Z", "updated_at": "2022-09-30T16:00:22Z", "closed_at": "2022-09-30T16:00:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/563", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/563", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/563.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/563.patch", "merged_at": "2022-09-30T16:00:22Z"}, "body": "psarna doesn't work on this project anymore so I will be taking over his duties.", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/563/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/560", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/560/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/560/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/560/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/560", "id": 1389396386, "node_id": "PR_kwDOEj0F684_x9md", "number": 560, "title": "dc_aware_round_robin: Nodes in remote DCs optional", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-28T13:47:21Z", "updated_at": "2022-09-30T09:13:09Z", "closed_at": "2022-09-30T08:19:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/560", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/560", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/560.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/560.patch", "merged_at": "2022-09-30T08:19:22Z"}, "body": "The feature was already available in other drivers: we may want or may not want that the produces plan contain nodes from remote DCs at the end, as a fallback. Now configurable as constructor flag.\r\nFixes: #558 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/560/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/557", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/557/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/557/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/557/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/557", "id": 1385881075, "node_id": "PR_kwDOEj0F684_mMNV", "number": 557, "title": "transport/load_balancing: appease clippy", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-26T11:11:48Z", "updated_at": "2022-09-26T11:23:15Z", "closed_at": "2022-09-26T11:23:15Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/557", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/557", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/557.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/557.patch", "merged_at": "2022-09-26T11:23:15Z"}, "body": "The newest version of clippy complains that a lifetime can be elided in the `slice_rotated_left` function. This commit removes the explicit lifetime and lets rustc infer it automatically.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/557/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/556", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/556/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/556/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/556/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/556", "id": 1385828310, "node_id": "PR_kwDOEj0F684_mBrB", "number": 556, "title": "Fixes to remove warnings on docs build", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-09-26T10:32:27Z", "updated_at": "2022-09-27T12:06:37Z", "closed_at": "2022-09-27T10:14:15Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/556", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/556", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/556.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/556.patch", "merged_at": "2022-09-27T10:14:15Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] ~~I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~~I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/556/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/555", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/555/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/555/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/555/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/555", "id": 1381252126, "node_id": "PR_kwDOEj0F684_Xixs", "number": 555, "title": "batch: Replace BatchResult with QueryResult", "user": {"login": "cvybhu", "id": 36861778, "node_id": "MDQ6VXNlcjM2ODYxNzc4", "avatar_url": "https://avatars.githubusercontent.com/u/36861778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cvybhu", "html_url": "https://github.com/cvybhu", "followers_url": "https://api.github.com/users/cvybhu/followers", "following_url": "https://api.github.com/users/cvybhu/following{/other_user}", "gists_url": "https://api.github.com/users/cvybhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/cvybhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cvybhu/subscriptions", "organizations_url": "https://api.github.com/users/cvybhu/orgs", "repos_url": "https://api.github.com/users/cvybhu/repos", "events_url": "https://api.github.com/users/cvybhu/events{/privacy}", "received_events_url": "https://api.github.com/users/cvybhu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-21T17:15:50Z", "updated_at": "2022-09-26T16:49:03Z", "closed_at": "2022-09-26T16:49:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/555", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/555", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/555.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/555.patch", "merged_at": "2022-09-26T16:49:02Z"}, "body": "`BatchResult` is a struct used to represent the result of a batch query.\r\nThe difference between BatchResult and QueryResult is that BatchResult doesn't contain any rows. Batches only support INSERT and UPDATE statements, so it made sense to create a type with stricter constraints that could be used to represent this rowless result.\r\n\r\nIt turns out that in certain cases batches do return rows.\r\nFor batches with LWT queries, like this one:\r\n```\r\nBEGIN BATCH\r\nUPDATE ks.data set version = 1 WHERE key = 'x1a' and client = 0x01 IF version = 0;\r\nUPDATE ks.data set version = 1 WHERE key = 'x1b' and client = 0x01 IF version = 0;\r\nAPPLY BATCH;\r\n```\r\n\r\nThe database returns rows with information about the changes performed:\r\n```\r\n    [applied] | client | key | version\r\n-----------+--------+-----+---------\r\n        False |   0x01 | x1a |       1\r\n        False |   0x01 | x1b |       0\r\n```\r\n\r\nIt wasn't possible to access these rows because BatchResult had no rows, as described in #554.\r\n\r\nThe solution is to remove BatchResult and use QueryResult instead. Batch is now like any other query which might return rows.\r\n\r\nThere's one field of QueryResult that doesn't make sense for batches: `paging_state`, but we can ignore it.\r\nQueryResult has a ton of convenience methods that can be used to access the received rows, we would have to duplicate them all for BatchResult.\r\nI think we can have one useless field, this much duplication isn't worth it.\r\n\r\nAt first I thought that maybe we could just expose a list of `[applied]` bools, not rows, but this isn't enough.\r\nThere are other columns that tell us the values of columns involved in the LWT. This might be useful to some users, we can't just discard it.\r\n\r\nThis change brings us a step closer to implementing #100\r\n\r\nFixes: #554 \r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/555/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/555/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/551", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/551/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/551/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/551/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/551", "id": 1371202979, "node_id": "PR_kwDOEj0F684-2hEH", "number": 551, "title": "RELEASE.md: add a release procedure", "user": {"login": "psarna", "id": 10433047, "node_id": "MDQ6VXNlcjEwNDMzMDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/10433047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/psarna", "html_url": "https://github.com/psarna", "followers_url": "https://api.github.com/users/psarna/followers", "following_url": "https://api.github.com/users/psarna/following{/other_user}", "gists_url": "https://api.github.com/users/psarna/gists{/gist_id}", "starred_url": "https://api.github.com/users/psarna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/psarna/subscriptions", "organizations_url": "https://api.github.com/users/psarna/orgs", "repos_url": "https://api.github.com/users/psarna/repos", "events_url": "https://api.github.com/users/psarna/events{/privacy}", "received_events_url": "https://api.github.com/users/psarna/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-13T10:13:39Z", "updated_at": "2023-10-12T13:34:24Z", "closed_at": "2022-09-13T11:28:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/551", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/551", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/551.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/551.patch", "merged_at": "2022-09-13T11:28:00Z"}, "body": "Only useful for project maintainers, but nonetheless important enough to land in the repository.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/551/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/549", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/549/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/549/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/549/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/549", "id": 1367755933, "node_id": "PR_kwDOEj0F684-rNRF", "number": 549, "title": "Add support for rate limit exceeded exception", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-09-09T12:24:45Z", "updated_at": "2022-09-14T06:51:46Z", "closed_at": "2022-09-14T06:51:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/549", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/549", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/549.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/549.patch", "merged_at": "2022-09-14T06:51:46Z"}, "body": "This PR adds support for a new Scylla-specific type of error returned from the database: RateLimitExceeded. It was introduced as a part of the _per-partition rate limit_ feature, upcoming in Scylla 5.1 (PR in Scylla: https://github.com/scylladb/scylladb/pull/9810). The RateLimitExceeded error is sent when Scylla detects that the per-partition rate limit is exceeded.\r\n\r\nIn order for Scylla to be able to send this error, the driver must tell the database during connection handshake that it is able to interpret it (otherwise Scylla falls back to the Config_error error). This PR adds support for Scylla-specific protocol extensions, negotiates the `SCYLLA_RATE_LIMIT_ERROR` during handshake and adds support for the RateLimitExceeded error deserialization.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/549/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/549/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/548", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/548/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/548/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/548/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/548", "id": 1367709058, "node_id": "PR_kwDOEj0F684-rDNm", "number": 548, "title": "connection: simplify router spawning logic", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-09T11:42:40Z", "updated_at": "2022-09-09T16:51:46Z", "closed_at": "2022-09-09T16:51:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/548", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/548", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/548.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/548.patch", "merged_at": "2022-09-09T16:51:46Z"}, "body": "Instead of having separate functions for spawning connection router that get compiled or not depending on whether SSL support is enabled, now there is only one function which has a code block that gets conditionally compiled if SSL support is enabled. The resulting code is slightly shorter and simpler.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/548/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/547", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/547/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/547/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/547/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/547", "id": 1367667947, "node_id": "PR_kwDOEj0F684-q6ej", "number": 547, "title": "connection: add another attempt of request coalescing", "user": {"login": "psarna", "id": 10433047, "node_id": "MDQ6VXNlcjEwNDMzMDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/10433047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/psarna", "html_url": "https://github.com/psarna", "followers_url": "https://api.github.com/users/psarna/followers", "following_url": "https://api.github.com/users/psarna/following{/other_user}", "gists_url": "https://api.github.com/users/psarna/gists{/gist_id}", "starred_url": "https://api.github.com/users/psarna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/psarna/subscriptions", "organizations_url": "https://api.github.com/users/psarna/orgs", "repos_url": "https://api.github.com/users/psarna/repos", "events_url": "https://api.github.com/users/psarna/events{/privacy}", "received_events_url": "https://api.github.com/users/psarna/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-09T11:05:35Z", "updated_at": "2023-10-12T13:34:24Z", "closed_at": "2022-09-09T11:44:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/547", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/547", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/547.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/547.patch", "merged_at": "2022-09-09T11:44:32Z"}, "body": "Our router machinery is already capable of coalescing outgoing requests if multiple requests can be found in the queue. However, empirical evidence shows that it's beneficial to wait a short period of time (1ms, the best granularity tokio::time::sleep can handle at the time of this writing, is too much, so a sleep is simulated with yielding back to Tokio), thus sacrificing a small fraction of latency, in order to allow the queue to fill if we see that the receiver is actually empty. That translates to coalescing many more requests, which in turn means reducing the number of write operations, ergo less syscalls and sending fewer, but larger network packets.\r\n\r\nBelow are rudimentary tests results, based on a modified parallel-prepared example and ran with `time ( RUST_LOG=warn cargo run --release --example parallel-prepared | grep -c Sending )`. The scenario sent 1 million requests to the database.\r\n\r\n1. a local test on a single-node ScyllaDB; loopback has extremely low latency, as it doesn't rely on actual network communication.\r\n\r\nPre-patch:\r\n```\r\n356473 buffer flushes (write operations)\r\n\r\nreal\t0m17.040s\r\nuser\t0m30.343s\r\nsys\t0m12.439s\r\n```\r\n\r\nPost-patch:\r\n```\r\n283808 buffer flushes (write operations)\r\n\r\nreal\t0m16.404s\r\nuser\t0m27.567s\r\nsys\t0m14.521s\r\n```\r\n\r\nVerdict: the patch negligibly reduces execution time and reasonably (25%) reduces the number of write ops. Looks like there are no downsides locally.\r\n\r\n2. a test on remote Cassandra; for completeness, I was curious how it works out\r\n\r\nPre-patch:\r\n```\r\n146264 buffer flushes (write operations)\r\n\r\nreal\t0m4.729s\r\nuser\t0m27.692s\r\nsys\t0m13.999s\r\n```\r\nPost patch:\r\n```\r\n53990 buffer flushes (write operations)\r\n\r\nreal\t0m4.636s\r\nuser\t0m26.571s\r\nsys\t0m9.383s\r\n```\r\n\r\nVerdict: execution time stays stable,  sys time is improved significantly (30%), 3x less buffer flushes achieved. Looks good.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/547/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/545", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/545/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/545/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/545/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/545", "id": 1363585595, "node_id": "PR_kwDOEj0F684-dJGI", "number": 545, "title": "Session: refresh metadata on schema change ", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-06T17:08:15Z", "updated_at": "2022-09-09T11:29:36Z", "closed_at": "2022-09-09T11:29:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/545", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/545", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/545.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/545.patch", "merged_at": "2022-09-09T11:29:36Z"}, "body": "Fixes: #544 \r\n\r\nAdded refreshing schema metadata after reaching schema agreement after a\r\nschema-changing query.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/545/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/542", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/542/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/542/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/542/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/542", "id": 1361469033, "node_id": "PR_kwDOEj0F684-WCmd", "number": 542, "title": "Documented client timeouts", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-09-05T06:36:13Z", "updated_at": "2022-09-06T12:55:33Z", "closed_at": "2022-09-06T10:05:47Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/542", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/542", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/542.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/542.patch", "merged_at": "2022-09-06T10:05:47Z"}, "body": "Added client timeouts related information to the book, along with an example.\r\nFixes: #530\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/542/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/542/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/541", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/541/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/541/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/541/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/541", "id": 1357578114, "node_id": "PR_kwDOEj0F684-JOcJ", "number": 541, "title": "Add separate struct for view metadata to store more info", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-31T16:24:29Z", "updated_at": "2022-09-02T10:16:15Z", "closed_at": "2022-09-02T10:16:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/541", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/541", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/541.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/541.patch", "merged_at": "2022-09-02T10:16:15Z"}, "body": "Added MaterlizedView struct to store base table name for a view.\r\nThis will allow to find all materialized views for a given table name, or find the base table metadata for a certain view.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/541/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/541/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]