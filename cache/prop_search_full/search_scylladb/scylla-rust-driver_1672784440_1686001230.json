[{"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/735", "id": 1736691428, "node_id": "PR_kwDOEj0F685R7AkU", "number": 735, "title": "connection: Add configurable TCP keepalives", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-01T16:28:05Z", "updated_at": "2023-07-24T09:56:43Z", "closed_at": "2023-06-05T13:47:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/735", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/735", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/735.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/735.patch", "merged_at": "2023-06-05T13:47:19Z"}, "body": "Similarly to other drivers, support for TCP-layer keepalives is added. This is possible, because tokio::net::TcpStream finally implements `AsFd`. This enables creating `socket2::SockRef`, which in turn allows for configuring the underlying socket.\r\nFixes: #132 \r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/735/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/731", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/731/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/731/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/731/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/731", "id": 1728107111, "node_id": "PR_kwDOEj0F685Rd2YR", "number": 731, "title": "Close connections on no response to keepalives ", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-05-26T19:05:36Z", "updated_at": "2023-07-24T09:56:44Z", "closed_at": "2023-06-05T16:03:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/731", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/731", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/731.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/731.patch", "merged_at": "2023-06-05T16:03:48Z"}, "body": "This PR aims to add a feature that has been supported in other drivers: closing connections when not receiving responses to keepalives. To do so:\r\n- `SessionBuilder`, `SessionConfig` and `ConnectionConfig` get new parameter: `keepalive_timeout`,\r\n- `Keepaliver` is refactored so that it no longer resides in the connection pool layer, but...\r\n- ...it is moved into `Connection` layer, more specifically into `router`. This enables clean closing connection when the keepalive timeout elapses without receiving a response,\r\n- a test is added for the new feature.\r\n\r\nFixes: #718\r\n\r\n## Pre-review checklist\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/731/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/730", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/730/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/730/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/730/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/730", "id": 1727933675, "node_id": "PR_kwDOEj0F685RdQm7", "number": 730, "title": "Integration tests single binary", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 0, "created_at": "2023-05-26T16:41:27Z", "updated_at": "2023-06-07T09:41:50Z", "closed_at": "2023-05-31T07:08:42Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/730", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/730", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/730.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/730.patch", "merged_at": "2023-05-31T07:08:42Z"}, "body": "Refactor of integration tests into single binary.\r\n\r\nThis, according to https://matklad.github.io/2021/02/27/delete-cargo-integration-tests leads to faster compilation, integration tests run paralelly and smaller artifacts size.\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/730/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/729", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/729/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/729/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/729/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/729", "id": 1725829687, "node_id": "PR_kwDOEj0F685RWHHV", "number": 729, "title": "exec_profile: Default to SerialConsistency::LocalSerial", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 0, "created_at": "2023-05-25T13:26:04Z", "updated_at": "2024-03-05T13:05:34Z", "closed_at": "2023-06-02T05:18:59Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/729", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/729", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/729.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/729.patch", "merged_at": "2023-06-02T05:18:59Z"}, "body": "Contrary to what is stated in documentation, the default SerialConsistency was None, which resulted in SerialConsistency not being set in the CQL frames. This led to ProtocolError in case of LWT statements. As it is better to always include SerialConsistency (even for statements for which it is not relevant), the previous default is reverted.\r\n\r\nRef: https://github.com/scylladb/scylla-enterprise/issues/2970\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[] I added relevant tests for new features and bug fixes.~~\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/729/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/725", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/725/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/725/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/725/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/725", "id": 1719638550, "node_id": "PR_kwDOEj0F685RA8l_", "number": 725, "title": "connection: make it possible to switch off write coalescing", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-05-22T12:58:10Z", "updated_at": "2023-06-05T15:29:56Z", "closed_at": "2023-06-05T15:29:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/725", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/725", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/725.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/725.patch", "merged_at": "2023-06-05T15:29:56Z"}, "body": "Each connection is managed by a tokio task that reads from and writes to a single socket. The task (called internally as \"router\") polls, amongst others, a future that collects write requests from a channel and pushes them to the socket. It currently has a heuristic that is meant to be a throughput optimization: if there are no more write requests on the channel, the future yields, hoping to give an opportunity for more write requests to arrive on the channel. This improves efficiency as it allows more requests to be batched together into a single write and reduces the number of syscalls issued.\r\n\r\nThe described optimization was implemented in:\r\ne1c0b6f3b48eac2f60c043c05fc0b806189788c4\r\n\r\nHowever, this optimization obviously can cause worse latency in some scenarios. For example, if there aren't many requests being issued but the application otherwise runs lots of unrelated tokio tasks, then a yielded task can be rescheduled again only after a significant delay. If the request rate is low enough then batching won't ever bring any benefit but will only make the latency worse.\r\n\r\nIn order to help in those scenarios, this commit adds a flag that allows turning off the write coalescing optimization. Write coalescing is kept turned on by default, but it can be easily disabled when constructing a new session.\r\n\r\nResults of a test with modified cql-stress that runs 100 tasks which spin for 0.25ms and then yield, in a loop (https://github.com/piodul/cql-stress/commit/f20050e3a3514af20f431e0c4c187cd254500fbd):\r\n\r\n```\r\ncargo run --release --bin cql-stress-scylla-bench -- -max-rate 10000 -mode write -workload uniform -partition-count 128 -concurrency 16 -nodes 127.0.0.1 -duration 10s -noise-task-count 100 -noise-task-hog-duration 250us\r\n```\r\n\r\nWith the coalescing optimization _enabled_:\r\n\r\n```\r\n  99h:          11.5ms\r\n  95h:          7.21ms\r\n  90h:          6.25ms\r\n  median:       3.74ms\r\n  mean:         4.11ms\r\n```\r\n\r\nWith the coalescing optimization _disabled_:\r\n\r\n```\r\n  99h:          6.24ms\r\n  95h:          4.89ms\r\n  90h:          4.25ms\r\n  median:       2.32ms\r\n  mean:         2.44ms\r\n```\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] ~I have adjusted the documentation in `./docs/source/`.~\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/725/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/725/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/723", "id": 1704738730, "node_id": "PR_kwDOEj0F685QPGOD", "number": 723, "title": "Fixes chrono vulnerability caused by time dependency", "user": {"login": "sagoez", "id": 39674930, "node_id": "MDQ6VXNlcjM5Njc0OTMw", "avatar_url": "https://avatars.githubusercontent.com/u/39674930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sagoez", "html_url": "https://github.com/sagoez", "followers_url": "https://api.github.com/users/sagoez/followers", "following_url": "https://api.github.com/users/sagoez/following{/other_user}", "gists_url": "https://api.github.com/users/sagoez/gists{/gist_id}", "starred_url": "https://api.github.com/users/sagoez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sagoez/subscriptions", "organizations_url": "https://api.github.com/users/sagoez/orgs", "repos_url": "https://api.github.com/users/sagoez/repos", "events_url": "https://api.github.com/users/sagoez/events{/privacy}", "received_events_url": "https://api.github.com/users/sagoez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-05-10T23:12:52Z", "updated_at": "2023-05-11T16:04:16Z", "closed_at": "2023-05-11T16:04:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/723", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/723", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/723.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/723.patch", "merged_at": "2023-05-11T16:04:15Z"}, "body": "Fixes #722 \r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/723/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/719", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/719/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/719/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/719/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/719", "id": 1702243813, "node_id": "PR_kwDOEj0F685QGuYv", "number": 719, "title": "CI: add RUST_BACKTRACE=full env variable to the workflows", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 1, "created_at": "2023-05-09T15:10:30Z", "updated_at": "2023-06-07T09:41:45Z", "closed_at": "2023-05-12T14:04:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/719", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/719", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/719.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/719.patch", "merged_at": "2023-05-12T14:04:41Z"}, "body": "Currently, if a test panics in CI, a panic message will be printed which does not contain too much of the context. For example:\r\n\r\n    thread 'transport::session_test::test_tracing' panicked at 'No rows for tracing with this session id!', scylla/src/transport/session_test.rs:1093:5\r\n\r\nFrom this information, it's not always possible to learn much about the issue. In this particular case, the `test_tracing` case calls the function which panicked from multiple places and it's impossible to tell which place has this problem specifically.\r\n\r\nTo help with debugging such issues, this commit modifies the workflow definitions to set the `RUST_BACKTRACE` environment variable. This will make sure that the panic will print a full backtrace from the place where this panic originated from, which should help narrow down the code path that failed.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [?] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I have provided docstrings for the public items that I want to introduce.~\r\n- [ ] ~I have adjusted the documentation in `./docs/source/`.~\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/719/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/719/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/717", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/717/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/717/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/717/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/717", "id": 1687087847, "node_id": "PR_kwDOEj0F685PT0Gc", "number": 717, "title": "LWT routing optimisation: plan contains replicas in ring order", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4712022841, "node_id": "LA_kwDOEj0F688AAAABGNvDOQ", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/performance", "name": "performance", "color": "1D76DB", "default": false, "description": "Improves performance of existing features"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 5, "created_at": "2023-04-27T15:27:47Z", "updated_at": "2024-03-05T13:05:36Z", "closed_at": "2023-05-31T10:20:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/717", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/717", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/717.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/717.patch", "merged_at": "2023-05-31T10:20:38Z"}, "body": "While routing statements that are confirmed LWTs, replicas are never shuffled but instead attempted in the ring order. This is done according to https://github.com/scylladb/gocql/issues/40.\r\n\r\n### `ReplicaSet` currently\r\nIn case of Network Topology Strategy, the replica iterator we obtain from the `ReplicaLocator` (`ReplicaSetIterator`) does not yield replicas in the ring order.\r\n\r\n### Meet `ReplicasOrdered`\r\nTo support that, `ReplicasOrdered` struct is added and constructible from `ReplicaSet`. It is also convertible into `ReplicasOrderedIterator`, which does yield replicas in the ring order.\r\n\r\n### Costs incurred\r\nThe first call to `next()` on `ReplicasOrderedIterator` is cheap, because the primary replica can be computed cheaply, and this suits the `pick()` method.\r\nThe second call to `next()` is expensive, because all the replicas are materialised in a vector (there is no cheap way to compute the second replica and so on). All subsequent calls are cheap (because replicas are already computed). This suits the `fallback()` method expected high cost. Because of this characteristic, a semantic change was done to `Plan` (and `LoadBalancingPolicy`, as result).\r\n\r\n### Plan semantics change\r\nBefore, `pick()` could return `None` and this signified that the plan is empty, so `fallback()` was not even called in such case.\r\nNow, `pick()` can return `None` and this signifies that _the first node cannot be computed **cheaply**_. `fallback()` is called even then, for it is still possible to compute the first node (and the others) more expensively.\r\n\r\n### Taken approach\r\nIf the first replica computed by `pick()` is believed to be down, then `pick()` doesn't attempt to compute any more replicas, but returns `None`. Then, `fallback()` is called and computes all remaining replicas at once.\r\nThanks to that, `pick()` remains cheap.\r\n\r\nFixes: #672 \r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/717/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/716", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/716/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/716/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/716/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/716", "id": 1684442570, "node_id": "PR_kwDOEj0F685PK4Wk", "number": 716, "title": "examples: logging: removed obsolete comment", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 2, "created_at": "2023-04-26T07:32:28Z", "updated_at": "2023-06-07T09:41:35Z", "closed_at": "2023-05-04T10:10:10Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/716", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/716", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/716.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/716.patch", "merged_at": "2023-05-04T10:10:10Z"}, "body": "The executed request no longer produces any warnings. This was changed in 2af7800c: `session: improve use keyspace queries detection`, since when `USE KEYSPACE ` statement is no longer parsed by the driver. As since then the parsing is delegated to the database (and therefore considered stable), the warning about sending raw `USE KEYSPACE` being experimental is no longer relevant.\r\nFixes: #589 \r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- ~~[ ] I have split my patch into logically separate commits.~~\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/716/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/715", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/715/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/715/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/715/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/715", "id": 1684427023, "node_id": "PR_kwDOEj0F685PK1Dx", "number": 715, "title": "docs: Updated scylla dep version", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 0, "created_at": "2023-04-26T07:20:42Z", "updated_at": "2023-04-27T12:45:28Z", "closed_at": "2023-04-27T12:45:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/715", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/715", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/715.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/715.patch", "merged_at": "2023-04-27T12:45:24Z"}, "body": "Fixes: #706\r\nFixes: #670 \r\n\r\n## Pre-review checklist\r\n\r\n- ~~[ ] I have split my patch into logically separate commits.~~\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/715/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/715/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/714", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/714/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/714/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/714/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/714", "id": 1683777582, "node_id": "PR_kwDOEj0F685PIrdL", "number": 714, "title": "latency_awareness: Combat tests flakiness by not relying on timing", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 1, "created_at": "2023-04-25T19:59:21Z", "updated_at": "2023-07-24T09:57:05Z", "closed_at": "2023-05-09T16:51:35Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/714", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/714", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/714.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/714.patch", "merged_at": "2023-05-09T16:51:35Z"}, "body": "The test bearing an undeniably attractive name: `latency_aware_default_policy_stops_penalising_after_min_average_increases_enough_only_after_update_rate_elapses` has shown to be flaky. I suspect it is due to the fact that it relies on timing to be valid, and execution in CI is often extremely slow. The problem, most probably, lies in minimum average updates done periodically: the test code assumes that an update has not yet been triggered at some point, which in CI happens to not be true.\r\nTo combat that:\r\n- min avg update logic is extracted into `MinAvgUpdater` struct\r\n- it is made configurable upon LA creation whether updates are to be scheduled to be periodically issued (as before, used in real cases) _or_ triggered manually by calls on `MinAvgUpdater`, \r\n- the affected tests (those that have relied on timing) are changed to use the `MinAvgUpdater` explicitly instead of scheduling periodic updates. This prevents flakiness.\r\n\r\nFixes: #710 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/714/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/712", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/712/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/712/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/712/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/712", "id": 1682816478, "node_id": "PR_kwDOEj0F685PFb0j", "number": 712, "title": "docs/batch: clarify the wording around what can be put in batches", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/5", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/5/labels", "id": 9310784, "node_id": "MI_kwDOEj0F684AjhJA", "number": 5, "title": "0.8.2", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2023-04-21T07:56:54Z", "updated_at": "2023-06-07T09:41:50Z", "due_on": null, "closed_at": "2023-06-06T17:13:33Z"}, "comments": 0, "created_at": "2023-04-25T09:43:46Z", "updated_at": "2023-06-07T09:41:30Z", "closed_at": "2023-04-28T07:03:37Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/712", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/712", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/712.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/712.patch", "merged_at": "2023-04-28T07:03:37Z"}, "body": "This commit clarifies the doc page about batches and performs two changes:\r\n\r\n- Occurrences of \"query\" have been changed to \"statement\". Batches do not support putting queries into them, only data-modifying statements. The driver documentation interchangeably uses \"query\" and \"statement\" which is not really correct but is especially confusing in this page.\r\n- The first paragraph now also lists `DELETE` as a possible operation for batch in addition to `INSERT` and `UPDATE`.\r\n\r\nAs a bonus, a single backslash that was unnecessarily rendered at the end of a line was removed.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] ~I have split my patch into logically separate commits.~\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I have provided docstrings for the public items that I want to introduce.~\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/712/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/708", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/708/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/708/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/708/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/708", "id": 1678731759, "node_id": "PR_kwDOEj0F685O35bd", "number": 708, "title": "session_test: fix flakiness due to slow Cassandra tracing", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-21T15:47:25Z", "updated_at": "2023-04-21T16:01:43Z", "closed_at": "2023-04-21T16:01:43Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/708", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/708", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/708.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/708.patch", "merged_at": "2023-04-21T16:01:43Z"}, "body": "The driver's default configuration for fetching traces from the DB is quite unforgiving. After the query finishes, it tries 5 times to fetch tracing information, waiting 3ms between each attempt. This is too fast for Cassandra in CI and the `test_token_awareness` fails due to that.\r\n\r\nThis commit modifies the test so that it uses a much more relaxed configuration: 50 attempts with 200ms sleeps in between. As a long term solution, we should consider changing the default parameters.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I have provided docstrings for the public items that I want to introduce.~\r\n- [ ] ~I have adjusted the documentation in `./docs/source/`.~\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/708/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/707", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/707/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/707/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/707/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/707", "id": 1678177758, "node_id": "PR_kwDOEj0F685O2CHm", "number": 707, "title": "statement/transport: re-add per-statement setters for retry policy", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-21T09:09:09Z", "updated_at": "2023-04-21T15:09:11Z", "closed_at": "2023-04-21T15:09:10Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/707", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/707", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/707.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/707.patch", "merged_at": "2023-04-21T15:09:10Z"}, "body": "The `set_retry_policy` and `get_retry_policy` methods of `Query`, `PreparedStatement` and `Batch` were removed #592, but are re-added here due to user request and because they will be useful for cpp-rust-driver.\r\n\r\nOne important difference with the old `{set,get}_retry_policy` is that the new methods take and `Arc<dyn RetryPolicy>` instead of `Box<dyn RetryPolicy>`. This was done in order not to introduce additional allocations when a query/statement/batch is cloned.\r\n\r\nThe retry_policy field was added directly to\r\n`Batch`/`Query`/`PreparedStatement` instead of `StatementConfig`. Unfortunately, `StatementConfig` is public along with all of its fields, so adding more fields to it will be a breaking change. This should be fixed during/after #701.\r\n\r\nFixes: #692\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/707/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/705", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/705/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/705/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/705/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/705", "id": 1676729526, "node_id": "PR_kwDOEj0F685OxLAo", "number": 705, "title": "session_builder: known_nodes accept IntoIterator", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-20T13:28:06Z", "updated_at": "2023-05-04T08:54:08Z", "closed_at": "2023-04-28T07:12:02Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/705", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/705", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/705.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/705.patch", "merged_at": "2023-04-28T07:12:02Z"}, "body": "There is no reason why not accept arbitrary `impl IntoIterator` in `SessionBuilder::[known_nodes(), known_nodes_addr()]`. It will also save an allocation in bindings.\r\n\r\nThis is an API mere _extension_, so it can be considered as **non**-API-breaking.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/705/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/704", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/704/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/704/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/704/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/704", "id": 1676606965, "node_id": "PR_kwDOEj0F685OwwrR", "number": 704, "title": "proxy: Add forged_ready()", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-20T12:16:53Z", "updated_at": "2023-04-26T12:29:42Z", "closed_at": "2023-04-20T16:01:05Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/704", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/704", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/704.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/704.patch", "merged_at": "2023-04-20T16:01:05Z"}, "body": "This is a tiny feature addition to proxy, useful in tests. Currently needed for execution profiles testing in bindings.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/704/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/700", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/700/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/700/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/700/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/700", "id": 1668131991, "node_id": "PR_kwDOEj0F685OUion", "number": 700, "title": "iterator: make token awareness work again with execute_iter", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-14T12:06:20Z", "updated_at": "2023-04-20T09:25:56Z", "closed_at": "2023-04-20T09:25:55Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/700", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/700", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/700.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/700.patch", "merged_at": "2023-04-20T09:25:55Z"}, "body": "Due to an oversight, when the RowIterator asks the load balancing policy to calculate the plan (sequence of nodes that will be tried), it passes a RoutingInfo structure without providing the keyspace relevant to the query. The old token aware policy used to fall back to SimpleStrategy and rf=1, which could provide an illusion of token-aware routing. However, the new default load balancing policy will, in the case described above, treat this as if no routing information is available and will choose a random node.\r\n\r\nThis commit fixes the simple issue and adds a test which verifies that token awareness works both in case of `execute` and `execute_iter`.\r\n\r\nFixes: #699\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I have provided docstrings for the public items that I want to introduce~.\r\n- [ ] ~I have adjusted the documentation in `./docs/source/`~.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/700/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/697", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/697/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/697/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/697/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/697", "id": 1664784394, "node_id": "PR_kwDOEj0F685OJVfC", "number": 697, "title": "default_policy: Fix deadlock on LatencyAwareness used", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2443370607, "node_id": "MDU6TGFiZWwyNDQzMzcwNjA3", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-12T15:26:44Z", "updated_at": "2023-04-13T13:02:45Z", "closed_at": "2023-04-13T12:47:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/697", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/697", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/697.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/697.patch", "merged_at": "2023-04-13T12:47:46Z"}, "body": "Described in #696.\r\nRust, unfortunately, makes lock guards taken on right side of `if let` expression live for else branch duration, too. This results in taking write lock while holding read lock.\r\n\r\nIn order to compile, I had to hint the `usize` type in one unrelated place, hence that change.\r\n\r\nAdded a regression test for the issue.\r\n\r\nFixes: #696\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I have provided docstrings for the public items that I want to introduce.~~\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/697/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/694", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/694/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/694/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/694/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/694", "id": 1662152960, "node_id": "PR_kwDOEj0F685OAZTo", "number": 694, "title": "Serverless tests", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-11T10:03:39Z", "updated_at": "2023-04-21T13:38:12Z", "closed_at": "2023-04-21T13:38:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/694", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/694", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/694.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/694.patch", "merged_at": "2023-04-21T13:38:12Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n\r\nThis PR adjusts session tests to run with a serverless cluster in CI. As a serverless cluster requires a different Session setup, a generic way of session builder creation is added that creates a `CloudSessionBuilder` if the \"cloud\" feature is enabled for session tests.\r\nFixes #688 \r\n\r\nEDIT:\r\nModified CI workflows to run cloud tests separately, as examples required the \"cloud\" feature to be enabled, `cargo test` run session tests for serverless mode.", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/694/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/693", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/693/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/693/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/693/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/693", "id": 1659168174, "node_id": "PR_kwDOEj0F685N2zJk", "number": 693, "title": "Add serialize/deserialize support for [u8; N]", "user": {"login": "siningma", "id": 2812144, "node_id": "MDQ6VXNlcjI4MTIxNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2812144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siningma", "html_url": "https://github.com/siningma", "followers_url": "https://api.github.com/users/siningma/followers", "following_url": "https://api.github.com/users/siningma/following{/other_user}", "gists_url": "https://api.github.com/users/siningma/gists{/gist_id}", "starred_url": "https://api.github.com/users/siningma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siningma/subscriptions", "organizations_url": "https://api.github.com/users/siningma/orgs", "repos_url": "https://api.github.com/users/siningma/repos", "events_url": "https://api.github.com/users/siningma/events{/privacy}", "received_events_url": "https://api.github.com/users/siningma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-07T20:35:58Z", "updated_at": "2023-04-11T11:18:58Z", "closed_at": "2023-04-11T11:18:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/693", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/693", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/693.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/693.patch", "merged_at": "2023-04-11T11:18:58Z"}, "body": "Right now the driver supports Vec<u8>. This PR adds serialize/deserialize support for [u8; N]\r\n\r\n@piodul for review\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/693/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/690", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/690/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/690/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/690/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/690", "id": 1652405763, "node_id": "PR_kwDOEj0F685NggYm", "number": 690, "title": "Execution profiles API extensions", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 0, "created_at": "2023-04-03T16:36:34Z", "updated_at": "2023-04-26T12:29:41Z", "closed_at": "2023-04-10T17:25:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/690", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/690", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/690.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/690.patch", "merged_at": "2023-04-10T17:25:57Z"}, "body": "In order to implement execution profiles in Cpp-Rust-driver project, the public API of execution profiles needs to be extended. To sum up, this PR:\r\n- derives `Clone` and `Default` for `ExecutionProfileBuilder`,\r\n- reexports `ExecutionProfile` directly from crate root instead of `transport::` - this is just for user convenience and it is similarly done with policies etc.,\r\n- makes `Session::get_default_execution_profile_handle()` public,\r\n- adds `ExecutionProfileHandle::pointee_to_builder()`, which creates a builder with configuration equivalent to one of the profile pointed by provided handle.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I have provided docstrings for the public items that I want to introduce.\r\n- ~~[ ] I have adjusted the documentation in `./docs/source/`.~~\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/690/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/689", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/689/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/689/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/689/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/689", "id": 1651778781, "node_id": "PR_kwDOEj0F685NeYgk", "number": 689, "title": "Serverless ci", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-03T10:21:15Z", "updated_at": "2023-04-04T09:58:36Z", "closed_at": "2023-04-04T09:58:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/689", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/689", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/689.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/689.patch", "merged_at": "2023-04-04T09:58:36Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n\r\nThis PR adds a test workflow to CI for a serverless cluster. For now, only the `examples/cloud` example is added to test serverless support, but the existing tests will be adjusted to be run with a serverless cluster, see #688.\r\n\r\nFixes #687", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/689/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/686", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/686/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/686/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/686/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/686", "id": 1648450132, "node_id": "PR_kwDOEj0F685NTiXw", "number": 686, "title": "Handle errors that occur during handshake", "user": {"login": "rukai", "id": 5120858, "node_id": "MDQ6VXNlcjUxMjA4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5120858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rukai", "html_url": "https://github.com/rukai", "followers_url": "https://api.github.com/users/rukai/followers", "following_url": "https://api.github.com/users/rukai/following{/other_user}", "gists_url": "https://api.github.com/users/rukai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rukai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rukai/subscriptions", "organizations_url": "https://api.github.com/users/rukai/orgs", "repos_url": "https://api.github.com/users/rukai/repos", "events_url": "https://api.github.com/users/rukai/events{/privacy}", "received_events_url": "https://api.github.com/users/rukai/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/3", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/3/labels", "id": 9196161, "node_id": "MI_kwDOEj0F684AjFKB", "number": 3, "title": "1.0.0", "description": "", "creator": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2023-03-23T10:47:53Z", "updated_at": "2025-03-25T13:55:49Z", "due_on": "2025-02-15T00:00:00Z", "closed_at": "2025-03-06T10:28:21Z"}, "comments": 0, "created_at": "2023-03-30T23:24:00Z", "updated_at": "2023-04-02T12:46:32Z", "closed_at": "2023-03-31T08:29:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/686", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/686", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/686.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/686.patch", "merged_at": "2023-03-31T08:29:36Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [ ] I have adjusted the documentation in `./docs/source/`.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n\r\n\r\nThis allows users to see the errors that occurred during the handshake, previously the user just gets a generic `Wrong response to OPTIONS message was received`\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/686/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/686/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/685", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/685/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/685/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/685/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/685", "id": 1644504262, "node_id": "PR_kwDOEj0F685NGR_G", "number": 685, "title": "Docs: Add serverless cluster connect code example", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-28T18:57:40Z", "updated_at": "2023-04-03T08:54:26Z", "closed_at": "2023-04-03T08:54:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/685", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/685", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/685.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/685.patch", "merged_at": "2023-04-03T08:54:26Z"}, "body": "Fixes #677\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I have provided docstrings for the public items that I want to introduce.\r\n- [x] I have adjusted the documentation in `./docs/source/`.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/685/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/684", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/684/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/684/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/684/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/684", "id": 1643587785, "node_id": "PR_kwDOEj0F685NDL0-", "number": 684, "title": "docs: don't strip Rust attributes", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-28T09:50:36Z", "updated_at": "2023-03-28T12:35:13Z", "closed_at": "2023-03-28T12:35:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/684", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/684", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/684.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/684.patch", "merged_at": "2023-03-28T12:35:13Z"}, "body": "The `prepare_sphinx_source.py` script goes over snippets of Rust code in the docs and removes the lines that start with a pound sign (#). This is done to simulate the mdbook behavior: the snippets are supposed to be valid Rust code that compiles, however making them compile may require adding some boilerplate lines of code that shouldn't be displayed in the final documentation. Sphinx, used to generate the official documentation, doesn't understand that so we need a script to pre-process.\r\n\r\nHowever, the current behavior of the script is not entirely correct. Not every line that starts with a pound sign should be removed - for example, `derive` attributes like this are currently stripped but shouldn't:\r\n\r\n    #[derive(Debug)]\r\n    struct Foo {\r\n        bar: i32,\r\n    }\r\n\r\nIn order to fix this, the code is adjusted to strip lines that start with the '# ' string (pound sign followed by a space). This is what the `rustdoc` tool actually does (and `mdbook`, too). This results in correctly pre-processed snippets of code in the documentation generated by sphinx.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/684/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/683", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/683/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/683/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/683/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/683", "id": 1643502315, "node_id": "PR_kwDOEj0F685NC5ZU", "number": 683, "title": "Docs update theme 1.4", "user": {"login": "dgarcia360", "id": 9107969, "node_id": "MDQ6VXNlcjkxMDc5Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/9107969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgarcia360", "html_url": "https://github.com/dgarcia360", "followers_url": "https://api.github.com/users/dgarcia360/followers", "following_url": "https://api.github.com/users/dgarcia360/following{/other_user}", "gists_url": "https://api.github.com/users/dgarcia360/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgarcia360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgarcia360/subscriptions", "organizations_url": "https://api.github.com/users/dgarcia360/orgs", "repos_url": "https://api.github.com/users/dgarcia360/repos", "events_url": "https://api.github.com/users/dgarcia360/events{/privacy}", "received_events_url": "https://api.github.com/users/dgarcia360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-28T08:59:14Z", "updated_at": "2023-03-28T13:50:20Z", "closed_at": "2023-03-28T13:27:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/683", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/683", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/683.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/683.patch", "merged_at": "2023-03-28T13:27:26Z"}, "body": "Related issue https://github.com/scylladb/sphinx-scylladb-theme/issues/707\r\n\r\nScyllaDB Sphinx Theme 1.4 is now released \ud83e\udd73 \r\n\r\nYou can read more about all notable changes [here](https://sphinx-theme.scylladb.com/master/upgrade/CHANGELOG.html#march-2023).\r\n\r\n## How to test this PR\r\n\r\n1. Clone this PR. For more information, see [Cloning pull requests locally](https://docs.github.com/en/github/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally).\r\n\r\n2. Enter the docs folder, and run:\r\n\r\n  ```\r\n  make preview\r\n  ````\r\n\r\n3. Open http://localhost:5500 with your favorite browser. The doc should render without errors, and the version should be Sphinx Theme version (see the footer) must be ``1.4.x``:\r\n\r\n![image](https://user-images.githubusercontent.com/9107969/224791653-701bcc8e-98ef-4998-999f-d03459169850.png)\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/683/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/682", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/682/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/682/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/682/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/682", "id": 1641529118, "node_id": "PR_kwDOEj0F685M8S0B", "number": 682, "title": "pull_request_template.md: add reminder to update docs", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-27T07:15:05Z", "updated_at": "2023-03-28T12:33:18Z", "closed_at": "2023-03-28T12:33:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/682", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/682", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/682.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/682.patch", "merged_at": "2023-03-28T12:33:18Z"}, "body": "It's important to have documentation that is up-to-date, and the best time to update it is along with the changes introduced to the code. As not everybody remembers to do it every time (me, in particular), let's add a pre-review check about introducing docstrings and adjusting the documentation in the book.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/682/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/682/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/669", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/669/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/669/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/669/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/669", "id": 1634246019, "node_id": "PR_kwDOEj0F685MkFAj", "number": 669, "title": "treewide: implement Clone for most error types", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-21T16:06:44Z", "updated_at": "2023-03-22T09:02:15Z", "closed_at": "2023-03-22T09:02:15Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/669", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/669", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/669.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/669.patch", "merged_at": "2023-03-22T09:02:15Z"}, "body": "For convenience, adds a `#[derive(Clone)]` for those error types for which it was currently possible. Some error types currently have fields that cannot be cloned (mostly std::io::Error), notably:\r\n\r\n- ParseError, FrameError - extensively used in deserialization, but don't seem to appear in the main API.\r\n- CloudConfigError - only used when creating a session that connects to Scylla Cloud.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/669/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/668", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/668/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/668/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/668/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/668", "id": 1634193396, "node_id": "PR_kwDOEj0F685Mj5iC", "number": 668, "title": "Extended request spans", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-21T15:43:46Z", "updated_at": "2023-03-22T16:58:36Z", "closed_at": "2023-03-22T16:58:35Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/668", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/668", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/668.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/668.patch", "merged_at": "2023-03-22T16:58:35Z"}, "body": "Provides more information in trace spans emitted for unprepared query, prepared query and batch requests.\r\n\r\nThe following information is provided:\r\n\r\n- `kind`: type of operation (`unprepared`, `prepared`, `batch`),\r\n- `contents` - the query string (applicable only to unprepared queries),\r\n- `routing_key`: routing key of the request (if known, i.e. applies only to prepared queries),\r\n- `token`: partition token relevant to the request (if known, i.e. applies only to prepared queries),\r\n- `request_size`: serialized size of query parameters (not implemented for batches),\r\n- `result_size`: serialized size of rows returned in response,\r\n- `result_rows`: number of rows returned in response,\r\n- `shard`: ID of the shard the request was served on,\r\n- `speculative_executions` - the number of times this request was speculatively executed,\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/668/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/667", "id": 1632402857, "node_id": "PR_kwDOEj0F685Md2Yv", "number": 667, "title": "load_balancing: allow to disable shuffling replicas", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-20T15:54:46Z", "updated_at": "2023-03-20T17:51:39Z", "closed_at": "2023-03-20T17:51:39Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/667", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/667", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/667.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/667.patch", "merged_at": "2023-03-20T17:51:39Z"}, "body": "## Pre-review checklist\r\n\r\nWhen token awareness is enabled in the default load balancing policy, it chooses a random replica to send the query to. This is supposed to balance the load however in some scenarios it might be more beneficial to always choose the same replica - for example, reads might benefit from better caching. This PR adds an option to disable this behavior, which will cause the load balancing policy to always choose nodes in the same order for each replica set.\r\n\r\nThis feature was inspired by similar functionality in the cpp driver.\r\n\r\nFixes: #634\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/667/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/666", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/666/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/666/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/666/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/666", "id": 1631801336, "node_id": "PR_kwDOEj0F685Mb0ZO", "number": 666, "title": "Add rack-awareness to default LBP", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-03-20T10:19:05Z", "updated_at": "2023-04-05T11:02:33Z", "closed_at": "2023-04-05T11:02:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/666", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/666", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/666.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/666.patch", "merged_at": "2023-04-05T11:02:33Z"}, "body": "Added rack-awareness option to prefer replicas in local rack while picking a coordinator. It will allow to create a top-level tier with local datacenter and local rack replicas in the fallback plan.\r\n\r\nFixes: #604 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/666/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/664", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/664/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/664/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/664/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/664", "id": 1629099159, "node_id": "PR_kwDOEj0F685MS5h4", "number": 664, "title": "treewide: appease clippy", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-17T10:50:34Z", "updated_at": "2023-03-17T11:44:27Z", "closed_at": "2023-03-17T11:44:26Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/664", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/664", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/664.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/664.patch", "merged_at": "2023-03-17T11:44:26Z"}, "body": "The usual: clippy have been updated in GitHub's CI runner image that we use and it has new lints that our codebase doesn't currently pass.\r\n\r\nThis time, clippy complains about some `impl Default`s being unnecessarily hand-written where they could be easily implemented with an automatic derive. This commit removes the problematic impl for PartitionerName and replaces it with a derive, but the impl for Consistency is left as is and marked with an \"allow\" annotation. Unfortunately, implementing Default with a derive requires adding a #[default] annotation in the enum body which incorrectly interacts with num_enum::TryFromPrimitive macro.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/664/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/663", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/663/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/663/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/663/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/663", "id": 1629029514, "node_id": "PR_kwDOEj0F685MSqj_", "number": 663, "title": "session: add get_keyspace() method", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-17T10:01:15Z", "updated_at": "2023-03-20T10:08:02Z", "closed_at": "2023-03-20T10:08:02Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/663", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/663", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/663.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/663.patch", "merged_at": "2023-03-20T10:08:01Z"}, "body": "Adds the `get_keyspace()` method which allows to get the keyspace name currently set for the session. Initially, it is set to the keyspace name specified in the session configuration as the keyspace to be USE-d, but it will be updated when calling `Session::use_keyspace()` later. Because of that possibility, `get_keyspace` returns a shared pointer to the keyspace name instead of a reference.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/663/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/658", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/658/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/658/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/658/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/658", "id": 1620176407, "node_id": "PR_kwDOEj0F685L0-YQ", "number": 658, "title": "Expose calculate_token", "user": {"login": "Ten0", "id": 9094255, "node_id": "MDQ6VXNlcjkwOTQyNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9094255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ten0", "html_url": "https://github.com/Ten0", "followers_url": "https://api.github.com/users/Ten0/followers", "following_url": "https://api.github.com/users/Ten0/following{/other_user}", "gists_url": "https://api.github.com/users/Ten0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ten0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ten0/subscriptions", "organizations_url": "https://api.github.com/users/Ten0/orgs", "repos_url": "https://api.github.com/users/Ten0/repos", "events_url": "https://api.github.com/users/Ten0/events{/privacy}", "received_events_url": "https://api.github.com/users/Ten0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-11T23:26:31Z", "updated_at": "2023-03-20T17:57:48Z", "closed_at": "2023-03-20T17:57:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/658", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/658", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/658.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/658.patch", "merged_at": "2023-03-20T17:57:48Z"}, "body": "Helps (or arguably fixes) #468\r\n\r\nFor smarter batch constitution (following up on #448), it is required to have access to the token a particular statement would be directed to. However, that is pretty difficult to do without access to calculate_token.\r\n\r\nThat was initially put in #508, but planned to put in a separate PR to keep it minimal\r\n(https://github.com/scylladb/scylla-rust-driver/pull/508#discussion_r949399700)\r\nIt seems I had forgotten to open that separate PR, and I end up getting bitten by that now that I want to constitute my batches in a smarter way. ^^'\r\n\r\nSo here it is.\r\n\r\nI'm only putting \"helps\" above because I think we may want to also expose query planning (\r\n`session.plan(prepared_statement, serialized_values) -> impl Iterator<Item = (Arc<Node>, ShardID)>` ) as that may make it significantly easier on the user to obtain the relevant keys for batching - but I'd like to keep this PR that just *enables* the ideal behavior as simple as possible.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/658/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/657", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/657/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/657/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/657/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/657", "id": 1620088294, "node_id": "PR_kwDOEj0F685L0ul4", "number": 657, "title": "Minor typo fix in comment", "user": {"login": "Ten0", "id": 9094255, "node_id": "MDQ6VXNlcjkwOTQyNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9094255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ten0", "html_url": "https://github.com/Ten0", "followers_url": "https://api.github.com/users/Ten0/followers", "following_url": "https://api.github.com/users/Ten0/following{/other_user}", "gists_url": "https://api.github.com/users/Ten0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ten0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ten0/subscriptions", "organizations_url": "https://api.github.com/users/Ten0/orgs", "repos_url": "https://api.github.com/users/Ten0/repos", "events_url": "https://api.github.com/users/Ten0/events{/privacy}", "received_events_url": "https://api.github.com/users/Ten0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-11T17:42:01Z", "updated_at": "2023-03-14T17:45:11Z", "closed_at": "2023-03-14T15:09:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/657", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/657", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/657.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/657.patch", "merged_at": "2023-03-14T15:09:14Z"}, "body": "- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/657/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/656", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/656/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/656/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/656/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/656", "id": 1620083089, "node_id": "PR_kwDOEj0F685L0tm2", "number": 656, "title": "Don't early-allocate trace arguments (significant perf impact somehow)", "user": {"login": "Ten0", "id": 9094255, "node_id": "MDQ6VXNlcjkwOTQyNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9094255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ten0", "html_url": "https://github.com/Ten0", "followers_url": "https://api.github.com/users/Ten0/followers", "following_url": "https://api.github.com/users/Ten0/following{/other_user}", "gists_url": "https://api.github.com/users/Ten0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ten0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ten0/subscriptions", "organizations_url": "https://api.github.com/users/Ten0/orgs", "repos_url": "https://api.github.com/users/Ten0/repos", "events_url": "https://api.github.com/users/Ten0/events{/privacy}", "received_events_url": "https://api.github.com/users/Ten0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4712022841, "node_id": "LA_kwDOEj0F688AAAABGNvDOQ", "url": "https://api.github.com/repos/scylladb/scylla-rust-driver/labels/performance", "name": "performance", "color": "1D76DB", "default": false, "description": "Improves performance of existing features"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/1", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1/labels", "id": 9009426, "node_id": "MI_kwDOEj0F684AiXkS", "number": 1, "title": "0.8.0", "description": "", "creator": {"login": "mykaul", "id": 4655593, "node_id": "MDQ6VXNlcjQ2NTU1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4655593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mykaul", "html_url": "https://github.com/mykaul", "followers_url": "https://api.github.com/users/mykaul/followers", "following_url": "https://api.github.com/users/mykaul/following{/other_user}", "gists_url": "https://api.github.com/users/mykaul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mykaul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mykaul/subscriptions", "organizations_url": "https://api.github.com/users/mykaul/orgs", "repos_url": "https://api.github.com/users/mykaul/repos", "events_url": "https://api.github.com/users/mykaul/events{/privacy}", "received_events_url": "https://api.github.com/users/mykaul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2023-02-06T10:12:47Z", "updated_at": "2023-03-23T12:32:51Z", "due_on": "2023-03-15T00:00:00Z", "closed_at": "2023-03-23T12:32:51Z"}, "comments": 0, "created_at": "2023-03-11T17:22:45Z", "updated_at": "2023-03-15T09:22:30Z", "closed_at": "2023-03-14T15:35:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/656", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/656", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/656.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/656.patch", "merged_at": "2023-03-14T15:35:45Z"}, "body": "Fixes #655\r\n\r\nThis would have a significant perf impact (see #655) and be unidiomatic (see https://docs.rs/tracing/0.1.37/tracing/#recording-fields)\r\n\r\n- [X] I have split my patch into logically separate commits.\r\n- [X] All commit messages clearly explain what they change and why.\r\n- [X] I added relevant tests for new features and bug fixes.\r\n- [X] All commits compile, pass static checks and pass test.\r\n- [X] PR description sums up the changes and reasons why they should be introduced.\r\n- [X] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/656/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/654", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/654/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/654/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/654/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/654", "id": 1617324638, "node_id": "PR_kwDOEj0F685LrjvB", "number": 654, "title": "session_builder: Keepalive interval defaults to 30 secs", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-09T14:04:23Z", "updated_at": "2023-03-09T15:18:40Z", "closed_at": "2023-03-09T15:08:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/654", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/654", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/654.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/654.patch", "merged_at": "2023-03-09T15:08:13Z"}, "body": "When testing the new serverless support implementation in the driver, it appeared that while being idle, the driver must deal with server closing the connection every 60 seconds. To prevent such behaviour, the default keepalive interval is set to 30 seconds.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/654/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/653", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/653/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/653/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/653/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/653", "id": 1615058322, "node_id": "PR_kwDOEj0F685Lj19q", "number": 653, "title": "prepared_statement: Made cloning cheaper by use of Arcs", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-08T10:45:02Z", "updated_at": "2023-03-08T14:12:54Z", "closed_at": "2023-03-08T11:50:09Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/653", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/653", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/653.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/653.patch", "merged_at": "2023-03-08T11:50:09Z"}, "body": "As cloning PreparedStatements may be convenient in some workloads, effort is done to make it possibly cheap. This commit put the heavy heap-allocated PreparedStatement metadata and its statement String behind an Arc, in a shared struct. In order to have cleaner inner API, usages of data referenced in the shared struct access them now through the getter.\r\n\r\nFixes: #635\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/653/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/653/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/649", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/649/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/649/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/649/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/649", "id": 1595161623, "node_id": "PR_kwDOEj0F685KhFXU", "number": 649, "title": "topology: UDTs hold complete definition of themselves", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-22T14:01:05Z", "updated_at": "2023-03-02T16:58:41Z", "closed_at": "2023-03-02T16:56:28Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/649", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/649", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/649.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/649.patch", "merged_at": "2023-03-02T16:56:28Z"}, "body": "It has been requested by a customer to make `CqlType::UserDefinedType` hold a complete definition of the type. \r\n\r\nBefore, the definition was distributed among multiple code locations: the type name was present inside the mentioned variant, the keyspace name was to be deduced from the context, and the fields definitions were only stored in a hash map in each `Keyspace`.\r\n\r\nThis PR:\r\n- introduces `UserDefinedType` struct as a complete UDT definition,\r\n- makes the `Keyspace` hold the hash map from UDT name to  `Arc<UserDefinedType>`,\r\n- makes `CqlType::UserDefinedType` store a complete definition of a UDT (`Result<Arc<UserDefinedType>, MissingUserDefinedType>`, the `Err` variant is used in case when an unknown UDT is defined as a field of another UDT),\r\n- introduces `UdtRow` struct to represent a row with UDT definition,\r\n- adds a topological sort of `UdtRow` to avoid processing references to unknown UDTs. The topological order is always achievable, as UDTs circular dependencies are forbidden and rejected by Scylla.\r\n\r\nThis PR is based on #645, because it is very likely that it will be merged soon and otherwise it would introduce a lot of merge conflicts.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description~~.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/649/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/647", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/647/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/647/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/647/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/647", "id": 1589471762, "node_id": "PR_kwDOEj0F685KOYIi", "number": 647, "title": "docker-compose.yml: improve settings and the boot order", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-17T14:43:01Z", "updated_at": "2023-02-24T11:03:54Z", "closed_at": "2023-02-24T11:03:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/647", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/647", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/647.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/647.patch", "merged_at": "2023-02-24T11:03:54Z"}, "body": "Up until now, our docker-compose file that sets up Scylla cluster was starting up all nodes in parallel. This is not something that is supported in Scylla and it can sometimes fail. We didn't see those failures until now because we didn't print the cluster logs. This commit makes sure that nodes are booted up in order.\r\n\r\nIn addition to this, now nodes start with a fixed number of shards (2 each) and memory (1GB each). I'm not sure a more powerful cluster is really needed, and - by default - the shard count is equal to the number of cores of the host machine. A large number of shards can quickly eat up the /proc/sys/fs/aio-nr resource in the system, so the cluster wasn't really usable on machines with a large number of cores.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/647/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/646", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/646/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/646/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/646/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/646", "id": 1589309519, "node_id": "PR_kwDOEj0F685KN0q3", "number": 646, "title": "CI: print logs from the cluster as a build step", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-17T12:49:55Z", "updated_at": "2023-02-24T00:16:25Z", "closed_at": "2023-02-24T00:16:25Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/646", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/646", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/646.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/646.patch", "merged_at": "2023-02-24T00:16:25Z"}, "body": "Some test failures may be caused due to issues in Cassandra or Scylla and it is hard to identify them if they are silent during the whole CI run.\r\n\r\nThis PR modifies our CI jobs that use docker-compose so that the logs from the cluster are always printed.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [ ] I have split my patch into logically separate commits.\r\n- [ ] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/646/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/645", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/645/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/645/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/645/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/645", "id": 1589169390, "node_id": "PR_kwDOEj0F685KNWZT", "number": 645, "title": "Replace Connection::query_all with Connection::query_iter", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-02-17T10:55:04Z", "updated_at": "2023-03-02T13:51:31Z", "closed_at": "2023-03-02T13:51:30Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/645", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/645", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/645.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/645.patch", "merged_at": "2023-03-02T13:51:30Z"}, "body": "For internal queries that can return a large number of rows (topology info, schema) we use currently use `Connection::query_all` to perform them. That method fetches results of the query in multiple pages and then returns it as a single combined `QueryResult`. This PR replaces it with a new `Connection::query_iter` method which has semantics more similar to the iterator-based query methods from the public interface (`Session::query_iter`, `Session::execute_iter`).\r\n\r\nThe motivations for this change are as follows:\r\n\r\n- Although the new methods will use slightly more memory if the query returns only one page (because of the need to spawn a new task/channels/etc.), it should consume less memory if multiple pages are fetched because rows are processed on-line as new pages appear and only 1-2 pages need to exist at a given time.\r\n- The logic that combines multiple pages into a single `QueryResult` will be hard to translate to use the upcoming iterator-based deserialization interface (https://github.com/scylladb/scylla-rust-driver/issues/462). Although the old interface will still be available as a deprecated fallback, I would like to adapt those methods as a form of dogfooding test for the new interface.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/645/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/644", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/644/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/644/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/644/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/644", "id": 1572457691, "node_id": "PR_kwDOEj0F685JVWBh", "number": 644, "title": "iterator: Return empty iterator on modification stmt", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-06T12:11:35Z", "updated_at": "2023-02-09T13:41:49Z", "closed_at": "2023-02-09T08:47:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/644", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/644", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/644.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/644.patch", "merged_at": "2023-02-09T08:47:22Z"}, "body": "...instead of ProtocolError as before. This was requested by #631. Also, added a test for this behaviour.\r\n\r\nFixes: #631\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/644/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/641", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/641/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/641/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/641/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/641", "id": 1569795230, "node_id": "PR_kwDOEj0F685JM0We", "number": 641, "title": "Move address translation to opening new connection", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-03T12:51:21Z", "updated_at": "2023-03-08T15:36:55Z", "closed_at": "2023-03-08T15:36:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/641", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/641", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/641.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/641.patch", "merged_at": "2023-03-08T15:36:18Z"}, "body": "Motivations are described in the referenced issue.\r\nCorrectness of the changes is tested by the existing tests making use of address translation. \r\nFixes: #640 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/641/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/639", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/639/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/639/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/639/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/639", "id": 1568571613, "node_id": "PR_kwDOEj0F685JIzj5", "number": 639, "title": "CI/Makefile: disable `uninlined_format_args` clippy lint", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-02T18:36:00Z", "updated_at": "2023-02-03T17:15:39Z", "closed_at": "2023-02-03T17:15:39Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/639", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/639", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/639.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/639.patch", "merged_at": "2023-02-03T17:15:39Z"}, "body": "New version of clippy introduced the `uninlined_format_args` lint which recommends putting variable names directly into format strings, like this:\r\n\r\n    let what = \"world\";\r\n    println!(\"Hello, {what}!\");\r\n\r\n    // Instead of:\r\n    println!(\"Hello, {}!\", what);\r\n\r\nThe problem with this feature is that rust-analyzer does not support renaming variables inside format strings yet. The lint has been downgraded to pedantic level and will most likely appear as such in the next release.\r\n\r\nThis commit disables the new lint in the CI and local Makefile. We can turn it on again after this feature gets better support from rust-analyzer.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/639/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/638", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/638/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/638/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/638/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/638", "id": 1568432290, "node_id": "PR_kwDOEj0F685JIU0U", "number": 638, "title": "cql_to_rust: impl FromCqlValue for Date", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-02T17:07:28Z", "updated_at": "2023-02-14T14:07:17Z", "closed_at": "2023-02-14T14:07:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/638", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/638", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/638.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/638.patch", "merged_at": "2023-02-14T14:07:16Z"}, "body": "The driver supports serializing and deserializing between the `date` CQL type and the `chrono::NaiveDate` type. However, the `NaiveDate` type is not always sufficient as it can't represent the whole range of values the `date` CQL type can. For that purpose, we provide a `Date` type that is able to represent all CQL values of `date` type.\r\n\r\nUntil now, it was only possible to serialize `Date`. This commit adds a missing FromCqlValue impl necessary for deserialization.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/638/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/630", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/630/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/630/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/630/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/630", "id": 1553307692, "node_id": "PR_kwDOEj0F685IVn2O", "number": 630, "title": "deserialization: make deser_cql_value public", "user": {"login": "wmitros", "id": 44506288, "node_id": "MDQ6VXNlcjQ0NTA2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/44506288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wmitros", "html_url": "https://github.com/wmitros", "followers_url": "https://api.github.com/users/wmitros/followers", "following_url": "https://api.github.com/users/wmitros/following{/other_user}", "gists_url": "https://api.github.com/users/wmitros/gists{/gist_id}", "starred_url": "https://api.github.com/users/wmitros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wmitros/subscriptions", "organizations_url": "https://api.github.com/users/wmitros/orgs", "repos_url": "https://api.github.com/users/wmitros/repos", "events_url": "https://api.github.com/users/wmitros/events{/privacy}", "received_events_url": "https://api.github.com/users/wmitros/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-23T15:32:52Z", "updated_at": "2023-01-26T09:52:34Z", "closed_at": "2023-01-26T09:52:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/630", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/630", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/630.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/630.patch", "merged_at": "2023-01-26T09:52:33Z"}, "body": "In some cases (in particular, Scylla UDFs), the cql values are passed in a serialized form without the context of a row.\r\n\r\nThe current implementation of deser_cql_value function is already able to parse these values, so it can be just made public to be usable in those cases.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n~- [ ] I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n~- [ ] I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/630/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/629", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/629/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/629/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/629/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/629", "id": 1532652371, "node_id": "PR_kwDOEj0F685HWUVm", "number": 629, "title": "Downgrade Cassandra version for CI", "user": {"login": "Gor027", "id": 29541844, "node_id": "MDQ6VXNlcjI5NTQxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/29541844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gor027", "html_url": "https://github.com/Gor027", "followers_url": "https://api.github.com/users/Gor027/followers", "following_url": "https://api.github.com/users/Gor027/following{/other_user}", "gists_url": "https://api.github.com/users/Gor027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gor027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gor027/subscriptions", "organizations_url": "https://api.github.com/users/Gor027/orgs", "repos_url": "https://api.github.com/users/Gor027/repos", "events_url": "https://api.github.com/users/Gor027/events{/privacy}", "received_events_url": "https://api.github.com/users/Gor027/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-13T17:11:36Z", "updated_at": "2023-01-13T17:24:58Z", "closed_at": "2023-01-13T17:24:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/629", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/629", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/629.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/629.patch", "merged_at": "2023-01-13T17:24:57Z"}, "body": "The cassandra tests were run on the latest version of Cassandra 4.1.0 and most probably the version contains some bugs as some tests were flaky. This PR pins version 4.0.7 for creating a 3-node Cassandra cluster, which solves the flakiness problem, however, the root cause of the problem is still unknown.\r\nAdditionally, memory flags `HEAP_NEWSIZE=512M` and `MAX_HEAP_SIZE=2048M` are added for each node creation as the GitHub Actions Linux virtual machine has a RAM limit of 7GB.\r\n\r\nFixes: #620 \r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/629/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/628", "id": 1532528691, "node_id": "PR_kwDOEj0F685HV5cI", "number": 628, "title": "scylla-macros: increase hygiene", "user": {"login": "wmitros", "id": 44506288, "node_id": "MDQ6VXNlcjQ0NTA2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/44506288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wmitros", "html_url": "https://github.com/wmitros", "followers_url": "https://api.github.com/users/wmitros/followers", "following_url": "https://api.github.com/users/wmitros/following{/other_user}", "gists_url": "https://api.github.com/users/wmitros/gists{/gist_id}", "starred_url": "https://api.github.com/users/wmitros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wmitros/subscriptions", "organizations_url": "https://api.github.com/users/wmitros/orgs", "repos_url": "https://api.github.com/users/wmitros/repos", "events_url": "https://api.github.com/users/wmitros/events{/privacy}", "received_events_url": "https://api.github.com/users/wmitros/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-13T15:54:08Z", "updated_at": "2023-01-26T10:45:22Z", "closed_at": "2023-01-26T10:45:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/628", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/628", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/628.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/628.patch", "merged_at": "2023-01-26T10:45:22Z"}, "body": "While trying to make my macros at https://github.com/wmitros/scylla-rust-udf/pull/1 more hygienic, I noticed that I also need the macros here to be more hygienic.\r\nI'm posting this mostly to find out if I'm heading in the right direction with the changes, although this patch does pass tests if it turns out being close to a state ready for merging\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [ ] PR description sums up the changes and reasons why they should be introduced.\r\n~~- [ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/628/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/627", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/627/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/627/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/627/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/627", "id": 1532506150, "node_id": "PR_kwDOEj0F685HV0fY", "number": 627, "title": "CI: bump MSRV to 1.65", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-13T15:40:15Z", "updated_at": "2023-01-13T16:20:59Z", "closed_at": "2023-01-13T16:20:59Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/627", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/627", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/627.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/627.patch", "merged_at": "2023-01-13T16:20:59Z"}, "body": "Bumping MSRV due to those reasons:\r\n\r\n- The newest version of tokio (1.24.1) doesn't seem to compile with Rust 1.59 and `-D warnings`. Fortunately, 1.65 doesn't seem to be affected.\r\n- #596 needs GATs, which were introduced in 1.65\r\n- #614 would like to use the new `dep:` syntax for optional features.\r\n\r\nThe version 1.65 is also not the newest, released about 2.5 months ago since the time this commit message was written. Although our MSRV policy allows us to bump MSRV in major releases - and I understand going from 0.x to 0.(x+1) as such a change - choosing an older version has the benefit that, at the time of release of the next driver version, some of the users will probably already have migrated to a Rust version supported by the driver.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [ ] ~All commits compile, pass static checks and pass test.~ not really, but it should make the situation better\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/627/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/626", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/626/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/626/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/626/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/626", "id": 1532129162, "node_id": "PR_kwDOEj0F685HUixy", "number": 626, "title": "treewide: appease cargo doc", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-13T11:08:10Z", "updated_at": "2023-01-13T16:50:04Z", "closed_at": "2023-01-13T16:50:04Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/626", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/626", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/626.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/626.patch", "merged_at": "2023-01-13T16:50:04Z"}, "body": "The new version of cargo doc started complaining about unescaped `<` and `>` signs because they looked like html tags. This commit gets rid of this complaint either by putting them into `backticks` if they are a part of some rust code mentioned in a docstring, or escaping them with a backslash in other cases.\r\n\r\nAlso contains a bonus commit that fixes one missed clippy lint.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [ ] ~All commits compile, pass static checks and pass test.~ (not really possible with our current, sad state of CI)\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/626/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/625", "id": 1530515927, "node_id": "PR_kwDOEj0F685HPFAD", "number": 625, "title": "caching_session: use custom hasher instead of ahash in tests", "user": {"login": "piodul", "id": 4950936, "node_id": "MDQ6VXNlcjQ5NTA5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4950936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piodul", "html_url": "https://github.com/piodul", "followers_url": "https://api.github.com/users/piodul/followers", "following_url": "https://api.github.com/users/piodul/following{/other_user}", "gists_url": "https://api.github.com/users/piodul/gists{/gist_id}", "starred_url": "https://api.github.com/users/piodul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piodul/subscriptions", "organizations_url": "https://api.github.com/users/piodul/orgs", "repos_url": "https://api.github.com/users/piodul/repos", "events_url": "https://api.github.com/users/piodul/events{/privacy}", "received_events_url": "https://api.github.com/users/piodul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-01-12T11:01:55Z", "updated_at": "2023-01-21T01:10:54Z", "closed_at": "2023-01-21T01:10:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/625", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/625", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/625.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/625.patch", "merged_at": "2023-01-21T01:10:54Z"}, "body": "Currently, we are importing the `ahash` crate for only one reason: to test that CachingSession works with custom hasher implementations. The custom hasher quality doesn't matter at all in this test, so it's very easy to write own implementation for testing purposes, rendering the dependency on `ahash` obsolete.\r\n\r\nThe change was prompted by a report from one of our users which use a fork of the driver and managed to trigger a bug in cargo - most likely this one: https://github.com/rust-lang/cargo/issues/7463 . The most likely cause was that the project specified a different, non-compatible version of ahash in the dependencies than the one in scylla's dev-dependencies. While it doesn't fix the cargo bug and it can still happen with other dev-dependencies, the bug should no longer happen with conflicting `ahash`. Moreover, removing an unneeded depdencency from a project is a good motivation in itself.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] ~I added relevant tests for new features and bug fixes.~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] ~I added appropriate `Fixes:` annotations to PR description.~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/625/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/624", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/624/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/624/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/624/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/624", "id": 1527953838, "node_id": "PR_kwDOEj0F685HGa1N", "number": 624, "title": "appeasing clippy just another time", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-10T20:19:25Z", "updated_at": "2023-01-17T16:05:17Z", "closed_at": "2023-01-13T16:23:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/624", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/624", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/624.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/624.patch", "merged_at": "2023-01-13T16:23:41Z"}, "body": "## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/624/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/623", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/623/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/623/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/623/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/623", "id": 1525574176, "node_id": "PR_kwDOEj0F685G-cxa", "number": 623, "title": "data-types: add CqlDuration as the Rust equivalent of CQL Duration", "user": {"login": "wmitros", "id": 44506288, "node_id": "MDQ6VXNlcjQ0NTA2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/44506288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wmitros", "html_url": "https://github.com/wmitros", "followers_url": "https://api.github.com/users/wmitros/followers", "following_url": "https://api.github.com/users/wmitros/following{/other_user}", "gists_url": "https://api.github.com/users/wmitros/gists{/gist_id}", "starred_url": "https://api.github.com/users/wmitros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wmitros/subscriptions", "organizations_url": "https://api.github.com/users/wmitros/orgs", "repos_url": "https://api.github.com/users/wmitros/repos", "events_url": "https://api.github.com/users/wmitros/events{/privacy}", "received_events_url": "https://api.github.com/users/wmitros/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-09T13:13:18Z", "updated_at": "2023-01-18T08:52:58Z", "closed_at": "2023-01-18T08:52:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/623", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/623", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/623.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/623.patch", "merged_at": "2023-01-18T08:52:58Z"}, "body": "CqlDuration has de facto already been the Rust type mapping for the CQL type `duration`, but was missing a `from_cql` impl. This patch adds the missing impl and adds the type mapping to the documentation.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n~~- [ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/623/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/622", "id": 1521020474, "node_id": "PR_kwDOEj0F685GvG05", "number": 622, "title": "secrecy: Features and dependencies cleanup", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-05T16:27:52Z", "updated_at": "2023-01-26T11:05:35Z", "closed_at": "2023-01-26T10:01:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/622", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/622", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/622.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/622.patch", "merged_at": "2023-01-26T10:01:32Z"}, "body": "First, secrecy is now built as `scylla-cql` dependency only if the corresponding feature is requested. Secondly, the corresponding feature that turns on the secrecy-related serialization has been added to scylla crate.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[ ] I added relevant tests for new features and bug fixes.~~\r\n- [ ] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/622/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/621", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/621/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/621/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/621/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/621", "id": 1520722846, "node_id": "PR_kwDOEj0F685GuFUF", "number": 621, "title": "Automated proxy addresses in tests", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-05T13:08:56Z", "updated_at": "2023-04-26T12:29:49Z", "closed_at": "2023-01-18T08:29:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/621", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/621", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/621.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/621.patch", "merged_at": "2023-01-18T08:29:54Z"}, "body": "## Pre-review checklist\r\nAs tests are run concurrently on a single process, so addresses for proxy instances used in them can be assigned automatically in a non-colliding way. To this end, one atomic suffices.\r\n\r\nFixes: #586\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- ~~[] I added relevant tests for new features and bug fixes.~~\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/621/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/619", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/619/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/619/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/619/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/619", "id": 1519664995, "node_id": "PR_kwDOEj0F685GqZjd", "number": 619, "title": "Add serialize and deserialize support for DateTime<Utc> and secret", "user": {"login": "siningma", "id": 2812144, "node_id": "MDQ6VXNlcjI4MTIxNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2812144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siningma", "html_url": "https://github.com/siningma", "followers_url": "https://api.github.com/users/siningma/followers", "following_url": "https://api.github.com/users/siningma/following{/other_user}", "gists_url": "https://api.github.com/users/siningma/gists{/gist_id}", "starred_url": "https://api.github.com/users/siningma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siningma/subscriptions", "organizations_url": "https://api.github.com/users/siningma/orgs", "repos_url": "https://api.github.com/users/siningma/repos", "events_url": "https://api.github.com/users/siningma/events{/privacy}", "received_events_url": "https://api.github.com/users/siningma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-04T22:26:58Z", "updated_at": "2023-01-05T18:50:44Z", "closed_at": "2023-01-05T12:03:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/619", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/619", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/619.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/619.patch", "merged_at": "2023-01-05T12:03:24Z"}, "body": "Implement FromCqlVal and Value for DateTime<Utc> and secrecy::Secret.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [ ] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/619/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/617", "id": 1514688662, "node_id": "PR_kwDOEj0F685GZeN0", "number": 617, "title": "Identify nodes by host id instead of IPs", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-12-30T17:57:52Z", "updated_at": "2023-01-18T16:03:05Z", "closed_at": "2023-01-18T15:51:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/617", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/617", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/617.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/617.patch", "merged_at": "2023-01-18T15:51:36Z"}, "body": "As a corresponding change has been merged into Scylla itself, we should adjust as well.\r\nMoreover, for Serverless Cloud host IDs are the only valid way of identifying nodes.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [ ] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/617/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/614", "id": 1494731081, "node_id": "PR_kwDOEj0F685FWJ-1", "number": 614, "title": "Serverless support", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/1", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1/labels", "id": 9009426, "node_id": "MI_kwDOEj0F684AiXkS", "number": 1, "title": "0.8.0", "description": "", "creator": {"login": "mykaul", "id": 4655593, "node_id": "MDQ6VXNlcjQ2NTU1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4655593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mykaul", "html_url": "https://github.com/mykaul", "followers_url": "https://api.github.com/users/mykaul/followers", "following_url": "https://api.github.com/users/mykaul/following{/other_user}", "gists_url": "https://api.github.com/users/mykaul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mykaul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mykaul/subscriptions", "organizations_url": "https://api.github.com/users/mykaul/orgs", "repos_url": "https://api.github.com/users/mykaul/repos", "events_url": "https://api.github.com/users/mykaul/events{/privacy}", "received_events_url": "https://api.github.com/users/mykaul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2023-02-06T10:12:47Z", "updated_at": "2023-03-23T12:32:51Z", "due_on": "2023-03-15T00:00:00Z", "closed_at": "2023-03-23T12:32:51Z"}, "comments": 6, "created_at": "2022-12-13T17:07:12Z", "updated_at": "2023-04-26T12:29:45Z", "closed_at": "2023-03-08T16:50:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/614", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/614", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/614.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/614.patch", "merged_at": "2023-03-08T16:50:34Z"}, "body": "This PR adds a basic serverless Scylla Cloud support for our driver. It contains:\r\n- parsing and validation of cloud config yaml, with tests\r\n- identifying nodes internally by host ID instead of IP addresses _[EDIT: this is now also present in #617 , atop which this PR was rebased]_\r\n- tidy split of SessionBuilder into two modes: Default and Cloud, which prevents weird user configuration, while preserving API compatibility\r\n- rework of several flows in code in order to pass information necessary for setting up SNI in TLS connection to cloud proxy\r\n- address translation: internal nodes' IPs are translated into IPs of proxies in their DCs\r\n- encapsulation of SslContext into SslConfig along with similar data\r\n- conditional compilation of all cloud-related stuff under `cloud` feature\r\n\r\nSo far tested with ccm, on a single dc cluster.\r\nUPDATE: tested on a cloud test cluster.\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- ~~[ ] I added appropriate `Fixes:` annotations to PR description.~~\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/614/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/612", "id": 1474288458, "node_id": "PR_kwDOEj0F685EN8zS", "number": 612, "title": "transport: load balancing module refactor", "user": {"login": "havaker", "id": 41525193, "node_id": "MDQ6VXNlcjQxNTI1MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/41525193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/havaker", "html_url": "https://github.com/havaker", "followers_url": "https://api.github.com/users/havaker/followers", "following_url": "https://api.github.com/users/havaker/following{/other_user}", "gists_url": "https://api.github.com/users/havaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/havaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/havaker/subscriptions", "organizations_url": "https://api.github.com/users/havaker/orgs", "repos_url": "https://api.github.com/users/havaker/repos", "events_url": "https://api.github.com/users/havaker/events{/privacy}", "received_events_url": "https://api.github.com/users/havaker/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1", "html_url": "https://github.com/scylladb/scylla-rust-driver/milestone/1", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/milestones/1/labels", "id": 9009426, "node_id": "MI_kwDOEj0F684AiXkS", "number": 1, "title": "0.8.0", "description": "", "creator": {"login": "mykaul", "id": 4655593, "node_id": "MDQ6VXNlcjQ2NTU1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4655593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mykaul", "html_url": "https://github.com/mykaul", "followers_url": "https://api.github.com/users/mykaul/followers", "following_url": "https://api.github.com/users/mykaul/following{/other_user}", "gists_url": "https://api.github.com/users/mykaul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mykaul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mykaul/subscriptions", "organizations_url": "https://api.github.com/users/mykaul/orgs", "repos_url": "https://api.github.com/users/mykaul/repos", "events_url": "https://api.github.com/users/mykaul/events{/privacy}", "received_events_url": "https://api.github.com/users/mykaul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2023-02-06T10:12:47Z", "updated_at": "2023-03-23T12:32:51Z", "due_on": "2023-03-15T00:00:00Z", "closed_at": "2023-03-23T12:32:51Z"}, "comments": 29, "created_at": "2022-12-04T00:12:31Z", "updated_at": "2023-03-17T15:42:10Z", "closed_at": "2023-03-17T14:25:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/612", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/612", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/612.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/612.patch", "merged_at": "2023-03-17T14:25:44Z"}, "body": "## Description\r\n\r\nThis is the third attempt to refactor this module;)\r\n\r\n#### Replica set calculation was moved to a separate module (`transport::locator`).\r\n\r\nReplica set calculation is done by a module originally written by @cvybhu - `transport::locator::replication_info`. `struct ReplicationData` lives in that module, and provides a set of functions that allow calculating of `SimpleStrategy` & `NetworkTopologyStrategy` replica lists.\r\n\r\nTo make load balancing fast, precomputing replica sets is required. This is done by another of @cvybhu's modules - `transport::locator::precomputed_replicas`. `precomputed_replicas::PrecomputedReplicas` is a struct that precomputes replica lists of a given strategies, and provides O(1) access to desired replica slices.\r\n\r\n`locator::ReplicaLocator` combines the functionality of the previously mentioned modules, and provides a unified API for getting precomputed or calculated on the fly replica sets. Representing replica sets by a custom `ReplicaSet` type allowed creating an API that supported optional limiting replicas to a single data center (and allocation-free creation, getting & iteration through precomputed replica sets). \r\n\r\nThings left for a follow-up:\r\n- A way to configure which strategies need replica set precomputation\r\n\r\n#### `LoadBalancingPolicy` interface was changed.\r\n\r\n`plan` was split to `pick` and `fallback` methods. This allows to better optimize the most common case, where only one node from the load balancing plan is needed. Changes required in query execution code were minimized by providing a lazy chaining iterator `ltransport::load_balancing::plan::Plan`. This iterator's first element is a node returned by the `LoadBalancingPolicy::pick` function, the next items come from `LoadBalancingPolicy::fallback` iterator. Falback method is called lazily - only when second+ element of the `Plan` iterator is needed.\r\n\r\nThe following methods were added:\r\n```rust\r\nfn on_query_success(&self, query: &QueryInfo, latency: Duration, node: NodeRef<_'>);\r\nfn on_query_error(&self, query: &QueryInfo, latency: Duration, node: NodeRef<_'>, error: &QueryError);\r\n```\r\nThe motivation for adding them was the ability to contain the logic of latency-aware policy inside some load balancing policy.\r\n\r\n#### Default policy was created.\r\n\r\nDefault policy supports token and data center awareness. It also has a logic to do a data center failover.\r\n\r\nThings left for a follow-up:\r\n- LWT routing support\r\n\r\n#### Latency aware policy was merged with the default one\r\n\r\nMechanisms used only by latency aware policy were removed (e.g. `TimestampedAverage` living in `Node`).\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n\r\nFixes: https://github.com/scylladb/scylla-rust-driver/issues/408", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/612/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/596", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/596/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/596/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/596/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/596", "id": 1449869467, "node_id": "PR_kwDOEj0F685C7xZF", "number": 596, "title": "Migrate ValueList to recently-stabilized GATs", "user": {"login": "Ten0", "id": 9094255, "node_id": "MDQ6VXNlcjkwOTQyNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9094255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ten0", "html_url": "https://github.com/Ten0", "followers_url": "https://api.github.com/users/Ten0/followers", "following_url": "https://api.github.com/users/Ten0/following{/other_user}", "gists_url": "https://api.github.com/users/Ten0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ten0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ten0/subscriptions", "organizations_url": "https://api.github.com/users/Ten0/orgs", "repos_url": "https://api.github.com/users/Ten0/repos", "events_url": "https://api.github.com/users/Ten0/events{/privacy}", "received_events_url": "https://api.github.com/users/Ten0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-15T14:23:29Z", "updated_at": "2023-01-16T15:56:46Z", "closed_at": "2023-01-16T15:56:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/596", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/596", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/596.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/596.patch", "merged_at": "2023-01-16T15:56:45Z"}, "body": "This requires bumping the MSRV to 1.65.0\r\n\r\nThis is a separate PR from #573 as discussed at https://github.com/scylladb/scylla-rust-driver/pull/573#issuecomment-1315125612.\r\n\r\nImplementation note:\r\nThis requires adding a PhantomData in `BatchValuesFromIter` so that the `where Self: 'r` bound will imply the previous `'a: 'r` bound.\r\n\r\n## Pre-review checklist\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/596/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/596/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592", "repository_url": "https://api.github.com/repos/scylladb/scylla-rust-driver", "labels_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/labels{/name}", "comments_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/comments", "events_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/events", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/592", "id": 1443644701, "node_id": "PR_kwDOEj0F685Cm2D-", "number": 592, "title": "Execution profiles", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2022-11-10T10:32:13Z", "updated_at": "2023-02-20T08:38:00Z", "closed_at": "2023-02-09T15:09:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/pulls/592", "html_url": "https://github.com/scylladb/scylla-rust-driver/pull/592", "diff_url": "https://github.com/scylladb/scylla-rust-driver/pull/592.diff", "patch_url": "https://github.com/scylladb/scylla-rust-driver/pull/592.patch", "merged_at": "2023-02-09T15:09:44Z"}, "body": "We introduce execution profiles, a concept analogous to that found in other drivers. They enable batch changes of configuration options for queries, as well as for whole sessions.\r\nFixes: #354\r\n\r\n## Considerations yet to be done\r\n\r\n- Other drivers support saving execution profiles to a file and loading them from there. Do we want such a feature?\r\n- There is also an idea that a file could be set up to be read periodically; once it is read, the execution profile the file contains is loaded and reapplied to all statements and sessions associated with its handle. This way we would enable changing execution profiles during runtime, without changing code at all. Is this feature worth it?\r\n\r\n\r\n## Pre-review checklist\r\n\r\n<!--\r\n    Make sure you took care of the issues on the list.\r\n    Put 'x' into those boxes which apply.\r\n    You can also create the PR now and click on all relevant checkboxes.\r\n    See CONTRIBUTING.md for more details.\r\n-->\r\n\r\n- [x] I have split my patch into logically separate commits.\r\n- [x] All commit messages clearly explain what they change and why.\r\n- [x] I added relevant tests for new features and bug fixes.\r\n- [x] All commits compile, pass static checks and pass test.\r\n- [x] PR description sums up the changes and reasons why they should be introduced.\r\n- [x] I added appropriate `Fixes:` annotations to PR description.\r\n", "reactions": {"url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/scylladb/scylla-rust-driver/issues/592/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]