[{"url": "https://api.github.com/repos/canselcik/libremarkable/issues/99", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/99/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/99/events", "html_url": "https://github.com/canselcik/libremarkable/pull/99", "id": 1119687385, "node_id": "PR_kwDOB0QpYs4x2d87", "number": 99, "title": "msgsz should measure only the message contents", "user": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-31T17:01:10Z", "updated_at": "2022-01-31T23:22:45Z", "closed_at": "2022-01-31T23:22:41Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/99", "html_url": "https://github.com/canselcik/libremarkable/pull/99", "diff_url": "https://github.com/canselcik/libremarkable/pull/99.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/99.patch", "merged_at": "2022-01-31T23:22:41Z"}, "body": "Fixes #98.\r\n\r\n@matteodelabre - does this look like the proper fix, or is there more to do?", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/99/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/99/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/95", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/95/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/95/events", "html_url": "https://github.com/canselcik/libremarkable/pull/95", "id": 1113167272, "node_id": "PR_kwDOB0QpYs4xhcZ1", "number": 95, "title": "Make rgb565 conversion algorithms a bit better", "user": {"login": "LoganDark", "id": 4723091, "node_id": "MDQ6VXNlcjQ3MjMwOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/4723091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LoganDark", "html_url": "https://github.com/LoganDark", "followers_url": "https://api.github.com/users/LoganDark/followers", "following_url": "https://api.github.com/users/LoganDark/following{/other_user}", "gists_url": "https://api.github.com/users/LoganDark/gists{/gist_id}", "starred_url": "https://api.github.com/users/LoganDark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LoganDark/subscriptions", "organizations_url": "https://api.github.com/users/LoganDark/orgs", "repos_url": "https://api.github.com/users/LoganDark/repos", "events_url": "https://api.github.com/users/LoganDark/events{/privacy}", "received_events_url": "https://api.github.com/users/LoganDark/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-01-24T21:37:17Z", "updated_at": "2022-01-25T18:54:25Z", "closed_at": "2022-01-25T15:16:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/95", "html_url": "https://github.com/canselcik/libremarkable/pull/95", "diff_url": "https://github.com/canselcik/libremarkable/pull/95.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/95.patch", "merged_at": "2022-01-25T15:16:40Z"}, "body": "The old algorithm has some unpleasant tinting. Native components `[0xFF, 0xFF]` don't result in rgb components `[0xFF, 0xFF, 0xFF]` but rather `[0xF8, 0xFC, 0xF8]`. This affects screenshots for example.\r\n\r\nObviously some fudging is needed in order to come up with the \"extra resolution\" in rgb8 to make the mins and maxes match up. Roundtripping from 565 -> 888 -> 565 is still a thing. And now it's a part of the test suite, which verifies that every rgb565 value can be roundtripped to rgb8 and back. And that rgb565 -> rgb8 conversions behave properly.\r\n\r\nThe new conversion routines still only use integer arithmetic. I haven't benchmarked them but they should actually be slightly faster than the old routines.\r\n\r\nNote that I tested these on my desktop machine which required #92 in order to get libremarkable to build. Just a preview of how useful that can be.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/95/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/95/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/93", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/93/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/93/events", "html_url": "https://github.com/canselcik/libremarkable/pull/93", "id": 1105322974, "node_id": "PR_kwDOB0QpYs4xHy0a", "number": 93, "title": "FB interface fixup", "user": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2", "html_url": "https://github.com/canselcik/libremarkable/milestone/2", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2/labels", "id": 7580978, "node_id": "MI_kwDOB0QpYs4Ac60y", "number": 2, "title": "0.6.0", "description": "Tracking what to do before releasing 0.6.0.\r\n\r\nThere are already a lot of changes/improvements in this version. Since this will be a bunch of breaking changes, we should ensure all feasibly doable things that fall in this category get in as well.\r\n\r\nThe due date should be the time we should aim for of the release (not a hard deadline). Best to not have new issues/prs target this version about 5-7 days prior.", "creator": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 1, "closed_issues": 14, "state": "open", "created_at": "2022-01-17T14:01:06Z", "updated_at": "2022-05-27T09:31:20Z", "due_on": "2022-02-04T00:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2022-01-17T03:19:44Z", "updated_at": "2022-01-17T14:51:32Z", "closed_at": "2022-01-17T14:51:18Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/93", "html_url": "https://github.com/canselcik/libremarkable/pull/93", "diff_url": "https://github.com/canselcik/libremarkable/pull/93.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/93.patch", "merged_at": "2022-01-17T14:51:18Z"}, "body": "Promised followups from #85.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/93/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/93/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/91", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/91/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/91/events", "html_url": "https://github.com/canselcik/libremarkable/pull/91", "id": 1103682252, "node_id": "PR_kwDOB0QpYs4xCZMe", "number": 91, "title": "Elide some leftover impl lifetimes after PR #90", "user": {"login": "fenollp", "id": 278727, "node_id": "MDQ6VXNlcjI3ODcyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/278727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fenollp", "html_url": "https://github.com/fenollp", "followers_url": "https://api.github.com/users/fenollp/followers", "following_url": "https://api.github.com/users/fenollp/following{/other_user}", "gists_url": "https://api.github.com/users/fenollp/gists{/gist_id}", "starred_url": "https://api.github.com/users/fenollp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fenollp/subscriptions", "organizations_url": "https://api.github.com/users/fenollp/orgs", "repos_url": "https://api.github.com/users/fenollp/repos", "events_url": "https://api.github.com/users/fenollp/events{/privacy}", "received_events_url": "https://api.github.com/users/fenollp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2", "html_url": "https://github.com/canselcik/libremarkable/milestone/2", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2/labels", "id": 7580978, "node_id": "MI_kwDOB0QpYs4Ac60y", "number": 2, "title": "0.6.0", "description": "Tracking what to do before releasing 0.6.0.\r\n\r\nThere are already a lot of changes/improvements in this version. Since this will be a bunch of breaking changes, we should ensure all feasibly doable things that fall in this category get in as well.\r\n\r\nThe due date should be the time we should aim for of the release (not a hard deadline). Best to not have new issues/prs target this version about 5-7 days prior.", "creator": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 1, "closed_issues": 14, "state": "open", "created_at": "2022-01-17T14:01:06Z", "updated_at": "2022-05-27T09:31:20Z", "due_on": "2022-02-04T00:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2022-01-14T14:03:30Z", "updated_at": "2022-01-17T14:28:46Z", "closed_at": "2022-01-14T17:01:56Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/91", "html_url": "https://github.com/canselcik/libremarkable/pull/91", "diff_url": "https://github.com/canselcik/libremarkable/pull/91.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/91.patch", "merged_at": "2022-01-14T17:01:56Z"}, "body": "Follows up on https://github.com/canselcik/libremarkable/pull/90\r\n\r\nI don't feel like I'm grasping lifetimes 100% yet so I'm opening this as a means to learn something :)\r\n", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/91/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/91/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/90", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/90/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/90/events", "html_url": "https://github.com/canselcik/libremarkable/pull/90", "id": 1101054589, "node_id": "PR_kwDOB0QpYs4w5Qz_", "number": 90, "title": "make Roboto optional", "user": {"login": "LoganDark", "id": 4723091, "node_id": "MDQ6VXNlcjQ3MjMwOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/4723091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LoganDark", "html_url": "https://github.com/LoganDark", "followers_url": "https://api.github.com/users/LoganDark/followers", "following_url": "https://api.github.com/users/LoganDark/following{/other_user}", "gists_url": "https://api.github.com/users/LoganDark/gists{/gist_id}", "starred_url": "https://api.github.com/users/LoganDark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LoganDark/subscriptions", "organizations_url": "https://api.github.com/users/LoganDark/orgs", "repos_url": "https://api.github.com/users/LoganDark/repos", "events_url": "https://api.github.com/users/LoganDark/events{/privacy}", "received_events_url": "https://api.github.com/users/LoganDark/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2", "html_url": "https://github.com/canselcik/libremarkable/milestone/2", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2/labels", "id": 7580978, "node_id": "MI_kwDOB0QpYs4Ac60y", "number": 2, "title": "0.6.0", "description": "Tracking what to do before releasing 0.6.0.\r\n\r\nThere are already a lot of changes/improvements in this version. Since this will be a bunch of breaking changes, we should ensure all feasibly doable things that fall in this category get in as well.\r\n\r\nThe due date should be the time we should aim for of the release (not a hard deadline). Best to not have new issues/prs target this version about 5-7 days prior.", "creator": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 1, "closed_issues": 14, "state": "open", "created_at": "2022-01-17T14:01:06Z", "updated_at": "2022-05-27T09:31:20Z", "due_on": "2022-02-04T00:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2022-01-13T02:10:54Z", "updated_at": "2022-01-17T14:28:41Z", "closed_at": "2022-01-13T13:37:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/90", "html_url": "https://github.com/canselcik/libremarkable/pull/90", "diff_url": "https://github.com/canselcik/libremarkable/pull/90.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/90.patch", "merged_at": "2022-01-13T13:37:51Z"}, "body": "This means you won't pay the cost of\r\n\r\n- font storage in the binary\r\n- up-front font parsing at runtime\r\n- storage of the parsed structures at runtime\r\n\r\nif you don't use the built-in font drawing code.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/90/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/90/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/89", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/89/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/89/events", "html_url": "https://github.com/canselcik/libremarkable/pull/89", "id": 1099811609, "node_id": "PR_kwDOB0QpYs4w1Nck", "number": 89, "title": "Fix: Built-in rm2fb client corrupts the server state", "user": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2", "html_url": "https://github.com/canselcik/libremarkable/milestone/2", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2/labels", "id": 7580978, "node_id": "MI_kwDOB0QpYs4Ac60y", "number": 2, "title": "0.6.0", "description": "Tracking what to do before releasing 0.6.0.\r\n\r\nThere are already a lot of changes/improvements in this version. Since this will be a bunch of breaking changes, we should ensure all feasibly doable things that fall in this category get in as well.\r\n\r\nThe due date should be the time we should aim for of the release (not a hard deadline). Best to not have new issues/prs target this version about 5-7 days prior.", "creator": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 1, "closed_issues": 14, "state": "open", "created_at": "2022-01-17T14:01:06Z", "updated_at": "2022-05-27T09:31:20Z", "due_on": "2022-02-04T00:00:00Z", "closed_at": null}, "comments": 4, "created_at": "2022-01-12T02:39:03Z", "updated_at": "2022-01-17T14:28:35Z", "closed_at": "2022-01-12T02:49:49Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/89", "html_url": "https://github.com/canselcik/libremarkable/pull/89", "diff_url": "https://github.com/canselcik/libremarkable/pull/89.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/89.patch", "merged_at": "2022-01-12T02:49:49Z"}, "body": "Collecting problems found so far. Should in the end fix the issue found in #88. This will close #88.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/89/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/89/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/87", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/87/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/87/events", "html_url": "https://github.com/canselcik/libremarkable/pull/87", "id": 1095496250, "node_id": "PR_kwDOB0QpYs4wnik2", "number": 87, "title": "appctx: New event loop usage", "user": {"login": "LoganDark", "id": 4723091, "node_id": "MDQ6VXNlcjQ3MjMwOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/4723091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LoganDark", "html_url": "https://github.com/LoganDark", "followers_url": "https://api.github.com/users/LoganDark/followers", "following_url": "https://api.github.com/users/LoganDark/following{/other_user}", "gists_url": "https://api.github.com/users/LoganDark/gists{/gist_id}", "starred_url": "https://api.github.com/users/LoganDark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LoganDark/subscriptions", "organizations_url": "https://api.github.com/users/LoganDark/orgs", "repos_url": "https://api.github.com/users/LoganDark/repos", "events_url": "https://api.github.com/users/LoganDark/events{/privacy}", "received_events_url": "https://api.github.com/users/LoganDark/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2", "html_url": "https://github.com/canselcik/libremarkable/milestone/2", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2/labels", "id": 7580978, "node_id": "MI_kwDOB0QpYs4Ac60y", "number": 2, "title": "0.6.0", "description": "Tracking what to do before releasing 0.6.0.\r\n\r\nThere are already a lot of changes/improvements in this version. Since this will be a bunch of breaking changes, we should ensure all feasibly doable things that fall in this category get in as well.\r\n\r\nThe due date should be the time we should aim for of the release (not a hard deadline). Best to not have new issues/prs target this version about 5-7 days prior.", "creator": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 1, "closed_issues": 14, "state": "open", "created_at": "2022-01-17T14:01:06Z", "updated_at": "2022-05-27T09:31:20Z", "due_on": "2022-02-04T00:00:00Z", "closed_at": null}, "comments": 5, "created_at": "2022-01-06T16:46:51Z", "updated_at": "2022-01-17T14:28:23Z", "closed_at": "2022-01-10T11:43:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/87", "html_url": "https://github.com/canselcik/libremarkable/pull/87", "diff_url": "https://github.com/canselcik/libremarkable/pull/87.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/87.patch", "merged_at": "2022-01-10T11:43:58Z"}, "body": "The old model was hard to use and not very Rusty, so I decided to make it work a bit more like winit.\r\n\r\nAlso comes with a new demo showcasing how easy it is to use the new event loop to build a simple program.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/87/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/87/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/85", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/85/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/85/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/85/events", "html_url": "https://github.com/canselcik/libremarkable/pull/85", "id": 1091874414, "node_id": "PR_kwDOB0QpYs4wb6Fh", "number": 85, "title": "Framebuffer interface", "user": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2", "html_url": "https://github.com/canselcik/libremarkable/milestone/2", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2/labels", "id": 7580978, "node_id": "MI_kwDOB0QpYs4Ac60y", "number": 2, "title": "0.6.0", "description": "Tracking what to do before releasing 0.6.0.\r\n\r\nThere are already a lot of changes/improvements in this version. Since this will be a bunch of breaking changes, we should ensure all feasibly doable things that fall in this category get in as well.\r\n\r\nThe due date should be the time we should aim for of the release (not a hard deadline). Best to not have new issues/prs target this version about 5-7 days prior.", "creator": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 1, "closed_issues": 14, "state": "open", "created_at": "2022-01-17T14:01:06Z", "updated_at": "2022-05-27T09:31:20Z", "due_on": "2022-02-04T00:00:00Z", "closed_at": null}, "comments": 10, "created_at": "2022-01-01T19:13:08Z", "updated_at": "2022-01-17T14:35:18Z", "closed_at": "2022-01-14T16:58:55Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/85", "html_url": "https://github.com/canselcik/libremarkable/pull/85", "diff_url": "https://github.com/canselcik/libremarkable/pull/85.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/85.patch", "merged_at": "2022-01-14T16:58:55Z"}, "body": "This rearranges the public API slightly to be more explicit: the user can now call `Framebuffer::new` explicitly, or `::classic` or `::rm2fb` to pick a specific backend.\r\n\r\nInternally, this switches to using an enum for the old/new backend. This should be about as efficient to the old option-based interface, but moving the file descriptor used for ioctls into the enum makes certain types of errors less likely. My actual motive was to try and add a noop backend to allow for easier testing, but I'll leave that for a followup.\r\n\r\nHaven't tested this properly yet, so marking as draft. Interested in thoughts if anyone has them!", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/85/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/85/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/84", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/84/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/84/events", "html_url": "https://github.com/canselcik/libremarkable/pull/84", "id": 1085409073, "node_id": "PR_kwDOB0QpYs4wHGu0", "number": 84, "title": "Fix rare segfault on wait_for_update", "user": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2", "html_url": "https://github.com/canselcik/libremarkable/milestone/2", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2/labels", "id": 7580978, "node_id": "MI_kwDOB0QpYs4Ac60y", "number": 2, "title": "0.6.0", "description": "Tracking what to do before releasing 0.6.0.\r\n\r\nThere are already a lot of changes/improvements in this version. Since this will be a bunch of breaking changes, we should ensure all feasibly doable things that fall in this category get in as well.\r\n\r\nThe due date should be the time we should aim for of the release (not a hard deadline). Best to not have new issues/prs target this version about 5-7 days prior.", "creator": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 1, "closed_issues": 14, "state": "open", "created_at": "2022-01-17T14:01:06Z", "updated_at": "2022-05-27T09:31:20Z", "due_on": "2022-02-04T00:00:00Z", "closed_at": null}, "comments": 6, "created_at": "2021-12-21T03:55:22Z", "updated_at": "2022-01-17T14:27:47Z", "closed_at": "2022-01-06T09:47:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/84", "html_url": "https://github.com/canselcik/libremarkable/pull/84", "diff_url": "https://github.com/canselcik/libremarkable/pull/84.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/84.patch", "merged_at": "2022-01-06T09:47:42Z"}, "body": "Found this, when using this implementation for plato:\r\n\r\n![grafik](https://user-images.githubusercontent.com/22298664/146867667-9059323b-4ccb-431d-b35a-9199afc44627.png)\r\n\r\nThe cause was that `sem_timedwait` was called on `sem_open`'s result `SEM_FAILED`. That call failed with `errno == 22` (\"Invalid value\"). Seems that the rust code called the code too fast and and probably made more likely by more frequent wait()'s in plato due to the ui system. Plato uses a bus system for almost everything, so afaik, calls should never be happen in parallel.\r\n\r\nThe implemenation was 1:1 like the reference implementation. While this didn't ever happen on the official rm2fb client, the cause might still be interesting to investigate and could possibly hint to a problem in the original impl. (cc @raisjn)\r\n\r\nAdded a way to do several attempts with delays which should provide a good enough workaround. Also turned later occuring segfault into a proper panic, should 3 attempts/10ms delay be not enough for some app.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/84/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/84/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/83", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/83/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/83/events", "html_url": "https://github.com/canselcik/libremarkable/pull/83", "id": 1082404585, "node_id": "PR_kwDOB0QpYs4v9bCC", "number": 83, "title": "Bump Rust edition, drop LTO and update deps: once_cell, atomic", "user": {"login": "fenollp", "id": 278727, "node_id": "MDQ6VXNlcjI3ODcyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/278727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fenollp", "html_url": "https://github.com/fenollp", "followers_url": "https://api.github.com/users/fenollp/followers", "following_url": "https://api.github.com/users/fenollp/following{/other_user}", "gists_url": "https://api.github.com/users/fenollp/gists{/gist_id}", "starred_url": "https://api.github.com/users/fenollp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fenollp/subscriptions", "organizations_url": "https://api.github.com/users/fenollp/orgs", "repos_url": "https://api.github.com/users/fenollp/repos", "events_url": "https://api.github.com/users/fenollp/events{/privacy}", "received_events_url": "https://api.github.com/users/fenollp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2", "html_url": "https://github.com/canselcik/libremarkable/milestone/2", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2/labels", "id": 7580978, "node_id": "MI_kwDOB0QpYs4Ac60y", "number": 2, "title": "0.6.0", "description": "Tracking what to do before releasing 0.6.0.\r\n\r\nThere are already a lot of changes/improvements in this version. Since this will be a bunch of breaking changes, we should ensure all feasibly doable things that fall in this category get in as well.\r\n\r\nThe due date should be the time we should aim for of the release (not a hard deadline). Best to not have new issues/prs target this version about 5-7 days prior.", "creator": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 1, "closed_issues": 14, "state": "open", "created_at": "2022-01-17T14:01:06Z", "updated_at": "2022-05-27T09:31:20Z", "due_on": "2022-02-04T00:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2021-12-16T16:26:20Z", "updated_at": "2022-01-17T14:27:26Z", "closed_at": "2021-12-21T01:12:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/83", "html_url": "https://github.com/canselcik/libremarkable/pull/83", "diff_url": "https://github.com/canselcik/libremarkable/pull/83.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/83.patch", "merged_at": "2021-12-21T01:12:17Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/83/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/83/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/82", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/82/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/82/events", "html_url": "https://github.com/canselcik/libremarkable/pull/82", "id": 1077718087, "node_id": "PR_kwDOB0QpYs4vt_gn", "number": 82, "title": "Add a screenshot utility", "user": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2", "html_url": "https://github.com/canselcik/libremarkable/milestone/2", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2/labels", "id": 7580978, "node_id": "MI_kwDOB0QpYs4Ac60y", "number": 2, "title": "0.6.0", "description": "Tracking what to do before releasing 0.6.0.\r\n\r\nThere are already a lot of changes/improvements in this version. Since this will be a bunch of breaking changes, we should ensure all feasibly doable things that fall in this category get in as well.\r\n\r\nThe due date should be the time we should aim for of the release (not a hard deadline). Best to not have new issues/prs target this version about 5-7 days prior.", "creator": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 1, "closed_issues": 14, "state": "open", "created_at": "2022-01-17T14:01:06Z", "updated_at": "2022-05-27T09:31:20Z", "due_on": "2022-02-04T00:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2021-12-12T04:58:26Z", "updated_at": "2022-01-17T14:35:32Z", "closed_at": "2021-12-12T17:02:24Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/82", "html_url": "https://github.com/canselcik/libremarkable/pull/82", "diff_url": "https://github.com/canselcik/libremarkable/pull/82.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/82.patch", "merged_at": "2021-12-12T17:02:24Z"}, "body": "A quick screenshot script; it writes the screen contents as a PNG to the given path, or to stdout if no path is given.\r\n\r\nThis is a small amount of code, but seemed generally useful enough -- and a simple enough usage of the library -- to be worth contributing. But if y'all disagree I don't feel super strongly about it.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/82/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/82/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/81", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/81/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/81/events", "html_url": "https://github.com/canselcik/libremarkable/pull/81", "id": 1076348157, "node_id": "PR_kwDOB0QpYs4vp1m5", "number": 81, "title": "Impl Copy, Clone for all types in common.rs", "user": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2", "html_url": "https://github.com/canselcik/libremarkable/milestone/2", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2/labels", "id": 7580978, "node_id": "MI_kwDOB0QpYs4Ac60y", "number": 2, "title": "0.6.0", "description": "Tracking what to do before releasing 0.6.0.\r\n\r\nThere are already a lot of changes/improvements in this version. Since this will be a bunch of breaking changes, we should ensure all feasibly doable things that fall in this category get in as well.\r\n\r\nThe due date should be the time we should aim for of the release (not a hard deadline). Best to not have new issues/prs target this version about 5-7 days prior.", "creator": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 1, "closed_issues": 14, "state": "open", "created_at": "2022-01-17T14:01:06Z", "updated_at": "2022-05-27T09:31:20Z", "due_on": "2022-02-04T00:00:00Z", "closed_at": null}, "comments": 2, "created_at": "2021-12-10T02:17:33Z", "updated_at": "2022-01-17T14:36:03Z", "closed_at": "2021-12-11T11:55:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/81", "html_url": "https://github.com/canselcik/libremarkable/pull/81", "diff_url": "https://github.com/canselcik/libremarkable/pull/81.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/81.patch", "merged_at": "2021-12-11T11:55:48Z"}, "body": "This is a minor fix that allows to Copy and Clone all types in `src/framebuffer/common.rs`. More a minor thing to improve usability for some cases.\r\n\r\nI originally stumbled upon this when doing [doomarkable](https://github.com/LinusCDE/doomarkable). Wanted to specify the waveform depending on the device and later reuse it depending on the model in a render loop. Problem was that the variable in loop wouldn't work, since the parameter is owned and rusts ownership wouldn't permit me to give ownership repeatedly away in a loop (duh).\r\n\r\nWouldn't be a problem if the waveform mode could be cloned or such, but this wasn't derive. So I would basically need to create my own clone, remember it otherwise (basically serializing to a different type (e.g. and int) deserializing it again every time). My workaround was to just find out the same value every time [in the loop](https://github.com/LinusCDE/doomarkable/blob/9b5785ba4a52679dfb39900b78a019bfa30b47ef/src/main.rs#L251) while it would be perfectly fine to do once [before the loop](https://github.com/LinusCDE/doomarkable/blob/9b5785ba4a52679dfb39900b78a019bfa30b47ef/src/main.rs#L189) (any maybe use a clone on that value if not also Copy).\r\n\r\nClone would be enough, but those types are pretty primitive and surely not worth the cloning. Also more complex types in the same file already had also \"Copy\" specifies. So I took the liberty to ensure that all types in that file have Copy and Clone.\r\n\r\nFor the next version, looking that everything is at least Debug'able and (in most cases) at Clone'able would probably be good as well. Just wanted to to this quick fix now since that note sat on my todo list ever since.\r\n\r\nMaybe those types should also get PartialEq, Eq and Hash as well in case people would need it. Not sure what Rust's philosophy would be in such a case (better to \"over-derive\" or \"under-derive\"?).", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/81/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/81/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/80", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/80/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/80/events", "html_url": "https://github.com/canselcik/libremarkable/pull/80", "id": 1075073821, "node_id": "PR_kwDOB0QpYs4vloB8", "number": 80, "title": "Bump evdev to get past a bug, hopefully", "user": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2", "html_url": "https://github.com/canselcik/libremarkable/milestone/2", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/2/labels", "id": 7580978, "node_id": "MI_kwDOB0QpYs4Ac60y", "number": 2, "title": "0.6.0", "description": "Tracking what to do before releasing 0.6.0.\r\n\r\nThere are already a lot of changes/improvements in this version. Since this will be a bunch of breaking changes, we should ensure all feasibly doable things that fall in this category get in as well.\r\n\r\nThe due date should be the time we should aim for of the release (not a hard deadline). Best to not have new issues/prs target this version about 5-7 days prior.", "creator": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 1, "closed_issues": 14, "state": "open", "created_at": "2022-01-17T14:01:06Z", "updated_at": "2022-05-27T09:31:20Z", "due_on": "2022-02-04T00:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2021-12-09T02:34:17Z", "updated_at": "2022-01-17T14:35:58Z", "closed_at": "2021-12-09T21:12:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/80", "html_url": "https://github.com/canselcik/libremarkable/pull/80", "diff_url": "https://github.com/canselcik/libremarkable/pull/80.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/80.patch", "merged_at": "2021-12-09T21:12:57Z"}, "body": "I've been running into a sporadic issue where, after being paused / unpaused by a launcher, the app will stop responding to pen input. Finally got a stacktrace out; the wacom thread seems to be stuck indefinitely here, when trying to recover from events that were dropped during the pause:\r\n \r\n```\r\n#0  bitvec::slice::BitSlice<bitvec::order::Lsb0, u8>::sp_iter_ones_first<u8> (self=<optimized out>) at /home/bkirwi/.cargo/registry/src/github.com-1ecc6299db9ec823/bitvec-0.21.2/src/slice/specialization.rs:169\r\n#1  0x005053d8 in bitvec::slice::iter::{impl#14}::next<bitvec::order::Lsb0, u8> (self=0x74efda88) at /home/bkirwi/.cargo/registry/src/github.com-1ecc6299db9ec823/bitvec-0.21.2/src/slice/iter.rs:2299\r\n#2  0x00503090 in core::iter::adapters::map::{impl#2}::next<evdev::constants::AbsoluteAxisType, bitvec::slice::iter::IterOnes<bitvec::order::Lsb0, u8>, fn(usize) -> evdev::constants::AbsoluteAxisType> (self=0x74efda88) at /rustc/59eed8a2aac0230a8b53e89d4e99d55912ba6b35/library/core/src/iter/adapters/map.rs:103\r\n#3  evdev::sync_stream::compensate_events (state=<optimized out>, dev=<optimized out>) at /home/bkirwi/.cargo/registry/src/github.com-1ecc6299db9ec823/evdev-0.11.1/src/sync_stream.rs:437\r\n#4  evdev::sync_stream::{impl#2}::next (self=0x74efdbf0) at /home/bkirwi/.cargo/registry/src/github.com-1ecc6299db9ec823/evdev-0.11.1/src/sync_stream.rs:499\r\n#5  0x004f18e8 in libremarkable::input::ev::{impl#0}::start::{closure#0} () at /home/bkirwi/Code/libremarkable/src/input/ev.rs:101\r\n```\r\n\r\nI haven't gone deep enough to totally confirm, but it appears to be an issue in evdev / bitvec, and there are a few recent bugfixes touching that code in the relevant projects. Bumping the patch version shouldn't hurt, and so far seems to be helping. (If it happens again even with this change, I'll open a proper issue.)", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/80/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/80/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/79", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/79/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/79/events", "html_url": "https://github.com/canselcik/libremarkable/pull/79", "id": 1055458472, "node_id": "PR_kwDOB0QpYs4unqSa", "number": 79, "title": "rM1+rm2fbc: fix code relating to logging refresh errors + musl CI", "user": {"login": "fenollp", "id": 278727, "node_id": "MDQ6VXNlcjI3ODcyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/278727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fenollp", "html_url": "https://github.com/fenollp", "followers_url": "https://api.github.com/users/fenollp/followers", "following_url": "https://api.github.com/users/fenollp/following{/other_user}", "gists_url": "https://api.github.com/users/fenollp/gists{/gist_id}", "starred_url": "https://api.github.com/users/fenollp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fenollp/subscriptions", "organizations_url": "https://api.github.com/users/fenollp/orgs", "repos_url": "https://api.github.com/users/fenollp/repos", "events_url": "https://api.github.com/users/fenollp/events{/privacy}", "received_events_url": "https://api.github.com/users/fenollp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-16T22:21:52Z", "updated_at": "2021-11-16T23:10:00Z", "closed_at": "2021-11-16T22:56:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/79", "html_url": "https://github.com/canselcik/libremarkable/pull/79", "diff_url": "https://github.com/canselcik/libremarkable/pull/79.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/79.patch", "merged_at": "2021-11-16T22:56:57Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/79/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/79/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/78", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/78/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/78/events", "html_url": "https://github.com/canselcik/libremarkable/pull/78", "id": 1052718095, "node_id": "PR_kwDOB0QpYs4ufLJz", "number": 78, "title": "Add built-in swtfb client and enable musl builds on rM 2", "user": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-11-13T16:28:34Z", "updated_at": "2021-12-08T10:23:31Z", "closed_at": "2021-12-08T10:23:29Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/78", "html_url": "https://github.com/canselcik/libremarkable/pull/78", "diff_url": "https://github.com/canselcik/libremarkable/pull/78.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/78.patch", "merged_at": "2021-12-08T10:23:29Z"}, "body": "See #76 . This should also enable musl builds and hence solve that problem.\r\n\r\nCode should be semi clean. As mentioned in #76 we might want to change \"Core\" and \"Swtfb\" into seperate backends (also todo when doing breaking changes: use `AsRef<std::path::Path>` in `from_path`).\r\n\r\nTesting if wanted:\r\n - Musleabihf build should work for demo example\r\n - Demo example with libc should run with AND without shim (e.g. LD_PRELOAD=... or rm2fb-shim).\r\n\r\nArtifacts built with `cross build --target=armv7-unknown-linux-gnueabihf --release --example demo` and `cross build --target=armv7-unknown-linux-musleabihf --release --example demo` : [demos.tar.gz](https://github.com/canselcik/libremarkable/files/7532384/demos.tar.gz)\r\n\r\nNew:\r\n - `framebuffer::swtfb_client`\r\n - `examples/swftb_sysv_spy.rs` as dylib (for LD_PRELOAD)\r\n - `device::Device::get_framebuffer_path(&self) -> &'static str`: Recommended to use in never versions as arg for `Framebuffer::from_path()`. Otherwise new swtfb_client will not be used automatically.\r\n\r\nBreaking changes:\r\n - `get_fix_screeninfo`, `get_var_screeninfo`, `put_var_screeninfo` have got an additional parameter to work with swtfb_client. I doubt that anyone used such low level functions apart from me in plato.\r\n\r\nOther changes:\r\n - Removed some duplicate code in `FramebufferRefresh`\r\n - Added new field `swtfb_client: Option<super::swtfb_client::SwtfbClient>` to `Framebuffer`\r\n\r\nNote: With swtfb_client, FixScreeninfo->smem_start will not be set (= 0) since it's hard to do without splitting the `from_path` completely for both variants. Again I highly doubt that anyone used this. `Framebuffer.frame.as_ptr()` should return the correct value.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/78/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/78/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/75", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/75/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/75/events", "html_url": "https://github.com/canselcik/libremarkable/pull/75", "id": 1033759705, "node_id": "PR_kwDOB0QpYs4tjw6g", "number": 75, "title": "Update dependencies", "user": {"login": "fenollp", "id": 278727, "node_id": "MDQ6VXNlcjI3ODcyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/278727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fenollp", "html_url": "https://github.com/fenollp", "followers_url": "https://api.github.com/users/fenollp/followers", "following_url": "https://api.github.com/users/fenollp/following{/other_user}", "gists_url": "https://api.github.com/users/fenollp/gists{/gist_id}", "starred_url": "https://api.github.com/users/fenollp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fenollp/subscriptions", "organizations_url": "https://api.github.com/users/fenollp/orgs", "repos_url": "https://api.github.com/users/fenollp/repos", "events_url": "https://api.github.com/users/fenollp/events{/privacy}", "received_events_url": "https://api.github.com/users/fenollp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-22T16:30:32Z", "updated_at": "2021-11-02T07:16:16Z", "closed_at": "2021-10-30T10:46:15Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/75", "html_url": "https://github.com/canselcik/libremarkable/pull/75", "diff_url": "https://github.com/canselcik/libremarkable/pull/75.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/75.patch", "merged_at": "2021-10-30T10:46:15Z"}, "body": "image was upgraded separately https://github.com/canselcik/libremarkable/pull/74 (but one can probably merge the two PRs together)\r\n\r\naabb-quadtree gave me too much trouble:\r\n* the only newer version [removed many utilities](https://docs.rs/crate/aabb-quadtree/0.1.0/source/src/geom.rs) and did not provide their replacements\r\n* there is no repo nor changelog which makes me think we should shop for another crate\r\nNOTE: its newest version heavily relies on crate euclid so the utils can probably be replaced with tools there.\r\n\r\nTested on rM2 with demo & one of my apps.\r\nTesting on rM1 soon.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/75/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/75/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/74", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/74/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/74/events", "html_url": "https://github.com/canselcik/libremarkable/pull/74", "id": 1033712422, "node_id": "PR_kwDOB0QpYs4tjnFu", "number": 74, "title": "bump dependency image to 0.23.14 from 0.21.3", "user": {"login": "fenollp", "id": 278727, "node_id": "MDQ6VXNlcjI3ODcyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/278727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fenollp", "html_url": "https://github.com/fenollp", "followers_url": "https://api.github.com/users/fenollp/followers", "following_url": "https://api.github.com/users/fenollp/following{/other_user}", "gists_url": "https://api.github.com/users/fenollp/gists{/gist_id}", "starred_url": "https://api.github.com/users/fenollp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fenollp/subscriptions", "organizations_url": "https://api.github.com/users/fenollp/orgs", "repos_url": "https://api.github.com/users/fenollp/repos", "events_url": "https://api.github.com/users/fenollp/events{/privacy}", "received_events_url": "https://api.github.com/users/fenollp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-10-22T15:36:37Z", "updated_at": "2021-10-23T23:25:01Z", "closed_at": "2021-10-23T21:23:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/74", "html_url": "https://github.com/canselcik/libremarkable/pull/74", "diff_url": "https://github.com/canselcik/libremarkable/pull/74.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/74.patch", "merged_at": "2021-10-23T21:23:38Z"}, "body": "One of my apps relies on the crate qrcode-generator which relies on latest image crate.\r\nLong story short it's easier to have this dep rely on latest version of dependencies.\r\nI should look into other deps in another PR.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/74/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/74/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/72", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/72/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/72/events", "html_url": "https://github.com/canselcik/libremarkable/pull/72", "id": 1031905584, "node_id": "PR_kwDOB0QpYs4tdwpq", "number": 72, "title": "Improve usability of example \"demo\" for rM 2", "user": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/1", "html_url": "https://github.com/canselcik/libremarkable/milestone/1", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/1/labels", "id": 7273279, "node_id": "MI_kwDOB0QpYs4Abvs_", "number": 1, "title": "0.5.0", "description": "Collecting PRs and issues for a possible 0.5.0 release.", "creator": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-10-20T19:34:48Z", "updated_at": "2021-10-22T02:02:13Z", "due_on": null, "closed_at": "2021-10-22T02:02:13Z"}, "comments": 1, "created_at": "2021-10-20T23:16:35Z", "updated_at": "2021-10-21T13:09:46Z", "closed_at": "2021-10-21T13:09:46Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/72", "html_url": "https://github.com/canselcik/libremarkable/pull/72", "diff_url": "https://github.com/canselcik/libremarkable/pull/72.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/72.patch", "merged_at": "2021-10-21T13:09:46Z"}, "body": "This pr solved issue #58 and also adds some decent rubber support to the canvas in the demo example.\r\n\r\nTested on the rM 2. Shouldn't change anything on the rM 1.\r\n\r\n<img src=\"https://i.imgur.com/CajZlpw.png\" width=\"50%\">", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/72/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/72/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/71", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/71/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/71/events", "html_url": "https://github.com/canselcik/libremarkable/pull/71", "id": 1031760920, "node_id": "PR_kwDOB0QpYs4tdSWc", "number": 71, "title": "Switch from mmap to memmap2", "user": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/1", "html_url": "https://github.com/canselcik/libremarkable/milestone/1", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/1/labels", "id": 7273279, "node_id": "MI_kwDOB0QpYs4Abvs_", "number": 1, "title": "0.5.0", "description": "Collecting PRs and issues for a possible 0.5.0 release.", "creator": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-10-20T19:34:48Z", "updated_at": "2021-10-22T02:02:13Z", "due_on": null, "closed_at": "2021-10-22T02:02:13Z"}, "comments": 1, "created_at": "2021-10-20T19:33:13Z", "updated_at": "2021-10-21T13:09:30Z", "closed_at": "2021-10-21T13:09:30Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/71", "html_url": "https://github.com/canselcik/libremarkable/pull/71", "diff_url": "https://github.com/canselcik/libremarkable/pull/71.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/71.patch", "merged_at": "2021-10-21T13:09:30Z"}, "body": "This library has been unmaintained since 2015. I'm not aware of any significant issues for our usage, but better safe.\r\n\r\nI suspect one could get away with `MmapMut` here, but sticking to the closest abstraction to minimize the diff, and because I'm uncertain about the semantics of rust's volatile and memory-mapped i/o.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/71/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/71/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/70", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/70/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/70/events", "html_url": "https://github.com/canselcik/libremarkable/pull/70", "id": 1030875578, "node_id": "PR_kwDOB0QpYs4taawC", "number": 70, "title": "Update to evdev 0.11.1", "user": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/1", "html_url": "https://github.com/canselcik/libremarkable/milestone/1", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/1/labels", "id": 7273279, "node_id": "MI_kwDOB0QpYs4Abvs_", "number": 1, "title": "0.5.0", "description": "Collecting PRs and issues for a possible 0.5.0 release.", "creator": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-10-20T19:34:48Z", "updated_at": "2021-10-22T02:02:13Z", "due_on": null, "closed_at": "2021-10-22T02:02:13Z"}, "comments": 1, "created_at": "2021-10-20T01:19:59Z", "updated_at": "2021-10-21T13:45:36Z", "closed_at": "2021-10-21T13:45:36Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/70", "html_url": "https://github.com/canselcik/libremarkable/pull/70", "diff_url": "https://github.com/canselcik/libremarkable/pull/70.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/70.patch", "merged_at": "2021-10-21T13:45:36Z"}, "body": "I did the update to evdev 0.11.1 in this commit. I tested the input example on the rM 2 and it seems fine. I currently don't have the rM 1 at hand for testing though (got somehow lost).\r\n\r\nMost things are a 1-to-1 translation and should behave the same. Added a not for one change.\r\n\r\nProbably best resolve how to handle that change, do a quick test and this pr should be good to go.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/70/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/70/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/69", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/69/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/69/events", "html_url": "https://github.com/canselcik/libremarkable/pull/69", "id": 1026753797, "node_id": "PR_kwDOB0QpYs4tN_6x", "number": 69, "title": "Resolve outstanding clippy lints", "user": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-14T19:39:55Z", "updated_at": "2021-10-15T01:20:36Z", "closed_at": "2021-10-14T22:13:02Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/69", "html_url": "https://github.com/canselcik/libremarkable/pull/69", "diff_url": "https://github.com/canselcik/libremarkable/pull/69.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/69.patch", "merged_at": "2021-10-14T22:13:02Z"}, "body": "Currently clippy always fails on PR builds, due to a few lint issues in the main branch.\r\n- [x] Apply all of clippy's suggestions\r\n- [x] Switch to running clippy on stable, instead of nightly. (The nightly branch often has new clippy suggestions added, which means the build can break even with no code changes.)", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/69/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/69/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/68", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/68/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/68/events", "html_url": "https://github.com/canselcik/libremarkable/pull/68", "id": 1025710480, "node_id": "PR_kwDOB0QpYs4tKt5i", "number": 68, "title": "Integration branch: README / build fixups", "user": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-13T21:25:21Z", "updated_at": "2021-10-14T01:56:50Z", "closed_at": "2021-10-14T01:56:49Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/68", "html_url": "https://github.com/canselcik/libremarkable/pull/68", "diff_url": "https://github.com/canselcik/libremarkable/pull/68.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/68.patch", "merged_at": "2021-10-14T01:56:49Z"}, "body": "This PR integrates #64 and #67, and supersedes #60. It should be enough to both fix the out-of-date README content and build cleanly with a recent-ish `evdev`. I've avoided merging any changes to the public API, though there are a few reasonable PRs... I can take those as followup.\r\n\r\nIt also applies a few clippy lints, in the hopes of pleasing the build check.. (Though it looks as though some issues the check complains about would be backwards-incompatible to fix, so I've left those for future work also.)", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/68/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/68/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/63", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/63/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/63/events", "html_url": "https://github.com/canselcik/libremarkable/pull/63", "id": 842749000, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAyMjQ5MTg5", "number": 63, "title": "Only borrow the string we want to print", "user": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/1", "html_url": "https://github.com/canselcik/libremarkable/milestone/1", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/1/labels", "id": 7273279, "node_id": "MI_kwDOB0QpYs4Abvs_", "number": 1, "title": "0.5.0", "description": "Collecting PRs and issues for a possible 0.5.0 release.", "creator": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-10-20T19:34:48Z", "updated_at": "2021-10-22T02:02:13Z", "due_on": null, "closed_at": "2021-10-22T02:02:13Z"}, "comments": 0, "created_at": "2021-03-28T14:22:49Z", "updated_at": "2021-10-21T13:04:56Z", "closed_at": "2021-10-21T13:04:55Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/63", "html_url": "https://github.com/canselcik/libremarkable/pull/63", "diff_url": "https://github.com/canselcik/libremarkable/pull/63.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/63.patch", "merged_at": "2021-10-21T13:04:55Z"}, "body": "The text-drawing API takes ownership over the string where it doesn't need to, forcing some extra copies. Switching to `&str` should be more performant and about as ergonomic.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/63/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/63/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/61", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/61/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/61/events", "html_url": "https://github.com/canselcik/libremarkable/pull/61", "id": 842503110, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAyMDY1MzMz", "number": 61, "title": "switch to `once_cell` from `lazy_static`", "user": {"login": "fenollp", "id": 278727, "node_id": "MDQ6VXNlcjI3ODcyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/278727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fenollp", "html_url": "https://github.com/fenollp", "followers_url": "https://api.github.com/users/fenollp/followers", "following_url": "https://api.github.com/users/fenollp/following{/other_user}", "gists_url": "https://api.github.com/users/fenollp/gists{/gist_id}", "starred_url": "https://api.github.com/users/fenollp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fenollp/subscriptions", "organizations_url": "https://api.github.com/users/fenollp/orgs", "repos_url": "https://api.github.com/users/fenollp/repos", "events_url": "https://api.github.com/users/fenollp/events{/privacy}", "received_events_url": "https://api.github.com/users/fenollp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/1", "html_url": "https://github.com/canselcik/libremarkable/milestone/1", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/1/labels", "id": 7273279, "node_id": "MI_kwDOB0QpYs4Abvs_", "number": 1, "title": "0.5.0", "description": "Collecting PRs and issues for a possible 0.5.0 release.", "creator": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-10-20T19:34:48Z", "updated_at": "2021-10-22T02:02:13Z", "due_on": null, "closed_at": "2021-10-22T02:02:13Z"}, "comments": 1, "created_at": "2021-03-27T13:20:28Z", "updated_at": "2021-10-22T13:03:40Z", "closed_at": "2021-10-21T13:45:00Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/61", "html_url": "https://github.com/canselcik/libremarkable/pull/61", "diff_url": "https://github.com/canselcik/libremarkable/pull/61.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/61.patch", "merged_at": "2021-10-21T13:45:00Z"}, "body": "See https://github.com/async-rs/async-std/issues/406 for the rationale", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/61/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/61/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/55", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/55/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/55/events", "html_url": "https://github.com/canselcik/libremarkable/pull/55", "id": 787576350, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU2MjQ5MzQ5", "number": 55, "title": "Make framebuffer an optional feature", "user": {"login": "lluchs", "id": 516527, "node_id": "MDQ6VXNlcjUxNjUyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/516527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lluchs", "html_url": "https://github.com/lluchs", "followers_url": "https://api.github.com/users/lluchs/followers", "following_url": "https://api.github.com/users/lluchs/following{/other_user}", "gists_url": "https://api.github.com/users/lluchs/gists{/gist_id}", "starred_url": "https://api.github.com/users/lluchs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lluchs/subscriptions", "organizations_url": "https://api.github.com/users/lluchs/orgs", "repos_url": "https://api.github.com/users/lluchs/repos", "events_url": "https://api.github.com/users/lluchs/events{/privacy}", "received_events_url": "https://api.github.com/users/lluchs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-01-16T23:42:12Z", "updated_at": "2022-01-14T13:50:43Z", "closed_at": "2022-01-14T13:50:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/55", "html_url": "https://github.com/canselcik/libremarkable/pull/55", "diff_url": "https://github.com/canselcik/libremarkable/pull/55.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/55.patch", "merged_at": "2022-01-14T13:50:43Z"}, "body": "Some users of libremarkable might want to use it only for its input\r\nhandling, but not for its framebuffer functionality. By disabling the\r\nframebuffer feature, users can also avoid lots of dependencies (73\r\ninstead of 151 dependencies to install), some of which (e.g., zstd) even\r\nneed a C compiler.\r\n\r\nThe default features will build everything as before, so this will not\r\ncause any compatibility issues.\r\n\r\nSee https://github.com/rien/reStream/pull/46 for an example of a libremarkable use that does not need any framebuffer functionality.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/55/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/55/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/54", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/54/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/54/events", "html_url": "https://github.com/canselcik/libremarkable/pull/54", "id": 777469592, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ3NzYwMzM1", "number": 54, "title": "Replace Model::Unknown with UnknownVersion error", "user": {"login": "rien", "id": 3226995, "node_id": "MDQ6VXNlcjMyMjY5OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3226995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rien", "html_url": "https://github.com/rien", "followers_url": "https://api.github.com/users/rien/followers", "following_url": "https://api.github.com/users/rien/following{/other_user}", "gists_url": "https://api.github.com/users/rien/gists{/gist_id}", "starred_url": "https://api.github.com/users/rien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rien/subscriptions", "organizations_url": "https://api.github.com/users/rien/orgs", "repos_url": "https://api.github.com/users/rien/repos", "events_url": "https://api.github.com/users/rien/events{/privacy}", "received_events_url": "https://api.github.com/users/rien/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/canselcik/libremarkable/milestones/1", "html_url": "https://github.com/canselcik/libremarkable/milestone/1", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/milestones/1/labels", "id": 7273279, "node_id": "MI_kwDOB0QpYs4Abvs_", "number": 1, "title": "0.5.0", "description": "Collecting PRs and issues for a possible 0.5.0 release.", "creator": {"login": "bkirwi", "id": 1596339, "node_id": "MDQ6VXNlcjE1OTYzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1596339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkirwi", "html_url": "https://github.com/bkirwi", "followers_url": "https://api.github.com/users/bkirwi/followers", "following_url": "https://api.github.com/users/bkirwi/following{/other_user}", "gists_url": "https://api.github.com/users/bkirwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkirwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkirwi/subscriptions", "organizations_url": "https://api.github.com/users/bkirwi/orgs", "repos_url": "https://api.github.com/users/bkirwi/repos", "events_url": "https://api.github.com/users/bkirwi/events{/privacy}", "received_events_url": "https://api.github.com/users/bkirwi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-10-20T19:34:48Z", "updated_at": "2021-10-22T02:02:13Z", "due_on": null, "closed_at": "2021-10-22T02:02:13Z"}, "comments": 6, "created_at": "2021-01-02T14:32:55Z", "updated_at": "2021-10-21T13:45:59Z", "closed_at": "2021-10-21T13:45:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/54", "html_url": "https://github.com/canselcik/libremarkable/pull/54", "diff_url": "https://github.com/canselcik/libremarkable/pull/54.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/54.patch", "merged_at": "2021-10-21T13:45:59Z"}, "body": "When the `current_model` is `Unknown`, it is unlikely implementors will be able to do meaningful things with it. In my opinion is makes more sense to move this flow to an error result.\r\n\r\nI have created an `ErrorKind` which can either be an `IOError` and an `UnknownVersion` so it is clear why determination of the current model failed.\r\n\r\nThis has two main advantages:\r\n- The code for handling different device models is simpler: only \"happy path\"'s need to be considered.  The pattern match `Model::Unknown => unreachable!()` is no longer needed.\r\n- The `UnknownVersion`  error now shows what the version string is that wasn't recognized. This will speed up adding the version to the known versions if the user reporting the error includes their error.\r\n\r\nThe disadvantage is however that the return type of `current_model()` and the `Model` enum have changed in a way that breaks the current API, thus requiring a major version bump. I do think this change improves usability of the API, but I would understand if you want to reject or postpone this for API stability.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/54/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/54/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/53", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/53/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/53/events", "html_url": "https://github.com/canselcik/libremarkable/pull/53", "id": 777323385, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ3NjU1NTY0", "number": 53, "title": "fix: Skip groupadd if gid exists in Docker setup", "user": {"login": "vidbina", "id": 335406, "node_id": "MDQ6VXNlcjMzNTQwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/335406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vidbina", "html_url": "https://github.com/vidbina", "followers_url": "https://api.github.com/users/vidbina/followers", "following_url": "https://api.github.com/users/vidbina/following{/other_user}", "gists_url": "https://api.github.com/users/vidbina/gists{/gist_id}", "starred_url": "https://api.github.com/users/vidbina/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vidbina/subscriptions", "organizations_url": "https://api.github.com/users/vidbina/orgs", "repos_url": "https://api.github.com/users/vidbina/repos", "events_url": "https://api.github.com/users/vidbina/events{/privacy}", "received_events_url": "https://api.github.com/users/vidbina/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-01T17:47:13Z", "updated_at": "2021-12-09T22:06:43Z", "closed_at": "2021-12-09T22:06:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/53", "html_url": "https://github.com/canselcik/libremarkable/pull/53", "diff_url": "https://github.com/canselcik/libremarkable/pull/53.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/53.patch", "merged_at": "2021-12-09T22:06:43Z"}, "body": "Users who have a gid that matching an existing gid in the container will encounter an error when running `groupadd`. In order to allow the docker build process to continue, the addition of the `-f` flag will allow `groupadd` to exit successfully if the group already exists.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/53/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/53/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/51", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/51/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/51/events", "html_url": "https://github.com/canselcik/libremarkable/pull/51", "id": 774583507, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ1NDgyNjQz", "number": 51, "title": "Add support for the rM2 battery", "user": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-24T23:54:28Z", "updated_at": "2020-12-25T22:15:00Z", "closed_at": "2020-12-25T22:15:00Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/51", "html_url": "https://github.com/canselcik/libremarkable/pull/51", "diff_url": "https://github.com/canselcik/libremarkable/pull/51.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/51.patch", "merged_at": "2020-12-25T22:15:00Z"}, "body": "Commit message: This was not tested. Though by viewing the file tree of /sys provided by @torwag [here](https://github.com/Eeems/oxide/issues/48#issue698181952) (file tree.txt line 3166) it seems that all methods are supported.\r\n\r\nI didn't test whether this actually works on a rM 2 as I don't own that device. I'm confident though that it should work. I added the compiled demo binary that also reports that battery data. Please test whether it displays Charging/Discharging and the percentage on the reMarkable 2.\r\n\r\n---\r\n\r\n- [demo.tar.gz](https://github.com/canselcik/libremarkable/files/5740678/demo.tar.gz)\r\n", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/51/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/51/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/50", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/50/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/50/events", "html_url": "https://github.com/canselcik/libremarkable/pull/50", "id": 772325509, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQzNjExMTAy", "number": 50, "title": "Fix wrong MT input mapping for the rM 2", "user": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-21T17:05:00Z", "updated_at": "2021-05-20T12:56:46Z", "closed_at": "2020-12-24T22:20:23Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/50", "html_url": "https://github.com/canselcik/libremarkable/pull/50", "diff_url": "https://github.com/canselcik/libremarkable/pull/50.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/50.patch", "merged_at": "2020-12-24T22:20:23Z"}, "body": "Hi,\r\nthis PR finally adds the correct input mapping for Multitouch. Seems there was no way around adding inversion of axis. @raisjn confirmed that this mapping (the input example) works on the rM2 now.\r\n\r\nAfter this, the rM 2 should fully work when used together with [the shim](https://github.com/ddvk/remarkable2-framebuffer/).\r\n\r\nEDIT: Fixed wrong tagged username.", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/50/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/50/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/49", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/49/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/49/events", "html_url": "https://github.com/canselcik/libremarkable/pull/49", "id": 752647575, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI4OTI4MTYw", "number": 49, "title": "CI: fix typo that blocks demo autorelease", "user": {"login": "fenollp", "id": 278727, "node_id": "MDQ6VXNlcjI3ODcyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/278727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fenollp", "html_url": "https://github.com/fenollp", "followers_url": "https://api.github.com/users/fenollp/followers", "following_url": "https://api.github.com/users/fenollp/following{/other_user}", "gists_url": "https://api.github.com/users/fenollp/gists{/gist_id}", "starred_url": "https://api.github.com/users/fenollp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fenollp/subscriptions", "organizations_url": "https://api.github.com/users/fenollp/orgs", "repos_url": "https://api.github.com/users/fenollp/repos", "events_url": "https://api.github.com/users/fenollp/events{/privacy}", "received_events_url": "https://api.github.com/users/fenollp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-28T10:21:02Z", "updated_at": "2020-11-28T23:07:27Z", "closed_at": "2020-11-28T22:28:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/49", "html_url": "https://github.com/canselcik/libremarkable/pull/49", "diff_url": "https://github.com/canselcik/libremarkable/pull/49.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/49.patch", "merged_at": "2020-11-28T22:28:33Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/49/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/49/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/48", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/48/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/48/events", "html_url": "https://github.com/canselcik/libremarkable/pull/48", "id": 734035221, "node_id": "MDExOlB1bGxSZXF1ZXN0NTEzNjcyNzU5", "number": 48, "title": "reMarkable 2 input support", "user": {"login": "LinusCDE", "id": 22298664, "node_id": "MDQ6VXNlcjIyMjk4NjY0", "avatar_url": "https://avatars.githubusercontent.com/u/22298664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusCDE", "html_url": "https://github.com/LinusCDE", "followers_url": "https://api.github.com/users/LinusCDE/followers", "following_url": "https://api.github.com/users/LinusCDE/following{/other_user}", "gists_url": "https://api.github.com/users/LinusCDE/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusCDE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusCDE/subscriptions", "organizations_url": "https://api.github.com/users/LinusCDE/orgs", "repos_url": "https://api.github.com/users/LinusCDE/repos", "events_url": "https://api.github.com/users/LinusCDE/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusCDE/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-11-01T18:48:29Z", "updated_at": "2020-11-28T09:18:08Z", "closed_at": "2020-11-28T09:18:08Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/48", "html_url": "https://github.com/canselcik/libremarkable/pull/48", "diff_url": "https://github.com/canselcik/libremarkable/pull/48.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/48.patch", "merged_at": "2020-11-28T09:18:07Z"}, "body": "This PR makes the input system compatible with the rM2.\r\n\r\nThe the rM2 the event files have changed their order. There are different ways of getting the correct file. I used @raisjn's [aproach](https://gist.github.com/raisjn/01b16286dcc4461a6643f40f8f553966) by checking the capabilities of each device (see [this issue](https://github.com/Eeems/oxide/issues/48) for more).\r\n\r\nThis basicially opens every `/dev/input/event*` file once before the first device is accessed to build a HashMap correlating all `InputDevice`s event file paths.\r\n\r\nThis should also keep working when a rM3 gets released.\r\n\r\nOne downside I found with this though is, that the Multitouch device on the rM1 has some serious delay when opening it.\r\n\r\n```\r\nreMarkable: /home/root/ ./input # Modified to measure detection times\r\nDuration \"/dev/input/event2\" opening fd: Ok(110.121\u00b5s)\r\nDuration \"/dev/input/event2\" checking caps: Ok(20.957\u00b5s)\r\nDuration \"/dev/input/event2\" closing fd: Ok(39.373\u00b5s)\r\nDuration \"/dev/input/event1\" opening fd: Ok(35.439177ms)  # <-- Takes long!\r\nDuration \"/dev/input/event1\" checking caps: Ok(11.541\u00b5s)\r\nDuration \"/dev/input/event1\" closing fd: Ok(146.286\u00b5s)\r\nDuration \"/dev/input/event0\" opening fd: Ok(234.241\u00b5s)\r\nDuration \"/dev/input/event0\" checking caps: Ok(10.666\u00b5s)\r\nDuration \"/dev/input/event0\" closing fd: Ok(46.206\u00b5s)\r\nDuration total: Ok(44.654802ms) # The increased time probably due to checking the system time\r\n\"/dev/input/event2\" is GPIO\r\n\"/dev/input/event1\" is Multitouch\r\n\"/dev/input/event0\" is Wacom\r\nWaiting for input events...\r\n^C\r\n```\r\n\r\nSo this will basicially add a 30-40ms delay to anyone using ANY input device with this lib.  \r\nOne mitigation would be to keep the evdev open and either pass it onto a evcontext or drop it if a timeout runs out. This would increase the complexity of code however and I'm not sure how this should best be implemented.\r\n\r\nI'm also not sure whether the current code should be refactored into a own struct some other cleaner approach.\r\n\r\n@raisjn, could you test [this gzipped input example](https://github.com/canselcik/libremarkable/files/5471541/input-newdebug.gz) on the rM2 as well as I don't own one. That particular binary also includes the \"benchmarking\" I showed in the above example to maybe see some changes on the rM2.\r\n\r\n**NOTE:** I'll keep this PR a draft for now since some of the values also seem to have changed and something else with the touchscreen. @raisjn will probably have specifics on this. I also would appreciate any input here as to how make this update proper.\r\n\r\n**NOTE2:** I also notices that this PR also updates the input.rs from PR #47. So this should probably be resolved first as I'm not sure how to properly separate the PRs (I should've seen this coming :|).", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/48/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/48/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/45", "repository_url": "https://api.github.com/repos/canselcik/libremarkable", "labels_url": "https://api.github.com/repos/canselcik/libremarkable/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/canselcik/libremarkable/issues/45/comments", "events_url": "https://api.github.com/repos/canselcik/libremarkable/issues/45/events", "html_url": "https://github.com/canselcik/libremarkable/pull/45", "id": 711859430, "node_id": "MDExOlB1bGxSZXF1ZXN0NDk1NDM2MDgw", "number": 45, "title": "CI with cross & publish demo on tag/release", "user": {"login": "fenollp", "id": 278727, "node_id": "MDQ6VXNlcjI3ODcyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/278727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fenollp", "html_url": "https://github.com/fenollp", "followers_url": "https://api.github.com/users/fenollp/followers", "following_url": "https://api.github.com/users/fenollp/following{/other_user}", "gists_url": "https://api.github.com/users/fenollp/gists{/gist_id}", "starred_url": "https://api.github.com/users/fenollp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fenollp/subscriptions", "organizations_url": "https://api.github.com/users/fenollp/orgs", "repos_url": "https://api.github.com/users/fenollp/repos", "events_url": "https://api.github.com/users/fenollp/events{/privacy}", "received_events_url": "https://api.github.com/users/fenollp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-09-30T11:18:27Z", "updated_at": "2020-11-28T09:38:08Z", "closed_at": "2020-11-28T09:19:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/canselcik/libremarkable/pulls/45", "html_url": "https://github.com/canselcik/libremarkable/pull/45", "diff_url": "https://github.com/canselcik/libremarkable/pull/45.diff", "patch_url": "https://github.com/canselcik/libremarkable/pull/45.patch", "merged_at": "2020-11-28T09:19:11Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/canselcik/libremarkable/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/canselcik/libremarkable/issues/45/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]