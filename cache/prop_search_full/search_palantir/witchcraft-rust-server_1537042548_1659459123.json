[{"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/64", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/64/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/64/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/64", "id": 1322277590, "node_id": "PR_kwDOGiYIwc48UfeU", "number": 64, "title": "Update serde_yaml requirement from 0.8 to 0.9", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3645465782, "node_id": "LA_kwDOGiYIwc7ZSWS2", "url": "https://api.github.com/repos/palantir/witchcraft-rust-server/labels/no%20changelog", "name": "no changelog", "color": "ffbee6", "default": false, "description": null}, {"id": 4056979002, "node_id": "LA_kwDOGiYIwc7x0JY6", "url": "https://api.github.com/repos/palantir/witchcraft-rust-server/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-29T13:49:02Z", "updated_at": "2022-07-29T18:06:21Z", "closed_at": "2022-07-29T18:06:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/64", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/64", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/64.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/64.patch", "merged_at": "2022-07-29T18:06:12Z"}, "body": "Updates the requirements on [serde_yaml](https://github.com/dtolnay/serde-yaml) to permit the latest version.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/dtolnay/serde-yaml/releases\">serde_yaml's releases</a>.</em></p>\n<blockquote>\n<h2>0.9.1</h2>\n<ul>\n<li>Fix panic on some documents containing syntax error (<a href=\"https://github-redirect.dependabot.com/dtolnay/serde-yaml/issues/293\">#293</a>)</li>\n<li>Improve error messages that used to contain duplicative line/column information (<a href=\"https://github-redirect.dependabot.com/dtolnay/serde-yaml/issues/294\">#294</a>)</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/dtolnay/serde-yaml/commit/9eca262590253b02012ff96ebb67e9ae982e8841\"><code>9eca262</code></a> Release 0.9.1</li>\n<li><a href=\"https://github.com/dtolnay/serde-yaml/commit/1d7fc6b3a3652d883cc2d57831914ac80cc788e9\"><code>1d7fc6b</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/dtolnay/serde-yaml/issues/295\">#295</a> from dtolnay/scan</li>\n<li><a href=\"https://github.com/dtolnay/serde-yaml/commit/d23702022da98c49e04413bc1ac0137e86cd0a28\"><code>d237020</code></a> Improve error message on scan error</li>\n<li><a href=\"https://github.com/dtolnay/serde-yaml/commit/37bd40af886293d70a6f7b67c7af6ddeba1c1d8b\"><code>37bd40a</code></a> Add test of scan error</li>\n<li><a href=\"https://github.com/dtolnay/serde-yaml/commit/2c183216d3462fb7cf1515cfbe8ec6ea16b6288d\"><code>2c18321</code></a> Fix unreachable code panic on scan error</li>\n<li><a href=\"https://github.com/dtolnay/serde-yaml/commit/492ac3041da20e39a4c85cce528b2d827d02d2bf\"><code>492ac30</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/dtolnay/serde-yaml/issues/294\">#294</a> from dtolnay/context</li>\n<li><a href=\"https://github.com/dtolnay/serde-yaml/commit/4f88bf4ae2c6cceb893a4853b2fcef2dadcb1475\"><code>4f88bf4</code></a> Eliminate repetitive line/column context from error message</li>\n<li><a href=\"https://github.com/dtolnay/serde-yaml/commit/4167a958bb3c3f0c96028a72889e144d483cec3c\"><code>4167a95</code></a> Release 0.9.0</li>\n<li><a href=\"https://github.com/dtolnay/serde-yaml/commit/f2ef1422d738436a0ae5e0b5d97da416e576fb00\"><code>f2ef142</code></a> Update readme to cover enums</li>\n<li><a href=\"https://github.com/dtolnay/serde-yaml/commit/040f0a0d7006a67aa9c30a0fde6d91b35c62af86\"><code>040f0a0</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/dtolnay/serde-yaml/issues/291\">#291</a> from dtolnay/tovec</li>\n<li>Additional commits viewable in <a href=\"https://github.com/dtolnay/serde-yaml/compare/0.8.0...0.9.1\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/64/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/64/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/61", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/61/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/61/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/61", "id": 1311693219, "node_id": "PR_kwDOGiYIwc47xLiQ", "number": 61, "title": "Update to conjure 2", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-20T18:47:10Z", "updated_at": "2022-07-21T18:26:53Z", "closed_at": "2022-07-21T18:26:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/61", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/61", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/61.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/61.patch", "merged_at": "2022-07-21T18:26:50Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/61/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/61/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/54", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/54/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/54/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/54", "id": 1301400986, "node_id": "PR_kwDOGiYIwc47OuI-", "number": 54, "title": "Use minidumps for crash reporting", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-12T00:55:15Z", "updated_at": "2022-08-02T15:51:05Z", "closed_at": "2022-08-02T15:51:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/54", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/54", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/54.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/54.patch", "merged_at": "2022-08-02T15:51:02Z"}, "body": "## Before this PR\r\nWe relied on libunwind for crash reporting, which had several disadvantages:\r\n\r\n1. It claims to be async-signal safe but that is incorrect.\r\n2. We only report the stack of the crashing thread.\r\n3. It involves quite a bit of unsafe code to work in a signal handler.\r\n4. It only works on Linux.\r\n5. It is a big blob of somewhat sketchy C code.\r\n\r\n## After this PR\r\n<!-- User-facing outcomes this PR delivers go below -->\r\n==COMMIT_MSG==\r\nThe server now records standard minidumps after crashes.\r\n==COMMIT_MSG==\r\n\r\nThe minidump format is commonly used in Windows, Chrome, Firefox, and elsewhere. The file format captures the register state and stack contents of each thread, the libraries loaded by the process and various other useful bits of information. You can think of this kind of like a very small version of a core dump or a Java crash dump.\r\n\r\nTraditionally, a minidump is sent back to the developers where a tool will load symbol information for the offending binary and use that to unwind the recorded stacks of each thread to produce full stack traces. However, raw minidumps contain a bunch of unsafe data (minimally stack contents and environment variables), so we can't simply ship them around. Instead, process them when the service starts back up again and log the dump information. Like with WC-Java and its crash dumps, the raw minidump is preserved in the `var/log` directory for further analysis if necessary. In principle, we could try to redact all of the stack memory not used for unwinding, environment variables, etc, but it seems risky and realistically all we care about are the stack traces 99% of the time.\r\n\r\nThe minidump-processor crate has some in-progress work to support inlined frames and direct processing of binaries, but in the meantime we end up having to write some extra custom logic around the processed minidump.\r\n\r\nRather than trying to write async-signal safe code that can create a minidump, we instead spawn a child process that the signal handler sends a dump request to. This is very similar to the `rstack` logic we use for thread dumps except that in this case the child process is spawned immediately.\r\n\r\nIn the future, we should be able to use minidumps to replace the elfutils dependency for our thread dumps. I'm going to do this in a follow-up though, since it will require a fair amount of extra work.\r\n\r\nThis should in principle work on macOS, though it seems like the support there isn't as robust as Linux currently.\r\n\r\nThere are a few upstream fixes needed for this to work properly on aarch64.\r\n\r\nCloses #45\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/54/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/54/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/52", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/52/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/52/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/52", "id": 1273900454, "node_id": "PR_kwDOGiYIwc45y0dg", "number": 52, "title": "Provide the mode when creating the crash log", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3648327130, "node_id": "LA_kwDOGiYIwc7ZdQ3a", "url": "https://api.github.com/repos/palantir/witchcraft-rust-server/labels/merge%20when%20ready", "name": "merge when ready", "color": "6f42c1", "default": false, "description": ""}, {"id": 3648327132, "node_id": "LA_kwDOGiYIwc7ZdQ3c", "url": "https://api.github.com/repos/palantir/witchcraft-rust-server/labels/autorelease", "name": "autorelease", "color": "a3c6f7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-16T17:55:20Z", "updated_at": "2022-06-16T18:22:22Z", "closed_at": "2022-06-16T18:22:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/52", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/52", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/52.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/52.patch", "merged_at": "2022-06-16T18:22:17Z"}, "body": "Previously, the permissions of the crash log would be based off of random data from the stack!", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/52/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/52/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/51", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/51/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/51/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/51", "id": 1248450935, "node_id": "PR_kwDOGiYIwc44do7R", "number": 51, "title": "Fix a panic in auth token checks", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3648327132, "node_id": "LA_kwDOGiYIwc7ZdQ3c", "url": "https://api.github.com/repos/palantir/witchcraft-rust-server/labels/autorelease", "name": "autorelease", "color": "a3c6f7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-25T17:43:53Z", "updated_at": "2022-05-25T18:32:03Z", "closed_at": "2022-05-25T18:31:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/51", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/51", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/51.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/51.patch", "merged_at": "2022-05-25T18:31:57Z"}, "body": "We use OpenSSL's constant time memcmp implementation, which requires that the two buffers have the same length. Previously if this wasn't the case, we'd panic.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/51/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/51/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/48", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/48/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/48/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/48", "id": 1224633078, "node_id": "PR_kwDOGiYIwc43QPue", "number": 48, "title": "Fix ClientIo serialization", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-03T20:44:44Z", "updated_at": "2022-05-04T14:48:33Z", "closed_at": "2022-05-04T14:48:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/48", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/48", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/48.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/48.patch", "merged_at": "2022-05-04T14:48:28Z"}, "body": "## Before this PR\r\nA program would panic if a `conjure_error::Error` was ever created with a `ClientIo` error type.\r\n\r\n## After this PR\r\n<!-- User-facing outcomes this PR delivers go below -->\r\n==COMMIT_MSG==\r\nFixed a panic when a client-side IO error is encountered.\r\n==COMMIT_MSG==\r\n\r\nCloses #47 \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/48/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/48/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/46", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/46/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/46/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/46", "id": 1211054992, "node_id": "PR_kwDOGiYIwc42j0df", "number": 46, "title": "Update attohttpc requirement from 0.18 to 0.19", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3645465782, "node_id": "LA_kwDOGiYIwc7ZSWS2", "url": "https://api.github.com/repos/palantir/witchcraft-rust-server/labels/no%20changelog", "name": "no changelog", "color": "ffbee6", "default": false, "description": null}, {"id": 4056979002, "node_id": "LA_kwDOGiYIwc7x0JY6", "url": "https://api.github.com/repos/palantir/witchcraft-rust-server/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-21T13:31:41Z", "updated_at": "2022-05-03T20:35:50Z", "closed_at": "2022-05-03T20:35:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/46", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/46", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/46.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/46.patch", "merged_at": "2022-05-03T20:35:43Z"}, "body": "Updates the requirements on [attohttpc](https://github.com/sbstp/attohttpc) to permit the latest version.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/sbstp/attohttpc/releases\">attohttpc's releases</a>.</em></p>\n<blockquote>\n<h2>v0.19.0</h2>\n<p><a href=\"https://github-redirect.dependabot.com/sbstp/attohttpc/issues/114\">#114</a> disable default features of multipart for security purposes</p>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/sbstp/attohttpc/commit/c715941218f6df7bfe21532a793e9ee5f26022e2\"><code>c715941</code></a> Version 0.19.0</li>\n<li><a href=\"https://github.com/sbstp/attohttpc/commit/1b2c3088557723db47e28145c7e3be652482887e\"><code>1b2c308</code></a> fix(multipart): disable default features</li>\n<li>See full diff in <a href=\"https://github.com/sbstp/attohttpc/compare/v0.18.0...v0.19.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/46/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/46/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/43", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/43/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/43/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/43", "id": 1177412250, "node_id": "PR_kwDOGiYIwc402IER", "number": 43, "title": "Include the query in the unsafe path param of request logs", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-22T23:28:35Z", "updated_at": "2022-04-11T21:56:33Z", "closed_at": "2022-04-11T21:56:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/43", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/43", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/43.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/43.patch", "merged_at": "2022-04-11T21:56:30Z"}, "body": "## Before this PR\r\nThe unsafe `path` parameter in request logs only contained the path component of the request URI.\r\n\r\n## After this PR\r\n==COMMIT_MSG==\r\nThe unsafe `path` parameter in request logs now contains the URI query in addition to the path.\r\n==COMMIT_MSG==\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/43/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/43/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/42", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/42/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/42/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/42", "id": 1172512911, "node_id": "PR_kwDOGiYIwc40myW0", "number": 42, "title": "Ready for release", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3645465782, "node_id": "LA_kwDOGiYIwc7ZSWS2", "url": "https://api.github.com/repos/palantir/witchcraft-rust-server/labels/no%20changelog", "name": "no changelog", "color": "ffbee6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-17T15:56:56Z", "updated_at": "2022-03-17T17:12:12Z", "closed_at": "2022-03-17T17:12:07Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/42", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/42", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/42.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/42.patch", "merged_at": "2022-03-17T17:12:07Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/42/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/42/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/41", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/41/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/41/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/41", "id": 1171108129, "node_id": "PR_kwDOGiYIwc40iZC6", "number": 41, "title": "Add docs and metadata for publishing", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-16T14:32:51Z", "updated_at": "2022-03-16T18:49:17Z", "closed_at": "2022-03-16T18:48:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/41", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/41", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/41.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/41.patch", "merged_at": "2022-03-16T18:48:15Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/41/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/41/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/40", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/40/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/40/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/40", "id": 1163987050, "node_id": "PR_kwDOGiYIwc40LL6v", "number": 40, "title": "Remove some old cipher suites", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-09T14:09:10Z", "updated_at": "2022-03-09T17:01:08Z", "closed_at": "2022-03-09T17:01:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/40", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/40", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/40.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/40.patch", "merged_at": "2022-03-09T17:01:03Z"}, "body": "Following the change in WC-Java, the only non-authenticated suite we need to continue supporting for now is AES_256_CBC_SHA384.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/40/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/40/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/39", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/39/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/39/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/39", "id": 1162971049, "node_id": "PR_kwDOGiYIwc40HzMi", "number": 39, "title": "Allow absolute form URIs", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-08T18:13:27Z", "updated_at": "2022-03-08T21:06:30Z", "closed_at": "2022-03-08T21:06:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/39", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/39", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/39.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/39.patch", "merged_at": "2022-03-08T21:06:27Z"}, "body": "We previously rejected requests with absolute-form URIs (e.g. `GET https://foobar.com/a/b HTTP/1.1`), since they're only supposed to be used with `CONNECT` requests which we don't handle. However, HTTP/2 requests that contain an `:authority` pseudo-header are rendered in absolute-form by Hyper, and it appears that WC-Java allows absolute-form HTTP/1.1 requests anyways.\r\n\r\nThis PR simply removes the restriction, allowing those requests to be processed.\r\n\r\nI also added a missing constructor for the TlsClientAuthenticationService.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/39/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/39/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/38", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/38/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/38/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/38", "id": 1160688144, "node_id": "PR_kwDOGiYIwc40AY8l", "number": 38, "title": "Add builders for config structs", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-06T18:58:03Z", "updated_at": "2022-03-16T18:47:55Z", "closed_at": "2022-03-16T18:47:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/38", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/38", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/38.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/38.patch", "merged_at": "2022-03-16T18:47:51Z"}, "body": "In addition, I've restructured the `Deserialize` implementations to use the builders to ensure that we have consistent default and validation handling.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/38/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/38/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/37", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/37/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/37/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/37", "id": 1140762041, "node_id": "PR_kwDOGiYIwc4y9fvV", "number": 37, "title": "[33/n] Improve handling of cancelled requests", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-17T01:25:15Z", "updated_at": "2022-02-28T16:59:58Z", "closed_at": "2022-02-28T16:59:55Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/37", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/37", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/37.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/37.patch", "merged_at": "2022-02-28T16:59:55Z"}, "body": "If a client cancels a request, its associated future will be dropped. For nonblocking request handlers this can produce a confusing result where the task doing some work suddenly \"vanishes\". For blocking requests, the worker on the thread pool just keeps on running even though nothing is waiting on it anymore.\r\n\r\nThis PR adds a layer which logs a message when a request is cancelled (and updates the MDC layer slightly to ensure the logging state is set up properly). It also adds a `Cancellation` type that is added to the request extensions of blocking endpoints and can be queried to determine if the request has been cancelled or not. While extensions are not directly exposed to generated Conjure handlers, implementations that care about cancellation can use a handler wrapper to e.g. stick the value in a thread local for later retrieval.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/37/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/37/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/36", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/36/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/36/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/36", "id": 1136600855, "node_id": "PR_kwDOGiYIwc4yv7ww", "number": 36, "title": "[32/n] Add a #[witchcraft_server::main] macro", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-14T01:14:19Z", "updated_at": "2022-02-28T16:59:26Z", "closed_at": "2022-02-28T16:59:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/36", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/36", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/36.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/36.patch", "merged_at": "2022-02-28T16:59:25Z"}, "body": "This is just a small convenience, but makes Witchcraft server's a little bit cleaner to write.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/36/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/36/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/35", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/35/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/35/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/35", "id": 1136294355, "node_id": "PR_kwDOGiYIwc4yu1t3", "number": 35, "title": "[31/n] Support request and response trailers", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-13T18:58:59Z", "updated_at": "2022-02-28T16:59:14Z", "closed_at": "2022-02-28T16:59:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/35", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/35", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/35.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/35.patch", "merged_at": "2022-02-28T16:59:10Z"}, "body": "Since Conjure-generated services don't interact with trailers, this is primarily designed to allow integration with gRPC services. Due to how the conjure-http APIs work, the empty and fixed size response types can't have trailers set, but that shouldn't be that much of a problem in practice.\r\n\r\nThe ETE test for this feature exposed a problem with the design of the ETE harness setup: we previously blocked in Server's drop implemnetation waiting for the server to gracefully shutdown, but since `#[tokio::test]` uses a single threaded reactor that would prevent the HTTP2 connection from cleanly closing. To fix that, tests are now required to explicitly shut down the server when they're done running. They should also ensure that any clients have already been closed to avoid making the test wait for the idle connection timeout to elapse on shutdown.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/35/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/35/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/34", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/34/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/34/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/34", "id": 1134141976, "node_id": "PR_kwDOGiYIwc4ym7yX", "number": 34, "title": "[30/n] Add IO timeouts to blocking bodies", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-12T14:47:25Z", "updated_at": "2022-02-18T18:37:17Z", "closed_at": "2022-02-18T18:37:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/34", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/34", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/34.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/34.patch", "merged_at": "2022-02-18T18:37:14Z"}, "body": "Following WC-Java, we apply a fixed 1 minute timeout to individual request body reads and response body writes. Since nonblocking endpoints have much more straightforward control over timeouts and don't occupy an entire OS thread, we do not apply any fixed timeouts there.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/34/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/34/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/33", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/33/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/33/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/33", "id": 1133471110, "node_id": "PR_kwDOGiYIwc4ykgZ8", "number": 33, "title": "[29/n] Add ETE tests", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-12T01:32:51Z", "updated_at": "2022-02-18T18:37:04Z", "closed_at": "2022-02-18T18:36:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/33", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/33", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/33.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/33.patch", "merged_at": "2022-02-18T18:36:58Z"}, "body": "Most of this infrastructure is pulled directly from our internal implementation. There are fewer ETE tests now though, since Conjure is doing most of the heavy lifting for request processing.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/33/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/33/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/32", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/32/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/32/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/32", "id": 1132891414, "node_id": "PR_kwDOGiYIwc4yidWO", "number": 32, "title": "[28/n] Ensure initialization-time problems are logged", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-11T17:28:40Z", "updated_at": "2022-02-17T00:10:09Z", "closed_at": "2022-02-17T00:10:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/32", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/32", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/32.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/32.patch", "merged_at": "2022-02-17T00:10:06Z"}, "body": "We previously only flushed the loggers as part of the graceful shutdown process. In particular, that meant we wouldn't shut down the logger if the user-provided initialization function failed or panicked and the logs from those errors would most likely be lost. In addition, we would have to double-log errors because we didn't know if the service logger was set up.\r\n\r\nTo fix these problems, we initialize the service logger very early, with it initially logging to standard out. It's then reconfigured as part of the standard log initialization step once we have our configuration. We also move the logger flush hooks to run when the Runtime drops, and move that out to after the top-level error reporting to ensure it always happens after all of the logs we care about.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/32/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/32/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/30", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/30/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/30/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/30", "id": 1129323545, "node_id": "PR_kwDOGiYIwc4yV4Ri", "number": 30, "title": "[27/n] Report crash info", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-10T01:56:28Z", "updated_at": "2022-02-16T18:21:04Z", "closed_at": "2022-02-16T18:20:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/30", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/30", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/30.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/30.patch", "merged_at": "2022-02-16T18:20:58Z"}, "body": "While the high level approach is the same as with our internal Rust implementation, I've made some notable adjustments:\r\n\r\n* We defer creating the crash info file until the signal handler actually runs. Historically, people have been put off by the presence of a \"crash\" file in the log directory even if it's empty.\r\n* We defer reading `/proc/self/maps` until the signal handler runs rather than doing it at startup. Due to the constraints of signal safety we can't easily filter out non-executable maps like we did before, but this ensures that we see an accurate picture at the time of the crash (e.g. with respect to things like JITs or dlopen adding extra executable mappings).\r\n* We limit how much of the crash log we report in service logs to ensure that we don't exceed limits in log collection infrastructure. To avoid losing useful data, we save the crash log rather than deleting it.\r\n\r\nOne downside of the current approach is that it won't work in environments that don't have a persistent `var/log` directory (e.g. containerized deployments). Ideally, we would write service logs directly, but that'll be a significantly more complex implementation.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/30/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/30/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/29", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/29/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/29/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/29", "id": 1126709219, "node_id": "PR_kwDOGiYIwc4yNSMg", "number": 29, "title": "[26/n] Add the debug endpoints", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-08T02:13:58Z", "updated_at": "2022-02-16T18:13:31Z", "closed_at": "2022-02-16T18:13:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/29", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/29", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/29.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/29.patch", "merged_at": "2022-02-16T18:13:27Z"}, "body": "No functional changes from our internal implementation, but I did clean up the registration process a bit.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/29/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/29/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/28", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/28/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/28/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/28", "id": 1125964311, "node_id": "PR_kwDOGiYIwc4yK28_", "number": 28, "title": "[25/n] Add the status endpoints", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-07T13:06:34Z", "updated_at": "2022-02-16T14:43:56Z", "closed_at": "2022-02-16T14:42:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/28", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/28", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/28.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/28.patch", "merged_at": "2022-02-16T14:42:17Z"}, "body": "We unfortunately can't Conjure-generate these since readiness needs to be able to return a 503 with a custom response body :(.\r\n\r\n~~Compared to our internal implementation, this doesn't currently have the health status code special casing for the old deployd LTS version - I will need to check if that's still relevant.~~ All supported releases of our deployment infrastructure support the new health check endpoint behvaior.\r\n\r\nMirroring WC-Java, the `ReadinessCheckRegistry` is much simpler than the `HealthCheckRegistry`, since readiness checks should just be polling the state of initialization work happening elsewhere.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/28/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/28/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/27", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/27/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/27/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/27", "id": 1125375904, "node_id": "PR_kwDOGiYIwc4yI7cF", "number": 27, "title": "[24/n] Add standard health checks", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-07T00:49:31Z", "updated_at": "2022-02-16T14:42:05Z", "closed_at": "2022-02-16T14:42:01Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/27", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/27", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/27.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/27.patch", "merged_at": "2022-02-16T14:42:01Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/27/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/27/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/26", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/26/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/26/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/26", "id": 1125309269, "node_id": "PR_kwDOGiYIwc4yIump", "number": 26, "title": "[23/n] Add the HealthCheckRegistry", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-06T20:31:46Z", "updated_at": "2022-02-15T17:59:51Z", "closed_at": "2022-02-15T17:59:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/26", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/26", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/26.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/26.patch", "merged_at": "2022-02-15T17:59:46Z"}, "body": "Most of the code here is autogenerated (and marked as such in .gitattributes).\r\n\r\nThe health checks are now run asynchronously in the same manner as WC-Java.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/26/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/26/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/25", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/25/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/25/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/25", "id": 1124734763, "node_id": "PR_kwDOGiYIwc4yHEVZ", "number": 25, "title": "[22/n] Graceful HTTP server shutdown", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-05T00:19:15Z", "updated_at": "2022-02-15T17:52:54Z", "closed_at": "2022-02-15T17:52:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/25", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/25", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/25.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/25.patch", "merged_at": "2022-02-15T17:52:50Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/25/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/25/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/23", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/23/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/23/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/23", "id": 1121432478, "node_id": "PR_kwDOGiYIwc4x8Rdq", "number": 23, "title": "[21/n] Support blocking Conjure endpoints", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-02T02:13:30Z", "updated_at": "2022-02-15T01:39:25Z", "closed_at": "2022-02-15T01:39:22Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/23", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/23", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/23.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/23.patch", "merged_at": "2022-02-15T01:39:22Z"}, "body": "Most of the complex code (the thread pool, etc) is lifted directly from our internal implementation.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/23/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/23/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/22", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/22/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/22/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/22", "id": 1121349886, "node_id": "PR_kwDOGiYIwc4x7_a3", "number": 22, "title": "[20/n] Support async Conjure endpoints", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-02T00:36:33Z", "updated_at": "2022-02-14T20:40:53Z", "closed_at": "2022-02-14T20:40:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/22", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/22", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/22.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/22.patch", "merged_at": "2022-02-14T20:40:49Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/22/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/22/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/21", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/21/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/21/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/21", "id": 1119734815, "node_id": "PR_kwDOGiYIwc4x2oNv", "number": 21, "title": "[19/n] Support TLS client auth", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-31T17:38:51Z", "updated_at": "2022-02-14T14:31:40Z", "closed_at": "2022-02-14T14:31:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/21", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/21", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/21.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/21.patch", "merged_at": "2022-02-14T14:31:36Z"}, "body": "Like WC-Java, if this is enabled we request but do not require the client to identify itself. If we do get a certificate, it's included as a request extension.\r\n\r\nWhile extensions aren't exposed in Conjure-generated service handlers, developers can wrap their endpoint in an adaptor that checks the certificate before entering into the Conjure code. An example of that is the `TlsClientAuthenticationService` type.\r\n\r\nThis also changes the /proc metrics to only build on Linux since the procinfo crate appears to not compile on macOS.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/21/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/21/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/20", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/20/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/20/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/20", "id": 1118851124, "node_id": "PR_kwDOGiYIwc4xzrnG", "number": 20, "title": "[18/n] Add response compression", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-31T01:49:09Z", "updated_at": "2022-02-10T14:06:49Z", "closed_at": "2022-02-10T14:06:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/20", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/20", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/20.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/20.patch", "merged_at": "2022-02-10T14:06:46Z"}, "body": "One open question here is how we should deal with streaming responses. The current behavior will always compress them since we don't know how much data will be transmitted. Alternatively, we could try to buffer the response to see how big it is first. I'm not sure how I feel about that, since it will require us to delay the transmission of the response headers. I think the WC-Java Jersey backend may do this though?", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/20/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/20/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/19", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/19/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/19/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/19", "id": 1118726824, "node_id": "PR_kwDOGiYIwc4xzRTb", "number": 19, "title": "[17/n] Add error handling", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-30T21:38:27Z", "updated_at": "2022-02-10T14:06:24Z", "closed_at": "2022-02-10T14:06:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/19", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/19", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/19.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/19.patch", "merged_at": "2022-02-10T14:06:20Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/19/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/19/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/18", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/18/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/18/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/18", "id": 1118703571, "node_id": "PR_kwDOGiYIwc4xzMRM", "number": 18, "title": "[16/n] Add server metrics", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-30T21:02:46Z", "updated_at": "2022-02-10T14:06:09Z", "closed_at": "2022-02-10T14:06:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/18", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/18", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/18.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/18.patch", "merged_at": "2022-02-10T14:06:06Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/18/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/18/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/17", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/17/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/17/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/17", "id": 1118692630, "node_id": "PR_kwDOGiYIwc4xzKSf", "number": 17, "title": "[15/n] Add request logs", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-30T20:16:37Z", "updated_at": "2022-02-10T14:03:12Z", "closed_at": "2022-02-10T14:03:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/17", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/17", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/17.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/17.patch", "merged_at": "2022-02-10T14:03:08Z"}, "body": "Depends on https://github.com/palantir/witchcraft-rust-logging/pull/22", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/17/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/17/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/16", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/16/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/16/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/16", "id": 1118682351, "node_id": "PR_kwDOGiYIwc4xzIbo", "number": 16, "title": "[14/n] Add extra response headers", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-30T19:31:55Z", "updated_at": "2022-02-10T14:01:22Z", "closed_at": "2022-02-10T14:01:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/16", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/16", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/16.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/16.patch", "merged_at": "2022-02-10T14:01:18Z"}, "body": "The behavior here is pulled from WC-Java, and many of these response headers are new compared to our internal Rust implementation.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/16/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/16/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/15", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/15/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/15/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/15", "id": 1118623432, "node_id": "PR_kwDOGiYIwc4xy8Jz", "number": 15, "title": "[13/n] Add MDC management", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-30T17:41:02Z", "updated_at": "2022-02-10T13:59:11Z", "closed_at": "2022-02-10T13:59:07Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/15", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/15", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/15.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/15.patch", "merged_at": "2022-02-10T13:59:07Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/15/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/15/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/14", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/14/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/14/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/14", "id": 1118610245, "node_id": "PR_kwDOGiYIwc4xy5Wl", "number": 14, "title": "[12/n] Add Zipkin traces", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-30T17:17:00Z", "updated_at": "2022-02-09T18:40:02Z", "closed_at": "2022-02-09T18:39:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/14", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/14", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/14.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/14.patch", "merged_at": "2022-02-09T18:39:58Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/14/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/14/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/13", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/13/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/13/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/13", "id": 1118379584, "node_id": "PR_kwDOGiYIwc4xyOpT", "number": 13, "title": "[11/n] Implement request routing", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-30T01:48:06Z", "updated_at": "2022-02-09T14:48:34Z", "closed_at": "2022-02-09T14:48:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/13", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/13", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/13.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/13.patch", "merged_at": "2022-02-09T14:48:30Z"}, "body": "The implementation here differs substantially from our existing internal logic. We now use a regex-based routing setup that follows the JAX-RS specification with respect to priority of ambiguous routes (e.g. picking the template `/foo/bar` over `/foo/{param}`). This allows us to properly support custom path parameter regexes in Conjure APIs and should mean that our behavior effectively matches WC-Java.\r\n\r\nThis PR does not actually add any endpoints to the routing table, so for now the behavior is only visible when making things like OPTIONS requests.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/13/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/13/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/12", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/12/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/12/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/12", "id": 1118316588, "node_id": "PR_kwDOGiYIwc4xyDG8", "number": 12, "title": "[10/n] Connection limits and metrics", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-29T20:09:16Z", "updated_at": "2022-02-09T14:00:45Z", "closed_at": "2022-02-09T13:59:35Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/12", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/12", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/12.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/12.patch", "merged_at": "2022-02-09T13:59:34Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/12/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/11", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/11/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/11/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/11", "id": 1118300048, "node_id": "PR_kwDOGiYIwc4xx_7-", "number": 11, "title": "[9/n] Initial HTTP server setup", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-29T18:59:10Z", "updated_at": "2022-02-09T13:59:23Z", "closed_at": "2022-02-09T13:59:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/11", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/11", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/11.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/11.patch", "merged_at": "2022-02-09T13:59:20Z"}, "body": "This adds the very basic core of the HTTP server - accepting connections, performing the TLS handshake, and responding to all HTTP requests with a 404.\r\n\r\nThe behavior should all match our internal implementation.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/11/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/11/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/10", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/10/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/10/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/10", "id": 1118247217, "node_id": "PR_kwDOGiYIwc4xx2Ev", "number": 10, "title": "[8/n] Add core process metrics", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-29T15:23:26Z", "updated_at": "2022-02-08T16:33:04Z", "closed_at": "2022-02-08T16:33:00Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/10", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/10", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/10.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/10.patch", "merged_at": "2022-02-08T16:33:00Z"}, "body": "The metrics reported here are largely the same as the ones we report in our current internal implementation, with some metrics that haven't seemed useful dropped and some new ones added. In general, many match those produced by WC-Java via Tritium, but named `process.foo` rather than `jvm.foo`.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/10/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/9", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/9/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/9/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/9", "id": 1118239045, "node_id": "PR_kwDOGiYIwc4xx0l8", "number": 9, "title": "[7/n] Add the metric logger", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-29T14:46:23Z", "updated_at": "2022-02-08T16:09:19Z", "closed_at": "2022-02-08T16:09:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/9", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/9", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/9.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/9.patch", "merged_at": "2022-02-08T16:09:16Z"}, "body": "The implementation here is more complex than our previous one to appropriately handle slow gauges. The specific approach should mirror what WC-Java does.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/9/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/9/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/8", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/8/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/8/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/8", "id": 1118234298, "node_id": "PR_kwDOGiYIwc4xxzvZ", "number": 8, "title": "[6/n] Add the trace logger", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-29T14:23:30Z", "updated_at": "2022-02-08T15:49:56Z", "closed_at": "2022-02-08T15:49:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/8", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/8", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/8.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/8.patch", "merged_at": "2022-02-08T15:49:21Z"}, "body": "No real changes here from our existing in-house codebase.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/8/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/8/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/7", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/7/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/7/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/7", "id": 1118001019, "node_id": "PR_kwDOGiYIwc4xxEkb", "number": 7, "title": "[5/n] Add the service logger", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-29T02:15:21Z", "updated_at": "2022-02-08T15:49:05Z", "closed_at": "2022-02-08T15:49:01Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/7", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/7", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/7.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/7.patch", "merged_at": "2022-02-08T15:49:01Z"}, "body": "This mostly follows our in-house implementation, except that we use the MDC to store various bits of thread local state (userId, tokenId, etc) rather than special typed storage.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/7/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/7/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/6", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/6/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/6/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/6", "id": 1116173335, "node_id": "PR_kwDOGiYIwc4xrHjV", "number": 6, "title": "[4/n] Core logging infrastructure", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-27T12:49:15Z", "updated_at": "2022-02-08T15:48:30Z", "closed_at": "2022-02-08T15:48:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/6", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/6", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/6.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/6.patch", "merged_at": "2022-02-08T15:48:27Z"}, "body": "This adds the core logging infrastructure, but does not contain any of the logic to actually hook up service, trace, etc loggers. Those will each be split out into a separate PR. As such, much of the code here isn't yet used, but should be easier to review.\r\n\r\nMajor changes from our existing internal implementation:\r\n\r\n* The logging logic is now async and runs in a Tokio task rather than being blocking code running on a unique thread per logger. There is some overhead here currently for file and stdout based loggers, but it shouldn't be that bad and keeps the total thread count significantly lower.\r\n* We no longer emit wrapped logs. Our main Java-WC implementation never started doing this, and it seems like we should mirror that behavior.\r\n\r\nThe logger type can be used in two ways:\r\n* As a `Sink` implementation in async code (metric logging will use this).\r\n* Via the `AsyncAppender::try_send` method in blocking code (service and trace logs will use this).", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/6/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/6/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/5", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/5/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/5/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/5", "id": 1115674948, "node_id": "PR_kwDOGiYIwc4xpfd5", "number": 5, "title": "[3/n] Server startup scaffolding", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-27T01:40:58Z", "updated_at": "2022-02-01T23:56:19Z", "closed_at": "2022-02-01T23:56:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/5", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/5", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/5.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/5.patch", "merged_at": "2022-02-01T23:56:13Z"}, "body": "This adds the core `init` entrypoint function of `witchcraft-server`, which loads the install and runtime configs, calls the initialization callback, and then waits for a shutdown signal.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/5/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/5/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/4", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/4/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/4/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/4", "id": 1115396632, "node_id": "PR_kwDOGiYIwc4xoods", "number": 4, "title": "[2/n] Add base server configuration", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-26T19:19:03Z", "updated_at": "2022-02-01T15:04:53Z", "closed_at": "2022-02-01T15:04:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/4", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/4", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/4.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/4.patch", "merged_at": "2022-02-01T15:04:49Z"}, "body": "This adds the base configuration types for a Witchcraft server's install.yml and runtime.yml. The layout is designed to follow our existing Java and Go Witchcraft config layouts, meaning it is significantly different from our current internal Rust server implementation.\r\n\r\nAdditionally, we're using a new method to allow server implementations to extend the base configuration. Rather than defining traits that return all of the required config values, we instead use the `#[serde(flatten)]` annotation to allow implementations to embed the base config along side their custom config. An example is in the crate-level documentation for `witchcraft-server`.\r\n\r\nOne downside of this approach is that due to the way `#[serde(flatten)]` is implemented, utilities like serde-ignored and serde-path-to-error will not work for any keys in the base server configuration. We may be able to fix that in the future, but I feel that overall it's worth sacrificing those diagnostics for a much less weird method for implementations to be able to extend the base configuration.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/4/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/4/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/3", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/3/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/3/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/3", "id": 1115379918, "node_id": "PR_kwDOGiYIwc4xokzW", "number": 3, "title": "[1/n] Render conjure logging config", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-26T19:04:10Z", "updated_at": "2022-01-27T01:46:46Z", "closed_at": "2022-01-26T20:05:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/3", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/3", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/3.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/3.patch", "merged_at": "2022-01-26T20:05:05Z"}, "body": "This is almost entirely auto-generated. The only actual bits of code to review is the little bit in render-conjure. Once we cut a new release of conjure-rust, that can turn into a bash script.", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/3/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/3/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/1", "repository_url": "https://api.github.com/repos/palantir/witchcraft-rust-server", "labels_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/1/comments", "events_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/1/events", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/1", "id": 1088512697, "node_id": "PR_kwDOGiYIwc4wRQpd", "number": 1, "title": "Excavator: Update policy-bot config", "user": {"login": "svc-excavator-bot", "id": 33266368, "node_id": "MDQ6VXNlcjMzMjY2MzY4", "avatar_url": "https://avatars.githubusercontent.com/u/33266368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/svc-excavator-bot", "html_url": "https://github.com/svc-excavator-bot", "followers_url": "https://api.github.com/users/svc-excavator-bot/followers", "following_url": "https://api.github.com/users/svc-excavator-bot/following{/other_user}", "gists_url": "https://api.github.com/users/svc-excavator-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/svc-excavator-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/svc-excavator-bot/subscriptions", "organizations_url": "https://api.github.com/users/svc-excavator-bot/orgs", "repos_url": "https://api.github.com/users/svc-excavator-bot/repos", "events_url": "https://api.github.com/users/svc-excavator-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/svc-excavator-bot/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3645465782, "node_id": "LA_kwDOGiYIwc7ZSWS2", "url": "https://api.github.com/repos/palantir/witchcraft-rust-server/labels/no%20changelog", "name": "no changelog", "color": "ffbee6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-24T23:12:08Z", "updated_at": "2021-12-30T01:38:34Z", "closed_at": "2021-12-30T01:38:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/pulls/1", "html_url": "https://github.com/palantir/witchcraft-rust-server/pull/1", "diff_url": "https://github.com/palantir/witchcraft-rust-server/pull/1.diff", "patch_url": "https://github.com/palantir/witchcraft-rust-server/pull/1.patch", "merged_at": "2021-12-30T01:38:32Z"}, "body": "###### _excavator_ is a bot for automating changes across repositories.\n\nChanges produced by the excavator/policy-bot-oss check.\n\n\nTo enable or disable this check, please contact the maintainers of Excavator.\n", "reactions": {"url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/1/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/palantir/witchcraft-rust-server/issues/1/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]