[{"url": "https://api.github.com/repos/rumblefrog/a2s-rs/issues/16", "repository_url": "https://api.github.com/repos/rumblefrog/a2s-rs", "labels_url": "https://api.github.com/repos/rumblefrog/a2s-rs/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/rumblefrog/a2s-rs/issues/16/comments", "events_url": "https://api.github.com/repos/rumblefrog/a2s-rs/issues/16/events", "html_url": "https://github.com/rumblefrog/a2s-rs/pull/16", "id": 1620366903, "node_id": "PR_kwDODJPLSc5L1h28", "number": 16, "title": "Fix processing of multi-packet responses", "user": {"login": "MegaBrutal", "id": 22104628, "node_id": "MDQ6VXNlcjIyMTA0NjI4", "avatar_url": "https://avatars.githubusercontent.com/u/22104628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MegaBrutal", "html_url": "https://github.com/MegaBrutal", "followers_url": "https://api.github.com/users/MegaBrutal/followers", "following_url": "https://api.github.com/users/MegaBrutal/following{/other_user}", "gists_url": "https://api.github.com/users/MegaBrutal/gists{/gist_id}", "starred_url": "https://api.github.com/users/MegaBrutal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MegaBrutal/subscriptions", "organizations_url": "https://api.github.com/users/MegaBrutal/orgs", "repos_url": "https://api.github.com/users/MegaBrutal/repos", "events_url": "https://api.github.com/users/MegaBrutal/events{/privacy}", "received_events_url": "https://api.github.com/users/MegaBrutal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-12T13:30:01Z", "updated_at": "2023-03-17T02:56:59Z", "closed_at": "2023-03-17T02:56:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rumblefrog/a2s-rs/pulls/16", "html_url": "https://github.com/rumblefrog/a2s-rs/pull/16", "diff_url": "https://github.com/rumblefrog/a2s-rs/pull/16.diff", "patch_url": "https://github.com/rumblefrog/a2s-rs/pull/16.patch", "merged_at": "2023-03-17T02:56:59Z"}, "body": "I noticed that queries to some servers mysteriously fail for some reason. I digged into it and found that the library can't process multi-packet responses. When I got into fixing it, it actually created a snowball effect which resulted in changing quite a few things. I added constants and a macro to read offsets, then the changes needed to be ported into the async code, which induced me to write async tests. Also the async code didn't work because it mixed up replies for multiple requests as it used the same UdpSocket.\r\n\r\nBZ2 decompression was not tested because I couldn't find any servers those reply with BZ2-compressed packets.\r\n\r\nI suggest you to test with any servers you know to make sure there are no regressions.", "reactions": {"url": "https://api.github.com/repos/rumblefrog/a2s-rs/issues/16/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rumblefrog/a2s-rs/issues/16/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]