[{"url": "https://api.github.com/repos/rwf2/Rocket/issues/2778", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/2778/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/2778/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/2778/events", "html_url": "https://github.com/rwf2/Rocket/pull/2778", "id": 2254227078, "node_id": "PR_kwDOAzqMt85tO8AA", "number": 2778, "title": "sse: fix small typo in example documentation", "user": {"login": "wathiede", "id": 1043363, "node_id": "MDQ6VXNlcjEwNDMzNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1043363?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wathiede", "html_url": "https://github.com/wathiede", "followers_url": "https://api.github.com/users/wathiede/followers", "following_url": "https://api.github.com/users/wathiede/following{/other_user}", "gists_url": "https://api.github.com/users/wathiede/gists{/gist_id}", "starred_url": "https://api.github.com/users/wathiede/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wathiede/subscriptions", "organizations_url": "https://api.github.com/users/wathiede/orgs", "repos_url": "https://api.github.com/users/wathiede/repos", "events_url": "https://api.github.com/users/wathiede/events{/privacy}", "received_events_url": "https://api.github.com/users/wathiede/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-19T23:24:42Z", "updated_at": "2024-05-22T20:15:08Z", "closed_at": "2024-05-22T20:15:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/2778", "html_url": "https://github.com/rwf2/Rocket/pull/2778", "diff_url": "https://github.com/rwf2/Rocket/pull/2778.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/2778.patch", "merged_at": "2024-05-22T20:15:08Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/2778/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2768", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/2768/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/2768/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/2768/events", "html_url": "https://github.com/rwf2/Rocket/pull/2768", "id": 2231914030, "node_id": "PR_kwDOAzqMt85sDIQm", "number": 2768, "title": "Use s2n-quic rustls TLS builder instead of re-export", "user": {"login": "WesleyRosenblum", "id": 55108558, "node_id": "MDQ6VXNlcjU1MTA4NTU4", "avatar_url": "https://avatars.githubusercontent.com/u/55108558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WesleyRosenblum", "html_url": "https://github.com/WesleyRosenblum", "followers_url": "https://api.github.com/users/WesleyRosenblum/followers", "following_url": "https://api.github.com/users/WesleyRosenblum/following{/other_user}", "gists_url": "https://api.github.com/users/WesleyRosenblum/gists{/gist_id}", "starred_url": "https://api.github.com/users/WesleyRosenblum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WesleyRosenblum/subscriptions", "organizations_url": "https://api.github.com/users/WesleyRosenblum/orgs", "repos_url": "https://api.github.com/users/WesleyRosenblum/repos", "events_url": "https://api.github.com/users/WesleyRosenblum/events{/privacy}", "received_events_url": "https://api.github.com/users/WesleyRosenblum/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-08T19:11:23Z", "updated_at": "2024-04-10T21:06:58Z", "closed_at": "2024-04-10T21:06:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/2768", "html_url": "https://github.com/rwf2/Rocket/pull/2768", "diff_url": "https://github.com/rwf2/Rocket/pull/2768.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/2768.patch", "merged_at": "2024-04-10T21:06:58Z"}, "body": "See https://github.com/aws/s2n-quic/issues/2173\r\n\r\nThe re-exported `rustls` module in s2n-quic is deprecated as of `s2n-quic 1.35.1`. This change migrates to using the `s2n-quic` TLS builder instead, which will ensure the stability of the integration going forward. \r\n\r\nTo support this migration, we added a couple new capabilities to s2n-quic:\r\n\r\n- `with_prefer_server_cipher_suite_order` added in https://github.com/aws/s2n-quic/pull/2176\r\n  - this configures the `rustls` [`ignore_client_order` setting](https://docs.rs/rustls/latest/rustls/server/struct.ServerConfig.html#structfield.ignore_client_order)\r\n- parsing multiple der-encoded certs, added in https://github.com/aws/s2n-quic/pull/2177\r\n\r\nTo explain the other changes:\r\n\r\n- `with_cipher_suites(DEFAULT_CIPHERSUITES)`, `with_safe_default_kx_groups()`, and `with_safe_default_protocol_versions()` are all specified by default in the builder\r\n- `session_storage` and `ticketer` were not doing anything in the existing code, as session resumption is not currently supported for `rustls` in `s2n-quic`", "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2768/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/2768/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2764", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/2764/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/2764/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/2764/events", "html_url": "https://github.com/rwf2/Rocket/pull/2764", "id": 2217178608, "node_id": "PR_kwDOAzqMt85rQlki", "number": 2764, "title": "Add licenses to crates", "user": {"login": "wojnilowicz", "id": 22069602, "node_id": "MDQ6VXNlcjIyMDY5NjAy", "avatar_url": "https://avatars.githubusercontent.com/u/22069602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wojnilowicz", "html_url": "https://github.com/wojnilowicz", "followers_url": "https://api.github.com/users/wojnilowicz/followers", "following_url": "https://api.github.com/users/wojnilowicz/following{/other_user}", "gists_url": "https://api.github.com/users/wojnilowicz/gists{/gist_id}", "starred_url": "https://api.github.com/users/wojnilowicz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wojnilowicz/subscriptions", "organizations_url": "https://api.github.com/users/wojnilowicz/orgs", "repos_url": "https://api.github.com/users/wojnilowicz/repos", "events_url": "https://api.github.com/users/wojnilowicz/events{/privacy}", "received_events_url": "https://api.github.com/users/wojnilowicz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-03-31T20:53:42Z", "updated_at": "2024-04-09T18:20:20Z", "closed_at": "2024-04-09T18:20:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/2764", "html_url": "https://github.com/rwf2/Rocket/pull/2764", "diff_url": "https://github.com/rwf2/Rocket/pull/2764.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/2764.patch", "merged_at": "2024-04-09T18:20:20Z"}, "body": "fixes #2760", "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/2764/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2758", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/2758/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/2758/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/2758/events", "html_url": "https://github.com/rwf2/Rocket/pull/2758", "id": 2205644365, "node_id": "PR_kwDOAzqMt85qpvpw", "number": 2758, "title": "Use aws_lc_rs instead of ring to check for supported key type", "user": {"login": "Alvenix", "id": 5764299, "node_id": "MDQ6VXNlcjU3NjQyOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/5764299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Alvenix", "html_url": "https://github.com/Alvenix", "followers_url": "https://api.github.com/users/Alvenix/followers", "following_url": "https://api.github.com/users/Alvenix/following{/other_user}", "gists_url": "https://api.github.com/users/Alvenix/gists{/gist_id}", "starred_url": "https://api.github.com/users/Alvenix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Alvenix/subscriptions", "organizations_url": "https://api.github.com/users/Alvenix/orgs", "repos_url": "https://api.github.com/users/Alvenix/repos", "events_url": "https://api.github.com/users/Alvenix/events{/privacy}", "received_events_url": "https://api.github.com/users/Alvenix/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2024-03-25T12:32:13Z", "updated_at": "2024-03-31T18:46:56Z", "closed_at": "2024-03-31T18:46:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/2758", "html_url": "https://github.com/rwf2/Rocket/pull/2758", "diff_url": "https://github.com/rwf2/Rocket/pull/2758.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/2758.patch", "merged_at": "2024-03-31T18:46:56Z"}, "body": "Can we change the check for public key from ring to awc_rs_ls? Both depend on features enabled on rustls. Currently awc_rs_ls is the default (on 0.23) and support more keys.\r\n\r\nEdit: I probably should try to update rustls to 0.23 first.", "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/2758/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2751", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/2751/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/2751/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/2751/events", "html_url": "https://github.com/rwf2/Rocket/pull/2751", "id": 2191501956, "node_id": "PR_kwDOAzqMt85p52kn", "number": 2751, "title": "Update websocket.rs", "user": {"login": "gaoyia", "id": 17539193, "node_id": "MDQ6VXNlcjE3NTM5MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/17539193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaoyia", "html_url": "https://github.com/gaoyia", "followers_url": "https://api.github.com/users/gaoyia/followers", "following_url": "https://api.github.com/users/gaoyia/following{/other_user}", "gists_url": "https://api.github.com/users/gaoyia/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaoyia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaoyia/subscriptions", "organizations_url": "https://api.github.com/users/gaoyia/orgs", "repos_url": "https://api.github.com/users/gaoyia/repos", "events_url": "https://api.github.com/users/gaoyia/events{/privacy}", "received_events_url": "https://api.github.com/users/gaoyia/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 763868037, "node_id": "MDU6TGFiZWw3NjM4NjgwMzc=", "url": "https://api.github.com/repos/rwf2/Rocket/labels/pr:%20merged", "name": "pr: merged", "color": "5319E7", "default": false, "description": "This pull request was merged manually."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-03-18T08:11:52Z", "updated_at": "2024-03-21T01:02:03Z", "closed_at": "2024-03-21T01:01:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/2751", "html_url": "https://github.com/rwf2/Rocket/pull/2751", "diff_url": "https://github.com/rwf2/Rocket/pull/2751.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/2751.patch", "merged_at": "2024-03-21T01:02:03Z"}, "body": "return accept_key", "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/2751/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2713", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/2713/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/2713/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/2713/events", "html_url": "https://github.com/rwf2/Rocket/pull/2713", "id": 2101017304, "node_id": "PR_kwDOAzqMt85lGTWi", "number": 2713, "title": "Minor guide fixes", "user": {"login": "atezet", "id": 4867268, "node_id": "MDQ6VXNlcjQ4NjcyNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/4867268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atezet", "html_url": "https://github.com/atezet", "followers_url": "https://api.github.com/users/atezet/followers", "following_url": "https://api.github.com/users/atezet/following{/other_user}", "gists_url": "https://api.github.com/users/atezet/gists{/gist_id}", "starred_url": "https://api.github.com/users/atezet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atezet/subscriptions", "organizations_url": "https://api.github.com/users/atezet/orgs", "repos_url": "https://api.github.com/users/atezet/repos", "events_url": "https://api.github.com/users/atezet/events{/privacy}", "received_events_url": "https://api.github.com/users/atezet/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-25T19:19:25Z", "updated_at": "2024-05-22T22:16:12Z", "closed_at": "2024-05-22T22:16:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/2713", "html_url": "https://github.com/rwf2/Rocket/pull/2713", "diff_url": "https://github.com/rwf2/Rocket/pull/2713.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/2713.patch", "merged_at": "2024-05-22T22:16:11Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2713/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/2713/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2689", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/2689/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/2689/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/2689/events", "html_url": "https://github.com/rwf2/Rocket/pull/2689", "id": 2064838545, "node_id": "PR_kwDOAzqMt85jLlR3", "number": 2689, "title": "Make '#[allow(private_bounds)]' compiler version-aware", "user": {"login": "CSharperMantle", "id": 32665105, "node_id": "MDQ6VXNlcjMyNjY1MTA1", "avatar_url": "https://avatars.githubusercontent.com/u/32665105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CSharperMantle", "html_url": "https://github.com/CSharperMantle", "followers_url": "https://api.github.com/users/CSharperMantle/followers", "following_url": "https://api.github.com/users/CSharperMantle/following{/other_user}", "gists_url": "https://api.github.com/users/CSharperMantle/gists{/gist_id}", "starred_url": "https://api.github.com/users/CSharperMantle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CSharperMantle/subscriptions", "organizations_url": "https://api.github.com/users/CSharperMantle/orgs", "repos_url": "https://api.github.com/users/CSharperMantle/repos", "events_url": "https://api.github.com/users/CSharperMantle/events{/privacy}", "received_events_url": "https://api.github.com/users/CSharperMantle/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-01-04T00:59:13Z", "updated_at": "2024-04-12T02:32:39Z", "closed_at": "2024-04-12T02:32:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/2689", "html_url": "https://github.com/rwf2/Rocket/pull/2689", "diff_url": "https://github.com/rwf2/Rocket/pull/2689.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/2689.patch", "merged_at": "2024-04-12T02:32:39Z"}, "body": "The current fix for #2608 as implemented in e7ef93be495793ba570f13e43772ddff895b644c addressed the problem by introducing both the new `private_bounds` lint rule and the deprecated `private_in_public` one. To smooth out the cross-version incompatibilities, @SergioBenitez added two more lint rules, namely `renamed_and_removed_lints` and `unknown_lints`, to suppress the warnings on both old and new `rustc`s.\r\n\r\nhttps://github.com/rwf2/Rocket/blob/b3abc760aee8556f5b455f13aaa4a1c7ae70bd85/core/codegen/src/derive/from_form.rs#L123-L131\r\n\r\nHowever, we can take one step further by utilizing `version_check` dependency. This PR proposes that the said crate checks the availability of `private_bounds` at codegen time, allowing for fewer lint rules generated in the AST.\r\n\r\nThe fix is implemented by introducing an auxiliary variable `lints`, which expands to different attributes of lint rules when compiled on different versions of `rustc`. When `rustc` is newer than `1.74.0`, it is set to the token stream of `#[allow(private_bounds)]`, utilizing the new feature; otherwise it is equal to the old sequence of `#[allow(...)]` rules. The need for `#[allow(unknown_lints)]` is eliminated.\r\n\r\n**Pros.** Less lint rules generated while retaining the effect of the fix in e7ef93be495793ba570f13e43772ddff895b644c.\r\n\r\n**Cons.** None known to the author.\r\n\r\nFeel free to make comments and suggest edits to this PR! \ud83d\udc4b ", "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/2689/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2647", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/2647/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/2647/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/2647/events", "html_url": "https://github.com/rwf2/Rocket/pull/2647", "id": 2000519371, "node_id": "PR_kwDOAzqMt85f0uTb", "number": 2647, "title": "Fix GitHub repository urls.", "user": {"login": "mathew-horner", "id": 105067994, "node_id": "U_kgDOBkM12g", "avatar_url": "https://avatars.githubusercontent.com/u/105067994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mathew-horner", "html_url": "https://github.com/mathew-horner", "followers_url": "https://api.github.com/users/mathew-horner/followers", "following_url": "https://api.github.com/users/mathew-horner/following{/other_user}", "gists_url": "https://api.github.com/users/mathew-horner/gists{/gist_id}", "starred_url": "https://api.github.com/users/mathew-horner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mathew-horner/subscriptions", "organizations_url": "https://api.github.com/users/mathew-horner/orgs", "repos_url": "https://api.github.com/users/mathew-horner/repos", "events_url": "https://api.github.com/users/mathew-horner/events{/privacy}", "received_events_url": "https://api.github.com/users/mathew-horner/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-11-18T17:59:34Z", "updated_at": "2023-12-18T23:44:32Z", "closed_at": "2023-12-18T23:44:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/2647", "html_url": "https://github.com/rwf2/Rocket/pull/2647", "diff_url": "https://github.com/rwf2/Rocket/pull/2647.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/2647.patch", "merged_at": "2023-12-18T23:44:00Z"}, "body": "This should fix broken repository links on [docs.rs](https://docs.rs/) and [crates.io](https://crates.io/).\r\n\r\ncloses https://github.com/SergioBenitez/Rocket/issues/2646", "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/2647/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2519", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/2519/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/2519/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/2519/events", "html_url": "https://github.com/rwf2/Rocket/pull/2519", "id": 1665309621, "node_id": "PR_kwDOAzqMt85OLHVI", "number": 2519, "title": "Forwarded proto", "user": {"login": "atezet", "id": 4867268, "node_id": "MDQ6VXNlcjQ4NjcyNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/4867268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atezet", "html_url": "https://github.com/atezet", "followers_url": "https://api.github.com/users/atezet/followers", "following_url": "https://api.github.com/users/atezet/following{/other_user}", "gists_url": "https://api.github.com/users/atezet/gists{/gist_id}", "starred_url": "https://api.github.com/users/atezet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atezet/subscriptions", "organizations_url": "https://api.github.com/users/atezet/orgs", "repos_url": "https://api.github.com/users/atezet/repos", "events_url": "https://api.github.com/users/atezet/events{/privacy}", "received_events_url": "https://api.github.com/users/atezet/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2023-04-12T21:48:55Z", "updated_at": "2024-01-23T02:41:20Z", "closed_at": "2024-01-23T02:41:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/2519", "html_url": "https://github.com/rwf2/Rocket/pull/2519", "diff_url": "https://github.com/rwf2/Rocket/pull/2519.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/2519.patch", "merged_at": "2024-01-23T02:41:20Z"}, "body": "PR for #2425. Some notes:\r\n* `Protocol` is based largely on `ProtocolName` from https://github.com/hyperium/hyper-old-types/blob/0426d7ac64c955af6327279c595168c39e7b1415/src/header/common/upgrade.rs#L84\r\n* Renamed `ip_header::deserialize` to `http_header::deserialize` to be able to re-use it\r\n* Used https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Proto as a reference guide\r\n* Everything else is mostly based on the way `x-real-ip` header is handled: https://github.com/SergioBenitez/Rocket/commit/9377af5978c2505911769bb4f873b2a800e8e35a\r\n* `CookieJar` has an extra field `proxy_secure` that is set internally when it makes sense to do so\r\n* `Request` has a `proxy_proto` and `proxy_secure` method used internally\r\n* `FromRequest` is implemented for `Protocol`\r\n* Configuration of `proto_header` defaults to `None`/`false`", "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/2519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/2519/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rwf2/Rocket/issues/1618", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/1618/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/1618/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/1618/events", "html_url": "https://github.com/rwf2/Rocket/pull/1618", "id": 868203138, "node_id": "MDExOlB1bGxSZXF1ZXN0NjIzNzY0ODc0", "number": 1618, "title": "Initialize synchronous database pools inside of `spawn_blocking`.", "user": {"login": "jebrosen", "id": 7102588, "node_id": "MDQ6VXNlcjcxMDI1ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/7102588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jebrosen", "html_url": "https://github.com/jebrosen", "followers_url": "https://api.github.com/users/jebrosen/followers", "following_url": "https://api.github.com/users/jebrosen/following{/other_user}", "gists_url": "https://api.github.com/users/jebrosen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jebrosen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jebrosen/subscriptions", "organizations_url": "https://api.github.com/users/jebrosen/orgs", "repos_url": "https://api.github.com/users/jebrosen/repos", "events_url": "https://api.github.com/users/jebrosen/events{/privacy}", "received_events_url": "https://api.github.com/users/jebrosen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-26T21:05:59Z", "updated_at": "2021-04-28T03:56:14Z", "closed_at": "2021-04-28T02:32:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/1618", "html_url": "https://github.com/rwf2/Rocket/pull/1618", "diff_url": "https://github.com/rwf2/Rocket/pull/1618.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/1618.patch", "merged_at": "2021-04-28T02:32:38Z"}, "body": "One situation where this is noticeable is when initialization failure\r\nleads to `Drop`; unlike in a successful initialization, `postgres`\r\ndetects and panics when `Drop` is called from within asynchronous code.\r\nSeveral other database pools do not panic in this same situation, but\r\nwould still block the current thread.\r\n\r\nAlso sets the minimum version of `tokio` to 1.4 in `rocket_contrib`,\r\nwhich is the version where `Handle::block_on` (used in `Drop` impls) was\r\nintroduced.\r\n\r\nFixes #1610.\r\n\r\n---\r\n\r\nThis should be reviewed closely, since there have been several bugs and regressions in this area. The goal is thus:\r\n\r\nSynchronous database pool and connection usage, *including* creation, usage, and `Drop`, should always be done inside some kind of \"blocking-safe\" environment. Since #1375 databases use `spawn_blocking`; alternatives include `block_in_place` (risky) or a dedicated thread with message passing to communicate between the async and sync code (safer, but probably not better than the status quo in terms of complexity to implement maintain or troubleshoot and likely still pretty bad ergonomically).\r\n\r\nThis problem is now addressed by starting the database pool inside a `spawn_blocking` closure. Usage of the database pool (i.e. acquiring connections) was already wrapped, along with usage of the connections themselves. This leaves `Drop`, which was also already wrapped properly -- aside from a race condition between server shutdown and handlers that were still running, which was recently fixed in e1307dd.", "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/1618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/1618/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rwf2/Rocket/issues/1528", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/1528/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/1528/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/1528/events", "html_url": "https://github.com/rwf2/Rocket/pull/1528", "id": 802421096, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4NTY3MDY0", "number": 1528, "title": "update 'postgres' to 0.19 in rocket_contrib", "user": {"login": "jebrosen", "id": 7102588, "node_id": "MDQ6VXNlcjcxMDI1ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/7102588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jebrosen", "html_url": "https://github.com/jebrosen", "followers_url": "https://api.github.com/users/jebrosen/followers", "following_url": "https://api.github.com/users/jebrosen/following{/other_user}", "gists_url": "https://api.github.com/users/jebrosen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jebrosen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jebrosen/subscriptions", "organizations_url": "https://api.github.com/users/jebrosen/orgs", "repos_url": "https://api.github.com/users/jebrosen/repos", "events_url": "https://api.github.com/users/jebrosen/events{/privacy}", "received_events_url": "https://api.github.com/users/jebrosen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-05T19:33:19Z", "updated_at": "2021-03-01T01:15:49Z", "closed_at": "2021-03-01T01:15:45Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/1528", "html_url": "https://github.com/rwf2/Rocket/pull/1528", "diff_url": "https://github.com/rwf2/Rocket/pull/1528.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/1528.patch", "merged_at": "2021-03-01T01:15:45Z"}, "body": "Closes #1527.", "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/1528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/1528/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rwf2/Rocket/issues/1502", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/1502/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/1502/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/1502/events", "html_url": "https://github.com/rwf2/Rocket/pull/1502", "id": 777180787, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ3NTQxODk3", "number": 1502, "title": "Enable std feature for indexmap", "user": {"login": "yungkneez", "id": 58558962, "node_id": "MDQ6VXNlcjU4NTU4OTYy", "avatar_url": "https://avatars.githubusercontent.com/u/58558962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yungkneez", "html_url": "https://github.com/yungkneez", "followers_url": "https://api.github.com/users/yungkneez/followers", "following_url": "https://api.github.com/users/yungkneez/following{/other_user}", "gists_url": "https://api.github.com/users/yungkneez/gists{/gist_id}", "starred_url": "https://api.github.com/users/yungkneez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yungkneez/subscriptions", "organizations_url": "https://api.github.com/users/yungkneez/orgs", "repos_url": "https://api.github.com/users/yungkneez/repos", "events_url": "https://api.github.com/users/yungkneez/events{/privacy}", "received_events_url": "https://api.github.com/users/yungkneez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-01T02:38:04Z", "updated_at": "2021-01-13T22:39:19Z", "closed_at": "2021-01-13T22:39:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/1502", "html_url": "https://github.com/rwf2/Rocket/pull/1502", "diff_url": "https://github.com/rwf2/Rocket/pull/1502.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/1502.patch", "merged_at": "2021-01-13T22:39:19Z"}, "body": "Fixes #1501 ", "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/1502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/1502/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rwf2/Rocket/issues/1500", "repository_url": "https://api.github.com/repos/rwf2/Rocket", "labels_url": "https://api.github.com/repos/rwf2/Rocket/issues/1500/labels{/name}", "comments_url": "https://api.github.com/repos/rwf2/Rocket/issues/1500/comments", "events_url": "https://api.github.com/repos/rwf2/Rocket/issues/1500/events", "html_url": "https://github.com/rwf2/Rocket/pull/1500", "id": 776596776, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ3MDU1Mjgw", "number": 1500, "title": "Update dependencies for tokio 1.0", "user": {"login": "jebrosen", "id": 7102588, "node_id": "MDQ6VXNlcjcxMDI1ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/7102588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jebrosen", "html_url": "https://github.com/jebrosen", "followers_url": "https://api.github.com/users/jebrosen/followers", "following_url": "https://api.github.com/users/jebrosen/following{/other_user}", "gists_url": "https://api.github.com/users/jebrosen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jebrosen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jebrosen/subscriptions", "organizations_url": "https://api.github.com/users/jebrosen/orgs", "repos_url": "https://api.github.com/users/jebrosen/repos", "events_url": "https://api.github.com/users/jebrosen/events{/privacy}", "received_events_url": "https://api.github.com/users/jebrosen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-12-30T19:07:43Z", "updated_at": "2021-01-17T21:20:29Z", "closed_at": "2021-01-13T23:22:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rwf2/Rocket/pulls/1500", "html_url": "https://github.com/rwf2/Rocket/pull/1500", "diff_url": "https://github.com/rwf2/Rocket/pull/1500.diff", "patch_url": "https://github.com/rwf2/Rocket/pull/1500.patch", "merged_at": "2021-01-13T23:22:17Z"}, "body": "Closes #1451.\r\n\r\nIt might be nice to switch some code to use [`tokio_util::io::ReaderStream`](https://docs.rs/tokio-util/0.6.0/tokio_util/io/struct.ReaderStream.html) and [`tokio_util::io::StreamReader`](https://docs.rs/tokio-util/0.6.0/tokio_util/io/struct.StreamReader.html) now instead of the implementations here, but I would rather do that part separately.\r\n\r\nPossible blocker: support in multipart library", "reactions": {"url": "https://api.github.com/repos/rwf2/Rocket/issues/1500/reactions", "total_count": 14, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 10, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rwf2/Rocket/issues/1500/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]