[{"url": "https://api.github.com/repos/benfred/read-process-memory/issues/6", "repository_url": "https://api.github.com/repos/benfred/read-process-memory", "labels_url": "https://api.github.com/repos/benfred/read-process-memory/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/benfred/read-process-memory/issues/6/comments", "events_url": "https://api.github.com/repos/benfred/read-process-memory/issues/6/events", "html_url": "https://github.com/benfred/read-process-memory/pull/6", "id": 797627117, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0NTg5OTU0", "number": 6, "title": "Cleanup CI", "user": {"login": "benfred", "id": 69536, "node_id": "MDQ6VXNlcjY5NTM2", "avatar_url": "https://avatars.githubusercontent.com/u/69536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benfred", "html_url": "https://github.com/benfred", "followers_url": "https://api.github.com/users/benfred/followers", "following_url": "https://api.github.com/users/benfred/following{/other_user}", "gists_url": "https://api.github.com/users/benfred/gists{/gist_id}", "starred_url": "https://api.github.com/users/benfred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benfred/subscriptions", "organizations_url": "https://api.github.com/users/benfred/orgs", "repos_url": "https://api.github.com/users/benfred/repos", "events_url": "https://api.github.com/users/benfred/events{/privacy}", "received_events_url": "https://api.github.com/users/benfred/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-31T05:40:43Z", "updated_at": "2021-01-31T06:08:15Z", "closed_at": "2021-01-31T06:08:12Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/benfred/read-process-memory/pulls/6", "html_url": "https://github.com/benfred/read-process-memory/pull/6", "diff_url": "https://github.com/benfred/read-process-memory/pull/6.diff", "patch_url": "https://github.com/benfred/read-process-memory/pull/6.patch", "merged_at": "2021-01-31T06:08:12Z"}, "body": "fix doctest (hopefully) and don't special case OX for spawning test program", "reactions": {"url": "https://api.github.com/repos/benfred/read-process-memory/issues/6/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/benfred/read-process-memory/issues/6/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/benfred/read-process-memory/issues/5", "repository_url": "https://api.github.com/repos/benfred/read-process-memory", "labels_url": "https://api.github.com/repos/benfred/read-process-memory/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/benfred/read-process-memory/issues/5/comments", "events_url": "https://api.github.com/repos/benfred/read-process-memory/issues/5/events", "html_url": "https://github.com/benfred/read-process-memory/pull/5", "id": 793019522, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYwNzczMzgx", "number": 5, "title": "Switch to GH actions for CI", "user": {"login": "benfred", "id": 69536, "node_id": "MDQ6VXNlcjY5NTM2", "avatar_url": "https://avatars.githubusercontent.com/u/69536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benfred", "html_url": "https://github.com/benfred", "followers_url": "https://api.github.com/users/benfred/followers", "following_url": "https://api.github.com/users/benfred/following{/other_user}", "gists_url": "https://api.github.com/users/benfred/gists{/gist_id}", "starred_url": "https://api.github.com/users/benfred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benfred/subscriptions", "organizations_url": "https://api.github.com/users/benfred/orgs", "repos_url": "https://api.github.com/users/benfred/repos", "events_url": "https://api.github.com/users/benfred/events{/privacy}", "received_events_url": "https://api.github.com/users/benfred/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-25T04:45:04Z", "updated_at": "2021-01-30T20:31:06Z", "closed_at": "2021-01-30T20:31:02Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/benfred/read-process-memory/pulls/5", "html_url": "https://github.com/benfred/read-process-memory/pull/5", "diff_url": "https://github.com/benfred/read-process-memory/pull/5.diff", "patch_url": "https://github.com/benfred/read-process-memory/pull/5.patch", "merged_at": "2021-01-30T20:31:02Z"}, "body": "also fix freebsd ci", "reactions": {"url": "https://api.github.com/repos/benfred/read-process-memory/issues/5/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/benfred/read-process-memory/issues/5/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/benfred/read-process-memory/issues/4", "repository_url": "https://api.github.com/repos/benfred/read-process-memory", "labels_url": "https://api.github.com/repos/benfred/read-process-memory/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/benfred/read-process-memory/issues/4/comments", "events_url": "https://api.github.com/repos/benfred/read-process-memory/issues/4/events", "html_url": "https://github.com/benfred/read-process-memory/pull/4", "id": 792853021, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYwNjQ0NzE2", "number": 4, "title": "Fallback to /proc/$pid/mem when process_vm_readv() is unavailabe", "user": {"login": "sebageek", "id": 2045907, "node_id": "MDQ6VXNlcjIwNDU5MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2045907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebageek", "html_url": "https://github.com/sebageek", "followers_url": "https://api.github.com/users/sebageek/followers", "following_url": "https://api.github.com/users/sebageek/following{/other_user}", "gists_url": "https://api.github.com/users/sebageek/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebageek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebageek/subscriptions", "organizations_url": "https://api.github.com/users/sebageek/orgs", "repos_url": "https://api.github.com/users/sebageek/repos", "events_url": "https://api.github.com/users/sebageek/events{/privacy}", "received_events_url": "https://api.github.com/users/sebageek/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-01-24T17:47:06Z", "updated_at": "2021-03-22T03:16:57Z", "closed_at": "2021-01-30T22:31:37Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/benfred/read-process-memory/pulls/4", "html_url": "https://github.com/benfred/read-process-memory/pull/4", "diff_url": "https://github.com/benfred/read-process-memory/pull/4.diff", "patch_url": "https://github.com/benfred/read-process-memory/pull/4.patch", "merged_at": "2021-01-30T22:31:37Z"}, "body": "If the Linux kernel was built without support for process_vm_readv()\r\n(CONFIG_CROSS_MEMORY_ATTACH is unset in kernel config) a call to this\r\nfunction will fail with Function not implemented (os error 38) aka\r\nENOSYS. To still support reading process memory on this platform we\r\nfallback to reading /proc/$pid/mem.\r\n\r\n---\r\nThis is intended as a fix for benfred/py-spy/issues/22. To reproduce this I recompiled my current kernel with `CONFIG_CROSS_MEMORY_ATTACH` disabled.\r\n```\r\n$ uname -r\r\n5.10.4no-proc-mem-attach\r\n$ grep CONFIG_CROSS_MEMORY_ATTACH /boot/config-$(uname -r)\r\n# CONFIG_CROSS_MEMORY_ATTACH is not set\r\n```\r\nThis yielded the `Error: Function not implemented (os error 38)`. The patch in this PR subsequently fixed this error.\r\n\r\nI'm still a bit unhappy with the fallback, as each time memory is read an attempt to use `process_vm_readv()` is made, which is one extra syscall per read. Additionally the filehandle to `procmem` could be cached per pid, saving two additional syscalls (open, close). This might lead to an API change though, so I wanted to discuss this before wildly implementing something. In any case, the code in this PR shouldn't change the performance for current users of this library. It will only be slower in cases where it would have errored out beforehand.\r\n\r\nShoutout to @eqv for rust support!", "reactions": {"url": "https://api.github.com/repos/benfred/read-process-memory/issues/4/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/benfred/read-process-memory/issues/4/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/benfred/read-process-memory/issues/3", "repository_url": "https://api.github.com/repos/benfred/read-process-memory", "labels_url": "https://api.github.com/repos/benfred/read-process-memory/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/benfred/read-process-memory/issues/3/comments", "events_url": "https://api.github.com/repos/benfred/read-process-memory/issues/3/events", "html_url": "https://github.com/benfred/read-process-memory/pull/3", "id": 478784767, "node_id": "MDExOlB1bGxSZXF1ZXN0MzA1ODI2NTI3", "number": 3, "title": "Fix for when failing to read memory on FreeBSD", "user": {"login": "benfred", "id": 69536, "node_id": "MDQ6VXNlcjY5NTM2", "avatar_url": "https://avatars.githubusercontent.com/u/69536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benfred", "html_url": "https://github.com/benfred", "followers_url": "https://api.github.com/users/benfred/followers", "following_url": "https://api.github.com/users/benfred/following{/other_user}", "gists_url": "https://api.github.com/users/benfred/gists{/gist_id}", "starred_url": "https://api.github.com/users/benfred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benfred/subscriptions", "organizations_url": "https://api.github.com/users/benfred/orgs", "repos_url": "https://api.github.com/users/benfred/repos", "events_url": "https://api.github.com/users/benfred/events{/privacy}", "received_events_url": "https://api.github.com/users/benfred/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-08-09T04:01:37Z", "updated_at": "2021-01-31T06:08:46Z", "closed_at": "2019-08-10T23:06:19Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/benfred/read-process-memory/pulls/3", "html_url": "https://github.com/benfred/read-process-memory/pull/3", "diff_url": "https://github.com/benfred/read-process-memory/pull/3.diff", "patch_url": "https://github.com/benfred/read-process-memory/pull/3.patch", "merged_at": "2019-08-10T23:06:19Z"}, "body": "https://github.com/benfred/py-spy/issues/145", "reactions": {"url": "https://api.github.com/repos/benfred/read-process-memory/issues/3/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/benfred/read-process-memory/issues/3/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/benfred/read-process-memory/issues/2", "repository_url": "https://api.github.com/repos/benfred/read-process-memory", "labels_url": "https://api.github.com/repos/benfred/read-process-memory/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/benfred/read-process-memory/issues/2/comments", "events_url": "https://api.github.com/repos/benfred/read-process-memory/issues/2/events", "html_url": "https://github.com/benfred/read-process-memory/pull/2", "id": 468203070, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk3NjgxNzQ0", "number": 2, "title": "FreeBSD support & Misc improvements", "user": {"login": "akhramov", "id": 5289700, "node_id": "MDQ6VXNlcjUyODk3MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5289700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhramov", "html_url": "https://github.com/akhramov", "followers_url": "https://api.github.com/users/akhramov/followers", "following_url": "https://api.github.com/users/akhramov/following{/other_user}", "gists_url": "https://api.github.com/users/akhramov/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhramov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhramov/subscriptions", "organizations_url": "https://api.github.com/users/akhramov/orgs", "repos_url": "https://api.github.com/users/akhramov/repos", "events_url": "https://api.github.com/users/akhramov/events{/privacy}", "received_events_url": "https://api.github.com/users/akhramov/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-15T15:48:22Z", "updated_at": "2019-07-16T06:20:04Z", "closed_at": "2019-07-16T06:07:54Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/benfred/read-process-memory/pulls/2", "html_url": "https://github.com/benfred/read-process-memory/pull/2", "diff_url": "https://github.com/benfred/read-process-memory/pull/2.diff", "patch_url": "https://github.com/benfred/read-process-memory/pull/2.patch", "merged_at": "2019-07-16T06:07:54Z"}, "body": "FreeBSD is not supported by the library, even though its `ptrace`\r\nimplementation supports `PT_IO` call, using which we can read process\r\nmemory directly and without switching to root.\r\n\r\nThis change\r\n\r\n[FreeBSD support]\r\n* adds FreeBSD support, using native `ptrace` syscall.\r\n  Under the hood, `ptrace` changes traced process parent and stops the\r\n  traced process, allowing further introspection. All major modern BSD\r\n  OSes support `PT_IO` in their ptraces, which allow reading / writing\r\n  arbitrary data in / from traced process memory.\r\n\r\n* Adds support for Cirrus CI, the same CI libc uses for testing\r\n  FreeBSD code.\r\n\r\n[Misc improvements]\r\n* Refactors the library to use `TryFrom` trait for `Pid ->\r\n  ProcessHandle` and `Child -> ProcessHandle` conversions.\r\n\r\n  `TryFrom` trait implementation must reference a type defined in this\r\n  crate, so either `ProcessHandler` or `Pid` had to be converted from\r\n  a type alias to a 1 field tuple.\r\n\r\n  It seems like users interact with `ProcessHandle` less often than\r\n  with `Pid`, so converting `ProcessHandle` won't sacrifice ergonomics\r\n  much.\r\n\r\n  Example (retrieving the process handle):\r\n\r\n  Before:\r\n  ```rust\r\n    let handle = pid.try_into_process_handle()?;\r\n  ```\r\n\r\n  After:\r\n  ```rust\r\n    let handle: ProcessHandle = pid.try_into()?;\r\n  ```\r\n\r\n* Reconfigures Appveyor CI to use rustup directly, since the old\r\n  script downloaded v1.16 instead of current stable (v1.34)\r\n\r\nTemporary fork read-process-memory crate", "reactions": {"url": "https://api.github.com/repos/benfred/read-process-memory/issues/2/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/benfred/read-process-memory/issues/2/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/benfred/read-process-memory/issues/1", "repository_url": "https://api.github.com/repos/benfred/read-process-memory", "labels_url": "https://api.github.com/repos/benfred/read-process-memory/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/benfred/read-process-memory/issues/1/comments", "events_url": "https://api.github.com/repos/benfred/read-process-memory/issues/1/events", "html_url": "https://github.com/benfred/read-process-memory/pull/1", "id": 376182445, "node_id": "MDExOlB1bGxSZXF1ZXN0MjI3NDU5NTMw", "number": 1, "title": "bumping the log version to 0.4.6", "user": {"login": "hargoniX", "id": 33270164, "node_id": "MDQ6VXNlcjMzMjcwMTY0", "avatar_url": "https://avatars.githubusercontent.com/u/33270164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hargoniX", "html_url": "https://github.com/hargoniX", "followers_url": "https://api.github.com/users/hargoniX/followers", "following_url": "https://api.github.com/users/hargoniX/following{/other_user}", "gists_url": "https://api.github.com/users/hargoniX/gists{/gist_id}", "starred_url": "https://api.github.com/users/hargoniX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hargoniX/subscriptions", "organizations_url": "https://api.github.com/users/hargoniX/orgs", "repos_url": "https://api.github.com/users/hargoniX/repos", "events_url": "https://api.github.com/users/hargoniX/events{/privacy}", "received_events_url": "https://api.github.com/users/hargoniX/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-31T22:20:07Z", "updated_at": "2019-07-16T06:21:07Z", "closed_at": "2019-07-16T06:13:46Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/benfred/read-process-memory/pulls/1", "html_url": "https://github.com/benfred/read-process-memory/pull/1", "diff_url": "https://github.com/benfred/read-process-memory/pull/1.diff", "patch_url": "https://github.com/benfred/read-process-memory/pull/1.patch", "merged_at": "2019-07-16T06:13:46Z"}, "body": "I am currently trying to package py-spy for Fedora but as Fedora only has log 0.4 in its repositories and as py-spy depends on this package, this dependency must be updated so I can continue.", "reactions": {"url": "https://api.github.com/repos/benfred/read-process-memory/issues/1/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/benfred/read-process-memory/issues/1/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]