[{"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/194", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/194/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/194/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/194", "id": 1238383591, "node_id": "PR_kwDOAyT0a8438bBS", "number": 194, "title": "Allow BrokerWithDynamicConfiguration to publish results", "user": {"login": "kageru", "id": 21066028, "node_id": "MDQ6VXNlcjIxMDY2MDI4", "avatar_url": "https://avatars.githubusercontent.com/u/21066028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kageru", "html_url": "https://github.com/kageru", "followers_url": "https://api.github.com/users/kageru/followers", "following_url": "https://api.github.com/users/kageru/following{/other_user}", "gists_url": "https://api.github.com/users/kageru/gists{/gist_id}", "starred_url": "https://api.github.com/users/kageru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kageru/subscriptions", "organizations_url": "https://api.github.com/users/kageru/orgs", "repos_url": "https://api.github.com/users/kageru/repos", "events_url": "https://api.github.com/users/kageru/events{/privacy}", "received_events_url": "https://api.github.com/users/kageru/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-17T09:54:23Z", "updated_at": "2022-05-18T03:19:00Z", "closed_at": "2022-05-18T03:19:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/194", "html_url": "https://github.com/pact-foundation/pact-reference/pull/194", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/194.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/194.patch", "merged_at": "2022-05-18T03:19:00Z"}, "body": "As explained in #181, this should be possible.\r\n\r\nThis is my first time interacting with this codebase, so please let me know if there\u2019s anything wrong with what I\u2019ve implemented here and/or if there are other ways to check for regressions than `cargo test`.", "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/194/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/194/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/188", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/188/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/188/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/188", "id": 1172978787, "node_id": "PR_kwDOAyT0a840oJHz", "number": 188, "title": "[Snyk] Security upgrade alpine from latest to 3.15", "user": {"login": "snyk-bot", "id": 19733683, "node_id": "MDQ6VXNlcjE5NzMzNjgz", "avatar_url": "https://avatars.githubusercontent.com/u/19733683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snyk-bot", "html_url": "https://github.com/snyk-bot", "followers_url": "https://api.github.com/users/snyk-bot/followers", "following_url": "https://api.github.com/users/snyk-bot/following{/other_user}", "gists_url": "https://api.github.com/users/snyk-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/snyk-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snyk-bot/subscriptions", "organizations_url": "https://api.github.com/users/snyk-bot/orgs", "repos_url": "https://api.github.com/users/snyk-bot/repos", "events_url": "https://api.github.com/users/snyk-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/snyk-bot/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-17T22:20:10Z", "updated_at": "2022-03-18T03:39:35Z", "closed_at": "2022-03-18T03:39:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/188", "html_url": "https://github.com/pact-foundation/pact-reference/pull/188", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/188.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/188.patch", "merged_at": "2022-03-18T03:39:31Z"}, "body": "Keeping your Docker base image up-to-date means you\u2019ll benefit from security fixes in the latest version of your chosen image.\n\n#### Changes included in this PR \n\n\n- rust/pact_mock_server_cli/Dockerfile\n\nWe recommend upgrading to `alpine:3.15`, as this image has only 0 known vulnerabilities. To do this, merge this pull request, then verify your application still works as expected.\n\n\n\nSome of the most important vulnerabilities in your base image include:\n\n| Severity                                                                                                           | Issue                                                                     | Exploit Maturity      |\n| :------:                                                                                                           | :----                                                                     | :---------------      |\n| ![low severity](https://res.cloudinary.com/snyk/image/upload/w_20,h_20/v1561977819/icon/l.png \"low severity\")   | CVE-2022-0778 <br/>[SNYK-ALPINE315-OPENSSL-2426331](https://snyk.io/vuln/SNYK-ALPINE315-OPENSSL-2426331)   | No Known Exploit   |\n| ![low severity](https://res.cloudinary.com/snyk/image/upload/w_20,h_20/v1561977819/icon/l.png \"low severity\")   | CVE-2022-0778 <br/>[SNYK-ALPINE315-OPENSSL-2426331](https://snyk.io/vuln/SNYK-ALPINE315-OPENSSL-2426331)   | No Known Exploit   |\n\n\n\n---\n\n**Note:** _You are seeing this because you or someone else with access to this repository has authorized Snyk to open fix PRs._\n\nFor more information: <img src=\"https://api.segment.io/v1/pixel/track?data=eyJ3cml0ZUtleSI6InJyWmxZcEdHY2RyTHZsb0lYd0dUcVg4WkFRTnNCOUEwIiwiYW5vbnltb3VzSWQiOiJjY2Q2Y2UwYi0wZjgyLTQ2MGItYjcxNi0zMDQwMjQ3NjQwMDMiLCJldmVudCI6IlBSIHZpZXdlZCIsInByb3BlcnRpZXMiOnsicHJJZCI6ImNjZDZjZTBiLTBmODItNDYwYi1iNzE2LTMwNDAyNDc2NDAwMyJ9fQ==\" width=\"0\" height=\"0\"/>\n\ud83e\uddd0 [View latest project report](https://app.snyk.io/org/pact-foundation-808/project/7c080908-693a-4d13-99e9-7232c2326947?utm_source&#x3D;github&amp;utm_medium&#x3D;referral&amp;page&#x3D;fix-pr)\n\n\ud83d\udee0 [Adjust project settings](https://app.snyk.io/org/pact-foundation-808/project/7c080908-693a-4d13-99e9-7232c2326947?utm_source&#x3D;github&amp;utm_medium&#x3D;referral&amp;page&#x3D;fix-pr/settings)\n\n[//]: # 'snyk:metadata:{\"prId\":\"ccd6ce0b-0f82-460b-b716-304024764003\",\"prPublicId\":\"ccd6ce0b-0f82-460b-b716-304024764003\",\"dependencies\":[{\"name\":\"alpine\",\"from\":\"latest\",\"to\":\"3.15\"}],\"packageManager\":\"dockerfile\",\"projectPublicId\":\"7c080908-693a-4d13-99e9-7232c2326947\",\"projectUrl\":\"https://app.snyk.io/org/pact-foundation-808/project/7c080908-693a-4d13-99e9-7232c2326947?utm_source=github&utm_medium=referral&page=fix-pr\",\"type\":\"auto\",\"patch\":[],\"vulns\":[\"SNYK-ALPINE315-OPENSSL-2426331\"],\"upgrade\":[\"SNYK-ALPINE315-OPENSSL-2426331\",\"SNYK-ALPINE315-OPENSSL-2426331\"],\"isBreakingChange\":false,\"env\":\"prod\",\"prType\":\"fix\",\"templateVariants\":[\"updated-fix-title\"],\"priorityScoreList\":[null]}'\n\n---\n\n**Learn how to fix vulnerabilities with free interactive lessons:**\n\n \ud83e\udd89 [Learn about vulnerability in an interactive lesson of Snyk Learn.](https://learn.snyk.io?loc&#x3D;fix-pr)\n", "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/188/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/187", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/187/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/187/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/187", "id": 1172978563, "node_id": "PR_kwDOAyT0a840oJEr", "number": 187, "title": "[Snyk] Security upgrade alpine from latest to 3.15", "user": {"login": "snyk-bot", "id": 19733683, "node_id": "MDQ6VXNlcjE5NzMzNjgz", "avatar_url": "https://avatars.githubusercontent.com/u/19733683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snyk-bot", "html_url": "https://github.com/snyk-bot", "followers_url": "https://api.github.com/users/snyk-bot/followers", "following_url": "https://api.github.com/users/snyk-bot/following{/other_user}", "gists_url": "https://api.github.com/users/snyk-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/snyk-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snyk-bot/subscriptions", "organizations_url": "https://api.github.com/users/snyk-bot/orgs", "repos_url": "https://api.github.com/users/snyk-bot/repos", "events_url": "https://api.github.com/users/snyk-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/snyk-bot/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-17T22:19:48Z", "updated_at": "2022-03-18T03:39:54Z", "closed_at": "2022-03-18T03:39:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/187", "html_url": "https://github.com/pact-foundation/pact-reference/pull/187", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/187.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/187.patch", "merged_at": "2022-03-18T03:39:51Z"}, "body": "Keeping your Docker base image up-to-date means you\u2019ll benefit from security fixes in the latest version of your chosen image.\n\n#### Changes included in this PR \n\n\n- rust/pact_verifier_cli/Dockerfile\n\nWe recommend upgrading to `alpine:3.15`, as this image has only 0 known vulnerabilities. To do this, merge this pull request, then verify your application still works as expected.\n\n\n\nSome of the most important vulnerabilities in your base image include:\n\n| Severity                                                                                                           | Issue                                                                     | Exploit Maturity      |\n| :------:                                                                                                           | :----                                                                     | :---------------      |\n| ![low severity](https://res.cloudinary.com/snyk/image/upload/w_20,h_20/v1561977819/icon/l.png \"low severity\")   | CVE-2022-0778 <br/>[SNYK-ALPINE315-OPENSSL-2426331](https://snyk.io/vuln/SNYK-ALPINE315-OPENSSL-2426331)   | No Known Exploit   |\n| ![low severity](https://res.cloudinary.com/snyk/image/upload/w_20,h_20/v1561977819/icon/l.png \"low severity\")   | CVE-2022-0778 <br/>[SNYK-ALPINE315-OPENSSL-2426331](https://snyk.io/vuln/SNYK-ALPINE315-OPENSSL-2426331)   | No Known Exploit   |\n\n\n\n---\n\n**Note:** _You are seeing this because you or someone else with access to this repository has authorized Snyk to open fix PRs._\n\nFor more information: <img src=\"https://api.segment.io/v1/pixel/track?data=eyJ3cml0ZUtleSI6InJyWmxZcEdHY2RyTHZsb0lYd0dUcVg4WkFRTnNCOUEwIiwiYW5vbnltb3VzSWQiOiI4ZmM4YWRlMC0xMTM3LTQ5NzAtYTc1NC05ZmRjNWQwNzZiYzEiLCJldmVudCI6IlBSIHZpZXdlZCIsInByb3BlcnRpZXMiOnsicHJJZCI6IjhmYzhhZGUwLTExMzctNDk3MC1hNzU0LTlmZGM1ZDA3NmJjMSJ9fQ==\" width=\"0\" height=\"0\"/>\n\ud83e\uddd0 [View latest project report](https://app.snyk.io/org/pact-foundation-808/project/e7319e4f-3876-462f-be93-2e42530e910d?utm_source&#x3D;github&amp;utm_medium&#x3D;referral&amp;page&#x3D;fix-pr)\n\n\ud83d\udee0 [Adjust project settings](https://app.snyk.io/org/pact-foundation-808/project/e7319e4f-3876-462f-be93-2e42530e910d?utm_source&#x3D;github&amp;utm_medium&#x3D;referral&amp;page&#x3D;fix-pr/settings)\n\n[//]: # 'snyk:metadata:{\"prId\":\"8fc8ade0-1137-4970-a754-9fdc5d076bc1\",\"prPublicId\":\"8fc8ade0-1137-4970-a754-9fdc5d076bc1\",\"dependencies\":[{\"name\":\"alpine\",\"from\":\"latest\",\"to\":\"3.15\"}],\"packageManager\":\"dockerfile\",\"projectPublicId\":\"e7319e4f-3876-462f-be93-2e42530e910d\",\"projectUrl\":\"https://app.snyk.io/org/pact-foundation-808/project/e7319e4f-3876-462f-be93-2e42530e910d?utm_source=github&utm_medium=referral&page=fix-pr\",\"type\":\"auto\",\"patch\":[],\"vulns\":[\"SNYK-ALPINE315-OPENSSL-2426331\"],\"upgrade\":[\"SNYK-ALPINE315-OPENSSL-2426331\",\"SNYK-ALPINE315-OPENSSL-2426331\"],\"isBreakingChange\":false,\"env\":\"prod\",\"prType\":\"fix\",\"templateVariants\":[\"updated-fix-title\"],\"priorityScoreList\":[null]}'\n\n---\n\n**Learn how to fix vulnerabilities with free interactive lessons:**\n\n \ud83e\udd89 [Learn about vulnerability in an interactive lesson of Snyk Learn.](https://learn.snyk.io?loc&#x3D;fix-pr)\n", "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/187/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/186", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/186/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/186/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/186", "id": 1163530110, "node_id": "PR_kwDOAyT0a840Jqr8", "number": 186, "title": "fix: xml response matching rules", "user": {"login": "mefellows", "id": 53900, "node_id": "MDQ6VXNlcjUzOTAw", "avatar_url": "https://avatars.githubusercontent.com/u/53900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mefellows", "html_url": "https://github.com/mefellows", "followers_url": "https://api.github.com/users/mefellows/followers", "following_url": "https://api.github.com/users/mefellows/following{/other_user}", "gists_url": "https://api.github.com/users/mefellows/gists{/gist_id}", "starred_url": "https://api.github.com/users/mefellows/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mefellows/subscriptions", "organizations_url": "https://api.github.com/users/mefellows/orgs", "repos_url": "https://api.github.com/users/mefellows/repos", "events_url": "https://api.github.com/users/mefellows/events{/privacy}", "received_events_url": "https://api.github.com/users/mefellows/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-09T06:08:39Z", "updated_at": "2022-03-09T21:09:24Z", "closed_at": "2022-03-09T21:09:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/186", "html_url": "https://github.com/pact-foundation/pact-reference/pull/186", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/186.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/186.patch", "merged_at": "2022-03-09T21:09:20Z"}, "body": "Matching rules were incorrectly being serialised to the request body matching rules section.\r\n\r\nSee also https://pact-foundation.slack.com/archives/C9VBGLUM9/p1646804259107749.", "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/186/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/184", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/184/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/184/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/184", "id": 1155551005, "node_id": "PR_kwDOAyT0a84zvWCl", "number": 184, "title": "feat: Update php example to pact ffi 0.2", "user": {"login": "tienvx", "id": 3327643, "node_id": "MDQ6VXNlcjMzMjc2NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3327643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tienvx", "html_url": "https://github.com/tienvx", "followers_url": "https://api.github.com/users/tienvx/followers", "following_url": "https://api.github.com/users/tienvx/following{/other_user}", "gists_url": "https://api.github.com/users/tienvx/gists{/gist_id}", "starred_url": "https://api.github.com/users/tienvx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tienvx/subscriptions", "organizations_url": "https://api.github.com/users/tienvx/orgs", "repos_url": "https://api.github.com/users/tienvx/repos", "events_url": "https://api.github.com/users/tienvx/events{/privacy}", "received_events_url": "https://api.github.com/users/tienvx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-01T16:31:44Z", "updated_at": "2022-03-03T01:47:08Z", "closed_at": "2022-03-03T00:35:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/184", "html_url": "https://github.com/pact-foundation/pact-reference/pull/184", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/184.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/184.patch", "merged_at": "2022-03-03T00:35:54Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/184/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/183", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/183/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/183/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/183", "id": 1153640805, "node_id": "PR_kwDOAyT0a84zpDD4", "number": 183, "title": "Feat/custom headers", "user": {"login": "uglyog", "id": 863666, "node_id": "MDQ6VXNlcjg2MzY2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/863666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uglyog", "html_url": "https://github.com/uglyog", "followers_url": "https://api.github.com/users/uglyog/followers", "following_url": "https://api.github.com/users/uglyog/following{/other_user}", "gists_url": "https://api.github.com/users/uglyog/gists{/gist_id}", "starred_url": "https://api.github.com/users/uglyog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uglyog/subscriptions", "organizations_url": "https://api.github.com/users/uglyog/orgs", "repos_url": "https://api.github.com/users/uglyog/repos", "events_url": "https://api.github.com/users/uglyog/events{/privacy}", "received_events_url": "https://api.github.com/users/uglyog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-28T04:42:50Z", "updated_at": "2022-03-03T00:36:11Z", "closed_at": "2022-03-03T00:36:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/183", "html_url": "https://github.com/pact-foundation/pact-reference/pull/183", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/183.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/183.patch", "merged_at": "2022-03-03T00:36:08Z"}, "body": "This adds a new function to set custom headers: \r\n```\r\npactffi_verifier_add_custom_header(\r\n      handle: *mut handle::VerifierHandle,\r\n      header_name: *const c_char,\r\n      header_value: *const c_char\r\n    )\r\n```\r\n\r\nResolves #182 \r\n", "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/183/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/177", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/177/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/177/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/177", "id": 1116998352, "node_id": "PR_kwDOAyT0a84xt1j1", "number": 177, "title": "Feat/capture verifier output", "user": {"login": "uglyog", "id": 863666, "node_id": "MDQ6VXNlcjg2MzY2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/863666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uglyog", "html_url": "https://github.com/uglyog", "followers_url": "https://api.github.com/users/uglyog/followers", "following_url": "https://api.github.com/users/uglyog/following{/other_user}", "gists_url": "https://api.github.com/users/uglyog/gists{/gist_id}", "starred_url": "https://api.github.com/users/uglyog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uglyog/subscriptions", "organizations_url": "https://api.github.com/users/uglyog/orgs", "repos_url": "https://api.github.com/users/uglyog/repos", "events_url": "https://api.github.com/users/uglyog/events{/privacy}", "received_events_url": "https://api.github.com/users/uglyog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-28T04:48:04Z", "updated_at": "2022-01-31T00:37:09Z", "closed_at": "2022-01-31T00:37:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/177", "html_url": "https://github.com/pact-foundation/pact-reference/pull/177", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/177.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/177.patch", "merged_at": "2022-01-31T00:37:06Z"}, "body": "I updated the verifier code to capture all the output and also the results. There are two new FFI functions:\r\n\r\n`pactffi_verifier_output` - This will return the output that is written to standard out\r\n`pactffi_verifier_json` - This will return the verification result as JSON\r\n\r\nI have also added an argument to the verifier CLI to write the results to a JSON file.\r\n\r\n![image](https://user-images.githubusercontent.com/863666/151488877-222a6555-6d58-437e-9e2d-813621575889.png)\r\n\r\nThat generates the following file:\r\n\r\n```json\r\n{\r\n  \"errors\": [\r\n    {\r\n      \"interaction\": \"Verifying a pact between test_consumer and test_provider Given test state - test interaction\",\r\n      \"mismatch\": {\r\n        \"interactionId\": \"\",\r\n        \"message\": \"error sending request for url (http://localhost/): error trying to connect: tcp connect error: Connection refused (os error 111)\",\r\n        \"type\": \"error\"\r\n      }\r\n    }\r\n  ],\r\n  \"notices\": [],\r\n  \"output\": [\r\n    \"\\nVerifying a pact between \\u001b[1mtest_consumer\\u001b[0m and \\u001b[1mtest_provider\\u001b[0m\",\r\n    \"\",\r\n    \"  test interaction\",\r\n    \"      \\u001b[31mRequest Failed - error sending request for url (http://localhost/): error trying to connect: tcp connect error: Connection refused (os error 111)\\u001b[0m\",\r\n    \"\",\r\n    \"\\nFailures:\\n\",\r\n    \"1) Verifying a pact between test_consumer and test_provider Given test state - test interaction - error sending request for url (http://localhost/): error trying to connect: tcp connect error: Connection refused (os error 111)\\n\",\r\n    \"\\nThere were 1 pact failures\\n\"\r\n  ],\r\n  \"pendingErrors\": [],\r\n  \"result\": false\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/177/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/175", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/175/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/175/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/175", "id": 1114901460, "node_id": "PR_kwDOAyT0a84xnDdS", "number": 175, "title": "fix: provider request timeout should be > 16bit integers. ", "user": {"login": "mefellows", "id": 53900, "node_id": "MDQ6VXNlcjUzOTAw", "avatar_url": "https://avatars.githubusercontent.com/u/53900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mefellows", "html_url": "https://github.com/mefellows", "followers_url": "https://api.github.com/users/mefellows/followers", "following_url": "https://api.github.com/users/mefellows/following{/other_user}", "gists_url": "https://api.github.com/users/mefellows/gists{/gist_id}", "starred_url": "https://api.github.com/users/mefellows/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mefellows/subscriptions", "organizations_url": "https://api.github.com/users/mefellows/orgs", "repos_url": "https://api.github.com/users/mefellows/repos", "events_url": "https://api.github.com/users/mefellows/events{/privacy}", "received_events_url": "https://api.github.com/users/mefellows/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-26T11:13:31Z", "updated_at": "2022-01-28T05:23:09Z", "closed_at": "2022-01-27T02:41:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/175", "html_url": "https://github.com/pact-foundation/pact-reference/pull/175", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/175.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/175.patch", "merged_at": "2022-01-27T02:41:57Z"}, "body": "Fixes https://github.com/pact-foundation/pact-js/issues/761\r\n\r\nAlternatively, could just make `integer_value` a 64bit number and not worry too much about restricting the port range.", "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/174", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/174/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/174/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/174/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/174", "id": 1114852405, "node_id": "PR_kwDOAyT0a84xm5PA", "number": 174, "title": "feat(ffi)!: Remove the need to repeat the provider name in verifier FFI", "user": {"login": "adamrodger", "id": 508586, "node_id": "MDQ6VXNlcjUwODU4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/508586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamrodger", "html_url": "https://github.com/adamrodger", "followers_url": "https://api.github.com/users/adamrodger/followers", "following_url": "https://api.github.com/users/adamrodger/following{/other_user}", "gists_url": "https://api.github.com/users/adamrodger/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamrodger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamrodger/subscriptions", "organizations_url": "https://api.github.com/users/adamrodger/orgs", "repos_url": "https://api.github.com/users/adamrodger/repos", "events_url": "https://api.github.com/users/adamrodger/events{/privacy}", "received_events_url": "https://api.github.com/users/adamrodger/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-26T10:19:29Z", "updated_at": "2022-01-27T07:40:17Z", "closed_at": "2022-01-27T02:39:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/174", "html_url": "https://github.com/pact-foundation/pact-reference/pull/174", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/174.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/174.patch", "merged_at": "2022-01-27T02:39:26Z"}, "body": "The user has to specify `provider_name` as part of the `set_provider_info` call, so we can reuse that name when adding a broker source instead of forcing the user to supply it again.", "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/174/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/173", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/173/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/173/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/173", "id": 1114114759, "node_id": "PR_kwDOAyT0a84xkgpR", "number": 173, "title": "feat(ffi)!: Separate verification and publishing options", "user": {"login": "adamrodger", "id": 508586, "node_id": "MDQ6VXNlcjUwODU4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/508586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamrodger", "html_url": "https://github.com/adamrodger", "followers_url": "https://api.github.com/users/adamrodger/followers", "following_url": "https://api.github.com/users/adamrodger/following{/other_user}", "gists_url": "https://api.github.com/users/adamrodger/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamrodger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamrodger/subscriptions", "organizations_url": "https://api.github.com/users/adamrodger/orgs", "repos_url": "https://api.github.com/users/adamrodger/repos", "events_url": "https://api.github.com/users/adamrodger/events{/privacy}", "received_events_url": "https://api.github.com/users/adamrodger/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-25T16:35:41Z", "updated_at": "2022-01-27T07:40:08Z", "closed_at": "2022-01-27T02:11:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/173", "html_url": "https://github.com/pact-foundation/pact-reference/pull/173", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/173.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/173.patch", "merged_at": "2022-01-27T02:11:31Z"}, "body": "This change makes the verifier FFI easier to work with because the publishing options are split from the verification options.\r\n\r\nThe verification options should apply to all pact sources (such as file and URL) because they contain global settings such as request timeouts and callbacks.\r\n\r\nHowever, the publish options only make sense when a Pact Broker is configured. This made the FFI tricky to use from library code (in particular from PactNet) because that meant you could only set the global verification options when using a Pact Broker source, instead of when using any source. This change will allow that happen properly in future.\r\n\r\nAs an aside, I didn't find any unit tests to update at all for this, which is a bit concerning.", "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/173/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/170", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/170/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/170/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/170", "id": 1104702405, "node_id": "PR_kwDOAyT0a84xF4j-", "number": 170, "title": "fix: generators in process_object", "user": {"login": "mefellows", "id": 53900, "node_id": "MDQ6VXNlcjUzOTAw", "avatar_url": "https://avatars.githubusercontent.com/u/53900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mefellows", "html_url": "https://github.com/mefellows", "followers_url": "https://api.github.com/users/mefellows/followers", "following_url": "https://api.github.com/users/mefellows/following{/other_user}", "gists_url": "https://api.github.com/users/mefellows/gists{/gist_id}", "starred_url": "https://api.github.com/users/mefellows/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mefellows/subscriptions", "organizations_url": "https://api.github.com/users/mefellows/orgs", "repos_url": "https://api.github.com/users/mefellows/repos", "events_url": "https://api.github.com/users/mefellows/events{/privacy}", "received_events_url": "https://api.github.com/users/mefellows/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-15T12:27:46Z", "updated_at": "2022-01-16T23:37:07Z", "closed_at": "2022-01-16T23:37:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/170", "html_url": "https://github.com/pact-foundation/pact-reference/pull/170", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/170.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/170.patch", "merged_at": "2022-01-16T23:37:03Z"}, "body": "Generators detected via from_integration_json -> process_object were hard-coded to be body generators, when they may also apply to paths, headers and query strings. \r\n\r\nThis change uses the matching rule category to determine where the generator should be stored.\r\n\r\nI considered modifying the method signature, but felt this reduced the duplication in concepts. I don't believe there are cases where generator categories exist independent of their matching rules category so it should be safe. ", "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/167", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/167/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/167/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/167", "id": 1072059630, "node_id": "PR_kwDOAyT0a84vbv4J", "number": 167, "title": "fix(verifier): the state_change_teardown option wasn't used", "user": {"login": "mikegeeves", "id": 71873349, "node_id": "MDQ6VXNlcjcxODczMzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/71873349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikegeeves", "html_url": "https://github.com/mikegeeves", "followers_url": "https://api.github.com/users/mikegeeves/followers", "following_url": "https://api.github.com/users/mikegeeves/following{/other_user}", "gists_url": "https://api.github.com/users/mikegeeves/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikegeeves/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikegeeves/subscriptions", "organizations_url": "https://api.github.com/users/mikegeeves/orgs", "repos_url": "https://api.github.com/users/mikegeeves/repos", "events_url": "https://api.github.com/users/mikegeeves/events{/privacy}", "received_events_url": "https://api.github.com/users/mikegeeves/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-06T11:50:14Z", "updated_at": "2021-12-07T00:16:13Z", "closed_at": "2021-12-07T00:16:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/167", "html_url": "https://github.com/pact-foundation/pact-reference/pull/167", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/167.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/167.patch", "merged_at": "2021-12-07T00:16:13Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/167/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/165", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/165/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/165/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/165", "id": 1056969093, "node_id": "PR_kwDOAyT0a84usdyy", "number": 165, "title": "Update php examples", "user": {"login": "tienvx", "id": 3327643, "node_id": "MDQ6VXNlcjMzMjc2NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3327643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tienvx", "html_url": "https://github.com/tienvx", "followers_url": "https://api.github.com/users/tienvx/followers", "following_url": "https://api.github.com/users/tienvx/following{/other_user}", "gists_url": "https://api.github.com/users/tienvx/gists{/gist_id}", "starred_url": "https://api.github.com/users/tienvx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tienvx/subscriptions", "organizations_url": "https://api.github.com/users/tienvx/orgs", "repos_url": "https://api.github.com/users/tienvx/repos", "events_url": "https://api.github.com/users/tienvx/events{/privacy}", "received_events_url": "https://api.github.com/users/tienvx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-18T05:55:27Z", "updated_at": "2021-11-19T02:05:12Z", "closed_at": "2021-11-19T00:39:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/165", "html_url": "https://github.com/pact-foundation/pact-reference/pull/165", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/165.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/165.patch", "merged_at": "2021-11-19T00:39:53Z"}, "body": "Depend on https://github.com/pact-foundation/pact-reference/pull/164", "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/165/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/164", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/164/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/164/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/164", "id": 1056837665, "node_id": "PR_kwDOAyT0a84usB6r", "number": 164, "title": "feat: allow set filter info", "user": {"login": "tienvx", "id": 3327643, "node_id": "MDQ6VXNlcjMzMjc2NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3327643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tienvx", "html_url": "https://github.com/tienvx", "followers_url": "https://api.github.com/users/tienvx/followers", "following_url": "https://api.github.com/users/tienvx/following{/other_user}", "gists_url": "https://api.github.com/users/tienvx/gists{/gist_id}", "starred_url": "https://api.github.com/users/tienvx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tienvx/subscriptions", "organizations_url": "https://api.github.com/users/tienvx/orgs", "repos_url": "https://api.github.com/users/tienvx/repos", "events_url": "https://api.github.com/users/tienvx/events{/privacy}", "received_events_url": "https://api.github.com/users/tienvx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-18T01:57:02Z", "updated_at": "2021-11-19T02:05:05Z", "closed_at": "2021-11-19T00:38:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/164", "html_url": "https://github.com/pact-foundation/pact-reference/pull/164", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/164.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/164.patch", "merged_at": "2021-11-19T00:38:41Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/164/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/163", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/163/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/163/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/163/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/163", "id": 1056386830, "node_id": "PR_kwDOAyT0a84uqtlU", "number": 163, "title": "feat: allow set consumer version selectors", "user": {"login": "tienvx", "id": 3327643, "node_id": "MDQ6VXNlcjMzMjc2NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3327643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tienvx", "html_url": "https://github.com/tienvx", "followers_url": "https://api.github.com/users/tienvx/followers", "following_url": "https://api.github.com/users/tienvx/following{/other_user}", "gists_url": "https://api.github.com/users/tienvx/gists{/gist_id}", "starred_url": "https://api.github.com/users/tienvx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tienvx/subscriptions", "organizations_url": "https://api.github.com/users/tienvx/orgs", "repos_url": "https://api.github.com/users/tienvx/repos", "events_url": "https://api.github.com/users/tienvx/events{/privacy}", "received_events_url": "https://api.github.com/users/tienvx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-17T17:13:23Z", "updated_at": "2021-11-19T02:04:59Z", "closed_at": "2021-11-19T00:37:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/163", "html_url": "https://github.com/pact-foundation/pact-reference/pull/163", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/163.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/163.patch", "merged_at": "2021-11-19T00:37:12Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/163/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/163/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/162", "repository_url": "https://api.github.com/repos/pact-foundation/pact-reference", "labels_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/162/comments", "events_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/162/events", "html_url": "https://github.com/pact-foundation/pact-reference/pull/162", "id": 1054798076, "node_id": "PR_kwDOAyT0a84ulncW", "number": 162, "title": "fix: FFI always detects + stores JSON bodies as plain text", "user": {"login": "mefellows", "id": 53900, "node_id": "MDQ6VXNlcjUzOTAw", "avatar_url": "https://avatars.githubusercontent.com/u/53900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mefellows", "html_url": "https://github.com/mefellows", "followers_url": "https://api.github.com/users/mefellows/followers", "following_url": "https://api.github.com/users/mefellows/following{/other_user}", "gists_url": "https://api.github.com/users/mefellows/gists{/gist_id}", "starred_url": "https://api.github.com/users/mefellows/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mefellows/subscriptions", "organizations_url": "https://api.github.com/users/mefellows/orgs", "repos_url": "https://api.github.com/users/mefellows/repos", "events_url": "https://api.github.com/users/mefellows/events{/privacy}", "received_events_url": "https://api.github.com/users/mefellows/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-16T12:02:40Z", "updated_at": "2024-02-26T23:14:24Z", "closed_at": "2021-11-16T22:31:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/pulls/162", "html_url": "https://github.com/pact-foundation/pact-reference/pull/162", "diff_url": "https://github.com/pact-foundation/pact-reference/pull/162.diff", "patch_url": "https://github.com/pact-foundation/pact-reference/pull/162.patch", "merged_at": "2021-11-16T22:31:47Z"}, "body": "I have small pact acceptance suite in Pact Go that tests that go can call the main FFI methods.\r\nThe one that runs through a basic lifecycle is producing this pact file:\r\n\r\n```json\r\n{\r\n  \"consumer\": {\r\n    \"name\": \"test-http-consumer\"\r\n  },\r\n  \"interactions\": [\r\n    {\r\n      \"description\": \"some interaction\",\r\n      \"key\": \"8369cdf3b43ff542\",\r\n      \"pending\": false,\r\n      \"providerStates\": [\r\n        {\r\n          \"name\": \"some state\"\r\n        }\r\n      ],\r\n      \"request\": {\r\n        \"method\": \"GET\",\r\n        \"path\": \"/products\"\r\n      },\r\n      \"response\": {\r\n        \"body\": {\r\n          \"content\": \"{\\\"age\\\":23,\\\"alive\\\":true,\\\"name\\\":\\\"some name\\\"}\",\r\n          \"contentType\": \"*/*\",\r\n          \"encoded\": false\r\n        },\r\n        \"headers\": {\r\n          \"Content-Type\": [\r\n            \"application/json\"\r\n          ]\r\n        },\r\n        \"matchingRules\": {\r\n          \"body\": {\r\n            \"$.name\": {\r\n              \"combine\": \"AND\",\r\n              \"matchers\": [\r\n                {\r\n                  \"match\": \"type\"\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        },\r\n        \"status\": 200\r\n      },\r\n      \"type\": \"Synchronous/HTTP\"\r\n    }\r\n  ],\r\n  \"metadata\": {\r\n    \"pactRust\": {\r\n      \"ffi\": \"0.1.2\",\r\n      \"mockserver\": \"0.8.2\",\r\n      \"models\": \"0.2.1\"\r\n    },\r\n    \"pactSpecification\": {\r\n      \"version\": \"4.0\"\r\n    }\r\n  },\r\n  \"provider\": {\r\n    \"name\": \"test-http-provider\"\r\n  }\r\n}\r\n```\r\n\r\nthere are at least 2 issues:\r\n1. It doesn\u2019t seem to respect the pactffi_with_specification method at all, and always serialises a v4 pact\r\n1. the JSON body seems to be stringified and when it is verified the verification fails because it\u2019s comparing text and the formatting/values are different\r\n\r\nIt checks the content type, but for some reason is still doing a text comparison on the response:\r\n\r\n```sh\r\n  A request to do a foo\r\n    returns a response which\r\n      has status code 200 (OK)\r\n      includes headers\r\n        \"Content-Type\" with value \"application/json\" (OK)\r\n      has a matching body (FAILED)\r\n\r\n[2021-11-16T11:03:06Z ERROR pact_verifier] Failed to load pact - Failed to load pact '/Users/matthewfellows/go/src/github.com/pact-foundation/pact-go/examples/pacts/PactGoV2ConsumerMatch-V2ProviderMatch.json' - No such file or directory (os error 2)\r\n\r\nFailures:\r\n\r\n1) Verifying a pact between PactGoV3Consumer and V3Provider Given User foo exists - A request to do a foo\r\n    1.1) has a matching body\r\n           $ -> Expected text 'Some(b\"{\\\"accountBalance\\\":123.76,\\\"arrayContaining\\\":[\\\"string\\\",1,{\\\"foo\\\":\\\"bar\\\"}],\\\"datetime\\\":\\\"2020-01-01\\\",\\\"equality\\\":\\\"a thing\\\",\\\"id\\\":12,\\\"itemsMin\\\":[\\\"thereshouldbe3ofthese\\\",\\\"thereshouldbe3ofthese\\\",\\\"thereshouldbe3ofthese\\\"],\\\"itemsMinMax\\\":[27,27,27,27,27],\\\"lastName\\\":\\\"Sampson\\\",\\\"name\\\":\\\"Billy\\\",\\\"superstring\\\":\\\"foo\\\"}\")' but received 'Some(b\"\\n\\t\\t\\t{\\n\\t\\t\\t\\t\\\"accountBalance\\\": 123.76,\\n\\t\\t\\t\\t\\\"datetime\\\": \\\"2020-01-01\\\",\\n\\t\\t\\t\\t\\\"equality\\\": \\\"a thing\\\",\\n\\t\\t\\t\\t\\\"id\\\": 12,\\n\\t\\t\\t\\t\\\"itemsMin\\\": [\\n\\t\\t\\t\\t\\t\\\"thereshouldbe3ofthese\\\",\\n\\t\\t\\t\\t\\t\\\"thereshouldbe3ofthese\\\",\\n\\t\\t\\t\\t\\t\\\"thereshouldbe3ofthese\\\"\\n\\t\\t\\t\\t],\\n\\t\\t\\t\\t\\\"itemsMinMax\\\": [\\n\\t\\t\\t\\t\\t27,\\n\\t\\t\\t\\t\\t27,\\n\\t\\t\\t\\t\\t27,\\n\\t\\t\\t\\t\\t27,\\n\\t\\t\\t\\t\\t27\\n\\t\\t\\t\\t],\\n\\t\\t\\t\\t\\\"lastName\\\": \\\"Sampson\\\",\\n\\t\\t\\t\\t\\\"name\\\": \\\"Billy\\\",\\n\\t\\t\\t\\t\\\"superstring\\\": \\\"foo\\\",\\n\\t\\t\\t\\t\\\"arrayContaining\\\": [\\n\\t\\t\\t\\t\\t\\\"string\\\",\\n\\t\\t\\t\\t\\t1,\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\\"foo\\\": \\\"bar\\\"\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t]\\n\\t\\t\\t}\")'\r\n```\r\n\r\n_(note this is a different pact file than what is being verified, but the other is a long longer because of matching rules. The same set of symptoms though)_\r\n\r\nSo, I think I\u2019ve fixed the serialisation issue, which is this PR.\r\n\r\nAs for spec version, it seems we\u2019ve now migrated to the V4Pact struct, which doesn\u2019t have anywhere to set the spec version (because, presumably, it is always V4)\r\n\r\nwe track the FFI spec version here:\r\n```rust\r\npub struct PactHandleInner {\r\n  pub(crate) pact: V4Pact,\r\n  pub(crate) mock_server_started: bool,\r\n  pub(crate) specification_version: PactSpecification\r\n}\r\n```\r\n\r\nbut because the specification_version property is not ever passed on to the pact itself, it obviously won\u2019t ever serialise another version", "reactions": {"url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/pact-foundation/pact-reference/issues/162/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]