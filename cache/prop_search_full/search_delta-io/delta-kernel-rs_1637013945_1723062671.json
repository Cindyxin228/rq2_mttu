[{"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/307", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/307/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/307/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/307/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/307", "id": 2454046180, "node_id": "PR_kwDOJmSzbc53vkmY", "number": 307, "title": "exclude golden tests+data when publishing package", "user": {"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-08-07T18:08:14Z", "updated_at": "2024-08-07T19:29:41Z", "closed_at": "2024-08-07T19:29:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/307", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/307", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/307.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/307.patch", "merged_at": "2024-08-07T19:29:38Z"}, "body": "We exceeded 10MB limit on crates.io for package size. Exclude golden tests and golden data from publishing to stay under the limit.\r\n\r\nnew package size:\r\n```\r\n Finished `dev` profile [unoptimized + debuginfo] target(s) in 19.96s\r\n    Packaged 112 files, 557.5KiB (120.8KiB compressed)\r\n```\r\n\r\nold package size (and error):\r\n```\r\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 22.06s\r\n    Packaged 203 files, 13.9MiB (13.0MiB compressed)\r\n   Uploading delta_kernel v0.3.0 (/Users/zach.schuermann/dev/delta-kernel-rs/kernel)\r\nerror: failed to publish to registry at https://crates.io\r\n\r\nCaused by:\r\n  the remote server responded with an error (status 413 Payload Too Large): max upload size is: 10485760\r\n```", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/307/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/306", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/306/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/306/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/306/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/306", "id": 2453918012, "node_id": "PR_kwDOJmSzbc53vIPo", "number": 306, "title": "fix version in readme", "user": {"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-08-07T16:50:25Z", "updated_at": "2024-08-07T17:46:06Z", "closed_at": "2024-08-07T17:46:03Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/306", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/306", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/306.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/306.patch", "merged_at": "2024-08-07T17:46:03Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/306/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/305", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/305/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/305/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/305", "id": 2451875756, "node_id": "PR_kwDOJmSzbc53n-6E", "number": 305, "title": "prepare 0.3.0", "user": {"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2024-08-07T00:06:57Z", "updated_at": "2024-08-07T16:45:49Z", "closed_at": "2024-08-07T16:45:05Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/305", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/305", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/305.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/305.patch", "merged_at": "2024-08-07T16:45:05Z"}, "body": "release `0.3.0` \ud83d\ude80 \r\n\r\n(don't merge for me please, I'll adjust the date in the changelog when I'm actually about to do the release)", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/305/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/299", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/299/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/299/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/299", "id": 2446319408, "node_id": "PR_kwDOJmSzbc53VCy9", "number": 299, "title": "fix: make Map arrow type consistent with Map parquet type", "user": {"login": "ion-elgreco", "id": 15728914, "node_id": "MDQ6VXNlcjE1NzI4OTE0", "avatar_url": "https://avatars.githubusercontent.com/u/15728914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ion-elgreco", "html_url": "https://github.com/ion-elgreco", "followers_url": "https://api.github.com/users/ion-elgreco/followers", "following_url": "https://api.github.com/users/ion-elgreco/following{/other_user}", "gists_url": "https://api.github.com/users/ion-elgreco/gists{/gist_id}", "starred_url": "https://api.github.com/users/ion-elgreco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ion-elgreco/subscriptions", "organizations_url": "https://api.github.com/users/ion-elgreco/orgs", "repos_url": "https://api.github.com/users/ion-elgreco/repos", "events_url": "https://api.github.com/users/ion-elgreco/events{/privacy}", "received_events_url": "https://api.github.com/users/ion-elgreco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2024-08-03T12:00:58Z", "updated_at": "2024-08-05T20:28:12Z", "closed_at": "2024-08-05T18:58:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/299", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/299", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/299.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/299.patch", "merged_at": "2024-08-05T18:58:54Z"}, "body": "When we read parquet Map types in delta-rs, the data gets read as rootname \"key_value\" and then the struct type has two  fields \"key\", \"value\". We have casting logic that expects this schema, however when we convert our snapshot.schema to an arrow schema, a mismatch happens because kernel is using other field names.\r\n\r\nError when we optimize tables with Map types.\r\n```python\r\nSchemaMismatchError: Could not find column keys\r\n```\r\n\r\nTheoretically arrow fields can use whatever names they want, but since we are reading parquet data and therefore getting these RecordBatches with that structure, it would be just much easier to keep the structure of the datatypes consistent between the two.\r\n\r\nSee parquet docs:\r\nhttps://github.com/apache/parquet-format/blob/master/LogicalTypes.md#maps", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/299/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/297", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/297/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/297/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/297/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/297", "id": 2443740838, "node_id": "PR_kwDOJmSzbc53MM_Z", "number": 297, "title": "Add a --limit option to read-table-multi-threaded", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-08-02T00:28:56Z", "updated_at": "2024-08-02T18:29:01Z", "closed_at": "2024-08-02T18:26:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/297", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/297", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/297.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/297.patch", "merged_at": "2024-08-02T18:26:14Z"}, "body": "Arrow printing is actually _really_ slow, so for a big table it's useful to be able to just print a few rows and the total count, for testing, or to get a sense of how fast kernel ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/297/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/295", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/295/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/295/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/295", "id": 2438701912, "node_id": "PR_kwDOJmSzbc527Fgx", "number": 295, "title": "Add golden table tests from delta spark/java kernel", "user": {"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-07-30T21:20:43Z", "updated_at": "2024-08-06T19:49:41Z", "closed_at": "2024-08-06T19:49:35Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/295", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/295", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/295.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/295.patch", "merged_at": "2024-08-06T19:49:35Z"}, "body": "Adding delta's existing [golden table tests](https://github.com/delta-io/delta/blob/master/connectors/golden-tables/src/test/scala/io/delta/golden/GoldenTables.scala) to the kernel integration test suite on a best-effort basis. Each golden table is a `.tar.zst` compressed folder of the table (test input) and expected data (to assert proper reads) - all are in `kernel/tests/golden_data/`.\r\n\r\nEach golden-table.tar.zst is organized like:\r\n```\r\nexample-test/\r\n\u251c\u2500\u2500 expected\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 part-00000-3b15cd4d-5002-4a49-8031-211fbcf09c15-c000.snappy.parquet\r\n\u2514\u2500\u2500 delta\r\n    \u251c\u2500\u2500 _delta_log\r\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 00000000000000000000.json\r\n    \u251c\u2500\u2500 part-00000-2abbde89-2d0f-465e-a2f0-3e84f1b84654-c000.snappy.parquet\r\n    \u2514\u2500\u2500 part-00001-5419c9a2-bb44-454f-a109-6e6c6f000a24-c000.snappy.parquet\r\n```\r\n\r\nThe [golden tests persisted in the delta repo](https://github.com/delta-io/delta/tree/master/connectors/golden-tables/src/main/resources/golden) are the 'input' of the test cases - i.e. the delta tables we would like to read (under `delta/` subdirectory.\r\n\r\nExpected outputs were generated by reading the latest snapshot of each table from above with PySpark then persisted in the `expected/` subdirectory.\r\n\r\nA new integration suite `kernel/tests/golden_tables.rs` runs each of the new tests based on a set of macros to run either (1) `golden_test!`: a test function against the golden table, (2) `negative_test!`: run the test with the latest snapshot and expect it to fail, (3) `skip_test!`: skip the test with a reason\r\n\r\nrun the new tests with `cargo t -p delta_kernel --test golden_tables`", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/295/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/290", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/290/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/290/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/290", "id": 2423887338, "node_id": "PR_kwDOJmSzbc52JXs4", "number": 290, "title": "Update to dat 0.3", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-22T22:43:27Z", "updated_at": "2024-07-22T23:37:36Z", "closed_at": "2024-07-22T23:37:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/290", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/290", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/290.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/290.patch", "merged_at": "2024-07-22T23:37:36Z"}, "body": "- Update to the latest version of DAT\r\n- Don't skip any tests\r\n\r\nThis requires some slight massaging of the expected data. In particular, some of the expected timestamps are in zone `+00:00` which _is_ UTC ([link](https://en.wikipedia.org/wiki/UTC%2B00:00)), so if we find that, we just convert.\r\n\r\nThis requires going column-by-column and normalizing if needed. \r\n\r\nThis also removes the data_type check, since that actually needs to happen after column normalization, and it does already  happen as part of checking if two columns are equal. See [here](https://arrow.apache.org/rust/arrow_data/equal/fn.equal.html).", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/290/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/289", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/289/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/289/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/289", "id": 2420262104, "node_id": "PR_kwDOJmSzbc519RJd", "number": 289, "title": "fix inspect-table link in main docstring", "user": {"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-19T23:20:04Z", "updated_at": "2024-07-28T17:44:17Z", "closed_at": "2024-07-28T17:44:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/289", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/289", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/289.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/289.patch", "merged_at": "2024-07-28T17:44:17Z"}, "body": "tiny fix for 404 in docs", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/289/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/288", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/288/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/288/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/288", "id": 2417574124, "node_id": "PR_kwDOJmSzbc511nWy", "number": 288, "title": "C ffi test with cmake", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-18T23:47:18Z", "updated_at": "2024-07-22T22:23:21Z", "closed_at": "2024-07-22T22:23:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/288", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/288", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/288.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/288.patch", "merged_at": "2024-07-22T22:23:20Z"}, "body": "Move to using the read-test example as an ffi-test.\r\n\r\nIncludes:\r\n- Redo how we print tables, since the old method was not deterministic enough\r\n- Some fixes to make things compile properly on macOS\r\n- Adding expected output for all_primitive_types and basic_partitioned table\r\n- a test def for cmake so we can run `make test` after `cmake ..`\r\n- a `run_test.sh` script to actually run the test\r\n\r\n(don't worry, most of the changed lines are just the expected output from running the command :) )", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/288/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/287", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/287/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/287/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/287/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/287", "id": 2417288535, "node_id": "PR_kwDOJmSzbc510s8P", "number": 287, "title": "Add code coverage to CI", "user": {"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-07-18T19:56:54Z", "updated_at": "2024-08-06T21:12:27Z", "closed_at": "2024-08-06T21:12:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/287", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/287", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/287.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/287.patch", "merged_at": "2024-08-06T21:12:22Z"}, "body": "We can leverage [LLVM instrumentation-based coverage](https://doc.rust-lang.org/rustc/instrument-coverage.html) information via [cargo-llvm-cov](https://github.com/taiki-e/cargo-llvm-cov) for code coverage info. The latter has instructions to run locally - this PR introduces a new CI task called `coverage` to install/run cargo-llvm-cov and upload results to codecov.\r\n\r\nbased on top of #284 ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/287/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/284", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/284/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/284/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/284", "id": 2414899062, "node_id": "PR_kwDOJmSzbc51tTCd", "number": 284, "title": "Cleanup tests, run everything (except hdfs)", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-18T00:31:36Z", "updated_at": "2024-07-19T19:47:43Z", "closed_at": "2024-07-19T19:47:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/284", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/284", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/284.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/284.patch", "merged_at": "2024-07-19T19:47:43Z"}, "body": "Make sure our CI runs all the tests for the whole workspace.\r\n\r\nAlso fix some failing tests in `ffi` due to either mistakes in the doc comment or slight compiler output changes.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/284/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/283", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/283/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/283/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/283/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/283", "id": 2412213718, "node_id": "PR_kwDOJmSzbc51kg6J", "number": 283, "title": "prepare 0.2.0", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-16T23:31:49Z", "updated_at": "2024-07-17T20:39:13Z", "closed_at": "2024-07-17T20:39:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/283", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/283", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/283.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/283.patch", "merged_at": "2024-07-17T20:39:13Z"}, "body": "Doing another release \ud83c\udf7e \r\n\r\n(don't merge for me please, I need to adjust the date in the Changelog when I'm actually about to do the release)", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/283/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/282", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/282/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/282/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/282", "id": 2407480475, "node_id": "PR_kwDOJmSzbc51UgP7", "number": 282, "title": "fix #281, support build package behind https proxy by env", "user": {"login": "huaxk", "id": 9971591, "node_id": "MDQ6VXNlcjk5NzE1OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9971591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huaxk", "html_url": "https://github.com/huaxk", "followers_url": "https://api.github.com/users/huaxk/followers", "following_url": "https://api.github.com/users/huaxk/following{/other_user}", "gists_url": "https://api.github.com/users/huaxk/gists{/gist_id}", "starred_url": "https://api.github.com/users/huaxk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huaxk/subscriptions", "organizations_url": "https://api.github.com/users/huaxk/orgs", "repos_url": "https://api.github.com/users/huaxk/repos", "events_url": "https://api.github.com/users/huaxk/events{/privacy}", "received_events_url": "https://api.github.com/users/huaxk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-07-14T15:22:30Z", "updated_at": "2024-07-16T20:41:58Z", "closed_at": "2024-07-16T20:41:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/282", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/282", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/282.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/282.patch", "merged_at": "2024-07-16T20:41:58Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/282/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/278", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/278/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/278/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/278/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/278", "id": 2404371767, "node_id": "PR_kwDOJmSzbc51KOPf", "number": 278, "title": "Index the partitionValues map with column's physical name", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-07-11T23:51:31Z", "updated_at": "2024-07-16T00:07:35Z", "closed_at": "2024-07-16T00:07:35Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/278", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/278", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/278.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/278.patch", "merged_at": "2024-07-16T00:07:35Z"}, "body": "From the protocol:\r\n> In name mode, readers must resolve columns in the data files by their physical names as given by the column metadata property delta.columnMapping.physicalName in the Delta schema. Partition values and column level statistics will also be resolved by their physical names. For columns that are not found in the files, nulls need to be returned. Column ids are not used in this mode for resolution purposes.\r\n\r\nSo we need to map to physical name otherwise we won't find the column. Note the same is true for `id` mode, so this won't break when we add support for that.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/278/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/276", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/276/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/276/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/276", "id": 2404112854, "node_id": "PR_kwDOJmSzbc51JUf0", "number": 276, "title": "fix dv.len < num_rows bug", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-11T20:56:29Z", "updated_at": "2024-07-11T22:48:07Z", "closed_at": "2024-07-11T22:48:07Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/276", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/276", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/276.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/276.patch", "merged_at": "2024-07-11T22:48:07Z"}, "body": "We have a bug where the DV can be shorter than the # of rows returned, and we'll panic because we try and `split_off` with a len > than the dv len.\r\n\r\nThe added function also allows extending the vector with a specified value in the case the engine wants things to be of equal length, like as is required by arrow's `filter_record_batch`.\r\n\r\nThis is allowed, and the semantics are just that missing items are included in the query. This adjusts to do that, and notes the correct semantics in the comments.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/276/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/274", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/274/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/274/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/274", "id": 2399170628, "node_id": "PR_kwDOJmSzbc504jAV", "number": 274, "title": "Support HDFS via hdfs-native-object-store package", "user": {"login": "SchutteJan", "id": 4732389, "node_id": "MDQ6VXNlcjQ3MzIzODk=", "avatar_url": "https://avatars.githubusercontent.com/u/4732389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SchutteJan", "html_url": "https://github.com/SchutteJan", "followers_url": "https://api.github.com/users/SchutteJan/followers", "following_url": "https://api.github.com/users/SchutteJan/following{/other_user}", "gists_url": "https://api.github.com/users/SchutteJan/gists{/gist_id}", "starred_url": "https://api.github.com/users/SchutteJan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SchutteJan/subscriptions", "organizations_url": "https://api.github.com/users/SchutteJan/orgs", "repos_url": "https://api.github.com/users/SchutteJan/repos", "events_url": "https://api.github.com/users/SchutteJan/events{/privacy}", "received_events_url": "https://api.github.com/users/SchutteJan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-09T20:36:41Z", "updated_at": "2024-07-16T21:11:53Z", "closed_at": "2024-07-16T21:11:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/274", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/274", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/274.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/274.patch", "merged_at": "2024-07-16T21:11:53Z"}, "body": "closes #266 \r\n\r\nI've been able to verify this implementation works using the kernel examples. I am not sure what can be added in terms of tests, let me know if anything there is needed.\r\n\r\nI've ran my tests using the MiniDfs implementation from `hdfs-native`, see example here:\r\nhttps://github.com/Kimahriman/hdfs-native/blob/ebb5a2f98ab9fe487091403f45324650e3cd65fb/rust/examples/simple.rs\r\n\r\nWith MiniDFS running:\r\n\r\n```bash\r\n$ cd kernel/examples/read-table-multi-threaded/\r\n$ cargo run hdfs://localhost:9000/my_delta_table/\r\nReading hdfs://localhost:9000/my_delta_table/\r\n+----+-------+\r\n| id | value |\r\n+----+-------+\r\n| 1  | foo   |\r\n| 2  | boo   |\r\n+----+-------+\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/274/reactions", "total_count": 4, "+1": 0, "-1": 0, "laugh": 0, "hooray": 4, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/274/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/273", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/273/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/273/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/273", "id": 2396452581, "node_id": "PR_kwDOJmSzbc50vTjE", "number": 273, "title": "scan_builder function added to Snapshot ", "user": {"login": "sherlockbeard", "id": 46790654, "node_id": "MDQ6VXNlcjQ2NzkwNjU0", "avatar_url": "https://avatars.githubusercontent.com/u/46790654?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sherlockbeard", "html_url": "https://github.com/sherlockbeard", "followers_url": "https://api.github.com/users/sherlockbeard/followers", "following_url": "https://api.github.com/users/sherlockbeard/following{/other_user}", "gists_url": "https://api.github.com/users/sherlockbeard/gists{/gist_id}", "starred_url": "https://api.github.com/users/sherlockbeard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sherlockbeard/subscriptions", "organizations_url": "https://api.github.com/users/sherlockbeard/orgs", "repos_url": "https://api.github.com/users/sherlockbeard/repos", "events_url": "https://api.github.com/users/sherlockbeard/events{/privacy}", "received_events_url": "https://api.github.com/users/sherlockbeard/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-07-08T19:59:26Z", "updated_at": "2024-07-11T20:57:17Z", "closed_at": "2024-07-11T20:57:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/273", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/273", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/273.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/273.patch", "merged_at": "2024-07-11T20:57:17Z"}, "body": "Resolves #206 ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/273/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/272", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/272/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/272/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/272", "id": 2395971388, "node_id": "PR_kwDOJmSzbc50tp-5", "number": 272, "title": "changed _last_snapshot_ stats to i64", "user": {"login": "sherlockbeard", "id": 46790654, "node_id": "MDQ6VXNlcjQ2NzkwNjU0", "avatar_url": "https://avatars.githubusercontent.com/u/46790654?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sherlockbeard", "html_url": "https://github.com/sherlockbeard", "followers_url": "https://api.github.com/users/sherlockbeard/followers", "following_url": "https://api.github.com/users/sherlockbeard/following{/other_user}", "gists_url": "https://api.github.com/users/sherlockbeard/gists{/gist_id}", "starred_url": "https://api.github.com/users/sherlockbeard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sherlockbeard/subscriptions", "organizations_url": "https://api.github.com/users/sherlockbeard/orgs", "repos_url": "https://api.github.com/users/sherlockbeard/repos", "events_url": "https://api.github.com/users/sherlockbeard/events{/privacy}", "received_events_url": "https://api.github.com/users/sherlockbeard/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-07-08T15:40:20Z", "updated_at": "2024-07-09T00:39:39Z", "closed_at": "2024-07-09T00:39:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/272", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/272", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/272.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/272.patch", "merged_at": "2024-07-09T00:39:25Z"}, "body": "In spark delta these stats are long \r\n\r\nhttps://github.com/delta-io/delta/blob/97439835a4a667ac2ad86ec6054f0e85e8214760/spark/src/main/scala/org/apache/spark/sql/delta/LastCheckpointInfo.scala#L102-L112\r\n\r\nsee https://github.com/delta-io/delta-rs/pull/2649 for more information", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/272/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/271", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/271/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/271/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/271/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/271", "id": 2384827594, "node_id": "PR_kwDOJmSzbc50H58g", "number": 271, "title": "Push parquet select to leaves, add correct reordering", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2024-07-01T22:21:10Z", "updated_at": "2024-07-16T20:08:11Z", "closed_at": "2024-07-16T20:08:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/271", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/271", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/271.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/271.patch", "merged_at": "2024-07-16T20:08:11Z"}, "body": "This PR makes us finally have correct semantics when we are asked to read a schema that's not the same as the schema in the parquet file.  In particular this adds:\r\n\r\n- Correct sorting of columns to match the specified schema (previous code was actually not correctly doing this)\r\n- Identification of leaf fields that are being selected, so we only read exactly what's asked for\r\n- Sorting a struct inside a list.\r\n- Detection of requested columns that don't exist in the parquet file. \r\n  - If nullable, note and then fill them in with a column of null \r\n  - Otherwise, error since we're requesting a missing column that can't be null \r\n- Detection of timestamp columns that need to be cast to match the delta specification, and the code to do the actual casting\r\n\r\nThis turns out to be _way harder_ than anticipated, so its a lot of code.\r\n\r\nCurrently does not support reordering things inside `map`s. This is a complex PR as it is, and we don't need support for that just yet. Map content will just be passed through as read from the file. ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/271/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/267", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/267/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/267/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/267/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/267", "id": 2371209193, "node_id": "PR_kwDOJmSzbc5za3Pc", "number": 267, "title": "don't error if more fields exist than expected in a struct expression", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-06-24T22:21:22Z", "updated_at": "2024-06-27T00:31:25Z", "closed_at": "2024-06-26T18:31:07Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/267", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/267", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/267.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/267.patch", "merged_at": "2024-06-26T18:31:07Z"}, "body": "This allows us to evaluate a `struct` expression where the base data has more fields than the specified schema.\r\n\r\nThis is an alternative to #264, and matches more closely with the spec which states:\r\n> clients can assume that unrecognized actions, fields, and/or metadata domains are never required in order to correctly interpret the transaction log. Clients must ignore such unrecognized fields, and should not produce an error when reading a table that contains unrecognized fields.\r\n\r\nNB: This does NOT actually _drop_ the data from the returned expression, it just does no validation on columns that aren't specified. So if the parquet files contains:\r\n```json\r\n{\r\n  \"a\": 1,\r\n  \"b\": 2,\r\n}\r\n```\r\n\r\nand kernel passes a struct schema like `{\"name\": \"a\", \"type\": \"int\"}`, the returned data will be:\r\n```json\r\n{\r\n  \"a\": 1,\r\n  \"b\": 2,\r\n}\r\n```\r\n\r\nThis works for metadata since we can then call `extract` and things will \"just work\", but might not be good enough for when we do final \"fix-up\" via expressions.  However, actually dropping the column from the arrow data requires a lot more code change, so I'm proposing we do this for now to fix things like #261, and then figure out the best way to \"do the right thing\" when a subset of fields are specified in a struct expression.\r\n\r\nVerified that things work as expected with this change:\r\n```\r\nD select * from delta_scan('/home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/with_checkpoint/delta/');\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 letter  \u2502  int  \u2502    date    \u2502\r\n\u2502 varchar \u2502 int64 \u2502    date    \u2502\r\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\r\n\u2502 a       \u2502    93 \u2502 1975-06-01 \u2502\r\n\u2502 b       \u2502   753 \u2502 2012-05-01 \u2502\r\n\u2502 c       \u2502   620 \u2502 1983-10-01 \u2502\r\n\u2502 a       \u2502   595 \u2502 2013-03-01 \u2502\r\n\u2502         \u2502   653 \u2502 1995-12-01 \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n```\r\n\r\nCloses #261 ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/267/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/267/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/265", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/265/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/265/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/265/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/265", "id": 2367324659, "node_id": "PR_kwDOJmSzbc5zOhes", "number": 265, "title": "switch to using `scan_data` version of scan for `execute()` as well", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-06-21T22:34:33Z", "updated_at": "2024-07-17T03:48:50Z", "closed_at": "2024-07-16T20:28:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/265", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/265", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/265.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/265.patch", "merged_at": "2024-07-16T20:28:54Z"}, "body": "Previously we had two independent code paths for interacting with tables via a scan, `execute()` or `scan_data()`. \r\n\r\n`scan_data` is what most engines will use, and is a bit more complex in that it evaluates expressions over the returned add files. This meant that bugs like #261 could happen because our tests used `execute` which didn't catch the issue.\r\n\r\nThis PR makes `execute` use `scan_data` under the hood. It's a bit more complex, but now we won't need to maintain two code paths.\r\n\r\nUntil #271 merges, this PR will fail tests, because nullable columns are not filled in as expected.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/265/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/260", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/260/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/260/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/260/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/260", "id": 2361947116, "node_id": "PR_kwDOJmSzbc5y8MOi", "number": 260, "title": "Harmonise FFI error names", "user": {"login": "tlm365", "id": 49281946, "node_id": "MDQ6VXNlcjQ5MjgxOTQ2", "avatar_url": "https://avatars.githubusercontent.com/u/49281946?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tlm365", "html_url": "https://github.com/tlm365", "followers_url": "https://api.github.com/users/tlm365/followers", "following_url": "https://api.github.com/users/tlm365/following{/other_user}", "gists_url": "https://api.github.com/users/tlm365/gists{/gist_id}", "starred_url": "https://api.github.com/users/tlm365/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tlm365/subscriptions", "organizations_url": "https://api.github.com/users/tlm365/orgs", "repos_url": "https://api.github.com/users/tlm365/repos", "events_url": "https://api.github.com/users/tlm365/events{/privacy}", "received_events_url": "https://api.github.com/users/tlm365/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-06-19T10:09:46Z", "updated_at": "2024-11-10T15:34:16Z", "closed_at": "2024-06-19T17:49:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/260", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/260", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/260.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/260.patch", "merged_at": "2024-06-19T17:49:01Z"}, "body": "Resolves #228.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/260/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/258", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/258/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/258/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/258/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/258", "id": 2351920882, "node_id": "PR_kwDOJmSzbc5yZ8HG", "number": 258, "title": "Fix including files that were removed if scan_batch with predicate", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-06-13T19:38:26Z", "updated_at": "2024-06-17T19:37:45Z", "closed_at": "2024-06-17T19:37:45Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/258", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/258", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/258.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/258.patch", "merged_at": "2024-06-17T19:37:45Z"}, "body": "The data skipping filter can indicate that a file should be included, but then the file could be removed later on, so we need to not assume that the selection vector is false.\r\n\r\nThe actual fix is just one line, but I realized we weren't really testing the `scan_data` way of doing scans at all. So I've updated the way we do tests in `read.rs` to run all the scans using _both_ `execute` and `get_scan_data` from the `Scan` to ensure that both work.\r\n\r\nI added a test that would fail without the fix as well.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/258/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/258/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/257", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/257/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/257/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/257", "id": 2347042867, "node_id": "PR_kwDOJmSzbc5yJTGb", "number": 257, "title": "handle nested struct in schemaString ", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-06-11T18:30:45Z", "updated_at": "2024-06-21T17:33:41Z", "closed_at": "2024-06-21T17:33:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/257", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/257", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/257.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/257.patch", "merged_at": "2024-06-21T17:33:41Z"}, "body": "Handle parsing nested structs in `schemaString`. Setting iceberg compat causes this. Also enable the iceberg_compat_v1 test for dat, since we do now support column mapping.\r\n\r\nCloses #253 .", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/257/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/256", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/256/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/256/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/256", "id": 2346985129, "node_id": "PR_kwDOJmSzbc5yJGdK", "number": 256, "title": "Don't use a macro for expression visitor function def", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-06-11T17:57:15Z", "updated_at": "2024-06-12T17:09:10Z", "closed_at": "2024-06-12T17:09:09Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/256", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/256", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/256.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/256.patch", "merged_at": "2024-06-12T17:09:09Z"}, "body": "cbindgen doesn't pick up macro'd functions unless we set `parse.expand`. That has its own issues (see #255). For now, just remove the macro.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/256/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/254", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/254/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/254/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/254", "id": 2344870426, "node_id": "PR_kwDOJmSzbc5yB3DC", "number": 254, "title": "update to version 0.1.1", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-06-10T21:37:29Z", "updated_at": "2024-06-11T00:59:09Z", "closed_at": "2024-06-11T00:59:09Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/254", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/254", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/254.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/254.patch", "merged_at": "2024-06-11T00:59:08Z"}, "body": "Updating for the arrow 0.52 support", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/254/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/251", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/251/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/251/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/251", "id": 2341975755, "node_id": "PR_kwDOJmSzbc5x4IeJ", "number": 251, "title": "bump arrow to 52.0 and object_store to 0.10.1", "user": {"login": "abhiaagarwal", "id": 12056337, "node_id": "MDQ6VXNlcjEyMDU2MzM3", "avatar_url": "https://avatars.githubusercontent.com/u/12056337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhiaagarwal", "html_url": "https://github.com/abhiaagarwal", "followers_url": "https://api.github.com/users/abhiaagarwal/followers", "following_url": "https://api.github.com/users/abhiaagarwal/following{/other_user}", "gists_url": "https://api.github.com/users/abhiaagarwal/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhiaagarwal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhiaagarwal/subscriptions", "organizations_url": "https://api.github.com/users/abhiaagarwal/orgs", "repos_url": "https://api.github.com/users/abhiaagarwal/repos", "events_url": "https://api.github.com/users/abhiaagarwal/events{/privacy}", "received_events_url": "https://api.github.com/users/abhiaagarwal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-06-09T01:59:48Z", "updated_at": "2024-06-10T21:32:37Z", "closed_at": "2024-06-10T21:32:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/251", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/251", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/251.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/251.patch", "merged_at": "2024-06-10T21:32:37Z"}, "body": "Required for downstream pyo3 dependency of delta-rs to be updated https://github.com/delta-io/delta-rs/pull/2581/. Also converts the arrow dependencies into workspace deps so all members share it. ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/251/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/251/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/248", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/248/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/248/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/248/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/248", "id": 2341248231, "node_id": "PR_kwDOJmSzbc5x11O_", "number": 248, "title": "Fix null via not pushdown", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2024-06-07T22:34:49Z", "updated_at": "2024-06-09T15:41:57Z", "closed_at": "2024-06-09T15:41:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/248", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/248", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/248.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/248.patch", "merged_at": "2024-06-09T15:41:56Z"}, "body": "`NOTNULL` is tricky to compute as a data skipping filter. It's NOT the same as just inverting the `NULL` check. \r\n\r\nFor example, to check if a col could be null, we can see if `nullCount > 0` (assuming tight bounds), but `NOTNULL` is NOT the same as `nullCount <= 0`, for that we need `nullCount < numRecords` (i.e. at least one record is not null)\r\n\r\nThe wide bounds expressions _do_ invert, but this keeps them as separate for clarity, and because it opens the possibility of not needing `NOT` in the expression evaluator.\n\nAdditionally inverting gt/lt style expressions also isn't correct. This fixes that too.\r\n\r\nSo let's just do what we suggested in #246 and push down, so we can have two different checks.\r\n\r\nAlso adds lots more tests for various combinations of predicates.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/248/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/247", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/247/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/247/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/247", "id": 2341030040, "node_id": "PR_kwDOJmSzbc5x1F6k", "number": 247, "title": "Add unary visitors, and most other scalar types to ffi expressions", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-06-07T19:18:43Z", "updated_at": "2024-06-11T18:38:26Z", "closed_at": "2024-06-07T20:13:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/247", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/247", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/247.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/247.patch", "merged_at": "2024-06-07T20:13:44Z"}, "body": "As a follow-up to #231:\r\n\r\nAdd a `visit_unary` and make a macro for the other literal scalar types. Also adds some missing `From`s to `Scalar`.\r\n\r\nPunting on date/timestamp/decimal for now, need to think more on those how we want to pass them.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/247/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/239", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/239/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/239/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/239/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/239", "id": 2333958999, "node_id": "PR_kwDOJmSzbc5xc0gk", "number": 239, "title": "Add readme for single-threaded, fix conversion bug", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-06-04T16:44:18Z", "updated_at": "2024-06-04T17:06:33Z", "closed_at": "2024-06-04T17:06:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/239", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/239", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/239.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/239.patch", "merged_at": "2024-06-04T17:06:33Z"}, "body": "Add a README for the single threaded example\r\n\r\nFixes #238 ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/239/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/237", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/237/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/237/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/237/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/237", "id": 2332037395, "node_id": "PR_kwDOJmSzbc5xWQe-", "number": 237, "title": "Cut 0.1.0 (woo!)", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-06-03T20:56:00Z", "updated_at": "2024-06-03T21:12:19Z", "closed_at": "2024-06-03T21:12:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/237", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/237", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/237.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/237.patch", "merged_at": "2024-06-03T21:12:19Z"}, "body": "Let's do this!", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/237/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/235", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/235/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/235/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/235", "id": 2328730673, "node_id": "PR_kwDOJmSzbc5xLMip", "number": 235, "title": "Minor updates to the examples", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-31T23:51:31Z", "updated_at": "2024-06-03T20:32:50Z", "closed_at": "2024-06-03T20:32:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/235", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/235", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/235.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/235.patch", "merged_at": "2024-06-03T20:32:50Z"}, "body": "1. Rename `dump-table` -> `read-table-single-threaded`. Matches naming on Java side, and is more descriptive\r\n2. Add `chrono-tz` feature to both examples. This is needed to print timestamps. Previously the examples would fail on the `all-primitive-values` table, but now they can print it out.\r\n3. Add support for reading from s3 to the single threaded example.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/235/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/231", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/231/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/231/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/231", "id": 2326772166, "node_id": "PR_kwDOJmSzbc5xEg7C", "number": 231, "title": "Support unary NOT and IsNull in data skipping", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-05-31T00:45:51Z", "updated_at": "2024-06-07T19:00:52Z", "closed_at": "2024-06-07T19:00:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/231", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/231", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/231.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/231.patch", "merged_at": "2024-06-07T19:00:51Z"}, "body": "This adds support for applying data skipping when the provided filter is a `NOT` or an `IsNull`.\r\n\r\nThis turned out to be more \"fun\" than expected.\r\n\r\nFor `NOT`, things are fairly simple, we just recursively  transform and then invert.\r\n\r\nFor `IsNull` it's more tricky. We can't just check the value in the stats, because it has different meanings if `tightBounds` is present or not. So there's a more complex set of conditions, but because both the `tightBounds` AND `nullCount` can be `null`, but we ultimately want a boolean, we have to use [`kleene`](https://en.wikipedia.org/wiki/Three-valued_logic) logic.\r\n\r\nThis required changing the semantics of `and` and `or` in the expression evaluation. \r\n\r\nHave opened #245 and #246 as follow-ups to this work.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/229", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/229/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/229/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/229/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/229", "id": 2322473509, "node_id": "PR_kwDOJmSzbc5w1wjB", "number": 229, "title": "Changed Schema to SchemaRef for state scanning", "user": {"login": "abrassel", "id": 22563285, "node_id": "MDQ6VXNlcjIyNTYzMjg1", "avatar_url": "https://avatars.githubusercontent.com/u/22563285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrassel", "html_url": "https://github.com/abrassel", "followers_url": "https://api.github.com/users/abrassel/followers", "following_url": "https://api.github.com/users/abrassel/following{/other_user}", "gists_url": "https://api.github.com/users/abrassel/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrassel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrassel/subscriptions", "organizations_url": "https://api.github.com/users/abrassel/orgs", "repos_url": "https://api.github.com/users/abrassel/repos", "events_url": "https://api.github.com/users/abrassel/events{/privacy}", "received_events_url": "https://api.github.com/users/abrassel/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-05-29T06:26:18Z", "updated_at": "2024-06-07T19:37:49Z", "closed_at": "2024-06-07T19:37:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/229", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/229", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/229.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/229.patch", "merged_at": "2024-06-07T19:37:48Z"}, "body": "This is a pretty straightforward code-munging PR. Please see the [this comment](https://github.com/delta-incubator/delta-kernel-rs/issues/216#issuecomment-2136621176) where I discuss a shortcoming of this changeset.\r\n\r\nWe are now using a shared thread-safe pointer to reference schemas in global state instead of cloning.\r\n\r\nThis addresses #216 .", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/229/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/229/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/227", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/227/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/227/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/227/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/227", "id": 2319439745, "node_id": "PR_kwDOJmSzbc5wreNg", "number": 227, "title": "Expose top level stats in scans", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-27T15:49:56Z", "updated_at": "2024-06-25T18:40:32Z", "closed_at": "2024-06-25T18:40:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/227", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/227", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/227.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/227.patch", "merged_at": "2024-06-25T18:40:32Z"}, "body": "1. Adds a \"stats\" column to the `EngineData` we produce during scans\r\n2. Extracts, parses, and calls back with stats when using visit_scan_files\r\n3. Exposes this via ffi\r\n\r\n\r\nOnly supports `numRecords` for the moment, but I've kept this as a struct so we can add future stats without breaking apis", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/227/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/227/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/225", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/225/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/225/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/225", "id": 2316064764, "node_id": "PR_kwDOJmSzbc5wgDph", "number": 225, "title": "`get_from_map` shouldn't take a mut map", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-24T18:55:57Z", "updated_at": "2024-05-24T19:03:24Z", "closed_at": "2024-05-24T19:03:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/225", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/225", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/225.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/225.patch", "merged_at": "2024-05-24T19:03:24Z"}, "body": "Makes it difficult for engines to use because the visit functions provide a `const`", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/225/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/224", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/224/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/224/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/224", "id": 2315542594, "node_id": "PR_kwDOJmSzbc5weP6E", "number": 224, "title": "miscellaneous type updates", "user": {"login": "roeap", "id": 42610831, "node_id": "MDQ6VXNlcjQyNjEwODMx", "avatar_url": "https://avatars.githubusercontent.com/u/42610831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roeap", "html_url": "https://github.com/roeap", "followers_url": "https://api.github.com/users/roeap/followers", "following_url": "https://api.github.com/users/roeap/following{/other_user}", "gists_url": "https://api.github.com/users/roeap/gists{/gist_id}", "starred_url": "https://api.github.com/users/roeap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roeap/subscriptions", "organizations_url": "https://api.github.com/users/roeap/orgs", "repos_url": "https://api.github.com/users/roeap/repos", "events_url": "https://api.github.com/users/roeap/events{/privacy}", "received_events_url": "https://api.github.com/users/roeap/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-24T14:25:30Z", "updated_at": "2024-05-28T16:55:08Z", "closed_at": "2024-05-28T16:55:08Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/224", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/224", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/224.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/224.patch", "merged_at": "2024-05-28T16:55:08Z"}, "body": "~~stacked on #209.~~\r\n\r\nThis PR updates some types / config to be more friendly to adoption in delta-rs, yet I believe nothing too specific to delta-rs, but general comfort functions.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/223", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/223/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/223/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/223/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/223", "id": 2314502953, "node_id": "PR_kwDOJmSzbc5waqKz", "number": 223, "title": "FFI Sync Engine changes", "user": {"login": "abrassel", "id": 22563285, "node_id": "MDQ6VXNlcjIyNTYzMjg1", "avatar_url": "https://avatars.githubusercontent.com/u/22563285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrassel", "html_url": "https://github.com/abrassel", "followers_url": "https://api.github.com/users/abrassel/followers", "following_url": "https://api.github.com/users/abrassel/following{/other_user}", "gists_url": "https://api.github.com/users/abrassel/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrassel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrassel/subscriptions", "organizations_url": "https://api.github.com/users/abrassel/orgs", "repos_url": "https://api.github.com/users/abrassel/repos", "events_url": "https://api.github.com/users/abrassel/events{/privacy}", "received_events_url": "https://api.github.com/users/abrassel/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2024-05-24T06:18:48Z", "updated_at": "2024-05-29T05:47:16Z", "closed_at": "2024-05-25T04:40:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/223", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/223", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/223.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/223.patch", "merged_at": "2024-05-25T04:40:48Z"}, "body": "## Change list\r\nAdd sync engine cfg option to the ffi. This will allow us to build with local file paths only (mostly useful for testing).\r\n\r\n## How is this tested?\r\nChanged `ffi-test.c` to build both a sync and default engine. It should pass both.\r\n\r\n*Note* This is a draft because I can't get the test to build right. For some reason, the codegenned c code isn't defining the `SYNC-ENGINE` flag. Any ideas @nicklan \r\n\r\n## Issue\r\nThis addresses #199 ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/223/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/222", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/222/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/222/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/222/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/222", "id": 2313982545, "node_id": "PR_kwDOJmSzbc5wY3uZ", "number": 222, "title": "feat: typed table features", "user": {"login": "roeap", "id": 42610831, "node_id": "MDQ6VXNlcjQyNjEwODMx", "avatar_url": "https://avatars.githubusercontent.com/u/42610831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roeap", "html_url": "https://github.com/roeap", "followers_url": "https://api.github.com/users/roeap/followers", "following_url": "https://api.github.com/users/roeap/following{/other_user}", "gists_url": "https://api.github.com/users/roeap/gists{/gist_id}", "starred_url": "https://api.github.com/users/roeap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roeap/subscriptions", "organizations_url": "https://api.github.com/users/roeap/orgs", "repos_url": "https://api.github.com/users/roeap/repos", "events_url": "https://api.github.com/users/roeap/events{/privacy}", "received_events_url": "https://api.github.com/users/roeap/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-05-23T22:52:15Z", "updated_at": "2024-08-04T16:18:27Z", "closed_at": "2024-08-02T21:52:23Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/222", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/222", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/222.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/222.patch", "merged_at": "2024-08-02T21:52:23Z"}, "body": "delta-kernel aiming to be a reference implementation of the protocol, I thought it might make sense to be explicit about what table features we know about.\r\n\r\nThis has also proven quite useful in delta-rs when implementing various features.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/222/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/221", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/221/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/221/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/221", "id": 2313949775, "node_id": "PR_kwDOJmSzbc5wYwm-", "number": 221, "title": "chore: bump dependencies", "user": {"login": "roeap", "id": 42610831, "node_id": "MDQ6VXNlcjQyNjEwODMx", "avatar_url": "https://avatars.githubusercontent.com/u/42610831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roeap", "html_url": "https://github.com/roeap", "followers_url": "https://api.github.com/users/roeap/followers", "following_url": "https://api.github.com/users/roeap/following{/other_user}", "gists_url": "https://api.github.com/users/roeap/gists{/gist_id}", "starred_url": "https://api.github.com/users/roeap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roeap/subscriptions", "organizations_url": "https://api.github.com/users/roeap/orgs", "repos_url": "https://api.github.com/users/roeap/repos", "events_url": "https://api.github.com/users/roeap/events{/privacy}", "received_events_url": "https://api.github.com/users/roeap/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-23T22:16:24Z", "updated_at": "2024-05-23T22:21:35Z", "closed_at": "2024-05-23T22:21:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/221", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/221", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/221.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/221.patch", "merged_at": "2024-05-23T22:21:32Z"}, "body": "just updating arrow and some drive-by bumps.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/221/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/220", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/220/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/220/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/220/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/220", "id": 2313719895, "node_id": "PR_kwDOJmSzbc5wX9uJ", "number": 220, "title": "Add compilation failure tests for Handle", "user": {"login": "scovich", "id": 9323865, "node_id": "MDQ6VXNlcjkzMjM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9323865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scovich", "html_url": "https://github.com/scovich", "followers_url": "https://api.github.com/users/scovich/followers", "following_url": "https://api.github.com/users/scovich/following{/other_user}", "gists_url": "https://api.github.com/users/scovich/gists{/gist_id}", "starred_url": "https://api.github.com/users/scovich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scovich/subscriptions", "organizations_url": "https://api.github.com/users/scovich/orgs", "repos_url": "https://api.github.com/users/scovich/repos", "events_url": "https://api.github.com/users/scovich/events{/privacy}", "received_events_url": "https://api.github.com/users/scovich/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-23T19:56:55Z", "updated_at": "2024-11-08T21:22:58Z", "closed_at": "2024-05-24T18:19:05Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/220", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/220", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/220.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/220.patch", "merged_at": "2024-05-24T18:19:05Z"}, "body": "The FFI `Handle` class relies on several invariants that should cause compilation failures when somebody attempts to misuse a handle. This PR adds such negative test coverage with help from the `trybuild` crate. To run those tests, do:\r\n```\r\n$ cargo test --features developer-visibility --package delta_kernel_ffi -- invalid_handle_code\r\n```\r\nThe newly added `developer-visibility` feature is similar to the one already present in the kernel crate, and makes additional classes and modules public. This is important for testing, because doc tests and compilation failure tests are not \"inside\" the crate and thus cannot otherwise access `pub(crate) mod handle`. The same mechanism also allows generating internal docs that include classes relevant to those building or extending the kernel FFI.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/220/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/217", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/217/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/217/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/217", "id": 2311628047, "node_id": "PR_kwDOJmSzbc5wQ1Uo", "number": 217, "title": "Add `cloud` feature, and options to read-table-multi-threaded", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-22T22:54:52Z", "updated_at": "2024-05-24T16:41:15Z", "closed_at": "2024-05-24T16:41:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/217", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/217", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/217.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/217.patch", "merged_at": "2024-05-24T16:41:15Z"}, "body": "This adds a `cloud` feature to kernel, which will enable all cloud features on the `object_store` crate.\r\n\r\nAlso adds some options to the `read-table-multi-threaded` example, which lets us query public s3 buckets.\r\n\r\nI've created such a bucket and can test it with:\r\n```\r\n$ cargo run -- --public --region us-west-2 s3://delta-kernel-test/table-with-dv-small/\r\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.11s\r\n     Running `/home/nick/databricks/delta-kernel-rs/target/debug/read-table-multi-threaded --public --region us-west-2 's3://delta-kernel-test/table-with-dv-small/'`\r\nReading s3://delta-kernel-test/table-with-dv-small/\r\n+-------+\r\n| value |\r\n+-------+\r\n| 1     |\r\n| 2     |\r\n| 3     |\r\n| 4     |\r\n| 5     |\r\n| 6     |\r\n| 7     |\r\n| 8     |\r\n+-------+\r\n```", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/217/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/215", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/215/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/215/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/215/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/215", "id": 2311284849, "node_id": "PR_kwDOJmSzbc5wPpKs", "number": 215, "title": "feat: better ways to use deletion vectors", "user": {"login": "hntd187", "id": 6778339, "node_id": "MDQ6VXNlcjY3NzgzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6778339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hntd187", "html_url": "https://github.com/hntd187", "followers_url": "https://api.github.com/users/hntd187/followers", "following_url": "https://api.github.com/users/hntd187/following{/other_user}", "gists_url": "https://api.github.com/users/hntd187/gists{/gist_id}", "starred_url": "https://api.github.com/users/hntd187/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hntd187/subscriptions", "organizations_url": "https://api.github.com/users/hntd187/orgs", "repos_url": "https://api.github.com/users/hntd187/repos", "events_url": "https://api.github.com/users/hntd187/events{/privacy}", "received_events_url": "https://api.github.com/users/hntd187/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "hntd187", "id": 6778339, "node_id": "MDQ6VXNlcjY3NzgzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6778339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hntd187", "html_url": "https://github.com/hntd187", "followers_url": "https://api.github.com/users/hntd187/followers", "following_url": "https://api.github.com/users/hntd187/following{/other_user}", "gists_url": "https://api.github.com/users/hntd187/gists{/gist_id}", "starred_url": "https://api.github.com/users/hntd187/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hntd187/subscriptions", "organizations_url": "https://api.github.com/users/hntd187/orgs", "repos_url": "https://api.github.com/users/hntd187/repos", "events_url": "https://api.github.com/users/hntd187/events{/privacy}", "received_events_url": "https://api.github.com/users/hntd187/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "hntd187", "id": 6778339, "node_id": "MDQ6VXNlcjY3NzgzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6778339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hntd187", "html_url": "https://github.com/hntd187", "followers_url": "https://api.github.com/users/hntd187/followers", "following_url": "https://api.github.com/users/hntd187/following{/other_user}", "gists_url": "https://api.github.com/users/hntd187/gists{/gist_id}", "starred_url": "https://api.github.com/users/hntd187/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hntd187/subscriptions", "organizations_url": "https://api.github.com/users/hntd187/orgs", "repos_url": "https://api.github.com/users/hntd187/repos", "events_url": "https://api.github.com/users/hntd187/events{/privacy}", "received_events_url": "https://api.github.com/users/hntd187/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2024-05-22T19:04:33Z", "updated_at": "2024-07-26T19:03:46Z", "closed_at": "2024-07-26T19:03:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/215", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/215", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/215.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/215.patch", "merged_at": "2024-07-26T19:03:46Z"}, "body": "This is meant to be some utils to help make DV usage easier. You can \r\n\r\n- Get a deletion/selection vector\r\n- Get a DV or SV in bits or bools depending\r\n- Get either DV or SV in batches or a full vector specified by the caller\r\n- Pass an array, slice or vec to use for the container\r\n- Implement the traits to provide your own container to operate on\r\n\r\nTODO:\r\n\r\n1. Docs\r\n2. More tests\r\n3. FFI integration for this. I'd prefer to get the rust side right first and then I can extend for FFI usage.\r\n4. Correctness, is this what we want?", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/215/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/213", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/213/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/213/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/213", "id": 2311267648, "node_id": "PR_kwDOJmSzbc5wPlVH", "number": 213, "title": "use proper int type in c-ffi-test, and add ci to prevent issues in future", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-22T18:54:21Z", "updated_at": "2024-05-22T19:03:06Z", "closed_at": "2024-05-22T19:03:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/213", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/213", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/213.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/213.patch", "merged_at": "2024-05-22T19:03:05Z"}, "body": "note: not testing ffi on windows yet. added #214 to remind us to do that", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/213/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/212", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/212/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/212/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/212", "id": 2306808587, "node_id": "PR_kwDOJmSzbc5wAOoM", "number": 212, "title": "Make all FFI _impl helpers safe rust", "user": {"login": "scovich", "id": 9323865, "node_id": "MDQ6VXNlcjkzMjM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9323865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scovich", "html_url": "https://github.com/scovich", "followers_url": "https://api.github.com/users/scovich/followers", "following_url": "https://api.github.com/users/scovich/following{/other_user}", "gists_url": "https://api.github.com/users/scovich/gists{/gist_id}", "starred_url": "https://api.github.com/users/scovich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scovich/subscriptions", "organizations_url": "https://api.github.com/users/scovich/orgs", "repos_url": "https://api.github.com/users/scovich/repos", "events_url": "https://api.github.com/users/scovich/events{/privacy}", "received_events_url": "https://api.github.com/users/scovich/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-20T21:14:29Z", "updated_at": "2024-11-08T21:22:57Z", "closed_at": "2024-05-24T01:21:33Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/212", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/212", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/212.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/212.patch", "merged_at": "2024-05-24T01:21:33Z"}, "body": "Several FFI entry points are split into a pair of function, where the \"inner\" function does the actual work and returns a `DeltaResult` which the \"outer\" function simply converts to `ExternResult`:\r\n```rust\r\npub unsafe extern \"C\" fn foo(\r\n      ... args ...,\r\n    allocate_error: AllocateErrorFn,\r\n) -> ExternResult<*mut Foo> {\r\n    foo_impl(... args...).into_extern_result(allocate_error)\r\n}\r\n \r\nunsafe fn foo_impl(\r\n      ... args ...,\r\n    allocate_fn: AllocateErrorFn,\r\n ) -> DeltaResult<*mut Foo> {\r\n   let foo = unsafe { ... args ... };\r\n    ... do the actual work ...\r\n}\r\n```\r\nThis PR observes that the \"outer\" function can _also_ capture all the unsafe code, so that the \"inner\" function becomes normal safe rust.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/212/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/211", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/211/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/211/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/211", "id": 2306609785, "node_id": "PR_kwDOJmSzbc5v_iN6", "number": 211, "title": "fix: timestamp ntz and decimal conversions", "user": {"login": "roeap", "id": 42610831, "node_id": "MDQ6VXNlcjQyNjEwODMx", "avatar_url": "https://avatars.githubusercontent.com/u/42610831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roeap", "html_url": "https://github.com/roeap", "followers_url": "https://api.github.com/users/roeap/followers", "following_url": "https://api.github.com/users/roeap/following{/other_user}", "gists_url": "https://api.github.com/users/roeap/gists{/gist_id}", "starred_url": "https://api.github.com/users/roeap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roeap/subscriptions", "organizations_url": "https://api.github.com/users/roeap/orgs", "repos_url": "https://api.github.com/users/roeap/repos", "events_url": "https://api.github.com/users/roeap/events{/privacy}", "received_events_url": "https://api.github.com/users/roeap/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-05-20T19:14:40Z", "updated_at": "2024-05-23T22:06:21Z", "closed_at": "2024-05-23T22:06:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/211", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/211", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/211.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/211.patch", "merged_at": "2024-05-23T22:06:16Z"}, "body": "This PR fixes some inconsistencies when handling Timestamp NTZ types and adds some checks, that bounds for devimal128 type are enforced.\r\n\r\nmaybe in a follow up we may need to investigate how we can best ensure the `timestampNTZ` feature is enabled when the type is encountered.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/211/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/210", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/210/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/210/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/210", "id": 2303700594, "node_id": "PR_kwDOJmSzbc5v1-2a", "number": 210, "title": "don't fully enforce matching schema", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-05-18T00:00:55Z", "updated_at": "2024-05-27T19:55:18Z", "closed_at": "2024-05-27T19:55:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/210", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/210", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/210.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/210.patch", "merged_at": "2024-05-27T19:55:18Z"}, "body": "When we read from a checkpoint, there can be disagreement about the schema we think we've read, and what was actually in the parquet.  This can cause issues when we try and interact with engine data via expressions. For example [here](https://github.com/delta-incubator/delta-kernel-rs/blob/main/kernel/src/scan/log_replay.rs#L219), where we use the \"correct\" schema and do not mark dvs as nullable. Also, in our arrow_conversions we make assumptions about the names of the fields that mark map keys and values (see [here](https://github.com/delta-incubator/delta-kernel-rs/blob/main/kernel/src/engine/arrow_conversion.rs#L128)), which also causes issues when the actual materialized names are different.\r\n\r\nAn example error trying to work with a checkpoint file:\r\n```\r\nArrow(\r\n    InvalidArgumentError(\r\n        \"Incorrect datatype for StructArray field \\\"deletionVector\\\", expected Struct([Field { name: \\\"storageType\\\", data_type: Utf8, nullable: false, dict_id: 0, dict_is_ordered: false, metadata: {} }, Field { name: \\\"pathOrInlineDv\\\", data_type: Utf8, nullable: false, dict_id: 0, dict_is_ordered: false, metadata: {} }, Field { name: \\\"offset\\\", data_type: Int32, nullable: true, dict_id: 0, dict_is_ordered: false, metadata: {} }, Field { name: \\\"sizeInBytes\\\", data_type: Int32, nullable: false, dict_id: 0, dict_is_ordered: false, metadata: {} }, Field { name: \\\"cardinality\\\", data_type: Int64, nullable: false, dict_id: 0, dict_is_ordered: false, metadata: {} }]) got Struct([Field { name: \\\"storageType\\\", data_type: Utf8, nullable: true, dict_id: 0, dict_is_ordered: false, metadata: {} }, Field { name: \\\"pathOrInlineDv\\\", data_type: Utf8, nullable: true, dict_id: 0, dict_is_ordered: false, metadata: {} }, Field { name: \\\"offset\\\", data_type: Int32, nullable: true, dict_id: 0, dict_is_ordered: false, metadata: {} }, Field { name: \\\"sizeInBytes\\\", data_type: Int32, nullable: true, dict_id: 0, dict_is_ordered: false, metadata: {} }, Field { name: \\\"cardinality\\\", data_type: Int64, nullable: true, dict_id: 0, dict_is_ordered: false, metadata: {} }, Field { name: \\\"maxRowIndex\\\", data_type: Int64, nullable: true, dict_id: 0, dict_is_ordered: false, metadata: {} }])\",\r\n    ),\r\n)\r\n```\r\n\r\nThis arises for two reasons:\r\n\r\n1. To avoid \"parquet corruption\", spark will write a nullable struct as having _all_ fields nullable. Thus, for example, since DVs are nullable, all fields of the DV struct are marked nullable. This means the \"nullability\" of fields will not be the same as the specified read schema\r\n2. We can't guarantee exactly what names the \"meta\" fields for maps/lists will have in the raw schema\r\n\r\nThis PR does as much validation as possible, but doesn't check things we can't control. So for each named field in the output schema it ensures the types are the same, and does so recursively into structs, maps, and lists.\r\n\r\nThen it simply uses the schema that the parquet/json reader had already associated with the data. \r\n\r\nThis \"works\". Major issues:\r\n1. The schema you ask for might not be exactly the schema you get. Although differences in nullability are the only \"observable\" difference from kernel perspective\r\n2. A bigger issue is that this complicates the writing of expression evaluators for engines, as we'll have to carefully document and explain potential schema mismatches.\r\n\r\nAfter some discussion, we will go with this for the time being.\r\n", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/210/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/209", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/209/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/209/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/209", "id": 2303339787, "node_id": "PR_kwDOJmSzbc5v0weS", "number": 209, "title": "feat: add struct literal", "user": {"login": "roeap", "id": 42610831, "node_id": "MDQ6VXNlcjQyNjEwODMx", "avatar_url": "https://avatars.githubusercontent.com/u/42610831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roeap", "html_url": "https://github.com/roeap", "followers_url": "https://api.github.com/users/roeap/followers", "following_url": "https://api.github.com/users/roeap/following{/other_user}", "gists_url": "https://api.github.com/users/roeap/gists{/gist_id}", "starred_url": "https://api.github.com/users/roeap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roeap/subscriptions", "organizations_url": "https://api.github.com/users/roeap/orgs", "repos_url": "https://api.github.com/users/roeap/repos", "events_url": "https://api.github.com/users/roeap/events{/privacy}", "received_events_url": "https://api.github.com/users/roeap/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-05-17T18:18:46Z", "updated_at": "2024-05-27T19:55:38Z", "closed_at": "2024-05-27T19:55:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/209", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/209", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/209.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/209.patch", "merged_at": "2024-05-27T19:55:34Z"}, "body": "Add a `Struct` literal type. The short term use is to use it when integrating with delta-rs. Assumption would be it might also come in handy as we develop the write path and need to express partition values.\r\n\r\nLooked through the code if we needed to so some additional handling w.r.t. `fileConstantValues`, but that seems to be all in \"raw\" form as we find in the actions?", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/209/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/208", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/208/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/208/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/208/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/208", "id": 2301562715, "node_id": "PR_kwDOJmSzbc5vurMB", "number": 208, "title": "Better path parsing", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-16T23:52:37Z", "updated_at": "2024-05-21T21:44:42Z", "closed_at": "2024-05-21T21:44:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/208", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/208", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/208.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/208.patch", "merged_at": "2024-05-21T21:44:42Z"}, "body": "Use the (slightly modified) code from [delta-rs](https://github.com/delta-io/delta-rs/blob/main/crates/core/src/table/builder.rs#L344) to handle parsing paths in a less surprising manner. ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/208/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/205", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/205/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/205/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/205/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/205", "id": 2298951754, "node_id": "PR_kwDOJmSzbc5vlsHR", "number": 205, "title": "Add support for \"name\" column mapping", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-15T22:24:07Z", "updated_at": "2024-05-22T21:44:19Z", "closed_at": "2024-05-22T21:44:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/205", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/205", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/205.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/205.patch", "merged_at": "2024-05-22T21:44:19Z"}, "body": "This only \"just works\" if you're using `Scan::execute` or `Scan::get_scan_data` in conjunction with `transform_to_logical`.\r\n\r\nIt does also add enough information into the `GlobalScanState` for an engine to remap things on its own.\r\n\r\nAdditionally this does some work to optimize how we set up and execute scans. In particular, it calls the expensive `get_state_info` only when building the scan, or when calling `transform_to_logical` (which is assumed to be potentially running on another node/thread from the scan). This required two main changes:\r\n1. `ScanBuilder::build()` is now fallible, and does more work\r\n2. The `ColumnType` enum can't have a lifetime on it anymore as we want to store it in the scan and it would reference data in the scan which is just messy in rust.\r\n\r\nTested by running the `column_mapping` test from `dat`", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/205/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/204", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/204/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/204/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/204", "id": 2298349982, "node_id": "PR_kwDOJmSzbc5vjnHV", "number": 204, "title": "Add a require! macro and use it.", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-15T16:23:40Z", "updated_at": "2024-05-17T22:21:31Z", "closed_at": "2024-05-16T16:46:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/204", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/204", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/204.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/204.patch", "merged_at": "2024-05-16T16:46:14Z"}, "body": "Add a macro that simplifies the case of checking a condition and returning an error if it doesn't hold.\r\n\r\nCloses: #148 ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/203", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/203/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/203/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/203/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/203", "id": 2293898971, "node_id": "PR_kwDOJmSzbc5vUU42", "number": 203, "title": "Have an ffi c example that actually reads data", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-05-13T21:44:07Z", "updated_at": "2024-07-01T18:15:24Z", "closed_at": "2024-07-01T18:14:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/203", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/203", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/203.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/203.patch", "merged_at": "2024-07-01T18:14:53Z"}, "body": "Flesh out what a more full FFI API for data reading would look like. We can certainly iterate on this.\r\n\r\nLots more into the example for using the c-ffi (sorry for another big PR. It's mostly example code at least):\r\n\r\n- Actually read the data\r\n- Include partition columns\r\n- Print out the table\r\n- Use `clang-format` to get consistent c style\r\n- Add _all_ the gcc warnings, make them errors, and fix them\r\n\r\nUnfortunately the glib arrow api doesn't seem to allow passing options to how we print things, so this will print a max of 4 rows out the table. To print more we'd need to write our own printing function.\r\n\r\nThis also adds `engine_funcs.rs` which currently only exposes `read_parquet_files`. This is more of a POC, but seems like potentially the right way forward for exposing the various functions available to rust when it has an `Engine`.\r\n\r\nA couple of example runs:\r\n\r\nReading the `basic_partitioned` table:\r\n```\r\nReading table at file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/basic_partitioned/delta/\r\nversion: 1\r\n\r\nBuilding schema\r\nMaking a list of lenth 3 with id 0\r\nAsked to visit string named letter belonging to list 0.\r\nAsked to visit long named number belonging to list 0.\r\nAsked to visit double named a_float belonging to list 0.\r\nSchema returned in list 0\r\nDone building schema\r\nSchema:\r\n\u251c\u2500 letter: string\r\n\u251c\u2500 number: long\r\n\u2514\u2500 a_float: double\r\n\r\nStarting table scan\r\n\r\nBuilding list of partition columns\r\nDone iterating partition columns\r\nPartition columns are:\r\n  - letter\r\n\r\nIterating scan data\r\n\r\nScan iterator found some data to read\r\n  Of this data, here is a selection vector\r\n    sel[0] = 0\r\n    sel[1] = 1\r\n    sel[2] = 1\r\n    sel[3] = 1\r\nAsking kernel to call us back for each scan row (file to read)\r\nCalled back to read file: letter=a/part-00000-b17b8597-4c08-4867-b882-2249d604cbc2.c000.snappy.parquet\r\n  No selection vector for this file\r\n  partition 'letter' here: a\r\n  Reading parquet file at file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/basic_partitioned/delta/letter=a/part-00000-b17b8597-4c08-4867-b882-2249d604cbc2.c000.snappy.parquet\r\n  Converting read data to arrow\r\n  Adding partition column 'letter' with value 'a' at column 2\r\n  Added batch to arrow context, have 1 batches in context now\r\n  Done reading parquet file\r\nCalled back to read file: letter=e/part-00000-90f8c03f-e005-4714-a8ac-55bcf6d94d7d.c000.snappy.parquet\r\n  No selection vector for this file\r\n  partition 'letter' here: e\r\n  Reading parquet file at file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/basic_partitioned/delta/letter=e/part-00000-90f8c03f-e005-4714-a8ac-55bcf6d94d7d.c000.snappy.parquet\r\n  Converting read data to arrow\r\n  Adding partition column 'letter' with value 'e' at column 2\r\n  Added batch to arrow context, have 2 batches in context now\r\n  Done reading parquet file\r\nCalled back to read file: letter=f/part-00000-4da5e756-3c84-4b40-b483-ebcf3c4ed6ce.c000.snappy.parquet\r\n  No selection vector for this file\r\n  partition 'letter' here: f\r\n  Reading parquet file at file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/basic_partitioned/delta/letter=f/part-00000-4da5e756-3c84-4b40-b483-ebcf3c4ed6ce.c000.snappy.parquet\r\n  Converting read data to arrow\r\n  Adding partition column 'letter' with value 'f' at column 2\r\n  Added batch to arrow context, have 3 batches in context now\r\n  Done reading parquet file\r\n\r\nScan iterator found some data to read\r\n  Of this data, here is a selection vector\r\n    sel[0] = 0\r\n    sel[1] = 0\r\n    sel[2] = 0\r\n    sel[3] = 1\r\n    sel[4] = 1\r\n    sel[5] = 1\r\nAsking kernel to call us back for each scan row (file to read)\r\nCalled back to read file: letter=a/part-00000-8fe836ee-ec38-4388-91a1-5c3eff176e84.c000.snappy.parquet\r\n  No selection vector for this file\r\n  partition 'letter' here: a\r\n  Reading parquet file at file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/basic_partitioned/delta/letter=a/part-00000-8fe836ee-ec38-4388-91a1-5c3eff176e84.c000.snappy.parquet\r\n  Converting read data to arrow\r\n  Adding partition column 'letter' with value 'a' at column 2\r\n  Added batch to arrow context, have 4 batches in context now\r\n  Done reading parquet file\r\nCalled back to read file: letter=b/part-00000-2465ef7c-268e-43be-98fe-c9c37a2a6482.c000.snappy.parquet\r\n  No selection vector for this file\r\n  partition 'letter' here: b\r\n  Reading parquet file at file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/basic_partitioned/delta/letter=b/part-00000-2465ef7c-268e-43be-98fe-c9c37a2a6482.c000.snappy.parquet\r\n  Converting read data to arrow\r\n  Adding partition column 'letter' with value 'b' at column 2\r\n  Added batch to arrow context, have 5 batches in context now\r\n  Done reading parquet file\r\nCalled back to read file: letter=c/part-00000-28c8b160-ee9c-407d-93f5-ff7d8e2a8d3f.c000.snappy.parquet\r\n  No selection vector for this file\r\n  partition 'letter' here: c\r\n  Reading parquet file at file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/basic_partitioned/delta/letter=c/part-00000-28c8b160-ee9c-407d-93f5-ff7d8e2a8d3f.c000.snappy.parquet\r\n  Converting read data to arrow\r\n  Adding partition column 'letter' with value 'c' at column 2\r\n  Added batch to arrow context, have 6 batches in context now\r\n  Done reading parquet file\r\nScan data iterator done\r\nAll done reading table data\r\n\r\nTable Data:\r\n-----------\r\n\r\nnumber: int64\r\na_float: double\r\nletter: string\r\n----\r\nnumber:\r\n  [\r\n    [\r\n      4\r\n    ],\r\n    [\r\n      5\r\n    ],\r\n  ...,\r\n    [\r\n      2\r\n    ],\r\n    [\r\n      3\r\n    ]\r\n  ]\r\na_float:\r\n  [\r\n    [\r\n      4.4\r\n    ],\r\n    [\r\n      5.5\r\n    ],\r\n  ...,\r\n    [\r\n      2.2\r\n    ],\r\n    [\r\n      3.3\r\n    ]\r\n  ]\r\nletter:\r\n  [\r\n    [\r\n      \"a\"\r\n    ],\r\n    [\r\n      \"e\"\r\n    ],\r\n  ...,\r\n    [\r\n      \"b\"\r\n    ],\r\n    [\r\n      \"c\"\r\n    ]\r\n  ]\r\n```\r\n\r\nReading the `nested_types` table\r\n```\r\nReading table at file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/nested_types/delta/\r\nversion: 0\r\n\r\nBuilding schema\r\nMaking a list of lenth 4 with id 0\r\nAsked to visit integer named pk belonging to list 0.\r\nMaking a list of lenth 2 with id 1\r\nAsked to visit double named float64 belonging to list 1.\r\nAsked to visit boolean named bool belonging to list 1.\r\nAsked to visit struct named struct belonging to list 0. Children are in 1.\r\nMaking a list of lenth 1 with id 2\r\nAsked to visit short named array_element belonging to list 2.\r\nAsked to visit array named array (contains null: true) belonging to list 0. Types are in 2.\r\nMaking a list of lenth 2 with id 3\r\nAsked to visit string named map_key belonging to list 3.\r\nAsked to visit integer named map_value belonging to list 3.\r\nAsked to visit map named map (contains null: true) belonging to list 0. Types are in 3.\r\nSchema returned in list 0\r\nDone building schema\r\nSchema:\r\n\u251c\u2500 pk: integer\r\n\u251c\u2500 struct: struct\r\n\u2502  \u251c\u2500 float64: double\r\n\u2502  \u2514\u2500 bool: boolean\r\n\u251c\u2500 array (contains null: true): array\r\n\u2502  \u2514\u2500 array_element: short\r\n\u2514\u2500 map (contains null: true): map\r\n   \u251c\u2500 map_key: string\r\n   \u2514\u2500 map_value: integer\r\n\r\nStarting table scan\r\n\r\nBuilding list of partition columns\r\nDone iterating partition columns\r\nTable has no partition columns\r\n\r\nIterating scan data\r\n\r\nScan iterator found some data to read\r\n  Of this data, here is a selection vector\r\n    sel[0] = 0\r\n    sel[1] = 0\r\n    sel[2] = 0\r\n    sel[3] = 1\r\nAsking kernel to call us back for each scan row (file to read)\r\nCalled back to read file: part-00000-3b8ca3f0-6444-4ed5-8961-c605cba95bf1-c000.snappy.parquet\r\n  No selection vector for this file\r\n  Reading parquet file at file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/nested_types/delta/part-00000-3b8ca3f0-6444-4ed5-8961-c605cba95bf1-c000.snappy.parquet\r\n  Converting read data to arrow\r\n  Added batch to arrow context, have 1 batches in context now\r\n  Done reading parquet file\r\nScan data iterator done\r\nAll done reading table data\r\n\r\nTable Data:\r\n-----------\r\n\r\npk: int32\r\nstruct: struct<float64: double, bool: bool>\r\n  child 0, float64: double\r\n  child 1, bool: bool\r\narray: list<element: int16>\r\n  child 0, element: int16\r\nmap: map<string, int32>\r\n  child 0, entries: struct<key: string not null, value: int32> not null\r\n      child 0, key: string not null\r\n      child 1, value: int32\r\n----\r\npk:\r\n  [\r\n    [\r\n      0,\r\n      1,\r\n      2,\r\n      3,\r\n      4\r\n    ]\r\n  ]\r\nstruct:\r\n  [\r\n    -- is_valid: all not null\r\n    -- child 0 type: double\r\n      [\r\n        0,\r\n        1,\r\n        2,\r\n        3,\r\n        4\r\n      ]\r\n    -- child 1 type: bool\r\n      [\r\n        true,\r\n        false,\r\n        true,\r\n        false,\r\n        true\r\n      ]\r\n  ]\r\narray:\r\n  [\r\n    [\r\n      [\r\n        0\r\n      ],\r\n      [\r\n        0,\r\n        1\r\n      ],\r\n      [\r\n        0,\r\n        1,\r\n        2\r\n      ],\r\n      [\r\n        0,\r\n        1,\r\n        2,\r\n        3\r\n      ],\r\n      [\r\n        0,\r\n        1,\r\n        2,\r\n        3,\r\n        4\r\n      ]\r\n    ]\r\n  ]\r\nmap:\r\n  [\r\n    [\r\n      keys:\r\n      []\r\n      values:\r\n      [],\r\n      keys:\r\n      [\r\n        \"0\"\r\n      ]\r\n      values:\r\n      [\r\n        0\r\n      ],\r\n      keys:\r\n      [\r\n        \"0\",\r\n        \"1\"\r\n      ]\r\n      values:\r\n      [\r\n        0,\r\n        1\r\n      ],\r\n      keys:\r\n      [\r\n        \"0\",\r\n        \"1\",\r\n        \"2\"\r\n      ]\r\n      values:\r\n      [\r\n        0,\r\n        1,\r\n        2\r\n      ],\r\n      keys:\r\n      [\r\n        \"0\",\r\n        \"1\",\r\n        \"2\",\r\n        \"3\"\r\n      ]\r\n      values:\r\n      [\r\n        0,\r\n        1,\r\n        2,\r\n        3\r\n      ]\r\n    ]\r\n  ]\r\n```", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/203/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/201", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/201/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/201/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/201", "id": 2283906234, "node_id": "PR_kwDOJmSzbc5uyrAO", "number": 201, "title": "make inline dvs work right", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-07T17:45:44Z", "updated_at": "2024-05-10T18:59:58Z", "closed_at": "2024-05-10T18:13:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/201", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/201", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/201.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/201.patch", "merged_at": "2024-05-10T18:13:30Z"}, "body": "There was a mistake in the protocol wrt. to the old inline example. Based on the spark code and the new example this decodes correctly.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/201/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/198", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/198/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/198/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/198", "id": 2281862088, "node_id": "PR_kwDOJmSzbc5usHbx", "number": 198, "title": "Make KernelBoolSlice memory safe, and Send+Sync", "user": {"login": "scovich", "id": 9323865, "node_id": "MDQ6VXNlcjkzMjM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9323865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scovich", "html_url": "https://github.com/scovich", "followers_url": "https://api.github.com/users/scovich/followers", "following_url": "https://api.github.com/users/scovich/following{/other_user}", "gists_url": "https://api.github.com/users/scovich/gists{/gist_id}", "starred_url": "https://api.github.com/users/scovich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scovich/subscriptions", "organizations_url": "https://api.github.com/users/scovich/orgs", "repos_url": "https://api.github.com/users/scovich/repos", "events_url": "https://api.github.com/users/scovich/events{/privacy}", "received_events_url": "https://api.github.com/users/scovich/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-06T22:03:49Z", "updated_at": "2024-11-08T21:22:54Z", "closed_at": "2024-05-07T21:13:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/198", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/198", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/198.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/198.patch", "merged_at": "2024-05-07T21:13:24Z"}, "body": "Initial work on https://github.com/delta-incubator/delta-kernel-rs/pull/196 exposed a lurking design issue with the FFI `KernelBoolSlice`. By using raw pointers, it cannot be Send+Sync, but also memory lifetimes become very hard to reason about.\r\n\r\nThe fix is to pass it to the engine by value, with the contract that engine must free it. Also, `unsafe impl` Send+Sync on the struct, with explanation of the safety requirements.\r\n\r\nThis is a temporary fix, since we'd prefer kernel didn't allocate boolean slices at all if possible, and definitely shouldn't pass them as owned into visitor methods that anyway just drop it.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/198/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/197", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/197/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/197/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/197", "id": 2281848854, "node_id": "PR_kwDOJmSzbc5usEdO", "number": 197, "title": "Fix thread race bug in default client", "user": {"login": "scovich", "id": 9323865, "node_id": "MDQ6VXNlcjkzMjM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9323865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scovich", "html_url": "https://github.com/scovich", "followers_url": "https://api.github.com/users/scovich/followers", "following_url": "https://api.github.com/users/scovich/following{/other_user}", "gists_url": "https://api.github.com/users/scovich/gists{/gist_id}", "starred_url": "https://api.github.com/users/scovich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scovich/subscriptions", "organizations_url": "https://api.github.com/users/scovich/orgs", "repos_url": "https://api.github.com/users/scovich/repos", "events_url": "https://api.github.com/users/scovich/events{/privacy}", "received_events_url": "https://api.github.com/users/scovich/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-05-06T21:54:10Z", "updated_at": "2024-05-07T19:44:52Z", "closed_at": "2024-05-07T19:44:52Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/197", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/197", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/197.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/197.patch", "merged_at": "2024-05-07T19:44:52Z"}, "body": "Initial work on https://github.com/delta-incubator/delta-kernel-rs/pull/196 exposed a lurking thread race in the default client: It gives an iterator backed by a single-consumer channel to the engine, but multi-threaded engines like DuckDB consume iterator entries simultaneously from multiple threads. \r\n\r\nFix the immediate problem, by protecting the iterator with a mutex. This allows the compiler to derive Send+Sync for the resulting file scan iterator, proving it is now safe for multi-threaded engines to access it. Due to wacky lifetime issues, this required removing the template parameter `F: FileOpener` from `FileStream` and friends (replaced with `Box<dyn FileOpener>`). It's unclear what benefit the generics were even providing in the first place.\r\n\r\nWhile we're at it, reduce duplication in the file scan code by factoring out a single helper method that both JSON and parquet handlers can use to create the file scan iterator.\r\n\r\nAlso while we're at it, rename the confusingly-named modules `file_stream` (which doesn't define anything resembling a file stream) and `file_handler` (which defines `struct FileStream`) respectively as `log_replay` and `file_stream`.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/197/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/196", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/196/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/196/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/196", "id": 2281472703, "node_id": "PR_kwDOJmSzbc5uqxqk", "number": 196, "title": "Make everything that crosses FFI boundary Send+Sync", "user": {"login": "scovich", "id": 9323865, "node_id": "MDQ6VXNlcjkzMjM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9323865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scovich", "html_url": "https://github.com/scovich", "followers_url": "https://api.github.com/users/scovich/followers", "following_url": "https://api.github.com/users/scovich/following{/other_user}", "gists_url": "https://api.github.com/users/scovich/gists{/gist_id}", "starred_url": "https://api.github.com/users/scovich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scovich/subscriptions", "organizations_url": "https://api.github.com/users/scovich/orgs", "repos_url": "https://api.github.com/users/scovich/repos", "events_url": "https://api.github.com/users/scovich/events{/privacy}", "received_events_url": "https://api.github.com/users/scovich/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-06T18:24:01Z", "updated_at": "2024-05-08T16:46:47Z", "closed_at": "2024-05-08T16:46:47Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/196", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/196", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/196.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/196.patch", "merged_at": "2024-05-08T16:46:47Z"}, "body": "Because engine could choose to leverage concurrency, kernel must assume that anything it passes across the FFI boundary (other than _perhaps_ short-lived references such as visitors) needs to be `Send + Sync`. \r\n\r\nAdding the annotations to the code exposed a couple of issues, fixed by https://github.com/delta-incubator/delta-kernel-rs/pull/197 and https://github.com/delta-incubator/delta-kernel-rs/pull/198. With those fixes in place, we can safely complete the transition.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/196/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/195", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/195/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/195/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/195", "id": 2279312565, "node_id": "PR_kwDOJmSzbc5ujo7w", "number": 195, "title": "Allow FFI to compile with neither default nor sync engine", "user": {"login": "scovich", "id": 9323865, "node_id": "MDQ6VXNlcjkzMjM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9323865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scovich", "html_url": "https://github.com/scovich", "followers_url": "https://api.github.com/users/scovich/followers", "following_url": "https://api.github.com/users/scovich/following{/other_user}", "gists_url": "https://api.github.com/users/scovich/gists{/gist_id}", "starred_url": "https://api.github.com/users/scovich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scovich/subscriptions", "organizations_url": "https://api.github.com/users/scovich/orgs", "repos_url": "https://api.github.com/users/scovich/repos", "events_url": "https://api.github.com/users/scovich/events{/privacy}", "received_events_url": "https://api.github.com/users/scovich/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-05T04:07:49Z", "updated_at": "2024-05-06T23:04:59Z", "closed_at": "2024-05-06T23:04:58Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/195", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/195", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/195.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/195.patch", "merged_at": "2024-05-06T23:04:58Z"}, "body": "The main kernel crate can compile without any engine implementations, but the FFI crate was missing some cfg and toml magic.\r\n\r\nWhile we're at it, add a `cbindgen:ignore` directive to kernel's `impl DataType`, in order to suppress cbindgen warnings about the constants defined there.\r\n", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/195/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/194", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/194/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/194/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/194", "id": 2279310519, "node_id": "PR_kwDOJmSzbc5ujojw", "number": 194, "title": "Clean up some more old table client references (replace with engine)", "user": {"login": "scovich", "id": 9323865, "node_id": "MDQ6VXNlcjkzMjM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9323865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scovich", "html_url": "https://github.com/scovich", "followers_url": "https://api.github.com/users/scovich/followers", "following_url": "https://api.github.com/users/scovich/following{/other_user}", "gists_url": "https://api.github.com/users/scovich/gists{/gist_id}", "starred_url": "https://api.github.com/users/scovich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scovich/subscriptions", "organizations_url": "https://api.github.com/users/scovich/orgs", "repos_url": "https://api.github.com/users/scovich/repos", "events_url": "https://api.github.com/users/scovich/events{/privacy}", "received_events_url": "https://api.github.com/users/scovich/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-05-05T03:59:34Z", "updated_at": "2024-05-06T22:26:37Z", "closed_at": "2024-05-06T22:26:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/194", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/194", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/194.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/194.patch", "merged_at": "2024-05-06T22:26:36Z"}, "body": "Renames straggler [table] client references in the code, that escaped https://github.com/delta-incubator/delta-kernel-rs/pull/191.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/194/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/193", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/193/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/193/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/193", "id": 2279309550, "node_id": "PR_kwDOJmSzbc5ujoYp", "number": 193, "title": "Clean up primitive types a bit", "user": {"login": "scovich", "id": 9323865, "node_id": "MDQ6VXNlcjkzMjM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9323865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scovich", "html_url": "https://github.com/scovich", "followers_url": "https://api.github.com/users/scovich/followers", "following_url": "https://api.github.com/users/scovich/following{/other_user}", "gists_url": "https://api.github.com/users/scovich/gists{/gist_id}", "starred_url": "https://api.github.com/users/scovich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scovich/subscriptions", "organizations_url": "https://api.github.com/users/scovich/orgs", "repos_url": "https://api.github.com/users/scovich/repos", "events_url": "https://api.github.com/users/scovich/events{/privacy}", "received_events_url": "https://api.github.com/users/scovich/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-05T03:55:16Z", "updated_at": "2024-05-06T22:04:44Z", "closed_at": "2024-05-06T22:04:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/193", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/193", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/193.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/193.patch", "merged_at": "2024-05-06T22:04:44Z"}, "body": "`TimestampNtz` wasn't fully propagated through the code base, and a `match` clause could simplify to use the primitive type constants. ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/193/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/192", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/192/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/192/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/192", "id": 2278573512, "node_id": "PR_kwDOJmSzbc5uhV39", "number": 192, "title": "some readme updates", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-05-03T23:31:08Z", "updated_at": "2024-05-10T17:43:34Z", "closed_at": "2024-05-10T17:43:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/192", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/192", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/192.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/192.patch", "merged_at": "2024-05-10T17:43:33Z"}, "body": "Generally update the readme to be more up-to-date. \r\n\r\n- Describe crate layout\r\n- remove `just` as it's another tool and wasn't providing much, and is another thing to keep in sync. It was already was out of date and not working\r\n- Link to docs.rs docs\r\n- Add some emacs tips :) \r\n\r\ncloses #176 ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/192/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/191", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/191/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/191/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/191", "id": 2278422307, "node_id": "PR_kwDOJmSzbc5ug0mb", "number": 191, "title": "Rename `EngineInterface` to `Engine`", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-05-03T21:04:49Z", "updated_at": "2024-05-04T14:49:23Z", "closed_at": "2024-05-04T14:48:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/191", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/191", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/191.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/191.patch", "merged_at": "2024-05-04T14:48:44Z"}, "body": "Does _a lot_ of renaming:\r\n- `EngineInterface` to `Engine`.\r\n- All `impls` to drop the `Interface` part of the name, and changes any `engine_interface` variables to be just `engine`.\r\n- change the `client` mod name to `engine`\r\n- feature flags: `default-client` -> `default-engine`, `sync-client` -> `sync-engine`\r\n- There were a few leftover places where we still called this `table_client`, this also renames those to `engine`.\r\n- Also this changes the word \"interface\" to \"trait\" in some comments where we really meant trait and not interface.\r\n\r\nEnsured I got to everything by grepping:\r\n```\r\n$ rg -i EngineInterface\r\n$ rg -i engine_interface\r\n$ rg -i table_client\r\n$ rg -i interface # these are all proper uses of the word interface\r\nLICENSE\r\n45:      separable from, or merely link (or bind by name) to the interfaces of,\r\n\r\nacceptance/README.md\r\n6:allowing us to test the exact same client interfaces that any connector\r\n\r\nffi/src/lib.rs\r\n1:/// FFI interface for the delta kernel\r\n3:/// Exposes that an engine needs to call from C/C++ to interface with kernel\r\n\r\nffi/src/scan.rs\r\n42:/// Interface](https://arrow.apache.org/docs/format/CDataInterface.html). This includes the data and\r\n52:/// Interface](https://arrow.apache.org/docs/format/CDataInterface.html). This includes the data and\r\n```", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/191/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/187", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/187/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/187/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/187", "id": 2274242621, "node_id": "PR_kwDOJmSzbc5uSmWk", "number": 187, "title": "Add remaining data types to schema visiting in ffi", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-05-01T21:41:15Z", "updated_at": "2024-05-10T19:05:59Z", "closed_at": "2024-05-10T19:05:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/187", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/187", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/187.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/187.patch", "merged_at": "2024-05-10T19:05:59Z"}, "body": "Adds more types, and uses a macro to reduce repetition for the primitive ones. Also adds some rust docs to try and explain how the visitors for schema work.\r\n\r\nTested by adding a visitor to the `read_table` program that builds and prints the schema.\r\n\r\nOutput:\r\n```\r\n.$ /read_table file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/nested_types/delta/\r\nReading table at file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/nested_types/delta/\r\nversion: 0\r\n\r\nSchema:\r\n\u251c\u2500 pk: integer\r\n\u251c\u2500 struct: struct\r\n\u2502  \u251c\u2500 float64: double\r\n\u2502  \u2514\u2500 bool: boolean\r\n\u251c\u2500 array: array\r\n\u2502  \u2514\u2500 array_data_type: short\r\n\u2514\u2500 map: map\r\n   \u251c\u2500 map_key_type: string\r\n   \u2514\u2500 map_value_type: integer\r\n\r\nGot some data\r\n  Of this data, here is a selection vector\r\n    sel[0] = 0\r\n    sel[1] = 0\r\n    sel[2] = 0\r\n    sel[3] = 1\r\ncalled back to actually read!\r\n  path: part-00000-3b8ca3f0-6444-4ed5-8961-c605cba95bf1-c000.snappy.parquet\r\n  No selection vector for this call\r\n  no partition here\r\nIterator done\r\nAll done\r\n```", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/187/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/186", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/186/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/186/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/186", "id": 2272731836, "node_id": "PR_kwDOJmSzbc5uNcSj", "number": 186, "title": "Make the README for the example make more sense", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-01T00:57:38Z", "updated_at": "2024-05-02T20:52:26Z", "closed_at": "2024-05-02T20:52:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/186", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/186", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/186.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/186.patch", "merged_at": "2024-05-02T20:52:25Z"}, "body": "Add examples and more details the to `README.md` for `read-table-multi-threaded`.\r\n\r\nRust version got updated, so clippy started warning about two new things that I also fixed:\r\n1. An empty doc comment\r\n2. That the `loop` in this example could  be written as a `while let`. This fix changed a lot of indentation, but no actual logic.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/186/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/183", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/183/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/183/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/183", "id": 2272651125, "node_id": "PR_kwDOJmSzbc5uNLEc", "number": 183, "title": "Refactor `LogPath` to do manual and eager parsing", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-30T23:28:30Z", "updated_at": "2024-05-03T18:54:10Z", "closed_at": "2024-05-03T18:54:09Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/183", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/183", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/183.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/183.patch", "merged_at": "2024-05-03T18:54:09Z"}, "body": "This PR does a few things with `LogPath`:\r\n1. eagerly parses the path to determine version, and if it's a commit or checkpoint file\r\n2. stop using regex to parse and manually parse the path\r\n3. enforce that the version is 20 digits and that multipart checkpoint files have `o` and `p` as 10 digits\r\n\r\nWhenever we use a `LogPath` we almost always call `is_checkpoint_file` and/or `is_commit_file` on it, often both. Previously these would both trigger extraction of the filename + checking against the regex, so doing this eagerly and caching the result makes sense and should be more efficient.\r\n\r\nFor the few cases where we just wanted to know the version of a particular file, there is now a `version_from_location` function which can parse out just the version.\r\n\r\nThis also adds some tests to ensure multipart checkpoint filenames are parsed correctly.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/183/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/182", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/182/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/182/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/182", "id": 2270164624, "node_id": "PR_kwDOJmSzbc5uExfs", "number": 182, "title": "Harmonize BoxHandle and ArcHandle", "user": {"login": "scovich", "id": 9323865, "node_id": "MDQ6VXNlcjkzMjM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9323865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scovich", "html_url": "https://github.com/scovich", "followers_url": "https://api.github.com/users/scovich/followers", "following_url": "https://api.github.com/users/scovich/following{/other_user}", "gists_url": "https://api.github.com/users/scovich/gists{/gist_id}", "starred_url": "https://api.github.com/users/scovich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scovich/subscriptions", "organizations_url": "https://api.github.com/users/scovich/orgs", "repos_url": "https://api.github.com/users/scovich/repos", "events_url": "https://api.github.com/users/scovich/events{/privacy}", "received_events_url": "https://api.github.com/users/scovich/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-29T23:28:43Z", "updated_at": "2024-05-22T18:41:35Z", "closed_at": "2024-05-22T18:41:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/182", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/182", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/182.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/182.patch", "merged_at": "2024-05-22T18:41:34Z"}, "body": "Previously `BoxHandle` was very simplistic (could only handle `Sized` types), while `ArcHandle` was overly abstracted (even a `SizedArcHandle` had type indirection that made it harder to use the resulting handle, in the common case of a rust callee who does not need to clone the handle and only needs a borrowed reference to the underlying). \r\n\r\nWith this PR, we harmonize them into a single `Handle` concept which uses a `HandleDescriptor` trait to express four modes: {sized, unsized} x {box, arc}. The memory layout differs for sized vs. unsized types (the former being more efficient), while box vs. arc is chosen based on whether owned vs. shared reference semantics are desired. \r\n\r\nAll handles provide an `as_ref()` method for obtaining a shared reference; arc handles provide an `as_arc()` method that returns a new Arc for the object (bumping its reference count), while box handles provide an `as_mut()` method that returns a mutable reference. In all cases, a handle remains valid until specifically dropped by the user.\r\n", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/182/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/180", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/180/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/180/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/180", "id": 2262272395, "node_id": "PR_kwDOJmSzbc5tp7wL", "number": 180, "title": "Add support for presigned-url reading to the default client", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-24T22:12:16Z", "updated_at": "2024-04-25T22:37:46Z", "closed_at": "2024-04-25T22:37:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/180", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/180", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/180.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/180.patch", "merged_at": "2024-04-25T22:37:46Z"}, "body": "This is most non-testing code from hackathon. Most code taken from #144. It supports:\r\n1. Reading parquet files from http/https\r\n2. Reading via the `filesystem` interface from http/https\r\n\r\nCurrently working on how best to test this since we can't have stable urls to read from", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/180/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/178", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/178/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/178/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/178", "id": 2254199751, "node_id": "PR_kwDOJmSzbc5tO5iZ", "number": 178, "title": "simplify masking and reordering of record batches", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-19T23:05:44Z", "updated_at": "2024-04-24T16:27:22Z", "closed_at": "2024-04-24T16:27:22Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/178", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/178", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/178.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/178.patch", "merged_at": "2024-04-24T16:27:22Z"}, "body": "Taking some of the suggestions from https://github.com/delta-incubator/delta-kernel-rs/pull/156/files#r1552305814\r\n\r\nThis does simplify the generation of the indices and mask. A couple of things I didn't change:\r\n\r\n1. still pass  `requested_schema` and `parquet_schema` to `generate_mask`: This is used only as an optimization to determine if we need a mask at all. Since it's a simple length compare, that's faster than building the whole mask when it's not needed\r\n2. Don't use the `requested_schema` as the schema of the new record batch. It appears the way spark writes checkpoints isn't consistent with the protocol spec atm. it marks `minReaderVersion` and `minWriterVersion` as `nullable`, and so we hit a schema miss-match error if we try and do any reordering in metadata queries. I've created #179 as a follow-up to correctly handle things here", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/178/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/177", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/177/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/177/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/177", "id": 2251693601, "node_id": "PR_kwDOJmSzbc5tGqyR", "number": 177, "title": "add a bunch of docs + nightly detection", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-04-18T22:33:15Z", "updated_at": "2024-04-22T20:34:13Z", "closed_at": "2024-04-22T20:34:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/177", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/177", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/177.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/177.patch", "merged_at": "2024-04-22T20:34:13Z"}, "body": "This:\r\n* ensures that all modules (at least) have module level docs, and cleans up some other docs.\r\n* makes some things `pub(crate)` and not `pub` if they were only internal, so they don't show up in the docs\r\n* also adds a check if we're running on nightly (which docs.rs _is_), and if so sets [`doc_auto_cfg`](https://doc.rust-lang.org/rustdoc/unstable-features.html#doc_auto_cfg-automatically-generate-doccfg), which will give a nice note for which things require certain features to be enabled. e.g:\r\n![image](https://github.com/delta-incubator/delta-kernel-rs/assets/178912/eafa6e0e-4c21-45d5-bf7d-b637305662d4)\r\nIt's a bit annoying to have to gate on nightly, but I think it's worth it to make the docs more understandable. \r\n* tells docs.rs to build our docs with all features enabled\r\n* puts a link to the docs on docs.rs in `Cargo.toml`, which means that'll be linked next time we publish to crates.io\r\n\r\nIf you'd like to inspect these pretty docs yourself locally you can run:\r\n`cargo +nightly doc --all-features`", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/177/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/175", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/175/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/175/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/175", "id": 2247059119, "node_id": "PR_kwDOJmSzbc5s25ZU", "number": 175, "title": "C ffi example", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-17T00:03:28Z", "updated_at": "2024-09-12T19:42:56Z", "closed_at": "2024-05-01T00:26:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/175", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/175", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/175.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/175.patch", "merged_at": "2024-05-01T00:26:36Z"}, "body": "All the scan splitting code introduced in #169, plus showing how we would use it in the c-ffi.\r\n\r\nHere's the result of running the test program:\r\n```\r\nReading table at /home/nick/databricks/delta-kernel-rs/kernel/tests/data/table-with-dv-small/\r\nversion: 1\r\nGot some data\r\n  Of this data, here is a selection vector\r\n    sel[0] = 0\r\n    sel[1] = 0\r\n    sel[2] = 1\r\ncalled back to actually read!\r\n  path: part-00000-fae5310a-a37d-4e51-827b-c3d5516560ca-c000.snappy.parquet\r\n  Deletion vector selection vector:\r\n    sel[0] = 0\r\n    sel[1] = 1\r\n    sel[2] = 1\r\n    sel[3] = 1\r\n    sel[4] = 1\r\n    sel[5] = 1\r\n    sel[6] = 1\r\n    sel[7] = 1\r\n    sel[8] = 1\r\n    sel[9] = 0\r\nGot some data\r\n  Of this data, here is a selection vector\r\n    sel[0] = 0\r\n    sel[1] = 0\r\n    sel[2] = 0\r\n    sel[3] = 0\r\n```\r\n\r\nHere's a diagram of the dataflow:\r\n![image](https://github.com/delta-incubator/delta-kernel-rs/assets/178912/1a2a77e4-af8a-4ff3-af8d-bcc5e28b9809)", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/172", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/172/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/172/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/172", "id": 2238254850, "node_id": "PR_kwDOJmSzbc5sY5Ts", "number": 172, "title": "Fix c-ffi test printing", "user": {"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2024-04-11T17:56:29Z", "updated_at": "2024-04-19T05:47:13Z", "closed_at": "2024-04-19T05:47:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/172", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/172", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/172.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/172.patch", "merged_at": "2024-04-19T05:47:13Z"}, "body": "small fix since string isn't null terminated", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/172/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/170", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/170/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/170/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/170", "id": 2232465492, "node_id": "PR_kwDOJmSzbc5sFEOH", "number": 170, "title": "add app txn visitors and struct", "user": {"login": "Blajda", "id": 11989161, "node_id": "MDQ6VXNlcjExOTg5MTYx", "avatar_url": "https://avatars.githubusercontent.com/u/11989161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Blajda", "html_url": "https://github.com/Blajda", "followers_url": "https://api.github.com/users/Blajda/followers", "following_url": "https://api.github.com/users/Blajda/following{/other_user}", "gists_url": "https://api.github.com/users/Blajda/gists{/gist_id}", "starred_url": "https://api.github.com/users/Blajda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Blajda/subscriptions", "organizations_url": "https://api.github.com/users/Blajda/orgs", "repos_url": "https://api.github.com/users/Blajda/repos", "events_url": "https://api.github.com/users/Blajda/events{/privacy}", "received_events_url": "https://api.github.com/users/Blajda/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-04-09T02:03:31Z", "updated_at": "2024-04-29T20:30:26Z", "closed_at": "2024-04-29T20:30:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/170", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/170", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/170.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/170.patch", "merged_at": "2024-04-29T20:30:26Z"}, "body": "Implements visitors and structures required for reading application transactions that exist on a snapshot.\r\n\r\nA similar pattern to the `LogReplayScanner` was implemented where users can explicitly scan metadata for the latest transaction for all application or obtain the latest transaction for particular application.\r\n\r\nI decided against adding the `TransactionMap` to `Snapshot` since snapshot only require protocol + metadata to be built and obtaining the latest transaction may require scanning past that point. Also the overall design of `Snapshot` seems to be immutable and it would not make much sense to have methods that mutate it.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/168", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/168/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/168/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/168", "id": 2228825451, "node_id": "PR_kwDOJmSzbc5r4zLy", "number": 168, "title": "really really ready to publish now", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-04-05T21:25:24Z", "updated_at": "2024-04-05T22:00:48Z", "closed_at": "2024-04-05T22:00:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/168", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/168", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/168.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/168.patch", "merged_at": "2024-04-05T22:00:02Z"}, "body": "Needed to add descriptions.\r\n\r\nAlso removed authors, it's not needed, and projects with many authors like this tend to leave it out.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/168/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/166", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/166/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/166/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/166", "id": 2226318228, "node_id": "PR_kwDOJmSzbc5rwIHr", "number": 166, "title": "Ready crates publish", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-04-04T19:10:22Z", "updated_at": "2024-04-05T16:26:49Z", "closed_at": "2024-04-05T16:26:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/166", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/166", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/166.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/166.patch", "merged_at": "2024-04-05T16:26:48Z"}, "body": "This gets repo ready to publish to crates:\r\n\r\nnames: delta_kernel, delta_kernel_derive, delta_kernel_ffi (we may want to rename `acceptance` at some point, but doesn't matter for now)\r\nversion: 0.0.1", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/166/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/156", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/156/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/156/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/156", "id": 2214313212, "node_id": "PR_kwDOJmSzbc5rHM65", "number": 156, "title": "Schema derive macro (reborn)", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-28T23:09:11Z", "updated_at": "2024-04-20T03:07:54Z", "closed_at": "2024-04-03T17:12:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/156", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/156", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/156.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/156.patch", "merged_at": "2024-04-03T17:12:02Z"}, "body": "Reopening #129 .\r\n\r\nDescription from there:\r\n\r\nWork to be able to do:\r\n```rust\r\n#[derive(Schema)]\r\npub struct Protocol {\r\n    pub min_reader_version: i32,\r\n    pub min_writer_version: i32,\r\n    pub reader_features: Option<Vec<String>>,\r\n    pub writer_features: Option<Vec<String>>,\r\n}\r\n```\r\n\r\nThis also then uses the generated schemas from our actions everywhere, and removes the old schema definitions. To use these we define a static `LOG_SCHEMA` which calls all the generated `get_struct_field` methods to build the total log schema. We also add a `project` method to `StructType` so we can then pick out the columns we want when doing something like parsing only metadata.\r\n\r\n## How it works\r\n\r\nWe introduce a trait, `ToDataType` which is:\r\n```rust\r\npub(crate) trait ToDataType {\r\n    fn to_data_type() -> DataType;\r\n}\r\n```\r\n\r\nAll primitive types as well as vectors and maps know how to produce a `DataType`. Then we can derive a struct implementation of it by annotating with this macro, which will generate an impl that looks like:\r\n```rust\r\nimpl crate::actions::schemas::ToDataType for Protocol {\r\n        fn to_data_type() -> crate::schema::DataType {\r\n            use crate::actions::schemas::{ToDataType, GetStructField};\r\n            crate::schema::StructType::new(\r\n                    <[_]>::into_vec(\r\n                        #[rustc_box]\r\n                        ::alloc::boxed::Box::new([\r\n                            i32::get_struct_field(\"minReaderVersion\"),\r\n                            i32::get_struct_field(\"minWriterVersion\"),\r\n                            Option::<Vec<String>>::get_struct_field(\"readerFeatures\"),\r\n                            Option::<Vec<String>>::get_struct_field(\"writerFeatures\"),\r\n                        ]),\r\n                    ),\r\n                )\r\n                .into()\r\n        }\r\n    }\r\n```\r\n\r\nFinally, we add a `GetStructField` trait, which is auto derived for anything that implements `ToDataType`. It simply allows you to pass a name and get a `StructField` back. A schema is just a `Vec` of `StructField`s, so with this implemented, it's trivial to construct the schema for any type annotated with `#[derive(Schema)]`\r\n\r\nRight now all error handling is via `panic`, but that's generally okay as the compiler just fails with the panic message.\r\n\r\nIf you want to inspect the generated code, you can use [cargo expand](https://github.com/dtolnay/cargo-expand). Install it, and then run something like:\r\n` $ cargo expand | grep -A50 \"ToDataType for Protocol\"`\r\nand replace `Protocol`  with whatever struct you want to see the impl for.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/156/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/154", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/154/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/154/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/154/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/154", "id": 2212132565, "node_id": "PR_kwDOJmSzbc5q_wUp", "number": 154, "title": "Read and verify dat data + initial bit of timestamp_ntz", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-28T00:44:13Z", "updated_at": "2024-04-12T19:36:35Z", "closed_at": "2024-04-03T20:47:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/154", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/154", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/154.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/154.patch", "merged_at": "2024-04-03T20:47:24Z"}, "body": "This PR does two things:\r\n\r\n1. Actually read and verify against the dat golden data\r\n2. Add a `TimestampNtz` type so we can at least de-serialize schemas that mention it\r\n\r\nadding `timestamp_ntz` is trivial. it's just a new type and copying what we're already doing for timestamp. Obviously more work to be done on the parquet reader to make this \"correct\".", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/154/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/153", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/153/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/153/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/153/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/153", "id": 2211285638, "node_id": "PR_kwDOJmSzbc5q9CYx", "number": 153, "title": "Arrow engine data cleanup", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-27T16:43:49Z", "updated_at": "2024-03-28T13:52:48Z", "closed_at": "2024-03-27T21:22:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/153", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/153", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/153.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/153.patch", "merged_at": "2024-03-27T21:22:13Z"}, "body": "This PR does a couple of small things:\r\n\r\n- Verifies types on Lists and Maps in the `EngineData` impl for Arrow and returns errors if it's not all Strings\r\n- Supports `LargeList` types (offsets stored as i64. probably not needed, but trivial to add)\r\n- Moves the `GetData` impls for `ArrowEngineData` into the `src/client` dir, since that's not specific to the `sync` client. Previous code would actually have failed to build if you tried to build _only_ the default client without the sync one.\r\n- moves the `try_create_from_json` and `try_create_from_parquet` functions into the sync client files where they are used, since they are specific to that.\r\n\r\n\r\ncloses #121 ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/153/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/151", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/151/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/151/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/151", "id": 2208809924, "node_id": "PR_kwDOJmSzbc5q0lyf", "number": 151, "title": "Add backtrace option to errors", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-03-26T17:00:57Z", "updated_at": "2024-04-03T19:33:50Z", "closed_at": "2024-04-03T19:33:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/151", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/151", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/151.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/151.patch", "merged_at": "2024-04-03T19:33:50Z"}, "body": "When debugging it can be difficult to know where an error occurred if  it is created in numerous places. For example, today if there's an error in expression eval and you run `dump-table`, you might simply see:\r\n\r\n```\r\nError(Arrow(InvalidArgumentError(\"Incorrect number of arrays for StructArray fields, expected 2 got 3\"))\r\n```\r\n\r\nBut where in the numerous places arrow errors occur did this happen? Tracking this down can be tricky.\r\n\r\nIt turns out `thiserror` (the crate we use to create our `Error` class) does have support for backtrace capture (see the fourth code-block [here](https://docs.rs/thiserror/latest/thiserror/)). However, it relies on a nightly only api ([provide](https://doc.rust-lang.org/std/error/trait.Error.html#method.provide) which relies on [error_generic_member_access](https://github.com/rust-lang/rust/issues/99301)), so we can't use it.\r\n\r\nThis PR adds manual backtrace capture to our error type. We do this by:\r\n\r\n1. Adding a method to wrap an existing error in a `Backtraced` variant, which captures the error and a backtrace\r\n2. Manually implementing the `From` trait for errors where we want the backtrace.\r\n3. Right now this is only done for `Arrow` errors, which are all over the place in our client code. But in the future, when debugging an issue, it will be easy to move other error types to do this as needed.\r\n\r\nThis means that for errors we add this manual `From`, a backtrace will be captured at the point they are converted into a `deltakernel::Error`. This is usually via a `?` somewhere in the kernel, so it is useful for debugging.\r\n\r\nWe also ensure that we only do this wrapping if backtracing is enabled (usually via `RUST_BACKTRACE=1`). Otherwise the wrapping method is a no-op, so this should have minimal perf impact.\r\n\r\nFinally, we augment the `dump-table` command to pretty-print any errors it gets, which makes the backtrace more readable.\r\n\r\nNow, we can get a nice error like this:\r\n```\r\n$ RUST_BACKTRACE=1 cargo run -- -- file:///home/nick/databricks/delta-kernel-rs/kernel/tests/data/basic_partitioned/\r\n     Running `/home/nick/databricks/delta-kernel-rs/target/debug/dump-table -- 'file:///home/nick/databricks/delta-kernel-rs/kernel/tests/data/basic_partitioned/'`\r\nReading file:///home/nick/databricks/delta-kernel-rs/kernel/tests/data/basic_partitioned/\r\nBacktraced {\r\n    source: Arrow(\r\n        InvalidArgumentError(\r\n            \"Incorrect number of arrays for StructArray fields, expected 2 got 3\",\r\n        ),\r\n    ),\r\n    backtrace: Backtrace [\r\n        { fn: \"deltakernel::error::Error::with_backtrace\", file: \"/home/nick/databricks/delta-kernel-rs/kernel/src/error.rs\", line: 132 },\r\n        { fn: \"<deltakernel::error::Error as core::convert::From<arrow_schema::error::ArrowError>>::from\", file: \"/home/nick/databricks/delta-kernel-rs/kernel/src/error.rs\", line: 146 },\r\n        { fn: \"<core::result::Result<T,F> as core::ops::try_trait::FromResidual<core::result::Result<core::convert::Infallible,E>>>::from_residual\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/core/src/result.rs\", line: 1963 },\r\n        { fn: \"deltakernel::client::arrow_expression::evaluate_expression\", file: \"/home/nick/databricks/delta-kernel-rs/kernel/src/client/arrow_expression.rs\", line: 170 },\r\n        { fn: \"<deltakernel::client::arrow_expression::DefaultExpressionEvaluator as deltakernel::ExpressionEvaluator>::evaluate\", file: \"/home/nick/databricks/delta-kernel-rs/kernel/src/client/arrow_expression.rs\", line: 271 },\r\n        { fn: \"deltakernel::scan::Scan::execute\", file: \"/home/nick/databricks/delta-kernel-rs/kernel/src/scan/mod.rs\", line: 249 },\r\n        { fn: \"dump_table::try_main\", file: \"./src/main.rs\", line: 72 },\r\n        { fn: \"dump_table::main\", file: \"./src/main.rs\", line: 41 },\r\n        { fn: \"core::ops::function::FnOnce::call_once\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/core/src/ops/function.rs\", line: 250 },\r\n        { fn: \"std::sys_common::backtrace::__rust_begin_short_backtrace\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/std/src/sys_common/backtrace.rs\", line: 154 },\r\n        { fn: \"std::rt::lang_start::{{closure}}\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/std/src/rt.rs\", line: 167 },\r\n        { fn: \"core::ops::function::impls::<impl core::ops::function::FnOnce<A> for &F>::call_once\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/core/src/ops/function.rs\", line: 284 },\r\n        { fn: \"std::panicking::try::do_call\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/std/src/panicking.rs\", line: 552 },\r\n        { fn: \"std::panicking::try\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/std/src/panicking.rs\", line: 516 },\r\n        { fn: \"std::panic::catch_unwind\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/std/src/panic.rs\", line: 142 },\r\n        { fn: \"std::rt::lang_start_internal::{{closure}}\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/std/src/rt.rs\", line: 148 },\r\n        { fn: \"std::panicking::try::do_call\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/std/src/panicking.rs\", line: 552 },\r\n        { fn: \"std::panicking::try\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/std/src/panicking.rs\", line: 516 },\r\n        { fn: \"std::panic::catch_unwind\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/std/src/panic.rs\", line: 142 },\r\n        { fn: \"std::rt::lang_start_internal\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/std/src/rt.rs\", line: 148 },\r\n        { fn: \"std::rt::lang_start\", file: \"/rustc/82e1608dfa6e0b5569232559e3d385fea5a93112/library/std/src/rt.rs\", line: 166 },\r\n        { fn: \"main\" },\r\n        { fn: \"__libc_start_main\" },\r\n        { fn: \"_start\" },\r\n    ],\r\n}\r\n```\r\n\r\nWe should be able to revert back to automatic backtracing via `thiserror` when `error_generic_member_access` stabilizes.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/151/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/151/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/150", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/150/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/150/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/150", "id": 2206354232, "node_id": "PR_kwDOJmSzbc5qsLRO", "number": 150, "title": "Proper reading of parquet columns", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-25T17:55:52Z", "updated_at": "2024-03-26T18:40:53Z", "closed_at": "2024-03-26T18:40:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/150", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/150", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/150.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/150.patch", "merged_at": "2024-03-26T18:40:53Z"}, "body": "This PR adds:\r\n\r\n- push schema down into parquet reader\r\n- use the schema to prune to only selected columns\r\n- reorder columns read from parquet files into the order requested by the schema\r\n- allow specifying columns to select in the `dump-table` command\r\n- some tests for the above\r\n\r\nNote that for now this only supports specifying root level columns. Nested support is future work.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/150/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/146", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/146/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/146/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/146", "id": 2196077057, "node_id": "PR_kwDOJmSzbc5qJiIA", "number": 146, "title": "Fix parition columns + add support for binary and decimal scalars", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-19T21:43:03Z", "updated_at": "2024-03-23T17:12:51Z", "closed_at": "2024-03-23T17:12:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/146", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/146", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/146.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/146.patch", "merged_at": "2024-03-23T17:12:50Z"}, "body": "This PR aims to allow us to read the dat tables `multi_partitioned` and `multi_partitioned_2`. To fix previous issues we:\r\n\r\n1. Support parsing Binary\r\n2. Support parsing Decimals\r\n3. Create a vec of expressions that correctly match the read schema\r\n4. Use `from_url_path` in parquet.rs/json.rs because we pass our locations as urls\r\n\r\nWe can now read those tables:\r\n```bash\r\n$ cargo run -- -i sync file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/multi_partitioned/delta/\r\n     Running `/home/nick/databricks/delta-kernel-rs/target/debug/dump-table -i sync 'file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/multi_partitioned/delta/'`\r\nReading file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/multi_partitioned/delta/\r\n+--------+------------+------------+--------+\r\n| letter | date       | data       | number |\r\n+--------+------------+------------+--------+\r\n| /%20%f | 1970-01-01 | 68656c6c6f | 6      |\r\n| b      | 1970-01-01 | f09f9888   | 7      |\r\n+--------+------------+------------+--------+\r\n$  cargo run -- -i sync file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/multi_partitioned_2/delta/\r\n     Running `/home/nick/databricks/delta-kernel-rs/target/debug/dump-table -i sync 'file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/multi_partitioned_2/delta/'`\r\nReading file:///home/nick/databricks/delta-kernel-rs/acceptance/tests/dat/out/reader_tests/generated/multi_partitioned_2/delta/\r\n+-------+---------------------+------------------------+-----+\r\n| bool  | time                | amount                 | int |\r\n+-------+---------------------+------------------------+-----+\r\n| false | 1970-01-02T08:45:00 | 12.000000000000000000  | 3   |\r\n| true  | 1970-01-01T00:00:00 | 200.000000000000000000 | 1   |\r\n| true  | 1970-01-01T12:30:00 | 200.000000000000000000 | 2   |\r\n+-------+---------------------+------------------------+-----+\r\n```\r\n\r\nHave left some notes inline.\r\n\r\nWe now can read every dat table, so as a follow-up I'll make our tests verify correctness in reading them", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/146/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/146/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/145", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/145/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/145/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/145/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/145", "id": 2189620174, "node_id": "PR_kwDOJmSzbc5pzo2M", "number": 145, "title": "Refactor client organization and naming", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-15T23:49:09Z", "updated_at": "2024-03-22T00:07:07Z", "closed_at": "2024-03-19T20:35:09Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/145", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/145", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/145.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/145.patch", "merged_at": "2024-03-19T20:35:09Z"}, "body": "This is an (almost) purely cosmetic change. No actual logic has been touched (aside from the new argument to `dump-table`). \r\n\r\nRenaming changes:\r\n* `SimpleClient` -> `SyncEngineInterface`\r\n* `SimpleData` -> `ArrowEngineData`\r\n* `DefaultEngineClient` -> `DefaultEngineInterface`\r\n* `DefaultExpressionHandler` -> `ArrowExpressionHandler`\r\n\r\nMove clients into their own `client` submodule. So we now have:\r\n* `client/default`\r\n* `client/sync`\r\n\r\nRefactor changes:\r\n* Move `ArrowEngineData` to the `client` subdir (since it's shared by both clients)\r\n* Move `ArrowExpressionHandler` to `client` subdir (now shared by both clients)\r\n\r\nThis also uses the `ArrowExpressionHandler` in the `SyncEngineInterface`, so that interface is now complete.\r\n\r\nThe `dump-table` example gets an extra arg to be able to choose which interface to use, `default` or `sync`", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/145/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/141", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/141/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/141/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/141/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/141", "id": 2184899126, "node_id": "PR_kwDOJmSzbc5pjdD0", "number": 141, "title": "use spawn_blocking to try and send back read results", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-03-13T21:13:17Z", "updated_at": "2024-03-14T22:47:03Z", "closed_at": "2024-03-14T22:47:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/141", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/141", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/141.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/141.patch", "merged_at": "2024-03-14T22:47:03Z"}, "body": "### problem\r\nOur current default-client implementation has an issue. When reading files we create a channel that can hold `readahead` items. This is the \"bridge\" between sync and async land. The async code puts items onto the channel as soon as they are available, and the sync side can consume them synchronously as needed.\r\n\r\nThe current code simply calls `send` on the channel, from the _async_ context. This _blocks_ the async thread if the channel is full, meaning no other async code can execute (if we're using a single threaded executor, which we do by default).\r\n\r\nThis means we can get an inversion. The sync code may be waiting for a recently submitted read (like asking to read a parquet file from an `Add` action for a scan), but the async code is blocked until the sync code pulls an older read off a channel (like the json results for full log replay that were submitted at the start of the same scan).\r\n\r\nThis leads to deadlock.\r\n\r\n### solution\r\n\r\nWe move the `send` into a `spawn_blocking` call, which causes tokio to put it on a special thread where it's acceptable to block.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/141/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/139", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/139/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/139/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/139", "id": 2175066130, "node_id": "PR_kwDOJmSzbc5pB9A7", "number": 139, "title": "clean up dv parsing code", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-08T00:34:41Z", "updated_at": "2024-03-11T20:23:48Z", "closed_at": "2024-03-11T20:23:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/139", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/139", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/139.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/139.patch", "merged_at": "2024-03-11T20:23:48Z"}, "body": "This PR does a few things:\r\n\r\n- ensure dv file version is 1\r\n- properly get out the size from the file and ensure it matches what the add file says (this is also what spark does [here](https://github.com/delta-io/delta/blob/master/spark/src/main/scala/org/apache/spark/sql/delta/storage/dv/DeletionVectorStore.scala#L125))\r\n- Don't copy the data into a new buffer before parsing the RoaringTreemap\r\n\r\nResolves #125 ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/139/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/138", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/138/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/138/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/138/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/138", "id": 2174849195, "node_id": "PR_kwDOJmSzbc5pBOXb", "number": 138, "title": "fix dump-table example", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-07T21:41:12Z", "updated_at": "2024-03-11T21:02:56Z", "closed_at": "2024-03-11T21:02:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/138", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/138", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/138.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/138.patch", "merged_at": "2024-03-11T21:02:56Z"}, "body": "Bring the `dump-table` example up to date with the new data passing api.\r\n\r\nAlso adds `env_logger` so we can read a table with logs enabled.\r\n\r\nAlso adds the `log` feature to the main `tracing` dependency, otherwise \"normal\" logging like we want to use doesn't work.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/138/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/133", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/133/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/133/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/133/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/133", "id": 2172134212, "node_id": "PR_kwDOJmSzbc5o35dd", "number": 133, "title": "Add NOTICE file and cargo-about toml/hbs", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-06T18:09:57Z", "updated_at": "2024-03-07T19:21:10Z", "closed_at": "2024-03-07T19:21:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/133", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/133", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/133.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/133.patch", "merged_at": "2024-03-07T19:21:10Z"}, "body": "We need a notice file to open source\r\n\r\nThis was partially generated by cargo-about, and then manually fixed up to be complete and correct (to the best of my ability)", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/133/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/132", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/132/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/132/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/132", "id": 2169839747, "node_id": "PR_kwDOJmSzbc5owCNE", "number": 132, "title": "remove arrow dependency from data skipping", "user": {"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2024-03-05T18:02:57Z", "updated_at": "2024-03-14T22:17:21Z", "closed_at": "2024-03-14T22:17:21Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/132", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/132", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/132.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/132.patch", "merged_at": "2024-03-14T22:17:21Z"}, "body": "removed arrow dep from data skipping code. we were previously using `filter_record_batch`. Now instead of eagerly performing a filter, the new data skipping code:\r\n1. materializes a selection vector for skipping files (actions) based on the predicate\r\n2. visits the selection vector to return a boolean vec that the kernel can understand\r\n3. `AddRemoveVisitor` consumes this selection vector to apply the filtering as the actions are iterated.\r\n\r\nresolves #126\r\n\r\nADDITIONALLY: fixed bug in checkpoint reads. we now read appropriate add/removes for commits and only adds for checkpoints. and bugfix for simpleclient data extraction.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/132/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/131", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/131/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/131/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/131", "id": 2169498573, "node_id": "PR_kwDOJmSzbc5ou3ZH", "number": 131, "title": "Fixed file path resolution so tests pass on Windows", "user": {"login": "hntd187", "id": 6778339, "node_id": "MDQ6VXNlcjY3NzgzMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6778339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hntd187", "html_url": "https://github.com/hntd187", "followers_url": "https://api.github.com/users/hntd187/followers", "following_url": "https://api.github.com/users/hntd187/following{/other_user}", "gists_url": "https://api.github.com/users/hntd187/gists{/gist_id}", "starred_url": "https://api.github.com/users/hntd187/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hntd187/subscriptions", "organizations_url": "https://api.github.com/users/hntd187/orgs", "repos_url": "https://api.github.com/users/hntd187/repos", "events_url": "https://api.github.com/users/hntd187/events{/privacy}", "received_events_url": "https://api.github.com/users/hntd187/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-03-05T15:16:50Z", "updated_at": "2024-03-15T15:52:27Z", "closed_at": "2024-03-15T15:52:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/131", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/131", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/131.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/131.patch", "merged_at": "2024-03-15T15:52:26Z"}, "body": "Tests don't pass on windows, so fixing the file paths to be more consistent. ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/131/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/112", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/112/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/112/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/112", "id": 2105840379, "node_id": "PR_kwDOJmSzbc5lWCtO", "number": 112, "title": "Add and use convenience constructors for enums with string args", "user": {"login": "ryan-johnson-databricks", "id": 79601771, "node_id": "MDQ6VXNlcjc5NjAxNzcx", "avatar_url": "https://avatars.githubusercontent.com/u/79601771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryan-johnson-databricks", "html_url": "https://github.com/ryan-johnson-databricks", "followers_url": "https://api.github.com/users/ryan-johnson-databricks/followers", "following_url": "https://api.github.com/users/ryan-johnson-databricks/following{/other_user}", "gists_url": "https://api.github.com/users/ryan-johnson-databricks/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryan-johnson-databricks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryan-johnson-databricks/subscriptions", "organizations_url": "https://api.github.com/users/ryan-johnson-databricks/orgs", "repos_url": "https://api.github.com/users/ryan-johnson-databricks/repos", "events_url": "https://api.github.com/users/ryan-johnson-databricks/events{/privacy}", "received_events_url": "https://api.github.com/users/ryan-johnson-databricks/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-29T16:07:40Z", "updated_at": "2024-01-29T23:05:31Z", "closed_at": "2024-01-29T23:05:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/112", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/112", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/112.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/112.patch", "merged_at": "2024-01-29T23:05:31Z"}, "body": "Simplify usage of various kernel enums such as `Expression::Column` and `Error::DeletionVector`, by defining helper constructor methods that take `impl ToString`. This allows changing e.g. \r\n```rust\r\nExpression::Column(\"a\".to_string())\r\nErr(Error::DeletionVector(\"badness\".to_string()))\r\n```\r\ninto \r\n```rust\r\nExpression::column(\"a\")\r\nErr(Error::deletion_vector(\"badness\"))\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/112/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/110", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/110/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/110/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/110", "id": 2103854553, "node_id": "PR_kwDOJmSzbc5lPZTs", "number": 110, "title": "Simplify kernel AND/OR logic", "user": {"login": "ryan-johnson-databricks", "id": 79601771, "node_id": "MDQ6VXNlcjc5NjAxNzcx", "avatar_url": "https://avatars.githubusercontent.com/u/79601771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryan-johnson-databricks", "html_url": "https://github.com/ryan-johnson-databricks", "followers_url": "https://api.github.com/users/ryan-johnson-databricks/followers", "following_url": "https://api.github.com/users/ryan-johnson-databricks/following{/other_user}", "gists_url": "https://api.github.com/users/ryan-johnson-databricks/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryan-johnson-databricks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryan-johnson-databricks/subscriptions", "organizations_url": "https://api.github.com/users/ryan-johnson-databricks/orgs", "repos_url": "https://api.github.com/users/ryan-johnson-databricks/repos", "events_url": "https://api.github.com/users/ryan-johnson-databricks/events{/privacy}", "received_events_url": "https://api.github.com/users/ryan-johnson-databricks/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-27T23:04:27Z", "updated_at": "2024-01-29T23:05:12Z", "closed_at": "2024-01-29T23:05:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/110", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/110", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/110.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/110.patch", "merged_at": "2024-01-29T23:05:12Z"}, "body": "The variadic AND/OR code was more complex than it needed to be. We can simplify by allowing them to be empty, with well-defined default values (`AND() == TRUE` and `OR() == FALSE`), and also by defining static `xx_from` methods for building up lists.\r\n\r\nWhile we're at it, replace most uses of `Expr::binary` and `Expr::variadic` with direct convenience methods.\r\n\r\nNOTE: In the spirit of \"don't optimize\" this PR intentionally does _not_ optimize the various degenerate cases that can arise. These include, but are not limited to (OR cases are similar):\r\n* AND() --> TRUE\r\n* AND(x) --> x\r\n* AND(x..., FALSE, y...) --> FALSE\r\n* AND(x..., TRUE, y...) --> AND(x.., y...)\r\n* AND(x..., NULL, y...) --> AND(x..., y...)\r\n* AND(x..., AND(y...), z...) --> AND(x..., y..., z...)\r\n\r\nThere are probably others as well. Rather than (try to) implement all of those optimizations, or guess which subset of optimizations is \"most valuable\", we choose to not implement any of them for now.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/110/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/109", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/109/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/109/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/109", "id": 2103131020, "node_id": "PR_kwDOJmSzbc5lNS2I", "number": 109, "title": "Switch to new data passing API", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-01-27T01:53:37Z", "updated_at": "2024-03-07T04:12:14Z", "closed_at": "2024-03-04T23:55:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/109", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/109", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/109.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/109.patch", "merged_at": "2024-03-04T23:55:52Z"}, "body": "WIP of the \"big bang\" switch to the new data passing API. Note this is still based on when I named things \"EngineClient\" and not \"EngineInterface\" so that term is used throughout. I will rebase to `main` and rename everything once we're agreed on the major pieces. \r\n\r\nThis implements:\r\n- The traits for the API as discussed\r\n  - including list/map\r\n- Switching the defs in `lib` to use it\r\n- Parsing of Metadata, Protocol, and Add\r\n- A `SimpleClient` which is a simple `EngineClient` that uses arrow but isn't async\r\n- Has the default client return EngineData\r\n- working `scan`\r\n  -  data-skipping still uses arrow for now, we will fully remove it as a followup. See #126 \r\n- Remove any mention of arrow in lib.rs\r\n\r\n\r\nPotential things still to do:\r\n- Probably move `SimpleData` to `ArrowData` and not in the `simple_client` mod since it can be used by both Default and Simple client\r\n", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/109/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/109/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/107", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/107/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/107/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/107", "id": 2097260914, "node_id": "PR_kwDOJmSzbc5k5jo-", "number": 107, "title": "rename table client -> engine interface", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-01-24T01:32:02Z", "updated_at": "2024-01-31T18:00:04Z", "closed_at": "2024-01-31T18:00:01Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/107", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/107", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/107.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/107.patch", "merged_at": "2024-01-31T18:00:01Z"}, "body": "Simple rename of `TableClient` to `EngineInterface` and `table_client` to `engine_interface`.\r\n\r\nI was going to do this as part of the big PR for data passing, but I think actually doing this first will make the review less painful, so I've pulled it out.\r\n\r\nDoesn't touch DefaultTableClient yet, that can be renamed separately.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/107/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/107/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/98", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/98/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/98/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/98", "id": 2047027709, "node_id": "PR_kwDOJmSzbc5iSITd", "number": 98, "title": "Remove file contextualization concept from kernel code", "user": {"login": "ryan-johnson-databricks", "id": 79601771, "node_id": "MDQ6VXNlcjc5NjAxNzcx", "avatar_url": "https://avatars.githubusercontent.com/u/79601771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryan-johnson-databricks", "html_url": "https://github.com/ryan-johnson-databricks", "followers_url": "https://api.github.com/users/ryan-johnson-databricks/followers", "following_url": "https://api.github.com/users/ryan-johnson-databricks/following{/other_user}", "gists_url": "https://api.github.com/users/ryan-johnson-databricks/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryan-johnson-databricks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryan-johnson-databricks/subscriptions", "organizations_url": "https://api.github.com/users/ryan-johnson-databricks/orgs", "repos_url": "https://api.github.com/users/ryan-johnson-databricks/repos", "events_url": "https://api.github.com/users/ryan-johnson-databricks/events{/privacy}", "received_events_url": "https://api.github.com/users/ryan-johnson-databricks/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-12-18T16:30:44Z", "updated_at": "2023-12-21T09:19:17Z", "closed_at": "2023-12-21T09:19:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/98", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/98", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/98.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/98.patch", "merged_at": "2023-12-21T09:19:17Z"}, "body": "Originally, we thought it would be a useful engine hook point for kernel to expose a notion of \"file contextualization\" -- a place where file splitting and distributed scheduling could potentially be applied. However, exploration on the kernel-jvm side showed that neither is true. The _engine_ may need to contextualize files internally, but _kernel_ doesn't need to know or care either way. Instead, the engine can directly consume the `FileMeta` and file splitting etc can be hidden behind the resulting iterator of data batches.\r\n\r\nAlso based on kernel-jvm explorations, we will eventually need to update the read API so that engine receives (and forwards back to kernel) some kernel-specific per-file state that is opaque to the engine. That way, kernel can easily identify the file each batch came from, in order to e.g. apply deletion vectors. But we'll leave that as future work: https://github.com/delta-incubator/delta-kernel-rs/issues/97", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/98/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/98/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/91", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/91/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/91/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/91", "id": 2040158311, "node_id": "PR_kwDOJmSzbc5h68Zb", "number": 91, "title": "start implementing FFI", "user": {"login": "ryan-johnson-databricks", "id": 79601771, "node_id": "MDQ6VXNlcjc5NjAxNzcx", "avatar_url": "https://avatars.githubusercontent.com/u/79601771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryan-johnson-databricks", "html_url": "https://github.com/ryan-johnson-databricks", "followers_url": "https://api.github.com/users/ryan-johnson-databricks/followers", "following_url": "https://api.github.com/users/ryan-johnson-databricks/following{/other_user}", "gists_url": "https://api.github.com/users/ryan-johnson-databricks/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryan-johnson-databricks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryan-johnson-databricks/subscriptions", "organizations_url": "https://api.github.com/users/ryan-johnson-databricks/orgs", "repos_url": "https://api.github.com/users/ryan-johnson-databricks/repos", "events_url": "https://api.github.com/users/ryan-johnson-databricks/events{/privacy}", "received_events_url": "https://api.github.com/users/ryan-johnson-databricks/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "zachschuermann", "id": 19472747, "node_id": "MDQ6VXNlcjE5NDcyNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19472747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachschuermann", "html_url": "https://github.com/zachschuermann", "followers_url": "https://api.github.com/users/zachschuermann/followers", "following_url": "https://api.github.com/users/zachschuermann/following{/other_user}", "gists_url": "https://api.github.com/users/zachschuermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachschuermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachschuermann/subscriptions", "organizations_url": "https://api.github.com/users/zachschuermann/orgs", "repos_url": "https://api.github.com/users/zachschuermann/repos", "events_url": "https://api.github.com/users/zachschuermann/events{/privacy}", "received_events_url": "https://api.github.com/users/zachschuermann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-12-13T17:19:06Z", "updated_at": "2024-04-04T18:51:01Z", "closed_at": "2024-04-04T18:51:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/91", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/91", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/91.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/91.patch", "merged_at": "2024-04-04T18:51:01Z"}, "body": "Ability for engine to get a snapshot, traverse the schema, provide skipping predicates, and obtain the file list for scan. \r\n\r\nConsumed by a duckdb extension (TODO: figure out how publish the extension so others can actually try this out!)\r\n\r\nNot at all complete, but posting for ideas on how to improve it.\r\n\r\nThis took a lot of work vs. the previous hackathon because the ffi is now in a separate crate. In particular:\r\n1. How to make self-standing tests for the new FFI API calls? \r\n   * Right now I manually test using the duckdb extension against a table I created locally using python+pandas+delta; I guess we should somehow be using DAT tables instead?\r\n   * Expression and schema visitor stuff requires a lot of engine-side definitions. Which for any real engine is easy -- the engine already had to define those internally. But for a test... we'll end up defining stuff just for the test, I guess? A bit clunky.\r\n2. The header export via build.rs doesn't actually work, because cbindgen is unable to emit definitions for types from any crate other than the one being exported. \r\n   * Every kernel class the FFI would expose needs manual forward declarations via cbindgen configs, which could easily go out of sync as kernel continues to evolve.\r\n   * build.rs invocation suppresses all output from cbindgen so there's no indication that any of this is even a problem\r\n   * Running manually from CLI shows warnings, but then the build.rs config that provides the needed forward declarations is inaccessible\r\n", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/91/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/91/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/90", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/90/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/90/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/90", "id": 2038991933, "node_id": "PR_kwDOJmSzbc5h283O", "number": 90, "title": "feat: improved log replay and eager P&M query ", "user": {"login": "roeap", "id": 42610831, "node_id": "MDQ6VXNlcjQyNjEwODMx", "avatar_url": "https://avatars.githubusercontent.com/u/42610831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roeap", "html_url": "https://github.com/roeap", "followers_url": "https://api.github.com/users/roeap/followers", "following_url": "https://api.github.com/users/roeap/following{/other_user}", "gists_url": "https://api.github.com/users/roeap/gists{/gist_id}", "starred_url": "https://api.github.com/users/roeap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roeap/subscriptions", "organizations_url": "https://api.github.com/users/roeap/orgs", "repos_url": "https://api.github.com/users/roeap/repos", "events_url": "https://api.github.com/users/roeap/events{/privacy}", "received_events_url": "https://api.github.com/users/roeap/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-13T05:37:42Z", "updated_at": "2023-12-15T06:00:51Z", "closed_at": "2023-12-14T23:16:47Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/90", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/90", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/90.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/90.patch", "merged_at": "2023-12-14T23:16:47Z"}, "body": "supercedes #80 \r\n\r\nThis PR just carves out the eager P&M + log replay stuff form the stack of PRs currently open, that mostly deal with expression related issues. See #80 for some discussions.\r\n\r\ncc @ryan-johnson-databricks ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/90/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/90/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/89", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/89/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/89/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/89", "id": 2038917326, "node_id": "PR_kwDOJmSzbc5h2siw", "number": 89, "title": "Kernel structs should not hold TableClient references", "user": {"login": "ryan-johnson-databricks", "id": 79601771, "node_id": "MDQ6VXNlcjc5NjAxNzcx", "avatar_url": "https://avatars.githubusercontent.com/u/79601771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryan-johnson-databricks", "html_url": "https://github.com/ryan-johnson-databricks", "followers_url": "https://api.github.com/users/ryan-johnson-databricks/followers", "following_url": "https://api.github.com/users/ryan-johnson-databricks/following{/other_user}", "gists_url": "https://api.github.com/users/ryan-johnson-databricks/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryan-johnson-databricks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryan-johnson-databricks/subscriptions", "organizations_url": "https://api.github.com/users/ryan-johnson-databricks/orgs", "repos_url": "https://api.github.com/users/ryan-johnson-databricks/repos", "events_url": "https://api.github.com/users/ryan-johnson-databricks/events{/privacy}", "received_events_url": "https://api.github.com/users/ryan-johnson-databricks/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-13T04:13:37Z", "updated_at": "2023-12-13T23:41:15Z", "closed_at": "2023-12-13T23:41:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/89", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/89", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/89.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/89.patch", "merged_at": "2023-12-13T23:41:15Z"}, "body": "Currently, kernel structs such as `Snapshot` and `Scan[Builder]` hold references to `TableClient`. This complicates type signatures, as well as memory management, and should be avoided. \r\n\r\nRefactor the classes so that table client is instead passed as an argument to the methods that actually need it.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/89/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/89/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/83", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/83/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/83/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/83", "id": 2034073172, "node_id": "PR_kwDOJmSzbc5hmTH5", "number": 83, "title": "Leverage more engine capabilities in data skipping 2/n", "user": {"login": "roeap", "id": 42610831, "node_id": "MDQ6VXNlcjQyNjEwODMx", "avatar_url": "https://avatars.githubusercontent.com/u/42610831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roeap", "html_url": "https://github.com/roeap", "followers_url": "https://api.github.com/users/roeap/followers", "following_url": "https://api.github.com/users/roeap/following{/other_user}", "gists_url": "https://api.github.com/users/roeap/gists{/gist_id}", "starred_url": "https://api.github.com/users/roeap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roeap/subscriptions", "organizations_url": "https://api.github.com/users/roeap/orgs", "repos_url": "https://api.github.com/users/roeap/repos", "events_url": "https://api.github.com/users/roeap/events{/privacy}", "received_events_url": "https://api.github.com/users/roeap/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-12-09T21:34:32Z", "updated_at": "2024-02-15T18:59:17Z", "closed_at": "2024-02-15T18:59:11Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/83", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/83", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/83.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/83.patch", "merged_at": "2024-02-15T18:59:11Z"}, "body": "based on #81\r\n\r\nThis PR updated the data skipping logic to better leverage the engines capabilities and reduce our arrow-exposure in core kernel. This best reviewed commit by commit as it permeates quite far. If more helpful, I can also split up this PR via these commits.\r\n\r\n1. [handle partition values](https://github.com/delta-incubator/delta-kernel-rs/pull/83/commits/225a9fa82852755fd0055384436be8e6231e8923)\r\n  - Introduce new `Struct` expression as suggested by @ryan-johnson-databricks \r\n  - Add parsing for serialized partition values\r\n\r\n2. [use json handler for stats parsing](https://github.com/delta-incubator/delta-kernel-rs/pull/83/commits/1ee82cfebb02427f4ca1801dd77719f17bd3de81)\r\n  - rewrite json parsing to replace `hack_parse` function.\r\n\r\n3. evaluate full skipping predicate via evaluator & feedback ... rest\r\n  - Add new `DISTINCT` binary expression\r\n  - Evaluate skipping predicate via expression evaluator\r\n\r\ncloses: #69\r\ncloses: #68", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/83/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/83/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/81", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/81/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/81/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/81", "id": 2033872879, "node_id": "PR_kwDOJmSzbc5hlpPT", "number": 81, "title": "feat: integrate file skipping with expression evaluator 1/n", "user": {"login": "roeap", "id": 42610831, "node_id": "MDQ6VXNlcjQyNjEwODMx", "avatar_url": "https://avatars.githubusercontent.com/u/42610831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roeap", "html_url": "https://github.com/roeap", "followers_url": "https://api.github.com/users/roeap/followers", "following_url": "https://api.github.com/users/roeap/following{/other_user}", "gists_url": "https://api.github.com/users/roeap/gists{/gist_id}", "starred_url": "https://api.github.com/users/roeap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roeap/subscriptions", "organizations_url": "https://api.github.com/users/roeap/orgs", "repos_url": "https://api.github.com/users/roeap/repos", "events_url": "https://api.github.com/users/roeap/events{/privacy}", "received_events_url": "https://api.github.com/users/roeap/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-09T14:31:06Z", "updated_at": "2024-01-29T12:37:16Z", "closed_at": "2024-01-28T06:51:30Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/81", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/81", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/81.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/81.patch", "merged_at": "2024-01-28T06:51:30Z"}, "body": "~~based on #80~~\r\n\r\nIn this PR, we aim to integrate the file skipping logic recently added by @ryan-johnson-databricks with the expression evaluator added in #44. As discussed in the recent sync, we do two main things to achieve this:\r\n\r\n1. separate the current file skipping into expression re-write and \r\n2. invoke the engine's expression evaluator to evaluate the re-written expression ", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/81/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/81/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/78", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/78/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/78/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/78", "id": 2029386977, "node_id": "PR_kwDOJmSzbc5hWXmb", "number": 78, "title": "refactor: express actions schemas in kernel types", "user": {"login": "roeap", "id": 42610831, "node_id": "MDQ6VXNlcjQyNjEwODMx", "avatar_url": "https://avatars.githubusercontent.com/u/42610831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roeap", "html_url": "https://github.com/roeap", "followers_url": "https://api.github.com/users/roeap/followers", "following_url": "https://api.github.com/users/roeap/following{/other_user}", "gists_url": "https://api.github.com/users/roeap/gists{/gist_id}", "starred_url": "https://api.github.com/users/roeap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roeap/subscriptions", "organizations_url": "https://api.github.com/users/roeap/orgs", "repos_url": "https://api.github.com/users/roeap/repos", "events_url": "https://api.github.com/users/roeap/events{/privacy}", "received_events_url": "https://api.github.com/users/roeap/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-12-06T21:08:24Z", "updated_at": "2023-12-14T22:31:27Z", "closed_at": "2023-12-14T22:31:23Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/78", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/78", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/78.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/78.patch", "merged_at": "2023-12-14T22:31:23Z"}, "body": "In an effort to push all arrow dependencies to the default client, this PR does some refactoring to express the action schema definitions in terms of kernel types rather then arrow types.\r\n\r\nAlso updated it such that we have to allocate the schemas a bit less via lazy static.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/78/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/78/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/77", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/77/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/77/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/77", "id": 2029223679, "node_id": "PR_kwDOJmSzbc5hVz0P", "number": 77, "title": "Protect Snapshot with Arc so Scan[Builder] can safely reference it", "user": {"login": "ryan-johnson-databricks", "id": 79601771, "node_id": "MDQ6VXNlcjc5NjAxNzcx", "avatar_url": "https://avatars.githubusercontent.com/u/79601771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryan-johnson-databricks", "html_url": "https://github.com/ryan-johnson-databricks", "followers_url": "https://api.github.com/users/ryan-johnson-databricks/followers", "following_url": "https://api.github.com/users/ryan-johnson-databricks/following{/other_user}", "gists_url": "https://api.github.com/users/ryan-johnson-databricks/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryan-johnson-databricks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryan-johnson-databricks/subscriptions", "organizations_url": "https://api.github.com/users/ryan-johnson-databricks/orgs", "repos_url": "https://api.github.com/users/ryan-johnson-databricks/repos", "events_url": "https://api.github.com/users/ryan-johnson-databricks/events{/privacy}", "received_events_url": "https://api.github.com/users/ryan-johnson-databricks/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-06T19:14:39Z", "updated_at": "2023-12-06T20:24:50Z", "closed_at": "2023-12-06T20:24:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/77", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/77", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/77.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/77.patch", "merged_at": "2023-12-06T20:24:50Z"}, "body": "Today, creating a scan consumes the snapshot that produced it. That means scanning the \"same\" snapshot N times requires recreating the snapshot N times, which includes paying the protocol+metadata query each time. This happens because `Scan` (and the `ScanBuilder` that produced it) needs most of the snapshot's internal state, and we don't want to copy it.\r\n\r\nTo fix this, we now protect all `Snapshot` instances with `Arc` so that the Scan[Builder] can simply reference the Snapshot that produced it.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/77/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/77/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/73", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/73/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/73/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/73", "id": 2026891688, "node_id": "PR_kwDOJmSzbc5hNz2l", "number": 73, "title": "Partially implement data skipping", "user": {"login": "ryan-johnson-databricks", "id": 79601771, "node_id": "MDQ6VXNlcjc5NjAxNzcx", "avatar_url": "https://avatars.githubusercontent.com/u/79601771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryan-johnson-databricks", "html_url": "https://github.com/ryan-johnson-databricks", "followers_url": "https://api.github.com/users/ryan-johnson-databricks/followers", "following_url": "https://api.github.com/users/ryan-johnson-databricks/following{/other_user}", "gists_url": "https://api.github.com/users/ryan-johnson-databricks/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryan-johnson-databricks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryan-johnson-databricks/subscriptions", "organizations_url": "https://api.github.com/users/ryan-johnson-databricks/orgs", "repos_url": "https://api.github.com/users/ryan-johnson-databricks/repos", "events_url": "https://api.github.com/users/ryan-johnson-databricks/events{/privacy}", "received_events_url": "https://api.github.com/users/ryan-johnson-databricks/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-05T18:43:45Z", "updated_at": "2023-12-08T20:58:21Z", "closed_at": "2023-12-08T19:07:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/73", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/73", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/73.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/73.patch", "merged_at": "2023-12-08T19:07:03Z"}, "body": "Starting to implement data skipping for real. So far, data skipping was a stub, hard-wired to assume the table had a single integer column called `id`.\r\n\r\nChanges include:\r\n* Move the data skipping code out of `Expression` to a new trait `ProvidesMetadataFilters` in data_skipping.rs (seems like a better home for that logic)\r\n* Refactor `extract_metadata_filters` function to be more general and compact\r\n* Since arrow doesn't really have a concept of expressions -- only `RecordBatch` functions that apply various logical operations -- we introduce a `MetadataFilterFn` trait whose `invoke` method takes a `RecordBatch` as input and produces a `BooleanArray` as output. \r\n* Define various concrete implementations of `MetadataFilterFn` that can be used to build up an expression tree, which can eventually be applied to any number of `RecordBatch`.\r\n* Plumb through the table's schema so that data skipping logic can extract and validate columns\r\n* Add `Long` primitive type since it was missing (and unit tests used it)\r\n* Fix the existing data skipping unit test, which wrongly referenced `ids` column (the table actually has `id` column).\r\n* Expand the testing to cover comparisons more fully\r\n\r\nTBD: Whether to fully implement the rest of data skipping in this PR (should be just boilerplate now, with the pathfinding complete).", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/73/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/73/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/72", "repository_url": "https://api.github.com/repos/delta-io/delta-kernel-rs", "labels_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/72/comments", "events_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/72/events", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/72", "id": 2019862707, "node_id": "PR_kwDOJmSzbc5g2EiN", "number": 72, "title": "Small PR to introduce ffi", "user": {"login": "nicklan", "id": 178912, "node_id": "MDQ6VXNlcjE3ODkxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/178912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklan", "html_url": "https://github.com/nicklan", "followers_url": "https://api.github.com/users/nicklan/followers", "following_url": "https://api.github.com/users/nicklan/following{/other_user}", "gists_url": "https://api.github.com/users/nicklan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklan/subscriptions", "organizations_url": "https://api.github.com/users/nicklan/orgs", "repos_url": "https://api.github.com/users/nicklan/repos", "events_url": "https://api.github.com/users/nicklan/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-01T01:31:04Z", "updated_at": "2023-12-06T20:24:32Z", "closed_at": "2023-12-06T20:24:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/pulls/72", "html_url": "https://github.com/delta-io/delta-kernel-rs/pull/72", "diff_url": "https://github.com/delta-io/delta-kernel-rs/pull/72.diff", "patch_url": "https://github.com/delta-io/delta-kernel-rs/pull/72.patch", "merged_at": "2023-12-06T20:24:30Z"}, "body": " Small PR to introduce ffi scaffolding:\r\n- just creates the simple iterator type, so no deps on other kernel code\r\n- uses a build.rs to generate both a c and cxx header in kernel/target/\r\n\r\nIf you run `cargo build` you'll end up with a .hpp and a .h file in `delta-kernel-rs/kernel/target`.\r\n\r\nWe may want to move the location of that header, that can be done easily in the future.", "reactions": {"url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/72/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/delta-io/delta-kernel-rs/issues/72/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]