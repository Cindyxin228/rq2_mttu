[{"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/40", "repository_url": "https://api.github.com/repos/fastly/dnstap-utils", "labels_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/40/comments", "events_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/40/events", "html_url": "https://github.com/fastly/dnstap-utils/pull/40", "id": 1440720372, "node_id": "PR_kwDOF9cY8M5Cc5zl", "number": 40, "title": "Release version 0.4.0", "user": {"login": "edmondsfastly", "id": 73626355, "node_id": "MDQ6VXNlcjczNjI2MzU1", "avatar_url": "https://avatars.githubusercontent.com/u/73626355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmondsfastly", "html_url": "https://github.com/edmondsfastly", "followers_url": "https://api.github.com/users/edmondsfastly/followers", "following_url": "https://api.github.com/users/edmondsfastly/following{/other_user}", "gists_url": "https://api.github.com/users/edmondsfastly/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmondsfastly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmondsfastly/subscriptions", "organizations_url": "https://api.github.com/users/edmondsfastly/orgs", "repos_url": "https://api.github.com/users/edmondsfastly/repos", "events_url": "https://api.github.com/users/edmondsfastly/events{/privacy}", "received_events_url": "https://api.github.com/users/edmondsfastly/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-08T18:43:35Z", "updated_at": "2022-11-08T18:55:07Z", "closed_at": "2022-11-08T18:55:03Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fastly/dnstap-utils/pulls/40", "html_url": "https://github.com/fastly/dnstap-utils/pull/40", "diff_url": "https://github.com/fastly/dnstap-utils/pull/40.diff", "patch_url": "https://github.com/fastly/dnstap-utils/pull/40.patch", "merged_at": "2022-11-08T18:55:03Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/40/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/40/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/39", "repository_url": "https://api.github.com/repos/fastly/dnstap-utils", "labels_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/39/comments", "events_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/39/events", "html_url": "https://github.com/fastly/dnstap-utils/pull/39", "id": 1439189239, "node_id": "PR_kwDOF9cY8M5CXrsw", "number": 39, "title": "replay: Add feature to ignore messages by `query_address`", "user": {"login": "edmondsfastly", "id": 73626355, "node_id": "MDQ6VXNlcjczNjI2MzU1", "avatar_url": "https://avatars.githubusercontent.com/u/73626355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmondsfastly", "html_url": "https://github.com/edmondsfastly", "followers_url": "https://api.github.com/users/edmondsfastly/followers", "following_url": "https://api.github.com/users/edmondsfastly/following{/other_user}", "gists_url": "https://api.github.com/users/edmondsfastly/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmondsfastly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmondsfastly/subscriptions", "organizations_url": "https://api.github.com/users/edmondsfastly/orgs", "repos_url": "https://api.github.com/users/edmondsfastly/repos", "events_url": "https://api.github.com/users/edmondsfastly/events{/privacy}", "received_events_url": "https://api.github.com/users/edmondsfastly/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-08T00:08:53Z", "updated_at": "2022-11-08T17:05:59Z", "closed_at": "2022-11-08T17:05:55Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fastly/dnstap-utils/pulls/39", "html_url": "https://github.com/fastly/dnstap-utils/pull/39", "diff_url": "https://github.com/fastly/dnstap-utils/pull/39.diff", "patch_url": "https://github.com/fastly/dnstap-utils/pull/39.patch", "merged_at": "2022-11-08T17:05:55Z"}, "body": "This branch adds a feature to `dnstap-replay` to ignore dnstap messages for replay/comparison purposes that match a longest prefix match blocklist. The blocklist is specified on the command-line by using the new `--ignore-query-net` option for each IPv4/IPv6 network prefix to be ignored. Any dnstap messages that are ignored due to this new filtering feature will utilize the new result code `query_net_ignored` for the `dnstap_replay_dns_comparisons_total` metric.\r\n\r\nThe underlying longest network prefix match implementation is [`ip_network_table`](https://crates.io/crates/ip_network_table).", "reactions": {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/39/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/39/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/38", "repository_url": "https://api.github.com/repos/fastly/dnstap-utils", "labels_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/38/comments", "events_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/38/events", "html_url": "https://github.com/fastly/dnstap-utils/pull/38", "id": 1433908888, "node_id": "PR_kwDOF9cY8M5CGPnR", "number": 38, "title": "fmt_dns_message(): Print prefix, simplify newline printing for EDNS options", "user": {"login": "edmondsfastly", "id": 73626355, "node_id": "MDQ6VXNlcjczNjI2MzU1", "avatar_url": "https://avatars.githubusercontent.com/u/73626355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmondsfastly", "html_url": "https://github.com/edmondsfastly", "followers_url": "https://api.github.com/users/edmondsfastly/followers", "following_url": "https://api.github.com/users/edmondsfastly/following{/other_user}", "gists_url": "https://api.github.com/users/edmondsfastly/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmondsfastly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmondsfastly/subscriptions", "organizations_url": "https://api.github.com/users/edmondsfastly/orgs", "repos_url": "https://api.github.com/users/edmondsfastly/repos", "events_url": "https://api.github.com/users/edmondsfastly/events{/privacy}", "received_events_url": "https://api.github.com/users/edmondsfastly/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-02T23:22:28Z", "updated_at": "2022-11-02T23:39:25Z", "closed_at": "2022-11-02T23:39:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fastly/dnstap-utils/pulls/38", "html_url": "https://github.com/fastly/dnstap-utils/pull/38", "diff_url": "https://github.com/fastly/dnstap-utils/pull/38.diff", "patch_url": "https://github.com/fastly/dnstap-utils/pull/38.patch", "merged_at": "2022-11-02T23:39:22Z"}, "body": "The new EDNS option printing code needs to print out the `prefix` after a newline to support callers that need indentation (e.g. `dnstap-dump`). Also simplify the final newline print by hoisting it out of the match blocks.", "reactions": {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/38/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/38/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/37", "repository_url": "https://api.github.com/repos/fastly/dnstap-utils", "labels_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/37/comments", "events_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/37/events", "html_url": "https://github.com/fastly/dnstap-utils/pull/37", "id": 1432310098, "node_id": "PR_kwDOF9cY8M5CA3cF", "number": 37, "title": "fmt_dns_message(): Try to print most of the EDNS options", "user": {"login": "edmondsfastly", "id": 73626355, "node_id": "MDQ6VXNlcjczNjI2MzU1", "avatar_url": "https://avatars.githubusercontent.com/u/73626355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmondsfastly", "html_url": "https://github.com/edmondsfastly", "followers_url": "https://api.github.com/users/edmondsfastly/followers", "following_url": "https://api.github.com/users/edmondsfastly/following{/other_user}", "gists_url": "https://api.github.com/users/edmondsfastly/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmondsfastly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmondsfastly/subscriptions", "organizations_url": "https://api.github.com/users/edmondsfastly/orgs", "repos_url": "https://api.github.com/users/edmondsfastly/repos", "events_url": "https://api.github.com/users/edmondsfastly/events{/privacy}", "received_events_url": "https://api.github.com/users/edmondsfastly/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-02T01:05:00Z", "updated_at": "2022-11-02T23:00:54Z", "closed_at": "2022-11-02T23:00:51Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fastly/dnstap-utils/pulls/37", "html_url": "https://github.com/fastly/dnstap-utils/pull/37", "diff_url": "https://github.com/fastly/dnstap-utils/pull/37.diff", "patch_url": "https://github.com/fastly/dnstap-utils/pull/37.patch", "merged_at": "2022-11-02T23:00:51Z"}, "body": "This commit enhances `fmt_dns_message()` to print most of the known EDNS options in an ad hoc format.\r\n\r\nThis is a little bit fragile. If the EDNS option is malformed in some way, the opt record simply won't be present in the parsed message object, and nothing will be printed for the OPT pseudosection at all. But this is similar to the case today where the options are entirely ignored.\r\n\r\nWe might be able to simplify this code in an upcoming version of the `domain` crate (https://github.com/NLnetLabs/domain/issues/144).", "reactions": {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/37/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/37/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/36", "repository_url": "https://api.github.com/repos/fastly/dnstap-utils", "labels_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/36/comments", "events_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/36/events", "html_url": "https://github.com/fastly/dnstap-utils/pull/36", "id": 1426379936, "node_id": "PR_kwDOF9cY8M5BtJOE", "number": 36, "title": "Upgrade dependencies", "user": {"login": "edmondsfastly", "id": 73626355, "node_id": "MDQ6VXNlcjczNjI2MzU1", "avatar_url": "https://avatars.githubusercontent.com/u/73626355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmondsfastly", "html_url": "https://github.com/edmondsfastly", "followers_url": "https://api.github.com/users/edmondsfastly/followers", "following_url": "https://api.github.com/users/edmondsfastly/following{/other_user}", "gists_url": "https://api.github.com/users/edmondsfastly/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmondsfastly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmondsfastly/subscriptions", "organizations_url": "https://api.github.com/users/edmondsfastly/orgs", "repos_url": "https://api.github.com/users/edmondsfastly/repos", "events_url": "https://api.github.com/users/edmondsfastly/events{/privacy}", "received_events_url": "https://api.github.com/users/edmondsfastly/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-27T23:33:09Z", "updated_at": "2022-10-28T00:01:39Z", "closed_at": "2022-10-28T00:01:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fastly/dnstap-utils/pulls/36", "html_url": "https://github.com/fastly/dnstap-utils/pull/36", "diff_url": "https://github.com/fastly/dnstap-utils/pull/36.diff", "patch_url": "https://github.com/fastly/dnstap-utils/pull/36.patch", "merged_at": "2022-10-28T00:01:36Z"}, "body": "Run `cargo upgrade` and `cargo upgrade --incompatible`.\r\n\r\nThe only incompatibilities were in clap where some of the APIs we were using have been replaced, and in prost where the protobuf compiler `protoc` is now required.", "reactions": {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/36/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/36/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/35", "repository_url": "https://api.github.com/repos/fastly/dnstap-utils", "labels_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/35/comments", "events_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/35/events", "html_url": "https://github.com/fastly/dnstap-utils/pull/35", "id": 1406908736, "node_id": "PR_kwDOF9cY8M5AsIXw", "number": 35, "title": "Cargo.toml: Release version 0.3.1", "user": {"login": "edmondsfastly", "id": 73626355, "node_id": "MDQ6VXNlcjczNjI2MzU1", "avatar_url": "https://avatars.githubusercontent.com/u/73626355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmondsfastly", "html_url": "https://github.com/edmondsfastly", "followers_url": "https://api.github.com/users/edmondsfastly/followers", "following_url": "https://api.github.com/users/edmondsfastly/following{/other_user}", "gists_url": "https://api.github.com/users/edmondsfastly/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmondsfastly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmondsfastly/subscriptions", "organizations_url": "https://api.github.com/users/edmondsfastly/orgs", "repos_url": "https://api.github.com/users/edmondsfastly/repos", "events_url": "https://api.github.com/users/edmondsfastly/events{/privacy}", "received_events_url": "https://api.github.com/users/edmondsfastly/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-12T23:18:30Z", "updated_at": "2022-10-12T23:23:20Z", "closed_at": "2022-10-12T23:22:53Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fastly/dnstap-utils/pulls/35", "html_url": "https://github.com/fastly/dnstap-utils/pull/35", "diff_url": "https://github.com/fastly/dnstap-utils/pull/35.diff", "patch_url": "https://github.com/fastly/dnstap-utils/pull/35.patch", "merged_at": "2022-10-12T23:22:53Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/35/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/35/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/34", "repository_url": "https://api.github.com/repos/fastly/dnstap-utils", "labels_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/34/comments", "events_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/34/events", "html_url": "https://github.com/fastly/dnstap-utils/pull/34", "id": 1406901598, "node_id": "PR_kwDOF9cY8M5AsG0V", "number": 34, "title": "replay: Fix confusion between error/timeout channel metrics", "user": {"login": "edmondsfastly", "id": 73626355, "node_id": "MDQ6VXNlcjczNjI2MzU1", "avatar_url": "https://avatars.githubusercontent.com/u/73626355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmondsfastly", "html_url": "https://github.com/edmondsfastly", "followers_url": "https://api.github.com/users/edmondsfastly/followers", "following_url": "https://api.github.com/users/edmondsfastly/following{/other_user}", "gists_url": "https://api.github.com/users/edmondsfastly/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmondsfastly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmondsfastly/subscriptions", "organizations_url": "https://api.github.com/users/edmondsfastly/orgs", "repos_url": "https://api.github.com/users/edmondsfastly/repos", "events_url": "https://api.github.com/users/edmondsfastly/events{/privacy}", "received_events_url": "https://api.github.com/users/edmondsfastly/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-12T23:07:08Z", "updated_at": "2022-10-12T23:12:43Z", "closed_at": "2022-10-12T23:12:29Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fastly/dnstap-utils/pulls/34", "html_url": "https://github.com/fastly/dnstap-utils/pull/34", "diff_url": "https://github.com/fastly/dnstap-utils/pull/34.diff", "patch_url": "https://github.com/fastly/dnstap-utils/pull/34.patch", "merged_at": "2022-10-12T23:12:29Z"}, "body": "When the dedicated /timeouts endpoint was introduced in https://github.com/fastly/dnstap-utils/pull/22 to split out the timeout payloads from the mismatch payloads on the existing /errors endpoint, new metrics were introduced for monitoring the utilization of the corresponding internal \"timeouts\" channel.\r\n\r\nHowever, the internal `dnstap_receiver_to_stream()` function in the HTTP handler wasn't updated due to this change and it continued to increment the metric for RX's from the \"errors\" channel regardless of whether payloads were being received from the \"errors\" or the newly introduced \"timeouts\" channel.\r\n\r\nThis commit fixes the metric increment in the HTTP handler by encapsulating the channel to receive from along with the metric to increment on a successful RX together into a structure and passing this structure down to the `dnstap_receiver_to_stream()` function.", "reactions": {"url": "https://api.github.com/repos/fastly/dnstap-utils/issues/34/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fastly/dnstap-utils/issues/34/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]