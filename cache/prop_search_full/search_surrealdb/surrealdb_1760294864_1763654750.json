[{"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6594", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6594/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6594/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6594/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6594", "id": 3647199681, "node_id": "PR_kwDOGgbgb860l1SS", "number": 6594, "title": "Prepare v3.0.0 alpha.14 release", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-20T13:02:25Z", "updated_at": "2025-11-20T13:48:46Z", "closed_at": "2025-11-20T13:48:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6594", "html_url": "https://github.com/surrealdb/surrealdb/pull/6594", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6594.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6594.patch", "merged_at": "2025-11-20T13:48:22Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6594/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6590", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6590/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6590/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6590/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6590", "id": 3642146286, "node_id": "PR_kwDOGgbgb860Ur9z", "number": 6590, "title": "Use 32\u2011bit floats by default for HNSW vector indexes", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74", "html_url": "https://github.com/surrealdb/surrealdb/milestone/74", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74/labels", "id": 14209410, "node_id": "MI_kwDOGgbgb84A2NGC", "number": 74, "title": "v2.4.0", "description": null, "creator": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2025-11-24T15:31:16Z", "updated_at": "2025-11-24T15:37:12Z", "due_on": null, "closed_at": "2025-11-24T15:37:12Z"}, "comments": 1, "created_at": "2025-11-19T10:47:23Z", "updated_at": "2025-11-24T15:36:29Z", "closed_at": "2025-11-19T11:59:03Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6590", "html_url": "https://github.com/surrealdb/surrealdb/pull/6590", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6590.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6590.patch", "merged_at": "2025-11-19T11:59:03Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nWhen defining an HNSW vector index without explicitly specifying a vector type, the system previously defaulted to 64\u2011bit floats. This is atypical for embedding workloads (which almost always use 32\u2011bit floats), wastes memory, and can be surprising for users who expect `F32` semantics. This change makes the implicit default match common practice and the expectations of users working with embeddings.\r\n\r\n\r\n## What does this change do?\r\n\r\n- Changes the default `VectorType` from `F64` to `F32` for vector indexes in both the catalog schema and SQL layer.\r\n- Updates the `DEFINE INDEX ... HNSW DIMENSION ...` parser so that, when no explicit vector type is given, it now assumes `VectorType::F32` instead of `VectorType::F64`.\r\n- Adjusts language tests for search fusion functions (`search::linear` and `search::rrf`) so that the expected distances and combined scores match the new default floating\u2011point behavior (slight numeric differences and cleaner, non\u2011\"almost\" values for linear scores).\r\n- No changes are required to user queries or schemas that already specify a vector type explicitly; the impact is on the implicit default only.\r\n  \r\n## What is your testing strategy?\r\n\r\n- Rely on the updated language tests:\r\n  - `crates/language-tests/tests/language/functions/search/search-linear.surql`\r\n  - `crates/language-tests/tests/language/functions/search/search-rrf.surql`\r\n  to validate distance calculations and fusion scores under the new default.\r\n- Run the existing core test suite for index definitions and SQL parsing to ensure the new default integrates cleanly with the catalog and parser layers.\r\n- Perform a manual smoke test by:\r\n  - Defining an HNSW vector index without specifying a type.\r\n  - Inserting a small set of vector records.\r\n  - Running k\u2011NN and combined search queries to confirm they execute successfully and return stable, sensible scores with the new `F32` default.\r\n  \r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6590/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6590/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6587", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6587/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6587/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6587/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6587", "id": 3638727290, "node_id": "PR_kwDOGgbgb860JELb", "number": 6587, "title": "Bump the stable toolchain version and fix warnings", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5770137372, "node_id": "LA_kwDOGgbgb88AAAABV-1PHA", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/nix", "name": "nix", "color": "460DDD", "default": false, "description": "Nix expressions from the flake"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-18T15:22:19Z", "updated_at": "2025-11-19T09:59:21Z", "closed_at": "2025-11-19T09:58:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6587", "html_url": "https://github.com/surrealdb/surrealdb/pull/6587", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6587.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6587.patch", "merged_at": "2025-11-19T09:58:57Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\n`make check` displays some errors and the current MSRV does not let us take advantage of if let chains.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\n- Bumps the stable version and the MSRV.\r\n- Takes care of the ensuing warnings, mostly collapsing if let statements.\r\n- Avoids declaring Rust versions in workflow files (we already have toolchain files for that).\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nRan `make check`, `cargo make ci-check`, `cargo make ci-check-wasm` and `cargo make ci-clippy`.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6587/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6583", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6583/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6583/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6583/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6583", "id": 3633469464, "node_id": "PR_kwDOGgbgb86z3RwK", "number": 6583, "title": "Expose cancellation token in datastore initialization API", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7699159681, "node_id": "LA_kwDOGgbgb88AAAAByufagQ", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/topic:surrealkv", "name": "topic:surrealkv", "color": "F9D0C4", "default": false, "description": "This is related to the SurrealKV storage engine"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-17T14:03:20Z", "updated_at": "2025-11-18T16:03:48Z", "closed_at": "2025-11-18T16:02:37Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6583", "html_url": "https://github.com/surrealdb/surrealdb/pull/6583", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6583.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6583.patch", "merged_at": "2025-11-18T16:02:37Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nThe datastore initialization previously lacked a way for applications to signal graceful shutdown or cancel long-running operations during startup. This made it difficult to implement proper cleanup and cancellation semantics when shutting down servers or stopping database connections cleanly. By exposing the cancellation token through the initialization API, consumers can now propagate cancellation signals from the application level down into the datastore layer.\r\n\r\n## What does this change do?\r\n\r\nThis PR adds a `CancellationToken` parameter to the datastore initialization chain:\r\n\r\n- **Core API changes**: Updates `TransactionBuilderFactory::new_transaction_builder()` and all `Datastore::new*()` methods to accept a `CancellationToken` parameter\r\n- **Server integration**: The server's existing cancellation token (created in `cli/start.rs`) is now passed through to datastore initialization, enabling coordinated shutdown behavior\r\n- **Backward compatibility**: The `Datastore::new()` convenience method automatically creates a new token internally, maintaining a simple API for basic use cases\r\n- **Dependencies**: Adds `tokio-util` as a dependency to provide the `CancellationToken` type\r\n- **Documentation**: Adds comprehensive parameter documentation explaining the cancellation token's purpose\r\n\r\nThe change follows the thread from server startup (`cli/start.rs`) \u2192 database initialization (`dbs/mod.rs`) \u2192 datastore factory (`kvs/ds.rs`), allowing the cancellation signal to reach all backend implementations.\r\n\r\n## What is your testing strategy?\r\n\r\n- **Unit tests updated**: All existing datastore tests in `kvs/tests/mod.rs` have been updated to pass `CancellationToken::new()` for all backend types (memory, RocksDB, SurrealKV, TiKV)\r\n- **Integration verification**: The server initialization flow passes the actual cancellation token used for coordinating shutdown across all components\r\n- **Existing test coverage**: All existing tests continue to pass, verifying that the API changes don't break functionality\r\n- **Manual testing**: Server startup and graceful shutdown should be tested to ensure the cancellation token properly propagates through the initialization chain\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6583/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6583/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6579", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6579/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6579/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6579/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6579", "id": 3622553836, "node_id": "PR_kwDOGgbgb86zTELB", "number": 6579, "title": "Remove `cargo-acl`", "user": {"login": "tobiemh", "id": 1588290, "node_id": "MDQ6VXNlcjE1ODgyOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1588290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobiemh", "html_url": "https://github.com/tobiemh", "followers_url": "https://api.github.com/users/tobiemh/followers", "following_url": "https://api.github.com/users/tobiemh/following{/other_user}", "gists_url": "https://api.github.com/users/tobiemh/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobiemh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobiemh/subscriptions", "organizations_url": "https://api.github.com/users/tobiemh/orgs", "repos_url": "https://api.github.com/users/tobiemh/repos", "events_url": "https://api.github.com/users/tobiemh/events{/privacy}", "received_events_url": "https://api.github.com/users/tobiemh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-13T19:38:20Z", "updated_at": "2025-11-13T21:23:17Z", "closed_at": "2025-11-13T21:22:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6579", "html_url": "https://github.com/surrealdb/surrealdb/pull/6579", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6579.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6579.patch", "merged_at": "2025-11-13T21:22:30Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nCackle is no longer maintained, and hasn't had a new release in over 2 years. In addition it only runs on Linux, making development and maintenance harder.\r\n\r\n## What does this change do?\r\n\r\nRemoves `cargo-acl` from the CI workflow.\r\n\r\n## Is this related to any issues?\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6579/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6578", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6578/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6578/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6578/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6578", "id": 3621561718, "node_id": "PR_kwDOGgbgb86zPuxz", "number": 6578, "title": "Remove FoundationDB storage engine", "user": {"login": "tobiemh", "id": 1588290, "node_id": "MDQ6VXNlcjE1ODgyOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1588290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobiemh", "html_url": "https://github.com/tobiemh", "followers_url": "https://api.github.com/users/tobiemh/followers", "following_url": "https://api.github.com/users/tobiemh/following{/other_user}", "gists_url": "https://api.github.com/users/tobiemh/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobiemh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobiemh/subscriptions", "organizations_url": "https://api.github.com/users/tobiemh/orgs", "repos_url": "https://api.github.com/users/tobiemh/repos", "events_url": "https://api.github.com/users/tobiemh/events{/privacy}", "received_events_url": "https://api.github.com/users/tobiemh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-13T14:54:13Z", "updated_at": "2025-11-14T10:45:35Z", "closed_at": "2025-11-14T10:44:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6578", "html_url": "https://github.com/surrealdb/surrealdb/pull/6578", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6578.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6578.patch", "merged_at": "2025-11-14T10:44:54Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nFoundationDB has been extracted to a [separate repository](https://github.com/surrealdb/surrealdb-foundationdb) to simplify the core SurrealDB codebase and address several operational challenges:\r\n\r\n#### Build Complexity and Dependencies\r\n\r\n- Local Installation Requirement: Building with FoundationDB support requires the FoundationDB client library to be installed locally, adding complexity to the build environment and CI/CD pipelines\r\n- Native Dependency Chain: The `foundationdb` crate pulls in significant native build dependencies including `bindgen`, `clang-sys`, and platform-specific compilation requirements\r\n- Development Friction: Contributors and users need to install and maintain FoundationDB infrastructure just to build the project, even if they don't intend to use this storage engine\r\n\r\n#### Transaction Limitations\r\n\r\nFoundationDB imposes strict transaction constraints that can impact SurrealDB workloads:\r\n\r\n- 10 MB Transaction Size Limit: Each transaction is limited to 10 MB of data, which can be restrictive for batch operations, large document imports, or complex queries that touch many records\r\n- 5 Second Transaction Duration: Transactions must complete within 5 seconds by default, though this can be configured up to 5000ms in our implementation. Long-running analytical queries or bulk operations may hit this limit\r\n- Retry Complexity: While FoundationDB provides automatic retry mechanisms, these add complexity to transaction handling and can mask underlying performance issues\r\n\r\n#### Architectural Considerations\r\n\r\n- Separate Binary Required: FoundationDB integration now requires using `surreal-fdb` binary instead of the standard surreal binary, as it lives in a separate repository\r\n- Composable Architecture: The new composable datastore pattern means FoundationDB is better maintained as a separate crate that composes with `surrealdb-core` rather than being tightly coupled\r\n- Reduced Core Complexity: Removing FoundationDB from the core reduces the maintenance burden and testing surface area for the primary storage engines\r\n\r\n## What does this change do?\r\n\r\nRemoves FoundationDB as a built-in storage engine from the core codebase.\r\n\r\n## Is this related to any issues?\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n- [ ] Documentation needs updating\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6578/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6577", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6577/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6577/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6577/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6577", "id": 3621159285, "node_id": "PR_kwDOGgbgb86zOYzd", "number": 6577, "title": "Pin `hyper`, `ort`, and `ort-sys` dependencies to prevent build breakage", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-13T13:07:53Z", "updated_at": "2025-11-13T15:28:33Z", "closed_at": "2025-11-13T15:27:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6577", "html_url": "https://github.com/surrealdb/surrealdb/pull/6577", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6577.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6577.patch", "merged_at": "2025-11-13T15:27:13Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nRunning `cargo update` currently breaks the build due to incompatibilities between newer versions of certain dependencies and SurrealML. Specifically, newer versions of `hyper` (>1.6.0) and `ort`/`ort-sys` (>2.0.0-rc.9) introduce breaking changes that cause compilation errors. This prevents developers from safely updating dependencies and maintaining a healthy dependency tree.\r\n\r\n## What does this change do?\r\n\r\nThis PR pins three critical dependencies at the workspace level to prevent automatic updates that would break the build:\r\n\r\n- **`hyper`**: Pinned to `=1.6.0` to maintain compatibility with current server implementation\r\n- **`ort`**: Pinned to `=2.0.0-rc.9` to ensure SurrealML continues to function correctly\r\n- **`ort-sys`**: Pinned to `=2.0.0-rc.9` to match the `ort` version requirement\r\n\r\nThe changes consolidate dependency management by:\r\n- Moving `hyper` from a direct dependency in `crates/server/Cargo.toml` to a workspace-level dependency\r\n- Adding explicit workspace references for `ort` and `ort-sys` in the server crate with documentation explaining the version constraint\r\n\r\n## What is your testing strategy?\r\n\r\n- Verify the project builds successfully with the pinned dependencies: `cargo build`\r\n- Confirm `cargo update` no longer introduces breaking changes by running it and ensuring the build still succeeds\r\n- Run the existing test suite to validate that functionality remains unchanged: `cargo test`\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6577/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6577/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6575", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6575/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6575/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6575/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6575", "id": 3616322686, "node_id": "PR_kwDOGgbgb86y-EsW", "number": 6575, "title": "Update Surreal Cloud to SurrealDB Cloud in README.md", "user": {"login": "Ekwuno", "id": 35943047, "node_id": "MDQ6VXNlcjM1OTQzMDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/35943047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ekwuno", "html_url": "https://github.com/Ekwuno", "followers_url": "https://api.github.com/users/Ekwuno/followers", "following_url": "https://api.github.com/users/Ekwuno/following{/other_user}", "gists_url": "https://api.github.com/users/Ekwuno/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ekwuno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ekwuno/subscriptions", "organizations_url": "https://api.github.com/users/Ekwuno/orgs", "repos_url": "https://api.github.com/users/Ekwuno/repos", "events_url": "https://api.github.com/users/Ekwuno/events{/privacy}", "received_events_url": "https://api.github.com/users/Ekwuno/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-12T12:21:55Z", "updated_at": "2025-11-12T13:23:43Z", "closed_at": "2025-11-12T13:22:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6575", "html_url": "https://github.com/surrealdb/surrealdb/pull/6575", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6575.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6575.patch", "merged_at": "2025-11-12T13:22:36Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nChanges Surreal Cloud to SurrealDB Cloud \r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\n## What does this change do?\r\n\r\nChanges Surreal Cloud to SurrealDB Cloud \r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nN/A\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6575/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6574", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6574/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6574/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6574/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6574", "id": 3612518032, "node_id": "PR_kwDOGgbgb86yxMg1", "number": 6574, "title": "Add missing storage backend features", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7699159681, "node_id": "LA_kwDOGgbgb88AAAAByufagQ", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/topic:surrealkv", "name": "topic:surrealkv", "color": "F9D0C4", "default": false, "description": "This is related to the SurrealKV storage engine"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-11T14:17:05Z", "updated_at": "2025-11-11T16:53:14Z", "closed_at": "2025-11-11T16:52:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6574", "html_url": "https://github.com/surrealdb/surrealdb/pull/6574", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6574.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6574.patch", "merged_at": "2025-11-11T16:52:38Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nThe main `Cargo.toml` was missing feature flags for three storage backends that are already supported in the `surrealdb-server` crate. This prevented users from enabling these storage options when building SurrealDB from the root workspace, creating an inconsistency between available backends and exposed features.\r\n\r\n## What does this change do?\r\n\r\nAdds three storage backend feature flags to the root `Cargo.toml`:\r\n- `storage-tikv` - Enables TiKV distributed transactional key-value database support\r\n- `storage-fdb` - Enables FoundationDB distributed database support  \r\n- `storage-indxdb` - Enables IndexedDB browser storage support\r\n\r\nEach feature flag passes through to the corresponding feature in the `surrealdb-server` crate, following the existing pattern used by other storage backends like `storage-rocksdb` and `storage-surrealkv`.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\n> [!WARNING]\r\n> No details provided.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\nFollow up #6569 \r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6574/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6574/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6572", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6572/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6572/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6572/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6572", "id": 3609333653, "node_id": "PR_kwDOGgbgb86ymhYZ", "number": 6572, "title": "Fix Number hash to use consistent value hashing.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-10T19:09:40Z", "updated_at": "2025-11-11T09:27:17Z", "closed_at": "2025-11-11T09:26:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6572", "html_url": "https://github.com/surrealdb/surrealdb/pull/6572", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6572.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6572.patch", "merged_at": "2025-11-11T09:26:20Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nHashing of Number is different for each variant but the `PartialEq` impl evaluates `Int(1)` as equal to `Decimal(1)`. It is undefined behavior when PartialEq evaluates to equal but Hash returns a different value.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nThis change modifies the current hash implementation of Number to use the consistent lexicographic hashing used for storekey values. Now `1f`, `1dec`, and `1` evaluate as the same hashed value in a set.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nUpdated the language tests.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6572/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6572/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6569", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6569/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6569/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6569/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6569", "id": 3600137503, "node_id": "PR_kwDOGgbgb86yIBh8", "number": 6569, "title": "Extract server implementation into surrealdb-server crate", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-07T12:31:28Z", "updated_at": "2025-11-10T10:34:39Z", "closed_at": "2025-11-10T10:34:06Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6569", "html_url": "https://github.com/surrealdb/surrealdb/pull/6569", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6569.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6569.patch", "merged_at": "2025-11-10T10:34:06Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nThis refactoring improves the architectural separation between the core SurrealDB library and server-specific functionality. By extracting server components into a dedicated crate, the project achieves:\r\n\r\n- **Clearer boundaries**: Core database logic is separated from HTTP/WebSocket server, CLI, and network infrastructure\r\n- **Better modularity**: Users of the SurrealDB library (via SDK) are not forced to pull in server dependencies like Axum, Tower, CLI tooling, and telemetry infrastructure\r\n- **Improved maintainability**: Server-specific features can evolve independently from the core library\r\n- **Supply chain security**: Isolates server-specific dependencies to reduce the attack surface for embedded library users\r\n\r\n## What does this change do?\r\n\r\nThis change introduces a new `surrealdb-server` crate that consolidates all server-related functionality previously scattered in the root crate:\r\n\r\n**Moved Components:**\r\n- **CLI tooling** (`cli/`): Command-line interface for start, import, export, SQL shell, ML operations, and validation\r\n- **Network layer** (`net/` \u2192 `ntw/`): HTTP/WebSocket endpoints, authentication, middleware, headers, and routing (renamed to `ntw` for supply chain tooling compatibility)\r\n- **RPC layer** (`rpc/`): HTTP and WebSocket RPC protocol implementations\r\n- **Telemetry** (`telemetry/`): Metrics, traces, logs, and OpenTelemetry integration\r\n- **GraphQL** (`gql/`): GraphQL endpoint implementation\r\n- **Server initialization** (`dbs/mod.rs`): Database bootstrap and server-specific startup logic\r\n- **Configuration** (`cnf/`, `env/`): Server configuration and environment handling\r\n\r\n**Architectural Changes:**\r\n- Root `src/main.rs` reduced to a 15-line binary entry point that delegates to `surrealdb_server::init()`\r\n- Root `Cargo.toml` simplified by ~154 lines, moving server-specific dependencies (Axum, Clap, Tower-HTTP, Tracing-subscriber, OpenTelemetry, Rustyline) to the server crate\r\n- Server crate provides features for storage backends, scripting, HTTP, ML, and allocation tracking\r\n\r\n## What is your testing strategy?\r\n\r\n- All existing integration and unit tests should continue to pass, ensuring the refactoring maintains functional parity\r\n- Server functionality tests in `crates/server/src/` verify CLI, network endpoints, and telemetry work correctly\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6569/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6568", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6568/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6568/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6568/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6568", "id": 3598416368, "node_id": "PR_kwDOGgbgb86yCPYU", "number": 6568, "title": "Give set some more operators", "user": {"login": "Dhghomon", "id": 56599343, "node_id": "MDQ6VXNlcjU2NTk5MzQz", "avatar_url": "https://avatars.githubusercontent.com/u/56599343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dhghomon", "html_url": "https://github.com/Dhghomon", "followers_url": "https://api.github.com/users/Dhghomon/followers", "following_url": "https://api.github.com/users/Dhghomon/following{/other_user}", "gists_url": "https://api.github.com/users/Dhghomon/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dhghomon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dhghomon/subscriptions", "organizations_url": "https://api.github.com/users/Dhghomon/orgs", "repos_url": "https://api.github.com/users/Dhghomon/repos", "events_url": "https://api.github.com/users/Dhghomon/events{/privacy}", "received_events_url": "https://api.github.com/users/Dhghomon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-07T02:47:30Z", "updated_at": "2025-11-10T16:59:48Z", "closed_at": "2025-11-10T16:59:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6568", "html_url": "https://github.com/surrealdb/surrealdb/pull/6568", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6568.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6568.patch", "merged_at": "2025-11-10T16:59:03Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nThe new set type can't use operators like ANYINSIDE yet.\r\n\r\n## What does this change do?\r\n\r\nAdds functionality for ANYINSIDE, ALLINSIDE, and ?= (anyequal) and *= (allequal) operators.\r\n\r\nNote: *= currently doesn't parse properly (thinks it's the assignment operator)\r\n\r\n## What is your testing strategy?\r\n\r\nAdded tests for each one. Also split the all_any_inside one into two because of all the possible combinations now.\r\n\r\nThe one with *= is marked as wip.\r\n\r\n## Is this related to any issues?\r\n\r\n- [X] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n- [X] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n- [X] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [X] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6568/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6567", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6567/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6567/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6567/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6567", "id": 3596144249, "node_id": "PR_kwDOGgbgb86x6s5J", "number": 6567, "title": "Audit surrealism as coming from crates.io", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-06T14:48:39Z", "updated_at": "2025-11-06T15:52:37Z", "closed_at": "2025-11-06T15:52:02Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6567", "html_url": "https://github.com/surrealdb/surrealdb/pull/6567", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6567.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6567.patch", "merged_at": "2025-11-06T15:52:01Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\n```\r\nError:   \u00d7 Some non-crates.io-fetched packages match published crates.io versions\r\n  \u2502   surrealism:0.1.1\r\n```\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6567/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6565", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6565/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6565/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6565/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6565", "id": 3595042935, "node_id": "PR_kwDOGgbgb86x2_fo", "number": 6565, "title": "Bump surrealism version", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-06T10:06:21Z", "updated_at": "2025-11-06T13:27:30Z", "closed_at": "2025-11-06T13:26:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6565", "html_url": "https://github.com/surrealdb/surrealdb/pull/6565", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6565.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6565.patch", "merged_at": "2025-11-06T13:26:24Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6565/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6565/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6564", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6564/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6564/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6564/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6564", "id": 3591946275, "node_id": "PR_kwDOGgbgb86xstqf", "number": 6564, "title": "[Backport] Fix SELECT with SPLIT so ORDER BY and START/LIMIT apply after splitting", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-11-05T16:47:50Z", "updated_at": "2025-11-06T09:43:35Z", "closed_at": "2025-11-06T09:43:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6564", "html_url": "https://github.com/surrealdb/surrealdb/pull/6564", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6564.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6564.patch", "merged_at": "2025-11-06T09:43:34Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nBackport #6561 \r\n\r\n## What does this change do?\r\n\r\nBackport #6561 \r\n\r\n## What is your testing strategy?\r\n\r\nLanguage test\r\n\r\n## Is this related to any issues?\r\n\r\nBackport #6561 \r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6564/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6564/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6563", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6563/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6563/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6563/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6563", "id": 3591823453, "node_id": "PR_kwDOGgbgb86xsUNp", "number": 6563, "title": "Fix surrealism crates", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-05T16:18:17Z", "updated_at": "2025-11-05T23:56:40Z", "closed_at": "2025-11-05T23:55:59Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6563", "html_url": "https://github.com/surrealdb/surrealdb/pull/6563", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6563.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6563.patch", "merged_at": "2025-11-05T23:55:59Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6563/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6562", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6562/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6562/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6562/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6562", "id": 3591201775, "node_id": "PR_kwDOGgbgb86xqO5o", "number": 6562, "title": "Some more improvements to views and $this, $parent", "user": {"login": "DelSkayn", "id": 7524414, "node_id": "MDQ6VXNlcjc1MjQ0MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7524414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DelSkayn", "html_url": "https://github.com/DelSkayn", "followers_url": "https://api.github.com/users/DelSkayn/followers", "following_url": "https://api.github.com/users/DelSkayn/following{/other_user}", "gists_url": "https://api.github.com/users/DelSkayn/gists{/gist_id}", "starred_url": "https://api.github.com/users/DelSkayn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DelSkayn/subscriptions", "organizations_url": "https://api.github.com/users/DelSkayn/orgs", "repos_url": "https://api.github.com/users/DelSkayn/repos", "events_url": "https://api.github.com/users/DelSkayn/events{/privacy}", "received_events_url": "https://api.github.com/users/DelSkayn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2025-11-05T13:54:11Z", "updated_at": "2025-11-11T14:38:56Z", "closed_at": "2025-11-11T14:38:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6562", "html_url": "https://github.com/surrealdb/surrealdb/pull/6562", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6562.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6562.patch", "merged_at": "2025-11-11T14:38:38Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n## What does this change do?\r\n\r\nImplements some fixes and improvements related to views and group by and $this, $parent builtin parameters.\r\n\r\n- Makes removing a table which has a view defined on it an error.\r\n- Adds an error for `$this` and `$parent` parameters referencing the document of a group by statement.\r\n- Improve the error for unsupported materialized view aggregates.\r\n- Change the location where $parent and $this change meaning: In `SELECT $parent FROM $this` both $this and $parent now refer to the same object.\r\n\r\n## What is your testing strategy?\r\n\r\nAdded test for the fixes/new behavior\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [ ] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6562/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6561", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6561/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6561/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6561/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6561", "id": 3590659646, "node_id": "PR_kwDOGgbgb86xoX93", "number": 6561, "title": "Fix SELECT with SPLIT so ORDER BY and START/LIMIT apply after splitting", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74", "html_url": "https://github.com/surrealdb/surrealdb/milestone/74", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74/labels", "id": 14209410, "node_id": "MI_kwDOGgbgb84A2NGC", "number": 74, "title": "v2.4.0", "description": null, "creator": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2025-11-24T15:31:16Z", "updated_at": "2025-11-24T15:37:12Z", "due_on": null, "closed_at": "2025-11-24T15:37:12Z"}, "comments": 1, "created_at": "2025-11-05T11:52:38Z", "updated_at": "2025-11-24T15:37:43Z", "closed_at": "2025-11-05T16:43:37Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6561", "html_url": "https://github.com/surrealdb/surrealdb/pull/6561", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6561.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6561.patch", "merged_at": "2025-11-05T16:43:37Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nQueries that use `SPLIT` on array fields and also specify `ORDER BY` and/or `START \u2026 LIMIT \u2026` could return incorrect or truncated results. The root cause was that ordering/limit optimizations and pagination were effectively applied before the `SPLIT` expansion finished, so rows created by `SPLIT` were miscounted or misordered.\r\n\r\n## What does this change do?\r\n\r\n Ensures the execution pipeline expands rows via `SPLIT` before applying `ORDER BY` and pagination. The effective order is now: iterate \u2192 SPLIT \u2192 GROUP (if any) \u2192 ORDER BY \u2192 START/LIMIT \u2192 FETCH.\r\n- Disables the `ORDER BY \u2026 LIMIT \u2026` priority\u2011queue optimization when a `SPLIT` clause is present, because `SPLIT` changes the result cardinality; this prevents early trimming that would drop valid rows.\r\n- Result: `SELECT \u2026 SPLIT \u2026 ORDER BY \u2026 START \u2026 LIMIT \u2026` now yields correctly ordered, correctly paginated rows from the fully expanded set.\r\n\r\nRelevant implementation spots for reviewers:\r\n- `crates/core/src/dbs/iterator.rs`: `output_split` is executed before `sort` (ORDER BY) and `start_limit`.\r\n- `crates/core/src/dbs/result.rs`: `Results::prepare` skips the `MemoryOrderedLimit` optimization when `stm.split().is_some()`.\r\n\r\n## What is your testing strategy?\r\n\r\nLanguage tests:\r\n\r\n- Single value split with random ordering:\r\n  - `SELECT * FROM t SPLIT a ORDER BY rand()` returns one row when `a = [1]`.\r\n- Multiple rows expanded by `SPLIT`:\r\n  - `SELECT * FROM t SPLIT a` yields all split elements across records, preserving element order per record.\r\n- Deterministic order across split rows:\r\n  - `SELECT * FROM t SPLIT a ORDER BY id` returns all rows ordered by `id` after splitting.\r\n- Correct pagination after splitting and ordering:\r\n  - `SELECT * FROM t SPLIT a ORDER BY id START 1 LIMIT 2` returns the 2nd and 3rd rows from the ordered, fully expanded set.\r\n- Regression around optimization:\r\n  - Verify that with `SPLIT` present, no early `ORDER BY \u2026 LIMIT` trimming occurs (row counts and contents match expectations).\r\n  - Verify that without `SPLIT`, the existing `ORDER BY \u2026 LIMIT` optimization continues to work and yields identical results.\r\n\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [ ] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6561/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6561/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6559", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6559/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6559/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6559/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6559", "id": 3588746837, "node_id": "PR_kwDOGgbgb86xiIRp", "number": 6559, "title": "Add common method paths for sets", "user": {"login": "Dhghomon", "id": 56599343, "node_id": "MDQ6VXNlcjU2NTk5MzQz", "avatar_url": "https://avatars.githubusercontent.com/u/56599343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dhghomon", "html_url": "https://github.com/Dhghomon", "followers_url": "https://api.github.com/users/Dhghomon/followers", "following_url": "https://api.github.com/users/Dhghomon/following{/other_user}", "gists_url": "https://api.github.com/users/Dhghomon/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dhghomon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dhghomon/subscriptions", "organizations_url": "https://api.github.com/users/Dhghomon/orgs", "repos_url": "https://api.github.com/users/Dhghomon/repos", "events_url": "https://api.github.com/users/Dhghomon/events{/privacy}", "received_events_url": "https://api.github.com/users/Dhghomon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-05T01:51:32Z", "updated_at": "2025-11-05T09:49:52Z", "closed_at": "2025-11-05T09:48:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6559", "html_url": "https://github.com/surrealdb/surrealdb/pull/6559", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6559.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6559.patch", "merged_at": "2025-11-05T09:48:42Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nEvery data type is able to use method syntax like .is_bool() but set doesn't have them yet.\r\n\r\n## What does this change do?\r\n\r\nAdds these paths.\r\n\r\n## What is your testing strategy?\r\n\r\nNo extra tests, but each type inside mod.rs has the same list of method paths that can be called so copied and pasted without changes.\r\n\r\nNote that (same as with all other types) this only allows the functions to be tried, while they will not necessarily succeed.\r\n\r\n```\r\nns/db> {1,2,2}.to_bytes();\r\n['Thrown error: Could not cast into `bytes` using input `{1, 2}`']\r\n\r\nns/db> {1,2,2}.to_string();\r\n['{1, 2}']\r\n```\r\n\r\n## Is this related to any issues?\r\n\r\n- [X] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n- [X] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n- [X] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n- [X] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6559/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6559/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6558", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6558/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6558/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6558/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6558", "id": 3586993946, "node_id": "PR_kwDOGgbgb86xcTIp", "number": 6558, "title": "Prepare for v3.0.0-alpha.13 release", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-04T15:06:35Z", "updated_at": "2025-11-05T14:28:54Z", "closed_at": "2025-11-05T14:27:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6558", "html_url": "https://github.com/surrealdb/surrealdb/pull/6558", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6558.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6558.patch", "merged_at": "2025-11-05T14:27:19Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6558/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6557", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6557/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6557/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6557/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6557", "id": 3586028871, "node_id": "PR_kwDOGgbgb86xZBhe", "number": 6557, "title": "Stabilize record references & support reference by field", "user": {"login": "kearfy", "id": 17960250, "node_id": "MDQ6VXNlcjE3OTYwMjUw", "avatar_url": "https://avatars.githubusercontent.com/u/17960250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kearfy", "html_url": "https://github.com/kearfy", "followers_url": "https://api.github.com/users/kearfy/followers", "following_url": "https://api.github.com/users/kearfy/following{/other_user}", "gists_url": "https://api.github.com/users/kearfy/gists{/gist_id}", "starred_url": "https://api.github.com/users/kearfy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kearfy/subscriptions", "organizations_url": "https://api.github.com/users/kearfy/orgs", "repos_url": "https://api.github.com/users/kearfy/repos", "events_url": "https://api.github.com/users/kearfy/events{/privacy}", "received_events_url": "https://api.github.com/users/kearfy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2025-11-04T10:59:07Z", "updated_at": "2025-11-19T02:26:51Z", "closed_at": "2025-11-11T09:45:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6557", "html_url": "https://github.com/surrealdb/surrealdb/pull/6557", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6557.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6557.patch", "merged_at": "2025-11-11T09:45:33Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nThis PR makes the final few changes needed to stabilize record references, including a few breaking ones. It also removes the experimental feature flag, stabilizing the feature with these last couple of changes in.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nThis PR makes a number of (breaking) changes in order to stabilize the feature:\r\n\r\n### Order of the key\r\nThis PR changes the order of the key prioritizing the referencing field over referencing id. We already swapped these in an earlier PR during 3.x development, however due to feedback we are swapping them back. This now allows you to retrieve references by their referencing field. Here's an example of where that might come in useful:\r\n\r\n```sql\r\n-- Here's a table \"person\" which references table \"city\" using two different references\r\nDEFINE FIELD born_in ON person TYPE record<city> REFERENCE;\r\nDEFINE FIELD lives_in ON person TYPE record<city> REFERENCE;\r\n\r\n-- Due to this change, you can now retrieve people who reference a city via a certain field:\r\nSELECT <~(person FIELD born_in) AS natives FROM city;\r\nSELECT <~(person FIELD lives_in) AS citizens FROM city;\r\n\r\n-- Natually, you can still retrieve all references from a table as well\r\nSELECT <~person AS related_people FROM city;\r\n```\r\n\r\nSince referencing field is now prioritized over referencing id, this does mean that you always need to specify one when doing a range scan. Naturally, graph edges are completely unaffected by this change:\r\n\r\n```sql\r\n-- This is not allowed any longer\r\nSELECT <~person:1..10 AS natives FROM city;\r\n\r\n-- Instead, also specify a referencing field\r\nSELECT <~(person:1..10 FIELD born_in) AS natives FROM city;\r\n```\r\n\r\n### Referencing fields must be root-level\r\nIn order to make the internal code for record references more robust, we decided that the `REFERENCE` keyword can only be used on root-level fields:\r\n\r\n```sql\r\n-- These are allowed\r\nDEFINE FIELD x ON y TYPE record REFERENCE;\r\nDEFINE FIELD x ON y TYPE array<record> REFERENCE;\r\nDEFINE FIELD x ON y TYPE record | array<record> REFERENCE;\r\n\r\n-- Nested fields are no longer supported\r\nDEFINE FIELD x.nested ON y TYPE record REFERENCE;\r\nDEFINE FIELD x[0] ON y TYPE record REFERENCE;\r\n```\r\n\r\n### More robust testing\r\nEvery aspect of record references is now covered by the language tests, including lookup clauses.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nGitHub CI; Added tests\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- https://github.com/surrealdb/surrealdb/issues/6508\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [ ] https://github.com/surrealdb/docs.surrealdb.com/pull/1492\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] Removed the `record_references` keyword, affecting `SURREAL_CAPS_ALLOW_EXPERIMENTAL` and `SURREAL_CAPS_DENY_EXPERIMENTAL`\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6557/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6557/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6556", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6556/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6556/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6556/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6556", "id": 3582506762, "node_id": "PR_kwDOGgbgb86xNefa", "number": 6556, "title": "Add set literal syntax", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6626103502, "node_id": "LA_kwDOGgbgb88AAAABivJQzg", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/needs-documentation", "name": "needs-documentation", "color": "5319E7", "default": false, "description": "Needs documentation to be added and tracked before merge"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-03T15:14:15Z", "updated_at": "2025-11-04T22:32:31Z", "closed_at": "2025-11-04T22:31:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6556", "html_url": "https://github.com/surrealdb/surrealdb/pull/6556", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6556.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6556.patch", "merged_at": "2025-11-04T22:31:57Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nSupport for sets was recently added but set literals were not added at the time.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nThis PR adds set literal parsing:\r\n\r\n`{}`: Object\r\n`{,}`: Set\r\n`{;}`: Block\r\n`{v}`: Block in SurrealQL; Error in SQON\r\n`{v,}`: Set\r\n`{k:v}`: Object\r\n`{v;}`: Block\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nAdded language tests.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [ ] Documentation definitely needed.\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6556/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6555", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6555/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6555/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6555/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6555", "id": 3582257118, "node_id": "PR_kwDOGgbgb86xMqjp", "number": 6555, "title": "Add minimal implementation for 2.0 -> 3.0 migration tool", "user": {"login": "DelSkayn", "id": 7524414, "node_id": "MDQ6VXNlcjc1MjQ0MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7524414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DelSkayn", "html_url": "https://github.com/DelSkayn", "followers_url": "https://api.github.com/users/DelSkayn/followers", "following_url": "https://api.github.com/users/DelSkayn/following{/other_user}", "gists_url": "https://api.github.com/users/DelSkayn/gists{/gist_id}", "starred_url": "https://api.github.com/users/DelSkayn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DelSkayn/subscriptions", "organizations_url": "https://api.github.com/users/DelSkayn/orgs", "repos_url": "https://api.github.com/users/DelSkayn/repos", "events_url": "https://api.github.com/users/DelSkayn/events{/privacy}", "received_events_url": "https://api.github.com/users/DelSkayn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74", "html_url": "https://github.com/surrealdb/surrealdb/milestone/74", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74/labels", "id": 14209410, "node_id": "MI_kwDOGgbgb84A2NGC", "number": 74, "title": "v2.4.0", "description": null, "creator": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2025-11-24T15:31:16Z", "updated_at": "2025-11-24T15:37:12Z", "due_on": null, "closed_at": "2025-11-24T15:37:12Z"}, "comments": 0, "created_at": "2025-11-03T14:11:22Z", "updated_at": "2025-11-24T15:36:11Z", "closed_at": "2025-11-07T15:27:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6555", "html_url": "https://github.com/surrealdb/surrealdb/pull/6555", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6555.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6555.patch", "merged_at": "2025-11-07T15:27:34Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nThere are a lot of breaking changes in 3.0, we should provide users a way to investigate if their data and/or schema contains anything that might break in 3.0\r\n\r\n## What does this change do?\r\n\r\nImplements a minimal function `migration::diagnose` which currently just checks for the presence of breaking futures but will be expanded to allow checking a wide range of possible migration issues.\r\n\r\nIt will return an array of objects which contain information about possible issues when migrating to 3.0.\r\nThe schema of this object is as following:\r\n```\r\ntype Severity = 'might_break' | 'will_break' | 'breaking_resolution' | to be decided;\r\n\r\ntype IssueKind = 'incompatible future' | to be decided;\r\n\r\ntype Snippet = {\r\n\tsource: string,\r\n\ttruncation: 'none' | 'start' | 'end' | 'both';\r\n\tline: number,\r\n\tcolumn: number,\r\n\tcolumn: number,\r\n\tlength: number,\r\n\tlabel: string | none,\r\n}\r\n\r\ntype MigrationIssue = {\r\n\tseverity: Severity,\r\n\terror: string,\r\n\tdetails: string | none,\r\n\tkind: IssueKind,\r\n\torigin: string,\r\n\terror_location: Snippet | none,\r\n\tresolution: Snippet | none,\r\n}\r\n```\r\n\r\n## What is your testing strategy?\r\n\r\nAdded some tests which verify if the migration check is actually working.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\nThis is meant for use in surrealist and not really for normal use.\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6555/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6555/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6553", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6553/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6553/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6553/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6553", "id": 3580203331, "node_id": "PR_kwDOGgbgb86xF2rs", "number": 6553, "title": "DB-417: Memory\u2011bounded LRU cache for HNSW vectors; remove deprecated MTREE index", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-03T00:46:25Z", "updated_at": "2025-11-10T03:58:05Z", "closed_at": "2025-11-06T20:51:23Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6553", "html_url": "https://github.com/surrealdb/surrealdb/pull/6553", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6553.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6553.patch", "merged_at": "2025-11-06T20:51:23Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nThe previous in\u2011memory storage for HNSW vectors grew with workload and could retain data after index/table removal, increasing the risk of excessive memory usage or OOMs on large datasets or multi\u2011tenant deployments.\r\n- Users need predictable memory consumption for vector search, and operators need a single, tunable limit.\r\n- MTREE vector search has been deprecated for some time; keeping it adds maintenance overhead and user confusion.\r\n\r\n## What does this change do?\r\n\r\nIntroduces a memory\u2011bounded LRU cache for HNSW vectors:\r\n  - Implemented in `crates/core/src/idx/trees/hnsw/cache.rs` using `quick_cache` with a custom weighter that accounts for the actual memory size of each `SharedVector` and its key `(TableId, IndexId, ElementId)`.\r\n  - Eviction lifecycle hook keeps a per\u2011index set of cached element IDs in sync so we can bulk\u2011evict efficiently.\r\n  - Integrated at the store layer (`crates/core/src/idx/trees/store/mod.rs`) and within HNSW elements (`crates/core/src/idx/trees/hnsw/elements.rs`) to transparently cache on read and write, and to purge on element/index removal.\r\n  - Configurable cache size via `SURREAL_HNSW_CACHE_SIZE` (default: 256 MiB) defined in `crates/core/src/cnf/mod.rs`.\r\n- Removes the deprecated MTREE vector search implementation from the codebase.\r\n\r\nUser impact:\r\n- HNSW vector search uses a bounded memory cache by default, reducing memory spikes and improving stability under load.\r\n- No query syntax changes. Operators can tune memory via `SURREAL_HNSW_CACHE_SIZE`.\r\n- MTREE index type is no longer available (it was deprecated); users should use HNSW for vector search.\r\n\r\n\r\n## What is your testing strategy?\r\n\r\n- Functional correctness\r\n  - Cache hit/miss path: `get_vector` returns from cache when present; on miss, loads from KV, re\u2011caches, and returns the same distance results as before.\r\n  - Forced eviction: run with a very small `SURREAL_HNSW_CACHE_SIZE` to trigger evictions; verify no panics, and subsequent queries re\u2011load from KV correctly.\r\n  - Insert/remove lifecycle: inserting vectors adds them to the cache and per\u2011index tracking; removing an element or dropping an index/table evicts all tracked entries for that index (assert empty tracking set afterward).\r\n  - Concurrency: parallel inserts/reads simulate query load; ensure no deadlocks and consistent results.\r\n- Regression/parity\r\n  - Run existing HNSW language tests (e.g., `crates/language-tests/tests/language/statements/define/index/multiple_hnsw.surql`) and ensure identical query results.\r\n  - Run HNSW benchmarks (`crates/sdk/benches/index_hnsw.rs`) to confirm performance remains stable or improves due to caching.\r\n- Configuration\r\n  - Verify `SURREAL_HNSW_CACHE_SIZE` is honored: with different sizes, observe expected eviction frequency and bounded memory usage.\r\n- Upgrade check\r\n  - Verify that creating/using HNSW indices works as before, and that MTREE types are not accepted/advertised anymore (clear error or removal from docs/DDL if applicable).\r\n\r\nAcceptance criteria:\r\n- HNSW ANN queries return correct results with or without cache hits.\r\n- Memory usage remains within the configured budget under sustained load.\r\n- Dropping an index/table fully clears any cached vectors for that index.\r\n- No references to MTREE indexing remain; users can only define and use HNSW for vector search.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [ ] https://github.com/surrealdb/docs.surrealdb.com/pull/1491\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [ ] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6553/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6553/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6551", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6551/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6551/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6551/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6551", "id": 3579342818, "node_id": "PR_kwDOGgbgb86xDPiG", "number": 6551, "title": "SDB-18: Fix LIVE DIFF response data structure.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-02T09:46:49Z", "updated_at": "2025-11-03T08:36:52Z", "closed_at": "2025-11-03T08:36:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6551", "html_url": "https://github.com/surrealdb/surrealdb/pull/6551", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6551.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6551.patch", "merged_at": "2025-11-03T08:36:38Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nIn #6428 it was reported that `LIVE SELECT DIFF` was not returning the correct data structures.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\n1. Fixes `LIVE SELECT DIFF` return structure.\r\n2. Fixes sql formatting of `LIVE SELECT DIFF` statements.\r\n3. Adds `LIVE SELECT DIFF` tests and SQL formatting tests.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nPassing CI tests should be sufficient.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\nCloses #6428 \r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6551/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6548", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6548/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6548/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6548/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6548", "id": 3578314232, "node_id": "PR_kwDOGgbgb86xAJ0A", "number": 6548, "title": "SDB-17: Ensure all statements return a value.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-11-01T18:53:06Z", "updated_at": "2025-11-04T01:15:52Z", "closed_at": "2025-11-03T08:40:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6548", "html_url": "https://github.com/surrealdb/surrealdb/pull/6548", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6548.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6548.patch", "merged_at": "2025-11-03T08:40:34Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nIt is currently very hard to predict how many results will be returned in a query because of the following:\r\n\r\n1. `OPTION`, `BEGIN`, `CANCEL`, and `COMMIT` do not return anything.\r\n2. If there\u2019s a `RETURN` statement between a `BEGIN` and `COMMIT` only that one statement is returned. But if there are no `RETURN` statements then all statements will have return values.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nThis change updates `OPTION`, `BEGIN`, `CANCEL`, and `COMMIT` to always return `NONE`.\r\n\r\nAll statements between a `BEGIN` and `COMMIT` now return a value unless they\u2019re explicitly placed within a block.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nLanguage tests.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- https://github.com/surrealdb/surrealdb/issues/3318\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] Documentation will need to be updated.\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6548/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6545", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6545/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6545/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6545/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6545", "id": 3575792397, "node_id": "PR_kwDOGgbgb86w4Je_", "number": 6545, "title": "Migrate RocksDB dependency to published crates.io package", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-31T17:22:43Z", "updated_at": "2025-10-31T18:28:07Z", "closed_at": "2025-10-31T18:27:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6545", "html_url": "https://github.com/surrealdb/surrealdb/pull/6545", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6545.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6545.patch", "merged_at": "2025-10-31T18:27:54Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nThe project was depending on a git repository reference for RocksDB (`surrealdb/rust-rocksdb.git`), which introduces several challenges:\r\n- Git dependencies make builds slower and less reproducible\r\n- They complicate version management and dependency resolution\r\n- Security auditing tools prefer published packages from crates.io\r\n- Users downstream can't easily inspect or verify the exact dependency versions\r\n\r\n## What does this change do?\r\n\r\nhis PR migrates the RocksDB dependency from a git repository reference to a published crates.io package:\r\n- **Dependency update**: Replaces `rocksdb` git dependency with `surrealdb-rocksdb` version `0.24.0-surreal.1` from crates.io\r\n- **Package renaming**: Updates package names from `rocksdb`/`librocksdb-sys` to `surrealdb-rocksdb`/`surrealdb-librocksdb-sys` across security configurations\r\n- **Security audit updates**: Refreshes supply-chain configuration to track the new published packages\r\n- **Maintained compatibility**: Preserves the same RocksDB version (10.6.2) and features (lz4, snappy compression) with SSTFileManager bindings included\r\n\r\nThe published package includes the SSTFileManager bindings that provide control over disk space usage, which were added in PR #6530.\r\n\r\n\r\n## What is your testing strategy?\r\n\r\n- **Existing test suite**: All existing RocksDB-related tests run automatically with the new package, validating functional equivalence\r\n- **Build verification**: CI builds ensure the new package compiles correctly across all supported platforms\r\n- **Integration testing**: The RocksDB storage backend is exercised through SurrealDB's comprehensive test suite, covering database operations, transactions, and disk management\r\n- **Dependency audit**: Supply-chain tools verify the package authenticity and security posture\r\n\r\n## Is this related to any issues?\r\n\r\nRelates to #6530 \r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6545/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6545/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6539", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6539/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6539/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6539/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6539", "id": 3572594555, "node_id": "PR_kwDOGgbgb86wtp4D", "number": 6539, "title": "SDB-6: Move strict mode to DB definition, add strict object type", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-30T21:38:42Z", "updated_at": "2025-12-23T06:00:44Z", "closed_at": "2025-11-11T10:42:43Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6539", "html_url": "https://github.com/surrealdb/surrealdb/pull/6539", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6539.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6539.patch", "merged_at": "2025-11-11T10:42:43Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nSetting `strict` mode at the CLI level limits configurability of SurrealDB and limits multi-tenant preferences. Users should be able to specify whether a DB is strict when defining it.\r\n\r\nStrict mode controlled how NS & DBs were created, if tables could automatically be created (eg. if calling `CREATE person` can the `person` table just me made on the fly), and when a table is marked as `SCHEMAFULL` how field definitions should be enforced.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nThis change does the following:\r\n1. Adds a `STRICT` modifier to database definitions via `DEFINE DB mydb STRICT`.\r\n2. NS & DB are always automatically created if you use the `USE` statement. TBD @tobiemh - thoughts on this one?\r\n3. Table creation depends on the db's `STRICT` definition.\r\n4. When a table is `SCHEMAFULL` it is always an error to attempt to insert something that does not match the defined schema. Previously, if we were not in strict mode, extra fields would just silently be dropped.\r\n5. This also fixes a bug with `ALTER FIELD b ON a READONLY`. Previously if you ran that statement, it would actually set `FLEXIBLE` instead of `READONLY`. Now it does what you'd expect.\r\n\r\n### `FLEXIBLE`\r\n\r\n`FLEXIBLE` is an attribute of fields which only applies to `TYPE object`. `TYPE number FLEXIBLE` and `TYPE any FLEXIBLE` are nonsensical statements. Additionally, `TYPE array FLEXIBLE` is nonsense, but `TYPE array<object> FLEXIBLE` might make sense to do.\r\n\r\nGiven that `FLEXIBLE` can only apply to `TYPE object`, it is now required to come directly after the type definition. This is to prevent doing `DEFINE FIELD f ON t FLEXIBLE` or `DEFINE FIELD f ON t TYPE object COMMENT \"asdf asdf asdf asdf\" VALUE {} FLEXIBLE`.\r\n\r\n```sql\r\nDEFINE TABLE a; -- schemaless\r\nDEFINE FIELD b ON a TYPE object; -- schemaless\r\nDEFINE FIELD d ON a TYPE array<object>; -- array of schemaless objects\r\nDEFINE FIELD e ON a TYPE array<{ a: string }>; -- array of schemafull objects\r\n\r\n---\r\n\r\nDEFINE TABLE a SCHEMAFULL;\r\nDEFINE FIELD b ON a TYPE object FLEXIBLE; -- schemaless\r\nDEFINE FIELD c ON a TYPE object; -- schemafull\r\nDEFINE FIELD d ON a TYPE array<object>; -- array of schemaful objects\r\nDEFINE FIELD e ON a TYPE array<object> FLEXIBLE; -- array of schemaless objects\r\n```\r\n\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nUpdated language tests are the primary testing strategy.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n`SURREAL_STRICT` remains, but is a noop. If it is set a warning will be issued.\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6539/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6538", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6538/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6538/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6538/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6538", "id": 3571987113, "node_id": "PR_kwDOGgbgb86wrp-e", "number": 6538, "title": "Prepare v3.0.0-alpha.12 release", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-30T18:22:17Z", "updated_at": "2025-10-30T18:47:42Z", "closed_at": "2025-10-30T18:47:25Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6538", "html_url": "https://github.com/surrealdb/surrealdb/pull/6538", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6538.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6538.patch", "merged_at": "2025-10-30T18:47:25Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6538/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6538/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6537", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6537/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6537/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6537/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6537", "id": 3570516630, "node_id": "PR_kwDOGgbgb86wmzPi", "number": 6537, "title": "[Backport] Add disk space limits and read-only/deletion-only modes for RocksDB (#6530)", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-10-30T12:17:29Z", "updated_at": "2025-10-31T17:55:57Z", "closed_at": "2025-10-31T17:55:55Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6537", "html_url": "https://github.com/surrealdb/surrealdb/pull/6537", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6537.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6537.patch", "merged_at": "2025-10-31T17:55:55Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nBackport #6530\r\n\r\n## What does this change do?\r\n\r\nBackport #6530\r\n\r\n## What is your testing strategy?\r\n\r\nGithub action. A test has been added.\r\n\r\n## Is this related to any issues?\r\n\r\nBackport #6530\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [ ] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [ ] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6537/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6537/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6536", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6536/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6536/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6536/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6536", "id": 3568661891, "node_id": "PR_kwDOGgbgb86wg19T", "number": 6536, "title": "Change future to computed in output", "user": {"login": "Dhghomon", "id": 56599343, "node_id": "MDQ6VXNlcjU2NTk5MzQz", "avatar_url": "https://avatars.githubusercontent.com/u/56599343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dhghomon", "html_url": "https://github.com/Dhghomon", "followers_url": "https://api.github.com/users/Dhghomon/followers", "following_url": "https://api.github.com/users/Dhghomon/following{/other_user}", "gists_url": "https://api.github.com/users/Dhghomon/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dhghomon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dhghomon/subscriptions", "organizations_url": "https://api.github.com/users/Dhghomon/orgs", "repos_url": "https://api.github.com/users/Dhghomon/repos", "events_url": "https://api.github.com/users/Dhghomon/events{/privacy}", "received_events_url": "https://api.github.com/users/Dhghomon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-30T02:19:04Z", "updated_at": "2025-10-30T08:57:34Z", "closed_at": "2025-10-30T08:57:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6536", "html_url": "https://github.com/surrealdb/surrealdb/pull/6536", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6536.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6536.patch", "merged_at": "2025-10-30T08:57:16Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nThe excessive depth error still uses the word 'futures'.\r\n\r\n## What does this change do?\r\n\r\nChanges it to computed values.\r\n\r\n## What is your testing strategy?\r\n\r\nChanged an existing language test.\r\n\r\n## Is this related to any issues?\r\n\r\n- [X] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n- [X] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [X] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [X] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6536/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6535", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6535/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6535/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6535/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6535", "id": 3566997315, "node_id": "PR_kwDOGgbgb86wbJma", "number": 6535, "title": "Add `Value::Set` / `Set` type.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-10-29T17:03:20Z", "updated_at": "2025-11-03T03:46:32Z", "closed_at": "2025-10-30T17:40:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6535", "html_url": "https://github.com/surrealdb/surrealdb/pull/6535", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6535.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6535.patch", "merged_at": "2025-10-30T17:40:44Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nWe have need for set functionality which we currently just use arrays for. Arrays treated as sets are very inefficient.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\n1. Adds the `surrealdb_types::Value::Set` variant, `surrealdb_types::Set` type, `surrealdb_core::val::Value::Set` variant, and `surrealdb_core::val::Set` type.\r\n    * Sets are just a `BTreeSet` under the hood. The reason for using a BTreeSet is to ensure there is consistency in how they are serialized and stored. This is especially important for usage in keys.\r\n3. Adds `set::add`, `set::complement`, `set::contains`, `set::difference`, `set::intersect`, `set::is_empty`, `set::len`, `set::remove`, and `set::union` functions.\r\n4. Adds `Set` to the cbor implementation as tag `56`.\r\n5. Updates the storekey and surrealdb-protocol crates.\r\n\r\n#### What's missing?\r\n\r\nThis PR does not have Set literals implemented. Will follow on with that functionality later.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nAdded language tests + passing CI should be sufficient.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- https://github.com/surrealdb/docs.surrealdb.com/pull/1481\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6535/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6533", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6533/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6533/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6533/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6533", "id": 3561637022, "node_id": "PR_kwDOGgbgb86wJefI", "number": 6533, "title": "SDB-16: Client-side transactions support", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-28T13:41:01Z", "updated_at": "2025-11-03T09:33:36Z", "closed_at": "2025-11-03T09:33:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6533", "html_url": "https://github.com/surrealdb/surrealdb/pull/6533", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6533.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6533.patch", "merged_at": "2025-11-03T09:33:13Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nThere has been a long-running desire to be able to execute client-side transactions from the SurrealDB SDKs.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\n1. **New RPC Methods**: Adds `begin`, `commit`, and `cancel` methods to the RPC protocol for explicit transaction lifecycle management\r\n2. **Transaction Storage**: Implements transaction storage using UUID-keyed maps in both WebSocket and Local engine contexts, allowing transactions to persist across multiple operations\r\n3. **Transaction Context**: Extends the query execution path to accept transaction UUIDs, enabling operations to execute within an existing transaction context rather than creating new ones\r\n4. **SDK Transaction API**: Enhances the SDK's `Transaction` object to act as a fully-functional database client - all standard methods (create, select, update, delete, query, etc.) can be executed within the transaction scope\r\n5. **Protocol Support**: Implements support for WebSocket and Local/embedded connections; HTTP protocol explicitly does not support client-side transactions and returns `MethodNotFound`\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nAdded SDK tests which cover this functionality.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] This will require SDK documentation.\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6533/reactions", "total_count": 4, "+1": 0, "-1": 0, "laugh": 0, "hooray": 4, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6533/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6532", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6532/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6532/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6532/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6532", "id": 3559812291, "node_id": "PR_kwDOGgbgb86wDiAw", "number": 6532, "title": "Reverse 'got' part of TableCheck to fix output", "user": {"login": "Dhghomon", "id": 56599343, "node_id": "MDQ6VXNlcjU2NTk5MzQz", "avatar_url": "https://avatars.githubusercontent.com/u/56599343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dhghomon", "html_url": "https://github.com/Dhghomon", "followers_url": "https://api.github.com/users/Dhghomon/followers", "following_url": "https://api.github.com/users/Dhghomon/following{/other_user}", "gists_url": "https://api.github.com/users/Dhghomon/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dhghomon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dhghomon/subscriptions", "organizations_url": "https://api.github.com/users/Dhghomon/orgs", "repos_url": "https://api.github.com/users/Dhghomon/repos", "events_url": "https://api.github.com/users/Dhghomon/events{/privacy}", "received_events_url": "https://api.github.com/users/Dhghomon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-28T04:58:26Z", "updated_at": "2025-11-03T09:45:48Z", "closed_at": "2025-11-03T09:45:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6532", "html_url": "https://github.com/surrealdb/surrealdb/pull/6532", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6532.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6532.patch", "merged_at": "2025-11-03T09:45:30Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nRight now the error for TYPE RELATION / NORMAL is saying the opposite of what it should say:\r\n\r\n```\r\nDEFINE TABLE p TYPE RELATION;\r\nDEFINE TABLE q TYPE NORMAL;\r\n\r\nCREATE p;\r\n-- Says it received a relation but expected a relation\r\n-- 'Found record: `p:ar2p5i5xwd7tllhwxgfq` which is a relation, but expected a  RELATION'\r\n\r\nRELATE person:one->q->person:two;\r\n-- Says it received not a relation but expected a NORMAL (not a relation)\r\n-- 'Found record: `q:t5vjt6shrazegp2dbyw1` which is not a relation, but expected a  NORMAL'\r\n```\r\n\r\n## What does this change do?\r\n\r\nTurns it around.\r\n\r\n## What is your testing strategy?\r\n\r\nThere are existing tests that unknowingly assert the existing incorrect output, so changed the assertions.\r\n\r\n## Is this related to any issues?\r\n\r\n- [X] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n- [X] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n- [X] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n- [X] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6532/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6531", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6531/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6531/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6531/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6531", "id": 3558012611, "node_id": "PR_kwDOGgbgb86v9WZW", "number": 6531, "title": "Disallow unwraps in production code.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-27T18:15:32Z", "updated_at": "2025-10-28T08:38:25Z", "closed_at": "2025-10-28T08:38:04Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6531", "html_url": "https://github.com/surrealdb/surrealdb/pull/6531", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6531.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6531.patch", "merged_at": "2025-10-28T08:38:03Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nWe have many `unwrap` calls in our production code. In almost all cases its because the statements preceding it ensured that it was impossible to panic - but not in ALL cases.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nEnalbed the Clippy lint that disallows `unwrap`s outside of tests. It is still okay to use `expect` although it should be discouraged.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nPassing CI is sufficient.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6531/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6530", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6530/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6530/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6530/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6530", "id": 3557396635, "node_id": "PR_kwDOGgbgb86v7Pvh", "number": 6530, "title": "Add disk space limits and read-only/deletion-only modes for RocksDB", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6626103502, "node_id": "LA_kwDOGgbgb88AAAABivJQzg", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/needs-documentation", "name": "needs-documentation", "color": "5319E7", "default": false, "description": "Needs documentation to be added and tracked before merge"}, {"id": 8598187846, "node_id": "LA_kwDOGgbgb88AAAACAH3vRg", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/Modifies%20env%20vars%20or%20commands", "name": "Modifies env vars or commands", "color": "e99695", "default": false, "description": "This is a PR that makes changes to environment variables and/or CLI commands"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74", "html_url": "https://github.com/surrealdb/surrealdb/milestone/74", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74/labels", "id": 14209410, "node_id": "MI_kwDOGgbgb84A2NGC", "number": 74, "title": "v2.4.0", "description": null, "creator": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2025-11-24T15:31:16Z", "updated_at": "2025-11-24T15:37:12Z", "due_on": null, "closed_at": "2025-11-24T15:37:12Z"}, "comments": 1, "created_at": "2025-10-27T15:37:18Z", "updated_at": "2025-11-24T15:38:04Z", "closed_at": "2025-10-30T09:06:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6530", "html_url": "https://github.com/surrealdb/surrealdb/pull/6530", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6530.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6530.patch", "merged_at": "2025-10-30T09:06:19Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nThe current RocksDB implementation can fail abruptly when disk space is exhausted, leading to database unavailability. This creates operational challenges where users cannot recover from disk space issues without external intervention. The change addresses this by implementing proactive space management that allows the database to continue serving read operations and enable space recovery through deletions, providing a more graceful degradation path instead of complete failure.\r\n\r\n## What does this change do?\r\n\r\nThis PR introduces an SST file manager that monitors disk space usage and implements a state machine with two operational modes:\r\n\r\n- **Normal mode**: All operations (read, write, delete) are permitted\r\n- **Read-and-deletion-only mode**: Only reads and deletes are allowed; writes are blocked\r\n\r\n**Key features:**\r\n- Configurable space limit via `SURREAL_ROCKSDB_SST_MAX_ALLOWED_SPACE_USAGE` environment variable (default: 0/unlimited)\r\n- Automatic transition to read-and-deletion-only mode when SST file space reaches the configured limit\r\n- Warning at 80% space utilization to provide early indication of approaching limits\r\n- Allows deletions even in restricted mode, enabling users to free space and recover\r\n- Automatic compaction after deletion-only transactions to reclaim space immediately\r\n- Automatic recovery to normal mode when space usage drops below the limit\r\n- Transaction-level validation that checks mode state at commit time, handling long-running transactions that span mode transitions\r\n- Replaces reactive out-of-disk error handling with proactive space management\r\n\r\n**Implementation details:**\r\n- `DiskSpaceManager` tracks SST file sizes in real-time using RocksDB's `SstFileManager` API\r\n- Disables RocksDB's built-in hard limit to allow application-level control\r\n- Transaction operations (`set`, `put`, `putc`) use `ensure_write()` which validates the mode state\r\n- Delete operations (`del`, `delc`) use `ensure_deletion()` which permits deletions in both modes\r\n- Error type changed from `DbReadOnly` to `DbReadAndDeleteOnly` with user-friendly messaging\r\n- **RocksDB version bump**: Upgrades from 10.4.2 to 10.6.2 through a forked rust-rocksdb crate, enabling access to required `SstFileManager` and `Env` APIs\r\n\r\n\r\n#### Automatic Recovery\r\n**No restart required!** When you delete enough data and the database size drops below the configured limit, the database automatically returns to normal mode and write operations resume. This happens seamlessly without any manual intervention.\r\n\r\n#### Technical Improvements\r\n- Uses RocksDB's SST File Manager API for accurate, real-time space tracking\r\n- Implements a state machine that transitions smoothly between normal and restricted modes\r\n- Centralized validation logic ensures consistent behavior across all database operations\r\n- Comprehensive test coverage for the new functionality\r\n\r\n#### User Benefits\r\n- **Avoid service disruptions**: Graceful degradation instead of hard failures\r\n- **Self-healing**: Automatic recovery when space is freed - no restarts needed\r\n- **Stay in control**: Delete data to recover without external intervention\r\n- **Early warning**: Get notified before hitting the limit\r\n- **Production-ready**: Thoroughly tested and integrated into CI\r\n\r\n## What is your testing strategy?\r\n\r\nComprehensive integration test (`read_and_deletion_only.rs`) that validates the complete state machine behavior through five phases:\r\n\r\n1. **Normal operation**: Verifies writes work before reaching the limit\r\n2. **Mode transition**: Writes data until space limit is reached and confirms write operations start failing with appropriate errors\r\n3. **Read-and-deletion-only validation**: \r\n   - Confirms new write transactions are rejected\r\n   - Verifies uncommitted transactions from before the transition are rejected on commit\r\n   - Validates read operations continue to work\r\n   - Confirms delete operations are permitted\r\n4. **Space recovery**: Deletes data to free space below the limit, triggering compaction\r\n5. **Normal mode recovery**: Verifies write operations are automatically re-enabled after space recovery\r\n\r\nThe test uses environment variables to control space limits and flush behavior, simulating realistic disk pressure scenarios with approximately 20MB of test data against a 10MB limit.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [ ] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [ ] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6530/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6529", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6529/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6529/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6529/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6529", "id": 3556665995, "node_id": "PR_kwDOGgbgb86v4v0S", "number": 6529, "title": "Simplfy RPC protocol implementation", "user": {"login": "tobiemh", "id": 1588290, "node_id": "MDQ6VXNlcjE1ODgyOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1588290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobiemh", "html_url": "https://github.com/tobiemh", "followers_url": "https://api.github.com/users/tobiemh/followers", "following_url": "https://api.github.com/users/tobiemh/following{/other_user}", "gists_url": "https://api.github.com/users/tobiemh/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobiemh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobiemh/subscriptions", "organizations_url": "https://api.github.com/users/tobiemh/orgs", "repos_url": "https://api.github.com/users/tobiemh/repos", "events_url": "https://api.github.com/users/tobiemh/events{/privacy}", "received_events_url": "https://api.github.com/users/tobiemh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-27T12:58:31Z", "updated_at": "2025-10-27T15:48:25Z", "closed_at": "2025-10-27T15:47:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6529", "html_url": "https://github.com/surrealdb/surrealdb/pull/6529", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6529.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6529.patch", "merged_at": "2025-10-27T15:47:30Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nThis PR simplifies the RPC protocol implementation by consolidating code and removing unnecessary abstractions. The current separation between `RpcContext` and `RpcProtocol` adds complexity without providing meaningful benefits, and GraphQL functionality in the RPC layer is no longer needed.\r\n\r\n## What does this change do?\r\n\r\nThis PR makes two key refactoring changes:\r\n\r\n1. **Removes GraphQL code from RPC protocol** - Cleans up GraphQL method handling from the RPC layer (removed from `context.rs`, `method.rs`, `http.rs`, and `websocket.rs`)\r\n\r\n2. **Merges `RpcContext` with `RpcProtocol`** - Consolidates the RPC protocol implementation by:\r\n   - Deleting the separate `crates/core/src/rpc/protocol/v1.rs` file (1,298 lines)\r\n   - Moving all protocol implementation directly into `crates/core/src/rpc/protocol.rs`\r\n   - Renaming `RpcContext` to `RpcProtocol` as the single trait requiring to be implemented\r\n   - Updating HTTP and WebSocket RPC handlers to use the simplified structure\r\n   - Reducing overall code by 194 net lines (1,373 deletions, 1,179 insertions)\r\n\r\nThe result is a cleaner, more maintainable RPC codebase with reduced indirection and complexity.\r\n\r\n## What is your testing strategy?\r\n\r\nThis is a pure refactoring that preserves existing functionality. Testing strategy:\r\n\r\n- Existing RPC integration tests continue to pass (HTTP and WebSocket)\r\n- All RPC methods maintain the same behavior and API surface\r\n- The change is structural/organizational only - no functional changes to RPC method implementations\r\n\r\n## Is this related to any issues?\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6529/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6527", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6527/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6527/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6527/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6527", "id": 3555106750, "node_id": "PR_kwDOGgbgb86vzZ9O", "number": 6527, "title": "Improve casting error", "user": {"login": "Dhghomon", "id": 56599343, "node_id": "MDQ6VXNlcjU2NTk5MzQz", "avatar_url": "https://avatars.githubusercontent.com/u/56599343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dhghomon", "html_url": "https://github.com/Dhghomon", "followers_url": "https://api.github.com/users/Dhghomon/followers", "following_url": "https://api.github.com/users/Dhghomon/following{/other_user}", "gists_url": "https://api.github.com/users/Dhghomon/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dhghomon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dhghomon/subscriptions", "organizations_url": "https://api.github.com/users/Dhghomon/orgs", "repos_url": "https://api.github.com/users/Dhghomon/repos", "events_url": "https://api.github.com/users/Dhghomon/events{/privacy}", "received_events_url": "https://api.github.com/users/Dhghomon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-27T05:23:16Z", "updated_at": "2025-10-28T00:04:42Z", "closed_at": "2025-10-28T00:04:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6527", "html_url": "https://github.com/surrealdb/surrealdb/pull/6527", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6527.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6527.patch", "merged_at": "2025-10-28T00:04:28Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nThe error output for a failed cast is better in 2.x than in 3.0 alpha.\r\n\r\nTake the following input:\r\n\r\n```\r\n<datetime>'2025-10-27T05:19:02_071Z';\r\n```\r\n\r\nIt is subtly wrong, and in 2.x it hints that the input might be the problem.\r\n\r\n```\r\n\"Expected a datetime but cannot convert '2025-10-27T05:19:02_071Z' into a datetime\"\r\n```\r\n\r\nCurrently, 3.0 alpha doesn't have this hint. It also implies via the \"found a\" that the original input should be a datetime, when really it expects something *that can be cast into* a datetime.\r\n\r\n```\r\nExpected a `datetime` but found a `'2025-10-27T05:19:02_071Z'`\r\n```\r\n\r\n## What does this change do?\r\n\r\nIt changes the message to this:\r\n\r\n```\r\nCould not cast into `datetime` using the input `'2025-10-27T05:19:02_071Z'`\r\n```\r\n\r\n## What is your testing strategy?\r\n\r\nModifies the language tests to expect this output.\r\n\r\n## Is this related to any issues?\r\n\r\n- [X] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n- [X] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n- [X] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [X] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6527/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6526", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6526/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6526/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6526/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6526", "id": 3552342276, "node_id": "PR_kwDOGgbgb86vqtnw", "number": 6526, "title": "Fix table serialization bug.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-25T11:14:18Z", "updated_at": "2025-10-27T10:16:12Z", "closed_at": "2025-10-27T10:15:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6526", "html_url": "https://github.com/surrealdb/surrealdb/pull/6526", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6526.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6526.patch", "merged_at": "2025-10-27T10:15:54Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nWhen table values (created using `type::table()`) were stored in the database and later retrieved, they were incorrectly serialized as strings instead of maintaining their proper `table` type. This caused type information to be lost during storage and retrieval operations, breaking type consistency for table values in the database.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nThis PR fixes the table value serialization bug by:\r\n1. Modified `convert_value_to_public_value()` in `crates/core/src/val/mod.rs` to properly convert `Value::Table` to `surrealdb_types::Value::Table` instead of converting it to a string.\r\n2. HTTP Handler Cleanup: Updated HTTP handlers (`src/net/*.rs`) to remove debug logging and simplify code paths that were working around the serialization issue.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nUpdated language tests accordingly and I ran the `surrealdb.py` integration tests from the `tobiemh/tests` branch against these changes:\r\n```\r\n> uv run pyest\r\n...\r\ntests/unit_tests/test_init_functions.py::test_blocking_meta_class_positional_arg PASSED                                               [ 98%]\r\ntests/unit_tests/test_init_functions.py::test_blocking_meta_class_keyword_arg PASSED                                                  [ 99%]\r\ntests/unit_tests/test_init_functions.py::test_blocking_meta_class_missing_url PASSED                                                  [ 99%]\r\ntests/unit_tests/test_init_functions.py::test_async_meta_class_positional_arg PASSED                                                  [ 99%]\r\ntests/unit_tests/test_init_functions.py::test_async_meta_class_keyword_arg PASSED                                                     [ 99%]\r\ntests/unit_tests/test_init_functions.py::test_async_meta_class_missing_url PASSED                                                     [100%]\r\n\r\n================================================ 495 passed, 1 xfailed in 113.75s (0:01:53) =================================================\r\n```\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6526/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6525", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6525/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6525/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6525/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6525", "id": 3549781292, "node_id": "PR_kwDOGgbgb86viKu2", "number": 6525, "title": "Add  to the js fnc module.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-24T14:32:02Z", "updated_at": "2025-10-24T14:57:12Z", "closed_at": "2025-10-24T14:56:52Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6525", "html_url": "https://github.com/surrealdb/surrealdb/pull/6525", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6525.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6525.patch", "merged_at": "2025-10-24T14:56:52Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nWe discovered that our Required checks are not actually \"required\" right now and allowed a broken test onto main.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nThis change fixes the missing `type.of` function in fnc js modules.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nPassing CI is sufficient.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6525/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6525/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6524", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6524/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6524/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6524/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6524", "id": 3549768805, "node_id": "PR_kwDOGgbgb86viH_x", "number": 6524, "title": "Ensure `required-checks` job always runs", "user": {"login": "tobiemh", "id": 1588290, "node_id": "MDQ6VXNlcjE1ODgyOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1588290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobiemh", "html_url": "https://github.com/tobiemh", "followers_url": "https://api.github.com/users/tobiemh/followers", "following_url": "https://api.github.com/users/tobiemh/following{/other_user}", "gists_url": "https://api.github.com/users/tobiemh/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobiemh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobiemh/subscriptions", "organizations_url": "https://api.github.com/users/tobiemh/orgs", "repos_url": "https://api.github.com/users/tobiemh/repos", "events_url": "https://api.github.com/users/tobiemh/events{/privacy}", "received_events_url": "https://api.github.com/users/tobiemh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-24T14:28:39Z", "updated_at": "2025-10-25T09:00:18Z", "closed_at": "2025-10-25T09:00:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6524", "html_url": "https://github.com/surrealdb/surrealdb/pull/6524", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6524.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6524.patch", "merged_at": "2025-10-25T09:00:03Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## Is this related to any issues?\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6524/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6523", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6523/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6523/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6523/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6523", "id": 3549331867, "node_id": "PR_kwDOGgbgb86vgmpg", "number": 6523, "title": "Fix cbor and add `type::of` function.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-24T12:46:52Z", "updated_at": "2025-10-27T01:47:44Z", "closed_at": "2025-10-24T13:51:40Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6523", "html_url": "https://github.com/surrealdb/surrealdb/pull/6523", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6523.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6523.patch", "merged_at": "2025-10-24T13:51:40Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nCBOR serialization for tables was not implemented and inspecting types has been challenging without a `type_of` function.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nAdds a type_of function and fixes the cbor serialization.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nAdded language tests.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- https://github.com/surrealdb/surrealdb/issues/4412\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [ ] https://github.com/surrealdb/docs.surrealdb.com/pull/1477\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [ ] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [ ] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6523/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6523/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6522", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6522/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6522/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6522/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6522", "id": 3548985003, "node_id": "PR_kwDOGgbgb86vfaUN", "number": 6522, "title": "Surrealism", "user": {"login": "kearfy", "id": 17960250, "node_id": "MDQ6VXNlcjE3OTYwMjUw", "avatar_url": "https://avatars.githubusercontent.com/u/17960250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kearfy", "html_url": "https://github.com/kearfy", "followers_url": "https://api.github.com/users/kearfy/followers", "following_url": "https://api.github.com/users/kearfy/following{/other_user}", "gists_url": "https://api.github.com/users/kearfy/gists{/gist_id}", "starred_url": "https://api.github.com/users/kearfy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kearfy/subscriptions", "organizations_url": "https://api.github.com/users/kearfy/orgs", "repos_url": "https://api.github.com/users/kearfy/repos", "events_url": "https://api.github.com/users/kearfy/events{/privacy}", "received_events_url": "https://api.github.com/users/kearfy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-24T11:28:17Z", "updated_at": "2025-11-03T16:31:43Z", "closed_at": "2025-11-03T16:31:23Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6522", "html_url": "https://github.com/surrealdb/surrealdb/pull/6522", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6522.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6522.patch", "merged_at": "2025-11-03T16:31:22Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nThis PR introduces a new feature, Surrealism. It allows you to compile arbitrary code to a surrealism bundle, using Web Assembly under the hood, which can then be ran inside a SurrealDB instance. This feature is currently very experimental and is subject to break in the near future.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nGitHub CI, code is feature flagged and under development\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [ ] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] Documentation will be introduced as this feature matures over time\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] Added a new `surrealism` experimental feature, which affects `SURREAL_CAPS_ALLOW_EXPERIMENTAL` and `SURREAL_CAPS_DENY_EXPERIMENTAL`\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6522/reactions", "total_count": 6, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 6}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6522/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6520", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6520/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6520/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6520/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6520", "id": 3545259112, "node_id": "PR_kwDOGgbgb86vS8H7", "number": 6520, "title": "Fix misc issues to fix JS SDK errors.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-23T15:34:29Z", "updated_at": "2025-10-24T10:19:57Z", "closed_at": "2025-10-24T10:19:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6520", "html_url": "https://github.com/surrealdb/surrealdb/pull/6520", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6520.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6520.patch", "merged_at": "2025-10-24T10:19:41Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nThe JS SDK tests were failing due to a variety of reasons.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\n1. Support `default` attr for `SurrealValue` derive macro. This is specifically in order to fix the export function's parameters which should allow not passing some fields and using their defaults instead.\r\n2. Fix cbor conversion fn for tag/value type Table.\r\n3. Fix export syntax of OPTION statements.\r\n4. Implement the Run RPC method.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nPassing JS SDK tests is sufficient.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6520/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6519", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6519/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6519/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6519/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6519", "id": 3544991223, "node_id": "PR_kwDOGgbgb86vSDbo", "number": 6519, "title": "Prepare SurrealDB for Java SDK v3.0 compatibility", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-23T14:37:52Z", "updated_at": "2025-10-24T19:05:40Z", "closed_at": "2025-10-24T19:05:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6519", "html_url": "https://github.com/surrealdb/surrealdb/pull/6519", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6519.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6519.patch", "merged_at": "2025-10-24T19:05:13Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nThe main motivation for this PR is to enable the Java SDK to work properly with SurrealDB 3.0 by making the core library more language-agnostic and exposing necessary APIs for external language bindings.\r\n\r\n### Key Issues Being Addressed:\r\n\r\n1. **JavaScript Feature Lock-in**: The `surrealdb-types` crate was being compiled with the `js` feature flag enabled in the core, which forced JavaScript-specific dependencies to be included even when using non-JavaScript language bindings like Java. This created unnecessary dependencies and potential conflicts for other language SDKs.\r\n\r\n2. **Missing Public API**: The `IntoVariables` trait, which is essential for implementing query variable binding in external language bindings, was not publicly exposed. This prevented the Java SDK from properly implementing variable binding functionality for parameterized queries.\r\n\r\n## What does this change do?\r\n\r\nThis PR makes two minimal but critical changes to enable Java SDK compatibility:\r\n\r\n### Change 1: Remove JavaScript feature from surrealdb-types\r\n**File**: `crates/core/Cargo.toml`\r\n- **Before**: `surrealdb-types = { workspace = true, features = [\"js\"] }`\r\n- **After**: `surrealdb-types = { workspace = true }`\r\n\r\n**Impact**: Removes the JavaScript-specific feature flag from the types dependency, making the core types crate language-agnostic. This ensures that JavaScript-specific dependencies (the `js` crate) are not forced upon other language bindings, reducing unnecessary dependencies and potential conflicts for SDKs in other languages.\r\n\r\n### Change 2: Expose IntoVariables trait publicly\r\n**File**: `crates/sdk/src/method/mod.rs`\r\n- **Before**: `pub use query::{Query, QueryStream};`\r\n- **After**: `pub use query::{IntoVariables, Query, QueryStream};`\r\n\r\n**Impact**: Makes the `IntoVariables` trait publicly accessible from the SDK's method module. This trait is essential for converting types that implement `SurrealValue` into `Variables` for query binding. By exposing it publicly, external language bindings (like the Java SDK) can now properly implement and use variable binding when executing parameterized queries.\r\n\r\n## What is your testing strategy?\r\n\r\nN/A\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6519/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6519/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6518", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6518/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6518/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6518/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6518", "id": 3544318672, "node_id": "PR_kwDOGgbgb86vPxs-", "number": 6518, "title": "Improve behavior of group by and improve performance and robustness of views.", "user": {"login": "DelSkayn", "id": 7524414, "node_id": "MDQ6VXNlcjc1MjQ0MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7524414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DelSkayn", "html_url": "https://github.com/DelSkayn", "followers_url": "https://api.github.com/users/DelSkayn/followers", "following_url": "https://api.github.com/users/DelSkayn/following{/other_user}", "gists_url": "https://api.github.com/users/DelSkayn/gists{/gist_id}", "starred_url": "https://api.github.com/users/DelSkayn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DelSkayn/subscriptions", "organizations_url": "https://api.github.com/users/DelSkayn/orgs", "repos_url": "https://api.github.com/users/DelSkayn/repos", "events_url": "https://api.github.com/users/DelSkayn/events{/privacy}", "received_events_url": "https://api.github.com/users/DelSkayn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2025-10-23T11:41:06Z", "updated_at": "2025-10-30T18:31:05Z", "closed_at": "2025-10-30T18:30:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6518", "html_url": "https://github.com/surrealdb/surrealdb/pull/6518", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6518.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6518.patch", "merged_at": "2025-10-30T18:30:49Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nCurrently `GROUP BY` select statements, both in view and the plain one, can easily break and have weird behavior or are very slow:\r\n- `SELECT math::mean(v) + 1 FROM foo GROUP ALL` does not work.\r\n- Views with a group by defined on an existing table can take a very long time to create.\r\n- `math::mean(v)` in a group by view returns a decimal while the normal function returns a float.\r\n- Some grouping select queries which do not make sense throw weird errors.\r\n- Aggregation only works if there is an aggregate function at the top level of an expression.\r\n\r\n## What does this change do?\r\n\r\nThis PR tries to improve the robustness, behavior and performance of `GROUP BY` statements, both in views and and normal selects.\r\n\r\n- Add support for aggregate functions that are not the immediate expression like `math::mean(v) + 1`.\r\n- Makes math::mean, math::stddev, math::variance return a decimal if any of the numbers that the mean was calculated over was a decimal.\r\n- Makes the aggregate versions of function behave the same as the non-aggregate version, like math mean not always returning a decimal in aggregate views.\r\n- To implement the above changes this PR implements a more generic visitor API that can also mutate expressions.\r\n- Re-implements existing visiting like operations with this visitor API\r\n- Completely overhauls the table view code to work with the new aggregation code.\r\n- Implements the initialization of the table view via a more efficient select statement.\r\n- Moves `val/record.rs` to `catalog` which seems more appropriate since it is a stored type.\r\n- Add support for aggregating expressions which aren't the argument of an aggregate function.\r\n- Adds some plumbing to support non-materialized views in the future.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nAdded a bunch of tests and adjusted old tests.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [ ] Should fix #5047\r\n- [ ] Might fix #4943\r\n\r\nI will test if this actually fixes the above issues and update linked issues accordingly.\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6518/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 2, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6518/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6516", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6516/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6516/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6516/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6516", "id": 3535085969, "node_id": "PR_kwDOGgbgb86uxNXh", "number": 6516, "title": "Add record reference and DEFINE API language tests", "user": {"login": "Dhghomon", "id": 56599343, "node_id": "MDQ6VXNlcjU2NTk5MzQz", "avatar_url": "https://avatars.githubusercontent.com/u/56599343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dhghomon", "html_url": "https://github.com/Dhghomon", "followers_url": "https://api.github.com/users/Dhghomon/followers", "following_url": "https://api.github.com/users/Dhghomon/following{/other_user}", "gists_url": "https://api.github.com/users/Dhghomon/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dhghomon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dhghomon/subscriptions", "organizations_url": "https://api.github.com/users/Dhghomon/orgs", "repos_url": "https://api.github.com/users/Dhghomon/repos", "events_url": "https://api.github.com/users/Dhghomon/events{/privacy}", "received_events_url": "https://api.github.com/users/Dhghomon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-21T06:24:15Z", "updated_at": "2025-10-31T14:57:45Z", "closed_at": "2025-10-31T14:57:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6516", "html_url": "https://github.com/surrealdb/surrealdb/pull/6516", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6516.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6516.patch", "merged_at": "2025-10-31T14:57:07Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nAdding tests to assert record reference and DEFINE API behaviour.\r\n\r\n## What does this change do?\r\n\r\nAdds tests.\r\n\r\n## What is your testing strategy?\r\n\r\nThese tests\r\n\r\n## Is this related to any issues?\r\n\r\n- [X] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n- [X] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n- [X] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n- [X] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6516/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6516/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6514", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6514/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6514/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6514/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6514", "id": 3533617751, "node_id": "PR_kwDOGgbgb86usdBX", "number": 6514, "title": "Do not return error if there are no results in info RPC.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-20T19:14:53Z", "updated_at": "2025-10-20T19:37:13Z", "closed_at": "2025-10-20T19:36:26Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6514", "html_url": "https://github.com/surrealdb/surrealdb/pull/6514", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6514.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6514.patch", "merged_at": "2025-10-20T19:36:26Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nI am working through getting the python SDK tests working again. I looked at the 2.3 implementation and it actually did not error if there were no results, it just returned None.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nMakes the info RPC no longer return an error if there are no results.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nThis gets the python tests passing:\r\n```\r\nuv run pytest -x\r\n========================================================== test session starts ===========================================================\r\nplatform darwin -- Python 3.13.5, pytest-8.4.1, pluggy-1.6.0 -- /Users/stu/dev/ssttuu/surrealdb.py/.venv/bin/python\r\ncachedir: .pytest_cache\r\nhypothesis profile 'default'\r\nrootdir: /Users/stu/dev/ssttuu/surrealdb.py\r\nconfigfile: pyproject.toml\r\ntestpaths: tests\r\nplugins: asyncio-1.1.0, cov-6.2.1, hypothesis-6.135.32\r\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\r\ncollected 306 items                                                                                                                      \r\n\r\ntests/unit_tests/connections/authenticate/test_async_ws.py::test_authenticate PASSED                                               [  0%]\r\ntests/unit_tests/connections/batch_async/test_async_ws.py::test_batch PASSED                                                       [  0%]\r\ntests/unit_tests/connections/create/test_async_http.py::test_create_string PASSED                                                  [  0%]\r\ntests/unit_tests/connections/create/test_async_http.py::test_create_string_with_data PASSED                                        [  1%]\r\ntests/unit_tests/connections/create/test_async_http.py::test_create_string_with_data_and_id PASSED                                 [  1%]\r\ntests/unit_tests/connections/create/test_async_http.py::test_create_record_id PASSED                                               [  1%]\r\ntests/unit_tests/connections/create/test_async_http.py::test_create_record_id_with_data PASSED                                     [  2%]\r\ntests/unit_tests/connections/create/test_async_http.py::test_create_table PASSED                                                   [  2%]\r\ntests/unit_tests/connections/create/test_async_http.py::test_create_table_with_data PASSED                                         [  2%]\r\ntests/unit_tests/connections/create/test_async_ws.py::test_create_string PASSED                                                    [  3%]\r\ntests/unit_tests/connections/create/test_async_ws.py::test_create_string_with_data PASSED                                          [  3%]\r\ntests/unit_tests/connections/create/test_async_ws.py::test_create_string_with_data_and_id PASSED                                   [  3%]\r\ntests/unit_tests/connections/create/test_async_ws.py::test_create_record_id PASSED                                                 [  4%]\r\ntests/unit_tests/connections/create/test_async_ws.py::test_create_record_id_with_data PASSED                                       [  4%]\r\ntests/unit_tests/connections/create/test_async_ws.py::test_create_table PASSED                                                     [  4%]\r\ntests/unit_tests/connections/create/test_async_ws.py::test_create_table_with_data PASSED                                           [  5%]\r\ntests/unit_tests/connections/create/test_blocking_http.py::test_create_string PASSED                                               [  5%]\r\ntests/unit_tests/connections/create/test_blocking_http.py::test_create_string_with_data PASSED                                     [  5%]\r\ntests/unit_tests/connections/create/test_blocking_http.py::test_create_string_with_data_and_id PASSED                              [  6%]\r\ntests/unit_tests/connections/create/test_blocking_http.py::test_create_record_id PASSED                                            [  6%]\r\ntests/unit_tests/connections/create/test_blocking_http.py::test_create_record_id_with_data PASSED                                  [  6%]\r\ntests/unit_tests/connections/create/test_blocking_http.py::test_create_table PASSED                                                [  7%]\r\ntests/unit_tests/connections/create/test_blocking_http.py::test_create_table_with_data PASSED                                      [  7%]\r\ntests/unit_tests/connections/create/test_blocking_ws.py::test_create_string PASSED                                                 [  7%]\r\ntests/unit_tests/connections/create/test_blocking_ws.py::test_create_string_with_data PASSED                                       [  8%]\r\ntests/unit_tests/connections/create/test_blocking_ws.py::test_create_string_with_data_and_id PASSED                                [  8%]\r\ntests/unit_tests/connections/create/test_blocking_ws.py::test_create_record_id PASSED                                              [  8%]\r\ntests/unit_tests/connections/create/test_blocking_ws.py::test_create_record_id_with_data PASSED                                    [  9%]\r\ntests/unit_tests/connections/create/test_blocking_ws.py::test_create_table PASSED                                                  [  9%]\r\ntests/unit_tests/connections/create/test_blocking_ws.py::test_create_table_with_data PASSED                                        [  9%]\r\ntests/unit_tests/connections/delete/test_async_http.py::test_delete_string PASSED                                                  [ 10%]\r\ntests/unit_tests/connections/delete/test_async_http.py::test_delete_record_id PASSED                                               [ 10%]\r\ntests/unit_tests/connections/delete/test_async_http.py::test_delete_table PASSED                                                   [ 10%]\r\ntests/unit_tests/connections/delete/test_async_ws.py::test_delete_string PASSED                                                    [ 11%]\r\ntests/unit_tests/connections/delete/test_async_ws.py::test_delete_record_id PASSED                                                 [ 11%]\r\ntests/unit_tests/connections/delete/test_async_ws.py::test_delete_table PASSED                                                     [ 11%]\r\ntests/unit_tests/connections/delete/test_blocking_http.py::test_debug_delete PASSED                                                [ 12%]\r\ntests/unit_tests/connections/delete/test_blocking_http.py::test_delete_string PASSED                                               [ 12%]\r\ntests/unit_tests/connections/delete/test_blocking_http.py::test_delete_record_id PASSED                                            [ 12%]\r\ntests/unit_tests/connections/delete/test_blocking_http.py::test_delete_table PASSED                                                [ 13%]\r\ntests/unit_tests/connections/delete/test_blocking_ws.py::test_delete_string PASSED                                                 [ 13%]\r\ntests/unit_tests/connections/delete/test_blocking_ws.py::test_delete_record_id PASSED                                              [ 13%]\r\ntests/unit_tests/connections/delete/test_blocking_ws.py::test_delete_table PASSED                                                  [ 14%]\r\ntests/unit_tests/connections/info/test_async_http.py::test_info PASSED                                                             [ 14%]\r\ntests/unit_tests/connections/info/test_async_ws.py::test_info PASSED                                                               [ 14%]\r\ntests/unit_tests/connections/info/test_block_ws.py::test_info PASSED                                                               [ 15%]\r\ntests/unit_tests/connections/info/test_blocking_http.py::test_info PASSED                                                          [ 15%]\r\ntests/unit_tests/connections/insert/test_async_http.py::test_insert_string_with_data PASSED                                        [ 15%]\r\ntests/unit_tests/connections/insert/test_async_http.py::test_insert_record_id_result_error PASSED                                  [ 16%]\r\ntests/unit_tests/connections/insert/test_async_ws.py::test_insert_string_with_data PASSED                                          [ 16%]\r\ntests/unit_tests/connections/insert/test_async_ws.py::test_insert_record_id_result_error PASSED                                    [ 16%]\r\ntests/unit_tests/connections/insert/test_blocking_http.py::test_insert_string_with_data PASSED                                     [ 16%]\r\ntests/unit_tests/connections/insert/test_blocking_http.py::test_insert_record_id_result_error PASSED                               [ 17%]\r\ntests/unit_tests/connections/insert/test_blocking_ws.py::test_insert_string_with_data PASSED                                       [ 17%]\r\ntests/unit_tests/connections/insert/test_blocking_ws.py::test_insert_record_id_result_error PASSED                                 [ 17%]\r\ntests/unit_tests/connections/insert_relation/test_async_http.py::test_insert_relation_record_ids PASSED                            [ 18%]\r\ntests/unit_tests/connections/insert_relation/test_async_http.py::test_insert_relation_record_id PASSED                             [ 18%]\r\ntests/unit_tests/connections/insert_relation/test_async_ws.py::test_insert_relation_record_ids PASSED                              [ 18%]\r\ntests/unit_tests/connections/insert_relation/test_async_ws.py::test_insert_relation_record_id PASSED                               [ 19%]\r\ntests/unit_tests/connections/insert_relation/test_blocking_http.py::test_insert_relation_record_ids PASSED                         [ 19%]\r\ntests/unit_tests/connections/insert_relation/test_blocking_http.py::test_insert_relation_record_id PASSED                          [ 19%]\r\ntests/unit_tests/connections/insert_relation/test_blocking_ws.py::test_insert_relation_record_ids PASSED                           [ 20%]\r\ntests/unit_tests/connections/insert_relation/test_blocking_ws.py::test_insert_relation_record_id PASSED                            [ 20%]\r\ntests/unit_tests/connections/invalidate/test_async_http.py::test_invalidate_with_guest_mode_on PASSED                              [ 20%]\r\ntests/unit_tests/connections/invalidate/test_async_http.py::test_invalidate_test_for_no_guest_mode PASSED                          [ 21%]\r\ntests/unit_tests/connections/invalidate/test_async_ws.py::test_invalidate_with_guest_mode_on PASSED                                [ 21%]\r\ntests/unit_tests/connections/invalidate/test_async_ws.py::test_invalidate_test_for_no_guest_mode PASSED                            [ 21%]\r\ntests/unit_tests/connections/invalidate/test_blocking_http.py::test_invalidate_test_for_no_guest_mode PASSED                       [ 22%]\r\ntests/unit_tests/connections/invalidate/test_blocking_http.py::test_invalidate_with_guest_mode_on PASSED                           [ 22%]\r\ntests/unit_tests/connections/invalidate/test_blocking_ws.py::test_invalidate_with_guest_mode_on PASSED                             [ 22%]\r\ntests/unit_tests/connections/invalidate/test_blocking_ws.py::test_invalidate_test_for_no_guest_mode PASSED                         [ 23%]\r\ntests/unit_tests/connections/let/test_async_http.py::test_let PASSED                                                               [ 23%]\r\ntests/unit_tests/connections/let/test_async_ws.py::test_let PASSED                                                                 [ 23%]\r\ntests/unit_tests/connections/let/test_blocking_http.py::test_let PASSED                                                            [ 24%]\r\ntests/unit_tests/connections/let/test_blocking_ws.py::test_let PASSED                                                              [ 24%]\r\ntests/unit_tests/connections/live/test_async_http.py::test_query XFAIL (live method not implemented for HTTP connections)          [ 24%]\r\ntests/unit_tests/connections/live/test_async_ws.py::test_query PASSED                                                              [ 25%]\r\ntests/unit_tests/connections/live/test_blocking_ws.py::test_query PASSED                                                           [ 25%]\r\ntests/unit_tests/connections/merge/test_async_http.py::test_merge_string PASSED                                                    [ 25%]\r\ntests/unit_tests/connections/merge/test_async_http.py::test_merge_string_with_data PASSED                                          [ 26%]\r\ntests/unit_tests/connections/merge/test_async_http.py::test_merge_record_id PASSED                                                 [ 26%]\r\ntests/unit_tests/connections/merge/test_async_http.py::test_merge_record_id_with_data PASSED                                       [ 26%]\r\ntests/unit_tests/connections/merge/test_async_http.py::test_merge_table PASSED                                                     [ 27%]\r\ntests/unit_tests/connections/merge/test_async_http.py::test_merge_table_with_data PASSED                                           [ 27%]\r\ntests/unit_tests/connections/merge/test_async_ws.py::test_merge_string PASSED                                                      [ 27%]\r\ntests/unit_tests/connections/merge/test_async_ws.py::test_merge_string_with_data PASSED                                            [ 28%]\r\ntests/unit_tests/connections/merge/test_async_ws.py::test_merge_record_id PASSED                                                   [ 28%]\r\ntests/unit_tests/connections/merge/test_async_ws.py::test_merge_record_id_with_data PASSED                                         [ 28%]\r\ntests/unit_tests/connections/merge/test_async_ws.py::test_merge_table PASSED                                                       [ 29%]\r\ntests/unit_tests/connections/merge/test_async_ws.py::test_merge_table_with_data PASSED                                             [ 29%]\r\ntests/unit_tests/connections/merge/test_blocking_http.py::test_merge_string PASSED                                                 [ 29%]\r\ntests/unit_tests/connections/merge/test_blocking_http.py::test_merge_string_with_data PASSED                                       [ 30%]\r\ntests/unit_tests/connections/merge/test_blocking_http.py::test_merge_record_id PASSED                                              [ 30%]\r\ntests/unit_tests/connections/merge/test_blocking_http.py::test_merge_record_id_with_data PASSED                                    [ 30%]\r\ntests/unit_tests/connections/merge/test_blocking_http.py::test_merge_table PASSED                                                  [ 31%]\r\ntests/unit_tests/connections/merge/test_blocking_http.py::test_merge_table_with_data PASSED                                        [ 31%]\r\ntests/unit_tests/connections/merge/test_blocking_ws.py::test_merge_string PASSED                                                   [ 31%]\r\ntests/unit_tests/connections/merge/test_blocking_ws.py::test_merge_string_with_data PASSED                                         [ 32%]\r\ntests/unit_tests/connections/merge/test_blocking_ws.py::test_merge_record_id PASSED                                                [ 32%]\r\ntests/unit_tests/connections/merge/test_blocking_ws.py::test_merge_record_id_with_data PASSED                                      [ 32%]\r\ntests/unit_tests/connections/merge/test_blocking_ws.py::test_merge_table PASSED                                                    [ 33%]\r\ntests/unit_tests/connections/merge/test_blocking_ws.py::test_merge_table_with_data PASSED                                          [ 33%]\r\ntests/unit_tests/connections/patch/test_async_http.py::test_patch_string_with_data PASSED                                          [ 33%]\r\ntests/unit_tests/connections/patch/test_async_http.py::test_patch_record_id_with_data PASSED                                       [ 33%]\r\ntests/unit_tests/connections/patch/test_async_http.py::test_patch_table_with_data PASSED                                           [ 34%]\r\ntests/unit_tests/connections/patch/test_async_ws.py::test_patch_string_with_data PASSED                                            [ 34%]\r\ntests/unit_tests/connections/patch/test_async_ws.py::test_patch_record_id_with_data PASSED                                         [ 34%]\r\ntests/unit_tests/connections/patch/test_async_ws.py::test_patch_table_with_data PASSED                                             [ 35%]\r\ntests/unit_tests/connections/patch/test_blocking_http.py::test_patch_string_with_data PASSED                                       [ 35%]\r\ntests/unit_tests/connections/patch/test_blocking_http.py::test_patch_record_id_with_data PASSED                                    [ 35%]\r\ntests/unit_tests/connections/patch/test_blocking_http.py::test_patch_table_with_data PASSED                                        [ 36%]\r\ntests/unit_tests/connections/patch/test_blocking_ws.py::test_patch_string_with_data PASSED                                         [ 36%]\r\ntests/unit_tests/connections/patch/test_blocking_ws.py::test_patch_record_id_with_data PASSED                                      [ 36%]\r\ntests/unit_tests/connections/patch/test_blocking_ws.py::test_patch_table_with_data PASSED                                          [ 37%]\r\ntests/unit_tests/connections/query/test_async_http.py::test_query PASSED                                                           [ 37%]\r\ntests/unit_tests/connections/query/test_async_ws.py::test_query PASSED                                                             [ 37%]\r\ntests/unit_tests/connections/query/test_blocking_http.py::test_query PASSED                                                        [ 38%]\r\ntests/unit_tests/connections/query/test_blocking_ws.py::test_query PASSED                                                          [ 38%]\r\ntests/unit_tests/connections/select/test_async_http.py::test_select PASSED                                                         [ 38%]\r\ntests/unit_tests/connections/select/test_async_ws.py::test_select PASSED                                                           [ 39%]\r\ntests/unit_tests/connections/select/test_blocking_http.py::test_select PASSED                                                      [ 39%]\r\ntests/unit_tests/connections/select/test_blocking_ws.py::test_select PASSED                                                        [ 39%]\r\ntests/unit_tests/connections/signin/test_async_http.py::test_signin_root PASSED                                                    [ 40%]\r\ntests/unit_tests/connections/signin/test_async_http.py::test_signin_namespace PASSED                                               [ 40%]\r\ntests/unit_tests/connections/signin/test_async_http.py::test_signin_database PASSED                                                [ 40%]\r\ntests/unit_tests/connections/signin/test_async_http.py::test_signin_record PASSED                                                  [ 41%]\r\ntests/unit_tests/connections/signin/test_async_ws.py::test_signin_root PASSED                                                      [ 41%]\r\ntests/unit_tests/connections/signin/test_async_ws.py::test_signin_namespace PASSED                                                 [ 41%]\r\ntests/unit_tests/connections/signin/test_async_ws.py::test_signin_database PASSED                                                  [ 42%]\r\ntests/unit_tests/connections/signin/test_async_ws.py::test_signin_record PASSED                                                    [ 42%]\r\ntests/unit_tests/connections/signin/test_blocking_http.py::test_signin_root PASSED                                                 [ 42%]\r\ntests/unit_tests/connections/signin/test_blocking_http.py::test_signin_namespace PASSED                                            [ 43%]\r\ntests/unit_tests/connections/signin/test_blocking_http.py::test_signin_database PASSED                                             [ 43%]\r\ntests/unit_tests/connections/signin/test_blocking_http.py::test_signin_record PASSED                                               [ 43%]\r\ntests/unit_tests/connections/signin/test_blocking_ws.py::test_signin_root PASSED                                                   [ 44%]\r\ntests/unit_tests/connections/signin/test_blocking_ws.py::test_signin_namespace PASSED                                              [ 44%]\r\ntests/unit_tests/connections/signin/test_blocking_ws.py::test_signin_database PASSED                                               [ 44%]\r\ntests/unit_tests/connections/signin/test_blocking_ws.py::test_signin_record PASSED                                                 [ 45%]\r\ntests/unit_tests/connections/signup/test_async_http.py::test_signup PASSED                                                         [ 45%]\r\ntests/unit_tests/connections/signup/test_async_ws.py::test_signup PASSED                                                           [ 45%]\r\ntests/unit_tests/connections/signup/test_blocking_http.py::test_signup PASSED                                                      [ 46%]\r\ntests/unit_tests/connections/signup/test_blocking_ws.py::test_signup PASSED                                                        [ 46%]\r\ntests/unit_tests/connections/subscribe_live/test_async_ws.py::test_live_subscription PASSED                                        [ 46%]\r\ntests/unit_tests/connections/subscribe_live/test_blocking_ws.py::test_live_subscription PASSED                                     [ 47%]\r\ntests/unit_tests/connections/test_connection_constructor.py::test_blocking___init__ PASSED                                         [ 47%]\r\ntests/unit_tests/connections/test_connection_constructor.py::test_async___init__ PASSED                                            [ 47%]\r\ntests/unit_tests/connections/test_url.py::test_url_init PASSED                                                                     [ 48%]\r\ntests/unit_tests/connections/unset/test_async_http.py::test_unset PASSED                                                           [ 48%]\r\ntests/unit_tests/connections/unset/test_async_ws.py::test_unset PASSED                                                             [ 48%]\r\ntests/unit_tests/connections/unset/test_blocking_http.py::test_unset PASSED                                                        [ 49%]\r\ntests/unit_tests/connections/unset/test_blocking_ws.py::test_unset PASSED                                                          [ 49%]\r\ntests/unit_tests/connections/update/test_async_http.py::test_update_string PASSED                                                  [ 49%]\r\ntests/unit_tests/connections/update/test_async_http.py::test_update_string_with_data PASSED                                        [ 50%]\r\ntests/unit_tests/connections/update/test_async_http.py::test_update_record_id PASSED                                               [ 50%]\r\ntests/unit_tests/connections/update/test_async_http.py::test_update_record_id_with_data PASSED                                     [ 50%]\r\ntests/unit_tests/connections/update/test_async_http.py::test_update_table PASSED                                                   [ 50%]\r\ntests/unit_tests/connections/update/test_async_http.py::test_update_table_with_data PASSED                                         [ 51%]\r\ntests/unit_tests/connections/update/test_async_ws.py::test_update_string PASSED                                                    [ 51%]\r\ntests/unit_tests/connections/update/test_async_ws.py::test_update_string_with_data PASSED                                          [ 51%]\r\ntests/unit_tests/connections/update/test_async_ws.py::test_update_record_id PASSED                                                 [ 52%]\r\ntests/unit_tests/connections/update/test_async_ws.py::test_update_record_id_with_data PASSED                                       [ 52%]\r\ntests/unit_tests/connections/update/test_async_ws.py::test_update_table PASSED                                                     [ 52%]\r\ntests/unit_tests/connections/update/test_async_ws.py::test_update_table_with_data PASSED                                           [ 53%]\r\ntests/unit_tests/connections/update/test_blocking_http.py::test_update_string PASSED                                               [ 53%]\r\ntests/unit_tests/connections/update/test_blocking_http.py::test_update_string_with_data PASSED                                     [ 53%]\r\ntests/unit_tests/connections/update/test_blocking_http.py::test_update_record_id PASSED                                            [ 54%]\r\ntests/unit_tests/connections/update/test_blocking_http.py::test_update_record_id_with_data PASSED                                  [ 54%]\r\ntests/unit_tests/connections/update/test_blocking_http.py::test_update_table PASSED                                                [ 54%]\r\ntests/unit_tests/connections/update/test_blocking_http.py::test_update_table_with_data PASSED                                      [ 55%]\r\ntests/unit_tests/connections/update/test_blocking_ws.py::test_update_string PASSED                                                 [ 55%]\r\ntests/unit_tests/connections/update/test_blocking_ws.py::test_update_string_with_data PASSED                                       [ 55%]\r\ntests/unit_tests/connections/update/test_blocking_ws.py::test_update_record_id PASSED                                              [ 56%]\r\ntests/unit_tests/connections/update/test_blocking_ws.py::test_update_record_id_with_data PASSED                                    [ 56%]\r\ntests/unit_tests/connections/update/test_blocking_ws.py::test_update_table PASSED                                                  [ 56%]\r\ntests/unit_tests/connections/update/test_blocking_ws.py::test_update_table_with_data PASSED                                        [ 57%]\r\ntests/unit_tests/connections/upsert/test_async_http.py::test_upsert_string PASSED                                                  [ 57%]\r\ntests/unit_tests/connections/upsert/test_async_http.py::test_upsert_string_with_data PASSED                                        [ 57%]\r\ntests/unit_tests/connections/upsert/test_async_http.py::test_upsert_record_id PASSED                                               [ 58%]\r\ntests/unit_tests/connections/upsert/test_async_http.py::test_upsert_record_id_with_data PASSED                                     [ 58%]\r\ntests/unit_tests/connections/upsert/test_async_http.py::test_upsert_table PASSED                                                   [ 58%]\r\ntests/unit_tests/connections/upsert/test_async_http.py::test_upsert_table_with_data PASSED                                         [ 59%]\r\ntests/unit_tests/connections/upsert/test_async_ws.py::test_upsert_string PASSED                                                    [ 59%]\r\ntests/unit_tests/connections/upsert/test_async_ws.py::test_upsert_string_with_data PASSED                                          [ 59%]\r\ntests/unit_tests/connections/upsert/test_async_ws.py::test_upsert_record_id PASSED                                                 [ 60%]\r\ntests/unit_tests/connections/upsert/test_async_ws.py::test_upsert_record_id_with_data PASSED                                       [ 60%]\r\ntests/unit_tests/connections/upsert/test_async_ws.py::test_upsert_table PASSED                                                     [ 60%]\r\ntests/unit_tests/connections/upsert/test_async_ws.py::test_upsert_table_with_data PASSED                                           [ 61%]\r\ntests/unit_tests/connections/upsert/test_blocking_http.py::test_upsert_string PASSED                                               [ 61%]\r\ntests/unit_tests/connections/upsert/test_blocking_http.py::test_upsert_string_with_data PASSED                                     [ 61%]\r\ntests/unit_tests/connections/upsert/test_blocking_http.py::test_upsert_record_id PASSED                                            [ 62%]\r\ntests/unit_tests/connections/upsert/test_blocking_http.py::test_upsert_record_id_with_data PASSED                                  [ 62%]\r\ntests/unit_tests/connections/upsert/test_blocking_http.py::test_upsert_table PASSED                                                [ 62%]\r\ntests/unit_tests/connections/upsert/test_blocking_http.py::test_upsert_table_with_data PASSED                                      [ 63%]\r\ntests/unit_tests/connections/upsert/test_blocking_ws.py::test_upsert_string PASSED                                                 [ 63%]\r\ntests/unit_tests/connections/upsert/test_blocking_ws.py::test_upsert_string_with_data PASSED                                       [ 63%]\r\ntests/unit_tests/connections/upsert/test_blocking_ws.py::test_upsert_record_id PASSED                                              [ 64%]\r\ntests/unit_tests/connections/upsert/test_blocking_ws.py::test_upsert_record_id_with_data PASSED                                    [ 64%]\r\ntests/unit_tests/connections/upsert/test_blocking_ws.py::test_upsert_table PASSED                                                  [ 64%]\r\ntests/unit_tests/connections/upsert/test_blocking_ws.py::test_upsert_table_with_data PASSED                                        [ 65%]\r\ntests/unit_tests/connections/version/test_async_http.py::test_version PASSED                                                       [ 65%]\r\ntests/unit_tests/connections/version/test_async_ws.py::test_version PASSED                                                         [ 65%]\r\ntests/unit_tests/connections/version/test_blocking_http.py::test_version PASSED                                                    [ 66%]\r\ntests/unit_tests/connections/version/test_blocking_ws.py::test_version PASSED                                                      [ 66%]\r\ntests/unit_tests/data_types/test_cbor_property.py::test_cbor_roundtrip_int PASSED                                                  [ 66%]\r\ntests/unit_tests/data_types/test_cbor_property.py::test_cbor_roundtrip_float PASSED                                                [ 66%]\r\ntests/unit_tests/data_types/test_cbor_property.py::test_cbor_roundtrip_str PASSED                                                  [ 67%]\r\ntests/unit_tests/data_types/test_cbor_property.py::test_cbor_roundtrip_bool PASSED                                                 [ 67%]\r\ntests/unit_tests/data_types/test_cbor_property.py::test_cbor_roundtrip_none PASSED                                                 [ 67%]\r\ntests/unit_tests/data_types/test_cbor_property.py::test_cbor_roundtrip_list PASSED                                                 [ 68%]\r\ntests/unit_tests/data_types/test_cbor_property.py::test_cbor_roundtrip_dict PASSED                                                 [ 68%]\r\ntests/unit_tests/data_types/test_cbor_property.py::test_cbor_roundtrip_nested PASSED                                               [ 68%]\r\ntests/unit_tests/data_types/test_cbor_property.py::test_cbor_roundtrip_empty_list PASSED                                           [ 69%]\r\ntests/unit_tests/data_types/test_cbor_property.py::test_cbor_roundtrip_empty_dict PASSED                                           [ 69%]\r\ntests/unit_tests/data_types/test_datetimes.py::test_native_datetime PASSED                                                         [ 69%]\r\ntests/unit_tests/data_types/test_datetimes.py::test_datetime_iso_format PASSED                                                     [ 70%]\r\ntests/unit_tests/data_types/test_decimal.py::test_dec_literal PASSED                                                               [ 70%]\r\ntests/unit_tests/data_types/test_decimal.py::test_float_parameter PASSED                                                           [ 70%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_init PASSED                                                            [ 71%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_parse_int PASSED                                                       [ 71%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_parse_str_seconds PASSED                                               [ 71%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_parse_str_minutes PASSED                                               [ 72%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_parse_str_hours PASSED                                                 [ 72%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_parse_str_days PASSED                                                  [ 72%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_parse_str_weeks PASSED                                                 [ 73%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_parse_str_milliseconds PASSED                                          [ 73%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_parse_str_microseconds PASSED                                          [ 73%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_parse_str_nanoseconds PASSED                                           [ 74%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_parse_invalid_unit PASSED                                              [ 74%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_parse_invalid_type PASSED                                              [ 74%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_parse_with_nanoseconds PASSED                                          [ 75%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_get_seconds_and_nano PASSED                                            [ 75%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_equality PASSED                                                        [ 75%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_properties PASSED                                                      [ 76%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_to_string PASSED                                                       [ 76%]\r\ntests/unit_tests/data_types/test_duration.py::test_duration_to_compact PASSED                                                      [ 76%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_point_class_methods PASSED                                             [ 77%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_point_db_insert_and_retrieve PASSED                                    [ 77%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_point_db_insert_and_retrieve_as_python_object PASSED                   [ 77%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_point_mixed_coordinates PASSED                                         [ 78%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_line_class_methods PASSED                                              [ 78%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_line_db_insert_and_retrieve PASSED                                     [ 78%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_line_db_insert_and_retrieve_as_python_object PASSED                    [ 79%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_polygon_class_methods PASSED                                           [ 79%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_polygon_db_insert_and_retrieve PASSED                                  [ 79%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_multipoint_class_methods PASSED                                        [ 80%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_multipoint_db_insert_and_retrieve PASSED                               [ 80%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_multipoint_db_insert_and_retrieve_as_python_object PASSED              [ 80%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_multiline_class_methods PASSED                                         [ 81%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_multiline_db_insert_and_retrieve PASSED                                [ 81%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_multiline_db_insert_and_retrieve_as_python_object PASSED               [ 81%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_multipolygon_class_methods PASSED                                      [ 82%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_multipolygon_db_insert_and_retrieve PASSED                             [ 82%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_collection_class_methods PASSED                                        [ 82%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_collection_db_insert_and_retrieve PASSED                               [ 83%]\r\ntests/unit_tests/data_types/test_geometry.py::test_geometry_collection_db_insert_and_retrieve_as_python_object PASSED              [ 83%]\r\ntests/unit_tests/data_types/test_none.py::test_none PASSED                                                                         [ 83%]\r\ntests/unit_tests/data_types/test_none.py::test_none_with_query PASSED                                                              [ 83%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_use_pass PASSED                                                 [ 84%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_use_fail PASSED                                                 [ 84%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_info_pass PASSED                                                [ 84%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_version_pass PASSED                                             [ 85%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_signin_pass_root PASSED                                         [ 85%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_signin_pass_root_with_none PASSED                               [ 85%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_signin_pass_account PASSED                                      [ 86%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_authenticate_pass PASSED                                        [ 86%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_invalidate_pass PASSED                                          [ 86%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_let_pass PASSED                                                 [ 87%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_unset_pass PASSED                                               [ 87%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_live_pass PASSED                                                [ 87%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_kill_pass PASSED                                                [ 88%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_query_pass PASSED                                               [ 88%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_create_pass_params PASSED                                       [ 88%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_insert_pass_dict PASSED                                         [ 89%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_insert_pass_list PASSED                                         [ 89%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_patch_pass PASSED                                               [ 89%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_select_pass PASSED                                              [ 90%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_update_pass PASSED                                              [ 90%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_upsert_pass PASSED                                              [ 90%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_merge_pass PASSED                                               [ 91%]\r\ntests/unit_tests/request_message/descriptors/test_cbor_ws.py::test_delete_pass PASSED                                              [ 91%]\r\ntests/unit_tests/request_message/test_adapter.py::test_sql_adapter_from_docstring PASSED                                           [ 91%]\r\ntests/unit_tests/request_message/test_adapter.py::test_sql_adapter_from_list PASSED                                                [ 92%]\r\ntests/unit_tests/request_message/test_adapter.py::test_sql_adapter_from_file PASSED                                                [ 92%]\r\ntests/unit_tests/request_message/test_request_message.py::test_request_message_init PASSED                                         [ 92%]\r\ntests/unit_tests/test_deprecated_cbor_modules.py::test_deprecated_decoder_module PASSED                                            [ 93%]\r\ntests/unit_tests/test_deprecated_cbor_modules.py::test_deprecated_encoder_module PASSED                                            [ 93%]\r\ntests/unit_tests/test_deprecated_cbor_modules.py::test_deprecated_types_module PASSED                                              [ 93%]\r\ntests/unit_tests/test_errors.py::test_surrealdb_method_error_init PASSED                                                           [ 94%]\r\ntests/unit_tests/test_errors.py::test_surrealdb_method_error_str PASSED                                                            [ 94%]\r\ntests/unit_tests/test_errors.py::test_surrealdb_method_error_inheritance PASSED                                                    [ 94%]\r\ntests/unit_tests/test_init_functions.py::test_surreal_http PASSED                                                                  [ 95%]\r\ntests/unit_tests/test_init_functions.py::test_surreal_https PASSED                                                                 [ 95%]\r\ntests/unit_tests/test_init_functions.py::test_surreal_ws PASSED                                                                    [ 95%]\r\ntests/unit_tests/test_init_functions.py::test_surreal_wss PASSED                                                                   [ 96%]\r\ntests/unit_tests/test_init_functions.py::test_surreal_invalid_protocol PASSED                                                      [ 96%]\r\ntests/unit_tests/test_init_functions.py::test_async_surreal_http PASSED                                                            [ 96%]\r\ntests/unit_tests/test_init_functions.py::test_async_surreal_https PASSED                                                           [ 97%]\r\ntests/unit_tests/test_init_functions.py::test_async_surreal_ws PASSED                                                              [ 97%]\r\ntests/unit_tests/test_init_functions.py::test_async_surreal_wss PASSED                                                             [ 97%]\r\ntests/unit_tests/test_init_functions.py::test_async_surreal_invalid_protocol PASSED                                                [ 98%]\r\ntests/unit_tests/test_init_functions.py::test_blocking_meta_class_positional_arg PASSED                                            [ 98%]\r\ntests/unit_tests/test_init_functions.py::test_blocking_meta_class_keyword_arg PASSED                                               [ 98%]\r\ntests/unit_tests/test_init_functions.py::test_blocking_meta_class_missing_url PASSED                                               [ 99%]\r\ntests/unit_tests/test_init_functions.py::test_async_meta_class_positional_arg PASSED                                               [ 99%]\r\ntests/unit_tests/test_init_functions.py::test_async_meta_class_keyword_arg PASSED                                                  [ 99%]\r\ntests/unit_tests/test_init_functions.py::test_async_meta_class_missing_url PASSED                                                  [100%]\r\n\r\n============================================================ warnings summary ============================================================\r\nsrc/surrealdb/cbor2/decoder.py:7\r\n  /Users/stu/dev/ssttuu/surrealdb.py/src/surrealdb/cbor2/decoder.py:7: UserWarning: The cbor.decoder module has been deprecated. Instead import everything directly from cbor2.\r\n    warn(\r\n\r\nsrc/surrealdb/cbor2/encoder.py:8\r\n  /Users/stu/dev/ssttuu/surrealdb.py/src/surrealdb/cbor2/encoder.py:8: UserWarning: The cbor2.encoder module has been deprecated. Instead import everything directly from cbor2.\r\n    warn(\r\n\r\nsrc/surrealdb/cbor2/types.py:15\r\n  /Users/stu/dev/ssttuu/surrealdb.py/src/surrealdb/cbor2/types.py:15: UserWarning: The cbor2.types module has been deprecated. Instead import everything directly from cbor2.\r\n    warn(\r\n\r\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\r\n========================================= 305 passed, 1 xfailed, 3 warnings in 73.57s (0:01:13) ==========================================\r\n```\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6514/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6513", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6513/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6513/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6513/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6513", "id": 3533434955, "node_id": "PR_kwDOGgbgb86ur0tq", "number": 6513, "title": "Expose functionality to be compatible with SurrealQL.wasm", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-20T18:14:56Z", "updated_at": "2025-10-21T13:41:20Z", "closed_at": "2025-10-21T13:40:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6513", "html_url": "https://github.com/surrealdb/surrealdb/pull/6513", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6513.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6513.patch", "merged_at": "2025-10-21T13:40:57Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nWe need to integrate surrealql.wasm with 3.0. \r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nThis change does the following:\r\n1. Adds `ToSql` impl to the `Ast`.\r\n2. Adds a ton of tests around Value / Expr -> SQL conversion. The plan is to lay this foundation so that I can follow up with a conversion to using `ToSql` instead and all of the tests just need to continue working.\r\n3. Adds `syn::extract_tables_from_kind` to the public API so that the surrealql.wasm code can use that rather than trying to parse the Ast itself. This is `#[doc(hidden)]` because it should only be used for this use case. In the future we will convert to using an LSP.\r\n\r\nSee associated surrealql.wasm changes:\r\nhttps://github.com/surrealdb/surrealql.wasm/pull/7\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nPassing CI as well as manual integration with surrealql.wasm.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6513/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6511", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6511/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6511/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6511/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6511", "id": 3532151727, "node_id": "PR_kwDOGgbgb86uncw4", "number": 6511, "title": "Implement Distributed Batch-Based ID Generation for Catalog Entities", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-20T11:49:57Z", "updated_at": "2025-10-23T13:03:22Z", "closed_at": "2025-10-23T13:02:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6511", "html_url": "https://github.com/surrealdb/surrealdb/pull/6511", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6511.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6511.patch", "merged_at": "2025-10-23T13:02:48Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nSurrealDB previously used a simple single-node ID generator for creating unique identifiers for namespaces, databases, tables, and indexes. This approach had limitations in distributed environments where multiple nodes need to generate IDs concurrently:\r\n\r\n1. **Scalability bottleneck**: The old system relied on a single state key per ID type, which could become a contention point in distributed deployments with multiple nodes competing for ID generation.\r\n\r\n2. **No hierarchy awareness**: IDs were generated globally without considering the hierarchical nature of SurrealDB's structure (namespace \u2192 database \u2192 table \u2192 index), leading to inefficient resource allocation.\r\n\r\n3. **Limited distributed coordination**: The previous approach wasn't optimized for scenarios where multiple nodes need to generate IDs independently while avoiding conflicts.\r\n\r\nThis change addresses these limitations by implementing a modern distributed ID generation system with batch allocation, similar to approaches used by other distributed databases.\r\n\r\n## What does this change do?\r\n\r\nThis pull request introduces a comprehensive refactoring of the ID generation system:\r\n\r\n### Core Architecture Changes\r\n\r\n1. **Hierarchical sequence domains**: Implements separate ID generators for each level of the SurrealDB hierarchy:\r\n   - Namespace IDs (at root level)\r\n   - Database IDs (scoped to namespace)\r\n   - Table IDs (scoped to database within a namespace)\r\n   - Index IDs (scoped to table within a database)\r\n\r\n2. **Batch allocation system**: Instead of generating IDs one at a time, nodes now request batches of IDs (e.g., 1000 IDs at once). This dramatically reduces transaction contention:\r\n   - Each node maintains local batch allocations\r\n   - New batches are only requested when the current batch is exhausted\r\n   - Batch ranges are tracked with start/end values to prevent conflicts\r\n\r\n3. **Per-node state tracking**: Each node maintains its own sequence state identified by a unique node ID (UUID), allowing multiple nodes to generate IDs concurrently without conflicts.\r\n\r\n**Better error reporting**:\r\n- `TxRetryable` error now includes detailed error messages (e.g., which specific conflict caused a retryable error) for improved debugging\r\n\r\n## What is your testing strategy?\r\n\r\nGithub action - Existing tests.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6511/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6511/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6510", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6510/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6510/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6510/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6510", "id": 3532127002, "node_id": "PR_kwDOGgbgb86unXaJ", "number": 6510, "title": "feat: Add refresh token support to the RPC protocol and SDK", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5446179823, "node_id": "LA_kwDOGgbgb88AAAABRJ4b7w", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/topic:security", "name": "topic:security", "color": "F9D0C4", "default": false, "description": "This is related to security"}, {"id": 6626103502, "node_id": "LA_kwDOGgbgb88AAAABivJQzg", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/needs-documentation", "name": "needs-documentation", "color": "5319E7", "default": false, "description": "Needs documentation to be added and tracked before merge"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-20T11:41:02Z", "updated_at": "2025-10-30T16:05:59Z", "closed_at": "2025-10-30T16:05:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6510", "html_url": "https://github.com/surrealdb/surrealdb/pull/6510", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6510.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6510.patch", "merged_at": "2025-10-30T16:05:34Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nTo stabilise the bearer access feature and and expose refresh tokens in the SDK and RPC protocol.\r\n\r\n## What does this change do?\r\n\r\nThis PR introduces **refresh token support** for SurrealDB, implementing a modern OAuth2-style authentication flow that allows clients to obtain new access tokens without requiring users to re-authenticate. Additionally, it **stabilises the bearer access feature**, removing its experimental status.\r\n\r\n### \ud83d\udd11 Core Features\r\n\r\n#### 1. Refresh Token Support\r\n\r\n**Authentication Token Structure**\r\n\r\n- Introduces a new `Token` type that can contain both access and optional refresh tokens\r\n- Access tokens remain short-lived for security (e.g., 15 seconds to 1 hour)\r\n- Refresh tokens are long-lived and enable seamless session continuation\r\n- Backward compatible: tokens without refresh capability continue to work as before\r\n\r\n**Token Response Format**\r\n\r\nThe signin/signup responses now return tokens in two possible formats:\r\n\r\n- **String format** (access token only): Returns as a string\r\n- **Object format** (with refresh): Returns as an object with `access` and `refresh` fields\r\n\r\n```json\r\n{\r\n  \"access\": \"...\",\r\n  \"refresh\": \"...\"\r\n}\r\n```\r\n\r\n#### 2. SurrealQL Syntax Enhancement\r\n\r\n**`WITH REFRESH` Clause**\r\n\r\nAs introduced in [this PR](https://github.com/surrealdb/surrealdb/pull/5230), access methods can be defined with refresh token support using the `WITH REFRESH` clause:\r\n\r\n```sql\r\nDEFINE ACCESS my_access ON DATABASE TYPE RECORD\r\n  SIGNUP ( CREATE user SET email = $email, pass = crypto::argon2::generate($pass) )\r\n  SIGNIN ( SELECT * FROM user WHERE email = $email AND crypto::argon2::compare(pass, $pass) )\r\n  WITH REFRESH\r\n  DURATION FOR SESSION 1d FOR TOKEN 15s\r\n```\r\n\r\nWhen `WITH REFRESH` is specified:\r\n- Both access and refresh tokens are issued during signin/signup\r\n- Refresh tokens are single-use (automatically revoked after use)\r\n- Access tokens can be refreshed without re-authentication\r\n\r\n#### 3. New RPC Methods\r\n\r\n**`refresh` Method**\r\n\r\nExchanges an expired (or soon-to-expire) access token for a new one using the refresh token:\r\n\r\n```rust\r\n// SDK usage\r\nlet new_token = db.authenticate(token).refresh().await?;\r\n```\r\n\r\n- Validates the refresh token\r\n- Revokes the old refresh token (single-use security model)\r\n- Issues new access and refresh tokens\r\n- Maintains the original authentication scope (namespace, database, access method)\r\n\r\n**`revoke` Method**\r\n\r\nExplicitly invalidates a refresh token without affecting the current session:\r\n\r\n```rust\r\n// SDK usage\r\ndb.invalidate().refresh(token).await?;\r\n```\r\n\r\nUseful for:\r\n- Logout operations preventing future token refreshes\r\n- Security events requiring immediate token invalidation\r\n- Explicit token lifecycle management\r\n\r\n### 4. SDK API Changes\r\n\r\n**Enhanced `Token` Types**\r\n\r\n- **`Token`**: Contains `access: AccessToken` and `refresh: Option<RefreshToken>`\r\n- **`AccessToken`**: Wrapper around the access JWT with security features (redacted debug output)\r\n- **`RefreshToken`**: Wrapper around the refresh JWT with security features\r\n\r\n**Updated Method Signatures**\r\n\r\n- `signin()` and `signup()` now return `Token` instead of `Jwt`.\r\n- `authenticate()` can be chained with `.refresh()` for explicit token refresh operations. When not chained with `.refresh()`, it now automatically refreshes if the token used is expired but contains a valid refresh token.\r\n- `invalidate()` can be chained with `.refresh(token)` for token revocation.\r\n\r\n#### 5. Core Authentication Flow Changes\r\n\r\n**Token Refresh Process**\r\n\r\nThe refresh flow maintains authentication boundaries:\r\n\r\n1. Extracts authentication scope (namespace, database, access method) from expired access token\r\n2. Validates the refresh token\r\n3. Revokes the old refresh token (single-use model)\r\n4. Issues new access and refresh tokens\r\n5. Restores session to original authentication scope\r\n\r\n**Grant Records**\r\n\r\nRefresh tokens are backed by grant records stored in the database:\r\n- Created when a refresh token is issued\r\n- Automatically revoked after use\r\n- Can be explicitly revoked via the `revoke` method\r\n- Include metadata (creation time, expiration, subject, grant key)\r\n\r\n#### 6. Bearer Access Stabilisation\r\n\r\n**Removed Experimental Status**\r\n\r\n- Bearer access is no longer behind an experimental feature flag\r\n- Parser no longer requires special capabilities to use `WITH REFRESH` or `TYPE BEARER`\r\n- `WITH REFRESH` and bearer access methods are now stable features\r\n\r\n**Updated Capabilities System**\r\n\r\n- Removed capability checks for bearer access feature\r\n- Bearer access methods (`TYPE BEARER FOR USER`) are now fully supported\r\n\r\n### \ud83d\udd04 Protocol and HTTP Changes\r\n\r\n**RPC Protocol Updates**\r\n\r\n- Added `refresh` and `revoke` methods to the RPC protocol\r\n- Updated `signin` and `signup` to return either a string or an object depending on whether the token includes a refresh token\r\n- Backward compatible: clients expecting strings still work with access-only tokens\r\n\r\n**HTTP Endpoint Changes**\r\n\r\n- `/signin` and `/signup` endpoints return the new token format\r\n- JSON responses include both `access` and `refresh` fields when applicable\r\n- Plain text responses (`Accept: text/plain`) return only the access token for backward compatibility\r\n- CBOR and Flatbuffers serialisation formats supported\r\n\r\n### \ud83d\udd10 Security Considerations\r\n\r\n**Single-Use Refresh Tokens**\r\n\r\n- Refresh tokens are automatically revoked after use\r\n- Prevents replay attacks\r\n- Forces sequential token refresh (can't reuse old refresh tokens)\r\n\r\n**Token Exposure Prevention**\r\n\r\n- All token types redact their values in debug output\r\n- Logging tokens requires explicit opt-in via `as_insecure_token()`\r\n- Reduces risk of accidental credential leakage\r\n\r\n**Scope Preservation**\r\n\r\n- Token refresh maintains original authentication boundaries\r\n- Cannot escalate privileges through refresh\r\n- Namespace and database context preserved across refreshes\r\n\r\n### \ud83d\udce6 Backward Compatibility\r\n\r\n**Fully Backward Compatible**\r\n\r\n- Existing access methods without `WITH REFRESH` continue to work\r\n- Access-only tokens serialise as strings (legacy format)\r\n- HTTP clients expecting string responses still work\r\n- No breaking changes to existing authentication flows\r\n\r\n**Migration Path**\r\n\r\n- Add `WITH REFRESH` to access method definitions to enable refresh tokens\r\n- Update client code to handle new `Token` type\r\n- Existing tokens and authentication continue to work during transition\r\n\r\n### \ud83d\udcdd Documentation Updates\r\n\r\n**Updated Inline Documentation**\r\n\r\n- Comprehensive doc comments for all new types and methods\r\n- Examples showing token refresh flows\r\n- Security warnings for unsafe token access methods\r\n- Clear distinction between access and refresh tokens\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nIt stabilises the bearer access feature. It also updates the SDK and RPC protocol to support refresh tokens.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\n**New Test Coverage**\r\n\r\n- Comprehensive token serialization/deserialization tests (`token_surreal_value.rs`)\r\n- Refresh token flow integration tests (`refresh_tokens` test in `basic.rs`)\r\n- Bearer access operation tests for all levels (root, namespace, database)\r\n- Edge case testing: empty strings, very long tokens, special characters\r\n\r\n**Test Utilities**\r\n\r\n- Updated test helpers to support token refresh testing\r\n- Capability configuration for bearer access tests\r\n- Test fixtures for multi-token authentication scenarios\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\nFixes #6375\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [ ] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6510/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6510/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6507", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6507/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6507/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6507/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6507", "id": 3528851714, "node_id": "PR_kwDOGgbgb86uc56C", "number": 6507, "title": "Add GraphQL back and upgrade to the latest `async-graphql` crates.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2025-10-18T13:57:13Z", "updated_at": "2025-10-27T11:04:00Z", "closed_at": "2025-10-27T11:03:42Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6507", "html_url": "https://github.com/surrealdb/surrealdb/pull/6507", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6507.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6507.patch", "merged_at": "2025-10-27T11:03:42Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nWe had previously removed the graphql functionality as part of the Expr/Value split. We need to bring back the basic functionality before beta / GA release of 3.0.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\n1. Adds back the GraphQL functionality\r\n2. Updates the GraphQL deps to their latest versions.\r\n3. Cleans up the original GraphQL implementation.\r\n4. Rather than converting from GQL AST to SURQL AST, this goes from GQL AST to SURQL LogicalPlan.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nPassing CI + manual GraphQL testing.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6507/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6507/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6506", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6506/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6506/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6506/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6506", "id": 3528814034, "node_id": "PR_kwDOGgbgb86ucysv", "number": 6506, "title": "Fix the info rpc.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-18T13:11:37Z", "updated_at": "2025-10-20T18:19:14Z", "closed_at": "2025-10-20T18:18:53Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6506", "html_url": "https://github.com/surrealdb/surrealdb/pull/6506", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6506.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6506.patch", "merged_at": "2025-10-20T18:18:53Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nThe info endpoint was subtly wrong and was resulting in panics.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nSimplifies the info rpc.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nSDK tests verify this change.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6506/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6505", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6505/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6505/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6505/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6505", "id": 3528807958, "node_id": "PR_kwDOGgbgb86ucxbq", "number": 6505, "title": "Rename additional `thing`s to `record`s", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-18T13:04:04Z", "updated_at": "2025-10-18T15:59:47Z", "closed_at": "2025-10-18T15:59:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6505", "html_url": "https://github.com/surrealdb/surrealdb/pull/6505", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6505.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6505.patch", "merged_at": "2025-10-18T15:59:32Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\n## What does this change do?\r\n\r\nRenames additional things to records.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nPassing CI is sufficient.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6505/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6502", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6502/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6502/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6502/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6502", "id": 3522702935, "node_id": "PR_kwDOGgbgb86uIUeL", "number": 6502, "title": "Remove the `api` folder from the SDK", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-16T16:55:22Z", "updated_at": "2025-10-17T12:59:51Z", "closed_at": "2025-10-17T12:59:31Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6502", "html_url": "https://github.com/surrealdb/surrealdb/pull/6502", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6502.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6502.patch", "merged_at": "2025-10-17T12:59:31Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nThe `api` folder was originally used to house the SDK before the core library was moved to a separate folder. It's no longer necessary to have this folder.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nIt removes it and moves all the modules in the SDK a level up.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nGithub Actions.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6502/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6500", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6500/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6500/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6500/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6500", "id": 3521285683, "node_id": "PR_kwDOGgbgb86uDhfp", "number": 6500, "title": "Remove Force Index mechanism and unify index building across all platforms", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5524625218, "node_id": "LA_kwDOGgbgb88AAAABSUsXQg", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/topic:indexing", "name": "topic:indexing", "color": "F9D0C4", "default": false, "description": "This is related to indexing and full-text search"}, {"id": 8538135220, "node_id": "LA_kwDOGgbgb88AAAAB_OmatA", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/3.x", "name": "3.x", "color": "5B9DB8", "default": false, "description": "Pertains to SurrealDB 3.x versions"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-16T10:37:15Z", "updated_at": "2025-10-16T15:00:32Z", "closed_at": "2025-10-16T15:00:06Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6500", "html_url": "https://github.com/surrealdb/surrealdb/pull/6500", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6500.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6500.patch", "merged_at": "2025-10-16T15:00:06Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nPreviously, SurrealDB used two different approaches for building indexes:\r\n\r\n- **Non-WASM platforms** (server deployments): Used an asynchronous, background index builder that could process index creation concurrently without blocking queries\r\n- **WASM platforms** (browser/edge deployments): Used a \"force index\" mechanism that would forcibly rebuild indexes by running `UPDATE` statements with special forced indexing options\r\n\r\nThis dual approach created several problems:\r\n\r\n- **Code complexity**: Extensive conditional compilation (`#[cfg(not(target_family = \"wasm\"))]`) scattered throughout the codebase made the code harder to maintain and understand\r\n- **Inconsistent behavior**: Database users experienced different indexing behavior depending on their deployment platform\r\n- **Technical debt**: The `Force::Index` variant and WASM-specific workarounds were a temporary solution that needed to be eliminated\r\n- **Limited functionality**: WASM deployments couldn't take advantage of the more sophisticated concurrent index building capabilities\r\n\r\n## What does this change do?\r\n\r\nThis pull request unifies the index building infrastructure across all platforms, bringing the following improvements for database users:\r\n\r\n**For Database Administrators:**\r\n\r\n- **Consistent index behavior**: `DEFINE INDEX` and `REBUILD INDEX` statements now work identically whether you're running SurrealDB on a server, in the browser, or on edge platforms\r\n- **Better index building**: WASM deployments now gain access to the concurrent index builder, which provides:\r\n  - Progress tracking during index creation\r\n  - Ability to cancel long-running index builds\r\n  - Better memory management and threshold checking\r\n  - More reliable index building for large datasets\r\n\r\n**For Developers:**\r\n\r\n- **Simplified codebase**: Removed 159 lines of code across 18 files by eliminating platform-specific workarounds\r\n- **Single code path**: Index building logic is now unified, making it easier to add features and fix bugs\r\n- **Better maintainability**: Removed conditional compilation flags that made the code harder to reason about\r\n\r\n**Technical Changes:**\r\n\r\n- Removed `Force::Index` variant from the `Force` enum\r\n- Made `IndexBuilder` available on all platforms (previously excluded from WASM)\r\n- Unified `run_indexing()` function to use the same implementation everywhere\r\n- Simplified `DEFINE INDEX`, `REBUILD INDEX`, and `REMOVE INDEX` statements\r\n- Enhanced index building infrastructure with proper finish guards and status tracking\r\n- Improved error handling and test diagnostics\r\n\r\n**For End Users:**\r\n\r\nThe changes are backward compatible - your existing indexes continue to work without modification. New indexes created after this change will benefit from improved building performance and reliability, especially on WASM platforms.\r\n\r\n## What is your testing strategy?\r\n\r\nGithub actions - Actual tests should suffice\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6500/reactions", "total_count": 3, "+1": 1, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6500/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6498", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6498/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6498/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6498/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6498", "id": 3518720951, "node_id": "PR_kwDOGgbgb86t7AEX", "number": 6498, "title": "Fix release workflows", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-15T16:12:30Z", "updated_at": "2025-10-16T09:40:22Z", "closed_at": "2025-10-16T09:39:43Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6498", "html_url": "https://github.com/surrealdb/surrealdb/pull/6498", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6498.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6498.patch", "merged_at": "2025-10-16T09:39:43Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6498/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6497", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6497/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6497/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6497/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6497", "id": 3517859789, "node_id": "PR_kwDOGgbgb86t4DyH", "number": 6497, "title": "Fix formatting bugs related to empty identifiers", "user": {"login": "DelSkayn", "id": 7524414, "node_id": "MDQ6VXNlcjc1MjQ0MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7524414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DelSkayn", "html_url": "https://github.com/DelSkayn", "followers_url": "https://api.github.com/users/DelSkayn/followers", "following_url": "https://api.github.com/users/DelSkayn/following{/other_user}", "gists_url": "https://api.github.com/users/DelSkayn/gists{/gist_id}", "starred_url": "https://api.github.com/users/DelSkayn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DelSkayn/subscriptions", "organizations_url": "https://api.github.com/users/DelSkayn/orgs", "repos_url": "https://api.github.com/users/DelSkayn/repos", "events_url": "https://api.github.com/users/DelSkayn/events{/privacy}", "received_events_url": "https://api.github.com/users/DelSkayn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-15T12:41:15Z", "updated_at": "2025-10-15T13:14:53Z", "closed_at": "2025-10-15T13:14:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6497", "html_url": "https://github.com/surrealdb/surrealdb/pull/6497", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6497.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6497.patch", "merged_at": "2025-10-15T13:14:34Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nI found some formatting bugs related to empty identifiers which are technically allowed in the syntax.\r\n\r\n## What does this change do?\r\n\r\nFixes formatting issues.\r\n\r\n## What is your testing strategy?\r\n\r\nAdded a test to the language test.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6497/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6496", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6496/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6496/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6496/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6496", "id": 3517518307, "node_id": "PR_kwDOGgbgb86t258-", "number": 6496, "title": "Support multi-session support in RPC protocol", "user": {"login": "kearfy", "id": 17960250, "node_id": "MDQ6VXNlcjE3OTYwMjUw", "avatar_url": "https://avatars.githubusercontent.com/u/17960250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kearfy", "html_url": "https://github.com/kearfy", "followers_url": "https://api.github.com/users/kearfy/followers", "following_url": "https://api.github.com/users/kearfy/following{/other_user}", "gists_url": "https://api.github.com/users/kearfy/gists{/gist_id}", "starred_url": "https://api.github.com/users/kearfy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kearfy/subscriptions", "organizations_url": "https://api.github.com/users/kearfy/orgs", "repos_url": "https://api.github.com/users/kearfy/repos", "events_url": "https://api.github.com/users/kearfy/events{/privacy}", "received_events_url": "https://api.github.com/users/kearfy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 6626103502, "node_id": "LA_kwDOGgbgb88AAAABivJQzg", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/needs-documentation", "name": "needs-documentation", "color": "5319E7", "default": false, "description": "Needs documentation to be added and tracked before merge"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-15T11:03:58Z", "updated_at": "2025-10-29T21:06:43Z", "closed_at": "2025-10-15T14:09:23Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6496", "html_url": "https://github.com/surrealdb/surrealdb/pull/6496", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6496.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6496.patch", "merged_at": "2025-10-15T14:09:23Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\n#6440, #2338\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nThis PR introduces a new `session` property on RPC messages. It accepts a UUID, and when provided with one the server will use the session associated with that UUID or create a new one.\r\n\r\nWhen calling the `reset` method with a session id provided, it will remove that session and clear out any live queries associated with it.\r\n\r\nwhen no session id is provided, a default session will be used. Nothing changes on that front.\r\n\r\nThis PR also introduces a `sessions` RPC method. The primary session always exists, but this method will return a list of uuids representing all the various sub sessions that exist\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nAdded some tests\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- Related to #6440\r\n- Related to #2338\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [ ] Needs doc changes\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6496/reactions", "total_count": 3, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 1}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6496/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6495", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6495/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6495/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6495/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6495", "id": 3517515750, "node_id": "PR_kwDOGgbgb86t25ZG", "number": 6495, "title": "Remove the `ent` submodule", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-15T11:03:09Z", "updated_at": "2025-10-15T11:33:40Z", "closed_at": "2025-10-15T11:33:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6495", "html_url": "https://github.com/surrealdb/surrealdb/pull/6495", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6495.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6495.patch", "merged_at": "2025-10-15T11:33:17Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nIt makes using the SDK as a Git dependency more complicated.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\n```bash\r\ngit rm crates/core/src/ent\r\n```\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nTested against `crud-bench`.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6495/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6494", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6494/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6494/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6494/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6494", "id": 3517327742, "node_id": "PR_kwDOGgbgb86t2Pp3", "number": 6494, "title": "Rename internal thing methods.", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-15T10:12:10Z", "updated_at": "2025-10-18T12:55:36Z", "closed_at": "2025-10-15T11:09:25Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6494", "html_url": "https://github.com/surrealdb/surrealdb/pull/6494", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6494.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6494.patch", "merged_at": "2025-10-15T11:09:25Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nWe renamed thing to record.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nRename a few additional methods from thing to record.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nPassing CI is sufficient.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6494/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6494/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6492", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6492/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6492/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6492/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6492", "id": 3514370817, "node_id": "PR_kwDOGgbgb86tsQ0u", "number": 6492, "title": "[Backport] Add COUNT Index Support with Compaction System and Enable Concurrent Index Building for WASM (#6343, #6500) ", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74", "html_url": "https://github.com/surrealdb/surrealdb/milestone/74", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74/labels", "id": 14209410, "node_id": "MI_kwDOGgbgb84A2NGC", "number": 74, "title": "v2.4.0", "description": null, "creator": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2025-11-24T15:31:16Z", "updated_at": "2025-11-24T15:37:12Z", "due_on": null, "closed_at": "2025-11-24T15:37:12Z"}, "comments": 0, "created_at": "2025-10-14T15:09:27Z", "updated_at": "2025-11-24T15:35:33Z", "closed_at": "2025-10-19T12:04:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6492", "html_url": "https://github.com/surrealdb/surrealdb/pull/6492", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6492.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6492.patch", "merged_at": "2025-10-19T12:04:17Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nBackport #6343, #6500 and #6501\r\n\r\nDatabase users frequently need to count records in tables, especially with `GROUP ALL` queries. Traditional approaches require scanning all records, which becomes slow and resource-intensive as tables grow. Additionally, indexes accumulate changes over time that need optimization to maintain performance.\r\n\r\n## What does this change do?\r\n\r\nThis pull request introduces a new COUNT index type with automatic compaction, plus enables existing concurrent index building functionality for WASM builds.\r\n\r\n##### **New COUNT Index Type**\r\n\r\nUsers can now create a specialized index for counting operations:\r\n\r\n```sql\r\nDEFINE INDEX idx ON table COUNT;\r\n```\r\n\r\nThis index maintains an efficient count of records in the table, allowing queries like `SELECT count() FROM table GROUP ALL` to return results instantly without scanning records. The count index:\r\n\r\n- Uses an incremental delta-based system to track record additions and deletions\r\n- Automatically compacts deltas in the background for optimal performance\r\n- Works seamlessly with existing queries using the query planner\r\n\r\n##### **Concurrent Index Building Now Available for WASM**\r\n\r\nThe existing concurrent index building feature is now enabled for WASM builds:\r\n\r\n- **Non-blocking operations**: The `CONCURRENTLY` keyword (already available on other platforms) now works in WASM:\r\n  ```sql\r\n  DEFINE INDEX idx ON table FIELDS name CONCURRENTLY;\r\n  ```\r\n- **Background processing**: Index building runs in separate async tasks without blocking writes\r\n- **Status tracking**: Users can check index build status with `INFO FOR INDEX`:\r\n  ```sql\r\n  INFO FOR INDEX idx ON table;\r\n  -- Returns: { building: { initial: 1000, pending: 50, status: 'building', updated: 950 } }\r\n  ```\r\n\r\n##### **Index Compaction System**\r\n\r\nA new background compaction system optimizes index performance over time:\r\n\r\n- **Automatic compaction**: COUNT indexes automatically trigger compaction when needed\r\n- **Distributed coordination**: Uses task leases to ensure only one node processes compaction\r\n- **Configurable interval**: New CLI flag `--index-compaction-interval` (default: 5 seconds) controls compaction frequency:\r\n  ```bash\r\n  surreal start --index-compaction-interval 10s\r\n  ```\r\n- **Environment variable**: Can also be set via `SURREAL_INDEX_COMPACTION_INTERVAL`\r\n- **Delta consolidation**: Periodically merges many small delta entries into a single aggregate entry, reducing storage and improving query performance\r\n\r\n##### **Query Planner Integration**\r\n\r\nThe query planner automatically detects when to use COUNT indexes:\r\n\r\n- Recognizes `count()` aggregation with `GROUP ALL`\r\n- Uses `Index Count` operator for optimal execution\r\n- Shows in `EXPLAIN` output:\r\n  ```sql\r\n  SELECT count() FROM table GROUP ALL EXPLAIN;\r\n  -- Shows: { plan: { index: 'idx', operator: 'Count' }, table: 't' }\r\n  ```\r\n\r\n##### **Enhanced Index Management**\r\n\r\nAdditional improvements for database administrators:\r\n\r\n- **Better IF NOT EXISTS handling**: Properly returns `NONE` without error when index exists\r\n- **OVERWRITE support**: Replace existing index definitions safely\r\n- **Improved REBUILD**: `REBUILD INDEX` command now properly removes and rebuilds count indexes\r\n- **Lease-based task coordination**: Prevents multiple nodes from building the same index simultaneously\r\n\r\n### User Benefits\r\n\r\n- **Faster analytics**: COUNT queries with GROUP ALL can be thousands of times faster on large tables\r\n- **WASM feature parity**: Users deploying on WASM environments now have concurrent index building capabilities\r\n- **Automatic optimization**: Background compaction keeps count indexes performing well without manual intervention\r\n- **Better scalability**: Distributed coordination prevents duplicate work in clustered deployments\r\n- **Flexible control**: Configure compaction intervals based on your workload needs\r\n\r\n\r\n## What is your testing strategy?\r\n\r\nGIihub action / language tests\r\n\r\n## Is this related to any issues?\r\n\r\nBackport #6343\r\nBackport #6500\r\nBackport ##6501\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [ ] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6492/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6492/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6491", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6491/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6491/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6491/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6491", "id": 3513828159, "node_id": "PR_kwDOGgbgb86tqZvr", "number": 6491, "title": "Prepare v3.0.0-alpha.11 release", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-14T13:00:06Z", "updated_at": "2025-10-14T13:28:48Z", "closed_at": "2025-10-14T13:28:29Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6491", "html_url": "https://github.com/surrealdb/surrealdb/pull/6491", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6491.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6491.patch", "merged_at": "2025-10-14T13:28:29Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6491/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6491/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6489", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6489/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6489/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6489/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6489", "id": 3513461996, "node_id": "PR_kwDOGgbgb86tpJND", "number": 6489, "title": "Async configuration validation for startup: make `ConfigCheck` async and composable", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-14T11:17:04Z", "updated_at": "2025-10-21T14:01:24Z", "closed_at": "2025-10-21T14:00:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6489", "html_url": "https://github.com/surrealdb/surrealdb/pull/6489", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6489.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6489.patch", "merged_at": "2025-10-21T14:00:57Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nMany real\u2011world deployments need to validate configuration by calling external systems before the server starts, for example:\r\n- Checking authentication/authorization setup with a remote service\r\n- Verifying a license or cloud entitlement\r\n- Performing an online version or compatibility check\r\n- Validating secrets/keys stored in a remote KMS\r\n\r\n## What does this change do?\r\n\r\n- Converts the `ConfigCheck` trait to async and adds platform\u2011appropriate bounds:\r\n  - `ConfigCheck::check_config(&mut self, cfg)` \u2192 `async fn check_config(&mut self, cfg)`\r\n  - Introduces `ConfigCheckRequirements` to express bounds differently on native vs WASM targets.\r\n    - Native: `Send + Sync + 'static`\r\n    - WASM: no `Send` requirement\r\n- Updates the CLI startup path to await the async check.\r\n- Re\u2011exports `ConfigCheckRequirements` so embedders can implement it.\r\n- Adds the `async-trait` dependency to support async traits across targets.\r\n\r\n## What is your testing strategy?\r\n\r\nGithub action - existing test should suffice\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6489/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6489/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6488", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6488/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6488/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6488/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6488", "id": 3512022610, "node_id": "PR_kwDOGgbgb86tkXy9", "number": 6488, "title": "Add exact hint when path is deprecated", "user": {"login": "Dhghomon", "id": 56599343, "node_id": "MDQ6VXNlcjU2NTk5MzQz", "avatar_url": "https://avatars.githubusercontent.com/u/56599343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dhghomon", "html_url": "https://github.com/Dhghomon", "followers_url": "https://api.github.com/users/Dhghomon/followers", "following_url": "https://api.github.com/users/Dhghomon/following{/other_user}", "gists_url": "https://api.github.com/users/Dhghomon/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dhghomon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dhghomon/subscriptions", "organizations_url": "https://api.github.com/users/Dhghomon/orgs", "repos_url": "https://api.github.com/users/Dhghomon/repos", "events_url": "https://api.github.com/users/Dhghomon/events{/privacy}", "received_events_url": "https://api.github.com/users/Dhghomon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-14T01:30:57Z", "updated_at": "2025-11-06T09:41:20Z", "closed_at": "2025-11-06T09:40:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6488", "html_url": "https://github.com/surrealdb/surrealdb/pull/6488", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6488.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6488.patch", "merged_at": "2025-11-06T09:40:30Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nFunctions that have their names changed have to be found again by users. Right now string similarity is used which is good for typos, but will not give a user the new path to a function when it has changed. For example, the recently changed `rand::guid()` (now `rand::id()` now gives the hint to try `rand::uuid()` due to string similarity, when `rand::id()` is the better hint.\r\n\r\n## What does this change do?\r\n\r\nIt adds an optional former path to the function paths, then checks to see if there is an exact match. If there is an exact match, it suggests to the user to try out the new path.\r\n\r\n(Also adds a bit to the language-tests readme because `parsing-error` is the trickiest part to get the test setup and output just right)\r\n\r\n## What is your testing strategy?\r\n\r\nTwo parsing tests.\r\n\r\n## Is this related to any issues?\r\n\r\nNo related issues here, but users on Discord sometimes report being surprised by not being able to find a function in a new version.\r\n\r\n- https://github.com/surrealdb/surrealdb/issues/6552\r\n\r\n## Does this change need documentation?\r\n\r\n- [X] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n- [X] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n- [X] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6488/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 3, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6488/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6486", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6486/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6486/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6486/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6486", "id": 3510558256, "node_id": "PR_kwDOGgbgb86tfYSN", "number": 6486, "title": "Rename `type::thing` to `type::record`", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-13T15:45:32Z", "updated_at": "2025-10-15T04:51:40Z", "closed_at": "2025-10-13T16:24:00Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6486", "html_url": "https://github.com/surrealdb/surrealdb/pull/6486", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6486.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6486.patch", "merged_at": "2025-10-13T16:24:00Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nWe've renamed thing to record, the type function should reflect that.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nRenames `type::thing` to `type::record`.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nPassing CI is sufficient.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- Yes, https://github.com/surrealdb/docs.surrealdb.com/pull/1466\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6486/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 3, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6486/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6485", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6485/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6485/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6485/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6485", "id": 3510338004, "node_id": "PR_kwDOGgbgb86teoVD", "number": 6485, "title": "Add `array::sequence` function.", "user": {"login": "DelSkayn", "id": 7524414, "node_id": "MDQ6VXNlcjc1MjQ0MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7524414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DelSkayn", "html_url": "https://github.com/DelSkayn", "followers_url": "https://api.github.com/users/DelSkayn/followers", "following_url": "https://api.github.com/users/DelSkayn/following{/other_user}", "gists_url": "https://api.github.com/users/DelSkayn/gists{/gist_id}", "starred_url": "https://api.github.com/users/DelSkayn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DelSkayn/subscriptions", "organizations_url": "https://api.github.com/users/DelSkayn/orgs", "repos_url": "https://api.github.com/users/DelSkayn/repos", "events_url": "https://api.github.com/users/DelSkayn/events{/privacy}", "received_events_url": "https://api.github.com/users/DelSkayn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-13T14:41:16Z", "updated_at": "2025-10-15T05:42:24Z", "closed_at": "2025-10-13T16:24:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6485", "html_url": "https://github.com/surrealdb/surrealdb/pull/6485", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6485.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6485.patch", "merged_at": "2025-10-13T16:24:16Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n`array::range()` was changed to actually work like, and with, ranges, however the previous behavior might still be desired and for migration it would be nice to have a function that has the same behavior.\r\n\r\n## What does this change do?\r\n\r\nImplement `array::sequence` which has the same behavior `array::range` previously had.\r\n\r\n## What is your testing strategy?\r\n\r\nI added a test to lang-suite.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] Yes, https://github.com/surrealdb/docs.surrealdb.com/pull/1467\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6485/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6485/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6484", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6484/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6484/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6484/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6484", "id": 3509676578, "node_id": "PR_kwDOGgbgb86tcYBl", "number": 6484, "title": "[Backport] Make CONTAINS/INSIDE planning consistent with substring semantics", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-10-13T11:31:41Z", "updated_at": "2025-10-13T15:13:20Z", "closed_at": "2025-10-13T15:13:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6484", "html_url": "https://github.com/surrealdb/surrealdb/pull/6484", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6484.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6484.patch", "merged_at": "2025-10-13T15:13:18Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nBackport #6264\r\n\r\n## What does this change do?\r\n\r\nBackport #6264\r\n\r\n## What is your testing strategy?\r\n\r\nLanguage tests\r\n\r\n## Is this related to any issues?\r\n\r\nBackport #6264\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6484/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6484/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6483", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6483/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6483/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6483/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6483", "id": 3509496286, "node_id": "PR_kwDOGgbgb86tbvrS", "number": 6483, "title": "Extend mock syntax to support full range", "user": {"login": "DelSkayn", "id": 7524414, "node_id": "MDQ6VXNlcjc1MjQ0MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7524414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DelSkayn", "html_url": "https://github.com/DelSkayn", "followers_url": "https://api.github.com/users/DelSkayn/followers", "following_url": "https://api.github.com/users/DelSkayn/following{/other_user}", "gists_url": "https://api.github.com/users/DelSkayn/gists{/gist_id}", "starred_url": "https://api.github.com/users/DelSkayn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DelSkayn/subscriptions", "organizations_url": "https://api.github.com/users/DelSkayn/orgs", "repos_url": "https://api.github.com/users/DelSkayn/repos", "events_url": "https://api.github.com/users/DelSkayn/events{/privacy}", "received_events_url": "https://api.github.com/users/DelSkayn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-13T10:44:48Z", "updated_at": "2025-10-14T05:23:59Z", "closed_at": "2025-10-13T11:55:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6483", "html_url": "https://github.com/surrealdb/surrealdb/pull/6483", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6483.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6483.patch", "merged_at": "2025-10-13T11:55:16Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nMock ranges use `..` like other ranges but do not have support for full range syntax.\r\n\r\n## What does this change do?\r\n\r\nAdd support for full range syntax allowing you to do `|a:1>..=4|` for example.\r\n\r\n## What is your testing strategy?\r\n\r\nAdded a test to the language test\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n- [x] Yes, https://github.com/surrealdb/docs.surrealdb.com/pull/1458\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6483/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6483/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6481", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6481/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6481/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6481/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6481", "id": 3507884535, "node_id": "PR_kwDOGgbgb86tWVvO", "number": 6481, "title": "Ensure destructuring with computed fields returns correct output", "user": {"login": "tobiemh", "id": 1588290, "node_id": "MDQ6VXNlcjE1ODgyOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1588290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobiemh", "html_url": "https://github.com/tobiemh", "followers_url": "https://api.github.com/users/tobiemh/followers", "following_url": "https://api.github.com/users/tobiemh/following{/other_user}", "gists_url": "https://api.github.com/users/tobiemh/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobiemh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobiemh/subscriptions", "organizations_url": "https://api.github.com/users/tobiemh/orgs", "repos_url": "https://api.github.com/users/tobiemh/repos", "events_url": "https://api.github.com/users/tobiemh/events{/privacy}", "received_events_url": "https://api.github.com/users/tobiemh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-12T21:17:13Z", "updated_at": "2025-10-13T11:54:31Z", "closed_at": "2025-10-13T11:54:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6481", "html_url": "https://github.com/surrealdb/surrealdb/pull/6481", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6481.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6481.patch", "merged_at": "2025-10-13T11:54:15Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nSee issue #6479. Computed fields currently get output within destructuring blocks, even when not specified.\r\n\r\n## What does this change do?\r\n\r\nEnsures that only the specified fields get output from a destructuring block.\r\n\r\n## What is your testing strategy?\r\n\r\nGitHub Actions tests.\r\n\r\n## Is this related to any issues?\r\n\r\n- [x] Closes #6479 \r\n\r\n## Does this change need documentation?\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6481/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6480", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6480/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6480/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6480/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6480", "id": 3507833344, "node_id": "PR_kwDOGgbgb86tWLCw", "number": 6480, "title": "Add Value::Table and update surrealdb-protocol", "user": {"login": "ssttuu", "id": 1233742, "node_id": "MDQ6VXNlcjEyMzM3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1233742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssttuu", "html_url": "https://github.com/ssttuu", "followers_url": "https://api.github.com/users/ssttuu/followers", "following_url": "https://api.github.com/users/ssttuu/following{/other_user}", "gists_url": "https://api.github.com/users/ssttuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssttuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssttuu/subscriptions", "organizations_url": "https://api.github.com/users/ssttuu/orgs", "repos_url": "https://api.github.com/users/ssttuu/repos", "events_url": "https://api.github.com/users/ssttuu/events{/privacy}", "received_events_url": "https://api.github.com/users/ssttuu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-12T20:33:43Z", "updated_at": "2025-10-13T15:15:22Z", "closed_at": "2025-10-13T15:15:04Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6480", "html_url": "https://github.com/surrealdb/surrealdb/pull/6480", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6480.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6480.patch", "merged_at": "2025-10-13T15:15:04Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nWe have a number of places where we want to be able to pass through a `Table` type.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\n1. Adds `Table` variant to the public `Value` type.\r\n2. Adds `Kind::Table` variant to the public and private `Kind` types.\r\n3. Deletes `surrealdb_core::protocol` which was unused flatbuffer conversion code.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nAdded unit tests and language tests.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6480/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6480/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6478", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6478/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6478/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6478/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6478", "id": 3506211285, "node_id": "PR_kwDOGgbgb86tQ-Kj", "number": 6478, "title": "Make WebSocket limits configurable", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74", "html_url": "https://github.com/surrealdb/surrealdb/milestone/74", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74/labels", "id": 14209410, "node_id": "MI_kwDOGgbgb84A2NGC", "number": 74, "title": "v2.4.0", "description": null, "creator": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2025-11-24T15:31:16Z", "updated_at": "2025-11-24T15:37:12Z", "due_on": null, "closed_at": "2025-11-24T15:37:12Z"}, "comments": 0, "created_at": "2025-10-11T18:20:54Z", "updated_at": "2025-11-24T15:34:59Z", "closed_at": "2025-10-14T13:35:25Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6478", "html_url": "https://github.com/surrealdb/surrealdb/pull/6478", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6478.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6478.patch", "merged_at": "2025-10-14T13:35:25Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nBackports #6416 and #6439.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nGithub Actions.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [ ] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6478/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6478/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6474", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6474/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6474/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6474/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6474", "id": 3503589241, "node_id": "PR_kwDOGgbgb86tIMVQ", "number": 6474, "title": "Notify caller when a connection is dropped", "user": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-10-10T16:14:59Z", "updated_at": "2025-10-14T13:36:59Z", "closed_at": "2025-10-14T13:36:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6474", "html_url": "https://github.com/surrealdb/surrealdb/pull/6474", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6474.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6474.patch", "merged_at": "2025-10-14T13:36:56Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nBackports #6387 to v2.3.\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nGithub Actions.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [ ] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6474/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6474/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6471", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6471/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6471/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6471/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6471", "id": 3499894571, "node_id": "PR_kwDOGgbgb86s74Vy", "number": 6471, "title": "Introduce CommunityComposer and remove global config state", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-09T16:44:22Z", "updated_at": "2025-10-13T09:40:02Z", "closed_at": "2025-10-13T09:39:29Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6471", "html_url": "https://github.com/surrealdb/surrealdb/pull/6471", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6471.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6471.patch", "merged_at": "2025-10-13T09:39:29Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n**Problem with the current approach:**\r\n- **Global state dependency**: The code relies on a global static `CF: OnceLock<Config>` that is accessed throughout the codebase, making the code harder to test and reason about\r\n- **Tight coupling**: Components are tightly coupled to the global configuration rather than receiving it explicitly\r\n- **Limited extensibility**: The generic two-parameter approach (`<T: TransactionBuilderFactory, R: RouterFactory>`) makes it difficult for embedders to provide custom implementations that need access to configuration\r\n- **Testing challenges**: Global state makes unit testing more difficult and can cause issues with test isolation\r\n\r\n**Goals:**\r\n- Eliminate global mutable state and replace it with explicit dependency injection\r\n- Improve code testability by removing implicit dependencies on global variables\r\n- Provide a cleaner API for embedders who want to customize SurrealDB's behavior\r\n- Enable better composition of features through a unified composer pattern\r\n\r\n## What does this change do?\r\n\r\nThis PR introduces a **composer pattern** for dependency injection and removes the global configuration state. Here are the key changes:\r\n\r\n##### **Core Changes:**\r\n\r\n1. **Introduces `CommunityComposer`**: A new struct in `crates/core/src/lib.rs` that acts as a unified composer implementing multiple traits:\r\n   - `TransactionBuilderFactory` - for datastore backend selection\r\n   - `RouterFactory` - for HTTP router configuration\r\n   - `ConfigCheck` - for configuration validation\r\n\r\n2. **Adds `ConfigCheck` trait**: A new trait in `src/cli/config.rs` that allows composers to validate configuration before initialization.\r\n\r\n3. **Removes global config state**: Eliminates the `CF: OnceLock<Config>` global static variable and replaces all usages with explicit parameter passing\r\n\r\n4. **Updates function signatures**: Changes initialization functions throughout the codebase to:\r\n   - Accept a single composer parameter instead of two generic type parameters\r\n   - Receive `Config` as an explicit parameter instead of accessing it globally\r\n   - Example: `init<T: TransactionBuilderFactory, R: RouterFactory>()` becomes `init<C: TransactionBuilderFactory + RouterFactory + ConfigCheck>(composer: C)`\r\n   \r\n 5. Changed transaction type from `Pessimistic` to `Optimistic` in `get_version()` method (`crates/core/src/kvs/ds.rs:822`), as version checks don't require pessimistic locking.\r\n\r\n\r\n## What is your testing strategy?\r\n\r\nExisting test should be suficient.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6471/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6471/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6468", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6468/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6468/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6468/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6468", "id": 3497982316, "node_id": "PR_kwDOGgbgb86s1aap", "number": 6468, "title": "Compute input once", "user": {"login": "kearfy", "id": 17960250, "node_id": "MDQ6VXNlcjE3OTYwMjUw", "avatar_url": "https://avatars.githubusercontent.com/u/17960250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kearfy", "html_url": "https://github.com/kearfy", "followers_url": "https://api.github.com/users/kearfy/followers", "following_url": "https://api.github.com/users/kearfy/following{/other_user}", "gists_url": "https://api.github.com/users/kearfy/gists{/gist_id}", "starred_url": "https://api.github.com/users/kearfy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kearfy/subscriptions", "organizations_url": "https://api.github.com/users/kearfy/orgs", "repos_url": "https://api.github.com/users/kearfy/repos", "events_url": "https://api.github.com/users/kearfy/events{/privacy}", "received_events_url": "https://api.github.com/users/kearfy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7877930406, "node_id": "LA_kwDOGgbgb88AAAAB1Y-tpg", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/breaking-change", "name": "breaking-change", "color": "50538E", "default": false, "description": "This PR introduces a minor or major breaking change"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-10-09T07:30:40Z", "updated_at": "2025-10-15T00:32:53Z", "closed_at": "2025-10-13T11:58:45Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6468", "html_url": "https://github.com/surrealdb/surrealdb/pull/6468", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6468.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6468.patch", "merged_at": "2025-10-13T11:58:45Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n<!-- Please provide details on the motivation for why you have made this change.-->\r\n\r\nAt the moment, there are a couple edge cases where the input for a statement (content/set/... clause) can compute more than once. Besides the fact that it's not ideal performance wise, it also causes actual issues when you write in those clauses.\r\n\r\n## What does this change do?\r\n\r\n<!-- Please provide a description of what this pull request does, and how it solves the problem. -->\r\n\r\nThis PR changes the logic to ensure these clauses only ever compute once, but can be applied multiple times. In addition, because of this change, we are now able to expose an `$input` variable inside `DEFINE EVENT`.\r\n\r\nTo make the above work, there is a breaking change in this pull request, `$this` and `$parent` will be `NONE` during the creation of a record, and be the old document upon computing an update, inside the data clause of the statement itself. During the computation of a field's `VALUE` clause their behaviour is unchanged. Their value was previously very unpredictable and ever changing, while now they are a fixed value. This also makes things easier to reason about.\r\n\r\n```\r\ncurrent = existing || NONE\r\ncompute data\r\ngenerate id\r\n...rest of the statement\r\n```\r\n\r\n## What is your testing strategy?\r\n\r\n<!-- Write your test plan here. Please provide us with clear instructions on how you verified your changes work. -->\r\n\r\nAdded tests and updated existing ones\r\n\r\n## Is this related to any issues?\r\n\r\n- [ ] https://github.com/surrealdb/surrealdb/issues/4395\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [ ] Needs doc changes\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6468/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 2, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6468/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6467", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6467/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6467/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6467/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6467", "id": 3495789634, "node_id": "PR_kwDOGgbgb86suHsi", "number": 6467, "title": "[Backport] Ensure reverse scan is used only with compatible datastore", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-10-08T14:52:34Z", "updated_at": "2025-10-13T16:10:10Z", "closed_at": "2025-10-13T16:10:08Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6467", "html_url": "https://github.com/surrealdb/surrealdb/pull/6467", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6467.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6467.patch", "merged_at": "2025-10-13T16:10:08Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nBackport #6466 \r\n\r\n## What does this change do?\r\n\r\nBackport #6466\r\n\r\n## What is your testing strategy?\r\n\r\nGithub action / language test\r\n\r\n## Is this related to any issues?\r\n\r\nBackport #6466\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6467/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6467/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6461", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6461/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6461/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6461/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6461", "id": 3489492961, "node_id": "PR_kwDOGgbgb86sZBv9", "number": 6461, "title": "Sync Cargo.toml versions between crates/language-tests and main", "user": {"login": "dave42w", "id": 115547, "node_id": "MDQ6VXNlcjExNTU0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/115547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dave42w", "html_url": "https://github.com/dave42w", "followers_url": "https://api.github.com/users/dave42w/followers", "following_url": "https://api.github.com/users/dave42w/following{/other_user}", "gists_url": "https://api.github.com/users/dave42w/gists{/gist_id}", "starred_url": "https://api.github.com/users/dave42w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dave42w/subscriptions", "organizations_url": "https://api.github.com/users/dave42w/orgs", "repos_url": "https://api.github.com/users/dave42w/repos", "events_url": "https://api.github.com/users/dave42w/events{/privacy}", "received_events_url": "https://api.github.com/users/dave42w/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2025-10-06T23:53:25Z", "updated_at": "2025-10-13T12:04:16Z", "closed_at": "2025-10-13T12:03:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6461", "html_url": "https://github.com/surrealdb/surrealdb/pull/6461", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6461.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6461.patch", "merged_at": "2025-10-13T12:03:59Z"}, "body": "4 crates had versions out of sync\r\n- anyhow\r\n- semver\r\n- serde_json\r\n- tokio-tungstenite\r\n\r\nAs I brought them into sync two crates updated to newer versions instead of syncing anhow to 1.0.97 I went to 1.0.100 in both instead of syncing serde_jscon to 1.0.140 I went to 1.0.145\r\n\r\nin the main Cargo.toml\r\nanyhow 1.0.97 to 1.0.100\r\nsemver 1.0.20 to 1.0.27\r\nserde_json 1.0.127 to 1.0.145\r\n\r\nin the language_tests/Cargo.toml\r\nanyhow 1.0.81 to 1.0.100\r\nsemver 1.0.26 to 1.0.27\r\ntokio-tungstenite 0.23.1 to 0.28.0\r\nserde_json 1.0.140 to 1.0.145\r\n\r\nThank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nIt reduces complexity and potential errors if crates/language_tests uses the same crate versions as the main project.\r\n\r\nIt also helps move forward deduplication of crates in Cargo.lock\r\n\r\n## What is your testing strategy?\r\n\r\nI've run the test suite, no new errors.\r\n\r\n## Is this related to any issues?\r\n\r\n- [X] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [X] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [X] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [X] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6461/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6461/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6420", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6420/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6420/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6420/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6420", "id": 3459980489, "node_id": "PR_kwDOGgbgb86q138o", "number": 6420, "title": "Dependency deduplication by Update serial_test to 3.2.0", "user": {"login": "dave42w", "id": 115547, "node_id": "MDQ6VXNlcjExNTU0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/115547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dave42w", "html_url": "https://github.com/dave42w", "followers_url": "https://api.github.com/users/dave42w/followers", "following_url": "https://api.github.com/users/dave42w/following{/other_user}", "gists_url": "https://api.github.com/users/dave42w/gists{/gist_id}", "starred_url": "https://api.github.com/users/dave42w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dave42w/subscriptions", "organizations_url": "https://api.github.com/users/dave42w/orgs", "repos_url": "https://api.github.com/users/dave42w/repos", "events_url": "https://api.github.com/users/dave42w/events{/privacy}", "received_events_url": "https://api.github.com/users/dave42w/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-09-27T08:32:25Z", "updated_at": "2025-10-12T20:35:21Z", "closed_at": "2025-10-12T20:35:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6420", "html_url": "https://github.com/surrealdb/surrealdb/pull/6420", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6420.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6420.patch", "merged_at": "2025-10-12T20:35:11Z"}, "body": "Removes an old version of Dashmap (5.5.3) so it is no longer duplicated.\r\n\r\n## What is the motivation?\r\n\r\nReduces bloat and potential confusion\r\n\r\n## What does this change do?\r\n\r\nBy updating serial-test (used only in dev) it no longer means we have 2 versions of Dashmap in Cargo.lock\r\n\r\n## What is your testing strategy?\r\n\r\nAll tests that originally passed still do\r\n\r\n## Is this related to any issues?\r\n\r\n- [X] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [X] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [X] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [X] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6420/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6420/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6404", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6404/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6404/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6404/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6404", "id": 3450053430, "node_id": "PR_kwDOGgbgb86qUkID", "number": 6404, "title": "Improve `DEFINE INDEX` validation and diagnostics: enforce field count per index type with precise error spans", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-09-24T16:02:29Z", "updated_at": "2025-11-06T11:41:17Z", "closed_at": "2025-11-06T11:40:47Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6404", "html_url": "https://github.com/surrealdb/surrealdb/pull/6404", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6404.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6404.patch", "merged_at": "2025-11-06T11:40:47Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n- Users can currently write malformed `DEFINE INDEX` statements that either:\r\n  - Provide fields where they aren\u2019t allowed (e.g., `COUNT`),\r\n  - Omit required fields (e.g., `UNIQUE`/default b-tree), or\r\n  - Provide the wrong number of fields for index types that require exactly one field (e.g., `FULLTEXT`, `HNSW`).\r\n- Prior diagnostics were incomplete and/or lacked precise source spans, making it harder to understand what to fix.\r\n\r\n## What does this change do?\r\n\r\nThis PR tightens validation during parsing and returns clearer, span-annotated error messages. It also adds language tests to prevent regressions.\r\n\r\n## What is your testing strategy?\r\n\r\nGithub action  / language test:\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6404/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6264", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6264/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6264/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6264/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6264", "id": 3341986562, "node_id": "PR_kwDOGgbgb86ks0H6", "number": 6264, "title": "Make CONTAINS/INSIDE planning consistent with substring semantics; use indexes only for flattened or set-based operators", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74", "html_url": "https://github.com/surrealdb/surrealdb/milestone/74", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/milestones/74/labels", "id": 14209410, "node_id": "MI_kwDOGgbgb84A2NGC", "number": 74, "title": "v2.4.0", "description": null, "creator": {"login": "rushmorem", "id": 4958190, "node_id": "MDQ6VXNlcjQ5NTgxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4958190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushmorem", "html_url": "https://github.com/rushmorem", "followers_url": "https://api.github.com/users/rushmorem/followers", "following_url": "https://api.github.com/users/rushmorem/following{/other_user}", "gists_url": "https://api.github.com/users/rushmorem/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushmorem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushmorem/subscriptions", "organizations_url": "https://api.github.com/users/rushmorem/orgs", "repos_url": "https://api.github.com/users/rushmorem/repos", "events_url": "https://api.github.com/users/rushmorem/events{/privacy}", "received_events_url": "https://api.github.com/users/rushmorem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2025-11-24T15:31:16Z", "updated_at": "2025-11-24T15:37:12Z", "due_on": null, "closed_at": "2025-11-24T15:37:12Z"}, "comments": 3, "created_at": "2025-08-21T14:30:39Z", "updated_at": "2025-11-24T15:33:55Z", "closed_at": "2025-10-13T11:13:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6264", "html_url": "https://github.com/surrealdb/surrealdb/pull/6264", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6264.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6264.patch", "merged_at": "2025-10-13T11:13:17Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\n- The CONTAINS operator is expected to support substring matches on string fields (e.g., email CONTAINS 'domain.com'). Treating CONTAINS like an exact membership check and using a standard field index causes incorrect assumptions and planner choices when substring search is used.\r\n- Prior planner behavior could use a standard (non-flattened) index for CONTAINS/INSIDE, which is only valid for set membership, not substring. This led to confusing or risky query plans and made it easy to accidentally depend on incorrect index usage.\r\n- We want a clear separation:\r\n  - Substring-capable operators (CONTAINS/INSIDE with strings) should not rely on standard scalar indexes.\r\n  - Set membership over arrays should leverage indexes in a principled way via explicit set operators (CONTAINSANY, ALLINSIDE, ANYINSIDE) and flattened indexes.\r\n\r\n## What does this change do?\r\n\r\nPlanner and tests:\r\n- Query planner change (crates/core/src/idx/planner/tree.rs):\r\n  - Only plan equality-from-index for CONTAINS (left) and INSIDE (right) when the first indexed column is flattened (ixr.cols[0] contains Part::All). This prevents using a plain scalar index for substring semantics and restricts index usage to flattened collections.\r\n    - Before: if col == 0 then equality plan was possible.\r\n    - After: if col == 0 and index column is flattened (contains Part::All) then equality plan is possible.\r\n  - Extend union-based index plans to also trigger for ANYINSIDE and ALLINSIDE (in addition to CONTAINANY/CONTAINALL) when the compared value is an array in the correct position. This ensures set semantics use indexes efficiently.\r\n\r\n- Test suite updates:\r\n  - Remove tests that expected scalar indexes (including UNIQUE) to be used for CONTAINS on non-flattened fields.\r\n  - Add planner tests to confirm that:\r\n    - CONTAINS on strings performs a table iteration (with optional WITH NOINDEX fallback in EXPLAIN) and returns correct results for substring matches.\r\n    - CONTAINSANY and ANYINSIDE on arrays use index union plans when an index is defined over the array field (including record-id arrays).\r\n    - Flattened-field equality paths still use indexes as expected, but not for CONTAINS unless it\u2019s set-based via the collection operators.\r\n  - Updated language tests:\r\n    - delete_select_std_index_contains_inside.surql and delete_select_std_unique_contains_inside.surql assert that substring CONTAINS/INSIDE do not use standard indexes and still return correct results.\r\n    - select_std_index_with_record_id.surql validates that CONTAINSANY/ANYINSIDE are the correct, index-using operators for arrays of record IDs.\r\n    - create_with_std_index_with_flattened_field.surql now explicitly verifies equality and ANYINSIDE planning with flattened fields, and that raw substring CONTAINS does not hijack the index.\r\n\r\nSummary of key diffs:\r\n- crates/core/src/idx/planner/tree.rs: constrain equality planning for CONTAINS/INSIDE to flattened columns; add ANYINSIDE/ALLINSIDE to union planning.\r\n- crates/sdk/tests/planner.rs: remove index-based expectations for CONTAINS on scalars and record-id arrays; keep and add tests that use CONTAINSANY/ANYINSIDE.\r\n- New/updated language tests across planner and create statements reflecting the new, correct planning behavior.\r\n\r\n### Anomalous behaviour change\r\n- CONTAINS no longer uses a standard index on non-flattened fields. This is by design because CONTAINS must support substring semantics, which are incompatible with simple equality-based index access on scalar columns.\r\n- Migration guidance:\r\n  - For set membership over arrays, use:\r\n    - CONTAINSANY array_field [ ... ]\r\n    - ALLINSIDE [ ... ] array_field\r\n    - ANYINSIDE [ ... ] array_field\r\n    These forms plan to index union operations when an index exists on the (flattened) array field.\r\n  - For substring search on strings, use full-text/SEARCH indexes or accept table scans; CONTAINS on strings will not use standard scalar indexes.\r\n  - If you previously relied on CONTAINS to hit a scalar index, replace it with equality (field = value) or use set operators for arrays, or define a proper SEARCH index for text search use cases.\r\n\r\n## What is your testing strategy?\r\n\r\n- Unit/integration tests updated to reflect the new semantics and planner decisions:\r\n  - Ensure CONTAINS on string columns produces substring matches and EXPLAIN shows table iteration or fallback (no unexpected index use), both for normal and UNIQUE indexes.\r\n  - Verify that CONTAINSANY and ANYINSIDE produce index-union plans when an array field is indexed (including arrays of record IDs):\r\n    - Matching records are returned with operator: 'union' and correct values in EXPLAIN.\r\n    - The same query without an index shows Iterate Table in EXPLAIN and still returns correct results.\r\n  - Confirm flattened-field equality still uses the index; also assert that CONTAINS on flattened fields is not mis-optimized as equality unless using the set operators.\r\n\r\n## Is this related to any issues?\r\n\r\nClose #6207 \r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6264/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6198", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6198/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6198/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6198/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6198", "id": 3270697280, "node_id": "PR_kwDOGgbgb86hBak4", "number": 6198, "title": "Add Out of Disk (OOD) Error Handling for RocksDB Backend", "user": {"login": "emmanuel-keller", "id": 1282276, "node_id": "MDQ6VXNlcjEyODIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1282276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-keller", "html_url": "https://github.com/emmanuel-keller", "followers_url": "https://api.github.com/users/emmanuel-keller/followers", "following_url": "https://api.github.com/users/emmanuel-keller/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-keller/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-keller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-keller/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-keller/orgs", "repos_url": "https://api.github.com/users/emmanuel-keller/repos", "events_url": "https://api.github.com/users/emmanuel-keller/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-keller/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-07-28T17:06:14Z", "updated_at": "2025-10-22T15:03:51Z", "closed_at": "2025-10-22T15:03:29Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6198", "html_url": "https://github.com/surrealdb/surrealdb/pull/6198", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6198.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6198.patch", "merged_at": "2025-10-22T15:03:29Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nWhen disk space is exhausted, SurrealDB with RocksDB backend would fail with errors like:\r\n```\r\nThere was a problem with the database: There was a problem with a datastore transaction: IO error: No space left on device: While appending to file: data/000071.blob: No space left on device\r\n```\r\n\r\nThis could lead to:\r\n- Complete service unavailability, even for read operations\r\n- Crash loops where the database repeatedly fails to start\r\n- No graceful degradation when disk space issues occur\r\n\r\n## What does this change do?\r\n\r\nThis implementation provides a unified OOD handling mechanism that:\r\n\r\n#### 1. **OOD Detection During Startup**\r\n- Automatically detects OOD errors by examining error messages for patterns:\r\n  - \"no space left on device\"\r\n  - \"disk full\" \r\n  - \"out of space\"\r\n  - \"enospc\"\r\n\r\n#### 2. **Read-Only Mode Fallback**\r\n- When OOD is detected during database startup:\r\n  - Attempts to open the database with conservative settings (manual WAL flush)\r\n  - If successful, marks the database as operating in read-only mode\r\n  - Maintains service availability for read operations\r\n\r\n#### 3. **Transaction-Level Enforcement**\r\n- Added `ood_readonly` field to `Datastore` struct to track read-only state\r\n- Write transaction requests return `TxReadonly` errors when in OOD mode\r\n- Read transactions continue to work normally\r\n- Uses existing SurrealDB error types for consistency\r\n\r\n#### 4. **Future-Ready Background Error Recovery**\r\n- Added configuration constants for RocksDB background error recovery options\r\n- Implementation prepared but commented out (methods not yet available in rocksdb crate v0.23.0)\r\n- Will enable automatic resume after background errors when supported\r\n\r\n### Key Features\r\n\r\n- **Always Enabled**: No configuration required, mechanism is always active\r\n- **Graceful Degradation**: Service remains available for reads during OOD conditions\r\n- **Clear Logging**: Comprehensive logging of OOD detection and read-only mode activation\r\n- **Simple Architecture**: Single unified mechanism without complex retry logic\r\n- **Backward Compatible**: No breaking changes to existing functionality\r\n\r\n### Example Behavior\r\n\r\n**Normal Operation:**\r\n```\r\nINFO  Starting kvs store at rocksdb://data\r\nINFO  Started kvs store at rocksdb://data\r\n```\r\n\r\n**OOD Detected:**\r\n```\r\nINFO  Starting kvs store at rocksdb://data\r\nERROR Out of Disk error during database startup: IO error: No space left on device\r\nWARN  Database may enter read-only mode until disk space is available\r\nWARN  OOD detected during startup - attempting to open in read-only mode\r\nWARN  Database opened in read-only mode due to OOD condition\r\nINFO  Started kvs store at rocksdb://data\r\n```\r\n\r\n**Write Attempt in Read-Only Mode:**\r\n```\r\nWARN  Write transaction requested but database is in OOD read-only mode\r\nERROR Couldn't write to a read only transaction\r\n```\r\n\r\n### Benefits\r\n\r\n- **Improved Reliability**: Prevents crash loops during OOD situations\r\n- **Service Continuity**: Read operations remain available during disk space issues\r\n- **Operational Clarity**: Clear error messages and logging for troubleshooting\r\n- **Future-Proof**: Ready for enhanced background error recovery when available\r\n\r\n### Recovery\r\n\r\nTo recover from OOD read-only mode:\r\n1. Free up disk space on the storage device\r\n2. Restart the SurrealDB service\r\n3. Database will resume full read/write operations if sufficient space is available\r\n\r\nThis implementation significantly improves SurrealDB's resilience to disk space issues while maintaining a simple, predictable behavior pattern.\r\n\r\n## What is your testing strategy?\r\n\r\nManual\r\n\r\n## Is this related to any issues?\r\n\r\nFixes #5751\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6198/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6037", "repository_url": "https://api.github.com/repos/surrealdb/surrealdb", "labels_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6037/labels{/name}", "comments_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6037/comments", "events_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6037/events", "html_url": "https://github.com/surrealdb/surrealdb/pull/6037", "id": 3121357766, "node_id": "PR_kwDOGgbgb86ZNWG1", "number": 6037, "title": "Remove deprecated authentication statements", "user": {"login": "DelSkayn", "id": 7524414, "node_id": "MDQ6VXNlcjc1MjQ0MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7524414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DelSkayn", "html_url": "https://github.com/DelSkayn", "followers_url": "https://api.github.com/users/DelSkayn/followers", "following_url": "https://api.github.com/users/DelSkayn/following{/other_user}", "gists_url": "https://api.github.com/users/DelSkayn/gists{/gist_id}", "starred_url": "https://api.github.com/users/DelSkayn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DelSkayn/subscriptions", "organizations_url": "https://api.github.com/users/DelSkayn/orgs", "repos_url": "https://api.github.com/users/DelSkayn/repos", "events_url": "https://api.github.com/users/DelSkayn/events{/privacy}", "received_events_url": "https://api.github.com/users/DelSkayn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 7877930406, "node_id": "LA_kwDOGgbgb88AAAAB1Y-tpg", "url": "https://api.github.com/repos/surrealdb/surrealdb/labels/breaking-change", "name": "breaking-change", "color": "50538E", "default": false, "description": "This PR introduces a minor or major breaking change"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-06-05T13:55:27Z", "updated_at": "2025-10-30T12:38:11Z", "closed_at": "2025-10-30T12:37:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/surrealdb/surrealdb/pulls/6037", "html_url": "https://github.com/surrealdb/surrealdb/pull/6037", "diff_url": "https://github.com/surrealdb/surrealdb/pull/6037.diff", "patch_url": "https://github.com/surrealdb/surrealdb/pull/6037.patch", "merged_at": "2025-10-30T12:37:54Z"}, "body": "Thank you for submitting this pull request. We really appreciate you spending the time to work on SurrealDB. \ud83d\ude80 \ud83c\udf89 \r\n\r\n## What is the motivation?\r\n\r\nDEFINE TOKEN, and DEFINE SCOPE are old methods of authentication that where deprecated in 2.0.\r\nWith 3.0 release they can now be removed.\r\n\r\n## What does this change do?\r\n\r\nRemoves the old authentication statements\r\n\r\n## What is your testing strategy?\r\n\r\nExisting test should suffice.\r\n\r\n## Is this related to any issues?\r\n\r\n<!-- If this pull request is related to other pull requests, or resolves any issues, then link all related or closed items here, using 'Closes #101' or 'Fixes #101' to automatically close any linked issues. -->\r\n\r\n- [x] No related issues\r\n\r\n## Does this change need documentation?\r\n\r\n<!-- If this pull request requires changes, updates, or improvements to the documentation, then add a corresponding issue on the https://github.com/surrealdb/docs.surrealdb.com repository, and link to it here. -->\r\n\r\n- [x] No documentation needed\r\n\r\n## Does this change make any alterations to environment variables or CLI commands?\r\n\r\n<!-- Please add the label \"Modifies env vars or commands\" from the Labels dropdown to the right and detail the changes. -->\r\n\r\n- [x] No changes made to env vars\r\n\r\n## Have you read the Contributing Guidelines?\r\n\r\n<!-- All pull requests require that the contributing guidelines have been read and agreed to. -->\r\n\r\n- [x] I have read the [Contributing Guidelines](https://github.com/surrealdb/surrealdb/blob/main/CONTRIBUTING.md)\r\n", "reactions": {"url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/surrealdb/surrealdb/issues/6037/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]