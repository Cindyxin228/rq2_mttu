[{"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/19", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/19/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/19/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/19", "id": 2274428743, "node_id": "PR_kwDOINH-cs5uTOFW", "number": 19, "title": "chore: extend README to include up-to-date examples and a high level overview of available functions.", "user": {"login": "tylerburdsall", "id": 10414594, "node_id": "MDQ6VXNlcjEwNDE0NTk0", "avatar_url": "https://avatars.githubusercontent.com/u/10414594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tylerburdsall", "html_url": "https://github.com/tylerburdsall", "followers_url": "https://api.github.com/users/tylerburdsall/followers", "following_url": "https://api.github.com/users/tylerburdsall/following{/other_user}", "gists_url": "https://api.github.com/users/tylerburdsall/gists{/gist_id}", "starred_url": "https://api.github.com/users/tylerburdsall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tylerburdsall/subscriptions", "organizations_url": "https://api.github.com/users/tylerburdsall/orgs", "repos_url": "https://api.github.com/users/tylerburdsall/repos", "events_url": "https://api.github.com/users/tylerburdsall/events{/privacy}", "received_events_url": "https://api.github.com/users/tylerburdsall/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-05-02T01:22:18Z", "updated_at": "2024-05-02T18:11:12Z", "closed_at": "2024-05-02T17:40:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/19", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/19", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/19.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/19.patch", "merged_at": "2024-05-02T17:40:20Z"}, "body": "Rendered markdown: https://github.com/kvc0/goodmetrics_rs/blob/038ba21e1baee82fcb5f8de3cfe315eb8ed61b93/README.md", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/19/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/19/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/18", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/18/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/18/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/18", "id": 2226208361, "node_id": "PR_kwDOINH-cs5rvvgu", "number": 18, "title": "rename library folder and minor version bumps", "user": {"login": "kvc0", "id": 3454741, "node_id": "MDQ6VXNlcjM0NTQ3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvc0", "html_url": "https://github.com/kvc0", "followers_url": "https://api.github.com/users/kvc0/followers", "following_url": "https://api.github.com/users/kvc0/following{/other_user}", "gists_url": "https://api.github.com/users/kvc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvc0/subscriptions", "organizations_url": "https://api.github.com/users/kvc0/orgs", "repos_url": "https://api.github.com/users/kvc0/repos", "events_url": "https://api.github.com/users/kvc0/events{/privacy}", "received_events_url": "https://api.github.com/users/kvc0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-04-04T18:11:48Z", "updated_at": "2024-04-04T18:20:24Z", "closed_at": "2024-04-04T18:20:24Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/18", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/18", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/18.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/18.patch", "merged_at": "2024-04-04T18:20:24Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/18/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/18/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/17", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/17/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/17/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/17", "id": 2180008221, "node_id": "PR_kwDOINH-cs5pSowP", "number": 17, "title": "add dimension guard breadcrumbs", "user": {"login": "kvc0", "id": 3454741, "node_id": "MDQ6VXNlcjM0NTQ3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvc0", "html_url": "https://github.com/kvc0", "followers_url": "https://api.github.com/users/kvc0/followers", "following_url": "https://api.github.com/users/kvc0/following{/other_user}", "gists_url": "https://api.github.com/users/kvc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvc0/subscriptions", "organizations_url": "https://api.github.com/users/kvc0/orgs", "repos_url": "https://api.github.com/users/kvc0/repos", "events_url": "https://api.github.com/users/kvc0/events{/privacy}", "received_events_url": "https://api.github.com/users/kvc0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-11T19:09:52Z", "updated_at": "2024-03-11T22:52:35Z", "closed_at": "2024-03-11T22:52:35Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/17", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/17", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/17.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/17.patch", "merged_at": "2024-03-11T22:52:35Z"}, "body": "A breadcrumb is useful for remembering how far you got into a workflow. It's particularly useful when your async function might be dropped and you want to know where it happened.", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/17/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/17/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/16", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/16/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/16/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/16", "id": 2170444484, "node_id": "PR_kwDOINH-cs5oyHeW", "number": 16, "title": "fix monotonicity and data type for otel -> prom", "user": {"login": "kvc0", "id": 3454741, "node_id": "MDQ6VXNlcjM0NTQ3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvc0", "html_url": "https://github.com/kvc0", "followers_url": "https://api.github.com/users/kvc0/followers", "following_url": "https://api.github.com/users/kvc0/following{/other_user}", "gists_url": "https://api.github.com/users/kvc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvc0/subscriptions", "organizations_url": "https://api.github.com/users/kvc0/orgs", "repos_url": "https://api.github.com/users/kvc0/repos", "events_url": "https://api.github.com/users/kvc0/events{/privacy}", "received_events_url": "https://api.github.com/users/kvc0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-06T01:21:09Z", "updated_at": "2024-03-07T18:18:40Z", "closed_at": "2024-03-07T18:18:39Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/16", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/16", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/16.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/16.patch", "merged_at": "2024-03-07T18:18:39Z"}, "body": "Chatting with Chronosphere folks about their otel->prom model, it came up that an adjustment to types and monotinicity for goodmetrics statisticset conversions would result in more truthful data type results.", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/16/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/16/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/15", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/15/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/15/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/15", "id": 2168105700, "node_id": "PR_kwDOINH-cs5oqG0C", "number": 15, "title": "automatically rescale exponential histograms", "user": {"login": "kvc0", "id": 3454741, "node_id": "MDQ6VXNlcjM0NTQ3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvc0", "html_url": "https://github.com/kvc0", "followers_url": "https://api.github.com/users/kvc0/followers", "following_url": "https://api.github.com/users/kvc0/following{/other_user}", "gists_url": "https://api.github.com/users/kvc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvc0/subscriptions", "organizations_url": "https://api.github.com/users/kvc0/orgs", "repos_url": "https://api.github.com/users/kvc0/repos", "events_url": "https://api.github.com/users/kvc0/events{/privacy}", "received_events_url": "https://api.github.com/users/kvc0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-05T01:43:09Z", "updated_at": "2024-03-05T19:17:17Z", "closed_at": "2024-03-05T19:17:16Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/15", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/15", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/15.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/15.patch", "merged_at": "2024-03-05T19:17:16Z"}, "body": "add desired_scale configuration. You can set something like `8` to try and get fine-grained resolution when your distributions have close values. When your distributions span a wide range, they will automatically degrade to the finest resolution that can express them in exponential histogram format.\r\n\r\nThe ranges are offset-aware, so if you limit to 160 buckets, you will still be able to have relatively fine-grained resolution of large numbers assuming those large numbers are relatively close together.\r\n\r\nScaling down to coarser scales can happen repeatedly or all at once. The scale workflow is modeled as a single step in-place rescale, followed by a reingest of the new value. If the new value still doesn't fit, it reingests again. Thus, the algorithm recursively hadles multi-step scaling.\r\n\r\nPerformance is unchanged within the granularity I can measure with criterion. This should just increase fidelity of histograms for normally distributed data, like most metrics are expected to approximately be.", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/15/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/15/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/14", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/14/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/14/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/14", "id": 2164537729, "node_id": "PR_kwDOINH-cs5oeIS5", "number": 14, "title": "Add exponential histogram", "user": {"login": "kvc0", "id": 3454741, "node_id": "MDQ6VXNlcjM0NTQ3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvc0", "html_url": "https://github.com/kvc0", "followers_url": "https://api.github.com/users/kvc0/followers", "following_url": "https://api.github.com/users/kvc0/following{/other_user}", "gists_url": "https://api.github.com/users/kvc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvc0/subscriptions", "organizations_url": "https://api.github.com/users/kvc0/orgs", "repos_url": "https://api.github.com/users/kvc0/repos", "events_url": "https://api.github.com/users/kvc0/events{/privacy}", "received_events_url": "https://api.github.com/users/kvc0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-02T02:48:41Z", "updated_at": "2024-03-05T01:19:09Z", "closed_at": "2024-03-05T01:19:09Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/14", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/14", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/14.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/14.patch", "merged_at": "2024-03-05T01:19:09Z"}, "body": "A basic implementation with fixed scale. 2 is recommended until\r\ndynamic scaling is implemented. A benchmark is also added, and\r\nsome basic conversion to goodmetrics protocol is in place. The\r\naggregation benchmark now compares the different aggregation\r\nformats in each run, and does fewer thread scenarios by default.\r\n\r\nExponential histograms follow [the opentelemetry standard](https://opentelemetry.io/docs/specs/otel/metrics/data-model/#exponentialhistogram), for better\r\nor for worse. When the `DistributionMode` is set to\r\n`ExponentialHistogram`, the OpentelemetryDownstream will send\r\notlp ExponentialHistograms. The goodmetrics downstream will still\r\njust send the normal map histograms, with rounded thresholds.\r\n\r\n![image](https://github.com/kvc0/goodmetrics_rs/assets/3454741/4e86492d-24ea-4fe2-b8ee-cd79e4010a86)\r\n", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/14/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/14/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/13", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/13/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/13/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/13", "id": 2091072949, "node_id": "PR_kwDOINH-cs5kk0kR", "number": 13, "title": "Add support for dimensions for gauges", "user": {"login": "rlinehan", "id": 1530016, "node_id": "MDQ6VXNlcjE1MzAwMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1530016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rlinehan", "html_url": "https://github.com/rlinehan", "followers_url": "https://api.github.com/users/rlinehan/followers", "following_url": "https://api.github.com/users/rlinehan/following{/other_user}", "gists_url": "https://api.github.com/users/rlinehan/gists{/gist_id}", "starred_url": "https://api.github.com/users/rlinehan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rlinehan/subscriptions", "organizations_url": "https://api.github.com/users/rlinehan/orgs", "repos_url": "https://api.github.com/users/rlinehan/repos", "events_url": "https://api.github.com/users/rlinehan/events{/privacy}", "received_events_url": "https://api.github.com/users/rlinehan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-19T18:28:24Z", "updated_at": "2024-02-01T03:18:43Z", "closed_at": "2024-01-31T23:04:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/13", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/13", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/13.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/13.patch", "merged_at": "2024-01-31T23:04:26Z"}, "body": "Add support for dimensioned gauges. Dimensions are added to a gauge when it is created. Gauges are stored in a `GaugeGroup` by their `DimensionPosition`.\r\n\r\nDimensioned gauges are created by building up a `GaugeDimensions`, which is a group of dimensions, and then providing that when creating the gauge. The `GaugeDimensions` is consumed on gauge creation.\r\n\r\nExample:\r\n```rust\r\nmetrics_factory.dimensioned_gauge(\"gauge_group\", \"gauge\", GaugeDimensions::from(\"a\", \"dimension\"))\r\n```", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/13/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/13/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/12", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/12/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/12/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/12", "id": 2033132547, "node_id": "PR_kwDOINH-cs5hjKRr", "number": 12, "title": "switch streamsink to std::sync::mpsc", "user": {"login": "kvc0", "id": 3454741, "node_id": "MDQ6VXNlcjM0NTQ3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvc0", "html_url": "https://github.com/kvc0", "followers_url": "https://api.github.com/users/kvc0/followers", "following_url": "https://api.github.com/users/kvc0/following{/other_user}", "gists_url": "https://api.github.com/users/kvc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvc0/subscriptions", "organizations_url": "https://api.github.com/users/kvc0/orgs", "repos_url": "https://api.github.com/users/kvc0/repos", "events_url": "https://api.github.com/users/kvc0/events{/privacy}", "received_events_url": "https://api.github.com/users/kvc0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-08T18:32:42Z", "updated_at": "2023-12-08T18:39:44Z", "closed_at": "2023-12-08T18:39:43Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/12", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/12", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/12.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/12.patch", "merged_at": "2023-12-08T18:39:43Z"}, "body": "The tokio::sync::mpsc costs a lot of time when doing a cross-runtime wake. A normal way to use metrics is to split the reporting thread(s) from the service/recording threads. It's natural to put each in their respective runtimes. That's not a good configuration for a tokio mpsc, and it measures to be way too expensive in at least 1 service.\r\n\r\nBy contrast, the std channel does a good job across threads. The main drawback here is that there's no await, so the Aggregator has to poll. Probably it will be fine for expected deployment scenarios, but of course, pr's welcome.", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/12/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/11", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/11/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/11/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/11", "id": 2021769653, "node_id": "PR_kwDOINH-cs5g8jhV", "number": 11, "title": "Remove internal mutability, add arc_allocator", "user": {"login": "kvc0", "id": 3454741, "node_id": "MDQ6VXNlcjM0NTQ3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvc0", "html_url": "https://github.com/kvc0", "followers_url": "https://api.github.com/users/kvc0/followers", "following_url": "https://api.github.com/users/kvc0/following{/other_user}", "gists_url": "https://api.github.com/users/kvc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvc0/subscriptions", "organizations_url": "https://api.github.com/users/kvc0/orgs", "repos_url": "https://api.github.com/users/kvc0/repos", "events_url": "https://api.github.com/users/kvc0/events{/privacy}", "received_events_url": "https://api.github.com/users/kvc0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-02T00:34:06Z", "updated_at": "2023-12-07T20:49:59Z", "closed_at": "2023-12-07T20:49:58Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/11", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/11", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/11.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/11.patch", "merged_at": "2023-12-07T20:49:58Z"}, "body": "Breaking change, Metrics no longer supports internal mutability. The runtime cost to users that don't need it is not worth the convenience to those who do - and I'm not aware of anyone who actually needs it at present.\r\n\r\nA new caching allocator, like the pooled_metrics_allocator, the arc_allocator relies on Arc instead of the borrow checker. While structural borrow checking is definitely better than Arc, in practice Metrics pipelines are complex enough that the lifecycles of Metrics references downstream are massively easier to work with when they are owned. In particular, the StreamSink is hard to use while satisfying lifetime requirements. It is expected that in practice the arc_allocator will not be much worse than the pooled_metrics_allocator.\r\n\r\narc_allocator uses an optimistic 8-slot concurrency model. It tries to avoid colliding locks for checking out and returning objects. This means it might allocate extra Metrics that a strict policy wouldn't, but synchronization is considered more likely to be problematic than an extra Metrics object here and there.\r\n\r\nMake sure you set your cache size to something appropriate for your use case. The minimum is 16*8 = 128. Powers of 2 will get you accurate buffer sizes; anything else will not.", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/11/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/11/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/10", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/10/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/10/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/10", "id": 1969493893, "node_id": "PR_kwDOINH-cs5eLk_b", "number": 10, "title": "simplify background tasks with tokio", "user": {"login": "kvc0", "id": 3454741, "node_id": "MDQ6VXNlcjM0NTQ3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvc0", "html_url": "https://github.com/kvc0", "followers_url": "https://api.github.com/users/kvc0/followers", "following_url": "https://api.github.com/users/kvc0/following{/other_user}", "gists_url": "https://api.github.com/users/kvc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvc0/subscriptions", "organizations_url": "https://api.github.com/users/kvc0/orgs", "repos_url": "https://api.github.com/users/kvc0/repos", "events_url": "https://api.github.com/users/kvc0/events{/privacy}", "received_events_url": "https://api.github.com/users/kvc0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-31T01:57:15Z", "updated_at": "2023-10-31T17:13:27Z", "closed_at": "2023-10-31T17:13:26Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/10", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/10", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/10.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/10.patch", "merged_at": "2023-10-31T17:13:26Z"}, "body": "Previously goodmetrics_rs had been tokio-agnostic, but it's cleaner, easier, faster, and more obvious how to use it this way.", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/10/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/9", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/9/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/9/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/9", "id": 1958183475, "node_id": "PR_kwDOINH-cs5dlaWY", "number": 9, "title": "Add gauges", "user": {"login": "kvc0", "id": 3454741, "node_id": "MDQ6VXNlcjM0NTQ3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvc0", "html_url": "https://github.com/kvc0", "followers_url": "https://api.github.com/users/kvc0/followers", "following_url": "https://api.github.com/users/kvc0/following{/other_user}", "gists_url": "https://api.github.com/users/kvc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvc0/subscriptions", "organizations_url": "https://api.github.com/users/kvc0/orgs", "repos_url": "https://api.github.com/users/kvc0/repos", "events_url": "https://api.github.com/users/kvc0/events{/privacy}", "received_events_url": "https://api.github.com/users/kvc0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-23T23:16:57Z", "updated_at": "2023-10-27T23:36:20Z", "closed_at": "2023-10-27T23:36:19Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/9", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/9", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/9.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/9.patch", "merged_at": "2023-10-27T23:36:19Z"}, "body": "Gauges are StatisticSets that are periodically retrieved. There is no additional overhead for a Gauge beyond a few Relaxed memory order atomic operations. Under high contention on a Macbook the cost per observation of a number is around 0.25\u00b5s.\r\n\r\nMetrics background tasks are getting to be more onerous. I will need to simplify the execution model at some point.", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/9/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/9/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/8", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/8/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/8/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/8", "id": 1957650139, "node_id": "PR_kwDOINH-cs5djl5X", "number": 8, "title": "Send batches more quickly", "user": {"login": "kvc0", "id": 3454741, "node_id": "MDQ6VXNlcjM0NTQ3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvc0", "html_url": "https://github.com/kvc0", "followers_url": "https://api.github.com/users/kvc0/followers", "following_url": "https://api.github.com/users/kvc0/following{/other_user}", "gists_url": "https://api.github.com/users/kvc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvc0/subscriptions", "organizations_url": "https://api.github.com/users/kvc0/orgs", "repos_url": "https://api.github.com/users/kvc0/repos", "events_url": "https://api.github.com/users/kvc0/events{/privacy}", "received_events_url": "https://api.github.com/users/kvc0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-23T17:24:31Z", "updated_at": "2023-10-23T19:06:25Z", "closed_at": "2023-10-23T19:06:24Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/8", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/8", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/8.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/8.patch", "merged_at": "2023-10-23T19:06:24Z"}, "body": "If the upstream sends metrics quickly, there might be more than 1 downstream batch per second in aggregate. This change makes the sender tasks send batches (at concurrency=1) without delay as long as there are more batches immediately ready. Sleep only happens when there is nothing to send.\r\n\r\nAlso retire the futures_timer thread. This code uses tokio, and separating it out via a feature flag would be the right thing to do instead of making additional framework dependencies.", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/8/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/8/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/7", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/7/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/7/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/7", "id": 1946372280, "node_id": "PR_kwDOINH-cs5c9jf2", "number": 7, "title": "improve contended latency", "user": {"login": "kvc0", "id": 3454741, "node_id": "MDQ6VXNlcjM0NTQ3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvc0", "html_url": "https://github.com/kvc0", "followers_url": "https://api.github.com/users/kvc0/followers", "following_url": "https://api.github.com/users/kvc0/following{/other_user}", "gists_url": "https://api.github.com/users/kvc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvc0/subscriptions", "organizations_url": "https://api.github.com/users/kvc0/orgs", "repos_url": "https://api.github.com/users/kvc0/repos", "events_url": "https://api.github.com/users/kvc0/events{/privacy}", "received_events_url": "https://api.github.com/users/kvc0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-17T01:52:28Z", "updated_at": "2023-10-17T17:55:22Z", "closed_at": "2023-10-17T17:55:21Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/7", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/7", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/7.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/7.patch", "merged_at": "2023-10-17T17:55:21Z"}, "body": "The AlwaysNewMetricsAllocator is faster, by a wide margin, in contended scenarios. By leaning into it a little, this pr gets nearly 18x more throughput with 8 cores (on a macbook), and still reaches 25% more throughput at 20% lower latency with 1 core.\r\n\r\nBroadly, there are 2 big performance increases in here:\r\n\r\n1) Moving metrics aggregation into a separate thread, via mpsc. This removed a Mutex that all Metrics drop()s had to go through. Now they just go into an mpsc SyncSender.\r\n\r\nThis change made it possible to change the AggregatingSink to just be an Aggregator. It is supposed to take a thread now, and just marshal metrics through aggregation. The threaded context is now over `self` as well, which means there is no need for a Mutex. Since we have `self` and SC from mpsc, we can blindly exploit `&mut self`. This makes metrics aggregation non-blocking and very lightweight.\r\n\r\nBy moving metrics aggregation to a dedicated thread and removing the Mutex from the drop path, direct consumers of the record_scope() api should see significantly lower latency and accordingly higher throughput.\r\n\r\n2) Removing reference requirement from MetricsAllocator. This was an experiment, but it made a huge difference to record_scope() users. After the improvements in 1), this further refined another 10-20%, depending on contention. 10% would be worth the simplification, but in single-threaded use cases it improves as much as 20%. The cost here is that it is likely going to cause some churn.\r\n\r\nThese changes together are breaking. I may remove the pooled allocator in the future, but I'll leave it for the time being.\r\n\r\nConcurrency level 8 comparison to main, record_scope measurement overhead:\r\n![image](https://github.com/kvc0/goodmetrics_rs/assets/3454741/52315c8c-5cb6-43d6-ad2e-9d89964067af)\r\n", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/7/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/7/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/6", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/6/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/6/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/6", "id": 1835651664, "node_id": "PR_kwDOINH-cs5XJAyv", "number": 6, "title": "chore: impl clone for StatisticsSet, OnlineTDigest, Aggregation", "user": {"login": "bruuuuuuuce", "id": 11823378, "node_id": "MDQ6VXNlcjExODIzMzc4", "avatar_url": "https://avatars.githubusercontent.com/u/11823378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bruuuuuuuce", "html_url": "https://github.com/bruuuuuuuce", "followers_url": "https://api.github.com/users/bruuuuuuuce/followers", "following_url": "https://api.github.com/users/bruuuuuuuce/following{/other_user}", "gists_url": "https://api.github.com/users/bruuuuuuuce/gists{/gist_id}", "starred_url": "https://api.github.com/users/bruuuuuuuce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bruuuuuuuce/subscriptions", "organizations_url": "https://api.github.com/users/bruuuuuuuce/orgs", "repos_url": "https://api.github.com/users/bruuuuuuuce/repos", "events_url": "https://api.github.com/users/bruuuuuuuce/events{/privacy}", "received_events_url": "https://api.github.com/users/bruuuuuuuce/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-03T19:55:00Z", "updated_at": "2023-08-04T18:55:24Z", "closed_at": "2023-08-04T18:55:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/6", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/6", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/6.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/6.patch", "merged_at": "2023-08-04T18:55:23Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/6/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/6/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/5", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/5/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/5/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/5", "id": 1744324552, "node_id": "PR_kwDOINH-cs5SVH7c", "number": 5, "title": "Move noisy opentelementry logging to DEBUG", "user": {"login": "PDXKimani", "id": 1761353, "node_id": "MDQ6VXNlcjE3NjEzNTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1761353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PDXKimani", "html_url": "https://github.com/PDXKimani", "followers_url": "https://api.github.com/users/PDXKimani/followers", "following_url": "https://api.github.com/users/PDXKimani/following{/other_user}", "gists_url": "https://api.github.com/users/PDXKimani/gists{/gist_id}", "starred_url": "https://api.github.com/users/PDXKimani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PDXKimani/subscriptions", "organizations_url": "https://api.github.com/users/PDXKimani/orgs", "repos_url": "https://api.github.com/users/PDXKimani/repos", "events_url": "https://api.github.com/users/PDXKimani/events{/privacy}", "received_events_url": "https://api.github.com/users/PDXKimani/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-06T17:53:22Z", "updated_at": "2023-06-08T17:19:03Z", "closed_at": "2023-06-08T05:15:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/5", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/5", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/5.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/5.patch", "merged_at": "2023-06-08T05:15:29Z"}, "body": "This log statement can generate an entry every second, leading it to dominate otherwise sparse log files at the INFO level.\r\n\r\nThis change simply moves this to DEBUG, which is in line with the equivalent statement in the goodmetrics downstream.", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/5/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/5/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/4", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/4/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/4/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/4", "id": 1578427975, "node_id": "PR_kwDOINH-cs5JpYrK", "number": 4, "title": "remove protoc from goodmetrics build dependencies", "user": {"login": "kvc0", "id": 3454741, "node_id": "MDQ6VXNlcjM0NTQ3NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvc0", "html_url": "https://github.com/kvc0", "followers_url": "https://api.github.com/users/kvc0/followers", "following_url": "https://api.github.com/users/kvc0/following{/other_user}", "gists_url": "https://api.github.com/users/kvc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvc0/subscriptions", "organizations_url": "https://api.github.com/users/kvc0/orgs", "repos_url": "https://api.github.com/users/kvc0/repos", "events_url": "https://api.github.com/users/kvc0/events{/privacy}", "received_events_url": "https://api.github.com/users/kvc0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-09T18:56:39Z", "updated_at": "2023-02-09T20:00:56Z", "closed_at": "2023-02-09T20:00:51Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/4", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/4", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/4.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/4.patch", "merged_at": "2023-02-09T20:00:51Z"}, "body": "Adds an unpublished sidecar workspace project that tries to watch the proto directory and generate protos into the main library. In this way the main library can use the generated source directly.\r\n\r\nThis should make protoc unnecessary in user applications (at least, on account of goodmetrics anyway). The publish workflow will ensure that there aren't any locally modified files, so if a proto is changed and the generated source doesn't accompany it, PR will fail.", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/4/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/4/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/2", "repository_url": "https://api.github.com/repos/kvc0/goodmetrics_rs", "labels_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/2/comments", "events_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/2/events", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/2", "id": 1570707733, "node_id": "PR_kwDOINH-cs5JP7Lk", "number": 2, "title": "Add `shared_dimensions` to `OpenTelemetryDownstream`", "user": {"login": "rlinehan", "id": 1530016, "node_id": "MDQ6VXNlcjE1MzAwMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1530016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rlinehan", "html_url": "https://github.com/rlinehan", "followers_url": "https://api.github.com/users/rlinehan/followers", "following_url": "https://api.github.com/users/rlinehan/following{/other_user}", "gists_url": "https://api.github.com/users/rlinehan/gists{/gist_id}", "starred_url": "https://api.github.com/users/rlinehan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rlinehan/subscriptions", "organizations_url": "https://api.github.com/users/rlinehan/orgs", "repos_url": "https://api.github.com/users/rlinehan/repos", "events_url": "https://api.github.com/users/rlinehan/events{/privacy}", "received_events_url": "https://api.github.com/users/rlinehan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-04T02:07:43Z", "updated_at": "2023-02-04T06:21:34Z", "closed_at": "2023-02-04T06:18:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/pulls/2", "html_url": "https://github.com/kvc0/goodmetrics_rs/pull/2", "diff_url": "https://github.com/kvc0/goodmetrics_rs/pull/2.diff", "patch_url": "https://github.com/kvc0/goodmetrics_rs/pull/2.patch", "merged_at": "2023-02-04T06:18:16Z"}, "body": "The `GoodmetricsDownstream`  can be initialized with `shared_dimensions`, which are dimensions added to every metric.\r\n\r\nThis adds `shared_dimensions` to the `OpenTelemetryDownstream`. These are implemented as OpenTelemetry `Resource`s, which, from the [specification](https://opentelemetry.io/docs/reference/specification/resource/sdk/), are used for producing information about the entity producing telemetry - e.g.  instance names. In practice, `Resource`s are somewhat inconsistently implemented, but this seems to work as desired at least in Lightstep.\r\n", "reactions": {"url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/2/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kvc0/goodmetrics_rs/issues/2/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]