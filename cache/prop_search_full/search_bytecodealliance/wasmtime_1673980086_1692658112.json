[{"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6875", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6875/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6875/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6875/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6875", "id": 1860089225, "node_id": "PR_kwDOBhDaXM5YbNd3", "number": 6875, "title": "Enable component support in Wasmtime's CI-based binaries", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-21T20:22:21Z", "updated_at": "2023-09-07T16:08:55Z", "closed_at": "2023-08-21T21:29:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6875", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6875", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6875.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6875.patch", "merged_at": "2023-08-21T21:29:21Z"}, "body": "This commit enables the `component-model` feature at compile time for our CI-originating binaries in the same manner that `all-arch` is enabled for CI as well.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6875/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6875/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6874", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6874/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6874/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6874/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6874", "id": 1860062928, "node_id": "PR_kwDOBhDaXM5YbHgR", "number": 6874, "title": "cranelift: Remove `f{min,max}_pseudo` instructions", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-21T20:06:40Z", "updated_at": "2023-09-07T16:06:14Z", "closed_at": "2023-08-21T21:27:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6874", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6874", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6874.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6874.patch", "merged_at": "2023-08-21T21:27:13Z"}, "body": "This commit removes these two instructions and replaces them instead with their equivalents using `fcmp` plus `select` or `bitselect` depending on the type (`bitselect` for vectors, `select` for scalars). The motivation for this commit is that incorrect optimizations for these instructions were removed in #6859 and likely stemmed from the surprising definitions of these instructions. These originally were intended to correspond to operations in the SIMD proposal for WebAssembly but nowadays the functionality of these instructions is replaced with:\r\n\r\n* Lowering from wasm to clif uses the `fcmp` plus `select` combo instruction.\r\n* Backends that support optimizing this pattern use ISLE patterns to match the instruction and emit the specialization for the pseudo semantics.\r\n\r\nThis means that while the instructions are removed here it should be the case that no functionality is lost and the output of Wasmtime/Cranelift should still be the same as it was before. Existing tests using the pseudo instructions were preserved except the riscv64 ones (where the lowering was deleted) and the dynamic AArch64 ones. Both s390x and x64 continue to have specialized patterns for this compare-plus-select.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6874/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6874/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6873", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6873/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6873/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6873/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6873", "id": 1860031612, "node_id": "PR_kwDOBhDaXM5YbAdp", "number": 6873, "title": "Fuzzing tweaks in wake of the pooling allocator refactor", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-21T19:47:42Z", "updated_at": "2023-08-21T21:08:38Z", "closed_at": "2023-08-21T21:07:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6873", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6873", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6873.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6873.patch", "merged_at": "2023-08-21T21:07:08Z"}, "body": "Some fuzzing-related follow ups to https://github.com/bytecodealliance/wasmtime/pull/6835\r\n\r\nFixes https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=61614 and https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=61589", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6873/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6873/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6872", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6872/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6872/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6872/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6872", "id": 1859681060, "node_id": "PR_kwDOBhDaXM5YZ0Cg", "number": 6872, "title": "Update minimum `rust-version` listed", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-08-21T15:56:02Z", "updated_at": "2023-08-21T19:02:33Z", "closed_at": "2023-08-21T19:02:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6872", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6872", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6872.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6872.patch", "merged_at": "2023-08-21T19:02:32Z"}, "body": "Previously 1.66.0 was listed, but as pointed out in #6870 we now rely on 1.71.0\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6872/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6872/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6869", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6869/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6869/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6869/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6869", "id": 1859496192, "node_id": "PR_kwDOBhDaXM5YZLGs", "number": 6869, "title": "Use generated bindings to run components in the CLI", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-21T14:24:40Z", "updated_at": "2023-08-21T17:03:56Z", "closed_at": "2023-08-21T17:03:55Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6869", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6869", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6869.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6869.patch", "merged_at": "2023-08-21T17:03:54Z"}, "body": "This commit updates the component support in the `wasmtime` CLI from #6836 to use the generated bindings for the \"command\" style of components rather than having that custom-written in the CLI.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6869/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6868", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6868/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6868/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6868/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6868", "id": 1859486260, "node_id": "PR_kwDOBhDaXM5YZI9K", "number": 6868, "title": "Update notes about 64-bit memory support", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-21T14:19:32Z", "updated_at": "2023-08-21T16:51:48Z", "closed_at": "2023-08-21T16:39:09Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6868", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6868", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6868.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6868.patch", "merged_at": "2023-08-21T16:39:09Z"}, "body": "Closes #6865\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6868/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6868/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6864", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6864/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6864/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6864/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6864", "id": 1857905742, "node_id": "PR_kwDOBhDaXM5YT5cG", "number": 6864, "title": "Release Wasmtime 12.0.0", "user": {"login": "wasmtime-publish", "id": 59749941, "node_id": "MDQ6VXNlcjU5NzQ5OTQx", "avatar_url": "https://avatars.githubusercontent.com/u/59749941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wasmtime-publish", "html_url": "https://github.com/wasmtime-publish", "followers_url": "https://api.github.com/users/wasmtime-publish/followers", "following_url": "https://api.github.com/users/wasmtime-publish/following{/other_user}", "gists_url": "https://api.github.com/users/wasmtime-publish/gists{/gist_id}", "starred_url": "https://api.github.com/users/wasmtime-publish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wasmtime-publish/subscriptions", "organizations_url": "https://api.github.com/users/wasmtime-publish/orgs", "repos_url": "https://api.github.com/users/wasmtime-publish/repos", "events_url": "https://api.github.com/users/wasmtime-publish/events{/privacy}", "received_events_url": "https://api.github.com/users/wasmtime-publish/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-20T00:13:08Z", "updated_at": "2023-08-21T15:14:53Z", "closed_at": "2023-08-21T15:14:52Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6864", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6864", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6864.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6864.patch", "merged_at": "2023-08-21T15:14:52Z"}, "body": "This is an [automated pull request][process] from CI which is\nintended to notify maintainers that it's time to release Wasmtime\n12.0.0. The [release branch][branch] was created roughly two weeks ago\nand it's now time for it to be published and released.\n\nIt's recommended that maintainers double-check that [RELEASES.md]\nis up-to-date and that there are no known issues before merging this\nPR. When this PR is merged a release tag will automatically be\ncreated, crates will be published, and CI artifacts will be produced.\n\n[RELEASES.md]: https://github.com/bytecodealliance/wasmtime/blob/main/RELEASES.md\n[process]: https://docs.wasmtime.dev/contributing-release-process.html\n[branch]: https://github.com/bytecodealliance/wasmtime/tree/release-12.0.0\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6864/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6864/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6863", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6863/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6863/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6863/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6863", "id": 1857905731, "node_id": "PR_kwDOBhDaXM5YT5b-", "number": 6863, "title": "Update release date of Wasmtime 12.0.0", "user": {"login": "wasmtime-publish", "id": 59749941, "node_id": "MDQ6VXNlcjU5NzQ5OTQx", "avatar_url": "https://avatars.githubusercontent.com/u/59749941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wasmtime-publish", "html_url": "https://github.com/wasmtime-publish", "followers_url": "https://api.github.com/users/wasmtime-publish/followers", "following_url": "https://api.github.com/users/wasmtime-publish/following{/other_user}", "gists_url": "https://api.github.com/users/wasmtime-publish/gists{/gist_id}", "starred_url": "https://api.github.com/users/wasmtime-publish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wasmtime-publish/subscriptions", "organizations_url": "https://api.github.com/users/wasmtime-publish/orgs", "repos_url": "https://api.github.com/users/wasmtime-publish/repos", "events_url": "https://api.github.com/users/wasmtime-publish/events{/privacy}", "received_events_url": "https://api.github.com/users/wasmtime-publish/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-20T00:13:05Z", "updated_at": "2023-08-21T15:21:02Z", "closed_at": "2023-08-21T15:21:00Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6863", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6863", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6863.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6863.patch", "merged_at": "2023-08-21T15:21:00Z"}, "body": "This is an [automated pull request][process] from CI which is updating\nthe release date of Wasmtime 12.0.0 to today. This PR's base branch\nis `main` and a second PR will be coming to perform the actual\nrelease which will be targeted at `release-12.0.0`.\n\n[process]: https://docs.wasmtime.dev/contributing-release-process.html\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6863/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6863/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6861", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6861/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6861/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6861/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6861", "id": 1857291053, "node_id": "PR_kwDOBhDaXM5YR55p", "number": 6861, "title": "Bump the wasm-tools family of crates", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-18T21:05:01Z", "updated_at": "2023-08-19T01:00:54Z", "closed_at": "2023-08-19T01:00:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6861", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6861", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6861.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6861.patch", "merged_at": "2023-08-19T01:00:53Z"}, "body": "Pull in the latest versions just published\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6861/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6861/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6859", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6859/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6859/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6859/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6859", "id": 1857155573, "node_id": "PR_kwDOBhDaXM5YRcLd", "number": 6859, "title": "egraphs: Delete `select+fcmp` to `f{min,max}_pseudo` transform", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-08-18T18:53:34Z", "updated_at": "2023-08-21T17:54:49Z", "closed_at": "2023-08-21T17:54:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6859", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6859", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6859.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6859.patch", "merged_at": "2023-08-21T17:54:48Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis transform is wrong for the inputs in the attached testcase. Both of these instructions differ with their NaN behaviours.\r\n\r\nIt was introduced in #5546 and has been sort of unnoticed until #6843 caused some wasmtime testcode to fire this optimization rule and produce this counterexample.\r\n\r\n@jameysharp has also a [nice example](https://github.com/bytecodealliance/wasmtime/pull/6843#issuecomment-1684226551 ) of how the testcode now fires this rule (with #6843) where it hadn't before.\r\n\r\nI have no idea how fuzzgen hasn't found this yet! It's a really simple input so it should have been found pretty much instantly.\r\n\r\nI've been trying to look at why over the past week but haven't come to any conclusions yet. Right now I'm trying to look into the nan canonicalization pass and trying to check if it would mask this behavior.\r\n\r\nCC: @alexcrichton ", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6859/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6858", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6858/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6858/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6858/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6858", "id": 1856326804, "node_id": "PR_kwDOBhDaXM5YOnAr", "number": 6858, "title": "Call verifier after egraph pass", "user": {"login": "gurry", "id": 1068853, "node_id": "MDQ6VXNlcjEwNjg4NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1068853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gurry", "html_url": "https://github.com/gurry", "followers_url": "https://api.github.com/users/gurry/followers", "following_url": "https://api.github.com/users/gurry/following{/other_user}", "gists_url": "https://api.github.com/users/gurry/gists{/gist_id}", "starred_url": "https://api.github.com/users/gurry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gurry/subscriptions", "organizations_url": "https://api.github.com/users/gurry/orgs", "repos_url": "https://api.github.com/users/gurry/repos", "events_url": "https://api.github.com/users/gurry/events{/privacy}", "received_events_url": "https://api.github.com/users/gurry/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-08-18T08:52:58Z", "updated_at": "2023-08-19T03:26:15Z", "closed_at": "2023-08-18T09:56:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6858", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6858", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6858.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6858.patch", "merged_at": "2023-08-18T09:56:27Z"}, "body": "Fixes #6855 ", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6858/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6858/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6857", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6857/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6857/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6857/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6857", "id": 1855752899, "node_id": "PR_kwDOBhDaXM5YMrfn", "number": 6857, "title": "riscv64: Implement SIMD FMA", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4590005593, "node_id": "LA_kwDOBhDaXM8AAAABEZXtWQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:riscv64", "name": "cranelift:area:riscv64", "color": "fbca04", "default": false, "description": "Issues related to the RISC-V 64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-17T21:49:30Z", "updated_at": "2023-08-17T23:13:19Z", "closed_at": "2023-08-17T23:13:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6857", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6857", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6857.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6857.patch", "merged_at": "2023-08-17T23:13:18Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis PR Implements the various FMA instructions that we have in the RISC-V Vector specification.\r\n\r\nThese deal with with a number of cases besides the regular FMA. We have separate instructions to deal with `fneg` at various positions.\r\n\r\nAdditionally this fixes an encoding error in the `valu_rrrr` instruction format, which was introduced in #6815. This encoding error swapped the `vs1` and `vs2` arguments.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6857/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6856", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6856/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6856/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6856/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6856", "id": 1855339631, "node_id": "PR_kwDOBhDaXM5YLRg3", "number": 6856, "title": "wmemcheck: update docs.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-17T16:37:03Z", "updated_at": "2023-08-17T18:26:09Z", "closed_at": "2023-08-17T18:26:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6856", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6856", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6856.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6856.patch", "merged_at": "2023-08-17T18:26:08Z"}, "body": "This PR expands the documentation for the Wasm memchecker (`wmemcheck`) feature significantly, and also links it from the top-level documentation hierarchy.\r\n\r\nThanks to folks in the Wasmtime biweekly for pointing out this omission and @abrown for noting that the docs should include example of outputs/error messages.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6856/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6856/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6853", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6853/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6853/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6853/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6853", "id": 1853979279, "node_id": "PR_kwDOBhDaXM5YGqJl", "number": 6853, "title": "wasi-nn: update upstream specification", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-16T22:24:58Z", "updated_at": "2023-08-16T23:55:49Z", "closed_at": "2023-08-16T23:55:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6853", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6853", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6853.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6853.patch", "merged_at": "2023-08-16T23:55:48Z"}, "body": "This change removes the temporary `*.wit` files and bumps the `spec` directory to the latest [wasi-nn] commit. This is now possible because the upstream `spec` repository has all of the updated WIT and WITX bits. The `load_by_name` implementations are left as TODOs for now and will be included in a subsequent PR.\r\n\r\nOne other change is a refactoring: we wrap up some types--`Graph` and `ExecutionContext`--to avoid passing around `Box<dyn ...>`. This simplifies some of the code but should not change behavior.\r\n\r\n[wasi-nn]: https://github.com/WebAssembly/wasi-nn.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6853/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6853/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6851", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6851/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6851/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6851/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6851", "id": 1852467941, "node_id": "PR_kwDOBhDaXM5YBhsu", "number": 6851, "title": "Add splat simplify opt for various ops", "user": {"login": "gurry", "id": 1068853, "node_id": "MDQ6VXNlcjEwNjg4NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1068853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gurry", "html_url": "https://github.com/gurry", "followers_url": "https://api.github.com/users/gurry/followers", "following_url": "https://api.github.com/users/gurry/following{/other_user}", "gists_url": "https://api.github.com/users/gurry/gists{/gist_id}", "starred_url": "https://api.github.com/users/gurry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gurry/subscriptions", "organizations_url": "https://api.github.com/users/gurry/orgs", "repos_url": "https://api.github.com/users/gurry/repos", "events_url": "https://api.github.com/users/gurry/events{/privacy}", "received_events_url": "https://api.github.com/users/gurry/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-08-16T04:03:55Z", "updated_at": "2023-08-18T09:10:17Z", "closed_at": "2023-08-18T09:02:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6851", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6851", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6851.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6851.patch", "merged_at": "2023-08-18T09:02:20Z"}, "body": "Fixes #6828", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6851/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6851/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6849", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6849/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6849/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6849/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6849", "id": 1851713817, "node_id": "PR_kwDOBhDaXM5X-_D6", "number": 6849, "title": "CI: upgrade to qemu 8.0.4.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-08-15T15:58:09Z", "updated_at": "2023-08-16T02:09:16Z", "closed_at": "2023-08-16T02:09:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6849", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6849", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6849.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6849.patch", "merged_at": "2023-08-16T02:09:15Z"}, "body": "This should resolve a bug in qemu triggered by changes in #6820 (see\r\n[here](https://github.com/bytecodealliance/wasmtime/pull/6820#issuecomment-1678908361)).\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6849/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6849/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6847", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6847/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6847/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6847/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6847", "id": 1850737703, "node_id": "PR_kwDOBhDaXM5X7vv-", "number": 6847, "title": "Rename `preview2::preview2` to `preview2::host`", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-15T00:13:32Z", "updated_at": "2023-08-15T03:01:36Z", "closed_at": "2023-08-15T03:01:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6847", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6847", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6847.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6847.patch", "merged_at": "2023-08-15T03:01:36Z"}, "body": "Reduce confusion when referring to the `preview2::preview2` modules by renaming the inner `preview2` to `host`.\n<!--\nPlease make sure you include the following information:\n\n- If this work has been discussed elsewhere, please include a link to that\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\n\n- Explain why this change is needed. If the details are in an issue already,\n  this can be brief.\n\nOur development process is documented in the Wasmtime book:\nhttps://docs.wasmtime.dev/contributing-development-process.html\n\nPlease ensure all communication follows the code of conduct:\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\n-->\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6847/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6847/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6846", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6846/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6846/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6846/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6846", "id": 1850683889, "node_id": "PR_kwDOBhDaXM5X7j3b", "number": 6846, "title": "stream wit definition eliminates stream-error", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-14T23:09:25Z", "updated_at": "2023-08-17T21:37:55Z", "closed_at": "2023-08-17T21:37:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6846", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6846", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6846.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6846.patch", "merged_at": "2023-08-17T21:37:54Z"}, "body": "In https://github.com/WebAssembly/wasi-io/pull/38 we got review feedback to eliminate the stream-error in favor of the empty error (wit `result<a>`). Although upstream PR 38 is not merged yet, we are downstreaming this interface change now, expecting it will merge upstream soon.\r\n\r\nThe wit change means we cant use wasmtime-wit-bindgen's `trappable_error` functionality anymore, so the signature of the streams binding trait its call sites are much less idiomatic than before. We'll fix the wasmtime-wit-bindgen macro to support this case better in the future, but for now we can live with this code being a little ugly, since most users will be using the (much nicer) `HostInputStream` and `HostOutputStream` types.\r\n\r\nAs we made this change, it occurred to us that the host stream trait design doesn't distinguish between an error to be returned via a stream method at runtime, and an error that traps execution. We defined the `StreamRuntimeError` type for runtime errors, and all other errors trap.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6846/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6845", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6845/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6845/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6845/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6845", "id": 1850671083, "node_id": "PR_kwDOBhDaXM5X7hDU", "number": 6845, "title": "Rename preview1/mod.rs to preview1.rs", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-14T22:54:45Z", "updated_at": "2023-08-15T00:01:34Z", "closed_at": "2023-08-15T00:01:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6845", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6845", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6845.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6845.patch", "merged_at": "2023-08-15T00:01:33Z"}, "body": "Rename `crates/wasi/src/preview2/preview1/mod.rs` to `crates/wasi/src/preview2/preview1.rs`, as there are no other files in the `preview1` directory.\n\n<!--\nPlease make sure you include the following information:\n\n- If this work has been discussed elsewhere, please include a link to that\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\n\n- Explain why this change is needed. If the details are in an issue already,\n  this can be brief.\n\nOur development process is documented in the Wasmtime book:\nhttps://docs.wasmtime.dev/contributing-development-process.html\n\nPlease ensure all communication follows the code of conduct:\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\n-->\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6845/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6844", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6844/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6844/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6844/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6844", "id": 1849120110, "node_id": "PR_kwDOBhDaXM5X2O1g", "number": 6844, "title": "Add support for vector in DataValueExt::int()", "user": {"login": "gurry", "id": 1068853, "node_id": "MDQ6VXNlcjEwNjg4NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1068853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gurry", "html_url": "https://github.com/gurry", "followers_url": "https://api.github.com/users/gurry/followers", "following_url": "https://api.github.com/users/gurry/following{/other_user}", "gists_url": "https://api.github.com/users/gurry/gists{/gist_id}", "starred_url": "https://api.github.com/users/gurry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gurry/subscriptions", "organizations_url": "https://api.github.com/users/gurry/orgs", "repos_url": "https://api.github.com/users/gurry/repos", "events_url": "https://api.github.com/users/gurry/events{/privacy}", "received_events_url": "https://api.github.com/users/gurry/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-08-14T06:52:50Z", "updated_at": "2023-08-16T02:27:08Z", "closed_at": "2023-08-14T11:21:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6844", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6844", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6844.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6844.patch", "merged_at": "2023-08-14T11:21:00Z"}, "body": "Fixes #6827 ", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6844/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6844/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6843", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6843/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6843/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6843/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6843", "id": 1848754750, "node_id": "PR_kwDOBhDaXM5X0_eS", "number": 6843, "title": "egraphs: Add some `select` optimizations", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2023-08-13T22:00:09Z", "updated_at": "2023-08-21T21:38:15Z", "closed_at": "2023-08-21T21:38:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6843", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6843", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6843.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6843.patch", "merged_at": "2023-08-21T21:38:14Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nI was playing around with a project that uses cranelift as it's backend, and found some IR patterns where we could do better optimizations.\r\n\r\nThis PR adds a few optimizations:\r\n\r\n* We try to remove `{u,s}extend` and `ireduce` from the controlling input of `select`. In many cases we can avoid them since `select` supports pretty much any input type.\r\n\r\n* When we have `(select c (iconst -1) (iconst 0))` we can remove the `select` if we know that the controlling value already generates a `-1` or `0`. I've implemented this for `icmp` and `fcmp`\r\n    * I wanted to add a base rule that would turn any other value into `bmask`, but it ended up messing with the `icmp` and `fcmp` rules, and I'm not sure how to deal with that.\r\n\r\n* Delete consecutive `bmask`'s\r\n* Delete consecutive `bswap`'s\r\n\r\nI've ran sightglass on these and it shows no difference. I've also fuzzed this change for a couple of hours and it also didn't trigger anything.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6843/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6843/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6841", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6841/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6841/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6841/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6841", "id": 1847349673, "node_id": "PR_kwDOBhDaXM5XwTP_", "number": 6841, "title": "winch: Simplify the MacroAssembler and Assembler interfaces", "user": {"login": "saulecabrera", "id": 1423601, "node_id": "MDQ6VXNlcjE0MjM2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1423601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saulecabrera", "html_url": "https://github.com/saulecabrera", "followers_url": "https://api.github.com/users/saulecabrera/followers", "following_url": "https://api.github.com/users/saulecabrera/following{/other_user}", "gists_url": "https://api.github.com/users/saulecabrera/gists{/gist_id}", "starred_url": "https://api.github.com/users/saulecabrera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saulecabrera/subscriptions", "organizations_url": "https://api.github.com/users/saulecabrera/orgs", "repos_url": "https://api.github.com/users/saulecabrera/repos", "events_url": "https://api.github.com/users/saulecabrera/events{/privacy}", "received_events_url": "https://api.github.com/users/saulecabrera/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5021130657, "node_id": "LA_kwDOBhDaXM8AAAABK0hfoQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/winch", "name": "winch", "color": "4DE22F", "default": false, "description": "Winch issues or pull requests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-11T19:55:13Z", "updated_at": "2023-08-15T01:09:48Z", "closed_at": "2023-08-15T01:09:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6841", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6841", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6841.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6841.patch", "merged_at": "2023-08-15T01:09:47Z"}, "body": "This commit prepares for the introduction of float support to Winch. Initially, I intended to include this change as part of the original change supporting floats, but that change is already sizable enough.\r\n\r\nThis modification simplifies the Assembler and MacroAssembler interfaces, as well as the interaction and responsibilities between them, by:\r\n\r\n* Eliminating the `Operand` abstraction, which didn't offer a substantial benefit over simply using the MacroAssembler's `RegImm` and `Address` abstractions as operands where necessary. This approach also reduces the number of conversions required prior to emission.\r\n\r\n* Shifting the instruction dispatch responsibility solely to the MacroAssembler, rather than having this responsibility shared across both abstractions. This was always the original intention behind the MacroAssembler. As a result, function definitions at the Assembler layer become simpler.\r\n\r\nThis change also introduces richer type information for immediates, which results in better instruction selection in some cases, and it's also needed to support floats.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6841/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6839", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6839/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6839/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6839/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6839", "id": 1847055439, "node_id": "PR_kwDOBhDaXM5XvTCS", "number": 6839, "title": "Minor documentation updates to docs/WASI-tutorial.md", "user": {"login": "JiaT75", "id": 78042786, "node_id": "MDQ6VXNlcjc4MDQyNzg2", "avatar_url": "https://avatars.githubusercontent.com/u/78042786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JiaT75", "html_url": "https://github.com/JiaT75", "followers_url": "https://api.github.com/users/JiaT75/followers", "following_url": "https://api.github.com/users/JiaT75/following{/other_user}", "gists_url": "https://api.github.com/users/JiaT75/gists{/gist_id}", "starred_url": "https://api.github.com/users/JiaT75/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JiaT75/subscriptions", "organizations_url": "https://api.github.com/users/JiaT75/orgs", "repos_url": "https://api.github.com/users/JiaT75/repos", "events_url": "https://api.github.com/users/JiaT75/events{/privacy}", "received_events_url": "https://api.github.com/users/JiaT75/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-08-11T15:46:25Z", "updated_at": "2024-04-04T22:13:00Z", "closed_at": "2023-08-14T17:14:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": "resolved", "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6839", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6839", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6839.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6839.patch", "merged_at": "2023-08-14T17:14:54Z"}, "body": "Hi!\r\n\r\nI was working through your tutorial in the beginning of my journey to port something to be able to run in wasi-sdk. This PR should fix a minor copy/paste error and update some of the error messages.\r\n\r\nwasi-sdk version: 20.11gf3b43c703f1a (compiled/installed from source)\r\nwasmtime-cli: 11.0.1\r\n\r\nI hope this helps!", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6839/reactions", "total_count": 4, "+1": 0, "-1": 3, "laugh": 1, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6839/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6838", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6838/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6838/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6838/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6838", "id": 1846691588, "node_id": "PR_kwDOBhDaXM5XuDEv", "number": 6838, "title": "Update RELEASES.md", "user": {"login": "TimonPost", "id": 19969910, "node_id": "MDQ6VXNlcjE5OTY5OTEw", "avatar_url": "https://avatars.githubusercontent.com/u/19969910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimonPost", "html_url": "https://github.com/TimonPost", "followers_url": "https://api.github.com/users/TimonPost/followers", "following_url": "https://api.github.com/users/TimonPost/following{/other_user}", "gists_url": "https://api.github.com/users/TimonPost/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimonPost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimonPost/subscriptions", "organizations_url": "https://api.github.com/users/TimonPost/orgs", "repos_url": "https://api.github.com/users/TimonPost/repos", "events_url": "https://api.github.com/users/TimonPost/events{/privacy}", "received_events_url": "https://api.github.com/users/TimonPost/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-11T11:52:10Z", "updated_at": "2023-08-14T17:21:59Z", "closed_at": "2023-08-14T17:21:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6838", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6838", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6838.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6838.patch", "merged_at": "2023-08-14T17:21:59Z"}, "body": "Add entry on #6804 as it was quite a big performance optimization for us. Is the description right level of abstraction?", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6838/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6836", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6836/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6836/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6836/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6836", "id": 1846029623, "node_id": "PR_kwDOBhDaXM5Xrzkr", "number": 6836, "title": " Refactor Wasmtime CLI to support components ", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-08-10T23:53:26Z", "updated_at": "2023-08-19T01:06:59Z", "closed_at": "2023-08-19T01:06:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6836", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6836", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6836.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6836.patch", "merged_at": "2023-08-19T01:06:58Z"}, "body": "This commit refactors the `wasmtime` CLI executable to be able to\r\nsupport not only compiling components but additionally executing\r\ncomponents. While I was doing this I've additionally added a new\r\n`--preview2` argument to enable using the new experimental\r\nimplementation of preview1 based on preview2 type/structs. This is\r\noff-by-default but is expected to become the default in the future.\r\n\r\nSome notable features of this change are:\r\n\r\n* The preview1-implemented-with-preview2 module now sports\r\n  `add_to_linker_{async,sync}` to replace the previous `add_to_linker`\r\n  which always did async.\r\n\r\n* Some trait bounds in the preview1-implemented-with-preview2 module are\r\n  simplified.\r\n\r\n* Some minor changes were made to `wiggle`'s macros to support a \"block\r\n  on\" that isn't the default wiggle dummy executor (as now we actually\r\n  do need Tokio)\r\n\r\n* Many options related to core wasm `Linker` configuration, such as\r\n  `--default-values-unknown-imports`, are not implemented for components\r\n  at this time. When used with components these options return an error.\r\n\r\n* Construction of WASI contexts has been refactored to pass around fewer\r\n  arguments to avoid threading through lots of values for both preview1\r\n  and preview2.\r\n\r\n* Reading the input to the Wasmtime CLI has been updated to read the\r\n  input in the `run` subcommand before handing it off to the `wasmtime`\r\n  crate's API to enable the CLI to use the contents of what's loaded to\r\n  determine what to do next.\r\n\r\n* Our generic `./ci/run-tests.sh` script has been updated to pass the\r\n  `--features component-model` flag to ensure that this CLI support is\r\n  tested during the normal test suite.\r\n  \r\n  \r\n---\r\n\r\n> ~~Procedural Note: this PR is based on https://github.com/bytecodealliance/wasmtime/pull/6833 and https://github.com/bytecodealliance/wasmtime/pull/6823 so the first few commits can be ignored.~~", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6836/reactions", "total_count": 3, "+1": 2, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6836/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6835", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6835/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6835/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6835/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6835", "id": 1845993776, "node_id": "PR_kwDOBhDaXM5Xrr9B", "number": 6835, "title": "Wasmtime: refactor the pooling allocator for components", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}, {"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-08-10T22:54:54Z", "updated_at": "2023-08-21T15:48:12Z", "closed_at": "2023-08-18T22:04:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6835", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6835", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6835.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6835.patch", "merged_at": "2023-08-18T22:04:41Z"}, "body": "We used to have one index allocator, an index per instance, and give out N\r\ntables and M memories to every instance regardless how many tables and memories\r\nthey need.\r\n\r\nNow we have an index allocator for memories and another for tables. An instance\r\nisn't associated with a single instance, each of its memories and tables have an\r\nindex. We allocate exactly as many tables and memories as the instance actually\r\nneeds.\r\n\r\nUltimately, this gives us better component support, where a component instance\r\nmight have varying numbers of internal tables and memories.\r\n\r\nAdditionally, you can now limit the number of tables, memories, and core\r\ninstances a single component can allocate from the pooling allocator, even if\r\nthere is the capacity for that many available. This is to give embedders tools\r\nto limit individual component instances and prevent them from hogging too much\r\nof the pooling allocator's resources.\r\n\r\n----------------------------\r\n\r\nTODO before landing:\r\n\r\n* [x] Update `RELEASES.md` with a heads up about the config changes and give a small guide of how to migrate existing set ups", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6835/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6835/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6834", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6834/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6834/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6834/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6834", "id": 1845756583, "node_id": "PR_kwDOBhDaXM5Xq4Ml", "number": 6834, "title": "Back out CLI changes from 12.0.0 release notes", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-10T19:19:13Z", "updated_at": "2023-09-07T16:07:36Z", "closed_at": "2023-08-11T23:10:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6834", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6834", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6834.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6834.patch", "merged_at": "2023-08-11T23:10:14Z"}, "body": "This was reverted for 12.0.0 in #6830\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6834/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6834/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6833", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6833/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6833/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6833/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6833", "id": 1845728304, "node_id": "PR_kwDOBhDaXM5XqyAC", "number": 6833, "title": " Update stdio on Unix to fall back to worker threads ", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-08-10T18:59:15Z", "updated_at": "2023-09-07T16:05:36Z", "closed_at": "2023-08-14T22:48:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6833", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6833", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6833.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6833.patch", "merged_at": "2023-08-14T22:48:28Z"}, "body": "\r\n\r\nNot all file descriptors can get registered with epoll, for example\r\nfiles on Linux or `/dev/null` on macOS return errors. In these\r\nsituations the fallback of the worker thread implementation is used\r\ninstead.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6833/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6833/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6832", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6832/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6832/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6832/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6832", "id": 1845661702, "node_id": "PR_kwDOBhDaXM5XqjhZ", "number": 6832, "title": "Add an API to detect precompiled modules/components", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-10T18:09:23Z", "updated_at": "2023-09-26T02:34:52Z", "closed_at": "2023-08-10T21:01:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6832", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6832", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6832.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6832.patch", "merged_at": "2023-08-10T21:01:27Z"}, "body": "This commit adds a new `Engine::detect_precompiled` API to inspect some bytes and determine if they look like a precompiled artifact of either a core wasm module or component. This is something I'll be using soon in an upcoming refactor of the Wasmtime CLI to support components, but it's something we've also talked about before which can be useful for systems storing both precompiled modules and components.\r\n\r\nImplementation-wise this looks at the ELF header of the input and determines if it's got all the right flags that Wasmtime sets for the various bits and bobs of our object format.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6832/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6831", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6831/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6831/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6831/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6831", "id": 1845640106, "node_id": "PR_kwDOBhDaXM5Xqesz", "number": 6831, "title": "Fix testing cli-flags crate with component-model feature", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-10T17:56:18Z", "updated_at": "2023-08-10T19:10:26Z", "closed_at": "2023-08-10T19:04:35Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6831", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6831", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6831.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6831.patch", "merged_at": "2023-08-10T19:04:35Z"}, "body": "Not used on CI yet but it's part of an upcoming change I figured I'd split out.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6831/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6831/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6830", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6830/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6830/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6830/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6830", "id": 1845610227, "node_id": "PR_kwDOBhDaXM5XqYJI", "number": 6830, "title": "[12.0.0] Revert \"Require wasmtime options are first when running modules (#6737)\"", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-08-10T17:36:09Z", "updated_at": "2023-08-10T18:58:55Z", "closed_at": "2023-08-10T18:58:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6830", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6830", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6830.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6830.patch", "merged_at": "2023-08-10T18:58:54Z"}, "body": "\r\n\r\nThis reverts commit 8091556514f03b919bad001a580a8a38f18d11a0. The fallout of this change has been larger than expected so revert this on the 12.0.0 branch to provide more time to discuss this and figure out the best course of action.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6830/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6830/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6822", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6822/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6822/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6822/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6822", "id": 1842138150, "node_id": "PR_kwDOBhDaXM5XenHK", "number": 6822, "title": "Fix typo", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-08T21:38:34Z", "updated_at": "2023-08-08T22:52:25Z", "closed_at": "2023-08-08T22:52:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6822", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6822", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6822.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6822.patch", "merged_at": "2023-08-08T22:52:24Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6822/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6821", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6821/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6821/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6821/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6821", "id": 1842128267, "node_id": "PR_kwDOBhDaXM5Xek8p", "number": 6821, "title": "wasi-nn: refactor to allow `preview2` access", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-08-08T21:29:19Z", "updated_at": "2023-08-16T20:09:33Z", "closed_at": "2023-08-16T20:09:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6821", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6821", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6821.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6821.patch", "merged_at": "2023-08-16T20:09:32Z"}, "body": "This change refactors the `wasmtime-wasi-nn` crate to allow access from both `preview1` and `preview2` ABIs. Though the `wasi-nn` specification has included a WIT description for some time, here we use some in-tree files until https://github.com/WebAssembly/wasi-nn/pull/38 is landed. The `preview2` code is not exercised anywhere yet: ideally this would be wired up once component model `resource`s are fully implemented in Wasmtime.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6821/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6821/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6820", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6820/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6820/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6820/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6820", "id": 1841752701, "node_id": "PR_kwDOBhDaXM5XdQAg", "number": 6820, "title": "Memcheck for Wasm guests in Wasmtime", "user": {"login": "ssunkin-fastly", "id": 134561977, "node_id": "U_kgDOCAVAuQ", "avatar_url": "https://avatars.githubusercontent.com/u/134561977?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssunkin-fastly", "html_url": "https://github.com/ssunkin-fastly", "followers_url": "https://api.github.com/users/ssunkin-fastly/followers", "following_url": "https://api.github.com/users/ssunkin-fastly/following{/other_user}", "gists_url": "https://api.github.com/users/ssunkin-fastly/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssunkin-fastly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssunkin-fastly/subscriptions", "organizations_url": "https://api.github.com/users/ssunkin-fastly/orgs", "repos_url": "https://api.github.com/users/ssunkin-fastly/repos", "events_url": "https://api.github.com/users/ssunkin-fastly/events{/privacy}", "received_events_url": "https://api.github.com/users/ssunkin-fastly/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-08-08T17:54:04Z", "updated_at": "2023-09-26T02:36:16Z", "closed_at": "2023-08-16T04:25:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6820", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6820", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6820.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6820.patch", "merged_at": "2023-08-16T04:25:04Z"}, "body": "This PR introduces `wmemcheck`, a memory checker for a Wasm guest running inside Wasmtime.\r\n\r\n`wmemcheck` operates by recognizing calls to malloc and free inside the Wasm module, and tracking which bytes are valid. It then instruments loads and stores and flags errors when accesses are invalid. This is inspired by the `memcheck` tool in Valgrind, hence the name.\r\n\r\nThe functionality is off by default and is enabled with `wasmtime run --wmemcheck`.\r\n\r\nCo-authored-by: Chris Fallin <chris@cfallin.org>\r\nCo-authored-by: iximeow <me@iximeow.net>", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6820/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6820/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6819", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6819/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6819/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6819/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6819", "id": 1840307128, "node_id": "PR_kwDOBhDaXM5XYXGq", "number": 6819, "title": "Fix typo", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-07T22:49:47Z", "updated_at": "2023-08-07T23:54:23Z", "closed_at": "2023-08-07T23:54:23Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6819", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6819", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6819.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6819.patch", "merged_at": "2023-08-07T23:54:23Z"}, "body": "<!--\nPlease make sure you include the following information:\n\n- If this work has been discussed elsewhere, please include a link to that\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\n\n- Explain why this change is needed. If the details are in an issue already,\n  this can be brief.\n\nOur development process is documented in the Wasmtime book:\nhttps://docs.wasmtime.dev/contributing-development-process.html\n\nPlease ensure all communication follows the code of conduct:\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\n-->\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6819/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6819/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6817", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6817/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6817/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6817/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6817", "id": 1840020085, "node_id": "PR_kwDOBhDaXM5XXYPE", "number": 6817, "title": "Add release notes for 12.0.0", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-07T18:37:52Z", "updated_at": "2023-08-08T16:47:15Z", "closed_at": "2023-08-08T16:47:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6817", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6817", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6817.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6817.patch", "merged_at": "2023-08-08T16:47:14Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6817/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6817/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6816", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6816/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6816/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6816/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6816", "id": 1839951751, "node_id": "PR_kwDOBhDaXM5XXJZU", "number": 6816, "title": "Remove the implementation of wasi-crypto", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-07T17:47:27Z", "updated_at": "2023-08-08T16:41:37Z", "closed_at": "2023-08-08T16:41:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6816", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6816", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6816.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6816.patch", "merged_at": "2023-08-08T16:41:36Z"}, "body": "This commit is a follow-up to the discussion on #6732. This removes Wasmtime's implementation of the wasi-crypto proposal from in-tree along with its various support in CI, configuration, etc. See the discussion on #6732 for the full information but at a high level the main reasons for removing the implementation at this time are:\r\n\r\n* There is not currently an active maintainer of the Wasmtime integration here for wasi-crypto.\r\n* There are known issues with the code quality of the implementation such as transmutes of guest-owned memory to `&'static mut [u8]` and known unsafety in dependencies.\r\n* The size and breadth of the dependency tree brings maintenance burden and overhead to managing Wasmtime's dependency tree.\r\n\r\nAs mentioned on the issue this commit does not mean that Wasmtime doesn't want to implement the wasi-crypto proposal. Instead the \"tier 3\" status of wasi-crypto needs to be re-attained to be included back in-tree, which would mean resolving the above issues.\r\n\r\nNote that this commit is intentionally just after the 13.0.0 branch point which means that this is slated for Wasmtime 14 to be released on September 20.\r\n\r\nCloses #6732\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6816/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6816/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6815", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6815/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6815/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6815/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6815", "id": 1839941675, "node_id": "PR_kwDOBhDaXM5XXHLH", "number": 6815, "title": "riscv64: Add SIMD IFMA instruction support", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 4590005593, "node_id": "LA_kwDOBhDaXM8AAAABEZXtWQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:riscv64", "name": "cranelift:area:riscv64", "color": "fbca04", "default": false, "description": "Issues related to the RISC-V 64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-07T17:40:19Z", "updated_at": "2023-08-09T22:50:00Z", "closed_at": "2023-08-09T22:49:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6815", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6815", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6815.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6815.patch", "merged_at": "2023-08-09T22:49:58Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis PR adds support for SIMD integer fused multiply add/subtract instructions to RISC-V. These instructions modify one of the source registers, so I've added a new instruction format for it.\r\n\r\nWe have 4 variants of this instruction ([\u00a711.13. Vector Single-Width Integer Multiply-Add Instructions](https://github.com/riscv/riscv-v-spec/blob/master/v-spec.adoc#1113-vector-single-width-integer-multiply-add-instructions)), I've only used two, since it looks like `vmadd`/`vnmsub` match the same pattern but just modify different registers. I'm not entirely sure how to expose this, since it looks like just a regalloc optimization.\r\n\r\nAdditionally I couldn't find a way to match `isub+imul`, It looks like `vnmsac` does not match that, but maybe I'm missing something!", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6815/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6814", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6814/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6814/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6814/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6814", "id": 1839750652, "node_id": "PR_kwDOBhDaXM5XWeHU", "number": 6814, "title": "Remove basic-block padding from Wasmtime fuzzing", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-07T15:43:29Z", "updated_at": "2023-08-09T17:33:48Z", "closed_at": "2023-08-09T17:33:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6814", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6814", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6814.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6814.patch", "merged_at": "2023-08-09T17:33:47Z"}, "body": "This commit removes the option to generate padding between basic blocks when fuzzing Wasmtime. Over the weekend lots of OOMs were discovered related to this option and its most recent update in #6736. The new OOMs appear to be related to:\r\n\r\n* If multiple modules are generated then the configured limits in #6736 aren't relevant because they only cap one module.\r\n* Each imported function generates a new trampoline which has its own set of padding which wasn't previously accounted for.\r\n* Spec tests have a lot of functions and the limits didn't account for this.\r\n\r\nWhile each of these is probably individually fixable I think it's probably not worth the whack-a-mole any more. The `cranelift-fuzzgen` target should cover the relevant cases for padding without the need for Wasmtime's fuzzing to cover it as well.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6814/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6812", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6812/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6812/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6812/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6812", "id": 1839502744, "node_id": "PR_kwDOBhDaXM5XVoiH", "number": 6812, "title": "Fix error result of clock_time_get", "user": {"login": "vigoo", "id": 2292489, "node_id": "MDQ6VXNlcjIyOTI0ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/2292489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vigoo", "html_url": "https://github.com/vigoo", "followers_url": "https://api.github.com/users/vigoo/followers", "following_url": "https://api.github.com/users/vigoo/following{/other_user}", "gists_url": "https://api.github.com/users/vigoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/vigoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vigoo/subscriptions", "organizations_url": "https://api.github.com/users/vigoo/orgs", "repos_url": "https://api.github.com/users/vigoo/repos", "events_url": "https://api.github.com/users/vigoo/events{/privacy}", "received_events_url": "https://api.github.com/users/vigoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-07T13:51:20Z", "updated_at": "2023-08-07T16:42:46Z", "closed_at": "2023-08-07T15:00:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6812", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6812", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6812.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6812.patch", "merged_at": "2023-08-07T15:00:39Z"}, "body": "This PR changes the behavior of the `clock_time_get` function implemented in the preview2 adapter in case of being called with an unsupported clock id.\r\n\r\nPreviously it ran onto `unreachable`, with this change it fails with `ERRNO_BADF`.\r\n\r\nThe motivation is to get the same behavior as the preview1 WASI implementation. (https://github.com/bytecodealliance/wasmtime/blob/bb3734bd724683cce8aa20de0cad9f9086e07b50/crates/wasi/src/preview2/preview1/mod.rs#L759-L760)\r\n\r\n(I ran into this difference when tried to run a `ruby.wasm` module converted into a component using the preview2 adapter. Seems like Ruby queries all 4 clocks during startup but handles the BADF response properly.)", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6812/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6810", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6810/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6810/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6810/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6810", "id": 1837835127, "node_id": "PR_kwDOBhDaXM5XQPGL", "number": 6810, "title": "aarch64: Fix `return_call`'s interaction with pointer authentication", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-08-05T16:30:31Z", "updated_at": "2023-08-09T19:14:29Z", "closed_at": "2023-08-09T19:14:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6810", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6810", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6810.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6810.patch", "merged_at": "2023-08-09T19:14:28Z"}, "body": "This commit fixes an issue where a `return_call` would not decrypt the return address when pointer authentication is enabled. The return address would be encrypted upon entry into the function but would never get restored later on.\r\n\r\nThis addresses the issue by changing the encryption keys in use from the A/B key plus SP to instead using A/B plus the zero key. The reason for this is that during a normal function call before returning the SP value is guaranteed to be the same as it was upon entry. For tail calls though SP may be different due to differing numbers of stack arguments. This means that the modifier of SP can't be used for the tail convention.\r\n\r\nNew `APIKey` definitions were added and that now additionally represents the A/B key plus the modifier. Non-`tail` calling conventions still use the same keys as before, it's just the `tail` convention that's different.\r\n\r\nCloses #6799\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6810/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6810/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6809", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6809/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6809/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6809/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6809", "id": 1837458024, "node_id": "PR_kwDOBhDaXM5XPEBK", "number": 6809, "title": "Bump Wasmtime to 13.0.0", "user": {"login": "wasmtime-publish", "id": 59749941, "node_id": "MDQ6VXNlcjU5NzQ5OTQx", "avatar_url": "https://avatars.githubusercontent.com/u/59749941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wasmtime-publish", "html_url": "https://github.com/wasmtime-publish", "followers_url": "https://api.github.com/users/wasmtime-publish/followers", "following_url": "https://api.github.com/users/wasmtime-publish/following{/other_user}", "gists_url": "https://api.github.com/users/wasmtime-publish/gists{/gist_id}", "starred_url": "https://api.github.com/users/wasmtime-publish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wasmtime-publish/subscriptions", "organizations_url": "https://api.github.com/users/wasmtime-publish/orgs", "repos_url": "https://api.github.com/users/wasmtime-publish/repos", "events_url": "https://api.github.com/users/wasmtime-publish/events{/privacy}", "received_events_url": "https://api.github.com/users/wasmtime-publish/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}, {"id": 5021130657, "node_id": "LA_kwDOBhDaXM8AAAABK0hfoQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/winch", "name": "winch", "color": "4DE22F", "default": false, "description": "Winch issues or pull requests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-05T00:02:34Z", "updated_at": "2023-08-07T14:51:07Z", "closed_at": "2023-08-07T14:51:05Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6809", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6809", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6809.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6809.patch", "merged_at": "2023-08-07T14:51:05Z"}, "body": "This is an [automated pull request][process] from CI which indicates\nthat the next [`release-12.0.0` branch][branch] has been created and\nthe `main` branch is getting its version number bumped from 12.0.0 to\n13.0.0.\n\nMaintainers should take a moment to review the [release\nnotes][RELEASES.md] for 12.0.0, and if any changes are necessary send\nPRs to the `main` branch to update [RELEASES.md] and then backport\nthese PRs to the [release branch][branch].\n\nMaintainers should also review that aarch64-apple-darwin builds\nare passing via [embark's CI](https://buildkite.com/embark-studios/wasmtime-aarch64-apple-darwin).\n\nAnother automated PR will be made in roughly 2 weeks time when for\nthe actual release itself.\n\nIf any issues arise on the `main` branch before the release is made\nthen the issue should first be fixed on `main` and then backported\nto the `release-12.0.0` branch.\n\n[RELEASES.md]: https://github.com/bytecodealliance/wasmtime/blob/main/RELEASES.md\n[branch]: https://github.com/bytecodealliance/wasmtime/tree/release-12.0.0\n[process]: https://docs.wasmtime.dev/contributing-release-process.html\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6809/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6809/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6807", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6807/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6807/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6807/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6807", "id": 1837452278, "node_id": "PR_kwDOBhDaXM5XPCwQ", "number": 6807, "title": "Configure Mach ports vs signals via `Config`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-08-04T23:51:51Z", "updated_at": "2023-09-26T02:32:38Z", "closed_at": "2023-08-09T17:33:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6807", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6807", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6807.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6807.patch", "merged_at": "2023-08-09T17:33:46Z"}, "body": "This commit adds a `Config::macos_use_mach_ports` configuration option to replace the old `posix-signals-on-macos` compile-time Cargo feature. This'll make Wasmtime a tad larger on macOS but likely negligibly so. Otherwise this is intended to provide a resolution to #6785 where embedders will be able to use any build of Wasmtime and configure at runtime how trap handling should happen.\r\n\r\nFunctionally this commit additionally registers a `pthread_atfork` handler to cause any usage of Wasmtime in the child to panic. This should help head off a known-invalid state in case anyone runs into it in the future.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6807/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6806", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6806/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6806/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6806/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6806", "id": 1837451986, "node_id": "PR_kwDOBhDaXM5XPCsL", "number": 6806, "title": "Sync wasi-cli with wit definitions in standards repo ", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-04T23:50:56Z", "updated_at": "2023-08-15T16:57:32Z", "closed_at": "2023-08-15T16:57:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6806", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6806", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6806.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6806.patch", "merged_at": "2023-08-15T16:57:31Z"}, "body": "This PR synchronizes the wasi:cli package with the upstream spec definition.\r\n\r\nAs part of this PR I upstreamed changes from the wasmtime repo:\r\nhttps://github.com/WebAssembly/wasi-cli/pull/19\r\nhttps://github.com/WebAssembly/wasi-cli/pull/20\r\n\r\nThe changes arriving downstream in this change are\r\n1. eliminating the patchwork of \"temporary\" fixes to the cli definition as the wit language evolved alongside the implementation. This involved calling the package \"cli-base\" in the wasmtime repo, and putting world definitions separately in a \"preview\" package.\r\n2. adding implementations of the `terminal-{input, output, stdin, stdout, stderr}` functions to the cli implementation, which allows us to implement `isatty`, bringing preview2's view of stdio to parity with preview 1, where fd_filestat_get could be used to determine whether stdio were ttys. I made some changes in wasi-tests to exercise this functionality to show that it works in all 5 of our WASI implementations. (yes i roll my eyes every time i type all 5 wasi implementations too. because i wrote them. what have i done. what did they do to us)\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6806/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6806/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6805", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6805/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6805/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6805/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6805", "id": 1837433390, "node_id": "PR_kwDOBhDaXM5XO-sr", "number": 6805, "title": " aarch64: Move AMode computation into ISLE ", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-04T23:13:47Z", "updated_at": "2023-08-09T21:17:00Z", "closed_at": "2023-08-09T21:16:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6805", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6805", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6805.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6805.patch", "merged_at": "2023-08-09T21:16:59Z"}, "body": "This commit moves the computation of the `AMode` enum for addressing\r\nfrom Rust into ISLE. This enables deleting a good deal of Rust code in\r\nfavor of (hopefully) more readable ISLE code.\r\n\r\nThis does not mirror the preexisting logic exactly but instead takes a\r\ndifferent approach for generating the `AMode`. Previously the entire\r\nchain of `iadd`s input into an address were unfolded into 32-bit and\r\n64-bit operations and then those were re-combined as possible into an\r\n`AMode` (possibly emitting `add` instructions. Instead now pattern\r\nmatching is used to represent this. The net result is that amodes are\r\nemitted slightly differently here and there in a number of updated test\r\ncases.\r\n\r\nI've tried to verify in all test cases that the number of instructions\r\nhas not increased and the same logical operation is happening. The exact\r\n`AMode` may differ but at least instruction-wise this shouldn't be a\r\nregression. My hope is that if anything needs changing that can be\r\nrepresented with updates to the rule precedence in ISLE or various other\r\nspecial cases.\r\n\r\nOne part I found a little surprising was that the immediate with a\r\nload/store instruction is not actually used much of the time. I naively\r\nthought that the mid-end optimizations would move iadd immediates into\r\nthe load/store immediate but that is not the case. This necessitated two\r\nextra ISLE rules to manually peel off immediates and fold them into the\r\nload/store immediate.\r\n\r\n---\r\n\r\nI'll also note here that there were a number of related refactorings and such to enable this change, so I'd recommend reading commit-by-commit to get a better idea of why things are changed and why what got updated go updated.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6805/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6805/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6804", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6804/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6804/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6804/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6804", "id": 1837072098, "node_id": "PR_kwDOBhDaXM5XNwZY", "number": 6804, "title": "Cranelift: avoid quadratic behavior in label-fixup processing", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2023-08-04T16:51:26Z", "updated_at": "2023-08-08T14:38:21Z", "closed_at": "2023-08-07T21:07:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6804", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6804", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6804.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6804.patch", "merged_at": "2023-08-07T21:07:43Z"}, "body": "Currently, `MachBuffer` is used to resolve forward and backward references to labels (basic-block entry points and other branch targets) within function bodies as well as calls to functions within a whole module. It implements a single-pass algorithm that tracks \"pending fixups\" -- references to some other place -- and fills in the offsets when known, also handling upgrading ranges by emitting veneers on architectures that need that behavior.\r\n\r\nIn #6798 it was reported that on aarch64, module emission is slow for a certain large module. This module ends up forcing many islands of veneers but has branches whose ranges cross those islands and need *not* be extended with a veneer yet. This case exposes quadratic behavior: the island-emission logic puts the fixup back in a list and replaces the fixup list with that leftover-fixup list after processing all fixups.\r\n\r\nThis PR instead does the following:\r\n- When an island is emitted, *all* unresolved forward references get a veneer, even if their current label kind would still be in range. This prevents fixups from hanging around arbitrarily long when they have longer range kinds (e.g., aarch64's `Branch26`) while lots of islands for shorter-range references (e.g. `Branch19`) are emitted.\r\n- When a label fixup reaches its \"longest-range\" kind (`PCRel32` for branches, for example), we put it in a separate list that we don't process again until the very last \"last-chance island\" after all emission.\r\n\r\nThese two rules together will bound the amount of processing to `O(|fixups| * |label kinds|)` rather than `O(|fixups|^2)`.\r\n\r\nThe first new rule theoretically causes more veneers to be emitted, but in practice is not too likely to make a difference, I think. Unfortunately my aarch64 laptop is unavailable at the moment; if someone on that platform could benchmark the impact that would be quite appreciated!\r\n\r\nFixes #6798.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6804/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6804/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6802", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6802/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6802/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6802/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6802", "id": 1835817383, "node_id": "PR_kwDOBhDaXM5XJjXQ", "number": 6802, "title": "Add a bindgen test that exercises using error types from a different interface", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-03T22:37:39Z", "updated_at": "2023-08-04T13:20:03Z", "closed_at": "2023-08-04T13:20:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6802", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6802", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6802.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6802.patch", "merged_at": "2023-08-04T13:20:03Z"}, "body": "Add a test for the changes in #6795 to `trappable_error_type` argument of the host `bindgen!` macro. The test uses an error type defined in a different interface as a `trappable_error_type`, and verifies that the code generator handles that by lifting those result types into `anyhow::Error`.\r\n\r\nThe component introduced in this test doesn't make use of multiple modules, and is a complete copy of the component used in the previous `enum_error` test. This works out because of subtyping, but still allows us to test the interface generated by the `bindgen!` macro.\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6802/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6802/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6800", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6800/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6800/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6800/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6800", "id": 1835409704, "node_id": "PR_kwDOBhDaXM5XIOgi", "number": 6800, "title": "Update the dev-dependency for wit-bindgen to 0.9.0", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-03T16:50:43Z", "updated_at": "2023-08-03T18:24:44Z", "closed_at": "2023-08-03T18:24:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6800", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6800", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6800.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6800.patch", "merged_at": "2023-08-03T18:24:43Z"}, "body": "Bump the wit-bindgen dependency to 0.9.0, and import its audits.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6800/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6797", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6797/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6797/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6797/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6797", "id": 1834421034, "node_id": "PR_kwDOBhDaXM5XE26G", "number": 6797, "title": "Fix incorrect sample code in documentation (#6796)", "user": {"login": "anoopelias", "id": 798009, "node_id": "MDQ6VXNlcjc5ODAwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/798009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anoopelias", "html_url": "https://github.com/anoopelias", "followers_url": "https://api.github.com/users/anoopelias/followers", "following_url": "https://api.github.com/users/anoopelias/following{/other_user}", "gists_url": "https://api.github.com/users/anoopelias/gists{/gist_id}", "starred_url": "https://api.github.com/users/anoopelias/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anoopelias/subscriptions", "organizations_url": "https://api.github.com/users/anoopelias/orgs", "repos_url": "https://api.github.com/users/anoopelias/repos", "events_url": "https://api.github.com/users/anoopelias/events{/privacy}", "received_events_url": "https://api.github.com/users/anoopelias/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-03T07:04:04Z", "updated_at": "2023-08-06T10:14:15Z", "closed_at": "2023-08-03T17:27:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6797", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6797", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6797.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6797.patch", "merged_at": "2023-08-03T17:27:27Z"}, "body": "Sample code provided in Readme of `wasmtime` crate specifies three generic arguments for `get_typed_func` API, while it needs only two. This fixes the sample code by removing the last generic argument.\r\n\r\nFixes #6796 ", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6797/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6797/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6795", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6795/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6795/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6795/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6795", "id": 1834075456, "node_id": "PR_kwDOBhDaXM5XDstv", "number": 6795, "title": "Resolve trappable error types with fully qualified package paths", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-08-03T00:27:55Z", "updated_at": "2023-08-03T20:53:35Z", "closed_at": "2023-08-03T20:53:35Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6795", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6795", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6795.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6795.patch", "merged_at": "2023-08-03T20:53:35Z"}, "body": "Switch to parsing the `trappable_error_type` field of the `bindgen!` macro to expect the first part of the path to be a wit package path. Instead of `types::error: MyError`, you would now pass `\"namespace:package/types\"::error: MyError`. This allows us to resolve the referenced type in wit without ambiguity, when it's used across interfaces.\n\n\n<!--\nPlease make sure you include the following information:\n\n- If this work has been discussed elsewhere, please include a link to that\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\n\n- Explain why this change is needed. If the details are in an issue already,\n  this can be brief.\n\nOur development process is documented in the Wasmtime book:\nhttps://docs.wasmtime.dev/contributing-development-process.html\n\nPlease ensure all communication follows the code of conduct:\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\n-->\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6795/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6795/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6793", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6793/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6793/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6793/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6793", "id": 1832678197, "node_id": "PR_kwDOBhDaXM5W-7Z3", "number": 6793, "title": "Fix posix-signals-on-macos on aarch64-apple-darwin", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-02T08:18:25Z", "updated_at": "2023-08-02T16:40:04Z", "closed_at": "2023-08-02T16:37:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6793", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6793", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6793.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6793.patch", "merged_at": "2023-08-02T16:37:14Z"}, "body": "Currently the `libc` crate has an incorrect definition of `ucontext_t` for this platform which is causing alignment issues when it's used. This fixes [this issue][1] and the `posix-signals-on-macos` feature on this platform.\r\n\r\n[1]: https://github.com/bytecodealliance/wasmtime/issues/6785#issuecomment-1661292561\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6793/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6793/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6791", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6791/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6791/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6791/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6791", "id": 1830297244, "node_id": "PR_kwDOBhDaXM5W29a9", "number": 6791, "title": "Sync wasi-filesystem with wit definitions in standards repo", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-01T01:20:59Z", "updated_at": "2023-08-08T23:36:07Z", "closed_at": "2023-08-08T23:36:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6791", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6791", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6791.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6791.patch", "merged_at": "2023-08-08T23:36:05Z"}, "body": "This PR pulls in the latest wit files from the wasi-filesystem repo, with the addition of just one pending upstream change to remove the nonblocking descriptor-flag.\r\n\r\nThe changes look like:\r\n* the `wasi:filesystem/filesystem` interface has been renamed `wasi:filesystem/types`. This resulted in lots of renaming across the repo. For the main filesystem impl I use the new `types::` module prefix but in most other places I followed `use ...::filesystem::types as filesystem;` to make it clearer to read.\r\n* the interface removes `device` and `inode` from the descriptor-stat struct, and provides new `metadata-hash` family functions to replace this concept.\r\n    * these new methods are implemented in preview2 host, using `std::hash::Hasher` to hash the device and inode of the file.\r\n    * the preview 1 adapters still need to fill in a `device` and `inode` in some places (`fd_filestat_get` and `fd_readdir`). I elected to fill in `1` for the `device` (because the stdio stream \"files\" use `0`) and use the lower 64 bits of the metadata hash to fill in the `inode`.\r\n    * the preview 1 host adapter needed to use an `async` method to calculate each `inode` in `fd_readdir`, so I had to move some calculation out of the iterator map and into a for loop, done eagerly for each entry in the directory. Ideally this would be lazy for only entries in the directory that are being serialized as part of the adapter, or cache it between entries, but I didn't consider this worthwhile to invest in right now.\r\n* the new wasi:filesystem/preopens interface replaces the local wasi:cli-base/preopens. (There is no such thing as an upstream cli-base package, but morally it is in wasi-cli)\r\n\r\nSee also:\r\nhttps://github.com/WebAssembly/wasi-filesystem/pull/125: remove nonblocking descriptor flag. still open.\r\nhttps://github.com/WebAssembly/wasi-filesystem/pull/126: fix parameters to metadata functions. merged.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6791/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6791/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6790", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6790/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6790/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6790/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6790", "id": 1830008464, "node_id": "PR_kwDOBhDaXM5W1-6B", "number": 6790, "title": "Wasmtime: Move `OnDemandInstanceAllocator` to its own module", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-31T20:51:53Z", "updated_at": "2023-08-01T00:50:25Z", "closed_at": "2023-08-01T00:50:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6790", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6790", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6790.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6790.patch", "merged_at": "2023-08-01T00:50:24Z"}, "body": "Just code motion, no other changes.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6790/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6789", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6789/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6789/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6789/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6789", "id": 1829743473, "node_id": "PR_kwDOBhDaXM5W1E7j", "number": 6789, "title": "Wasmtime: Introduce `{Module,Component}::resources_required`", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-07-31T17:52:56Z", "updated_at": "2023-08-01T21:19:22Z", "closed_at": "2023-08-01T21:19:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6789", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6789", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6789.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6789.patch", "merged_at": "2023-08-01T21:19:21Z"}, "body": "Returns a summary of the resources required to instantiate this module or component.\r\n\r\nPotential uses of the returned information:\r\n\r\n* Determining whether your pooling allocator configuration supports instantiating this module.\r\n\r\n* Deciding how many of which `Module` you want to instantiate within a fixed amount of resources, e.g. determining whether to create 5 instances of module X or 10 instances of module Y.\r\n\r\nPart of #6627.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6789/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6784", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6784/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6784/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6784/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6784", "id": 1826994876, "node_id": "PR_kwDOBhDaXM5Wr3kq", "number": 6784, "title": "consistient WASI preview1 rights reporting", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-28T19:33:53Z", "updated_at": "2023-08-02T11:03:47Z", "closed_at": "2023-08-02T11:03:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6784", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6784", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6784.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6784.patch", "merged_at": "2023-08-02T11:03:45Z"}, "body": "\r\nWe have three preview1 implementations in tree:\r\n* `wasi-common`\r\n* `wasi-preview1-component-adapter`\r\n* `wasmtime-wasi::preview2::preview1`\r\n\r\nThis PR makes all of them report the exact same set of rights for directories.\r\n\r\nwasi-libc based userlands (e.g. wasi-sdk, tinygo, some parts of rust std, and others!) will sometimes check whether they have a preview1 Right to perform an import function call, and return early if they do not.\r\n\r\nLast attempt at adjusting how we report Rights https://github.com/bytecodealliance/wasmtime/pull/6463\r\n hard-coded the set of rights in wasi-common. That PR also added a wasi-test `path_open_preopen` that was intended to check whether wasi-libc's expectations were met. This test focused on the bug report we had wasi-libc around opening directories, and short of testing for the full expected set or rights. \r\n\r\nWe got a bug report on zulip that tinygo, which uses wasi-libc, failed in the go call `os.Create`: https://bytecodealliance.zulipchat.com/#narrow/stream/217126-wasmtime/topic/Problem.20with.20WasiCtxBuilder.2Epush_preopened_dir.20for.20component . It appeared this was getting rejected in wasi-libc, using the rights reported from the wasi-preview1-component-adapter.\r\n\r\nTo avoid chasing these individual wasi-libc behaviors much further, I decided to add the expectation of the set of rights to `path_open_preopen`, and fix `wasi-preview1-component-adapter` and `wasmtime-wasi::preview2::preview1` to always report those rights. This does mean duplicating that list of rights in a few more places in the source code, but theres no good way to do code sharing among these crates because the constants are coming from different crates/binding generators across these projects.\r\n\r\nI'd love for this to be the last time we have to kick the Rights can down the road. However, I'm now paranoid that, even with directories taken care of, we will run into the a similar problem with wasi-libc's expectation of file rights. I believe the behavior for file rights is consistent across all three implementations, so since we haven't gotten any file related bug reports since #6463 I am hopeful we have it right everywhere.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6784/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6784/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6783", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6783/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6783/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6783/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6783", "id": 1825648598, "node_id": "PR_kwDOBhDaXM5WnTjw", "number": 6783, "title": "Don't generate same-named imports in fact modules", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-28T03:41:12Z", "updated_at": "2023-08-07T19:36:19Z", "closed_at": "2023-07-28T17:44:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6783", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6783", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6783.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6783.patch", "merged_at": "2023-07-28T17:44:47Z"}, "body": "Ensure that all imports have unique module/name combos to ensure that the module can be instantiable in JS where separate functions need to be provided for each import.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6783/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6780", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6780/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6780/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6780/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6780", "id": 1823395302, "node_id": "PR_kwDOBhDaXM5Wfpzk", "number": 6780, "title": "Cranelift: Fix `ABIMachineSpec::gen_add_imm` for riscv64", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-27T00:22:22Z", "updated_at": "2023-07-27T03:36:14Z", "closed_at": "2023-07-27T03:36:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6780", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6780", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6780.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6780.patch", "merged_at": "2023-07-27T03:36:13Z"}, "body": "It was generating bit-wise and instructions instead of addition instructions.\r\n\r\nWhile we are at it, use field literal short hand for a struct literal in riscv64 instruction emission.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6780/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6780/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6779", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6779/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6779/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6779/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6779", "id": 1823354526, "node_id": "PR_kwDOBhDaXM5Wfg6W", "number": 6779, "title": "Resource table tracks child relationships", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-26T23:32:26Z", "updated_at": "2023-08-01T04:22:46Z", "closed_at": "2023-08-01T04:22:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6779", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6779", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6779.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6779.patch", "merged_at": "2023-08-01T04:22:45Z"}, "body": "First off, change all `wasmtime_wasi::preview2::TableError` cases to trap when converting to a filesystem::Error, streams::Error, etc. This is required by the shift to resources. No tests fail because of this change!\r\n\r\nIntroduce the tracking of children to `wasmtime_wasi::preview2::Table`. This required:\r\n* a new pub method `push_child` indicating the parent\r\n* Bookkeeping in a private `struct TableEntry { entry: Box<dyn Any...>, parent: Option<u32>, children: BTreeSet<u32> }`. This is the simplest datastructure that could possibly work.\r\n* deletion checks that an entry has no children, and updates bookkeeping on the parent if the entry has one.\r\n* re-defining `OccupiedEntry` to not use HashMap's directly, because we need to handle deletion bookkeeping.\r\n\r\nThere is only one child resource in wasmtime-wasi at the moment: a `HostPollable::TableEntry` is a pollable resource which refers to a parent with the `{ index: u32, ...}`. We changed `push_host_pollable` method on the table extension trait to push that variant with `push_child`.\r\n\r\nI added a unit test to poll.rs showing that a `HostPollable::TableEntry` treats the given index as a parent.\r\n\r\nI added an integration test to command-tests demonstrating correct management of child lifetimes exits correctly, and incorrect management traps with `TableError::HasChildren`.\r\n\r\nThis fixes a crash vector merged as part of https://github.com/bytecodealliance/wasmtime/pull/6556\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6779/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6779/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6777", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6777/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6777/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6777/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6777", "id": 1822710361, "node_id": "PR_kwDOBhDaXM5WdVAI", "number": 6777, "title": "Update the wasm-tools family of crates, disallow empty component types", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-07-26T15:48:46Z", "updated_at": "2023-07-26T20:02:57Z", "closed_at": "2023-07-26T20:02:55Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6777", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6777", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6777.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6777.patch", "merged_at": "2023-07-26T20:02:55Z"}, "body": "This commit updates the wasm-tools family of crates which notably brings in a change to disallow empty types in the component model. There were a number of tests and fuzz-related things to update, but the \"main\" change here is that the `stream-error` type in WASI is growing a `dummy: u32` field as a simple way to keep things compiling. This'll also hopefully emphasize that this is a transitionary state where it'll get updated in the future to be a non-empty type.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6777/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6777/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6776", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6776/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6776/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6776/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6776", "id": 1822639603, "node_id": "PR_kwDOBhDaXM5WdF_-", "number": 6776, "title": "Update preview1 to trap on misaligned pointers", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-07-26T15:16:32Z", "updated_at": "2023-09-07T16:09:11Z", "closed_at": "2023-08-02T22:57:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6776", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6776", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6776.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6776.patch", "merged_at": "2023-08-02T22:57:18Z"}, "body": "Previously Wasmtime would return `EINVAL` to a guest but the upstream documentation indicates that misaligned pointers should trap, so this commit updates the alignment error to get converted into a trap rather than than being returned to the guest.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6776/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6776/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6775", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6775/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6775/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6775/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6775", "id": 1821832803, "node_id": "PR_kwDOBhDaXM5WaXCY", "number": 6775, "title": "Fix broken link to WASI API documentation", "user": {"login": "tomstuart", "id": 3192, "node_id": "MDQ6VXNlcjMxOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomstuart", "html_url": "https://github.com/tomstuart", "followers_url": "https://api.github.com/users/tomstuart/followers", "following_url": "https://api.github.com/users/tomstuart/following{/other_user}", "gists_url": "https://api.github.com/users/tomstuart/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomstuart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomstuart/subscriptions", "organizations_url": "https://api.github.com/users/tomstuart/orgs", "repos_url": "https://api.github.com/users/tomstuart/repos", "events_url": "https://api.github.com/users/tomstuart/events{/privacy}", "received_events_url": "https://api.github.com/users/tomstuart/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-26T08:16:13Z", "updated_at": "2023-12-01T23:21:58Z", "closed_at": "2023-07-26T14:54:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6775", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6775", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6775.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6775.patch", "merged_at": "2023-07-26T14:54:20Z"}, "body": "This file was moved in WebAssembly/WASI#510. Arguably its modern replacement is [`Proposals.md`](https://github.com/WebAssembly/WASI/blob/main/Proposals.md) but that\u2019s a different document; for now, I\u2019m just trying to keep the existing link working.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6775/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6775/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6774", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6774/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6774/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6774/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6774", "id": 1821145639, "node_id": "PR_kwDOBhDaXM5WYG8-", "number": 6774, "title": "Wasmtime: Add support for Wasm tail calls", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}, {"id": 5021130657, "node_id": "LA_kwDOBhDaXM8AAAABK0hfoQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/winch", "name": "winch", "color": "4DE22F", "default": false, "description": "Winch issues or pull requests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-07-25T21:01:50Z", "updated_at": "2023-07-27T22:19:02Z", "closed_at": "2023-07-27T22:19:01Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6774", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6774", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6774.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6774.patch", "merged_at": "2023-07-27T22:19:01Z"}, "body": "This adds the `Config::wasm_tail_call` method and `--wasm-features tail-call` CLI flag to enable the Wasm tail calls proposal in Wasmtime.\r\n\r\nThis PR is mostly just plumbing and enabling tests, since all the prerequisite work (Wasmtime trampoline overhauls and Cranelift tail calls) was completed in earlier pull requests.\r\n\r\nWhen Wasm tail calls are enabled, Wasm code uses the `tail` calling convention. The `tail` calling convention is known to cause a 1-7% slow down for regular code that isn't using tail calls, which is why it isn't used unconditionally. This involved shepherding `Tunables` through to Wasm signature construction methods. The eventual plan is for the `tail` calling convention to be used unconditionally, but not until the performance regression is addressed. This work is tracked in\r\nhttps://github.com/bytecodealliance/wasmtime/issues/6759\r\n\r\nAdditionally while our x86-64, aarch64, and riscv64 backends support tail calls, the s390x backend does not support them yet. Attempts to use tail calls on s390x will return errors. Support for s390x is tracked in https://github.com/bytecodealliance/wasmtime/issues/6530\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6774/reactions", "total_count": 13, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 7, "rocket": 6, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6774/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6772", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6772/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6772/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6772/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6772", "id": 1820859831, "node_id": "PR_kwDOBhDaXM5WXIU1", "number": 6772, "title": "A bunch of cleanups for cranelift-codegen-meta", "user": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-07-25T18:01:53Z", "updated_at": "2023-07-26T12:57:24Z", "closed_at": "2023-07-25T21:58:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6772", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6772", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6772.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6772.patch", "merged_at": "2023-07-25T21:58:44Z"}, "body": "Followup to https://github.com/bytecodealliance/wasmtime/pull/6767", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6772/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6771", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6771/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6771/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6771/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6771", "id": 1820685975, "node_id": "PR_kwDOBhDaXM5WWi32", "number": 6771, "title": "Ignore async_stack_size if async_support is disabled", "user": {"login": "guregu", "id": 131059, "node_id": "MDQ6VXNlcjEzMTA1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/131059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guregu", "html_url": "https://github.com/guregu", "followers_url": "https://api.github.com/users/guregu/followers", "following_url": "https://api.github.com/users/guregu/following{/other_user}", "gists_url": "https://api.github.com/users/guregu/gists{/gist_id}", "starred_url": "https://api.github.com/users/guregu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guregu/subscriptions", "organizations_url": "https://api.github.com/users/guregu/orgs", "repos_url": "https://api.github.com/users/guregu/repos", "events_url": "https://api.github.com/users/guregu/events{/privacy}", "received_events_url": "https://api.github.com/users/guregu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-07-25T16:18:43Z", "updated_at": "2023-07-26T10:58:16Z", "closed_at": "2023-07-25T17:40:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6771", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6771", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6771.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6771.patch", "merged_at": "2023-07-25T17:40:41Z"}, "body": "Fixes an issue where max_wasm_stack was being validated against async_stack_size when async_support was disabled, discussed in #6762.\r\n\r\nI added a really simple test. I wasn't sure where to put it, let me know if there's a better spot for it (or some way to avoid the magic number of 8MB).\r\n\r\nBackground: wasmtime-go is currently panicking when trying to set the stack size (see: https://github.com/bytecodealliance/wasmtime-go/issues/182).", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6771/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6771/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6770", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6770/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6770/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6770/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6770", "id": 1820490436, "node_id": "PR_kwDOBhDaXM5WV4Ds", "number": 6770, "title": "Change preview2 builder methods to use `&mut self`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}, {"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2023-07-25T14:36:38Z", "updated_at": "2023-08-05T17:41:50Z", "closed_at": "2023-08-05T17:41:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6770", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6770", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6770.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6770.patch", "merged_at": "2023-08-05T17:41:49Z"}, "body": "This commit changes the `WasiCtxBuilder` for preview2 to use a builder pattern more similar to `std::process::Command` where methods take `&mut self` and return `&mut Self` instead of taking `self` and returning `Self`. This pattern enables more easily building up configuration over time throughout code where ownership transfer might otherwise be awkward.\r\n\r\nA small caveat to this is that the ergonomics of this pattern only really work out well if the final \"build\" method takes `&mut self` as well. In this situation it's difficult to try to figure out what's supposed to happen if this method is called twice, so I left it to panic for now so we can more easily update it in the future possibly.\r\n\r\nI'll also note that the original motivations for this come from the upgrade at https://github.com/fermyon/spin/pull/1678", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6770/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6770/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6769", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6769/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6769/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6769/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6769", "id": 1820455504, "node_id": "PR_kwDOBhDaXM5WVwns", "number": 6769, "title": "Implement component-to-component calls with resources", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-25T14:19:08Z", "updated_at": "2023-07-25T17:45:12Z", "closed_at": "2023-07-25T17:45:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6769", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6769", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6769.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6769.patch", "merged_at": "2023-07-25T17:45:10Z"}, "body": "This fills out support in FACT in Wasmtime to support component-to-component calls that use resources. This ended up being relatively simple as it's \"just\" a matter of moving resources between tables which at this time bottoms out in calls to the host. These new trampolines are are relatively easy to add after #6751 which helps keep this change contained.\r\n\r\nCloses #6696\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6769/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6767", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6767/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6767/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6767/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6767", "id": 1820267075, "node_id": "PR_kwDOBhDaXM5WVHiF", "number": 6767, "title": "A bunch of minor cleanups", "user": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-25T12:47:15Z", "updated_at": "2023-07-25T15:54:40Z", "closed_at": "2023-07-25T15:39:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6767", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6767", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6767.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6767.patch", "merged_at": "2023-07-25T15:39:25Z"}, "body": "I found these while trying to split the ir module out of cranelift_codegen to help with compile time of cranelift_codegen itself.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6767/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6767/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6764", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6764/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6764/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6764/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6764", "id": 1819306116, "node_id": "PR_kwDOBhDaXM5WR2Y6", "number": 6764, "title": "wasi: Test the stdio streams implementation", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-24T23:49:57Z", "updated_at": "2023-07-31T23:12:11Z", "closed_at": "2023-07-31T23:12:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6764", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6764", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6764.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6764.patch", "merged_at": "2023-07-31T23:12:10Z"}, "body": "Test the stdio implementations in the wasi crate, by forking a child process and controlling its stdin directly. This testing exposed a few needed changes:\r\n\r\n* `AsyncReadStream` and `AsyncWriteStream` both now terminate the associated tokio::task when they are dropped.\r\n* The `stdin` implementation on unix and windows now properly handles spanning tokio runtime restarts, and process termination.\r\n\r\nAfter implementing these changes, the wasi implementation of `stdin` works on windows now and is better tested on unix.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6764/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6763", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6763/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6763/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6763/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6763", "id": 1819200940, "node_id": "PR_kwDOBhDaXM5WRfIO", "number": 6763, "title": "Fix flaky tests in preview2 streams", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-07-24T21:52:48Z", "updated_at": "2023-07-24T23:39:43Z", "closed_at": "2023-07-24T23:39:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6763", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6763", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6763.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6763.patch", "merged_at": "2023-07-24T23:39:42Z"}, "body": "#6556 introduced (at least) 2 flaky tests:\r\n* I made a bug in the `sink_write_stream` test in pipes. This test has been fixed, and the comment describes the race.\r\n* `poll_oneoff_stdio` is failed nondeterministically in the `wasi-preview2-components-sync` suite. We found a typo in the sync-to-async translation that caused this bug.\r\n\r\nThanks @silentbicycle, we used autoclave to reproduce this after a few hundred iterations:\r\n```\r\nRUST_LOG=wasmtime_wasi=trace autoclave cargo test -p test-programs --features test_programs --test wasi-preview2-components-sync -- poll_oneoff_stdio --nocapture\r\n```", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6763/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6761", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6761/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6761/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6761/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6761", "id": 1816483921, "node_id": "PR_kwDOBhDaXM5WIld0", "number": 6761, "title": "Release Wasmtime 11.0.1", "user": {"login": "wasmtime-publish", "id": 59749941, "node_id": "MDQ6VXNlcjU5NzQ5OTQx", "avatar_url": "https://avatars.githubusercontent.com/u/59749941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wasmtime-publish", "html_url": "https://github.com/wasmtime-publish", "followers_url": "https://api.github.com/users/wasmtime-publish/followers", "following_url": "https://api.github.com/users/wasmtime-publish/following{/other_user}", "gists_url": "https://api.github.com/users/wasmtime-publish/gists{/gist_id}", "starred_url": "https://api.github.com/users/wasmtime-publish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wasmtime-publish/subscriptions", "organizations_url": "https://api.github.com/users/wasmtime-publish/orgs", "repos_url": "https://api.github.com/users/wasmtime-publish/repos", "events_url": "https://api.github.com/users/wasmtime-publish/events{/privacy}", "received_events_url": "https://api.github.com/users/wasmtime-publish/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}, {"id": 5021130657, "node_id": "LA_kwDOBhDaXM8AAAABK0hfoQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/winch", "name": "winch", "color": "4DE22F", "default": false, "description": "Winch issues or pull requests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-07-21T23:51:49Z", "updated_at": "2023-07-24T16:15:25Z", "closed_at": "2023-07-24T16:15:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6761", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6761", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6761.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6761.patch", "merged_at": "2023-07-24T16:15:24Z"}, "body": "This is an [automated pull request][process] from CI to create a patch\nrelease for Wasmtime 11.0.1, requested by @alexcrichton.\n\nIt's recommended that maintainers double-check that [RELEASES.md]\nis up-to-date and that there are no known issues before merging this\nPR. When this PR is merged a release tag will automatically be\ncreated, crates will be published, and CI artifacts will be produced.\n\n[RELEASES.md]: https://github.com/bytecodealliance/wasmtime/blob/main/RELEASES.md\n[process]: https://docs.wasmtime.dev/contributing-release-process.html\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6761/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6760", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6760/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6760/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6760/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6760", "id": 1816269331, "node_id": "PR_kwDOBhDaXM5WH3Np", "number": 6760, "title": "cranelift-wasm: Add support for translating Wasm tail calls to CLIF", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-21T19:06:05Z", "updated_at": "2023-07-22T21:36:00Z", "closed_at": "2023-07-22T21:35:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6760", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6760", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6760.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6760.patch", "merged_at": "2023-07-22T21:35:59Z"}, "body": "Actual integration with Wasmtime will come in a follow up, after all the support for tail calls in our backends land.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6760/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6758", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6758/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6758/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6758/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6758", "id": 1816080120, "node_id": "PR_kwDOBhDaXM5WHOYT", "number": 6758, "title": "[11.0.0] Update some minimum version requirements.", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-21T16:27:19Z", "updated_at": "2023-07-21T18:06:41Z", "closed_at": "2023-07-21T18:06:40Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6758", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6758", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6758.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6758.patch", "merged_at": "2023-07-21T18:06:40Z"}, "body": "This PR seeks to fix #6755 by updating the 11.0.0 release branch's minimum version requirements for a few crates. This brings in the CI proposed by https://github.com/bytecodealliance/wasmtime/pull/6757 and then gets it passing locally by updating our `clap` and our `system-interface` dependencies. Note that `Cargo.lock` is not changing here which is intentional because the goal is to have the lower bound of the dependency be what's in `Cargo.lock` which is what we're testing against.\r\n\r\nAlso note that the actual modifications to dependency requirements is not needed on `main` due to other PRs that update dependencies. As such the dependency version requirements here are only required for the release branch.\r\n ", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6758/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6753", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6753/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6753/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6753/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6753", "id": 1812921203, "node_id": "PR_kwDOBhDaXM5V8dl_", "number": 6753, "title": "Release Wasmtime 11.0.0", "user": {"login": "wasmtime-publish", "id": 59749941, "node_id": "MDQ6VXNlcjU5NzQ5OTQx", "avatar_url": "https://avatars.githubusercontent.com/u/59749941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wasmtime-publish", "html_url": "https://github.com/wasmtime-publish", "followers_url": "https://api.github.com/users/wasmtime-publish/followers", "following_url": "https://api.github.com/users/wasmtime-publish/following{/other_user}", "gists_url": "https://api.github.com/users/wasmtime-publish/gists{/gist_id}", "starred_url": "https://api.github.com/users/wasmtime-publish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wasmtime-publish/subscriptions", "organizations_url": "https://api.github.com/users/wasmtime-publish/orgs", "repos_url": "https://api.github.com/users/wasmtime-publish/repos", "events_url": "https://api.github.com/users/wasmtime-publish/events{/privacy}", "received_events_url": "https://api.github.com/users/wasmtime-publish/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-20T00:15:26Z", "updated_at": "2023-07-20T15:40:47Z", "closed_at": "2023-07-20T15:40:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6753", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6753", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6753.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6753.patch", "merged_at": "2023-07-20T15:40:46Z"}, "body": "This is an [automated pull request][process] from CI which is\nintended to notify maintainers that it's time to release Wasmtime\n11.0.0. The [release branch][branch] was created roughly two weeks ago\nand it's now time for it to be published and released.\n\nIt's recommended that maintainers double-check that [RELEASES.md]\nis up-to-date and that there are no known issues before merging this\nPR. When this PR is merged a release tag will automatically be\ncreated, crates will be published, and CI artifacts will be produced.\n\n[RELEASES.md]: https://github.com/bytecodealliance/wasmtime/blob/main/RELEASES.md\n[process]: https://docs.wasmtime.dev/contributing-release-process.html\n[branch]: https://github.com/bytecodealliance/wasmtime/tree/release-11.0.0\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6753/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6752", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6752/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6752/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6752/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6752", "id": 1812921179, "node_id": "PR_kwDOBhDaXM5V8dlp", "number": 6752, "title": "Update release date of Wasmtime 11.0.0", "user": {"login": "wasmtime-publish", "id": 59749941, "node_id": "MDQ6VXNlcjU5NzQ5OTQx", "avatar_url": "https://avatars.githubusercontent.com/u/59749941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wasmtime-publish", "html_url": "https://github.com/wasmtime-publish", "followers_url": "https://api.github.com/users/wasmtime-publish/followers", "following_url": "https://api.github.com/users/wasmtime-publish/following{/other_user}", "gists_url": "https://api.github.com/users/wasmtime-publish/gists{/gist_id}", "starred_url": "https://api.github.com/users/wasmtime-publish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wasmtime-publish/subscriptions", "organizations_url": "https://api.github.com/users/wasmtime-publish/orgs", "repos_url": "https://api.github.com/users/wasmtime-publish/repos", "events_url": "https://api.github.com/users/wasmtime-publish/events{/privacy}", "received_events_url": "https://api.github.com/users/wasmtime-publish/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-20T00:15:24Z", "updated_at": "2023-07-20T16:21:12Z", "closed_at": "2023-07-20T16:21:11Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6752", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6752", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6752.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6752.patch", "merged_at": "2023-07-20T16:21:11Z"}, "body": "This is an [automated pull request][process] from CI which is updating\nthe release date of Wasmtime 11.0.0 to today. This PR's base branch\nis `main` and a second PR will be coming to perform the actual\nrelease which will be targeted at `release-11.0.0`.\n\n[process]: https://docs.wasmtime.dev/contributing-release-process.html\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6752/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6752/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6751", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6751/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6751/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6751/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6751", "id": 1812822885, "node_id": "PR_kwDOBhDaXM5V8Hmv", "number": 6751, "title": "Refactor and simplify component trampolines", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-07-19T22:27:18Z", "updated_at": "2023-07-24T22:56:28Z", "closed_at": "2023-07-24T22:56:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6751", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6751", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6751.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6751.patch", "merged_at": "2023-07-24T22:56:27Z"}, "body": "> Note that this is based on https://github.com/bytecodealliance/wasmtime/pull/6691 \r\n\r\nIn poking at https://github.com/bytecodealliance/wasmtime/issues/6696 I felt that the amount of boilerplate for defining\r\nnew kinds of trampolines in the component model was getting a bit\r\nexcessive. There was already 6 different types and I was adding two more\r\nand I had to touch just a few too many places to get this done. In the\r\nend I decided to refactor how trampolines are handled in the component\r\nmodel to make it much easier to add new kinds of trampolines.\r\n\r\nTo that end the type-specific counts/lists/etc are all gone now in favor\r\nof a single concept of a trampoline. This means components now track\r\ntrampolines in-bulk rather than individually by type. For example\r\ncompiling trampolines is now a loop over \"compile this list of\r\ntrampolines\" where previously it was N loops for the N types of\r\ntrampolines. The `Trampoline` definition is where the enum and dispatch\r\nhappens where that contains all possible trampolines that a component\r\ncould require.\r\n\r\nThis ended up being a large refactor to the Cranelift component\r\nintegration, but there is not intended to be any functional change from\r\nthis refactoring. Additionally all trampolines are now removed from the\r\nglobal initializers list since there's nothing preventing them from\r\nbeing initialized earlier on during the instantiation process.\r\n\r\nOverall this should drastically reduce the number of locations that need\r\nto have trampoline-specific knowledge to translation, the dataflow\r\ngraph, and compilation. Nearly everything else can operate over\r\neverything in bulk and forward between these systems.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6751/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6749", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6749/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6749/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6749/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6749", "id": 1812386170, "node_id": "PR_kwDOBhDaXM5V6ncQ", "number": 6749, "title": "Cranelift: Implement tail calls on riscv64", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-07-19T17:25:16Z", "updated_at": "2023-07-24T20:43:13Z", "closed_at": "2023-07-24T20:43:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6749", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6749", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6749.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6749.patch", "merged_at": "2023-07-24T20:43:12Z"}, "body": "Builds on top of https://github.com/bytecodealliance/wasmtime/pull/6723\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6749/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6749/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6747", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6747/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6747/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6747/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6747", "id": 1810825772, "node_id": "PR_kwDOBhDaXM5V1SOM", "number": 6747, "title": "fuzzgen: Enable `bitcast` instruction", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-18T22:43:59Z", "updated_at": "2023-07-19T14:50:38Z", "closed_at": "2023-07-19T14:50:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6747", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6747", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6747.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6747.patch", "merged_at": "2023-07-19T14:50:38Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis PR enables the `bitcast` instruction in fuzzgen. This was previously fixed in #6379, and we can now start fuzzing it.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6747/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6746", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6746/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6746/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6746/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6746", "id": 1810686141, "node_id": "PR_kwDOBhDaXM5V0zTS", "number": 6746, "title": "Add ability to inherit an env var on the CLI", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-18T20:42:48Z", "updated_at": "2023-09-07T16:09:05Z", "closed_at": "2023-07-19T18:20:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6746", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6746", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6746.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6746.patch", "merged_at": "2023-07-19T18:20:05Z"}, "body": "In addition to Wasmtime's preexisting support for `--env FOO=bar` this commit additionally adds support for `--env FOO` which is inspired by Docker to inherit the environment variable `FOO` from the calling process as a shortcut for `--env FOO=$FOO`.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6746/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6746/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6745", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6745/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6745/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6745/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6745", "id": 1810283549, "node_id": "PR_kwDOBhDaXM5VzhGe", "number": 6745, "title": "Change the call to unwrap to except with an error message", "user": {"login": "MindSwipe", "id": 36076277, "node_id": "MDQ6VXNlcjM2MDc2Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/36076277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MindSwipe", "html_url": "https://github.com/MindSwipe", "followers_url": "https://api.github.com/users/MindSwipe/followers", "following_url": "https://api.github.com/users/MindSwipe/following{/other_user}", "gists_url": "https://api.github.com/users/MindSwipe/gists{/gist_id}", "starred_url": "https://api.github.com/users/MindSwipe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MindSwipe/subscriptions", "organizations_url": "https://api.github.com/users/MindSwipe/orgs", "repos_url": "https://api.github.com/users/MindSwipe/repos", "events_url": "https://api.github.com/users/MindSwipe/events{/privacy}", "received_events_url": "https://api.github.com/users/MindSwipe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-07-18T16:23:04Z", "updated_at": "2023-07-19T21:45:17Z", "closed_at": "2023-07-19T21:45:16Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6745", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6745", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6745.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6745.patch", "merged_at": "2023-07-19T21:45:16Z"}, "body": "Fixes #6744, also fixes https://github.com/bytecodealliance/wasmtime-dotnet/issues/265", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6745/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6745/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6739", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6739/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6739/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6739/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6739", "id": 1808609784, "node_id": "PR_kwDOBhDaXM5Vtyhj", "number": 6739, "title": "Update wasm-tools dependencies", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-07-17T20:54:01Z", "updated_at": "2023-07-18T14:54:56Z", "closed_at": "2023-07-18T14:54:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6739", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6739", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6739.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6739.patch", "merged_at": "2023-07-18T14:54:54Z"}, "body": "Brings in a few minor updates and some minor fixes for compliance with the latest spec test suite (updating that is deferred to a separate PR though).\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6739/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6738", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6738/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6738/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6738/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6738", "id": 1808602263, "node_id": "PR_kwDOBhDaXM5Vtw4n", "number": 6738, "title": "Reference a missing filename when parsing modules", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-17T20:47:59Z", "updated_at": "2023-07-17T21:46:20Z", "closed_at": "2023-07-17T21:46:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6738", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6738", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6738.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6738.patch", "merged_at": "2023-07-17T21:46:19Z"}, "body": "Currently wasmtime's error message for `wasmtime nonexistent.wasm` doesn't actually refer to `nonexistent.wasm` anywhere, so this commit fills that in as contextual information on the returned error.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6738/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6737", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6737/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6737/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6737/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6737", "id": 1808588988, "node_id": "PR_kwDOBhDaXM5VtuB4", "number": 6737, "title": "Require wasmtime options are first when running modules", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2023-07-17T20:38:24Z", "updated_at": "2023-09-05T14:07:04Z", "closed_at": "2023-07-20T14:00:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6737", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6737", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6737.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6737.patch", "merged_at": "2023-07-20T14:00:44Z"}, "body": "Currently the way we've configured argument parsing it's valid to execute a command such as:\r\n\r\n    wasmtime run foo.wasm -O\r\n\r\nwhich is the same as:\r\n\r\n    wasmtime run -O foo.wasm\r\n\r\nor otherwise all flags are attempted to be parsed as Wasmtime flags and an error is generated when they're not wasmtime flags. I've personally found this a bit confusing in the past and I find myself frequently executing:\r\n\r\n    wasmtime run -- foo.wasm -other -arguments\r\n\r\nWhile this works my general impression is that many other \"wrapper commands\" don't behave this way and typically don't require `--` to pass flags to the target executable. This commit reconfigures argument parsing to consider any argument after the WebAssembly module itself to be an argument to the wasm program rather than an argument to Wasmtime. This means that all Wasmtime options must come between the `run` command and the `foo.wasm` WebAssembly argument.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6737/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6736", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6736/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6736/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6736/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6736", "id": 1807960275, "node_id": "PR_kwDOBhDaXM5VrmJT", "number": 6736, "title": "Cap the maximum basic block padding in Cranelift", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-07-17T14:50:39Z", "updated_at": "2023-07-19T15:44:04Z", "closed_at": "2023-07-19T15:44:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6736", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6736", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6736.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6736.patch", "merged_at": "2023-07-19T15:44:03Z"}, "body": "This commit is a fix for a fuzz failure that came in the other day where a module took more than 2GB of memory to compile, triggering the fuzzer to fail. Investigating locally it looks like the problem lies in the basic-block padding added recently. Turning on that option increases the memory usage of Cranelift from ~70M to ~2.5G. The setting in the test was to add `1<<14` bytes of padding between all basic blocks, and with a lot of basic blocks that can add up quite quickly.\r\n\r\nThe solution implemented here is to implement a per-function limit of the amount of padding that can be injected. I've set it to 1MB for now which is hopefully enough to continue to stress the various bits of the `MachBuffer` while not blowing limits accidentally while fuzzing.\r\n\r\nAfter this commit the fuzz test case in question jumps from 70M to 470M with basic block padding enabled, which while still large is a bit more modest and sticks within the limits of the fuzzer.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6736/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6736/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6735", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6735/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6735/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6735/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6735", "id": 1805886353, "node_id": "PR_kwDOBhDaXM5VkwRz", "number": 6735, "title": "Remove duplicate memoffset dependency", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-15T04:52:03Z", "updated_at": "2023-07-16T03:56:24Z", "closed_at": "2023-07-15T15:10:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6735", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6735", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6735.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6735.patch", "merged_at": "2023-07-15T15:10:31Z"}, "body": "Do this by updating `crossbeam-epoch` and auditing this update of crossbeam. The newer version of crossbeam additionally updates its version of `memoffset`.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6735/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6734", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6734/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6734/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6734/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6734", "id": 1805884801, "node_id": "PR_kwDOBhDaXM5Vkv-G", "number": 6734, "title": "Trust crates published by BurntSushi", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-15T04:47:39Z", "updated_at": "2023-07-16T03:56:35Z", "closed_at": "2023-07-15T15:03:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6734", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6734", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6734.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6734.patch", "merged_at": "2023-07-15T15:03:06Z"}, "body": "This commit adds `cargo vet` trust entries for any crate published by BurntSushi, of which a good number are in our dependency graph. This additionally updates the `bstr` crate to its latest version and updates regex-related dependencies from other crates to avoid duplication of versions.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6734/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6734/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6733", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6733/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6733/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6733/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6733", "id": 1805785789, "node_id": "PR_kwDOBhDaXM5VkbTS", "number": 6733, "title": "[11.0.0] Lock dependency on hyper to a single version", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-15T01:14:27Z", "updated_at": "2023-07-17T18:23:35Z", "closed_at": "2023-07-17T18:21:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6733", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6733", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6733.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6733.patch", "merged_at": "2023-07-17T18:21:31Z"}, "body": "This is a backport of https://github.com/bytecodealliance/wasmtime/pull/6729 to the 11.0.0 release branch to fix `cargo install` for the upcoming release.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6733/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6731", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6731/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6731/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6731/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6731", "id": 1805607312, "node_id": "PR_kwDOBhDaXM5VjzVB", "number": 6731, "title": "Dependency gardening for Wasmtime", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-14T21:33:59Z", "updated_at": "2023-07-15T03:38:29Z", "closed_at": "2023-07-15T03:38:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6731", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6731", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6731.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6731.patch", "merged_at": "2023-07-15T03:38:28Z"}, "body": "This PR is a series of commits to handle a number of updates to dependencies in Wasmtime. I've separated out each dependency by commit to see what's going on. The biggest upgrades were `syn 2.x.x`, `clap 4.x.x`, and `bitflags 2.x.x`. All the other updates were mostly minor.\r\n\r\nIn terms of vetting I've added a number of new trusted annotations crates that are authored by those we already trust (e.g. me, Dan, epage, etc). I've additionally performed a variety of audits for new versions that aren't covered by our preexisting policies.\r\n\r\nAt some point we need to revisit `cargo deny`'s configuration because we have quite a few duplicated dependencies which aren't being caught by `cargo deny` and I'm not entirely sure why. I think that our ignore list is too aggressive and/or not interacting well with how `cargo deny` works. I'll try to poke at this in the future.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6731/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6730", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6730/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6730/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6730/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6730", "id": 1805580441, "node_id": "PR_kwDOBhDaXM5VjtW7", "number": 6730, "title": "Backport the 11.0.0 release notes", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-14T21:07:25Z", "updated_at": "2023-07-14T23:05:34Z", "closed_at": "2023-07-14T23:05:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6730", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6730", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6730.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6730.patch", "merged_at": "2023-07-14T23:05:34Z"}, "body": "Backport the release notes to the 11.0.0 branch.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6730/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6729", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6729/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6729/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6729/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6729", "id": 1805579364, "node_id": "PR_kwDOBhDaXM5VjtIV", "number": 6729, "title": "Lock dependency on hyper to a single version", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-14T21:06:15Z", "updated_at": "2023-07-14T22:03:29Z", "closed_at": "2023-07-14T22:03:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6729", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6729", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6729.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6729.patch", "merged_at": "2023-07-14T22:03:28Z"}, "body": "Currently Cargo's interpretation of prerelease version doesn't quite match semver's, meaning that hyper, which is taking semver's interpretation, has broken Wasmtime builds without lock files. The rc.4 version of hyper released is no longer compatible with our usage which means that `cargo install wasmtime-cli` currently fails. It passes, however, with `--locked`.\r\n\r\nTo resolve this the dependency on hyper gets an `=` dependency for now to force it to be at this version.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6729/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6728", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6728/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6728/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6728/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6728", "id": 1805212002, "node_id": "PR_kwDOBhDaXM5Viaom", "number": 6728, "title": "Disable some icmp optimizations for vector types", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-14T17:15:29Z", "updated_at": "2023-07-14T18:42:04Z", "closed_at": "2023-07-14T18:42:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6728", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6728", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6728.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6728.patch", "merged_at": "2023-07-14T18:42:03Z"}, "body": "This is a fix for #6725 where some icmp rules written for scalars were accidentally firing for vectors and generating invalid code, namely producing an `iconst` of a vector type.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6728/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6727", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6727/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6727/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6727/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6727", "id": 1805114966, "node_id": "PR_kwDOBhDaXM5ViFN5", "number": 6727, "title": "Cherry-pick regalloc2 0.9.2 upgrade to 11.0 release branch.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-14T16:03:48Z", "updated_at": "2023-07-14T16:58:55Z", "closed_at": "2023-07-14T16:51:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6727", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6727", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6727.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6727.patch", "merged_at": "2023-07-14T16:51:06Z"}, "body": "This pulls in a fix for potential compilation panics on RISC-V, where two different register classes have spillslots of the same size and would previously try to share spillslots.\r\n\r\nCranelift: upgrade to regalloc2 0.9.2. (#6726)\r\n\r\n* Cranelift: upgrade to regalloc2 0.9.2.\r\n\r\nThis pulls in bytecodealliance/regalloc2#152, which fixes a bug that is reachable on RISC-V: when two different register classes have the same stackslot size, the register allocation result might share a slot between two different classes, which can result in moves between classes that will cause a panic. The fix properly separates slots by class.\r\n\r\n* cargo-vet update for regalloc2 0.9.2.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6727/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6727/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6726", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6726/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6726/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6726/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6726", "id": 1803926308, "node_id": "PR_kwDOBhDaXM5VeB31", "number": 6726, "title": "Cranelift: upgrade to regalloc2 0.9.2.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-07-14T00:13:35Z", "updated_at": "2023-07-14T06:28:42Z", "closed_at": "2023-07-14T06:28:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6726", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6726", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6726.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6726.patch", "merged_at": "2023-07-14T06:28:41Z"}, "body": "This pulls in bytecodealliance/regalloc2#152, which fixes a bug that is reachable on RISC-V: when two different register classes have the same stackslot size, the register allocation result might share a slot between two different classes, which can result in moves between classes that will cause a panic. The fix properly separates slots by class. There should be no impact on non-RISC-V architectures.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6726/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6723", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6723/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6723/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6723/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6723", "id": 1803599180, "node_id": "PR_kwDOBhDaXM5Vc5zg", "number": 6723, "title": "Cranelift: Get tail calls working on aarch64", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-07-13T19:01:38Z", "updated_at": "2023-07-22T18:37:18Z", "closed_at": "2023-07-22T18:37:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6723", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6723", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6723.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6723.patch", "merged_at": "2023-07-22T18:37:17Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6723/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6721", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6721/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6721/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6721/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6721", "id": 1803271016, "node_id": "PR_kwDOBhDaXM5Vbx7y", "number": 6721, "title": "Update Rust in CI to 1.71.0", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-13T15:28:12Z", "updated_at": "2023-07-13T16:35:58Z", "closed_at": "2023-07-13T16:35:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6721", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6721", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6721.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6721.patch", "merged_at": "2023-07-13T16:35:57Z"}, "body": "Released today this updates from 1.69.0 to 1.71.0. Note that 1.70.0 was skipped due to presumed codegen bugs for s390x and riscv64. These were previously tested to work with 1.71.0, so it's time to confirm.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6721/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6721/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6720", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6720/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6720/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6720/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6720", "id": 1802890113, "node_id": "PR_kwDOBhDaXM5Vaebr", "number": 6720, "title": "Add docs on how to profile with samply and perfmaps", "user": {"login": "Maaarcocr", "id": 9624267, "node_id": "MDQ6VXNlcjk2MjQyNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/9624267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Maaarcocr", "html_url": "https://github.com/Maaarcocr", "followers_url": "https://api.github.com/users/Maaarcocr/followers", "following_url": "https://api.github.com/users/Maaarcocr/following{/other_user}", "gists_url": "https://api.github.com/users/Maaarcocr/gists{/gist_id}", "starred_url": "https://api.github.com/users/Maaarcocr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Maaarcocr/subscriptions", "organizations_url": "https://api.github.com/users/Maaarcocr/orgs", "repos_url": "https://api.github.com/users/Maaarcocr/repos", "events_url": "https://api.github.com/users/Maaarcocr/events{/privacy}", "received_events_url": "https://api.github.com/users/Maaarcocr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-07-13T12:12:07Z", "updated_at": "2023-07-18T21:46:28Z", "closed_at": "2023-07-18T21:46:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6720", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6720", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6720.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6720.patch", "merged_at": "2023-07-18T21:46:28Z"}, "body": "Follow up to https://github.com/bytecodealliance/wasmtime/pull/6701 that adds some docs around using samply and perfmaps on both linux and macos. Heavily inspired by the perf documentation.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6720/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6720/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6718", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6718/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6718/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6718/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6718", "id": 1802693248, "node_id": "PR_kwDOBhDaXM5VZzAz", "number": 6718, "title": "FIX: doc typos for gen_(store|load)_base_offset functions", "user": {"login": "Jacarte", "id": 16924379, "node_id": "MDQ6VXNlcjE2OTI0Mzc5", "avatar_url": "https://avatars.githubusercontent.com/u/16924379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jacarte", "html_url": "https://github.com/Jacarte", "followers_url": "https://api.github.com/users/Jacarte/followers", "following_url": "https://api.github.com/users/Jacarte/following{/other_user}", "gists_url": "https://api.github.com/users/Jacarte/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jacarte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jacarte/subscriptions", "organizations_url": "https://api.github.com/users/Jacarte/orgs", "repos_url": "https://api.github.com/users/Jacarte/repos", "events_url": "https://api.github.com/users/Jacarte/events{/privacy}", "received_events_url": "https://api.github.com/users/Jacarte/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-13T10:15:05Z", "updated_at": "2023-07-13T14:28:31Z", "closed_at": "2023-07-13T14:28:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6718", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6718", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6718.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6718.patch", "merged_at": "2023-07-13T14:28:30Z"}, "body": "This is just a tiny fix for the doc of the `gen_load_base_offset` and `gen_store_base_offset`. The commit is self-explanatory :P \r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6718/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6718/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6714", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6714/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6714/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6714/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6714", "id": 1799941078, "node_id": "PR_kwDOBhDaXM5VQYNO", "number": 6714, "title": "Release notes for wasmtime-11", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-12T00:06:42Z", "updated_at": "2023-07-12T22:17:29Z", "closed_at": "2023-07-12T22:17:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6714", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6714", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6714.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6714.patch", "merged_at": "2023-07-12T22:17:28Z"}, "body": "Update the release notes for the upcoming 11.0.0 release.\r\n\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6714/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6710", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6710/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6710/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6710/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6710", "id": 1798044358, "node_id": "PR_kwDOBhDaXM5VJ6V4", "number": 6710, "title": "Update the wasm-tools family of crates", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}, {"id": 5021130657, "node_id": "LA_kwDOBhDaXM8AAAABK0hfoQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/winch", "name": "winch", "color": "4DE22F", "default": false, "description": "Winch issues or pull requests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-07-11T03:58:30Z", "updated_at": "2023-07-11T17:35:35Z", "closed_at": "2023-07-11T17:34:45Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6710", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6710", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6710.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6710.patch", "merged_at": "2023-07-11T17:34:45Z"}, "body": "This pulls in publications for https://github.com/bytecodealliance/wasm-tools/pull/1118 and updates all internals to use the new APIs. Note that one of the major features of this new release is resources support throughout the tooling, but this PR does not actually implement resources support. That's left for #6691.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6710/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6709", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6709/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6709/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6709/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6709", "id": 1797521717, "node_id": "PR_kwDOBhDaXM5VIGQZ", "number": 6709, "title": "x64: Add a missing ssse3 condition to lowering rule", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-10T20:18:49Z", "updated_at": "2023-07-10T21:46:20Z", "closed_at": "2023-07-10T21:26:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6709", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6709", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6709.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6709.patch", "merged_at": "2023-07-10T21:26:27Z"}, "body": "This commit fixes a mistake from the SSE2-simd work where an SSSE3 guard was missing from a usage of `pshufb`. I assumed that the SSE4.1 guard was enough but a fuzz-generated test case shows that it's possible to enable SSE4.1 without SSSE3 so a second condition is added here (SSE4.1 remains for `pinsrb` and SSSE3 is for `pshufb`).\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6709/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6709/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6708", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6708/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6708/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6708/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6708", "id": 1794882865, "node_id": "PR_kwDOBhDaXM5U_WnD", "number": 6708, "title": "Fix 5916 interpreter wrong for vall true", "user": {"login": "ms140569", "id": 308389, "node_id": "MDQ6VXNlcjMwODM4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/308389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ms140569", "html_url": "https://github.com/ms140569", "followers_url": "https://api.github.com/users/ms140569/followers", "following_url": "https://api.github.com/users/ms140569/following{/other_user}", "gists_url": "https://api.github.com/users/ms140569/gists{/gist_id}", "starred_url": "https://api.github.com/users/ms140569/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ms140569/subscriptions", "organizations_url": "https://api.github.com/users/ms140569/orgs", "repos_url": "https://api.github.com/users/ms140569/repos", "events_url": "https://api.github.com/users/ms140569/events{/privacy}", "received_events_url": "https://api.github.com/users/ms140569/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-08T10:29:58Z", "updated_at": "2023-07-11T11:11:09Z", "closed_at": "2023-07-11T11:11:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/6708", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/6708", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/6708.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/6708.patch", "merged_at": "2023-07-11T11:11:08Z"}, "body": "This fixes: https://github.com/bytecodealliance/wasmtime/issues/5916\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/6708/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]