[{"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7308", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7308/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7308/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7308/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7308", "id": 1953246982, "node_id": "PR_kwDOBhDaXM5dU7pd", "number": 7308, "title": "Release Wasmtime 14.0.0", "user": {"login": "wasmtime-publish", "id": 59749941, "node_id": "MDQ6VXNlcjU5NzQ5OTQx", "avatar_url": "https://avatars.githubusercontent.com/u/59749941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wasmtime-publish", "html_url": "https://github.com/wasmtime-publish", "followers_url": "https://api.github.com/users/wasmtime-publish/followers", "following_url": "https://api.github.com/users/wasmtime-publish/following{/other_user}", "gists_url": "https://api.github.com/users/wasmtime-publish/gists{/gist_id}", "starred_url": "https://api.github.com/users/wasmtime-publish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wasmtime-publish/subscriptions", "organizations_url": "https://api.github.com/users/wasmtime-publish/orgs", "repos_url": "https://api.github.com/users/wasmtime-publish/repos", "events_url": "https://api.github.com/users/wasmtime-publish/events{/privacy}", "received_events_url": "https://api.github.com/users/wasmtime-publish/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-20T00:13:12Z", "updated_at": "2023-10-20T15:35:41Z", "closed_at": "2023-10-20T15:35:40Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7308", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7308", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7308.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7308.patch", "merged_at": "2023-10-20T15:35:40Z"}, "body": "This is an [automated pull request][process] from CI which is\nintended to notify maintainers that it's time to release Wasmtime\n14.0.0. The [release branch][branch] was created roughly two weeks ago\nand it's now time for it to be published and released.\n\nIt's recommended that maintainers double-check that [RELEASES.md]\nis up-to-date and that there are no known issues before merging this\nPR. When this PR is merged a release tag will automatically be\ncreated, crates will be published, and CI artifacts will be produced.\n\n[RELEASES.md]: https://github.com/bytecodealliance/wasmtime/blob/main/RELEASES.md\n[process]: https://docs.wasmtime.dev/contributing-release-process.html\n[branch]: https://github.com/bytecodealliance/wasmtime/tree/release-14.0.0\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7308/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7307", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7307/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7307/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7307/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7307", "id": 1953246940, "node_id": "PR_kwDOBhDaXM5dU7o4", "number": 7307, "title": "Update release date of Wasmtime 14.0.0", "user": {"login": "wasmtime-publish", "id": 59749941, "node_id": "MDQ6VXNlcjU5NzQ5OTQx", "avatar_url": "https://avatars.githubusercontent.com/u/59749941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wasmtime-publish", "html_url": "https://github.com/wasmtime-publish", "followers_url": "https://api.github.com/users/wasmtime-publish/followers", "following_url": "https://api.github.com/users/wasmtime-publish/following{/other_user}", "gists_url": "https://api.github.com/users/wasmtime-publish/gists{/gist_id}", "starred_url": "https://api.github.com/users/wasmtime-publish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wasmtime-publish/subscriptions", "organizations_url": "https://api.github.com/users/wasmtime-publish/orgs", "repos_url": "https://api.github.com/users/wasmtime-publish/repos", "events_url": "https://api.github.com/users/wasmtime-publish/events{/privacy}", "received_events_url": "https://api.github.com/users/wasmtime-publish/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-20T00:13:09Z", "updated_at": "2023-10-20T15:29:46Z", "closed_at": "2023-10-20T15:29:45Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7307", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7307", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7307.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7307.patch", "merged_at": "2023-10-20T15:29:45Z"}, "body": "This is an [automated pull request][process] from CI which is updating\nthe release date of Wasmtime 14.0.0 to today. This PR's base branch\nis `main` and a second PR will be coming to perform the actual\nrelease which will be targeted at `release-14.0.0`.\n\n[process]: https://docs.wasmtime.dev/contributing-release-process.html\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7307/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7305", "id": 1953178751, "node_id": "PR_kwDOBhDaXM5dUsuw", "number": 7305, "title": "Gate debug builtins behind a Cargo feature", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-19T22:55:13Z", "updated_at": "2023-10-20T15:29:46Z", "closed_at": "2023-10-20T15:29:45Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7305", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7305", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7305.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7305.patch", "merged_at": "2023-10-20T15:29:45Z"}, "body": "This doesn't shave off much but can help tidy up some symbols from exported objects if they aren't needed.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7305/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7304", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7304/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7304/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7304/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7304", "id": 1953176944, "node_id": "PR_kwDOBhDaXM5dUsW3", "number": 7304, "title": "A couple of small refactorings to the egraph elaboration pass", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-19T22:52:46Z", "updated_at": "2023-10-20T00:36:34Z", "closed_at": "2023-10-20T00:36:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7304", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7304", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7304.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7304.patch", "merged_at": "2023-10-20T00:36:34Z"}, "body": "@jameysharp and I noticed a couple of refactoring opportunities while reading through the elaboration pass:\r\n\r\n* The elaboration loop doesn't need to match on the top of the stack as a reference, because each case pops it immediately. Instead we can pop and match on the popped value.\r\n* Computing the cost of a pure `ValueDef::Result` was using the block that contains the instruction to determine the level, but since pure values will not be in the DFG yet, this would default to `LoopLevel::root()` unconditionally. This also meant that the `Cost::at_level` function turned into an identity function on the cost given, making it unnecessary.\r\n\r\nCo-authored-by: Jamey Sharp <jsharp@fastly.com>\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7304/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7303", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7303/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7303/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7303/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7303", "id": 1953173047, "node_id": "PR_kwDOBhDaXM5dUrh3", "number": 7303, "title": "[14.0.0] Swap the order of directories in `--dir`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-19T22:48:02Z", "updated_at": "2023-10-19T23:39:45Z", "closed_at": "2023-10-19T23:39:45Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7303", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7303", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7303.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7303.patch", "merged_at": "2023-10-19T23:39:45Z"}, "body": "This is a backport of https://github.com/bytecodealliance/wasmtime/pull/7301 to the 14.0.0 release branch", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7303/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7302", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7302/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7302/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7302/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7302", "id": 1953171112, "node_id": "PR_kwDOBhDaXM5dUrHE", "number": 7302, "title": "Update WASI versions to `0.2.0-rc-2023-11-05`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-19T22:45:29Z", "updated_at": "2023-10-20T00:04:46Z", "closed_at": "2023-10-20T00:04:45Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7302", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7302", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7302.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7302.patch", "merged_at": "2023-10-20T00:04:45Z"}, "body": "This commit updates the version numbers on `main` to no longer clash with the 14.0.0 release after #7299. The version number is chosen as the branch point for the 15.0.0 release of Wasmtime, at which point we'll update the versions again.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7302/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7301", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7301/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7301/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7301/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7301", "id": 1953167034, "node_id": "PR_kwDOBhDaXM5dUqS-", "number": 7301, "title": "Swap the order of directories in `--dir`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-10-19T22:41:31Z", "updated_at": "2023-10-20T00:14:37Z", "closed_at": "2023-10-20T00:04:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7301", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7301", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7301.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7301.patch", "merged_at": "2023-10-20T00:04:45Z"}, "body": "This commit changes the `--dir` argument on the `wasmtime` CLI to be `HOST::GUEST` rather than `GUEST::HOST`. This matches Docker for example and is a little more consistent with only `--dir path` where the first argument is always treated as a host directory.\r\n\r\nIn terms of breaking-ness the movement from `--mapdir` to `--dir` hasn't been released with Wasmtime 14 yet so my hope is that this can land on both `main` and Wasmtime 14.0.0 before it's released to avoid any breakage other than existing scripts migrating from `--mapdir` to `--dir`.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7301/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7301/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7300", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7300/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7300/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7300/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7300", "id": 1953166406, "node_id": "PR_kwDOBhDaXM5dUqKX", "number": 7300, "title": "Gate logging in the C API on Cargo features", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-19T22:40:49Z", "updated_at": "2023-10-20T00:04:46Z", "closed_at": "2023-10-20T00:04:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7300", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7300", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7300.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7300.patch", "merged_at": "2023-10-20T00:04:45Z"}, "body": "Help to excise more dependencies when building the C API.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7300/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7299", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7299/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7299/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7299/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7299", "id": 1953113068, "node_id": "PR_kwDOBhDaXM5dUeSU", "number": 7299, "title": "[14.0.0] Put versions in all WASI WIT files ", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-19T21:50:53Z", "updated_at": "2023-10-19T22:42:16Z", "closed_at": "2023-10-19T22:42:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7299", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7299", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7299.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7299.patch", "merged_at": "2023-10-19T22:42:15Z"}, "body": "This is a backport of #7272 to the 14.0.0 release branch to get version numbers into WASI interfaces that Wasmtime supports sooner rather than later. This uses the exact same date as main, 2023-10-18, so I'll have a follow-up PR to `main` which updates those dates further to have `main` be difference since WITs have changed.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7299/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7297", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7297/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7297/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7297/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7297", "id": 1952672418, "node_id": "PR_kwDOBhDaXM5dS9g3", "number": 7297, "title": "[14.0.0] wasi-http: Allow embedder to manage outgoing connections", "user": {"login": "dicej", "id": 1243153, "node_id": "MDQ6VXNlcjEyNDMxNTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1243153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dicej", "html_url": "https://github.com/dicej", "followers_url": "https://api.github.com/users/dicej/followers", "following_url": "https://api.github.com/users/dicej/following{/other_user}", "gists_url": "https://api.github.com/users/dicej/gists{/gist_id}", "starred_url": "https://api.github.com/users/dicej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dicej/subscriptions", "organizations_url": "https://api.github.com/users/dicej/orgs", "repos_url": "https://api.github.com/users/dicej/repos", "events_url": "https://api.github.com/users/dicej/events{/privacy}", "received_events_url": "https://api.github.com/users/dicej/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-19T16:41:17Z", "updated_at": "2023-10-19T17:33:32Z", "closed_at": "2023-10-19T17:33:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7297", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7297", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7297.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7297.patch", "merged_at": "2023-10-19T17:33:32Z"}, "body": "This is a backport of https://github.com/bytecodealliance/wasmtime/pull/7288, minus the tests.  The test suite has been refactored since the release-14.0.0 branch was created, so backporting the tests would be complicated and not worth the effort.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7297/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7296", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7296/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7296/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7296/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7296", "id": 1952635005, "node_id": "PR_kwDOBhDaXM5dS1XH", "number": 7296, "title": "Replace usage of tabs in `wasi:sockets` with spaces", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-19T16:19:06Z", "updated_at": "2023-10-25T19:13:04Z", "closed_at": "2023-10-19T18:28:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7296", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7296", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7296.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7296.patch", "merged_at": "2023-10-19T18:28:29Z"}, "body": "While valid in WIT I keep finding it jarring to have different indentation in `wasi:sockets`. Additionally all other WASI WITs are using four spaces or two, so make it a bit more consistent.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7296/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7295", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7295/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7295/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7295/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7295", "id": 1952624915, "node_id": "PR_kwDOBhDaXM5dSzJN", "number": 7295, "title": "[14.0.0] Add a whole lot of semicolons to WIT files", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-19T16:13:31Z", "updated_at": "2023-10-19T17:07:09Z", "closed_at": "2023-10-19T17:07:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7295", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7295", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7295.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7295.patch", "merged_at": "2023-10-19T17:07:08Z"}, "body": "This is a backport of #7159 to ensure that those who want to require semicolons in CI for example work correctly with Wasmtime 14.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7295/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7294", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7294/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7294/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7294/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7294", "id": 1952604678, "node_id": "PR_kwDOBhDaXM5dSuxp", "number": 7294, "title": "[14.0.0] Update wasm-tools and wit-bindgen crates", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-19T16:01:05Z", "updated_at": "2023-10-19T17:06:06Z", "closed_at": "2023-10-19T17:06:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7294", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7294", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7294.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7294.patch", "merged_at": "2023-10-19T17:06:05Z"}, "body": "This is primarily to pull in bytecodealliance/wasm-tools#1252 to get decoding of the new format into a Wasmtime release ASAP.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7294/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7293", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7293/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7293/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7293/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7293", "id": 1952581931, "node_id": "PR_kwDOBhDaXM5dSp1f", "number": 7293, "title": "Remove some unnecessary world versions", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-19T15:49:19Z", "updated_at": "2023-10-19T17:08:04Z", "closed_at": "2023-10-19T17:08:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7293", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7293", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7293.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7293.patch", "merged_at": "2023-10-19T17:08:03Z"}, "body": "With updates to `wit-parser` and `wit-bindgen` some of these versions are now optional and can be omitted.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7293/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7291", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7291/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7291/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7291/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7291", "id": 1952568207, "node_id": "PR_kwDOBhDaXM5dSmwX", "number": 7291, "title": "Disable relaxed simd when simd is disabled", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-19T15:43:41Z", "updated_at": "2023-10-25T19:12:39Z", "closed_at": "2023-10-19T17:05:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7291", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7291", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7291.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7291.patch", "merged_at": "2023-10-19T17:05:31Z"}, "body": "Fixes a fuzz test case discovered last night\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7291/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7290", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7290/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7290/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7290/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7290", "id": 1952296016, "node_id": "PR_kwDOBhDaXM5dRuM1", "number": 7290, "title": "Add support for binary float operators to Winch", "user": {"login": "jeffcharles", "id": 154890, "node_id": "MDQ6VXNlcjE1NDg5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/154890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeffcharles", "html_url": "https://github.com/jeffcharles", "followers_url": "https://api.github.com/users/jeffcharles/followers", "following_url": "https://api.github.com/users/jeffcharles/following{/other_user}", "gists_url": "https://api.github.com/users/jeffcharles/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeffcharles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeffcharles/subscriptions", "organizations_url": "https://api.github.com/users/jeffcharles/orgs", "repos_url": "https://api.github.com/users/jeffcharles/repos", "events_url": "https://api.github.com/users/jeffcharles/events{/privacy}", "received_events_url": "https://api.github.com/users/jeffcharles/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 5021130657, "node_id": "LA_kwDOBhDaXM8AAAABK0hfoQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/winch", "name": "winch", "color": "4DE22F", "default": false, "description": "Winch issues or pull requests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-19T13:41:54Z", "updated_at": "2023-10-19T15:14:36Z", "closed_at": "2023-10-19T15:14:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7290", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7290", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7290.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7290.patch", "merged_at": "2023-10-19T15:14:36Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\nRelated to #6528. Adds support for `f32.add`, `f64.add`, `f32.sub`, `f64.sub`, `f32.mul`, `f64.mul`, `f32.div`, `f64.div`, `f32.min`, `f64.min`, `f32.max`, `f64.max`, `f32.copysign`, and `f64.copysign` instructions to Winch.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7290/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7289", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7289/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7289/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7289/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7289", "id": 1950661280, "node_id": "PR_kwDOBhDaXM5dMMdK", "number": 7289, "title": "Implement support for `thread` in `*.wast` tests", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-10-18T21:08:38Z", "updated_at": "2023-10-19T00:36:01Z", "closed_at": "2023-10-19T00:36:00Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7289", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7289", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7289.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7289.patch", "merged_at": "2023-10-19T00:36:00Z"}, "body": "This commit implements support for `thread` and `wait` in `*.wast` files and imports the upstream spec test suite from the `threads` proposal. This additionally and hopefully makes it a bit easier to write threaded tests in the future if necessary too.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7289/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7288", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7288/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7288/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7288/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7288", "id": 1950580230, "node_id": "PR_kwDOBhDaXM5dL6Q7", "number": 7288, "title": "wasi-http: Allow embedder to manage outgoing connections", "user": {"login": "dicej", "id": 1243153, "node_id": "MDQ6VXNlcjEyNDMxNTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1243153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dicej", "html_url": "https://github.com/dicej", "followers_url": "https://api.github.com/users/dicej/followers", "following_url": "https://api.github.com/users/dicej/following{/other_user}", "gists_url": "https://api.github.com/users/dicej/gists{/gist_id}", "starred_url": "https://api.github.com/users/dicej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dicej/subscriptions", "organizations_url": "https://api.github.com/users/dicej/orgs", "repos_url": "https://api.github.com/users/dicej/repos", "events_url": "https://api.github.com/users/dicej/events{/privacy}", "received_events_url": "https://api.github.com/users/dicej/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-10-18T20:19:49Z", "updated_at": "2023-10-18T23:46:03Z", "closed_at": "2023-10-18T23:46:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7288", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7288", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7288.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7288.patch", "merged_at": "2023-10-18T23:46:03Z"}, "body": "This adds a new `send_request` method to `WasiHttpView`, allowing embedders to override the default implementation with their own if they desire.  The default implementation behaves exactly as before.\r\n\r\nI've also added a few new `wasi-http` tests: one to test the above, and two others to test streaming and concurrency.  These tests are ports of the `test_wasi_http_echo` and `test_wasi_http_hash_all` tests in the [Spin](https://github.com/fermyon/spin) integration test suite.  The component they instantiate is likewise ported from the Spin\r\n`wasi-http-rust-streaming-outgoing-body` component.\r\n\r\nFixes #7259\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7288/reactions", "total_count": 4, "+1": 0, "-1": 0, "laugh": 0, "hooray": 4, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7288/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7287", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7287/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7287/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7287/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7287", "id": 1950568854, "node_id": "PR_kwDOBhDaXM5dL3y-", "number": 7287, "title": "Remove usage of `BTreeMap` for compiler flags", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-18T20:11:47Z", "updated_at": "2023-10-18T22:21:59Z", "closed_at": "2023-10-18T22:21:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7287", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7287", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7287.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7287.patch", "merged_at": "2023-10-18T22:21:58Z"}, "body": "No need for a datastructure here really, a simple list with static strings works alright.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7287/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7286", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7286/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7286/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7286/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7286", "id": 1950537575, "node_id": "PR_kwDOBhDaXM5dLw45", "number": 7286, "title": "Update wasm-tools deps and `wit-bindgen`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-18T19:52:57Z", "updated_at": "2023-10-18T22:34:18Z", "closed_at": "2023-10-18T22:34:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7286", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7286", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7286.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7286.patch", "merged_at": "2023-10-18T22:34:17Z"}, "body": "This'll have some knock-on effects when applied to #7272 but that's left for a future PR. This one's just about getting the deps in.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7286/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7285", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7285/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7285/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7285/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7285", "id": 1950511234, "node_id": "PR_kwDOBhDaXM5dLrCE", "number": 7285, "title": "Enable threads, multi-memory, and relaxed-simd by default", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-18T19:36:01Z", "updated_at": "2023-10-18T21:06:22Z", "closed_at": "2023-10-18T21:06:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7285", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7285", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7285.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7285.patch", "merged_at": "2023-10-18T21:06:21Z"}, "body": "This commit enables by default three proposals that were advanced to stage 4 in the proposal process at last week's in-person CG meeting. These proposals are:\r\n\r\n* `threads` - atomic instructions and shared memory\r\n* `multi-memory` - the ability to have more than one linear memory\r\n* `relaxed-simd` - new simd instructions that may differ across platforms\r\n\r\nThese proposals are now all enabled by default in Wasmtime. Note that they can still be selectively disabled via `Config` options.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7285/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7284", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7284/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7284/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7284/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7284", "id": 1950348879, "node_id": "PR_kwDOBhDaXM5dLHHH", "number": 7284, "title": "riscv64: Improve scalar_to_vector for constants", "user": {"login": "BieVic", "id": 11032470, "node_id": "MDQ6VXNlcjExMDMyNDcw", "avatar_url": "https://avatars.githubusercontent.com/u/11032470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BieVic", "html_url": "https://github.com/BieVic", "followers_url": "https://api.github.com/users/BieVic/followers", "following_url": "https://api.github.com/users/BieVic/following{/other_user}", "gists_url": "https://api.github.com/users/BieVic/gists{/gist_id}", "starred_url": "https://api.github.com/users/BieVic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BieVic/subscriptions", "organizations_url": "https://api.github.com/users/BieVic/orgs", "repos_url": "https://api.github.com/users/BieVic/repos", "events_url": "https://api.github.com/users/BieVic/events{/privacy}", "received_events_url": "https://api.github.com/users/BieVic/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-18T18:04:34Z", "updated_at": "2023-10-26T14:15:10Z", "closed_at": "2023-10-19T16:52:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7284", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7284", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7284.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7284.patch", "merged_at": "2023-10-19T16:52:22Z"}, "body": "This simple improvement adds a rule for the `vmerge.vim` instruction and an `imm5_from_value` extractor.\r\nCloses #7189 \r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7284/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7282", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7282/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7282/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7282/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7282", "id": 1950256542, "node_id": "PR_kwDOBhDaXM5dKyu2", "number": 7282, "title": "Gate many CLI/Wasmtime features behind Cargo features", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}, {"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-10-18T17:11:58Z", "updated_at": "2023-11-22T20:35:40Z", "closed_at": "2023-10-19T18:53:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7282", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7282", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7282.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7282.patch", "merged_at": "2023-10-19T18:53:27Z"}, "body": "This PR is borne out of discussions from last week's CG meetings about the suitability of Wasmtime in embedded scenarios. One of the primary concerns that arose was the binary size of the Wasmtime engine being too large for these scenarios. In my experience binary size is one aspect of Rust where it doesn't come for free so this aligns with my expectations. That being said I've yet to see a case in Rust where a particular binary footprint couldn't be achieved, hence this PR.\r\n\r\nOne thing I've noticed is that many folks evaluating Wasmtime seem to look at the size of the `wasmtime` executable itself when performing size comparisons. While this likely doesn't reflect the true size of what a custom embedding would be it's nevertheless an easy comparison that can be made. To that effect I've added a number of Cargo features to the `wasmtime-cli` crate to disable functionality up to and including `wasmtime compile` for example. This PR enables building a `wasmtime` exectuable that is stripped down to the bare bones - all it can do is run precompiled WebAssembly files. That being said it should still be a full-featured runtime at this time where only some optional features such as DWARF processing for `addr2line` are disabled.\r\n\r\nAdditionally in this PR I've added a new chapter to the Wasmtime book about building a minimal build of Wasmtime. This explains not only the existence of the `--no-default-features` build flag but additionally the consequences in terms of functionality and binary size. Furthermore this section additionally directly expands on tips and tricks for building a minimal binary using various Rust compiler flags and nightly features. This section shows how the `wasmtime` CLI is 130M in debug mode and the smallest build producable after this PR is 2.1M. \r\n\r\nThe goal of this PR is to get the ball rolling on size-related optimizations, not necessarily be the end-all-be-all. Further optimizations to binary size will likely require more invasive changes about how we develop Wasmtime or similar. For example we may have to lose the relatively rich error information Wasmtime currently has to get the next level of significant win. That being said I'm at least personally lacking a bit in direction for where to go next to optimize. My hope is that by showcasing a much smaller `wasmtime` CLI executable it shows to folks that Wasmtime for these use cases is viable, even if it's not suitable just yet. For example the CLI uses crates such as `clap` which won't be present in custom embeddings. Having an actual custom embedding to optimize for will be useful. In lieu of this I plan on continuing to poke to see what we can do.\r\n\r\nOne option as a result of this PR is to build a `wasmtime-lite` executable on CI and upload it to GitHub Actions/Releases as well. I'm not totally convinced that'd be too useful so I haven't done that. Another option though is to add a CI builder which builds a minimal binary and verifies that it doesn't go above a particular threshold to catch regressions in binary size (e.g. if a new feature is added ensure that it can be disabled with `--no-default-features`). I've left this for a future PR as well.\r\n\r\nI should also note that my hope is that when optimizing for binary size it would not hinder the development of Wasmtime anywhere else. In that sense it should ideally be easy for anyone to understand how the conditionally compiled code works and it shouldn't appear as a maze of cfgs to wade through to get things working. While it's definitely more `#[cfg]` than before, I'm particularly interested if folks feel this is too onerous to maintain or burdensome. If so I'd be interested in improving how this is all designed.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7282/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7281", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7281/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7281/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7281/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7281", "id": 1949198681, "node_id": "PR_kwDOBhDaXM5dHL9C", "number": 7281, "title": "PCC: draw the rest of the owl: fully-working PCC on hello-world Wasm on aarch64", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-18T08:43:03Z", "updated_at": "2023-10-19T20:40:41Z", "closed_at": "2023-10-19T20:40:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7281", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7281", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7281.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7281.patch", "merged_at": "2023-10-19T20:40:41Z"}, "body": "This needed a bit more inference / magic than I was hoping for at first,\r\nspecifically around constants and adds. Some instructions can now\r\ngenerate facts on their output registers, even if not stated. This\r\nbreaks away from the \"breadcrumbs\" idea, but seems to be the most\r\npractical solution to a general problem that we have mini-lowering steps\r\nin various places without careful preservation of PCC facts. Two\r\nparticular aspects:\r\n\r\n- Constants: amodes on aarch64 can decompose into new\r\n  constant-generation instructions, and we need precise ranges on those\r\n  to properly check them. To avoid making the ISLE rules nightmarish,\r\n  it's best to reuse the existing semantics definitions of the Add* ALU\r\n  insts, and add a few rules for MovK/MovZ/MovN.\r\n\r\n- Adds: similarly, amodes decompose into de-novo add instructions with\r\n  no facts. To handle this, there's now a notion of \"propagating\" facts\r\n  that cause an instruction with a propagating fact on the input to\r\n  generate a fact on the output.\r\n\r\nTogether, these heuristics mean that we'll eagerly generate a fact for\r\n`mem(mt0, 0, 0) + 8 -> mem(mt0, 8, 8)`, but we won't, for example,\r\ngenerate ranges on every single integer operation.\r\n\r\nWith these changes and a few other misc fixes, this PR can now check a\r\nnontrivial \"hello world\" Wasm on aarch64 down to the machine-code level:\r\n\r\n```\r\n$ target/release/wasmtime compile -C enable-pcc=y ../wasm-tests/helloworld-rs.wasm\r\n# completes successfully\r\n```\r\n\r\n(This builds on #7280, and I also intend to clean it up a bit, so creating as a draft for now)", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7281/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7281/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7280", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7280/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7280/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7280/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7280", "id": 1948781718, "node_id": "PR_kwDOBhDaXM5dFwYM", "number": 7280, "title": "PCC: merge/propagate facts through egraph opts.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-18T04:23:30Z", "updated_at": "2023-10-18T16:35:53Z", "closed_at": "2023-10-18T16:35:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7280", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7280", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7280.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7280.patch", "merged_at": "2023-10-18T16:35:53Z"}, "body": "This turns out to be quite simple: the fundamental operation during egraph-based optimization is to *merge* eclasses, which is an assertion that their value is equal. Since the values of either side of the merge are equal, a fact about one side is a fact about the other, and vice-versa.\r\n\r\nSince we only support *one* fact at most per value, we can't take the union of all facts; instead, if one side is missing a fact, or if both sides have exactly the same fact, we keep that one; otherwise we go to a special \"conflict\" fact that can't support any check. This is edging closer to a fact-lattice, but I opted not to go there with a full meet-function merge yet, for simplicity. (It's a little complex because of the \"minimum fact\" we can know about a value based on its type -- if we're going to do something better, I think we should account for that too.)\r\n\r\nIn any case, that complexity mostly isn't needed, because the two cases that happen in reality are (i) opt rules rewrite to a new node, which will have no facts at all, so facts just propagate; or (ii) GVN merges two values in the input program into one, but if both are the same value, in practice the Wasm PCC frontend (for example) should be producing the same facts on both values, so the merge is trivial.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7280/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7279", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7279/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7279/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7279/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7279", "id": 1948770414, "node_id": "PR_kwDOBhDaXM5dFt3J", "number": 7279, "title": "riscv64: Add support for the xnor instruction", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-18T04:12:08Z", "updated_at": "2023-10-25T19:13:22Z", "closed_at": "2023-10-18T10:49:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7279", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7279", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7279.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7279.patch", "merged_at": "2023-10-18T10:49:13Z"}, "body": "Finishing off the zbb instruction support in Cranelift", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7279/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7274", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7274/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7274/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7274/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7274", "id": 1948356714, "node_id": "PR_kwDOBhDaXM5dET4E", "number": 7274, "title": "PCC: initial end-to-end integration with Wasmtime's static memories.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-10-17T22:00:35Z", "updated_at": "2023-10-18T00:32:34Z", "closed_at": "2023-10-18T00:32:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7274", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7274", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7274.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7274.patch", "merged_at": "2023-10-18T00:32:33Z"}, "body": "This PR wires up end-to-end support for validating the compilation of accesses to static memories in Wasmtime. It creates \"memory types\" for the vmcontext struct and the memories it points to, and it adds PCC annotations to the relevant memory pointers. On aarch64 (where instruction semantics for PCC are implemented), this validates a simple `i32.load` function body with default memory configuration.\r\n\r\nNote that facts are not yet propagated through egraph rewrites, so optimization has to be disabled for this to work; that support will come next.\r\n\r\nCo-authored-by: Nick Fitzgerald <fitzgen@gmail.com>", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7274/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7272", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7272/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7272/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7272/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7272", "id": 1948168441, "node_id": "PR_kwDOBhDaXM5dDpyJ", "number": 7272, "title": "Put versions in all WASI WIT files", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-10-17T20:10:02Z", "updated_at": "2023-10-18T22:34:18Z", "closed_at": "2023-10-18T22:34:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7272", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7272", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7272.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7272.patch", "merged_at": "2023-10-18T22:34:17Z"}, "body": "This commit starts exercising the versioning feature of WIT by ensuring that all WASI descriptions have a version associated with them. The version chosen is 0.2.0 which reflects the upcoming \"preview 2\" release where in theory 0.1.0 was claimed by preview1. This is intended to stay as 0.2.0 for now and we'll determine how best to update these numbers in the future once preview2 is released.\r\n\r\nCloses #7171\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7272/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7269", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7269/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7269/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7269/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7269", "id": 1947742282, "node_id": "PR_kwDOBhDaXM5dCNDg", "number": 7269, "title": "Refactor x64 asm methods to extract xmm logic in Winch", "user": {"login": "jeffcharles", "id": 154890, "node_id": "MDQ6VXNlcjE1NDg5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/154890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeffcharles", "html_url": "https://github.com/jeffcharles", "followers_url": "https://api.github.com/users/jeffcharles/followers", "following_url": "https://api.github.com/users/jeffcharles/following{/other_user}", "gists_url": "https://api.github.com/users/jeffcharles/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeffcharles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeffcharles/subscriptions", "organizations_url": "https://api.github.com/users/jeffcharles/orgs", "repos_url": "https://api.github.com/users/jeffcharles/repos", "events_url": "https://api.github.com/users/jeffcharles/events{/privacy}", "received_events_url": "https://api.github.com/users/jeffcharles/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5021130657, "node_id": "LA_kwDOBhDaXM8AAAABK0hfoQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/winch", "name": "winch", "color": "4DE22F", "default": false, "description": "Winch issues or pull requests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-17T15:48:52Z", "updated_at": "2023-10-17T17:08:31Z", "closed_at": "2023-10-17T16:58:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7269", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7269", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7269.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7269.patch", "merged_at": "2023-10-17T16:58:31Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\nRefactor x86 microassembler methods such that separate methods are used to operate on XMM registers as opposed to operating on general purpose registers. Also rename methods that operate on multiple XMM registers to use the format `xmm_operation_rr` to be consistent with the naming convention in the rest of the struct.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7269/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7268", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7268/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7268/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7268/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7268", "id": 1947634293, "node_id": "PR_kwDOBhDaXM5dB2F0", "number": 7268, "title": "riscv64: Fix missing extensions for 8/16-bit div/rem", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-17T14:56:52Z", "updated_at": "2023-10-17T17:12:28Z", "closed_at": "2023-10-17T16:54:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7268", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7268", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7268.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7268.patch", "merged_at": "2023-10-17T16:54:43Z"}, "body": "This was mistakenly left out of my recent refactor for remainder/division.\r\n\r\nCloses #7245\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7268/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7267", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7267/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7267/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7267/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7267", "id": 1947602699, "node_id": "PR_kwDOBhDaXM5dBvRE", "number": 7267, "title": "Update wasm-tools family of crates", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-10-17T14:42:27Z", "updated_at": "2023-10-17T17:12:23Z", "closed_at": "2023-10-17T16:40:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7267", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7267", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7267.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7267.patch", "merged_at": "2023-10-17T16:40:50Z"}, "body": "Some notable changes here are:\r\n\r\n* The `wasm-tools` crates have enabled the `relaxed-simd`, `threads`, and `multi-memory` proposals by default. For now I've left these disabled-by-default in Wasmtime to get enabled in a future PR.\r\n\r\n* The `wast` crate has support for parsing `thread` and `wait` constructs from the `threads` proposal for WebAssembly. They're left unimplemented for now and return errors. This will get filled in in a future update.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7267/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7265", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7265/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7265/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7265/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7265", "id": 1947147492, "node_id": "PR_kwDOBhDaXM5dAK3B", "number": 7265, "title": "riscv: Delete `AdjustSp` instruction", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 4590005593, "node_id": "LA_kwDOBhDaXM8AAAABEZXtWQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:riscv64", "name": "cranelift:area:riscv64", "color": "fbca04", "default": false, "description": "Issues related to the RISC-V 64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-17T11:02:00Z", "updated_at": "2023-10-17T14:36:21Z", "closed_at": "2023-10-17T14:36:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7265", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7265", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7265.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7265.patch", "merged_at": "2023-10-17T14:36:21Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis is a small cleanup to the RISC-V backend. We have an `AdjustSp` instruction, but it doesn't do a whole lot, and it can be replaced by an existing helper function. So there is no reason to have it at the emit layer.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7265/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7263", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7263/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7263/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7263/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7263", "id": 1946319669, "node_id": "PR_kwDOBhDaXM5c9Ygy", "number": 7263, "title": "PCC: switch \"max\" facts to \"range\" facts with two-sided ranges.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-17T00:41:15Z", "updated_at": "2023-10-17T17:38:08Z", "closed_at": "2023-10-17T17:38:07Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7263", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7263", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7263.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7263.patch", "merged_at": "2023-10-17T17:38:07Z"}, "body": "This is needed for soundness when verifying accesses to memtype fields: it's not enough to know that we're accessing an offset in `0` up to `field_offset` inclusive, we need to know the access is actually to `field_offset`.\r\n\r\nThe simplest change that validates this turned out to be the most general one: making ranges two-sided rather than one-sided. The transform is *mostly* mechanical, but a few new tests verify that ranges are updated on both sides, and some fail-tests verify that \"fuzzily imprecise\" pointers to struct fields fail to validate.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7263/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7262", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7262/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7262/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7262/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7262", "id": 1946252182, "node_id": "PR_kwDOBhDaXM5c9J-v", "number": 7262, "title": "PCC: rework default-facts somewhat.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-16T23:19:29Z", "updated_at": "2023-10-17T00:37:20Z", "closed_at": "2023-10-17T00:37:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7262", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7262", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7262.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7262.patch", "merged_at": "2023-10-17T00:37:20Z"}, "body": "This removes the need for the awkward \"max-range fact is subsumed by anything\" rule noted by @fitzgen in [this\r\ncomment](https://github.com/bytecodealliance/wasmtime/pull/7231#discussion_r1358573147). It also makes checking a little more efficient and logically clear, as only the facts that the frontend/producer added are verified, rather than all default facts as well.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7262/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7254", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7254/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7254/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7254/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7254", "id": 1945587776, "node_id": "PR_kwDOBhDaXM5c64fI", "number": 7254, "title": "Fix profiling the first function in a module", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-16T15:58:29Z", "updated_at": "2023-10-16T17:04:17Z", "closed_at": "2023-10-16T17:04:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7254", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7254", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7254.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7254.patch", "merged_at": "2023-10-16T17:04:16Z"}, "body": "This commit removes a clause in `register_module` which was preventing `perf` profiling the first function in a module because it was located at address 0. This check is relatively dated at this point and I think I originally added it in error (and/or it was copied from somewhere else), so this commit removes it.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7254/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7253", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7253/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7253/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7253/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7253", "id": 1945319338, "node_id": "PR_kwDOBhDaXM5c58lZ", "number": 7253, "title": "Enable the `tracing-log` feature of tracing-subscriber", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-16T14:14:52Z", "updated_at": "2023-10-16T16:31:36Z", "closed_at": "2023-10-16T16:29:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7253", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7253", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7253.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7253.patch", "merged_at": "2023-10-16T16:29:44Z"}, "body": "Otherwise the CLI no longer prints `log`-based logging messages.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7253/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7252", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7252/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7252/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7252/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7252", "id": 1945294218, "node_id": "PR_kwDOBhDaXM5c53FS", "number": 7252, "title": "riscv64: Implement some `Zbs` extension lowerings", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-10-16T14:03:11Z", "updated_at": "2023-10-17T16:27:38Z", "closed_at": "2023-10-17T16:27:37Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7252", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7252", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7252.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7252.patch", "merged_at": "2023-10-17T16:27:37Z"}, "body": "This commit extends the riscv64 backend with instructions from the `Zbs` extension. I did this awhile back for the bmi{1,2} instructions for x64 and this is mostly for completeness's sake rather than performance or anything like that, and because I had a long plane ride!", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7252/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7251", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7251/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7251/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7251/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7251", "id": 1945284803, "node_id": "PR_kwDOBhDaXM5c51CB", "number": 7251, "title": "riscv64: Refactor and improve some rotate-related codegen", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-16T13:58:33Z", "updated_at": "2023-10-16T19:25:53Z", "closed_at": "2023-10-16T19:25:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7251", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7251", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7251.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7251.patch", "merged_at": "2023-10-16T19:25:52Z"}, "body": "This commit expands the support a bit for zbb-extension rotates in the riscv64 backend. The lowering rules are all moved to `lower.isle` and some special cases are added for constant rotates as well.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7251/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7250", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7250/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7250/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7250/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7250", "id": 1945273936, "node_id": "PR_kwDOBhDaXM5c5yqN", "number": 7250, "title": "riscv64: Optimize `select_spectre_guard`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-16T13:53:14Z", "updated_at": "2023-10-16T19:06:50Z", "closed_at": "2023-10-16T18:42:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7250", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7250", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7250.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7250.patch", "merged_at": "2023-10-16T18:42:14Z"}, "body": "This commit optimizes some `select_spectre_guard` patterns which are frequently generated with the wasm backend when dynamic bounds checks are enabled by pattern-matching when one of the values being selected is zero. This enables shaving off a few instructions which can be constant folded away.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7250/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7249", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7249/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7249/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7249/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7249", "id": 1945266440, "node_id": "PR_kwDOBhDaXM5c5xA8", "number": 7249, "title": "cranelift: Add egraph rules for `bswap`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-16T13:49:26Z", "updated_at": "2023-10-16T18:59:43Z", "closed_at": "2023-10-16T18:59:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7249", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7249", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7249.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7249.patch", "merged_at": "2023-10-16T18:59:41Z"}, "body": "WebAssembly doesn't currently have a byte-swapping instruction so this commit pattern matches what LLVM currently generates to simplify to a single `bswap` instruction in CLIF which can be lowered within each backend to respective native instructions.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7249/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7242", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7242/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7242/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7242/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7242", "id": 1942932135, "node_id": "PR_kwDOBhDaXM5cyYCi", "number": 7242, "title": "Minor logging tweaks", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-14T03:50:11Z", "updated_at": "2023-10-16T15:05:50Z", "closed_at": "2023-10-16T15:05:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7242", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7242", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7242.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7242.patch", "merged_at": "2023-10-16T15:05:48Z"}, "body": "Some things I noticed from #7239 which are very much not critical but I figure might be nice-to-haves:\r\n\r\n* Move the logging configuration to the `wasmtime-cli-flags` crate with the other logging configuration to keep it in one place.\r\n* Remove `pretty_env_logger` since `tracing-subscriber` probably supplants it.\r\n* Don't explicitly inherit env vars in tests since that happens automatically with `Command`.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7242/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7241", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7241/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7241/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7241/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7241", "id": 1942769167, "node_id": "PR_kwDOBhDaXM5cx7jY", "number": 7241, "title": "threads: use hex addresses in log messages", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-13T23:16:16Z", "updated_at": "2023-10-26T17:41:00Z", "closed_at": "2023-10-14T00:49:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7241", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7241", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7241.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7241.patch", "merged_at": "2023-10-14T00:49:11Z"}, "body": "In #7220, we began logging the arguments of WebAssembly `wait` and `notify` as these instructions are executed. This change prints the addresses using hexadecimal, which is simply more convenient when dealing with addressing.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7241/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7240", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7240/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7240/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7240/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7240", "id": 1942636988, "node_id": "PR_kwDOBhDaXM5cxiGL", "number": 7240, "title": "Support reset_fuel in store APIs", "user": {"login": "rockwotj", "id": 8669100, "node_id": "MDQ6VXNlcjg2NjkxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8669100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rockwotj", "html_url": "https://github.com/rockwotj", "followers_url": "https://api.github.com/users/rockwotj/followers", "following_url": "https://api.github.com/users/rockwotj/following{/other_user}", "gists_url": "https://api.github.com/users/rockwotj/gists{/gist_id}", "starred_url": "https://api.github.com/users/rockwotj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rockwotj/subscriptions", "organizations_url": "https://api.github.com/users/rockwotj/orgs", "repos_url": "https://api.github.com/users/rockwotj/repos", "events_url": "https://api.github.com/users/rockwotj/events{/privacy}", "received_events_url": "https://api.github.com/users/rockwotj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-10-13T21:00:45Z", "updated_at": "2023-10-16T18:24:14Z", "closed_at": "2023-10-16T18:24:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7240", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7240", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7240.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7240.patch", "merged_at": "2023-10-16T18:24:13Z"}, "body": "Add a simpler interface to reset the amount of fuel in a store.\r\n\r\nFixes: https://github.com/bytecodealliance/wasmtime/issues/5109\r\n\r\nA continuation of https://github.com/bytecodealliance/wasmtime/pull/5220, which has stalled. To make it more obvious that `consumed_fuel` is reset, I've changed the name to this method to be `reset_fuel`.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7240/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7239", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7239/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7239/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7239/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7239", "id": 1942630823, "node_id": "PR_kwDOBhDaXM5cxgwE", "number": 7239, "title": "wasmtime-cli: add tracing output on `WASMTIME_LOG`", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-13T20:53:44Z", "updated_at": "2023-10-13T23:48:59Z", "closed_at": "2023-10-13T23:48:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7239", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7239", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7239.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7239.patch", "merged_at": "2023-10-13T23:48:57Z"}, "body": "We use `log` and `tracing` messages in many parts of the wasmtime project to provide debug output. This PR installs `tracing-subscriber` in the wasmtime-cli `fn main()`. It is configured to read the `WASMTIME_LOG` env variable, output to stderr, and use ansi coloring when std::io::stderr().is_terminal().\r\n\r\n<details>\r\n<pre>\r\n[phickey@pch-tower:src/wasmtime]% WASMTIME_LOG=wasmtime_wasi=trace cargo run -- --wasm component-model cli_hello_stdout.component.wasm\r\n   Compiling wasmtime-cli v15.0.0 (/home/phickey/src/wasmtime)\r\n    Finished dev [unoptimized + debuginfo] target(s) in 1.27s\r\n     Running `target/debug/wasmtime --wasm component-model cli_hello_stdout.component.wasm`\r\n2023-10-13T20:49:45.513742Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"terminal-stdin\" function=\"get-terminal-stdin\"}: wasmtime_wasi::preview2::bindings::wasi::cli::terminal_stdin: call\r\n2023-10-13T20:49:45.513811Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"terminal-stdin\" function=\"get-terminal-stdin\"}: wasmtime_wasi::preview2::bindings::wasi::cli::terminal_stdin: return result=Ok(Some(Resource { rep: 3, state: \"own (not in table)\" }))\r\n2023-10-13T20:49:45.513943Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"terminal-stdout\" function=\"get-terminal-stdout\"}: wasmtime_wasi::preview2::bindings::wasi::cli::terminal_stdout: call\r\n2023-10-13T20:49:45.513972Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"terminal-stdout\" function=\"get-terminal-stdout\"}: wasmtime_wasi::preview2::bindings::wasi::cli::terminal_stdout: return result=Ok(Some(Resource { rep: 4, state: \"own (not in table)\" }))\r\n2023-10-13T20:49:45.514052Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"terminal-stderr\" function=\"get-terminal-stderr\"}: wasmtime_wasi::preview2::bindings::wasi::cli::terminal_stderr: call\r\n2023-10-13T20:49:45.514081Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"terminal-stderr\" function=\"get-terminal-stderr\"}: wasmtime_wasi::preview2::bindings::wasi::cli::terminal_stderr: return result=Ok(Some(Resource { rep: 5, state: \"own (not in table)\" }))\r\n2023-10-13T20:49:45.514182Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"stdin\" function=\"get-stdin\"}: wasmtime_wasi::preview2::bindings::wasi::cli::stdin: call\r\n2023-10-13T20:49:45.514214Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"stdin\" function=\"get-stdin\"}: wasmtime_wasi::preview2::bindings::wasi::cli::stdin: return result=Ok(Resource { rep: 6, state: \"own (not in table)\" })\r\n2023-10-13T20:49:45.514289Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"stdout\" function=\"get-stdout\"}: wasmtime_wasi::preview2::bindings::wasi::cli::stdout: call\r\n2023-10-13T20:49:45.514511Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"stdout\" function=\"get-stdout\"}: wasmtime_wasi::preview2::bindings::wasi::cli::stdout: return result=Ok(Resource { rep: 7, state: \"own (not in table)\" })\r\n2023-10-13T20:49:45.514595Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"stderr\" function=\"get-stderr\"}: wasmtime_wasi::preview2::bindings::wasi::cli::stderr: call\r\n2023-10-13T20:49:45.514635Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"stderr\" function=\"get-stderr\"}: wasmtime_wasi::preview2::bindings::wasi::cli::stderr: return result=Ok(Resource { rep: 8, state: \"own (not in table)\" })\r\n2023-10-13T20:49:45.514696Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"preopens\" function=\"get-directories\"}: wasmtime_wasi::preview2::bindings::wasi::filesystem::preopens: call\r\n2023-10-13T20:49:45.514726Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"preopens\" function=\"get-directories\"}: wasmtime_wasi::preview2::bindings::wasi::filesystem::preopens: return result=Ok([])\r\n2023-10-13T20:49:45.514846Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::bindings::sync_io::_internal::wasi::io::streams: call self_=Resource { rep: 7, state: \"borrow\" } contents=[104, 101, 108, 108, 111, 44, 32, 119, 111, 114, 108, 100, 10]\r\n2023-10-13T20:49:45.515027Z DEBUG wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::write_stream: worker writing: b\"hello, world\\n\"\r\nhello, world\r\n2023-10-13T20:49:45.515316Z DEBUG wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::write_stream: worker marking flush complete\r\n2023-10-13T20:49:45.515371Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::bindings::sync_io::_internal::wasi::io::streams: return result=Ok(())\r\n2023-10-13T20:49:45.515460Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::bindings::sync_io::_internal::wasi::io::streams: call self_=Resource { rep: 8, state: \"borrow\" } contents=[104, 101, 108, 108, 111, 44, 32, 119, 111, 114, 108, 100, 10]\r\n2023-10-13T20:49:45.515534Z DEBUG wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::write_stream: worker writing: b\"hello, world\\n\"\r\nhello, world\r\n2023-10-13T20:49:45.515655Z DEBUG wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::write_stream: worker marking flush complete\r\n2023-10-13T20:49:45.515701Z TRACE wit-bindgen export{module=\"wasi:cli/run\" function=\"run\"}:wit-bindgen import{module=\"streams\" function=\"[method]output-stream.blocking-write-and-flush\"}: wasmtime_wasi::preview2::bindings::sync_io::_internal::wasi::io::streams: return result=Ok(())\r\n\r\n</pre>\r\n</details>", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7239/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7239/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7238", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7238/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7238/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7238/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7238", "id": 1942493481, "node_id": "PR_kwDOBhDaXM5cxGBE", "number": 7238, "title": "c-api/cmake: support disabling ALWAYS_BUILD", "user": {"login": "rockwotj", "id": 8669100, "node_id": "MDQ6VXNlcjg2NjkxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8669100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rockwotj", "html_url": "https://github.com/rockwotj", "followers_url": "https://api.github.com/users/rockwotj/followers", "following_url": "https://api.github.com/users/rockwotj/following{/other_user}", "gists_url": "https://api.github.com/users/rockwotj/gists{/gist_id}", "starred_url": "https://api.github.com/users/rockwotj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rockwotj/subscriptions", "organizations_url": "https://api.github.com/users/rockwotj/orgs", "repos_url": "https://api.github.com/users/rockwotj/repos", "events_url": "https://api.github.com/users/rockwotj/events{/privacy}", "received_events_url": "https://api.github.com/users/rockwotj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-13T19:10:34Z", "updated_at": "2023-10-14T16:15:59Z", "closed_at": "2023-10-13T20:21:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7238", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7238", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7238.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7238.patch", "merged_at": "2023-10-13T20:21:02Z"}, "body": "We use a [superbuild pattern][1] (which is a bit outdated but meh) in our CMake Setup. With that pattern, it's nice to be able to disable `ALWAYS_BUILD` because that causes issues and forces unneeded reconfigures in that setup. Thus add an option to disable ALWAYS_BUILD, in our setup updating the sha or other build variables will properly update wasmtime.\n\n[1]: https://www.kitware.com/cmake-superbuilds-git-submodules/\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7238/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7236", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7236/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7236/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7236/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7236", "id": 1942377838, "node_id": "PR_kwDOBhDaXM5cwuj_", "number": 7236, "title": "Update `arbitrary` to 1.3.1", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-13T17:44:53Z", "updated_at": "2023-10-13T18:59:34Z", "closed_at": "2023-10-13T18:59:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7236", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7236", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7236.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7236.patch", "merged_at": "2023-10-13T18:59:33Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7236/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7234", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7234/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7234/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7234/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7234", "id": 1940892930, "node_id": "PR_kwDOBhDaXM5crtBZ", "number": 7234, "title": "Implement stream splice, delete forward", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-12T22:31:01Z", "updated_at": "2023-10-16T20:20:34Z", "closed_at": "2023-10-16T20:20:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7234", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7234", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7234.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7234.patch", "merged_at": "2023-10-16T20:20:33Z"}, "body": "This PR implements `output-stream.splice` and `blocking-splice`.\r\n\r\nThe wit definitions for these functions has been changed to take a `borrow<input-stream>`, rather than the owned resource.\r\n\r\nSplice performs the equivalent to:\r\n* uses `check-write` to determine how much input is accepted by the `output-stream`.\r\n* uses `read` to read up to that much (or the `len` bound provided by caller) from the `input-stream`\r\n* uses `write` to write the read data to the `output-stream`.\r\n\r\nBy implementing this in the host using the `HostInputStream` and `HostOutputStream` traits, the read and write are done in terms of `Bytes` representation, so there are zero copies of the underlying data made as part of the splice.\r\n\r\nA blocking splice waits for both read and write readiness before performing those operations.\r\n\r\nThe `output-stream.forward` method has been deleted from the wit. We believe that the fusion of an `output-stream` into an `input-stream` (which gives up ownership of both resources, and happens perpetually in the background) is a worthwhile concept to implement some day, but it raises various questions on how progress and errors can be reported, and whether the background work can outlive the calling component, so rather than open that can of worms now we are going to ask users to implement it with their own event loops using `splice` for now, and look at adding it again in the future.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7234/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7233", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7233/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7233/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7233/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7233", "id": 1940663042, "node_id": "PR_kwDOBhDaXM5cq55V", "number": 7233, "title": "remove logging from wit deps", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-12T19:30:21Z", "updated_at": "2023-10-12T21:29:17Z", "closed_at": "2023-10-12T21:29:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7233", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7233", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7233.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7233.patch", "merged_at": "2023-10-12T21:29:16Z"}, "body": "I believe this was missed in the code review for #7029, it was introduced as an intermediate step in that PR but wasnt fully removed.\r\n\r\nAlso, the command extended world can now use `include wasi:cli/command;` which is a really nice improvement.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7233/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7232", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7232/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7232/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7232/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7232", "id": 1940660264, "node_id": "PR_kwDOBhDaXM5cq5Qw", "number": 7232, "title": "Minor preview2 related test cleanups", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-12T19:28:48Z", "updated_at": "2023-10-12T21:22:58Z", "closed_at": "2023-10-12T21:22:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7232", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7232", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7232.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7232.patch", "merged_at": "2023-10-12T21:22:57Z"}, "body": "* there was a duplicate test for the behavior of panics\r\n* the test for stream pollable children lifetimes was different than all of the others to invoke, so split it into two tests (in preview2 instead of cli) and assert that one of them traps, the other succceeds", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7232/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7231", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7231/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7231/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7231/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7231", "id": 1940652132, "node_id": "PR_kwDOBhDaXM5cq3Z8", "number": 7231, "title": "PCC: check facts on loaded and stored values, infer facts where needed, and add a basic vmctx/memory example.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-10-12T19:24:38Z", "updated_at": "2023-10-13T18:48:28Z", "closed_at": "2023-10-13T01:36:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7231", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7231", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7231.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7231.patch", "merged_at": "2023-10-13T01:36:43Z"}, "body": "This PR incorporates a few more steps in PCC's development:\r\n* We now check that the fact, if any, provided for a field in a memory type supports (subsumes) the claimed fact on the result of a load from that field. Likewise, we check that the fact on any value stored to a field supports the field's fact.\r\n* We check that facts are preserved across control-flow edges by validating that branch arguments' facts subsume blockparams' facts.\r\n* For integer-typed values, when no other fact is present and one is needed during validation, we infer a minimal fact based on the type's full range.\r\n\r\nWith all of these together, we can validate a simple \"mock `vmctx`\" example that looks a lot like what static memory accesses in Wasmtime do:\r\n\r\n```\r\ntest compile\r\nset enable_pcc=true\r\ntarget aarch64\r\n\r\n;; Equivalent to a Wasm `i64.load` from a static memory.\r\nfunction %f0(i64, i32) -> i64 {\r\n    ;; mock vmctx struct:\r\n    mt0 = struct 8 { 0: i64 readonly ! mem(mt1, 0) }\r\n    ;; mock static memory: 4GiB range, plus 2GiB guard\r\n    mt1 = memory 0x1_8000_0000\r\n\r\nblock0(v0 ! mem(mt0, 0): i64, v1: i32):\r\n    ;; Compute the address: base + offset. Guard region (2GiB) is\r\n    ;; sufficient for an 8-byte I64 load.\r\n    v2 ! mem(mt1, 0) = load.i64 checked v0+0    ;; base pointer\r\n    v3 ! max(64, 0xffff_ffff) = uextend.i64 v1  ;; offset\r\n    v4 ! mem(mt1, 0xffff_ffff) = iadd.i64 v2, v3\r\n    v5 = load.i64 checked v4\r\n    return v5\r\n}\r\n```\r\n\r\nIn theory, once we propagate facts during aegraph rewriting (we don't currently; opts are off in all tests), this should be enough for end-to-end checking of static memories by emitting the right facts in `cranelift-wasm`. Those two steps (opts, then Wasm frontend) are next!\r\n\r\nCo-authored-by: Nick Fitzgerald <fitzgen@gmail.com>", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7230", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7230/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7230/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7230/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7230", "id": 1940503804, "node_id": "PR_kwDOBhDaXM5cqWoc", "number": 7230, "title": "Add support for float sqrt operators to Winch", "user": {"login": "jeffcharles", "id": 154890, "node_id": "MDQ6VXNlcjE1NDg5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/154890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeffcharles", "html_url": "https://github.com/jeffcharles", "followers_url": "https://api.github.com/users/jeffcharles/followers", "following_url": "https://api.github.com/users/jeffcharles/following{/other_user}", "gists_url": "https://api.github.com/users/jeffcharles/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeffcharles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeffcharles/subscriptions", "organizations_url": "https://api.github.com/users/jeffcharles/orgs", "repos_url": "https://api.github.com/users/jeffcharles/repos", "events_url": "https://api.github.com/users/jeffcharles/events{/privacy}", "received_events_url": "https://api.github.com/users/jeffcharles/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-12T17:54:32Z", "updated_at": "2023-10-12T20:38:31Z", "closed_at": "2023-10-12T19:08:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7230", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7230", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7230.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7230.patch", "merged_at": "2023-10-12T19:08:37Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\nAdding support for `f32.sqrt` and `f64.sqrt` Wasm instructions to Winch. Part of #6528.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7230/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7228", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7228/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7228/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7228/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7228", "id": 1940435906, "node_id": "PR_kwDOBhDaXM5cqHp1", "number": 7228, "title": "winch: Add a subset of known libcalls and improve call emission", "user": {"login": "saulecabrera", "id": 1423601, "node_id": "MDQ6VXNlcjE0MjM2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1423601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saulecabrera", "html_url": "https://github.com/saulecabrera", "followers_url": "https://api.github.com/users/saulecabrera/followers", "following_url": "https://api.github.com/users/saulecabrera/following{/other_user}", "gists_url": "https://api.github.com/users/saulecabrera/gists{/gist_id}", "starred_url": "https://api.github.com/users/saulecabrera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saulecabrera/subscriptions", "organizations_url": "https://api.github.com/users/saulecabrera/orgs", "repos_url": "https://api.github.com/users/saulecabrera/repos", "events_url": "https://api.github.com/users/saulecabrera/events{/privacy}", "received_events_url": "https://api.github.com/users/saulecabrera/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5021130657, "node_id": "LA_kwDOBhDaXM8AAAABK0hfoQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/winch", "name": "winch", "color": "4DE22F", "default": false, "description": "Winch issues or pull requests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-10-12T17:08:13Z", "updated_at": "2023-10-13T19:47:13Z", "closed_at": "2023-10-13T19:47:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7228", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7228", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7228.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7228.patch", "merged_at": "2023-10-13T19:47:12Z"}, "body": "This change is a follow up to:\r\n- https://github.com/bytecodealliance/wasmtime/pull/7155\r\n- https://github.com/bytecodealliance/wasmtime/pull/7035\r\n\r\nOne of the objectives of this change is to make it easy to emit function calls at the MacroAssembler layer, for cases in which it's challenging to know ahead-of-time if a particular functionality can be achieved natively (e.g. rounding and SSE4.2).  The original implementation of function call emission, made this objective difficult to achieve and it was also difficult to reason about.\r\nI decided to simplify the overall approach to function calls as part of this PR; in essence, the `call` module now exposes a single function `FnCall::emit` which is reponsible of gathtering the dependencies and orchestrating the emission of the call. This new approach deliberately avoids holding any state regarding the function call for simplicity.\r\n\r\nThis change also standardizes the usage of `Callee` as the main entrypoint for function call emission, as of this change 4 `Callee` types exist (`Local`, `Builtin`, `Import`, `FuncRef`), each callee kind is mappable to a `CalleeKind` which is the materialized version of a callee which Cranelift understands.\r\n\r\nThis change also moves the creation of the `BuiltinFunctions` to the `ISA` level given that they can be safely used accross multiple function compilations.\r\n\r\nFinally, this change also introduces support for some of the \"well-known\" libcalls and hooks those libcalls at the `MacroAssembler::float_round` callsite.\r\n\r\n--\r\n\r\nprtest:full\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7228/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7227", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7227/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7227/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7227/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7227", "id": 1940387942, "node_id": "PR_kwDOBhDaXM5cp8w_", "number": 7227, "title": "c-api: expose memory_init_cow", "user": {"login": "rockwotj", "id": 8669100, "node_id": "MDQ6VXNlcjg2NjkxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8669100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rockwotj", "html_url": "https://github.com/rockwotj", "followers_url": "https://api.github.com/users/rockwotj/followers", "following_url": "https://api.github.com/users/rockwotj/following{/other_user}", "gists_url": "https://api.github.com/users/rockwotj/gists{/gist_id}", "starred_url": "https://api.github.com/users/rockwotj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rockwotj/subscriptions", "organizations_url": "https://api.github.com/users/rockwotj/orgs", "repos_url": "https://api.github.com/users/rockwotj/repos", "events_url": "https://api.github.com/users/rockwotj/events{/privacy}", "received_events_url": "https://api.github.com/users/rockwotj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-12T16:44:51Z", "updated_at": "2023-10-13T14:39:57Z", "closed_at": "2023-10-12T21:22:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7227", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7227", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7227.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7227.patch", "merged_at": "2023-10-12T21:22:41Z"}, "body": "The main motivation for exposing this is if you're using a custom host allocator then you can't use these, so you might as well not generate them in the first place.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7227/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7226", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7226/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7226/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7226/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7226", "id": 1940288794, "node_id": "PR_kwDOBhDaXM5cpmh-", "number": 7226, "title": "c-api/cmake: Support custom build options", "user": {"login": "rockwotj", "id": 8669100, "node_id": "MDQ6VXNlcjg2NjkxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8669100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rockwotj", "html_url": "https://github.com/rockwotj", "followers_url": "https://api.github.com/users/rockwotj/followers", "following_url": "https://api.github.com/users/rockwotj/following{/other_user}", "gists_url": "https://api.github.com/users/rockwotj/gists{/gist_id}", "starred_url": "https://api.github.com/users/rockwotj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rockwotj/subscriptions", "organizations_url": "https://api.github.com/users/rockwotj/orgs", "repos_url": "https://api.github.com/users/rockwotj/repos", "events_url": "https://api.github.com/users/rockwotj/events{/privacy}", "received_events_url": "https://api.github.com/users/rockwotj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-10-12T15:53:49Z", "updated_at": "2023-10-13T08:57:58Z", "closed_at": "2023-10-13T08:45:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7226", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7226", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7226.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7226.patch", "merged_at": "2023-10-13T08:45:26Z"}, "body": "This can be useful if you want change to set the features wasmtime\r\nbuilds with in CMake", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7226/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7225", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7225/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7225/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7225/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7225", "id": 1939830875, "node_id": "PR_kwDOBhDaXM5coCCd", "number": 7225, "title": "fuzzgen: Add Alias Analysis Memflags to Loads and Stores", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-10-12T11:58:03Z", "updated_at": "2023-10-15T15:58:20Z", "closed_at": "2023-10-15T15:58:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7225", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7225", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7225.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7225.patch", "merged_at": "2023-10-15T15:58:19Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis is a follow up to #7215 and @jameysharp's comments on yesterdays cranelift meeting. @jameysharp suggested that we could add heaps to clif to start testing our alias analysis pass.\r\n\r\nBut having thought about it, there is nothing special about the \"Heap\" flag on `MemFlags`. It is only used by our alias analysis pass to optimize some accesses. The same happens with the other flags (\"Table\" and \"VmCtx\"). Additionally we already have a way to partition memory in the fuzzer, we call it stack slots. And we already enforce that memory accesses can't cross stack slots, so we also don't run into the risk of doing a partial store/load on a different region.\r\n\r\nThis PR tags each stack slot with a different Alias Analysis category (Although region might be a better name). Once we have that we just have to ensure that all accesses are correctly tagged, and we should be able to test all 4 categories.\r\n\r\nI'm opening this as a draft since I still want to get some fuzzing on this. I suspect that if there is a bug to be found here, It's going to take a while to get those conditions. ", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7225/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7224", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7224/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7224/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7224/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7224", "id": 1939393085, "node_id": "PR_kwDOBhDaXM5cmill", "number": 7224, "title": "Correct grammar", "user": {"login": "kellytk", "id": 6405109, "node_id": "MDQ6VXNlcjY0MDUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6405109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kellytk", "html_url": "https://github.com/kellytk", "followers_url": "https://api.github.com/users/kellytk/followers", "following_url": "https://api.github.com/users/kellytk/following{/other_user}", "gists_url": "https://api.github.com/users/kellytk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kellytk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kellytk/subscriptions", "organizations_url": "https://api.github.com/users/kellytk/orgs", "repos_url": "https://api.github.com/users/kellytk/repos", "events_url": "https://api.github.com/users/kellytk/events{/privacy}", "received_events_url": "https://api.github.com/users/kellytk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-12T07:38:09Z", "updated_at": "2023-10-12T12:30:06Z", "closed_at": "2023-10-12T12:11:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7224", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7224", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7224.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7224.patch", "merged_at": "2023-10-12T12:11:20Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7223", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7223/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7223/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7223/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7223", "id": 1939264718, "node_id": "PR_kwDOBhDaXM5cmGVo", "number": 7223, "title": "[14.0.0] Fix a flaky TCP-related test", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-12T06:22:59Z", "updated_at": "2023-10-25T19:12:22Z", "closed_at": "2023-10-12T11:28:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7223", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7223", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7223.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7223.patch", "merged_at": "2023-10-12T11:28:13Z"}, "body": "This incorporates some flakiness related fixes from https://github.com/bytecodealliance/wasmtime/pull/7182 to the 14.0.0 branch, but only small portions of that PR rather than the whole thing.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7223/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7221", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7221/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7221/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7221/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7221", "id": 1939112769, "node_id": "PR_kwDOBhDaXM5cllyz", "number": 7221, "title": "Update examples-profiling-perf.md", "user": {"login": "kellytk", "id": 6405109, "node_id": "MDQ6VXNlcjY0MDUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6405109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kellytk", "html_url": "https://github.com/kellytk", "followers_url": "https://api.github.com/users/kellytk/followers", "following_url": "https://api.github.com/users/kellytk/following{/other_user}", "gists_url": "https://api.github.com/users/kellytk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kellytk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kellytk/subscriptions", "organizations_url": "https://api.github.com/users/kellytk/orgs", "repos_url": "https://api.github.com/users/kellytk/repos", "events_url": "https://api.github.com/users/kellytk/events{/privacy}", "received_events_url": "https://api.github.com/users/kellytk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-12T03:34:05Z", "updated_at": "2023-10-12T04:52:18Z", "closed_at": "2023-10-12T04:47:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7221", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7221", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7221.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7221.patch", "merged_at": "2023-10-12T04:47:15Z"}, "body": "Correct spelling.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7221/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7220", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7220/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7220/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7220/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7220", "id": 1938488818, "node_id": "PR_kwDOBhDaXM5cjcXN", "number": 7220, "title": "threads: log every `wait` and `notify`", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-11T18:46:42Z", "updated_at": "2023-10-11T23:24:26Z", "closed_at": "2023-10-11T23:24:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7220", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7220", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7220.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7220.patch", "merged_at": "2023-10-11T23:24:25Z"}, "body": "When troubleshooting deadlocks in WebAssembly modules, it is important to understand which `wait` instructions are still pending a `notify`. It would be nice to have some kind of `--warn-deadlock-after=1s` flag available that would poll the parking lot for `wait`s hanging past the time limit, but I realized the real value would be to tie the `wait` instruction (through CLIF) to the original source code, if debug information were available. This did not seem to be entirely feasible, since CLIF loses the original Wasm source context (is this true?) and I was not confident that we would be able to use `addr2line` to map from Wasm instructions to source (e.g., see @cfallin's [issue](https://github.com/gimli-rs/addr2line/issues/265)).\r\n\r\nInstead, this change simply logs each valid `wait` and `notify` execution, leaving it to the user to figure out which one is hanging (should not be too difficult) and how to map this back to their source code (more difficult).\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7220/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7219", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7219/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7219/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7219/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7219", "id": 1938432054, "node_id": "PR_kwDOBhDaXM5cjP0_", "number": 7219, "title": "PCC: add basic \"memory types\".", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-11T18:17:49Z", "updated_at": "2023-10-12T00:44:03Z", "closed_at": "2023-10-12T00:44:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7219", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7219", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7219.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7219.patch", "merged_at": "2023-10-12T00:44:02Z"}, "body": "This PR adds a notion of \"memory types\" to the PCC (proof-carrying code) framework. To borrow a doc-comment:\r\n\r\nA memory type is a struct-like definition -- fields with offsets, each field having a type and possibly an attached fact -- that we can use in proof-carrying code to validate accesses to structs and propagate facts onto the loaded values as well.\r\n\r\nMemory types are meant to be rich enough to describe the *layout* of values in memory, but do not necessarily need to embody higher-level features such as subtyping directly. Rather, they should encode an implementation of a type or object system.\r\n\r\nNote also that it is a non-goal for now for this type system to be \"complete\" or fully orthogonal: we have some restrictions now (e.g., struct fields are only primitives) because this is all we need for existing PCC applications, and it keeps the implementation simpler.\r\n\r\nWhile developing this, we originally sketched out a more complete type-system that had arrays, allowed struct fields to be memory types themselves, and was in general more flexible. However, the possibility of cycles, non-statically-sized types, etc., was getting overly complex and I decided to YAGNI-simplify a bit for now. The Doc-comment on the module does sketch out what other types will be needed, and I think those plus a GV-bounded `max` fact will be enough to express PCC facts for all static and dynamic memories and table accesses in Wasmtime. (A partial further development of the more complete system, with some more validator checks for cycles, etc., is on [this WIP branch](https://github.com/cfallin/wasmtime/tree/pcc-memcap-wip).)\r\n\r\nPart of this change was\r\n\r\nCo-authored-by: Nick Fitzgerald <fitzgen@gmail.com>", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7219/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7217", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7217/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7217/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7217/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7217", "id": 1938379606, "node_id": "PR_kwDOBhDaXM5cjEEX", "number": 7217, "title": "Remove broken links from WASI-intro.md", "user": {"login": "ranile", "id": 47357913, "node_id": "MDQ6VXNlcjQ3MzU3OTEz", "avatar_url": "https://avatars.githubusercontent.com/u/47357913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ranile", "html_url": "https://github.com/ranile", "followers_url": "https://api.github.com/users/ranile/followers", "following_url": "https://api.github.com/users/ranile/following{/other_user}", "gists_url": "https://api.github.com/users/ranile/gists{/gist_id}", "starred_url": "https://api.github.com/users/ranile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ranile/subscriptions", "organizations_url": "https://api.github.com/users/ranile/orgs", "repos_url": "https://api.github.com/users/ranile/repos", "events_url": "https://api.github.com/users/ranile/events{/privacy}", "received_events_url": "https://api.github.com/users/ranile/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-11T17:52:06Z", "updated_at": "2023-10-11T19:03:33Z", "closed_at": "2023-10-11T19:03:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7217", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7217", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7217.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7217.patch", "merged_at": "2023-10-11T19:03:32Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n\r\nThe link to js-polyfill was broken and https://wasi.dev/polyfill/ points to [this repository](https://github.com/bjorn3/browser_wasi_shim) which is now linked in the docs", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7217/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7216", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7216/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7216/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7216/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7216", "id": 1938260187, "node_id": "PR_kwDOBhDaXM5cipP-", "number": 7216, "title": "backport `wasi-sockets` changes to Wasmtime 14", "user": {"login": "rvolosatovs", "id": 12877905, "node_id": "MDQ6VXNlcjEyODc3OTA1", "avatar_url": "https://avatars.githubusercontent.com/u/12877905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rvolosatovs", "html_url": "https://github.com/rvolosatovs", "followers_url": "https://api.github.com/users/rvolosatovs/followers", "following_url": "https://api.github.com/users/rvolosatovs/following{/other_user}", "gists_url": "https://api.github.com/users/rvolosatovs/gists{/gist_id}", "starred_url": "https://api.github.com/users/rvolosatovs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rvolosatovs/subscriptions", "organizations_url": "https://api.github.com/users/rvolosatovs/orgs", "repos_url": "https://api.github.com/users/rvolosatovs/repos", "events_url": "https://api.github.com/users/rvolosatovs/events{/privacy}", "received_events_url": "https://api.github.com/users/rvolosatovs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-11T16:53:27Z", "updated_at": "2023-10-11T18:51:23Z", "closed_at": "2023-10-11T18:09:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7216", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7216", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7216.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7216.patch", "merged_at": "2023-10-11T18:09:39Z"}, "body": "Backport #7120 (containing a WIT change)\r\nBackport #7148 (containing UDP implementation and small fix to TCP polling)", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7216/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7214", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7214/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7214/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7214/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7214", "id": 1937613434, "node_id": "PR_kwDOBhDaXM5cgY0V", "number": 7214, "title": "fix:make the python example more clear", "user": {"login": "shenxiangzhuang", "id": 17157965, "node_id": "MDQ6VXNlcjE3MTU3OTY1", "avatar_url": "https://avatars.githubusercontent.com/u/17157965?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shenxiangzhuang", "html_url": "https://github.com/shenxiangzhuang", "followers_url": "https://api.github.com/users/shenxiangzhuang/followers", "following_url": "https://api.github.com/users/shenxiangzhuang/following{/other_user}", "gists_url": "https://api.github.com/users/shenxiangzhuang/gists{/gist_id}", "starred_url": "https://api.github.com/users/shenxiangzhuang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shenxiangzhuang/subscriptions", "organizations_url": "https://api.github.com/users/shenxiangzhuang/orgs", "repos_url": "https://api.github.com/users/shenxiangzhuang/repos", "events_url": "https://api.github.com/users/shenxiangzhuang/events{/privacy}", "received_events_url": "https://api.github.com/users/shenxiangzhuang/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-11T12:04:01Z", "updated_at": "2023-10-11T13:20:16Z", "closed_at": "2023-10-11T13:20:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7214", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7214", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7214.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7214.patch", "merged_at": "2023-10-11T13:20:16Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7214/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7213", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7213/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7213/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7213/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7213", "id": 1937385461, "node_id": "PR_kwDOBhDaXM5cfndW", "number": 7213, "title": "[14.0.0] Update release notes", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-11T10:14:39Z", "updated_at": "2023-10-12T06:12:42Z", "closed_at": "2023-10-12T00:56:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7213", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7213", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7213.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7213.patch", "merged_at": "2023-10-12T00:56:25Z"}, "body": "This is a backport of #7158", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7213/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7212", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7212/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7212/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7212/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7212", "id": 1937170048, "node_id": "PR_kwDOBhDaXM5ce4Aj", "number": 7212, "title": "[14.0.0] Bindgen multi-version support", "user": {"login": "rylev", "id": 1327285, "node_id": "MDQ6VXNlcjEzMjcyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1327285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rylev", "html_url": "https://github.com/rylev", "followers_url": "https://api.github.com/users/rylev/followers", "following_url": "https://api.github.com/users/rylev/following{/other_user}", "gists_url": "https://api.github.com/users/rylev/gists{/gist_id}", "starred_url": "https://api.github.com/users/rylev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rylev/subscriptions", "organizations_url": "https://api.github.com/users/rylev/orgs", "repos_url": "https://api.github.com/users/rylev/repos", "events_url": "https://api.github.com/users/rylev/events{/privacy}", "received_events_url": "https://api.github.com/users/rylev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-11T08:30:04Z", "updated_at": "2023-10-11T10:13:25Z", "closed_at": "2023-10-11T10:10:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7212", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7212", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7212.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7212.patch", "merged_at": "2023-10-11T10:10:43Z"}, "body": "Backport of #7172 and #7196 which allows for multi-version support in the `bindgen!` macro.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7212/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7211", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7211/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7211/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7211/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7211", "id": 1936128455, "node_id": "PR_kwDOBhDaXM5cbRR_", "number": 7211, "title": "Remove old doc from WasiCtxBuilder::build", "user": {"login": "rylev", "id": 1327285, "node_id": "MDQ6VXNlcjEzMjcyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1327285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rylev", "html_url": "https://github.com/rylev", "followers_url": "https://api.github.com/users/rylev/followers", "following_url": "https://api.github.com/users/rylev/following{/other_user}", "gists_url": "https://api.github.com/users/rylev/gists{/gist_id}", "starred_url": "https://api.github.com/users/rylev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rylev/subscriptions", "organizations_url": "https://api.github.com/users/rylev/orgs", "repos_url": "https://api.github.com/users/rylev/repos", "events_url": "https://api.github.com/users/rylev/events{/privacy}", "received_events_url": "https://api.github.com/users/rylev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-10T20:09:20Z", "updated_at": "2023-10-11T08:30:45Z", "closed_at": "2023-10-10T23:49:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7211", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7211", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7211.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7211.patch", "merged_at": "2023-10-10T23:49:23Z"}, "body": "Remove an old doc that was not removed when the parameter was removed. ", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7211/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7209", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7209/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7209/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7209/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7209", "id": 1935790088, "node_id": "PR_kwDOBhDaXM5caF_z", "number": 7209, "title": "Introduce API for custom stack memory", "user": {"login": "rockwotj", "id": 8669100, "node_id": "MDQ6VXNlcjg2NjkxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8669100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rockwotj", "html_url": "https://github.com/rockwotj", "followers_url": "https://api.github.com/users/rockwotj/followers", "following_url": "https://api.github.com/users/rockwotj/following{/other_user}", "gists_url": "https://api.github.com/users/rockwotj/gists{/gist_id}", "starred_url": "https://api.github.com/users/rockwotj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rockwotj/subscriptions", "organizations_url": "https://api.github.com/users/rockwotj/orgs", "repos_url": "https://api.github.com/users/rockwotj/repos", "events_url": "https://api.github.com/users/rockwotj/events{/privacy}", "received_events_url": "https://api.github.com/users/rockwotj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-10-10T16:47:23Z", "updated_at": "2023-10-11T20:38:52Z", "closed_at": "2023-10-11T20:18:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7209", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7209", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7209.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7209.patch", "merged_at": "2023-10-11T20:18:54Z"}, "body": "Introduces an API to allow embedders to allocate stacks for fibers using custom memory instead of mmap.\n\n[Discussed on Zulip](https://bytecodealliance.zulipchat.com/#narrow/stream/217126-wasmtime/topic/.E2.9C.94.20Custom.20allocator.20for.20Fibers)\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7209/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7208", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7208/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7208/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7208/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7208", "id": 1935584676, "node_id": "PR_kwDOBhDaXM5cZYrN", "number": 7208, "title": "riscv64: Fix encoding for `c.addi4spn`", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 4590005593, "node_id": "LA_kwDOBhDaXM8AAAABEZXtWQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:riscv64", "name": "cranelift:area:riscv64", "color": "fbca04", "default": false, "description": "Issues related to the RISC-V 64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-10T14:57:06Z", "updated_at": "2023-10-11T20:36:54Z", "closed_at": "2023-10-11T20:36:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7208", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7208", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7208.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7208.patch", "merged_at": "2023-10-11T20:36:54Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nI was running fuzzgen on riscv when it crashed with an illegal instruction. When generating large stack offsets, we can use the compressed instruction `c.addi4spn`, It has a range of `{4,1020}` bytes. However we were accidentally not encoding the MSB on the immediate field.\r\n\r\nThis meant that the instruction would be encoded with an offset of 0, which is illegal for this instruction.  The fix here is to ensure that the MSB bit is encoded correctly.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7208/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7207", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7207/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7207/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7207/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7207", "id": 1935226363, "node_id": "PR_kwDOBhDaXM5cYIzc", "number": 7207, "title": "fuzzgen: Enable some `fcvt` instructions on AArch64", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-10T12:24:48Z", "updated_at": "2023-10-10T20:11:47Z", "closed_at": "2023-10-10T20:11:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7207", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7207", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7207.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7207.patch", "merged_at": "2023-10-10T20:11:47Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis PR relaxes our restriction on `fcvt_to_*int` instruction for AArch64. Currently all forms of this instruction are being rejected, however they are mostly implemented. Only versions that produce `i128`'s are unimplemented as mentioned in #4934. So lets fuzz the remaining variants of this instruction.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7207/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7206", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7206/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7206/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7206/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7206", "id": 1935186860, "node_id": "PR_kwDOBhDaXM5cYAFU", "number": 7206, "title": "Update MSRV to 1.71.0", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-10T12:03:22Z", "updated_at": "2023-10-11T09:15:38Z", "closed_at": "2023-10-11T09:15:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7206", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7206", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7206.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7206.patch", "merged_at": "2023-10-11T09:15:36Z"}, "body": "With the 1.73.0 release today update our MSRV to a one-higher version. This will cause 1.73.0 to be tested in CI.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7206/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7205", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7205/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7205/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7205/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7205", "id": 1935182185, "node_id": "PR_kwDOBhDaXM5cX_DO", "number": 7205, "title": "Remove some no-longer-necessary Ok-wrapping", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-10T12:00:40Z", "updated_at": "2023-10-10T20:11:48Z", "closed_at": "2023-10-10T20:11:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7205", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7205", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7205.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7205.patch", "merged_at": "2023-10-10T20:11:47Z"}, "body": "Since #7152 the error types of sync and async are the same so much of the prior `Ok`-wrapping isn't necessary any more.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7205/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7204", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7204/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7204/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7204/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7204", "id": 1935137812, "node_id": "PR_kwDOBhDaXM5cX1Ru", "number": 7204, "title": "Refactor preview2's `Table` representation", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-10T11:33:36Z", "updated_at": "2023-10-11T05:52:50Z", "closed_at": "2023-10-11T05:52:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7204", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7204", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7204.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7204.patch", "merged_at": "2023-10-11T05:52:49Z"}, "body": "* Move around some internal methods and internalize what we can.\r\n* Rename all `*_resource` methods to drop the suffix.\r\n* Lean more into \"wrong table usage is a trap\" and remove the `delete` logic which re-inserted a parent link, if needed, on downcast errors.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7203", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7203/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7203/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7203/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7203", "id": 1934997289, "node_id": "PR_kwDOBhDaXM5cXVgM", "number": 7203, "title": "riscv64: Improve codegen for `icmp`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2023-10-10T10:26:06Z", "updated_at": "2023-10-16T14:03:24Z", "closed_at": "2023-10-16T12:40:35Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7203", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7203", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7203.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7203.patch", "merged_at": "2023-10-16T12:40:35Z"}, "body": "This PR is another stab towards improving `icmp` along the lines of https://github.com/bytecodealliance/wasmtime/pull/6112 and https://github.com/bytecodealliance/wasmtime/pull/7113. This tries to draw on both of those PRs a bit to end up with something that's usable by the majority of the backend for use with branches.\r\n\r\nI've attempted to break things up piecemeal here so the commits in theory are understandable commit-by-commit. This additionally doesn't implement every single optimization I could think of, mostly just a few that seemed to be the low-hanging fruit ones.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7203/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7202", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7202/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7202/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7202/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7202", "id": 1934948668, "node_id": "PR_kwDOBhDaXM5cXKtt", "number": 7202, "title": "fuzzgen: Enable `iabs.i128` for AArch64", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-10T09:59:58Z", "updated_at": "2023-10-10T11:21:04Z", "closed_at": "2023-10-10T11:21:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7202", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7202", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7202.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7202.patch", "merged_at": "2023-10-10T11:21:04Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis PR enables `iabs.i128` for AArch64 on the fuzzgen fuzzer. It was recently implemented in https://github.com/bytecodealliance/wasmtime/pull/7185.\r\n\r\ncc: #5467", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7202/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7201", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7201/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7201/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7201/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7201", "id": 1933862422, "node_id": "PR_kwDOBhDaXM5cTXeI", "number": 7201, "title": "aarch64: Implement TLSDESC for TLS GD accesses", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-09T21:42:40Z", "updated_at": "2023-10-10T11:14:45Z", "closed_at": "2023-10-10T11:14:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7201", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7201", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7201.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7201.patch", "merged_at": "2023-10-10T11:14:44Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis PR replaces the current TLS GD sequence with Thead-Local Storage Descriptors (TLSDESC). TLSDESC is a improved TLS GD model that switches to a custom calling convention that preserves most registers, preventing clobbering and restoring around the regular `__tls_get_addr` call.\r\n\r\nFurthermore, TLSDESC supports a number of relaxations that actually avoid the function call entirely in some situations. These relaxations are not allowed to change the code sequence size, so there is no danger of changing the label offsets after being resolved by cranelift.\r\n\r\nI've tested this with cg_clif's testsuite. Using both lld and the gnu linker.\r\n\r\nCloses: #6778 ", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7201/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7200", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7200/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7200/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7200/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7200", "id": 1933555666, "node_id": "PR_kwDOBhDaXM5cSS-u", "number": 7200, "title": "riscv64: Optimize `gen_bmask` slightly", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-09T18:07:29Z", "updated_at": "2023-10-25T19:13:07Z", "closed_at": "2023-10-09T19:57:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7200", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7200", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7200.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7200.patch", "merged_at": "2023-10-09T19:57:15Z"}, "body": "If the input operand is an `icmp` or an `fcmp` there's no need to use `snez` since the output value is already guaranteed to be zero or one.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7200/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7197", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7197/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7197/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7197/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7197", "id": 1933151255, "node_id": "PR_kwDOBhDaXM5cQ6HA", "number": 7197, "title": "Reapply #7150", "user": {"login": "rylev", "id": 1327285, "node_id": "MDQ6VXNlcjEzMjcyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1327285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rylev", "html_url": "https://github.com/rylev", "followers_url": "https://api.github.com/users/rylev/followers", "following_url": "https://api.github.com/users/rylev/following{/other_user}", "gists_url": "https://api.github.com/users/rylev/gists{/gist_id}", "starred_url": "https://api.github.com/users/rylev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rylev/subscriptions", "organizations_url": "https://api.github.com/users/rylev/orgs", "repos_url": "https://api.github.com/users/rylev/repos", "events_url": "https://api.github.com/users/rylev/events{/privacy}", "received_events_url": "https://api.github.com/users/rylev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-09T14:00:26Z", "updated_at": "2023-10-09T19:22:00Z", "closed_at": "2023-10-09T17:31:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7197", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7197", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7197.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7197.patch", "merged_at": "2023-10-09T17:31:43Z"}, "body": "#7150 seems to [have been lost in #7152](https://github.com/bytecodealliance/wasmtime/commit/722310a2d9ae352192e1c5052866aca74f3f1f94#diff-30b8d431d2d3c97efe5fcaeb3ebdd5860b9f5a3699b2051f12dd0a1b0b2bd7ffL48) (perhaps a bad rebase?).\r\n\r\ncc @alexcrichton ", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7197/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7197/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7196", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7196/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7196/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7196/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7196", "id": 1933068536, "node_id": "PR_kwDOBhDaXM5cQndh", "number": 7196, "title": "Ensure exports are properly namespaced", "user": {"login": "rylev", "id": 1327285, "node_id": "MDQ6VXNlcjEzMjcyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1327285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rylev", "html_url": "https://github.com/rylev", "followers_url": "https://api.github.com/users/rylev/followers", "following_url": "https://api.github.com/users/rylev/following{/other_user}", "gists_url": "https://api.github.com/users/rylev/gists{/gist_id}", "starred_url": "https://api.github.com/users/rylev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rylev/subscriptions", "organizations_url": "https://api.github.com/users/rylev/orgs", "repos_url": "https://api.github.com/users/rylev/repos", "events_url": "https://api.github.com/users/rylev/events{/privacy}", "received_events_url": "https://api.github.com/users/rylev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-09T13:27:14Z", "updated_at": "2023-10-10T20:51:22Z", "closed_at": "2023-10-09T16:31:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7196", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7196", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7196.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7196.patch", "merged_at": "2023-10-09T16:31:33Z"}, "body": "Continuation of #7172 where imports and export _definitions_ are properly namespaced by version by the usage of exports was not.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7196/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7196/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7195", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7195/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7195/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7195/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7195", "id": 1932533807, "node_id": "PR_kwDOBhDaXM5cOzKd", "number": 7195, "title": "[14.0.0] cranelift: Consider functions with TLS values as non leaf", "user": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-09T08:16:32Z", "updated_at": "2023-10-09T14:29:20Z", "closed_at": "2023-10-09T13:36:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7195", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7195", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7195.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7195.patch", "merged_at": "2023-10-09T13:36:34Z"}, "body": "Backport of https://github.com/bytecodealliance/wasmtime/pull/7177", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7195/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7185", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7185/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7185/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7185/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7185", "id": 1931582477, "node_id": "PR_kwDOBhDaXM5cLpZh", "number": 7185, "title": "add i128 support for iabs on aarch64", "user": {"login": "p3achyjr", "id": 8763808, "node_id": "MDQ6VXNlcjg3NjM4MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/8763808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/p3achyjr", "html_url": "https://github.com/p3achyjr", "followers_url": "https://api.github.com/users/p3achyjr/followers", "following_url": "https://api.github.com/users/p3achyjr/following{/other_user}", "gists_url": "https://api.github.com/users/p3achyjr/gists{/gist_id}", "starred_url": "https://api.github.com/users/p3achyjr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/p3achyjr/subscriptions", "organizations_url": "https://api.github.com/users/p3achyjr/orgs", "repos_url": "https://api.github.com/users/p3achyjr/repos", "events_url": "https://api.github.com/users/p3achyjr/events{/privacy}", "received_events_url": "https://api.github.com/users/p3achyjr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-08T01:09:46Z", "updated_at": "2023-10-09T17:25:28Z", "closed_at": "2023-10-09T17:25:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7185", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7185", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7185.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7185.patch", "merged_at": "2023-10-09T17:25:28Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n\r\nAs per https://github.com/bytecodealliance/wasmtime/issues/5467, we do not yet have support for iabs on aarch64. This PR adds it, along with the instruction `csinv`.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7185/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7184", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7184/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7184/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7184/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7184", "id": 1931540323, "node_id": "PR_kwDOBhDaXM5cLhgv", "number": 7184, "title": "riscv64: Add GOT relocations for PIC code", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}, {"id": 4590005593, "node_id": "LA_kwDOBhDaXM8AAAABEZXtWQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:riscv64", "name": "cranelift:area:riscv64", "color": "fbca04", "default": false, "description": "Issues related to the RISC-V 64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-07T23:07:18Z", "updated_at": "2023-10-09T04:38:47Z", "closed_at": "2023-10-09T04:38:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7184", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7184", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7184.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7184.patch", "merged_at": "2023-10-09T04:38:46Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis PR does a number of things:\r\n\r\nFirstly we change all calls to use the `RISCV_CALL_PLT` relocation. The previously used `RISCV_CALL` relocation [has been deprecated](https://github.com/riscv-non-isa/riscv-elf-psabi-doc/blob/master/riscv-elf.adoc#procedure-calls) even for non PLT calls. Both relocations are defined as having the same behavior, but we might as well switch to the newer one.\r\n\r\nThe second commit ensures that we only set the RVC eflag when we actually have the C extension enabled for the given TargetIsa. The C extension is no longer mandatory, so we should not be setting it unconditionally. This flag allows the linker to use compressed instructions when relaxing relocations.\r\n\r\nThe third commit changes the `Call` instruction to unconditionally use PC relative calls. Previously we would use PC relative calls for normal function calls, and use an indirect call for libcalls. I'm not entirely sure why this was done this way. None of the other backends do this either.\r\n\r\nFinally in the last commit we add support for GOT relocations when compiling with the `is_pic` flag. These relocations are fairly similar to the scheme that is used for ELF TLS GD (#7003). We have a label, a relocation pointing to the symbol, and finally a relocation pointing back to the label.\r\n\r\n\r\nThis turned out to touch a lot of different stuff, let me know if you'd like me to split it into multiple PR's.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7184/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7183", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7183/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7183/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7183/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7183", "id": 1931533594, "node_id": "PR_kwDOBhDaXM5cLgJn", "number": 7183, "title": "cranelift: Group labels by FuncId instead of Name", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 678995594, "node_id": "MDU6TGFiZWw2Nzg5OTU1OTQ=", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/bug", "name": "bug", "color": "bb0000", "default": true, "description": "Incorrect behavior in the current implementation that needs fixing"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-07T22:44:15Z", "updated_at": "2023-10-09T03:57:45Z", "closed_at": "2023-10-09T03:57:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7183", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7183", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7183.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7183.patch", "merged_at": "2023-10-09T03:57:44Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis addresses an issue that was exposed by cg_clif when using RISC-V with GOT relocations. \r\n\r\nApparently we allow multiple functions with the same name to coexist within the same module. Currently we deduplicate labels in the object backend by function name and label offset.\r\n\r\nThis caused a label confusion issue when two functions with the same name tried to emit a label at the same offset. The result was that one function referenced a label in the second one causing a very confusing relocation.\r\n\r\nThe solution here is to instead use `FuncId` which is assigned when the function is first declared and guaranteed to be unique.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7183/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7182", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7182/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7182/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7182/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7182", "id": 1931074476, "node_id": "PR_kwDOBhDaXM5cKCtV", "number": 7182, "title": "Refactor the test-programs test suite", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-07T00:25:41Z", "updated_at": "2023-10-09T20:07:26Z", "closed_at": "2023-10-09T20:07:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7182", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7182", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7182.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7182.patch", "merged_at": "2023-10-09T20:07:25Z"}, "body": "This commit is a large refactoring that reorganizes `test-programs` and how we tests wasms in Wasmtime. Often writing tests requires complicated interactions with the guest which can't be done via hand-written `*.wat` syntax and requires a compiler to get engaged. For this purpose Wasmtime currently has the `crates/test-programs/*` test suite which builds files from source and then runs the tests. This has been somewhat cumbersome in the past though and it's not been easy to extend this over time, so this commit attempts to address this.\r\n\r\nThe scheme implemented in this PR looks like:\r\n\r\n* All wasm test programs live in `crates/test-programs/src/bin/*.rs`. All of them, no exceptions.\r\n\r\n* Wasm tests have shared support located at `crates/test-programs/src/lib.rs` and its submodules, such as bindings generation for WASI.\r\n\r\n* Wasm tests are built by a new `crates/test-programs/artifacts` crate. This crate compiles modules and additionally creates components for all test programs. The crate itself only records the path to these outputs and a small amount of testing support, but otherwise doesn't interact with `wasmtime`-the-crate itself.\r\n\r\n* All tests in `crates/test-programs/tests/*.rs` have moved. For example wasi-http tests now live at `crates/wasi-http/tests/*.rs`. Legacy tests of wasi-common now live at `crates/wasi-common/tests/*.rs`. Modern tests for preview2 live at `crates/wasi/tests/*.rs`.\r\n\r\n* Wasm tests are bucketed based on their filename prefix. For example `preview1_*` is tested in wasi-common and wasmtime-wasi. The `preview2_*` prefix is only tested with wasmtime-wasi, however.\r\n\r\n* A new `cli_*` prefix is used to execute tests as part of `tests/all/main.rs`. This is a new submodule in `tests/all/cli_tests.rs` which executes these components on the command line. Many old \"command\" tests were migrated here.\r\n\r\n* Helper macros are generated to assert that a test suite is run in its entirety. This way if a `preview1_*` test is added it's asserted to get added to both wasi-common and wasmtime-wasi in the various modes they run tests.\r\n\r\nOverall this moved a number of tests around and refactored some edges of the tests, but this should not lose any tests (except one that wasn't actually testing anything). Additionally the hope is that it's much easier to add tests in the future. The process is to add a new file in `crates/test-programs/src/bin/*.rs` named appropriately. For example a preview2 executable is `preview2_*` and a CLI tests is `cli_*`. When building the test suite an error is generated in the appropriate module then of \"please write a test here\", and then a test is written in the same manner as the other tests in the module.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7182/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7182/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7181", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7181/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7181/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7181/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7181", "id": 1931029327, "node_id": "PR_kwDOBhDaXM5cJ4_U", "number": 7181, "title": "riscv64: Improve `f{min,max}` codegen", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 4590005593, "node_id": "LA_kwDOBhDaXM8AAAABEZXtWQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:riscv64", "name": "cranelift:area:riscv64", "color": "fbca04", "default": false, "description": "Issues related to the RISC-V 64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-06T23:08:30Z", "updated_at": "2023-10-07T01:28:37Z", "closed_at": "2023-10-07T01:28:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7181", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7181", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7181.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7181.patch", "merged_at": "2023-10-07T01:28:36Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis PR improves our lowerings for `fmin` and `fmax` and moves them to ISLE.\r\n\r\nThe native `fmin/fmax` instructions in RISC-V almost match the WASM semantics, they correctly order `-0.0 < +0.0`, however they return the non-NaN input if there is one. This does not match the semantics of the instruction so we fixup this case manually.\r\n\r\nThis codegen can be further improved using the `fminm` / `fmaxm` instructions available in the `Zfa` extension which I'm planing on implementing next.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7181/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7180", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7180/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7180/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7180/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7180", "id": 1931007895, "node_id": "PR_kwDOBhDaXM5cJ0ZW", "number": 7180, "title": "PCC: add semantics for core add/shift/extend/amode ops on AArch64.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-06T22:33:07Z", "updated_at": "2023-10-07T02:27:59Z", "closed_at": "2023-10-07T02:27:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7180", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7180", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7180.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7180.patch", "merged_at": "2023-10-07T02:27:58Z"}, "body": "This PR adds verification of facts on values produced by adds, shifts, and extends on AArch64, handling the various combination instructions (adds with builtin extends or shifts, for example), and also adds verification of all addressing modes, including those with builtin extends and shifts.\r\n\r\nIt also splits the test suite into\"succeed\" and \"fail\" sets, and provides cases that PCC should catch.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7180/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7178", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7178/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7178/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7178/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7178", "id": 1930894704, "node_id": "PR_kwDOBhDaXM5cJbf_", "number": 7178, "title": "c-api: Fix instance_pre type", "user": {"login": "rockwotj", "id": 8669100, "node_id": "MDQ6VXNlcjg2NjkxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8669100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rockwotj", "html_url": "https://github.com/rockwotj", "followers_url": "https://api.github.com/users/rockwotj/followers", "following_url": "https://api.github.com/users/rockwotj/following{/other_user}", "gists_url": "https://api.github.com/users/rockwotj/gists{/gist_id}", "starred_url": "https://api.github.com/users/rockwotj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rockwotj/subscriptions", "organizations_url": "https://api.github.com/users/rockwotj/orgs", "repos_url": "https://api.github.com/users/rockwotj/repos", "events_url": "https://api.github.com/users/rockwotj/events{/privacy}", "received_events_url": "https://api.github.com/users/rockwotj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-06T20:27:34Z", "updated_at": "2023-10-06T22:37:31Z", "closed_at": "2023-10-06T21:54:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7178", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7178", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7178.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7178.patch", "merged_at": "2023-10-06T21:54:46Z"}, "body": "This should be wasmtime_instance_pre_t\n\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7178/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7177", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7177/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7177/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7177/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7177", "id": 1930789506, "node_id": "PR_kwDOBhDaXM5cJEXo", "number": 7177, "title": "cranelift: Consider functions with TLS values as non leaf", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877967504, "node_id": "MDU6TGFiZWwxODc3OTY3NTA0", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:goal:native-ABI", "name": "cranelift:goal:native-ABI", "color": "cbe4ce", "default": false, "description": "Focus area: Interoperate with native platform ABIs and calling conventions."}, {"id": 4590005593, "node_id": "LA_kwDOBhDaXM8AAAABEZXtWQ", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:riscv64", "name": "cranelift:area:riscv64", "color": "fbca04", "default": false, "description": "Issues related to the RISC-V 64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-10-06T18:55:46Z", "updated_at": "2023-10-09T08:16:43Z", "closed_at": "2023-10-06T20:23:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7177", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7177", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7177.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7177.patch", "merged_at": "2023-10-06T20:23:08Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\n@bjorn3 reported an issue with TLS values in the RISC-V backend, when testing it with cg_clif. This presented as a segfault running the cg_clif testsuite.\r\n\r\nDigging into it, it looks like we would call the `elf_tls_getaddr` function, which would clobber the `ra` register and before returning from the current function we would **not** restore the correct `ra` value from the stack. This would cause the function to recurse back into the middle of itself and cause a segfault.\r\n\r\nThis function met all criteria for us to avoid emitting a prologue and epilogue sequence, that would correctly restore the `ra` value. The check that was failing here is the `is_leaf` check. It assumes that a function will only call other functions if it contains any signatures itself.\r\n\r\nThis PR adds an additional check for TLS values, and assumes that if such a value exists we will be calling a function to retrieve it's address. This is not necessarily true, but it is a good conservative estimate.\r\n\r\nMore importantly I don't think this fully addresses the issue. I think we can still have a similar issue if we decide to use a libcall instead of native instruction during lowering. I'm not entirely sure how to fix that.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7177/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7176", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7176/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7176/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7176/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7176", "id": 1930743194, "node_id": "PR_kwDOBhDaXM5cI69s", "number": 7176, "title": "[14.0.0] [wasmtime-wasi] make StdinStream and StdoutStream public (#7150)", "user": {"login": "dicej", "id": 1243153, "node_id": "MDQ6VXNlcjEyNDMxNTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1243153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dicej", "html_url": "https://github.com/dicej", "followers_url": "https://api.github.com/users/dicej/followers", "following_url": "https://api.github.com/users/dicej/following{/other_user}", "gists_url": "https://api.github.com/users/dicej/gists{/gist_id}", "starred_url": "https://api.github.com/users/dicej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dicej/subscriptions", "organizations_url": "https://api.github.com/users/dicej/orgs", "repos_url": "https://api.github.com/users/dicej/repos", "events_url": "https://api.github.com/users/dicej/events{/privacy}", "received_events_url": "https://api.github.com/users/dicej/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-06T18:21:49Z", "updated_at": "2023-10-06T19:11:40Z", "closed_at": "2023-10-06T19:11:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7176", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7176", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7176.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7176.patch", "merged_at": "2023-10-06T19:11:36Z"}, "body": "This allows embedders to implement those traits themselves rather than be restricted to using the built-in implementations.\r\n\r\nFixes https://github.com/bytecodealliance/wasmtime/issues/7149\r\n\r\nThis patch is already in `main`, and I'd like to backport it to `release-14.0.0`", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7176/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7175", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7175/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7175/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7175/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7175", "id": 1930700834, "node_id": "PR_kwDOBhDaXM5cIxwf", "number": 7175, "title": "[14.0.0] fix(wasmtime-cli): wrong linker in wasi http ", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-06T17:46:28Z", "updated_at": "2023-10-06T20:26:48Z", "closed_at": "2023-10-06T20:26:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7175", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7175", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7175.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7175.patch", "merged_at": "2023-10-06T20:26:47Z"}, "body": "This is a backport of #7167 to the 14 release branch", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7174", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7174/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7174/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7174/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7174", "id": 1930684635, "node_id": "PR_kwDOBhDaXM5cIuT9", "number": 7174, "title": "Require semicolons in WIT files in CI", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-06T17:32:51Z", "updated_at": "2023-10-06T20:23:09Z", "closed_at": "2023-10-06T20:23:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7174", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7174", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7174.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7174.patch", "merged_at": "2023-10-06T20:23:08Z"}, "body": "This commit updates CI to require semicolons in all WIT files and parsed WIT documents. Some minor updates were required in existing WIT files and the wasi-nn proposal was additionally updated to its latest version with semicolons. The wasi-nn update brought some minor changes to the WIT which required some minor changes here as well.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7174/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7173", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7173/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7173/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7173/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7173", "id": 1930678822, "node_id": "PR_kwDOBhDaXM5cItBu", "number": 7173, "title": "docs(component): Fix typo in component translator", "user": {"login": "saulecabrera", "id": 1423601, "node_id": "MDQ6VXNlcjE0MjM2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1423601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saulecabrera", "html_url": "https://github.com/saulecabrera", "followers_url": "https://api.github.com/users/saulecabrera/followers", "following_url": "https://api.github.com/users/saulecabrera/following{/other_user}", "gists_url": "https://api.github.com/users/saulecabrera/gists{/gist_id}", "starred_url": "https://api.github.com/users/saulecabrera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saulecabrera/subscriptions", "organizations_url": "https://api.github.com/users/saulecabrera/orgs", "repos_url": "https://api.github.com/users/saulecabrera/repos", "events_url": "https://api.github.com/users/saulecabrera/events{/privacy}", "received_events_url": "https://api.github.com/users/saulecabrera/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-06T17:28:29Z", "updated_at": "2023-10-06T18:42:54Z", "closed_at": "2023-10-06T18:42:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7173", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7173", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7173.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7173.patch", "merged_at": "2023-10-06T18:42:54Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7173/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7172", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7172/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7172/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7172/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7172", "id": 1930618392, "node_id": "PR_kwDOBhDaXM5cIfQc", "number": 7172, "title": "Support multiple versions in `bindgen!`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-06T16:56:25Z", "updated_at": "2023-10-06T23:45:00Z", "closed_at": "2023-10-06T23:44:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7172", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7172", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7172.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7172.patch", "merged_at": "2023-10-06T23:44:59Z"}, "body": "This commit fixes a bug in the `bindgen!` macro where when faced with multiple packages that differ only in version number invalid bindings were generated. The fix here is to add version number information to package module names if necessary in situations such as this. This required some refactoring internally to have a single source of truth for what the name of a module should be and avoid having it implicitly calculated in two locations.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7172/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7170", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7170/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7170/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7170/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7170", "id": 1930266275, "node_id": "PR_kwDOBhDaXM5cHVbe", "number": 7170, "title": "Update syntax for `trappable_error_type` in `bindgen!`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-06T14:13:29Z", "updated_at": "2023-10-06T23:45:00Z", "closed_at": "2023-10-06T23:44:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7170", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7170", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7170.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7170.patch", "merged_at": "2023-10-06T23:44:59Z"}, "body": "Following through on a suggestion from #7152 this makes the syntax a bit more consistent with the rest of `bindgen!` today. This additionally updates the documentation on the `bindgen!` macro itself.\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7169", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7169/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7169/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7169/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7169", "id": 1930242481, "node_id": "PR_kwDOBhDaXM5cHQRV", "number": 7169, "title": "[14.0.0]: Add an error resource to WASI streams  ", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-06T14:00:12Z", "updated_at": "2023-10-06T16:38:35Z", "closed_at": "2023-10-06T16:38:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7169", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7169", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7169.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7169.patch", "merged_at": "2023-10-06T16:38:34Z"}, "body": "This is a backport of #7152 to the 14 release branch.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7169/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7168", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7168/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7168/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7168/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7168", "id": 1930160185, "node_id": "PR_kwDOBhDaXM5cG-Sy", "number": 7168, "title": "fuzzgen: Enable `iabs.i128` on fuzzgen", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-06T13:11:38Z", "updated_at": "2023-10-06T14:42:47Z", "closed_at": "2023-10-06T14:42:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7168", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7168", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7168.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7168.patch", "merged_at": "2023-10-06T14:42:46Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis PR enables fuzzing the `iabs.i128` instruction on fuzzgen. It was recently added in #7166 (Thanks!).\r\n\r\nI've fuzzed this on 6 cores for a couple of hours and nothing has come up.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7168/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7167", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7167/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7167/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7167/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7167", "id": 1929686848, "node_id": "PR_kwDOBhDaXM5cFaQg", "number": 7167, "title": "fix(wasmtime-cli): wrong linker in wasi http", "user": {"login": "eduardomourar", "id": 16357187, "node_id": "MDQ6VXNlcjE2MzU3MTg3", "avatar_url": "https://avatars.githubusercontent.com/u/16357187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eduardomourar", "html_url": "https://github.com/eduardomourar", "followers_url": "https://api.github.com/users/eduardomourar/followers", "following_url": "https://api.github.com/users/eduardomourar/following{/other_user}", "gists_url": "https://api.github.com/users/eduardomourar/gists{/gist_id}", "starred_url": "https://api.github.com/users/eduardomourar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eduardomourar/subscriptions", "organizations_url": "https://api.github.com/users/eduardomourar/orgs", "repos_url": "https://api.github.com/users/eduardomourar/repos", "events_url": "https://api.github.com/users/eduardomourar/events{/privacy}", "received_events_url": "https://api.github.com/users/eduardomourar/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-06T08:31:25Z", "updated_at": "2023-10-09T08:19:54Z", "closed_at": "2023-10-06T17:26:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7167", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7167", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7167.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7167.patch", "merged_at": "2023-10-06T17:26:56Z"}, "body": "This will fix the error one would get while trying to run the wasmtime CLI with `-S http` because the async functions were being added to the linker. Additionally, we will expose only the necessary functions to ~~allow shadowing in~~ linker when using WASI HTTP in order to prevent the following error:\r\n> import of `wasi:clocks/wall-clock` defined twice\r\n\r\n~~Also, to prevent it from breaking in the future, a simple handcrafted test has been added to the CLI test suite.~~", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7167/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7166", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7166/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7166/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7166/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7166", "id": 1929284629, "node_id": "PR_kwDOBhDaXM5cEEPC", "number": 7166, "title": "add i128 support for iabs on x86_64", "user": {"login": "p3achyjr", "id": 8763808, "node_id": "MDQ6VXNlcjg3NjM4MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/8763808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/p3achyjr", "html_url": "https://github.com/p3achyjr", "followers_url": "https://api.github.com/users/p3achyjr/followers", "following_url": "https://api.github.com/users/p3achyjr/following{/other_user}", "gists_url": "https://api.github.com/users/p3achyjr/gists{/gist_id}", "starred_url": "https://api.github.com/users/p3achyjr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/p3achyjr/subscriptions", "organizations_url": "https://api.github.com/users/p3achyjr/orgs", "repos_url": "https://api.github.com/users/p3achyjr/repos", "events_url": "https://api.github.com/users/p3achyjr/events{/privacy}", "received_events_url": "https://api.github.com/users/p3achyjr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-06T01:11:37Z", "updated_at": "2023-10-06T03:58:07Z", "closed_at": "2023-10-06T03:58:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7166", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7166", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7166.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7166.patch", "merged_at": "2023-10-06T03:58:06Z"}, "body": "<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n\r\nPer https://github.com/bytecodealliance/wasmtime/issues/5466, we do not have i128 support for iabs on either aarch64 or x86_64. This PR adds support for x86.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7166/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7165", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7165/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7165/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7165/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7165", "id": 1929238359, "node_id": "PR_kwDOBhDaXM5cD6QI", "number": 7165, "title": "Skeleton and initial support for proof-carrying code.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-06T00:02:58Z", "updated_at": "2023-10-06T23:19:14Z", "closed_at": "2023-10-06T23:19:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7165", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7165", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7165.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7165.patch", "merged_at": "2023-10-06T23:19:13Z"}, "body": "This PR adds basic support for \"facts\" to annotate SSA values and VCode VRegs. The idea is that these facts describe properties of the values -- currently, \"in a given range\" or \"points to valid memory of a given size\" -- and by validating a chain of facts along the whole derivation of an accessed memory address, we can verify that the memory access is safe.\r\n\r\nThis is the start of work on the ideas described in #6090. It is a new approach that subsumes/replaces \"VeriWasm\": it replaces the post-hoc derive-all-facts analysis approach (which is slow and brittle) with a cooperative approach in which the codegen frontend generates a \"proof witness\" of sorts, we preserve that, and we check that in the machine code (actually the pre-regalloc VCode, and then we can use the regalloc's symbolic checker to obtain the same guarantee).\r\n\r\nRight now, this includes (i) the \"fact\" data structures, (ii) support for parsing these facts in CLIF and dumping them back out, (iii) propagation of facts from CLIF to VCode, when no optimization is enabled, and (iv) validation of a few basic facts in VCode for the AArch64 backend. Everything else is still TODO and will come in further PRs.\r\n\r\nRight now, this is sufficient to take the CLIF\r\n\r\n```\r\ntest compile\r\nset enable_pcc=true\r\ntarget aarch64\r\n\r\nfunction %simple1(i64 vmctx, i32) -> i8 {\r\nblock0(v0 ! points_to(0x1_0000_0000): i64, v1 ! max(32, 0xffff_ffff): i32):\r\n    v2 ! max(64, 0xffff_ffff) = uextend.i64 v1\r\n    v3 ! points_to(0x1) = iadd.i64 v0, v2\r\n    v4 = load.i8 safe v3\r\n    return v4\r\n}\r\n```\r\n\r\nwhere the `v0 ! fact` syntax annotates `v0` with a fact, and validate that the `load` is in fact safe. The `safe` memory-flag forces this check; if the `points_to` range is shrunk, or `v1` is changed to an `i64` and its max range is increased, this code will fail to compile with\r\n\r\n```\r\n ERROR cranelift_filetests::concurrent > FAIL: compile\r\nFAIL cranelift/filetests/filetests/pcc/simple.clif: compile\r\n\r\nCaused by:\r\n    Proof-carrying-code validation error: MissingFact\r\n```\r\n\r\nThe idea is to continue further work along these lines:\r\n- Add support for validating facts produced by aarch64 add, shift, ... instructions -- whatever is used in basic address generation.\r\n- Add support for validating amode usage in x64 as well.\r\n- Propagate facts through the egraph layer so they are preserved during optimization.\r\n- Add a richer `points_to` language for facts to describe *what* they point to, so a load of a memory base address (for example) from `vmctx` yields another value with an attached fact (points to a region of this size...). These are the \"memory capabilities\" described in #6090.\r\n- Emit facts on `vmctx` and on memory-access sequences generated by `cranelift-wasm`, and add the `safe` flag to loads/stores wherever possible. At this point, we should be able to validate single- and multi-memory Wasm modules with static memory configurations.\r\n- Add support for annotations on bounds-check logic. After this, we should be able to validate dynamic memories, and table accesses as well.\r\n- Finally, add a \"strong enforcing\" mode that disallows all non-`safe` loads/stores, and add whatever memory-capability info is needed so that, e.g., loads of func pointers, VM state, and everything else from `vmctx` is covered.\r\n\r\nAfter my initial exploration and ideas in #6090, these ideas were further discussed with @fitzgen, @elliottt, @jameysharp, and others; and a large part of this PR was\r\n\r\nCo-authored-by: Nick Fitzgerald <fitzgen@gmail.com>", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7165/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7164", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7164/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7164/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7164/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7164", "id": 1929184426, "node_id": "PR_kwDOBhDaXM5cDubh", "number": 7164, "title": "wasi-nn: reenable CI task", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-05T22:49:05Z", "updated_at": "2023-10-06T15:21:45Z", "closed_at": "2023-10-06T15:21:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7164", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7164", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7164.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7164.patch", "merged_at": "2023-10-06T15:21:44Z"}, "body": "The task was disabled due to a failing checksum. Since then, the `install-openvino-action` has improved and now _almost_ has cross-platform support. This change just restores the status quo in expectation that #6895 will significantly improve the testing story.\r\n\r\nprtest:full\r\n\r\nCloses https://github.com/bytecodealliance/wasmtime/issues/7125\r\n\r\n<!--\r\nPlease make sure you include the following information:\r\n\r\n- If this work has been discussed elsewhere, please include a link to that\r\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\r\n\r\n- Explain why this change is needed. If the details are in an issue already,\r\n  this can be brief.\r\n\r\nOur development process is documented in the Wasmtime book:\r\nhttps://docs.wasmtime.dev/contributing-development-process.html\r\n\r\nPlease ensure all communication follows the code of conduct:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7164/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7163", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7163/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7163/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7163/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7163", "id": 1929163394, "node_id": "PR_kwDOBhDaXM5cDp0T", "number": 7163, "title": "wasi-http: Backport borrow changes to the release-14.0.0 branch", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-05T22:24:22Z", "updated_at": "2023-10-05T22:55:36Z", "closed_at": "2023-10-05T22:55:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/7163", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/7163", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/7163.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/7163.patch", "merged_at": "2023-10-05T22:55:36Z"}, "body": "Backport the changes introduced in #7161 to the release-14.0.0 branch, as the resource changes have already landed there and contained an incorrect implementation of some header-handling functions.\n<!--\nPlease make sure you include the following information:\n\n- If this work has been discussed elsewhere, please include a link to that\n  conversation. If it was discussed in an issue, just mention \"issue #...\".\n\n- Explain why this change is needed. If the details are in an issue already,\n  this can be brief.\n\nOur development process is documented in the Wasmtime book:\nhttps://docs.wasmtime.dev/contributing-development-process.html\n\nPlease ensure all communication follows the code of conduct:\nhttps://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\n-->\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/7163/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]