[{"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5305", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5305/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5305/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5305/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5305", "id": 1456711582, "node_id": "PR_kwDOBhDaXM5DSwOM", "number": 5305, "title": "Release Wasmtime 3.0.0", "user": {"login": "wasmtime-publish", "id": 59749941, "node_id": "MDQ6VXNlcjU5NzQ5OTQx", "avatar_url": "https://avatars.githubusercontent.com/u/59749941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wasmtime-publish", "html_url": "https://github.com/wasmtime-publish", "followers_url": "https://api.github.com/users/wasmtime-publish/followers", "following_url": "https://api.github.com/users/wasmtime-publish/following{/other_user}", "gists_url": "https://api.github.com/users/wasmtime-publish/gists{/gist_id}", "starred_url": "https://api.github.com/users/wasmtime-publish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wasmtime-publish/subscriptions", "organizations_url": "https://api.github.com/users/wasmtime-publish/orgs", "repos_url": "https://api.github.com/users/wasmtime-publish/repos", "events_url": "https://api.github.com/users/wasmtime-publish/events{/privacy}", "received_events_url": "https://api.github.com/users/wasmtime-publish/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-20T00:16:11Z", "updated_at": "2022-11-21T16:35:21Z", "closed_at": "2022-11-21T16:35:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5305", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5305", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5305.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5305.patch", "merged_at": "2022-11-21T16:35:20Z"}, "body": "This is an [automated pull request][process] from CI which is\nintended to notify maintainers that it's time to release Wasmtime\n3.0.0. The [release branch][branch] was created roughly two weeks ago\nand it's now time for it to be published and released.\n\nIt's recommended that maintainers double-check that [RELEASES.md]\nis up-to-date and that there are no known issues before merging this\nPR. When this PR is merged a release tag will automatically be\ncreated, crates will be published, and CI artifacts will be produced.\n\n[RELEASES.md]: https://github.com/bytecodealliance/wasmtime/blob/main/RELEASES.md\n[process]: https://docs.wasmtime.dev/contributing-release-process.html\n[branch]: https://github.com/bytecodealliance/wasmtime/tree/release-3.0.0\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5305/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5303", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5303/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5303/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5303/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5303", "id": 1456649900, "node_id": "PR_kwDOBhDaXM5DSjtp", "number": 5303, "title": "Move the endianness notes introduced with #4035 to `wasmtime_val_raw`", "user": {"login": "kpreisser", "id": 13289184, "node_id": "MDQ6VXNlcjEzMjg5MTg0", "avatar_url": "https://avatars.githubusercontent.com/u/13289184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kpreisser", "html_url": "https://github.com/kpreisser", "followers_url": "https://api.github.com/users/kpreisser/followers", "following_url": "https://api.github.com/users/kpreisser/following{/other_user}", "gists_url": "https://api.github.com/users/kpreisser/gists{/gist_id}", "starred_url": "https://api.github.com/users/kpreisser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kpreisser/subscriptions", "organizations_url": "https://api.github.com/users/kpreisser/orgs", "repos_url": "https://api.github.com/users/kpreisser/repos", "events_url": "https://api.github.com/users/kpreisser/events{/privacy}", "received_events_url": "https://api.github.com/users/kpreisser/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-19T20:33:00Z", "updated_at": "2022-11-21T18:08:31Z", "closed_at": "2022-11-21T16:37:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5303", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5303", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5303.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5303.patch", "merged_at": "2022-11-21T16:37:05Z"}, "body": "Hi, it seems  #4035 mistakenly added the notes about the little-endian storage in the C API to `wasmtime_valunion`, whereas it's actually the `ValRaw` Rust type (represented by `wasmtime_val_raw`) that is affected by the change.\r\n\r\nThanks!\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5303/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5301", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5301/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5301/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5301/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5301", "id": 1455890991, "node_id": "PR_kwDOBhDaXM5DQBZC", "number": 5301, "title": "cranelift: Fix implicit pointer argument register use", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-18T22:12:38Z", "updated_at": "2022-11-19T00:47:04Z", "closed_at": "2022-11-19T00:47:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5301", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5301", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5301.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5301.patch", "merged_at": "2022-11-19T00:47:03Z"}, "body": "Constrain virtual registers when handling implicit pointer arguments, instead of using physical registers directly. Additionally, mark the `Args` instruction as not clobbering registers in the s390x and aarch64 backends, to avoid introducing unnecessary saves on function entry.\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5301/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5299", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5299/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5299/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5299/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5299", "id": 1455724556, "node_id": "PR_kwDOBhDaXM5DPchJ", "number": 5299, "title": "Deduplicate listings of traps in Wasmtime", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-18T20:03:47Z", "updated_at": "2022-11-18T22:04:40Z", "closed_at": "2022-11-18T22:04:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5299", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5299", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5299.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5299.patch", "merged_at": "2022-11-18T22:04:39Z"}, "body": "This commit replaces `wasmtime_environ::TrapCode` with `wasmtime::Trap`. This is possible with past refactorings which slimmed down the `Trap` definition in the `wasmtime` crate to a simple `enum`. This means that there's one less place that all the various trap opcodes need to be listed in Wasmtime.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5299/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5297", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5297/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5297/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5297/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5297", "id": 1455613440, "node_id": "PR_kwDOBhDaXM5DPEdH", "number": 5297, "title": "Test for `Trap::OutOfFuel` instead of strings", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-18T18:34:11Z", "updated_at": "2022-11-18T20:02:15Z", "closed_at": "2022-11-18T20:02:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5297", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5297", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5297.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5297.patch", "merged_at": "2022-11-18T20:02:14Z"}, "body": "Update a few locations to test for a specific error code\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5297/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5296", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5296/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5296/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5296/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5296", "id": 1455377825, "node_id": "PR_kwDOBhDaXM5DOSCQ", "number": 5296, "title": "Turn off sanitizers for fuzz build on CI", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-18T15:57:26Z", "updated_at": "2022-11-21T16:36:25Z", "closed_at": "2022-11-18T16:47:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5296", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5296", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5296.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5296.patch", "merged_at": "2022-11-18T16:47:12Z"}, "body": "This hopefully will speed things up slightly since ASan can add a chunk to the compile time. Unsure if this will actually help, though, so let's find out!\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5296/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5295", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5295/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5295/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5295/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5295", "id": 1454216531, "node_id": "PR_kwDOBhDaXM5DKT5-", "number": 5295, "title": "cranelift-isle: Specialize for Term at rule root", "user": {"login": "jameysharp", "id": 865272, "node_id": "MDQ6VXNlcjg2NTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/865272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameysharp", "html_url": "https://github.com/jameysharp", "followers_url": "https://api.github.com/users/jameysharp/followers", "following_url": "https://api.github.com/users/jameysharp/following{/other_user}", "gists_url": "https://api.github.com/users/jameysharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameysharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameysharp/subscriptions", "organizations_url": "https://api.github.com/users/jameysharp/orgs", "repos_url": "https://api.github.com/users/jameysharp/repos", "events_url": "https://api.github.com/users/jameysharp/events{/privacy}", "received_events_url": "https://api.github.com/users/jameysharp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-18T00:23:04Z", "updated_at": "2022-11-18T19:21:18Z", "closed_at": "2022-11-18T19:21:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5295", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5295", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5295.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5295.patch", "merged_at": "2022-11-18T19:21:09Z"}, "body": "In #5174 we decided it doesn't make sense for a rule to have a bind-pattern at the root of its left-hand side. There's no Rust value corresponding to the root value of such a term, because it actually represents a function declaration with one or more arguments.\r\n\r\nThis commit takes that to its logical conclusion.\r\n\r\n`sema::Rule` previously had an `lhs` field whose value must always be a `Pattern::Term` variant, and anyone using that structure had to deal with the possibility of finding the wrong variant there.\r\n\r\nNow the relevant fields from that variant are stored directly in `Rule` instead. Also, the (tiny!) portion of `translate_pattern` which applied when the pattern was the root term is now inlined in `collect_rules`.\r\n\r\nBecause `translate_pattern` no longer has to special-case the root term, we can delete its `rule_term` and `is_root` arguments. That brings it down to a more manageable four arguments, which means many calls fit on one line now.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5295/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5294", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5294/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5294/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5294/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5294", "id": 1454144604, "node_id": "PR_kwDOBhDaXM5DKD0E", "number": 5294, "title": "cranelift-isle: Unify expressions and bindings", "user": {"login": "jameysharp", "id": 865272, "node_id": "MDQ6VXNlcjg2NTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/865272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameysharp", "html_url": "https://github.com/jameysharp", "followers_url": "https://api.github.com/users/jameysharp/followers", "following_url": "https://api.github.com/users/jameysharp/following{/other_user}", "gists_url": "https://api.github.com/users/jameysharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameysharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameysharp/subscriptions", "organizations_url": "https://api.github.com/users/jameysharp/orgs", "repos_url": "https://api.github.com/users/jameysharp/repos", "events_url": "https://api.github.com/users/jameysharp/events{/privacy}", "received_events_url": "https://api.github.com/users/jameysharp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-17T23:14:34Z", "updated_at": "2022-11-18T00:01:03Z", "closed_at": "2022-11-18T00:00:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5294", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5294", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5294.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5294.patch", "merged_at": "2022-11-18T00:00:59Z"}, "body": "As it turns out, that distinction was not necessary for this representation. Removing it eliminates some complexity around wrapping expressions as bindings and vice versa. It also clears up some confusion about which category to put certain constructs in (arguments and extractors) by refusing to have different categories.\r\n\r\nWhile I was writing this patch I also realized that `add_match_variant` and `normalize_equivalence_classes` both need to do fundamentally the same things with enum variants, so I refactored them to share code and make their relationship clearer.\r\n\r\nFinally, I reviewed all the comments in this file and fixed some places where they could be more clear.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5294/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5293", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5293/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5293/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5293/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5293", "id": 1454028143, "node_id": "PR_kwDOBhDaXM5DJp-o", "number": 5293, "title": "Cache the crates index and package cache for jobs that build rust", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-17T21:37:43Z", "updated_at": "2022-11-18T01:07:39Z", "closed_at": "2022-11-18T01:07:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5293", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5293", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5293.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5293.patch", "merged_at": "2022-11-18T01:07:38Z"}, "body": "Rework the `install-rust` action to include caching of the crates index and cached downloaded crates.\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5293/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5292", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5292/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5292/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5292/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5292", "id": 1453960948, "node_id": "PR_kwDOBhDaXM5DJbd8", "number": 5292, "title": "Fix warnings in `cranelift-codegen` docs builds", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-17T20:39:07Z", "updated_at": "2022-11-17T21:13:24Z", "closed_at": "2022-11-17T21:13:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5292", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5292", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5292.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5292.patch", "merged_at": "2022-11-17T21:13:24Z"}, "body": "* Remove links to private types.\r\n* Avoid ambiguity with HTML tags by wrapping code snippets in backticks.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5292/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5292/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5290", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5290/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5290/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5290/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5290", "id": 1453576669, "node_id": "PR_kwDOBhDaXM5DIILi", "number": 5290, "title": "Remove some dead code in the cranelift-wasm crate", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-17T15:50:23Z", "updated_at": "2022-11-17T16:28:12Z", "closed_at": "2022-11-17T16:28:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5290", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5290", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5290.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5290.patch", "merged_at": "2022-11-17T16:28:11Z"}, "body": "Found while reviewing https://github.com/bytecodealliance/wasmtime/pull/5288", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5290/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5286", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5286/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5286/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5286/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5286", "id": 1452468390, "node_id": "PR_kwDOBhDaXM5DEeZY", "number": 5286, "title": "Skip running release builds on PRs", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-16T23:59:58Z", "updated_at": "2022-11-17T18:24:17Z", "closed_at": "2022-11-17T18:24:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5286", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5286", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5286.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5286.patch", "merged_at": "2022-11-17T18:24:17Z"}, "body": "Disable the `Build` jobs on branches, but leave it for main, version tag, and `release-*` builds. We'll need to remove the `Build` jobs as requirements for merging for this PR to be mergable. This won't substantially reduce build time, but it will reduce the number of parallel jobs spawned, which should free up some capacity organization-wide.\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5286/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5284", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5284/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5284/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5284/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5284", "id": 1452249162, "node_id": "PR_kwDOBhDaXM5DDvwz", "number": 5284, "title": "Docs: Expand cross compiling section into its own page", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-16T20:44:15Z", "updated_at": "2022-11-16T23:49:09Z", "closed_at": "2022-11-16T23:49:09Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5284", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5284", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5284.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5284.patch", "merged_at": "2022-11-16T23:49:09Z"}, "body": "And fill out everything needed for all non-x64 targets supported by Wasmtime and Cranelift.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5284/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5282", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5282/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5282/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5282/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5282", "id": 1451972667, "node_id": "PR_kwDOBhDaXM5DC1LP", "number": 5282, "title": "Add release notes for historical patch releases", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-16T17:11:30Z", "updated_at": "2022-11-16T18:42:14Z", "closed_at": "2022-11-16T18:42:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5282", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5282", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5282.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5282.patch", "merged_at": "2022-11-16T18:42:13Z"}, "body": "Figured it'd be reasonable to list these in the notes on `main` to ensure they're not forgotten.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5282/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5280", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5280/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5280/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5280/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5280", "id": 1451030896, "node_id": "PR_kwDOBhDaXM5C_nwT", "number": 5280, "title": "Fix get_typed_fund extra param in benchmark", "user": {"login": "tnachen", "id": 67244, "node_id": "MDQ6VXNlcjY3MjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/67244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tnachen", "html_url": "https://github.com/tnachen", "followers_url": "https://api.github.com/users/tnachen/followers", "following_url": "https://api.github.com/users/tnachen/following{/other_user}", "gists_url": "https://api.github.com/users/tnachen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tnachen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tnachen/subscriptions", "organizations_url": "https://api.github.com/users/tnachen/orgs", "repos_url": "https://api.github.com/users/tnachen/repos", "events_url": "https://api.github.com/users/tnachen/events{/privacy}", "received_events_url": "https://api.github.com/users/tnachen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-16T07:27:21Z", "updated_at": "2022-11-16T16:24:57Z", "closed_at": "2022-11-16T14:56:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5280", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5280", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5280.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5280.patch", "merged_at": "2022-11-16T14:56:03Z"}, "body": "Commit b0939f662 recently removed extra param which breaks building benchmark \r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5280/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5279", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5279/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5279/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5279/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5279", "id": 1450629855, "node_id": "PR_kwDOBhDaXM5C-So9", "number": 5279, "title": "Use wiggle \"trappable error\" to implement wasi-common", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-16T01:00:37Z", "updated_at": "2022-11-17T00:57:23Z", "closed_at": "2022-11-17T00:57:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5279", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5279", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5279.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5279.patch", "merged_at": "2022-11-17T00:57:22Z"}, "body": "Based on #5276 \r\n\r\nThis PR replaces the use of `anyhow::Error` with a wiggle-generated `snapshots::preview_1::types::Error` throughout the wasi-common (and child) crates.\r\n\r\nThis change was ultimately for better type safety.  The old conversion code  https://github.com/bytecodealliance/wasmtime/pull/5279/files#diff-40a165c1f24fb0428d93215436730254f0379f22e816a70e0e29a44ba99c8be4L45-L66 from anyhow::Error to the concrete Errno type missed a downcast of `cap_rand::Error`, which gets convereted to an `anyhow::Error` here https://github.com/bytecodealliance/wasmtime/blob/91d1d20cb628bf7875199fe5f4a4b232933bdbcb/crates/wasi-common/src/snapshots/preview_1.rs#LL1036-L1036C5 since 2019, and I probably never would have discovered it if I hadn't tried refactoring the error representation to be more typesafe.\r\n\r\nWe're preparing wasi-common for the coming component-based preview 2, which will have (among other improvements) a wider range of errno types. With the increase in complexity, I was more worried about correctness than ergonomics. I also got reports from other crate authors implementing the `WasiFile` and `WasiDir` trait that it was a burden to ensure they only converted errors to `anyhow::Error` which the core `wasi-common` knew how to downcast into an `Errno`.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5279/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5278", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5278/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5278/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5278/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5278", "id": 1450622730, "node_id": "PR_kwDOBhDaXM5C-RDR", "number": 5278, "title": "Don't use %rcx directly with CoffTlsGetAddr", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-16T00:53:41Z", "updated_at": "2022-11-16T19:32:09Z", "closed_at": "2022-11-16T19:32:09Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5278", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5278", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5278.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5278.patch", "merged_at": "2022-11-16T19:32:09Z"}, "body": "Avoid naming `%rcx` as written by the `CoffTlsGetAddr` pseudo-instruction in the x64 backend, and instead emit a fixed-def constraint for a fresh `VReg` and `%rcx`.\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5278/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5277", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5277/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5277/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5277/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5277", "id": 1450620569, "node_id": "PR_kwDOBhDaXM5C-Qkq", "number": 5277, "title": "Remove unnecessary moves in x64 gen_memcpy", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-16T00:51:30Z", "updated_at": "2022-11-16T18:33:01Z", "closed_at": "2022-11-16T18:33:00Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5277", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5277", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5277.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5277.patch", "merged_at": "2022-11-16T18:33:00Z"}, "body": "Remove some unnecessary moves in the x64 `gen_memcpy` implementation -- the call instruction that's generated will already constrain the args to those registers.\n<!--\n\nPlease ensure that the following steps are all taken care of before submitting\nthe PR.\n\n- [ ] This has been discussed in issue #..., or if not, please tell us why\n  here.\n- [ ] A short description of what this does, why it is needed; if the\n  description becomes long, the matter should probably be discussed in an issue\n  first.\n- [ ] This PR contains test cases, if meaningful.\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\n  If you don't know who could review this, please indicate so. The list of\n  suggested reviewers on the right can help you.\n\nPlease ensure all communication adheres to the [code of\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\n-->\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5277/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5276", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5276/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5276/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5276/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5276", "id": 1450554262, "node_id": "PR_kwDOBhDaXM5C-CRx", "number": 5276, "title": "wiggle: new error configuration for generating a \"trappable error\"", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-15T23:45:19Z", "updated_at": "2022-11-16T16:54:42Z", "closed_at": "2022-11-16T16:54:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5276", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5276", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5276.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5276.patch", "merged_at": "2022-11-16T16:54:41Z"}, "body": "Largely due to pains in wasi-common and experimentation in wit-bindgen, I have added a slightly different error handling strategy to `wiggle`.\r\n\r\nWhen the user specifies `errno => trappable Error` in the macro's optional `errors: {...}`argument, wiggle will now generate a type named `Error` to be used in all positions where a function returned a witx `errno` in the error position.\r\n\r\nThe generated error type is an opaque struct. Internally, it contains either the errno (which wiggle generates as an `enum Errno`), or an `anyhow::Error` for trapping execution. These are constructed using either the generated `impl From<Errno> for Error` impl, or the `Error::trap(t: anyhow::Error) -> Self` constructor.\r\n\r\nThe error can be destructured using `Error::downcast(self) -> Result<Errno, anyhow::Error>`, inspected using `Error::downcast_ref(&self) -> Option<&Errno>`, and it can have context added via `Error::context(self, s: Into<String>) -> Self`. The context is only observable via the Debug and Display impls.\r\n\r\nThis design came about because the user defined error type wasn't really serving our needs in `wasi-common`. There, we had essentially 2 choices:\r\n1. the user maintains a `thiserror` style error enum that contains all of the `errno` values, plus a `Trap(anyhow::Error)` variation for trapping execution. They then write `From` impls for all of the foreign error types that need to be converted into their error enum, e.g. `impl From<std::io::Error> for MyErrno`. They then implement the (very mechanical) translation to the wiggle generated `Errno` cases in `UserErrorConversion`.\r\n2. They use `anyhow::Error`. To implement the translation to `Errno` or trap, the user downcasts all of the foreign error types they suspect may be thrown in their implementations.\r\n\r\nI used both of these designs in wasi-common, in that chronological order. I found that both had real drawbacks:\r\n1. This error enum is repetitive to define and maintain. Additionally, it doesn't provide any way to keep additional context around on an error, which makes debugging harder.\r\n2. Suffers from safety problems. Since introducing this design in the 2019 wasi-common rewrite, I (unknowingly) introduced a bug where a `cap_rand::Error` was thrown in the random methods, but I never tried to downcast to it in `UserErrorConversion`. The end result is that any error in the cap_rand crate would end up trapping execution of the wasm module, rather than returning it an appropriate errno. I don't think I ever would have discovered this bug if I hadn't attempted a refactor back towards design 1.\r\n\r\nSo, my design here basically uses code generation to generate an acceptable implementation of design 1, while providing the `.context(\"help figuring out what went wrong\")` method available in design 2. I was reluctant to give up the ergonomics of approach 2, but the design of wasi is evolving to give us lots of different concrete errnos in the preview 2 interfaces, so I wanted to give us as much type safety as possible when managing the complexity of the coming evolution in this crate.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5276/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5275", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5275/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5275/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5275/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5275", "id": 1450519945, "node_id": "PR_kwDOBhDaXM5C96si", "number": 5275, "title": "Remove explicit `S` type parameters", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-15T23:18:15Z", "updated_at": "2022-11-16T05:04:28Z", "closed_at": "2022-11-16T05:04:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5275", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5275", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5275.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5275.patch", "merged_at": "2022-11-16T05:04:27Z"}, "body": "This commit removes the explicit `S` type parameter on `Func::typed` and `Instance::get_typed_func`. Historical versions of Rust required that this be a type parameter but recent rustcs support a mixture of explicit type parameters and `impl Trait`. This removes, at callsites, a superfluous `, _` argument which otherwise never needs specification.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5275/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5274", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5274/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5274/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5274/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5274", "id": 1450462668, "node_id": "PR_kwDOBhDaXM5C9uWD", "number": 5274, "title": "bench: benchmark several common WASI scenarios", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-15T22:23:14Z", "updated_at": "2022-12-12T19:17:12Z", "closed_at": "2022-11-16T01:02:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5274", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5274", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5274.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5274.patch", "merged_at": "2022-11-16T01:02:36Z"}, "body": "In order to properly understand the impact of providing thread-safe\r\nimplmentations of WASI contexts (https://github.com/bytecodealliance/wasmtime/issues/5235), we need benchmarks that measure\r\nthe current performance of WASI calls using Wiggle. This change adds\r\nseveral common WASI scenarios as WAT files (see `benches/wasi/*.wat`)\r\nand benchmarks them with `criterion`. Using `criterion`'s `iter_custom`,\r\nthe WAT file runs the desired number of benchmark iterations internally\r\nand the total duration of the runs is divided to get the average time\r\nfor each loop iteration.\r\n\r\nWhy WAT? When compiling these benchmarks from Rust to `wasm32-wasi`, the\r\noutput files are large, contain other WASI imports than the desired\r\nones, and overall it is difficult to tell if we are measuring what we\r\nexpect. By hand-writing the WAT, it is (slightly) more clear what each\r\nbenchmark is doing.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5274/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5273", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5273/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5273/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5273/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5273", "id": 1450160704, "node_id": "PR_kwDOBhDaXM5C8u4z", "number": 5273, "title": "Cranelift(aarch64): Use an existing extractor instead of a new pure constructor", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-15T17:50:08Z", "updated_at": "2022-11-15T21:04:03Z", "closed_at": "2022-11-15T20:40:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5273", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5273", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5273.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5273.patch", "merged_at": "2022-11-15T20:40:44Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5273/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5272", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5272/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5272/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5272/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5272", "id": 1450150934, "node_id": "PR_kwDOBhDaXM5C8sz4", "number": 5272, "title": "Cranelift: Do not optimize heap bounds checking comparison in legalization", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-15T17:41:01Z", "updated_at": "2022-11-15T19:59:59Z", "closed_at": "2022-11-15T19:54:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5272", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5272", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5272.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5272.patch", "merged_at": "2022-11-15T19:54:53Z"}, "body": "That optimization is only for 12-bit immediates in Aarch64, which is now handled in backend lowering, so we can simplify this code a bit now.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5272/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5268", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5268/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5268/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5268/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5268", "id": 1449055390, "node_id": "PR_kwDOBhDaXM5C5CXx", "number": 5268, "title": "wiggle: Refactor with fewer raw pointers", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-15T02:26:24Z", "updated_at": "2022-11-15T17:11:48Z", "closed_at": "2022-11-15T17:11:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5268", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5268", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5268.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5268.patch", "merged_at": "2022-11-15T17:11:47Z"}, "body": "This commit refactors the internals of `wiggle` to have fewer raw pointers and more liberally use `&[UnsafeCell<_>]`. The purpose of this refactoring is to more strictly thread through lifetime information throughout the crate to avoid getting it wrong. Additionally storing `UnsafeCell<T>` at rest pushes the unsafety of access to the leaves of modifications where Rust safety guarantees are upheld. Finally this provides what I believe is a safer internal representation of `WasmtimeGuestMemory` since it technically holds onto `&mut [u8]` un-soundly as other `&mut T` pointers are handed out.\r\n\r\nAdditionally generated `GuestTypeTransparent` impls in the `wiggle` macro were removed because they are not safe for shared memories as-is and otherwise aren't needed for WASI today. The trait has been updated to indicate that all bit patterns must be valid in addition to having the same representation on the host as in the guest to accomodate this.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5268/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5267", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5267/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5267/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5267/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5267", "id": 1449050515, "node_id": "PR_kwDOBhDaXM5C5BYU", "number": 5267, "title": "test: Remove destructor in cancel_during_run.", "user": {"login": "MediosZ", "id": 24819143, "node_id": "MDQ6VXNlcjI0ODE5MTQz", "avatar_url": "https://avatars.githubusercontent.com/u/24819143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MediosZ", "html_url": "https://github.com/MediosZ", "followers_url": "https://api.github.com/users/MediosZ/followers", "following_url": "https://api.github.com/users/MediosZ/following{/other_user}", "gists_url": "https://api.github.com/users/MediosZ/gists{/gist_id}", "starred_url": "https://api.github.com/users/MediosZ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MediosZ/subscriptions", "organizations_url": "https://api.github.com/users/MediosZ/orgs", "repos_url": "https://api.github.com/users/MediosZ/repos", "events_url": "https://api.github.com/users/MediosZ/events{/privacy}", "received_events_url": "https://api.github.com/users/MediosZ/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-11-15T02:18:46Z", "updated_at": "2022-11-18T04:45:06Z", "closed_at": "2022-11-18T04:45:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5267", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5267", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5267.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5267.patch", "merged_at": "2022-11-18T04:45:06Z"}, "body": "Signed-off-by: Tricster <mediosrity@gmail.com>\r\n\r\nSince we want to test if all the Rust bits are deallocated when the future is cancelled, we should not call the destructor before yielding.\r\nSo I suggest removing the destructor or moving it after yielding.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5267/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5265", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5265/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5265/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5265/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5265", "id": 1448579460, "node_id": "PR_kwDOBhDaXM5C3bLU", "number": 5265, "title": "wiggle: fix typo", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-14T18:59:48Z", "updated_at": "2023-08-07T22:49:29Z", "closed_at": "2022-11-14T20:15:09Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5265", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5265", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5265.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5265.patch", "merged_at": "2022-11-14T20:15:09Z"}, "body": "<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5265/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5264", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5264/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5264/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5264/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5264", "id": 1448577874, "node_id": "PR_kwDOBhDaXM5C3a2H", "number": 5264, "title": "wiggle: adapt Wiggle strings for shared use", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}, {"id": 4213438913, "node_id": "LA_kwDOBhDaXM77I_nB", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasm-proposal:threads", "name": "wasm-proposal:threads", "color": "d4c5f9", "default": false, "description": "Issues related to the WebAssembly threads proposal"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-14T18:58:29Z", "updated_at": "2022-12-12T19:21:54Z", "closed_at": "2022-11-14T22:33:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5264", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5264", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5264.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5264.patch", "merged_at": "2022-11-14T22:33:24Z"}, "body": "This is an extension of #5229 for the `&str` and `&mut str` types. As documented there, we are attempting to maintain Rust guarantees for slices that Wiggle hands out in the presence of WebAssembly shared memory, in which case multiple threads could be modifying the underlying data of the slice.\r\n\r\nThis change changes the API of `GuestPtr` to return an `Option` which is `None` when attempting to view the WebAssembly data as a string and the underlying WebAssembly memory is shared. This reuses the `UnsafeGuestSlice` structure from #5229 to do so and appropriately marks the region as borrowed in Wiggle's manual borrow checker. Each original call site in this project's WASI implementations is fixed up to `expect` that a non-shared memory is used.  (Note that I can find no uses of `GuestStrMut` in the WASI implementations).\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5264/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5263", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5263/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5263/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5263/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5263", "id": 1448545965, "node_id": "PR_kwDOBhDaXM5C3UCS", "number": 5263, "title": "[3.0.0] c-api: Fix `wasmtime_func_call_unchecked` to communicate all errors (\u2026", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-14T18:31:00Z", "updated_at": "2022-11-14T19:38:45Z", "closed_at": "2022-11-14T19:38:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5263", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5263", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5263.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5263.patch", "merged_at": "2022-11-14T19:38:44Z"}, "body": "This is a backport of #5262 ", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5263/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5262", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5262/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5262/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5262/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5262", "id": 1448268605, "node_id": "PR_kwDOBhDaXM5C2Ykn", "number": 5262, "title": "c-api: Fix `wasmtime_func_call_unchecked` to communicate all errors", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-14T15:23:37Z", "updated_at": "2022-11-14T18:30:19Z", "closed_at": "2022-11-14T18:30:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5262", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5262", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5262.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5262.patch", "merged_at": "2022-11-14T18:30:18Z"}, "body": "Change the return value of this function to a `wasmtime_error_t*` instead of the prior `wasm_trap_t*`. This is a leftover from #5149.\r\n\r\nCloses #5257\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5262/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5261", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5261/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5261/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5261/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5261", "id": 1447412510, "node_id": "PR_kwDOBhDaXM5Cze8m", "number": 5261, "title": "Shrink the size of SigData in Cranelift", "user": {"login": "tnachen", "id": 67244, "node_id": "MDQ6VXNlcjY3MjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/67244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tnachen", "html_url": "https://github.com/tnachen", "followers_url": "https://api.github.com/users/tnachen/followers", "following_url": "https://api.github.com/users/tnachen/following{/other_user}", "gists_url": "https://api.github.com/users/tnachen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tnachen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tnachen/subscriptions", "organizations_url": "https://api.github.com/users/tnachen/orgs", "repos_url": "https://api.github.com/users/tnachen/repos", "events_url": "https://api.github.com/users/tnachen/events{/privacy}", "received_events_url": "https://api.github.com/users/tnachen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-11-14T05:22:37Z", "updated_at": "2022-11-17T00:15:20Z", "closed_at": "2022-11-17T00:15:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5261", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5261", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5261.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5261.patch", "merged_at": "2022-11-17T00:15:20Z"}, "body": "Addressing #5183 based on discussion on making SigData struct smaller", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5261/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5261/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5259", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5259/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5259/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5259/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5259", "id": 1446778596, "node_id": "PR_kwDOBhDaXM5CxYSm", "number": 5259, "title": "Fix typo in `caller_conv` arg name in `ABIMachineSpec::gen_call`", "user": {"login": "greenhat", "id": 180349, "node_id": "MDQ6VXNlcjE4MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/180349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greenhat", "html_url": "https://github.com/greenhat", "followers_url": "https://api.github.com/users/greenhat/followers", "following_url": "https://api.github.com/users/greenhat/following{/other_user}", "gists_url": "https://api.github.com/users/greenhat/gists{/gist_id}", "starred_url": "https://api.github.com/users/greenhat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greenhat/subscriptions", "organizations_url": "https://api.github.com/users/greenhat/orgs", "repos_url": "https://api.github.com/users/greenhat/repos", "events_url": "https://api.github.com/users/greenhat/events{/privacy}", "received_events_url": "https://api.github.com/users/greenhat/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-13T07:24:20Z", "updated_at": "2022-11-14T17:02:08Z", "closed_at": "2022-11-14T17:02:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5259", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5259", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5259.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5259.patch", "merged_at": "2022-11-14T17:02:08Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5259/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5256", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5256/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5256/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5256/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5256", "id": 1446333872, "node_id": "PR_kwDOBhDaXM5Cv7rR", "number": 5256, "title": "Update `wasmi` to `0.20.0` in `wasmtime-fuzzing`", "user": {"login": "Robbepop", "id": 8193155, "node_id": "MDQ6VXNlcjgxOTMxNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/8193155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Robbepop", "html_url": "https://github.com/Robbepop", "followers_url": "https://api.github.com/users/Robbepop/followers", "following_url": "https://api.github.com/users/Robbepop/following{/other_user}", "gists_url": "https://api.github.com/users/Robbepop/gists{/gist_id}", "starred_url": "https://api.github.com/users/Robbepop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Robbepop/subscriptions", "organizations_url": "https://api.github.com/users/Robbepop/orgs", "repos_url": "https://api.github.com/users/Robbepop/repos", "events_url": "https://api.github.com/users/Robbepop/events{/privacy}", "received_events_url": "https://api.github.com/users/Robbepop/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-11-12T08:31:58Z", "updated_at": "2022-11-14T22:51:48Z", "closed_at": "2022-11-14T22:51:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5256", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5256", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5256.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5256.patch", "merged_at": "2022-11-14T22:51:48Z"}, "body": "Tiny PR that updates to most recent `wasmi` version in the `wasmtime-fuzzing` crate.\r\n\r\nChangelog: https://github.com/paritytech/wasmi/blob/master/CHANGELOG.md#0200---2022-11-04", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5256/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5255", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5255/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5255/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5255/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5255", "id": 1445525260, "node_id": "PR_kwDOBhDaXM5CtMY9", "number": 5255, "title": "feat: implement memory.atomic.notify,wait32,wait64", "user": {"login": "haraldh", "id": 427825, "node_id": "MDQ6VXNlcjQyNzgyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/427825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haraldh", "html_url": "https://github.com/haraldh", "followers_url": "https://api.github.com/users/haraldh/followers", "following_url": "https://api.github.com/users/haraldh/following{/other_user}", "gists_url": "https://api.github.com/users/haraldh/gists{/gist_id}", "starred_url": "https://api.github.com/users/haraldh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haraldh/subscriptions", "organizations_url": "https://api.github.com/users/haraldh/orgs", "repos_url": "https://api.github.com/users/haraldh/repos", "events_url": "https://api.github.com/users/haraldh/events{/privacy}", "received_events_url": "https://api.github.com/users/haraldh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2022-11-11T14:07:04Z", "updated_at": "2022-11-21T18:23:07Z", "closed_at": "2022-11-21T18:23:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5255", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5255", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5255.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5255.patch", "merged_at": "2022-11-21T18:23:07Z"}, "body": "Added the parking_spot crate, which provides the needed registry for the operations.\r\n\r\nTests include:\r\n* [x] `wait32` doesn't block if the values don't match\r\n* [x] `wait32` eventually times out if the values match\r\n* [x] `wait32` traps on unshared memories\r\n* [x] `notify` returns 0 on unshared memories\r\n* [x] `notify` returns 0 with 0 waiters\r\n* [ ] `notify` returns the number woken (this one you can't precisely test for but you could add a sleep for ~100ms and otherwise retry the test N times until it works)\r\n* [x] `wait32` and `notify` require in-bounds and aligned addresses", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5255/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5255/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5253", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5253/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5253/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5253/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5253", "id": 1444821715, "node_id": "PR_kwDOBhDaXM5Cq3Gp", "number": 5253, "title": "Add fixed_nonallocatable constraints when appropriate", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-11T02:16:16Z", "updated_at": "2022-11-15T20:49:18Z", "closed_at": "2022-11-15T20:49:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5253", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5253", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5253.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5253.patch", "merged_at": "2022-11-15T20:49:18Z"}, "body": "Plumb the set of allocatable registers through the `OperandCollector` and use it validate uses of fixed-nonallocatable registers, like `%rsp` on x86_64.\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5253/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5252", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5252/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5252/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5252/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5252", "id": 1444724165, "node_id": "PR_kwDOBhDaXM5Cqijd", "number": 5252, "title": "Cranelift(Aarch64): Optimize lowering of `icmp`s with immediates", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-10T23:58:35Z", "updated_at": "2022-11-15T17:29:22Z", "closed_at": "2022-11-15T17:18:55Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5252", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5252", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5252.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5252.patch", "merged_at": "2022-11-15T17:18:55Z"}, "body": "We can encode more constants into 12-bit immediates if we do the following rewrite for comparisons with odd constants:\r\n\r\n        A >= B + 1\r\n    ==> A - 1 >= B\r\n    ==> A > B\r\n\r\n(And similar for less-than-or-equals.)\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5252/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5251", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5251/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5251/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5251/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5251", "id": 1444714501, "node_id": "PR_kwDOBhDaXM5CqgcZ", "number": 5251, "title": "Use regalloc constraints for sse blend operations", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-10T23:44:42Z", "updated_at": "2022-11-15T00:44:34Z", "closed_at": "2022-11-15T00:44:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5251", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5251", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5251.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5251.patch", "merged_at": "2022-11-15T00:44:34Z"}, "body": "Instead of using `xmm0` explicitly for the mask argument to instructions like `blendvpd`, use regalloc constraints to constrain it to `xmm0` instead.\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5251/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5250", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5250/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5250/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5250/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5250", "id": 1444593908, "node_id": "PR_kwDOBhDaXM5CqGFf", "number": 5250, "title": "[3.0.0] Fix CI from the prior CVE fixes", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-10T21:32:10Z", "updated_at": "2022-11-14T19:38:32Z", "closed_at": "2022-11-14T19:38:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5250", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5250", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5250.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5250.patch", "merged_at": "2022-11-14T19:38:31Z"}, "body": "Pulling in various shapes of fixes from `release-2.0.0` and `main`.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5250/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5249", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5249/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5249/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5249/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5249", "id": 1444495000, "node_id": "PR_kwDOBhDaXM5CpwOJ", "number": 5249, "title": "cranelift: Rework pinned register lowering", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-10T20:07:56Z", "updated_at": "2022-11-11T00:19:26Z", "closed_at": "2022-11-11T00:19:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5249", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5249", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5249.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5249.patch", "merged_at": "2022-11-11T00:19:26Z"}, "body": "Rework pinned register lowering to avoid the use of pinned virtual registers, instead using the `MovFromPReg` and `MovToPReg` pseudo instructions.\n<!--\n\nPlease ensure that the following steps are all taken care of before submitting\nthe PR.\n\n- [ ] This has been discussed in issue #..., or if not, please tell us why\n  here.\n- [ ] A short description of what this does, why it is needed; if the\n  description becomes long, the matter should probably be discussed in an issue\n  first.\n- [ ] This PR contains test cases, if meaningful.\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\n  If you don't know who could review this, please indicate so. The list of\n  suggested reviewers on the right can help you.\n\nPlease ensure all communication adheres to the [code of\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\n-->\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5249/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5248", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5248/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5248/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5248/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5248", "id": 1444493766, "node_id": "PR_kwDOBhDaXM5Cpv9F", "number": 5248, "title": "Update wasm-tools crates", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-10T20:06:46Z", "updated_at": "2022-11-10T21:23:22Z", "closed_at": "2022-11-10T21:23:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5248", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5248", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5248.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5248.patch", "merged_at": "2022-11-10T21:23:21Z"}, "body": "No major updates, just keeping up-to-date.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5248/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5247", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5247/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5247/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5247/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5247", "id": 1444486970, "node_id": "PR_kwDOBhDaXM5Cpufm", "number": 5247, "title": "Use deterministic randomness fuzzing the pooling allocator", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-10T20:00:36Z", "updated_at": "2022-11-10T20:53:05Z", "closed_at": "2022-11-10T20:53:04Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5247", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5247", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5247.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5247.patch", "merged_at": "2022-11-10T20:53:04Z"}, "body": "This commit updates the index allocation performed in the pooling allocator with a few refactorings:\r\n\r\n* With `cfg(fuzzing)` a deterministic rng is now used to improve reproducibility of fuzz test cases.\r\n* The `Mutex` was pushed inside of `IndexAllocator`, renamed from `PoolingAllocationState`.\r\n* Randomness is now always done through a `SmallRng` stored in the `IndexAllocator` instead of using `thread_rng`.\r\n* The `is_empty` method has been removed in favor of an `Option`-based return on `alloc`.\r\n\r\nThis refactoring is additionally intended to encapsulate more implementation details of `IndexAllocator` to more easily allow for alternate implementations in the future such as lock-free approaches (possibly).\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5247/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5246", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5246/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5246/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5246/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5246", "id": 1444474695, "node_id": "PR_kwDOBhDaXM5Cpr18", "number": 5246, "title": "Prepare a Wasmtime 1.0.2 release", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-10T19:50:04Z", "updated_at": "2022-11-10T22:17:15Z", "closed_at": "2022-11-10T22:17:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5246", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5246", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5246.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5246.patch", "merged_at": "2022-11-10T22:17:14Z"}, "body": "I neglected to take care of this as part of the advisories, but by [our release process](https://docs.wasmtime.dev/stability-release.html) we're on the hook for 1.0.2 so this performs all the necessary backports for that. Note that this also includes a number of CI-related backports to ensure it can be publish. I will likely need to babysit this and it may need manual intervention.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5246/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5245", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5245/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5245/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5245/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5245", "id": 1444319325, "node_id": "PR_kwDOBhDaXM5CpJ9K", "number": 5245, "title": "Fix CI after CVE fixes", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-10T17:48:03Z", "updated_at": "2022-11-10T19:35:17Z", "closed_at": "2022-11-10T19:35:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5245", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5245", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5245.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5245.patch", "merged_at": "2022-11-10T19:35:16Z"}, "body": "Alas we can't run CI ahead of time so this fixes various minor build issues from the merging of the recent CVE fixes. Note that I plan to publish the advisories once CI issues are sorted out.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5245/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5244", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5244/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5244/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5244/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5244", "id": 1444065274, "node_id": "PR_kwDOBhDaXM5CoSWz", "number": 5244, "title": "Avoid unconditional `getrandom` syscall creating a `WasiCtx`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-10T15:02:45Z", "updated_at": "2022-11-10T19:58:13Z", "closed_at": "2022-11-10T19:58:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5244", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5244", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5244.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5244.patch", "merged_at": "2022-11-10T19:58:12Z"}, "body": "This commit updates the default random context inserted into a `WasiCtxt` to be seeded from `thread_rng` rather than the system's entropy. This avoids an unconditional syscall on the creation of all `WasiCtx` structures shouldn't reduce the quality of the random numbers produced.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5244/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5242", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5242/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5242/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5242/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5242", "id": 1443176347, "node_id": "PR_kwDOBhDaXM5ClRk5", "number": 5242, "title": "cranelift-isle: Misc sema cleanups", "user": {"login": "jameysharp", "id": 865272, "node_id": "MDQ6VXNlcjg2NTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/865272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameysharp", "html_url": "https://github.com/jameysharp", "followers_url": "https://api.github.com/users/jameysharp/followers", "following_url": "https://api.github.com/users/jameysharp/following{/other_user}", "gists_url": "https://api.github.com/users/jameysharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameysharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameysharp/subscriptions", "organizations_url": "https://api.github.com/users/jameysharp/orgs", "repos_url": "https://api.github.com/users/jameysharp/repos", "events_url": "https://api.github.com/users/jameysharp/events{/privacy}", "received_events_url": "https://api.github.com/users/jameysharp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-10T03:25:48Z", "updated_at": "2022-11-14T01:42:08Z", "closed_at": "2022-11-11T01:53:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5242", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5242", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5242.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5242.patch", "merged_at": "2022-11-11T01:53:05Z"}, "body": "This mostly amounts to factoring out duplicated code and turning various uses of `unwrap_or_continue!` into iterator chains.\r\n\r\nThis PR probably conflicts with at least one of my other pending PRs, hooray... I'll rebase whichever one gets approved last.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5242/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5241", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5241/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5241/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5241/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5241", "id": 1443075937, "node_id": "PR_kwDOBhDaXM5Ck7qN", "number": 5241, "title": "cranelift-isle: Helpers to get type/term by name", "user": {"login": "jameysharp", "id": 865272, "node_id": "MDQ6VXNlcjg2NTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/865272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameysharp", "html_url": "https://github.com/jameysharp", "followers_url": "https://api.github.com/users/jameysharp/followers", "following_url": "https://api.github.com/users/jameysharp/following{/other_user}", "gists_url": "https://api.github.com/users/jameysharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameysharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameysharp/subscriptions", "organizations_url": "https://api.github.com/users/jameysharp/orgs", "repos_url": "https://api.github.com/users/jameysharp/repos", "events_url": "https://api.github.com/users/jameysharp/events{/privacy}", "received_events_url": "https://api.github.com/users/jameysharp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-10T01:30:53Z", "updated_at": "2022-11-11T00:51:47Z", "closed_at": "2022-11-10T17:51:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5241", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5241", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5241.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5241.patch", "merged_at": "2022-11-10T17:51:50Z"}, "body": "This is a common pattern in sema, so factor it out.\r\n\r\nSince this version uses `intern` instead of `intern_mut`, it might be a tiny bit faster when errors occur due to not writing names into maps then. When no error occurs, ISLE should do exactly the same work with or without this commit.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5241/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5240", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5240/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5240/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5240/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5240", "id": 1443034484, "node_id": "PR_kwDOBhDaXM5CkyR-", "number": 5240, "title": "Change the return type of `SharedMemory::data`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-10T00:58:18Z", "updated_at": "2023-02-22T00:55:27Z", "closed_at": "2022-11-10T17:51:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5240", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5240", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5240.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5240.patch", "merged_at": "2022-11-10T17:51:11Z"}, "body": "This commit is an attempt at improving the safety of using the return value of the `SharedMemory::data` method. Previously this returned `*mut [u8]` which, while correct, is unwieldy and unsafe to work with. The new return value of `&[UnsafeCell<u8>]` has a few advantages:\r\n\r\n* The lifetime of the returned data is now connected to the `SharedMemory` itself, removing the possibility for a class of errors of accidentally using the prior `*mut [u8]` beyond its original lifetime.\r\n\r\n* It's now possibly to safely access `.len()` as opposed to requiring an `unsafe` dereference before.\r\n\r\n* The data internally within the slice is now what retains the `unsafe` bits, namely indicating that accessing any memory inside of the contents returned is `unsafe` but addressing it is safe.\r\n\r\nI was inspired by the `wiggle`-based discussion on #5229 and felt it appropriate to apply a similar change here.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5240/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5239", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5239/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5239/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5239/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5239", "id": 1442923940, "node_id": "PR_kwDOBhDaXM5CkZQ_", "number": 5239, "title": "Rework bounds checking for atomic operations", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-09T23:25:57Z", "updated_at": "2022-11-10T00:19:46Z", "closed_at": "2022-11-10T00:19:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5239", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5239", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5239.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5239.patch", "merged_at": "2022-11-10T00:19:43Z"}, "body": "Before, we would do a `heap_addr` to translate the given Wasm memory address into a native memory address and pass it into the libcall that implemented the atomic operation, which would then treat the address as a Wasm memory address and pass it to `validate_atomic_addr` to be bounds checked a second time. This is a bit nonsensical, as we are validating a native memory address as if it were a Wasm memory address.\r\n\r\nNow, we no longer do a `heap_addr` to translate the Wasm memory address to a native memory address. Instead, we pass the Wasm memory address to the libcall, and the libcall is responsible for doing the bounds check (by calling `validate_atomic_addr` with the correct type of memory address now).\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5239/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5238", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5238/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5238/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5238/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5238", "id": 1442744247, "node_id": "PR_kwDOBhDaXM5Cjw0K", "number": 5238, "title": "winch: Prepare for an update to the `wasm-tools` crates", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-09T21:05:14Z", "updated_at": "2022-11-10T20:01:44Z", "closed_at": "2022-11-10T20:01:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5238", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5238", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5238.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5238.patch", "merged_at": "2022-11-10T20:01:43Z"}, "body": "This commit prepares the `winch` crate for updating `wasm-tools`, notably changing a bit about how the visitation of operators works. This moves the function body and wasm validator out of the `CodeGen` structure and into parameters threaded into the emission of the actual function.\r\n\r\nAdditionally the `VisitOperator` implementation was updated to remove the explicit calls to the validator, favoring instead a macro-generated solution to guarantee that all validation happens before any translation proceeds. This means that the `VisitOperator for CodeGen` impl is now infallible and the various methods have been inlined into the trait methods as well as removing the `Result<_>`.\r\n\r\nFinally this commit updates translation to call `validator.finish(..)` which is required to perform the final validation steps of the function body.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5238/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5236", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5236/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5236/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5236/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5236", "id": 1442633825, "node_id": "PR_kwDOBhDaXM5CjY-B", "number": 5236, "title": "cranelift-isle: Don't panic on too-large rule priorities", "user": {"login": "jameysharp", "id": 865272, "node_id": "MDQ6VXNlcjg2NTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/865272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameysharp", "html_url": "https://github.com/jameysharp", "followers_url": "https://api.github.com/users/jameysharp/followers", "following_url": "https://api.github.com/users/jameysharp/following{/other_user}", "gists_url": "https://api.github.com/users/jameysharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameysharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameysharp/subscriptions", "organizations_url": "https://api.github.com/users/jameysharp/orgs", "repos_url": "https://api.github.com/users/jameysharp/repos", "events_url": "https://api.github.com/users/jameysharp/events{/privacy}", "received_events_url": "https://api.github.com/users/jameysharp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-09T19:29:34Z", "updated_at": "2022-11-09T20:37:56Z", "closed_at": "2022-11-09T20:36:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5236", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5236", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5236.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5236.patch", "merged_at": "2022-11-09T20:36:03Z"}, "body": "Found with ISLE's fuzzer.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5236/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5234", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5234/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5234/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5234/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5234", "id": 1441299544, "node_id": "PR_kwDOBhDaXM5Ce3al", "number": 5234, "title": "cli docs: some consistency improvements, and a fix", "user": {"login": "tshepang", "id": 588486, "node_id": "MDQ6VXNlcjU4ODQ4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/588486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tshepang", "html_url": "https://github.com/tshepang", "followers_url": "https://api.github.com/users/tshepang/followers", "following_url": "https://api.github.com/users/tshepang/following{/other_user}", "gists_url": "https://api.github.com/users/tshepang/gists{/gist_id}", "starred_url": "https://api.github.com/users/tshepang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tshepang/subscriptions", "organizations_url": "https://api.github.com/users/tshepang/orgs", "repos_url": "https://api.github.com/users/tshepang/repos", "events_url": "https://api.github.com/users/tshepang/events{/privacy}", "received_events_url": "https://api.github.com/users/tshepang/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-09T03:26:57Z", "updated_at": "2022-11-10T22:02:14Z", "closed_at": "2022-11-09T15:13:04Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5234", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5234", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5234.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5234.patch", "merged_at": "2022-11-09T15:13:04Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5234/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5233", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5233/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5233/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5233/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5233", "id": 1441216602, "node_id": "PR_kwDOBhDaXM5Celjz", "number": 5233, "title": "cranelift-isle: if-let patterns aren't root terms", "user": {"login": "jameysharp", "id": 865272, "node_id": "MDQ6VXNlcjg2NTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/865272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameysharp", "html_url": "https://github.com/jameysharp", "followers_url": "https://api.github.com/users/jameysharp/followers", "following_url": "https://api.github.com/users/jameysharp/following{/other_user}", "gists_url": "https://api.github.com/users/jameysharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameysharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameysharp/subscriptions", "organizations_url": "https://api.github.com/users/jameysharp/orgs", "repos_url": "https://api.github.com/users/jameysharp/repos", "events_url": "https://api.github.com/users/jameysharp/events{/privacy}", "received_events_url": "https://api.github.com/users/jameysharp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-09T01:59:52Z", "updated_at": "2022-11-09T23:34:02Z", "closed_at": "2022-11-09T23:32:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5233", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5233", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5233.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5233.patch", "merged_at": "2022-11-09T23:32:34Z"}, "body": "The `is_root` flag to `translate_pattern` just determines whether the `rule_term` argument is used, which begs a larger cleanup. But that cleanup is less clear if `is_root` is set anywhere aside from the call in `collect_rules`. So I wanted to get confirmation that this particular use of that flag is incorrect first.\r\n\r\nThese two arguments (`is_root` and `rule_term`) are used to prevent expansion of a term as an internal extractor (\"macro\") if:\r\n- that term is also an internal constructor\r\n- and it's the root term on the left-hand side of the current rule\r\n- and the pattern we're currently translating has no parents.\r\n\r\nI'm not sure what it should mean to use the term you're currently defining as the root pattern on the left-hand side of an if-let in the same rule, but I don't think it should have this particular special treatment.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5233/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5232", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5232/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5232/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5232/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5232", "id": 1441187568, "node_id": "PR_kwDOBhDaXM5CefgG", "number": 5232, "title": "cranelift-isle: Do fewer term lookups", "user": {"login": "jameysharp", "id": 865272, "node_id": "MDQ6VXNlcjg2NTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/865272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameysharp", "html_url": "https://github.com/jameysharp", "followers_url": "https://api.github.com/users/jameysharp/followers", "following_url": "https://api.github.com/users/jameysharp/following{/other_user}", "gists_url": "https://api.github.com/users/jameysharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameysharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameysharp/subscriptions", "organizations_url": "https://api.github.com/users/jameysharp/orgs", "repos_url": "https://api.github.com/users/jameysharp/repos", "events_url": "https://api.github.com/users/jameysharp/events{/privacy}", "received_events_url": "https://api.github.com/users/jameysharp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-11-09T01:24:29Z", "updated_at": "2022-11-09T19:26:52Z", "closed_at": "2022-11-09T19:24:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5232", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5232", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5232.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5232.patch", "merged_at": "2022-11-09T19:24:39Z"}, "body": "While checking the call graph of extractors during semantic validation, save `TermId` instead of `Sym`. The types are both just integer indexes, but the `TermId` is more useful here. Saving it avoids needing to check for failed map lookups twice, which simplifies the implementation.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5232/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5231", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5231/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5231/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5231/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5231", "id": 1441091921, "node_id": "PR_kwDOBhDaXM5CeKCd", "number": 5231, "title": "Cranelift: Make `heap_addr` return calculated `base + index + offset`", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-08T23:57:09Z", "updated_at": "2022-11-09T20:05:40Z", "closed_at": "2022-11-09T19:53:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5231", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5231", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5231.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5231.patch", "merged_at": "2022-11-09T19:53:51Z"}, "body": "Rather than return just the `base + index`.\r\n\r\n(Note: I've chosen to use the nomenclature \"index\" for the dynamic operand and \"offset\" for the static immediate.)\r\n\r\nThis move the addition of the `offset` into `heap_addr`, instead of leaving it for the subsequent memory operation, so that we can Spectre-guard the full address, and not allow speculative execution to read the first 4GiB of memory.\r\n\r\nBefore this commit, we were effectively doing\r\n\r\n    load(spectre_guard(base + index) + offset)\r\n\r\nNow we are effectively doing\r\n\r\n    load(spectre_guard(base + index + offset))\r\n\r\nFinally, this also corrects `heap_addr`'s documented semantics to say that it returns an address that will trap on access if `index + offset + access_size` is out of bounds for the given heap, rather than saying that the `heap_addr` itself will trap. This matches the implemented behavior for static memories, and after https://github.com/bytecodealliance/wasmtime/pull/5190 lands (which is blocked on this commit) will also match the implemented behavior for dynamic memories.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5230", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5230/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5230/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5230/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5230", "id": 1441001956, "node_id": "PR_kwDOBhDaXM5Cd2RJ", "number": 5230, "title": "Fix `OutOfFuel` trap code not represented in the C API.", "user": {"login": "peterhuene", "id": 509666, "node_id": "MDQ6VXNlcjUwOTY2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/509666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhuene", "html_url": "https://github.com/peterhuene", "followers_url": "https://api.github.com/users/peterhuene/followers", "following_url": "https://api.github.com/users/peterhuene/following{/other_user}", "gists_url": "https://api.github.com/users/peterhuene/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhuene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhuene/subscriptions", "organizations_url": "https://api.github.com/users/peterhuene/orgs", "repos_url": "https://api.github.com/users/peterhuene/repos", "events_url": "https://api.github.com/users/peterhuene/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhuene/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-08T22:27:31Z", "updated_at": "2022-11-10T20:50:02Z", "closed_at": "2022-11-10T20:42:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5230", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5230", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5230.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5230.patch", "merged_at": "2022-11-10T20:42:27Z"}, "body": "This PR adds the missing \"out of fuel\" trap code to the C API.\r\n\r\nWithout this, calls to `wasmtime_trap_code` will trigger an unreachable panic on traps from running out of fuel.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5230/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5229", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5229/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5229/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5229/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5229", "id": 1440930187, "node_id": "PR_kwDOBhDaXM5Cdma3", "number": 5229, "title": "wiggle: adapt Wiggle guest slices for `unsafe` shared use", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}, {"id": 4213438913, "node_id": "LA_kwDOBhDaXM77I_nB", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasm-proposal:threads", "name": "wasm-proposal:threads", "color": "d4c5f9", "default": false, "description": "Issues related to the WebAssembly threads proposal"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-11-08T21:29:36Z", "updated_at": "2022-12-12T19:21:53Z", "closed_at": "2022-11-10T21:54:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5229", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5229", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5229.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5229.patch", "merged_at": "2022-11-10T21:54:52Z"}, "body": "When multiple threads can concurrently modify a WebAssembly shared memory, the underlying data for a Wiggle `GuestSlice` and `GuestSliceMut` could change due to access from other threads. This breaks Rust guarantees when `&[T]` and `&mut [T]` slices are handed out. This change modifies `GuestPtr` to make `as_slice` and `as_slice_mut` return an `Option` which is `None` when the underlying WebAssembly memory is shared.\r\n\r\nBut WASI implementations still need access to the underlying WebAssembly memory, both to read to it and write from it. This change adds new APIs:\r\n- `GuestPtr::to_vec` copies the  bytes from WebAssembly memory (from which we can safely take a `&[T]`)\r\n- `GuestPtr::as_unsafe_slice_mut` returns a wrapper `struct` from which we can  `unsafe`-ly return a mutable slice (users must accept the unsafety of concurrently modifying a `&mut [T]`)\r\n\r\nThis approach allows us to maintain Wiggle's borrow-checking infrastructure, which enforces the guarantee that Wiggle will not modify overlapping regions, e.g. This is important because the underlying system calls may expect this. Other threads may modify the same underlying region and this is impossible to prevent; at least Wiggle will not be able to do so.\r\n\r\nFinally, the changes to Wiggle's API are propagated to all WASI implementations in Wasmtime. For now, code locations that attempt to get a guest slice will panic if the underlying memory is shared. Note that Wiggle is not enabled for shared memory (that will come later in something like #5054), but when it is, these panics will be clear indicators of locations that must be re-implemented in a thread-safe way.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5229/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5229/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5228", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5228/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5228/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5228/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5228", "id": 1440854143, "node_id": "PR_kwDOBhDaXM5CdWOp", "number": 5228, "title": "Cranelift: Use a custom enum instead of boolean for the ISLE target", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-08T20:23:20Z", "updated_at": "2022-11-08T22:02:58Z", "closed_at": "2022-11-08T21:44:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5228", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5228", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5228.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5228.patch", "merged_at": "2022-11-08T21:44:02Z"}, "body": "Easier to read and doesn't require `/* is_lower = */`-style comments at call sites.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5228/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5227", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5227/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5227/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5227/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5227", "id": 1440767698, "node_id": "PR_kwDOBhDaXM5CdEPs", "number": 5227, "title": "cranelift: Resize with `types::INVALID` isntead of `types::I8`", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-08T19:16:16Z", "updated_at": "2022-11-08T20:42:20Z", "closed_at": "2022-11-08T20:42:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5227", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5227", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5227.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5227.patch", "merged_at": "2022-11-08T20:42:20Z"}, "body": "Follow up from #5222 to resize the vreg_types vector with `types::INVALID`  instead of `types::I8`.\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5227/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5226", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5226/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5226/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5226/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5226", "id": 1440674361, "node_id": "PR_kwDOBhDaXM5Ccv2r", "number": 5226, "title": "Wasmtime+Cranelift: strip out some dead x86-32 code.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-11-08T18:08:24Z", "updated_at": "2023-01-24T18:38:35Z", "closed_at": "2022-11-08T23:03:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5226", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5226", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5226.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5226.patch", "merged_at": "2022-11-08T23:03:18Z"}, "body": "I was recently pointed to fastly/Viceroy#200 where it seems some folks are trying to compile Wasmtime (via Viceroy) for Windows x86-32 and the failures may not be loud enough. I've tried to reproduce this cross-compiling to i686-pc-windows-gnu from Linux and hit build failures (as expected) in several places.  Nevertheless, while trying to discern what others may be attempting, I noticed some dead x86-32-specific code in our repo, and figured it would be a good idea to clean this up. Otherwise, it (i) sends some mixed messages -- \"hey look, this codebase does support x86-32\" -- and (ii) keeps untested code around, which is generally not great.\r\n\r\nThis PR removes x86-32-specific cases in traphandlers and unwind code, and Cranelift's native feature detection. It adds helpful compile-error messages in a few cases. If we ever support x86-32 (contributors welcome! The big missing piece is Cranelift support; see #1980), these compile errors and git history should be enough to recover any knowledge we are now encoding in the source.\r\n\r\nI left the x86-32 support in `wasmtime-fiber` alone because that seems like a bit of a special case -- foundation library, separate from the rest of Wasmtime, with specific care to provide a (presumably working) full 32-bit version.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5226/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5225", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5225/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5225/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5225/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5225", "id": 1440554566, "node_id": "PR_kwDOBhDaXM5CcV1b", "number": 5225, "title": "wiggle: add initial support for shared memory", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}, {"id": 4213438913, "node_id": "LA_kwDOBhDaXM77I_nB", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasm-proposal:threads", "name": "wasm-proposal:threads", "color": "d4c5f9", "default": false, "description": "Issues related to the WebAssembly threads proposal"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-08T16:50:32Z", "updated_at": "2022-12-12T19:21:52Z", "closed_at": "2022-11-08T21:25:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5225", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5225", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5225.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5225.patch", "merged_at": "2022-11-08T21:25:24Z"}, "body": "This change is the first in a series of changes to support shared memory in Wiggle. Since Wiggle was written under the assumption of single-threaded guest-side access, this change introduces a `shared` field to guest memories in order to flag when this assumption will not be the case. This change always sets `shared` to `false`; once a few more pieces are in place, `shared` will be set dynamically when a shared memory is detected, e.g., in a change like #5054.\r\n\r\nUsing the `shared` field, we can now decide to load Wiggle values differently under the new assumptions. This change  makes the guest `T::read` and `T::write` calls into `Relaxed` atomic loads and stores in order to maintain WebAssembly's expected memory consistency guarantees. We choose Rust's `Relaxed` here to match the `Unordered` memory consistency described in the [memory model] section of the ECMA spec.\r\n\r\n[memory model]: https://tc39.es/ecma262/multipage/memory-model.html#sec-memory-model\r\n\r\nSince 128-bit scalar types do not have `Atomic*` equivalents, we remove their `T::read` and `T::write` implementations here. They are unused by any WASI implementations in the project.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5225/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5224", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5224/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5224/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5224/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5224", "id": 1440402356, "node_id": "PR_kwDOBhDaXM5Cb1Jo", "number": 5224, "title": "[3.0.0] Backport some C-API trap-related changes", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-08T15:18:30Z", "updated_at": "2022-11-08T17:43:30Z", "closed_at": "2022-11-08T17:43:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5224", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5224", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5224.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5224.patch", "merged_at": "2022-11-08T17:43:29Z"}, "body": "This backports #5215 and https://github.com/bytecodealliance/wasmtime/pull/5223 to fix issues from https://github.com/bytecodealliance/wasmtime/pull/5149.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5223", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5223/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5223/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5223/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5223", "id": 1440399761, "node_id": "PR_kwDOBhDaXM5Cb0ld", "number": 5223, "title": "c-api: Avoid losing error context with instance traps", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-08T15:16:55Z", "updated_at": "2022-11-08T17:43:22Z", "closed_at": "2022-11-08T17:43:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5223", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5223", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5223.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5223.patch", "merged_at": "2022-11-08T17:43:21Z"}, "body": "This commit was a mistake from #5149\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5223/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5222", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5222/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5222/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5222/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5222", "id": 1439505970, "node_id": "PR_kwDOBhDaXM5CYxd3", "number": 5222, "title": "Add a VRegAllocator to separate VReg allocation from VCode", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-08T05:17:43Z", "updated_at": "2022-11-08T19:25:01Z", "closed_at": "2022-11-08T18:05:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5222", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5222", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5222.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5222.patch", "merged_at": "2022-11-08T18:05:03Z"}, "body": "Remove the dependency on `VCode` for `VReg` allocation. This will simplify the changes in #5172, as that PR introduces the need to allocate temporary registers from the ABI context.\r\n\r\nThis change also allows us to remove some fields from `VCode`: `reftyped_vregs_set` and `have_ref_values`. Additionally, the `vcode_types` field appears to be only used for its length after the `VCode` is  built, so we could probably replace that field with a `u32` as well.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5222/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5221", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5221/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5221/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5221/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5221", "id": 1439161365, "node_id": "PR_kwDOBhDaXM5CXlsx", "number": 5221, "title": "cranelift-isle: Save variable names for later use", "user": {"login": "jameysharp", "id": 865272, "node_id": "MDQ6VXNlcjg2NTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/865272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameysharp", "html_url": "https://github.com/jameysharp", "followers_url": "https://api.github.com/users/jameysharp/followers", "following_url": "https://api.github.com/users/jameysharp/following{/other_user}", "gists_url": "https://api.github.com/users/jameysharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameysharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameysharp/subscriptions", "organizations_url": "https://api.github.com/users/jameysharp/orgs", "repos_url": "https://api.github.com/users/jameysharp/repos", "events_url": "https://api.github.com/users/jameysharp/events{/privacy}", "received_events_url": "https://api.github.com/users/jameysharp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-07T23:33:58Z", "updated_at": "2022-11-09T23:21:18Z", "closed_at": "2022-11-09T23:21:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5221", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5221", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5221.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5221.patch", "merged_at": "2022-11-09T23:21:15Z"}, "body": "It's nice to be able to report these names after sema analysis completes so rule authors can recognize which names they used.\r\n\r\nThis isn't used anywhere yet, but I'm planning to use it during codegen, and the rule-verification folks wanted something like this for debugging output.\r\n\r\n@avanhatt, does this work for your needs?\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5221/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5219", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5219/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5219/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5219/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5219", "id": 1439117811, "node_id": "PR_kwDOBhDaXM5CXb8h", "number": 5219, "title": "[2.0.0] Fix CI builds", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-07T22:53:34Z", "updated_at": "2022-11-08T00:47:49Z", "closed_at": "2022-11-08T00:47:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5219", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5219", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5219.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5219.patch", "merged_at": "2022-11-08T00:47:48Z"}, "body": "This is done to land ahead of https://github.com/bytecodealliance/wasmtime/pull/5218", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5219/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5218", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5218/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5218/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5218/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5218", "id": 1439013997, "node_id": "PR_kwDOBhDaXM5CXE7S", "number": 5218, "title": "Release Wasmtime 2.0.2", "user": {"login": "wasmtime-publish", "id": 59749941, "node_id": "MDQ6VXNlcjU5NzQ5OTQx", "avatar_url": "https://avatars.githubusercontent.com/u/59749941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wasmtime-publish", "html_url": "https://github.com/wasmtime-publish", "followers_url": "https://api.github.com/users/wasmtime-publish/followers", "following_url": "https://api.github.com/users/wasmtime-publish/following{/other_user}", "gists_url": "https://api.github.com/users/wasmtime-publish/gists{/gist_id}", "starred_url": "https://api.github.com/users/wasmtime-publish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wasmtime-publish/subscriptions", "organizations_url": "https://api.github.com/users/wasmtime-publish/orgs", "repos_url": "https://api.github.com/users/wasmtime-publish/repos", "events_url": "https://api.github.com/users/wasmtime-publish/events{/privacy}", "received_events_url": "https://api.github.com/users/wasmtime-publish/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-07T21:29:29Z", "updated_at": "2022-11-10T19:24:13Z", "closed_at": "2022-11-10T19:24:12Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5218", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5218", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5218.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5218.patch", "merged_at": "2022-11-10T19:24:12Z"}, "body": "This is an [automated pull request][process] from CI to create a patch\nrelease for Wasmtime 2.0.2, requested by @alexcrichton.\n\nIt's recommended that maintainers double-check that [RELEASES.md]\nis up-to-date and that there are no known issues before merging this\nPR. When this PR is merged a release tag will automatically be\ncreated, crates will be published, and CI artifacts will be produced.\n\n[RELEASES.md]: https://github.com/bytecodealliance/wasmtime/blob/main/RELEASES.md\n[process]: https://docs.wasmtime.dev/contributing-release-process.html\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5218/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5217", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5217/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5217/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5217/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5217", "id": 1438939726, "node_id": "PR_kwDOBhDaXM5CW0lm", "number": 5217, "title": "[3.0.0] Add release notes ", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-07T20:32:01Z", "updated_at": "2022-11-07T22:52:18Z", "closed_at": "2022-11-07T22:52:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5217", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5217", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5217.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5217.patch", "merged_at": "2022-11-07T22:52:17Z"}, "body": "This is a cherry-pick of https://github.com/bytecodealliance/wasmtime/pull/5213 to the 3.0.0 branch.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5217/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5215", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5215/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5215/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5215/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5215", "id": 1438547431, "node_id": "PR_kwDOBhDaXM5CVgn2", "number": 5215, "title": "Update how exits are modeled in the C API", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-11-07T15:25:55Z", "updated_at": "2025-06-17T14:49:15Z", "closed_at": "2022-11-07T17:35:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5215", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5215", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5215.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5215.patch", "merged_at": "2022-11-07T17:35:50Z"}, "body": "Previously extracting an exit code was only possibly on a `wasm_trap_t` which will never successfully have an exit code on it, so the exit code extractor is moved over to `wasmtime_error_t`. Additionally extracting a wasm trace from a `wasmtime_error_t` is added since traces happen on both traps and errors now.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5215/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5213", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5213/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5213/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5213/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5213", "id": 1438499953, "node_id": "PR_kwDOBhDaXM5CVWYE", "number": 5213, "title": "Add release notes for 3.0.0", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-07T14:56:36Z", "updated_at": "2022-11-07T19:30:09Z", "closed_at": "2022-11-07T19:30:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5213", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5213", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5213.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5213.patch", "merged_at": "2022-11-07T19:30:08Z"}, "body": "<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5213/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5212", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5212/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5212/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5212/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5212", "id": 1438499461, "node_id": "PR_kwDOBhDaXM5CVWRg", "number": 5212, "title": "Slim down temporary trampoline objects", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-07T14:56:13Z", "updated_at": "2022-11-07T17:28:19Z", "closed_at": "2022-11-07T17:28:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5212", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5212", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5212.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5212.patch", "merged_at": "2022-11-07T17:28:18Z"}, "body": "I noticed this in the backtrace of something that timed out on oss-fuzz and there's no need to include this information in trampolines, so this removes the extra sections from being generated.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5212/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5211", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5211/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5211/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5211/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5211", "id": 1437474265, "node_id": "PR_kwDOBhDaXM5CR_l3", "number": 5211, "title": "Impl `Debug` for `SharedMemory` and `Extern`", "user": {"login": "a1phyr", "id": 47725341, "node_id": "MDQ6VXNlcjQ3NzI1MzQx", "avatar_url": "https://avatars.githubusercontent.com/u/47725341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a1phyr", "html_url": "https://github.com/a1phyr", "followers_url": "https://api.github.com/users/a1phyr/followers", "following_url": "https://api.github.com/users/a1phyr/following{/other_user}", "gists_url": "https://api.github.com/users/a1phyr/gists{/gist_id}", "starred_url": "https://api.github.com/users/a1phyr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a1phyr/subscriptions", "organizations_url": "https://api.github.com/users/a1phyr/orgs", "repos_url": "https://api.github.com/users/a1phyr/repos", "events_url": "https://api.github.com/users/a1phyr/events{/privacy}", "received_events_url": "https://api.github.com/users/a1phyr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-06T17:09:44Z", "updated_at": "2023-06-14T08:03:20Z", "closed_at": "2022-11-07T15:05:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5211", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5211", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5211.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5211.patch", "merged_at": "2022-11-07T15:05:59Z"}, "body": "This adds a `Debug` impl to `wasmtime::SharedMemory` and `wasmtime::Extern`", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5211/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5209", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5209/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5209/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5209/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5209", "id": 1436739134, "node_id": "PR_kwDOBhDaXM5CPrdP", "number": 5209, "title": "Bump Wasmtime to 4.0.0", "user": {"login": "wasmtime-publish", "id": 59749941, "node_id": "MDQ6VXNlcjU5NzQ5OTQx", "avatar_url": "https://avatars.githubusercontent.com/u/59749941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wasmtime-publish", "html_url": "https://github.com/wasmtime-publish", "followers_url": "https://api.github.com/users/wasmtime-publish/followers", "following_url": "https://api.github.com/users/wasmtime-publish/following{/other_user}", "gists_url": "https://api.github.com/users/wasmtime-publish/gists{/gist_id}", "starred_url": "https://api.github.com/users/wasmtime-publish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wasmtime-publish/subscriptions", "organizations_url": "https://api.github.com/users/wasmtime-publish/orgs", "repos_url": "https://api.github.com/users/wasmtime-publish/repos", "events_url": "https://api.github.com/users/wasmtime-publish/events{/privacy}", "received_events_url": "https://api.github.com/users/wasmtime-publish/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-05T00:03:14Z", "updated_at": "2022-11-06T19:32:36Z", "closed_at": "2022-11-06T19:32:35Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5209", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5209", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5209.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5209.patch", "merged_at": "2022-11-06T19:32:35Z"}, "body": "This is an [automated pull request][process] from CI which indicates\nthat the next [`release-3.0.0` branch][branch] has been created and\nthe `main` branch is getting its version number bumped from 3.0.0 to\n4.0.0.\n\nMaintainers should take a moment to review the [release\nnotes][RELEASES.md] for 3.0.0, and if any changes are necessary send\nPRs to the `main` branch to update [RELEASES.md] and then backport\nthese PRs to the [release branch][branch].\n\nMaintainers should also review that aarch64-apple-darwin builds\nare passing via [embark's CI](https://buildkite.com/embark-studios/wasmtime-aarch64-apple-darwin).\n\nAnother automated PR will be made in roughly 2 weeks time when for\nthe actual release itself.\n\nIf any issues arise on the `main` branch before the release is made\nthen the issue should first be fixed on `main` and then backported\nto the `release-3.0.0` branch.\n\n[RELEASES.md]: https://github.com/bytecodealliance/wasmtime/blob/main/RELEASES.md\n[branch]: https://github.com/bytecodealliance/wasmtime/tree/release-3.0.0\n[process]: https://docs.wasmtime.dev/contributing-release-process.html\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5209/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5208", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5208/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5208/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5208/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5208", "id": 1436677963, "node_id": "PR_kwDOBhDaXM5CPeyF", "number": 5208, "title": "Implement support for dynamic memories in the pooling allocator", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-04T21:51:15Z", "updated_at": "2022-11-08T20:43:10Z", "closed_at": "2022-11-08T20:43:09Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5208", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5208", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5208.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5208.patch", "merged_at": "2022-11-08T20:43:09Z"}, "body": "This is a continuation of the thrust in #5207 for reducing page faults and lock contention when using the pooling allocator. To that end this commit implements support for efficient memory management in the pooling allocator when using wasm that is instrumented with bounds checks.\r\n\r\nThe `MemoryImageSlot` type now avoids unconditionally shrinking memory back to its initial size during the `clear_and_remain_ready` operation, instead deferring optional resizing of memory to the subsequent call to `instantiate` when the slot is reused. The instantiation portion then takes the \"memory style\" as an argument which dictates whether the accessible memory must be precisely fit or whether it's allowed to exceed the maximum. This in effect enables skipping a call to `mprotect` to shrink the heap when dynamic memory checks are enabled.\r\n\r\nIn terms of page fault and contention this should improve the situation by:\r\n\r\n* Fewer calls to `mprotect` since once a heap grows it stays grown and it never shrinks. This means that a write lock is taken within the kernel much more rarely from before (only asymptotically now, not N-times-per-instance).\r\n\r\n* Accessed memory after a heap growth operation will not fault if it was previously paged in by a prior instance and set to zero with `memset`. Unlike #5207 which requires a 6.0 kernel to see this optimization this commit enables the optimization for any kernel.\r\n\r\nThe major cost of choosing this strategy is naturally the performance hit of the wasm itself. This is being looked at in PRs such as #5190 to improve Wasmtime's story here.\r\n\r\nThis commit does not implement any new configuration options for Wasmtime but instead reinterprets existing configuration options. The pooling allocator no longer unconditionally sets\r\n`static_memory_bound_is_maximum` and then implements support necessary for this memory type. This other change to this commit is that the `Tunables::static_memory_bound` configuration option is no longer gating on the creation of a `MemoryPool` and it will now appropriately size to `instance_limits.memory_pages` if the `static_memory_bound` is to small. This is done to accomodate fuzzing more easily where the `static_memory_bound` will become small during fuzzing and otherwise the configuration would be rejected and require manual handling. The spirit of the `MemoryPool` is one of large virtual address space reservations anyway so it seemed reasonable to interpret the configuration this way.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5208/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5207", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5207/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5207/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5207/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5207", "id": 1436605750, "node_id": "PR_kwDOBhDaXM5CPPbU", "number": 5207, "title": "Add support for keeping pooling allocator pages resident", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-04T20:14:45Z", "updated_at": "2022-11-04T20:56:36Z", "closed_at": "2022-11-04T20:56:35Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5207", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5207", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5207.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5207.patch", "merged_at": "2022-11-04T20:56:35Z"}, "body": "When new wasm instances are created repeatedly in high-concurrency environments one of the largest bottlenecks is the contention on kernel-level locks having to do with the virtual memory. It's expected that usage in this environment is leveraging the pooling instance allocator with the `memory-init-cow` feature enabled which means that the kernel level VM lock is acquired in operations such as:\r\n\r\n1. Growing a heap with `mprotect` (write lock)\r\n2. Faulting in memory during usage (read lock)\r\n3. Resetting a heap's contents with `madvise` (read lock)\r\n4. Shrinking a heap with `mprotect` when reusing a slot (write lock)\r\n\r\nRapid usage of these operations can lead to detrimental performance especially on otherwise heavily loaded systems, worsening the more frequent the above operations are. This commit is aimed at addressing the (2) case above, reducing the number of page faults that are fulfilled by the kernel.\r\n\r\nCurrently these page faults happen for three reasons:\r\n\r\n* When memory is first accessed after the heap is grown.\r\n* When the initial linear memory image is accessed for the first time.\r\n* When the initial zero'd heap contents, not part of the linear memory image, are accessed.\r\n\r\nThis PR is attempting to address the latter of these cases, and to a lesser extent the first case as well. Specifically this PR provides the ability to partially reset a pooled linear memory with `memset` rather than `madvise`. This is done to have the same effect of resetting contents to zero but namely has a different effect on paging, notably keeping the pages resident in memory rather than returning them to the kernel. This means that reuse of a linear memory slot on a page that was previously `memset` will not trigger a page fault since everything remains paged into the process.\r\n\r\nThe end result is that any access to linear memory which has been touched by `memset` will no longer page fault on reuse. On more recent kernels (6.0+) this also means pages which were zero'd by `memset`, made inaccessible with `PROT_NONE`, and then made accessible again with `PROT_READ | PROT_WRITE` will not page fault. This can be common when a wasm instances grows its heap slightly, uses that memory, but then it's shrunk when the memory is reused for the next instance. Note that this kernel optimization requires a 6.0+ kernel.\r\n\r\nThis same optimization is furthermore applied to both async stacks with the pooling memory allocator in addition to table elements. The defaults of Wasmtime are not changing with this PR, instead knobs are being exposed for embedders to turn if they so desire. This is currently being experimented with at Fastly and I may come back and alter the defaults of Wasmtime if it seems suitable after our measurements.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5207/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5205", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5205/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5205/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5205/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5205", "id": 1436488191, "node_id": "PR_kwDOBhDaXM5CO2bD", "number": 5205, "title": "Refactor configuration for the pooling allocator", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 3832704028, "node_id": "LA_kwDOBhDaXM7kcmwc", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:config", "name": "wasmtime:config", "color": "006b75", "default": false, "description": "Issues related to the configuration of Wasmtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-04T18:36:27Z", "updated_at": "2022-11-04T20:06:47Z", "closed_at": "2022-11-04T20:06:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5205", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5205", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5205.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5205.patch", "merged_at": "2022-11-04T20:06:46Z"}, "body": "This commit changes the APIs in the `wasmtime` crate for configuring the pooling allocator. I plan on adding a few more configuration options in the near future and the current structure was feeling unwieldy for adding these new abstractions.\r\n\r\nThe previous `struct`-based API has been replaced with a builder-style API in a similar shape as to `Config`. This is done to help make it easier to add more configuration options in the future through adding more methods as opposed to adding more field which could break prior initializations.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5205/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5204", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5204/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5204/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5204/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5204", "id": 1436446201, "node_id": "PR_kwDOBhDaXM5COtPx", "number": 5204, "title": "Fix mprotect failures by enabling cranelift-jit selinux-fix", "user": {"login": "uweigand", "id": 4154057, "node_id": "MDQ6VXNlcjQxNTQwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4154057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uweigand", "html_url": "https://github.com/uweigand", "followers_url": "https://api.github.com/users/uweigand/followers", "following_url": "https://api.github.com/users/uweigand/following{/other_user}", "gists_url": "https://api.github.com/users/uweigand/gists{/gist_id}", "starred_url": "https://api.github.com/users/uweigand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uweigand/subscriptions", "organizations_url": "https://api.github.com/users/uweigand/orgs", "repos_url": "https://api.github.com/users/uweigand/repos", "events_url": "https://api.github.com/users/uweigand/events{/privacy}", "received_events_url": "https://api.github.com/users/uweigand/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-04T17:58:10Z", "updated_at": "2022-11-04T21:01:37Z", "closed_at": "2022-11-04T21:01:37Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5204", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5204", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5204.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5204.patch", "merged_at": "2022-11-04T21:01:37Z"}, "body": "The sample program in cranelift/filetests/src/function_runner.rs would abort with an mprotect failure under certain circumstances, see https://github.com/bytecodealliance/wasmtime/pull/4453#issuecomment-1303803222\r\n\r\nRoot cause was that enabling PROT_EXEC on the main process heap may be prohibited, depending on Linux distro and version.\r\n\r\nThis only shows up in the doc test sample program because the main clif-util is multi-threaded and therefore allocations will happen on glibc's per-thread heap, which is allocated via mmap, and not the main process heap.\r\n\r\nWork around the problem by enabling the \"selinux-fix\" feature of the cranelift-jit crate dependency in the filetests.  Note that this didn't compile out of the box, so a separate fix is also required and provided as part of this PR.\r\n\r\nGoing forward, it would be preferable to always use mmap to allocate the backing memory for JITted code.\r\n\r\nCC @cfallin @afonso360 \r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5203", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5203/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5203/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5203/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5203", "id": 1436390601, "node_id": "PR_kwDOBhDaXM5COhkh", "number": 5203, "title": "wiggle: fix compilation with async functions when tracing is off", "user": {"login": "joeshaw", "id": 39916, "node_id": "MDQ6VXNlcjM5OTE2", "avatar_url": "https://avatars.githubusercontent.com/u/39916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joeshaw", "html_url": "https://github.com/joeshaw", "followers_url": "https://api.github.com/users/joeshaw/followers", "following_url": "https://api.github.com/users/joeshaw/following{/other_user}", "gists_url": "https://api.github.com/users/joeshaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/joeshaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joeshaw/subscriptions", "organizations_url": "https://api.github.com/users/joeshaw/orgs", "repos_url": "https://api.github.com/users/joeshaw/repos", "events_url": "https://api.github.com/users/joeshaw/events{/privacy}", "received_events_url": "https://api.github.com/users/joeshaw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-04T17:09:22Z", "updated_at": "2022-11-04T18:43:01Z", "closed_at": "2022-11-04T18:43:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5203", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5203", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5203.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5203.patch", "merged_at": "2022-11-04T18:43:00Z"}, "body": "Fixes #5202\n\n<!--\n\nPlease ensure that the following steps are all taken care of before submitting\nthe PR.\n\n- [ ] This has been discussed in issue #..., or if not, please tell us why\n  here.\n- [ ] A short description of what this does, why it is needed; if the\n  description becomes long, the matter should probably be discussed in an issue\n  first.\n- [ ] This PR contains test cases, if meaningful.\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\n  If you don't know who could review this, please indicate so. The list of\n  suggested reviewers on the right can help you.\n\nPlease ensure all communication adheres to the [code of\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\n-->\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5203/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5201", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5201/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5201/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5201/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5201", "id": 1436201598, "node_id": "PR_kwDOBhDaXM5CN5S2", "number": 5201, "title": "fuzzgen: Add a few more ops", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-04T14:50:40Z", "updated_at": "2022-11-07T17:08:27Z", "closed_at": "2022-11-07T17:08:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5201", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5201", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5201.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5201.patch", "merged_at": "2022-11-07T17:08:27Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis adds `bitselect`,`select` and `select_spectre_guard` to the fuzzgen list of ops.\r\n\r\nFuzzing on x86 & AArch64 for the past couple of hours has not raised any issues.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5201/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5196", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5196/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5196/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5196/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5196", "id": 1435973983, "node_id": "PR_kwDOBhDaXM5CNI9n", "number": 5196, "title": "Support big- and little-endian lane order with bitcast", "user": {"login": "uweigand", "id": 4154057, "node_id": "MDQ6VXNlcjQxNTQwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4154057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uweigand", "html_url": "https://github.com/uweigand", "followers_url": "https://api.github.com/users/uweigand/followers", "following_url": "https://api.github.com/users/uweigand/following{/other_user}", "gists_url": "https://api.github.com/users/uweigand/gists{/gist_id}", "starred_url": "https://api.github.com/users/uweigand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uweigand/subscriptions", "organizations_url": "https://api.github.com/users/uweigand/orgs", "repos_url": "https://api.github.com/users/uweigand/repos", "events_url": "https://api.github.com/users/uweigand/events{/privacy}", "received_events_url": "https://api.github.com/users/uweigand/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-04T12:02:58Z", "updated_at": "2022-11-07T22:41:11Z", "closed_at": "2022-11-07T22:41:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5196", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5196", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5196.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5196.patch", "merged_at": "2022-11-07T22:41:10Z"}, "body": "Add a MemFlags operand to the bitcast instruction, where only the `big` and `little` flags are accepted.  These define the lane order to be used when casting between types of different lane counts.\r\n\r\nUpdate all users to pass an appropriate MemFlags argument.\r\n\r\nImplement lane swaps where necessary in the s390x back-end.\r\n\r\nThis is the final part necessary to fix\r\nhttps://github.com/bytecodealliance/wasmtime/issues/4566.\r\n\r\nCC @cfallin \r\n\r\nThis is still a RFC because of the following questions:\r\n- Should we *enforce* that a byte order flag must be explicitly specified if the types differ in lane count?  (This would be easily doable in the verifier.)\r\n- There was some discussion in the issue whether or not the `MemFlags` API is the right choice.  It seems that way to me, since it makes the semantics easy to specific, and is simple to implement based on the already existing `MemFlags` infrastructure.  If you prefer some other implementation, please let me know - I'd be happy to change this.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5196/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5195", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5195/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5195/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5195/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5195", "id": 1435425270, "node_id": "PR_kwDOBhDaXM5CLUAL", "number": 5195, "title": "cranelift-isle: New IR and revised overlap checks", "user": {"login": "jameysharp", "id": 865272, "node_id": "MDQ6VXNlcjg2NTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/865272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameysharp", "html_url": "https://github.com/jameysharp", "followers_url": "https://api.github.com/users/jameysharp/followers", "following_url": "https://api.github.com/users/jameysharp/following{/other_user}", "gists_url": "https://api.github.com/users/jameysharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameysharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameysharp/subscriptions", "organizations_url": "https://api.github.com/users/jameysharp/orgs", "repos_url": "https://api.github.com/users/jameysharp/repos", "events_url": "https://api.github.com/users/jameysharp/events{/privacy}", "received_events_url": "https://api.github.com/users/jameysharp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-11-04T01:17:56Z", "updated_at": "2022-11-14T19:26:22Z", "closed_at": "2022-11-14T02:29:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5195", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5195", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5195.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5195.patch", "merged_at": "2022-11-14T02:29:23Z"}, "body": "I've replaced the overlap checker with one that uses my new IR for ISLE. This is a step toward using the new IR for codegen too. This step gives me some confidence in the correctness of the IR construction without having to get all the codegen details right yet.\r\n\r\nThis isn't quite ready to merge yet, but it's at a milestone where I think it should pass CI, so I thought folks like @elliottt or @fitzgen might want to take a look.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5195/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5194", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5194/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5194/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5194/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5194", "id": 1435241094, "node_id": "PR_kwDOBhDaXM5CKtlS", "number": 5194, "title": "offer function-level control over tracing", "user": {"login": "joeshaw", "id": 39916, "node_id": "MDQ6VXNlcjM5OTE2", "avatar_url": "https://avatars.githubusercontent.com/u/39916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joeshaw", "html_url": "https://github.com/joeshaw", "followers_url": "https://api.github.com/users/joeshaw/followers", "following_url": "https://api.github.com/users/joeshaw/following{/other_user}", "gists_url": "https://api.github.com/users/joeshaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/joeshaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joeshaw/subscriptions", "organizations_url": "https://api.github.com/users/joeshaw/orgs", "repos_url": "https://api.github.com/users/joeshaw/repos", "events_url": "https://api.github.com/users/joeshaw/events{/privacy}", "received_events_url": "https://api.github.com/users/joeshaw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-11-03T20:49:02Z", "updated_at": "2022-11-05T18:31:30Z", "closed_at": "2022-11-05T18:31:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5194", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5194", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5194.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5194.patch", "merged_at": "2022-11-05T18:31:09Z"}, "body": "This adds to the `tracing` boolean from the `from_witx!` macro a `disabled_for` list of identifiers that allow for suppression of tracing on a per-function basis.\r\n\r\nExample:\r\n\r\n```\r\nwiggle::from_witx!({\r\n    tracing: true disable_for {\r\n        module1::func,\r\n        module2::another_func,\r\n    },\r\n    witx: [\"...\"],\r\n});\r\n```\r\n\r\nFixes #5193\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5194/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5192", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5192/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5192/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5192/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5192", "id": 1435179738, "node_id": "PR_kwDOBhDaXM5CKga7", "number": 5192, "title": "Use vselect in NaN canonicalization pass.", "user": {"login": "uweigand", "id": 4154057, "node_id": "MDQ6VXNlcjQxNTQwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4154057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uweigand", "html_url": "https://github.com/uweigand", "followers_url": "https://api.github.com/users/uweigand/followers", "following_url": "https://api.github.com/users/uweigand/following{/other_user}", "gists_url": "https://api.github.com/users/uweigand/gists{/gist_id}", "starred_url": "https://api.github.com/users/uweigand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uweigand/subscriptions", "organizations_url": "https://api.github.com/users/uweigand/orgs", "repos_url": "https://api.github.com/users/uweigand/repos", "events_url": "https://api.github.com/users/uweigand/events{/privacy}", "received_events_url": "https://api.github.com/users/uweigand/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-03T19:47:27Z", "updated_at": "2022-11-03T20:51:32Z", "closed_at": "2022-11-03T20:36:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5192", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5192", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5192.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5192.patch", "merged_at": "2022-11-03T20:36:38Z"}, "body": "Change add_nan_canon_seq to use vselect instead of bitselect. This is more straightforward and removes bitcast operations. Codegen should be unchanged.\r\n\r\nCC @cfallin \r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5192/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5191", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5191/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5191/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5191/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5191", "id": 1435161970, "node_id": "PR_kwDOBhDaXM5CKcmM", "number": 5191, "title": "Move bitselect->vselect optimization to x64 back-end", "user": {"login": "uweigand", "id": 4154057, "node_id": "MDQ6VXNlcjQxNTQwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4154057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uweigand", "html_url": "https://github.com/uweigand", "followers_url": "https://api.github.com/users/uweigand/followers", "following_url": "https://api.github.com/users/uweigand/following{/other_user}", "gists_url": "https://api.github.com/users/uweigand/gists{/gist_id}", "starred_url": "https://api.github.com/users/uweigand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uweigand/subscriptions", "organizations_url": "https://api.github.com/users/uweigand/orgs", "repos_url": "https://api.github.com/users/uweigand/repos", "events_url": "https://api.github.com/users/uweigand/events{/privacy}", "received_events_url": "https://api.github.com/users/uweigand/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-03T19:29:21Z", "updated_at": "2022-11-03T20:51:29Z", "closed_at": "2022-11-03T20:17:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5191", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5191", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5191.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5191.patch", "merged_at": "2022-11-03T20:17:36Z"}, "body": "The simplifier was performing an optimization to replace bitselect with vselect if the all bytes of the condition mask could be shown to be all ones or all zeros.\r\n\r\nThis optimization only ever made any difference in codegen on the x64 target.  Therefore, move this optimization to the x64 back-end and perform it in ISLE instead.  Resulting codegen should be unchanged, with slightly improved compile time.\r\n\r\nThis also eliminates a few endian-dependent bitcast operations.\r\n\r\nCC @cfallin \r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5191/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5190", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5190/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5190/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5190/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5190", "id": 1435109818, "node_id": "PR_kwDOBhDaXM5CKRbW", "number": 5190, "title": "Cranelift: de-duplicate bounds checks in legalizations", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2022-11-03T18:40:17Z", "updated_at": "2022-11-15T16:48:05Z", "closed_at": "2022-11-15T16:47:23Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5190", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5190", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5190.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5190.patch", "merged_at": "2022-11-15T16:47:23Z"}, "body": "When both (1) \"dynamic\" memories that need explicit bounds checks and (2)\r\nspectre mitigations that perform bounds checks are enabled, reuse the same\r\nbounds checks between the two legalizations.\r\n\r\nThis reduces the overhead of explicit bounds checks and spectre mitigations over\r\nusing virtual memory guard pages with spectre mitigations from ~1.9-2.1x\r\noverhead to ~1.6-1.8x overhead. That is about a 14-19% speed up for when dynamic\r\nmemories and spectre mitigations are enabled.\r\n\r\n## virtual-memory-guards.so vs bounds-checks.so\r\n\r\n<details>\r\n\r\n```\r\nexecution :: instructions-retired :: benchmarks/spidermonkey/benchmark.wasm\r\n\r\n  \u0394 = 3422455129.47 \u00b1 120159.49 (confidence = 99%)\r\n\r\n  virtual-memory-guards.so is 2.09x to 2.09x faster than bounds-checks.so!\r\n\r\n  [6563931659 6564063496.07 6564301535] bounds-checks.so\r\n  [3141492675 3141608366.60 3141895249] virtual-memory-guards.so\r\n\r\nexecution :: instructions-retired :: benchmarks/bz2/benchmark.wasm\r\n\r\n  \u0394 = 338716136.87 \u00b1 1.38 (confidence = 99%)\r\n\r\n  virtual-memory-guards.so is 2.08x to 2.08x faster than bounds-checks.so!\r\n\r\n  [651961494 651961495.47 651961497] bounds-checks.so\r\n  [313245357 313245358.60 313245362] virtual-memory-guards.so\r\n\r\nexecution :: instructions-retired :: benchmarks/pulldown-cmark/benchmark.wasm\r\n\r\n  \u0394 = 22742944.07 \u00b1 331.73 (confidence = 99%)\r\n\r\n  virtual-memory-guards.so is 1.87x to 1.87x faster than bounds-checks.so!\r\n\r\n  [48841295 48841567.33 48842139] bounds-checks.so\r\n  [26098439 26098623.27 26099479] virtual-memory-guards.so\r\n```\r\n\r\n</details>\r\n\r\n## virtual-memory-guards.so vs de-duped-bounds-checks.so\r\n\r\n<details>\r\n\r\n```\r\nexecution :: instructions-retired :: benchmarks/spidermonkey/benchmark.wasm\r\n\r\n  \u0394 = 2465900207.27 \u00b1 146476.61 (confidence = 99%)\r\n\r\n  virtual-memory-guards.so is 1.78x to 1.78x faster than de-duped-bounds-checks.so!\r\n\r\n  [5607275431 5607442989.13 5607838342] de-duped-bounds-checks.so\r\n  [3141445345 3141542781.87 3141711213] virtual-memory-guards.so\r\n\r\nexecution :: instructions-retired :: benchmarks/bz2/benchmark.wasm\r\n\r\n  \u0394 = 234253620.20 \u00b1 2.33 (confidence = 99%)\r\n\r\n  virtual-memory-guards.so is 1.75x to 1.75x faster than de-duped-bounds-checks.so!\r\n\r\n  [547498977 547498980.93 547498985] de-duped-bounds-checks.so\r\n  [313245357 313245360.73 313245363] virtual-memory-guards.so\r\n\r\nexecution :: instructions-retired :: benchmarks/pulldown-cmark/benchmark.wasm\r\n\r\n  \u0394 = 16605659.13 \u00b1 315.78 (confidence = 99%)\r\n\r\n  virtual-memory-guards.so is 1.64x to 1.64x faster than de-duped-bounds-checks.so!\r\n\r\n  [42703971 42704284.40 42704787] de-duped-bounds-checks.so\r\n  [26098432 26098625.27 26099234] virtual-memory-guards.so\r\n```\r\n\r\n</details>\r\n\r\n## bounds-checks.so vs de-duped-bounds-checks.so\r\n\r\n<details>\r\n\r\n```\r\nexecution :: instructions-retired :: benchmarks/bz2/benchmark.wasm\r\n\r\n  \u0394 = 104462517.13 \u00b1 7.32 (confidence = 99%)\r\n\r\n  de-duped-bounds-checks.so is 1.19x to 1.19x faster than bounds-checks.so!\r\n\r\n  [651961493 651961500.80 651961532] bounds-checks.so\r\n  [547498981 547498983.67 547498989] de-duped-bounds-checks.so\r\n\r\nexecution :: instructions-retired :: benchmarks/spidermonkey/benchmark.wasm\r\n\r\n  \u0394 = 956556982.80 \u00b1 103034.59 (confidence = 99%)\r\n\r\n  de-duped-bounds-checks.so is 1.17x to 1.17x faster than bounds-checks.so!\r\n\r\n  [6563930590 6564019842.40 6564243651] bounds-checks.so\r\n  [5607307146 5607462859.60 5607677763] de-duped-bounds-checks.so\r\n\r\nexecution :: instructions-retired :: benchmarks/pulldown-cmark/benchmark.wasm\r\n\r\n  \u0394 = 6137307.87 \u00b1 247.75 (confidence = 99%)\r\n\r\n  de-duped-bounds-checks.so is 1.14x to 1.14x faster than bounds-checks.so!\r\n\r\n  [48841303 48841472.93 48842000] bounds-checks.so\r\n  [42703965 42704165.07 42704718] de-duped-bounds-checks.so\r\n```\r\n\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5190/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5188", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5188/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5188/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5188/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5188", "id": 1434934991, "node_id": "PR_kwDOBhDaXM5CJrw1", "number": 5188, "title": "Fix instruction size test for Rust 1.65.0", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-03T16:19:51Z", "updated_at": "2022-11-03T17:11:01Z", "closed_at": "2022-11-03T16:53:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5188", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5188", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5188.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5188.patch", "merged_at": "2022-11-03T16:53:51Z"}, "body": "Looks like Rust generously shrank our `enum` in 1.65.0, so update the test assertion to pass CI.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5188/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5187", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5187/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5187/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5187/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5187", "id": 1434810855, "node_id": "PR_kwDOBhDaXM5CJQ-d", "number": 5187, "title": "cranelift: Rename `i{min,max}` to `s{min,max}`", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-03T15:01:29Z", "updated_at": "2022-11-03T18:20:33Z", "closed_at": "2022-11-03T18:20:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5187", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5187", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5187.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5187.patch", "merged_at": "2022-11-03T18:20:33Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis brings these instructions in line with our general naming convention of signed instructions being prefixed with an `s`. The matching `u{min,max}` instructions already follow this convention.\r\n\r\nThe only other instructions that I could find that break this naming convention are `iadd_{carry,cout}`/`isub_{borrow,bin}`, which are discussed in: #5165", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5187/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5186", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5186/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5186/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5186/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5186", "id": 1434772242, "node_id": "PR_kwDOBhDaXM5CJIpv", "number": 5186, "title": "cranelift: Add support for `bswap.i128`", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-03T14:38:22Z", "updated_at": "2022-11-03T18:03:37Z", "closed_at": "2022-11-03T18:03:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5186", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5186", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5186.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5186.patch", "merged_at": "2022-11-03T18:03:37Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis adds support for `bswap.i128` on x86, AArch64 and S390X.\r\n\r\nAlso fixes an issue on the fuzzer definitions where we were accidentally requesting two variables for bswap, but bswap only has one input.\r\n\r\nFuzzed for about an hour on x86 and aarch64 without issues.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5186/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5185", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5185/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5185/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5185/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5185", "id": 1434556551, "node_id": "PR_kwDOBhDaXM5CIaC4", "number": 5185, "title": "fuzzgen: Allow inline stack probes on x86", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-03T12:09:26Z", "updated_at": "2022-11-03T15:12:32Z", "closed_at": "2022-11-03T15:12:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5185", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5185", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5185.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5185.patch", "merged_at": "2022-11-03T15:12:32Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis PR adds the option for fuzzgen to enable inline stack probing on x86.\r\n\r\nFuzzing for the last hour does not seem to have raised any issues.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5185/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5184", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5184/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5184/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5184/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5184", "id": 1433935442, "node_id": "PR_kwDOBhDaXM5CGVU2", "number": 5184, "title": "isle: Fix grammar in README", "user": {"login": "saulecabrera", "id": 1423601, "node_id": "MDQ6VXNlcjE0MjM2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1423601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saulecabrera", "html_url": "https://github.com/saulecabrera", "followers_url": "https://api.github.com/users/saulecabrera/followers", "following_url": "https://api.github.com/users/saulecabrera/following{/other_user}", "gists_url": "https://api.github.com/users/saulecabrera/gists{/gist_id}", "starred_url": "https://api.github.com/users/saulecabrera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saulecabrera/subscriptions", "organizations_url": "https://api.github.com/users/saulecabrera/orgs", "repos_url": "https://api.github.com/users/saulecabrera/repos", "events_url": "https://api.github.com/users/saulecabrera/events{/privacy}", "received_events_url": "https://api.github.com/users/saulecabrera/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-03T00:05:34Z", "updated_at": "2022-11-03T00:48:32Z", "closed_at": "2022-11-03T00:48:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5184", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5184", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5184.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5184.patch", "merged_at": "2022-11-03T00:48:32Z"}, "body": "<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5184/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5180", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5180/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5180/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5180/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5180", "id": 1433280292, "node_id": "PR_kwDOBhDaXM5CEHn3", "number": 5180, "title": "Don't fail documentation without the default feature", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-02T14:48:13Z", "updated_at": "2022-11-02T16:59:03Z", "closed_at": "2022-11-02T16:59:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5180", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5180", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5180.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5180.patch", "merged_at": "2022-11-02T16:59:02Z"}, "body": "This commit fixes `cargo doc -p wasmtime --no-default-features` where previously it would fail with many broken doc links because the crate is missing many items that links refer to. Instead they're emitted as warnings now which while noisy should prevent the build from being entirely usable at least.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5180/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5179", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5179/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5179/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5179/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5179", "id": 1433277953, "node_id": "PR_kwDOBhDaXM5CEHH8", "number": 5179, "title": "c-api: add wasi_config_set_stdin_bytes", "user": {"login": "ShuP1", "id": 16181031, "node_id": "MDQ6VXNlcjE2MTgxMDMx", "avatar_url": "https://avatars.githubusercontent.com/u/16181031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShuP1", "html_url": "https://github.com/ShuP1", "followers_url": "https://api.github.com/users/ShuP1/followers", "following_url": "https://api.github.com/users/ShuP1/following{/other_user}", "gists_url": "https://api.github.com/users/ShuP1/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShuP1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShuP1/subscriptions", "organizations_url": "https://api.github.com/users/ShuP1/orgs", "repos_url": "https://api.github.com/users/ShuP1/repos", "events_url": "https://api.github.com/users/ShuP1/events{/privacy}", "received_events_url": "https://api.github.com/users/ShuP1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-02T14:46:40Z", "updated_at": "2022-11-02T19:27:20Z", "closed_at": "2022-11-02T19:27:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5179", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5179", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5179.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5179.patch", "merged_at": "2022-11-02T19:27:18Z"}, "body": "As discussed in issue #4372 and respective issues about python and go bindings.\r\n\r\nCan replace `wasi_config_inherit_stdin` in [examples/wasi/main.c:78](https://github.com/bytecodealliance/wasmtime/blob/e6d339b6ac343326c86d1d193cee6e2db96fa0bc/examples/wasi/main.c#L78)\r\n```c\r\nwasi_config_t *wasi_config = wasi_config_new();\r\nassert(wasi_config);\r\nwasm_byte_vec_t binary;\r\nwasm_name_new_from_string_nt(&binary, \"sent to stdin\");\r\nwasi_config_set_stdin_bytes(wasi_config, &binary);\r\nerror = wasmtime_context_set_wasi(context, wasi_config);\r\n```\r\n\r\n(cc @alexcrichton)", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5179/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5179/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5176", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5176/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5176/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5176/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5176", "id": 1433111162, "node_id": "PR_kwDOBhDaXM5CDi_5", "number": 5176, "title": "cranelift: Fix `iadd_carry`/`iadd_cout` in the interpreter", "user": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-02T13:02:23Z", "updated_at": "2022-11-14T18:18:29Z", "closed_at": "2022-11-14T18:18:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5176", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5176", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5176.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5176.patch", "merged_at": "2022-11-14T18:18:29Z"}, "body": "\ud83d\udc4b Hey,\r\n\r\nThis fixes an issue that the fuzzer found when I tried to add `iadd_cout` to aarch64.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5176/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5175", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5175/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5175/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5175/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5175", "id": 1432953555, "node_id": "PR_kwDOBhDaXM5CDA24", "number": 5175, "title": "Merge raw_bitcast and bitcast", "user": {"login": "uweigand", "id": 4154057, "node_id": "MDQ6VXNlcjQxNTQwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4154057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uweigand", "html_url": "https://github.com/uweigand", "followers_url": "https://api.github.com/users/uweigand/followers", "following_url": "https://api.github.com/users/uweigand/following{/other_user}", "gists_url": "https://api.github.com/users/uweigand/gists{/gist_id}", "starred_url": "https://api.github.com/users/uweigand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uweigand/subscriptions", "organizations_url": "https://api.github.com/users/uweigand/orgs", "repos_url": "https://api.github.com/users/uweigand/repos", "events_url": "https://api.github.com/users/uweigand/events{/privacy}", "received_events_url": "https://api.github.com/users/uweigand/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-02T11:07:22Z", "updated_at": "2022-11-02T17:16:28Z", "closed_at": "2022-11-02T17:16:27Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5175", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5175", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5175.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5175.patch", "merged_at": "2022-11-02T17:16:27Z"}, "body": "- Allow bitcast for vectors with differing lane widths\r\n- Remove raw_bitcast IR instruction\r\n- Change all users of raw_bitcast to bitcast\r\n- Implement support for no-op bitcast cases across backends\r\n\r\nThis implements the second step of the plan outlined here: https://github.com/bytecodealliance/wasmtime/issues/4566#issuecomment-1234819394\r\n\r\nCC @cfallin @elliottt  @dheaton-arm @abrown \r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5174", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5174/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5174/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5174/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5174", "id": 1432348761, "node_id": "PR_kwDOBhDaXM5CA_Q7", "number": 5174, "title": "cranelift-isle: Factor out rule/pattern/expr visitors", "user": {"login": "jameysharp", "id": 865272, "node_id": "MDQ6VXNlcjg2NTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/865272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameysharp", "html_url": "https://github.com/jameysharp", "followers_url": "https://api.github.com/users/jameysharp/followers", "following_url": "https://api.github.com/users/jameysharp/following{/other_user}", "gists_url": "https://api.github.com/users/jameysharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameysharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameysharp/subscriptions", "organizations_url": "https://api.github.com/users/jameysharp/orgs", "repos_url": "https://api.github.com/users/jameysharp/repos", "events_url": "https://api.github.com/users/jameysharp/events{/privacy}", "received_events_url": "https://api.github.com/users/jameysharp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-02T01:57:50Z", "updated_at": "2022-11-03T16:58:23Z", "closed_at": "2022-11-03T01:18:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5174", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5174", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5174.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5174.patch", "merged_at": "2022-11-03T01:18:49Z"}, "body": "This shouldn't change behavior at all, but makes some rather tricky analysis available to other users besides the current IR.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5174/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5173", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5173/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5173/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5173/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5173", "id": 1432272322, "node_id": "PR_kwDOBhDaXM5CAvVL", "number": 5173, "title": "cranelift: improve syscall error/oom handling in JIT module", "user": {"login": "11evan", "id": 115734174, "node_id": "U_kgDOBuX2ng", "avatar_url": "https://avatars.githubusercontent.com/u/115734174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/11evan", "html_url": "https://github.com/11evan", "followers_url": "https://api.github.com/users/11evan/followers", "following_url": "https://api.github.com/users/11evan/following{/other_user}", "gists_url": "https://api.github.com/users/11evan/gists{/gist_id}", "starred_url": "https://api.github.com/users/11evan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/11evan/subscriptions", "organizations_url": "https://api.github.com/users/11evan/orgs", "repos_url": "https://api.github.com/users/11evan/repos", "events_url": "https://api.github.com/users/11evan/events{/privacy}", "received_events_url": "https://api.github.com/users/11evan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-02T00:14:32Z", "updated_at": "2022-11-04T00:38:42Z", "closed_at": "2022-11-03T23:59:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5173", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5173", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5173.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5173.patch", "merged_at": "2022-11-03T23:59:41Z"}, "body": "The JIT module has several places where it `expect`s or `panic`s on syscall or allocator errors. For example, `mmap` and `mprotect` can fail if Linux `vm.max_map_count` is not high enough, and some users may wish to handle this error rather than immediately crashing.\r\n\r\nThis commit plumbs these errors upward as new `ModuleError` types, so that callers of jit module functions like `finalize_definitions` and `define_function` can handle them (or just `unwrap()`, as desired).\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5173/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5172", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5172/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5172/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5172/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5172", "id": 1432213260, "node_id": "PR_kwDOBhDaXM5CAiu_", "number": 5172, "title": "Generate SSA code from returns", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-11-01T23:01:02Z", "updated_at": "2022-11-09T00:00:49Z", "closed_at": "2022-11-09T00:00:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5172", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5172", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5172.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5172.patch", "merged_at": "2022-11-09T00:00:49Z"}, "body": "Modify return pseudoinstructions to have pairs of registers: virtual and real. This allows us to constrain the virtual registers to the real ones specified by the abi, instead of directly emitting moves to those real regisers.\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5172/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5171", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5171/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5171/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5171/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5171", "id": 1432141644, "node_id": "PR_kwDOBhDaXM5CAS9j", "number": 5171, "title": "cranelift-isle: trie construction and IR cleanups", "user": {"login": "jameysharp", "id": 865272, "node_id": "MDQ6VXNlcjg2NTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/865272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameysharp", "html_url": "https://github.com/jameysharp", "followers_url": "https://api.github.com/users/jameysharp/followers", "following_url": "https://api.github.com/users/jameysharp/following{/other_user}", "gists_url": "https://api.github.com/users/jameysharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameysharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameysharp/subscriptions", "organizations_url": "https://api.github.com/users/jameysharp/orgs", "repos_url": "https://api.github.com/users/jameysharp/repos", "events_url": "https://api.github.com/users/jameysharp/events{/privacy}", "received_events_url": "https://api.github.com/users/jameysharp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 3552806557, "node_id": "LA_kwDOBhDaXM7Tw4ad", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/isle", "name": "isle", "color": "E40E9C", "default": false, "description": "Related to the ISLE domain-specific language"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-01T21:48:01Z", "updated_at": "2022-11-02T00:17:15Z", "closed_at": "2022-11-02T00:17:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5171", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5171", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5171.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5171.patch", "merged_at": "2022-11-02T00:17:12Z"}, "body": "One big change here is to stop using `Term::extractor_sig`, which was the only call that used a `TypeEnv`. However that function only uses type information to construct the fully-qualified name of the extractor, which is not used when building the IR. So removing it and removing the now-unused `typeenv` parameters removes all uses of `TypeEnv` from the `ir` and `trie` modules.\r\n\r\nIn addition, this completes the changes started in \"More consistent use of `add_inst`\" (e63771f2d921cdce440620dbf38bd3e186747b1e), by always using `add_inst` to get an `InstId`.\r\n\r\nI also removed a number of unnecessary intermediate allocations.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5171/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5170", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5170/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5170/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5170/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5170", "id": 1431880212, "node_id": "PR_kwDOBhDaXM5B_ZyK", "number": 5170, "title": "winch: Add license and update Cargo.toml", "user": {"login": "saulecabrera", "id": 1423601, "node_id": "MDQ6VXNlcjE0MjM2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1423601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saulecabrera", "html_url": "https://github.com/saulecabrera", "followers_url": "https://api.github.com/users/saulecabrera/followers", "following_url": "https://api.github.com/users/saulecabrera/following{/other_user}", "gists_url": "https://api.github.com/users/saulecabrera/gists{/gist_id}", "starred_url": "https://api.github.com/users/saulecabrera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saulecabrera/subscriptions", "organizations_url": "https://api.github.com/users/saulecabrera/orgs", "repos_url": "https://api.github.com/users/saulecabrera/repos", "events_url": "https://api.github.com/users/saulecabrera/events{/privacy}", "received_events_url": "https://api.github.com/users/saulecabrera/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-01T18:23:22Z", "updated_at": "2022-11-01T19:34:39Z", "closed_at": "2022-11-01T19:31:22Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5170", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5170", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5170.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5170.patch", "merged_at": "2022-11-01T19:31:22Z"}, "body": "This commit adds the appropriate license to `winch-codegen` and to `wasmtime-winch`; it also adds the authors entry to `winch-codegen`\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5169", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5169/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5169/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5169/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5169", "id": 1431824734, "node_id": "PR_kwDOBhDaXM5B_NiX", "number": 5169, "title": "Update `regalloc2` to v0.4.2", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-01T17:43:42Z", "updated_at": "2022-11-01T18:18:23Z", "closed_at": "2022-11-01T18:18:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5169", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5169", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5169.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5169.patch", "merged_at": "2022-11-01T18:18:19Z"}, "body": "<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5169/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5168", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5168/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5168/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5168/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5168", "id": 1431753397, "node_id": "PR_kwDOBhDaXM5B-99-", "number": 5168, "title": "Switch to `x64_rbp` to avoid the use of a pinned register", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-01T16:52:07Z", "updated_at": "2022-11-01T20:23:34Z", "closed_at": "2022-11-01T20:23:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5168", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5168", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5168.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5168.patch", "merged_at": "2022-11-01T20:23:33Z"}, "body": "Avoid a use of `preg_rpb` in the x64 backend, using `x64_rbp` instead.\n\n<!--\n\nPlease ensure that the following steps are all taken care of before submitting\nthe PR.\n\n- [ ] This has been discussed in issue #..., or if not, please tell us why\n  here.\n- [ ] A short description of what this does, why it is needed; if the\n  description becomes long, the matter should probably be discussed in an issue\n  first.\n- [ ] This PR contains test cases, if meaningful.\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\n  If you don't know who could review this, please indicate so. The list of\n  suggested reviewers on the right can help you.\n\nPlease ensure all communication adheres to the [code of\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\n-->\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5168/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5164", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5164/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5164/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5164/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5164", "id": 1430839725, "node_id": "PR_kwDOBhDaXM5B76p2", "number": 5164, "title": "Remove the need for count_operands by restructuring emit in s390x", "user": {"login": "elliottt", "id": 22708, "node_id": "MDQ6VXNlcjIyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/22708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elliottt", "html_url": "https://github.com/elliottt", "followers_url": "https://api.github.com/users/elliottt/followers", "following_url": "https://api.github.com/users/elliottt/following{/other_user}", "gists_url": "https://api.github.com/users/elliottt/gists{/gist_id}", "starred_url": "https://api.github.com/users/elliottt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elliottt/subscriptions", "organizations_url": "https://api.github.com/users/elliottt/orgs", "repos_url": "https://api.github.com/users/elliottt/repos", "events_url": "https://api.github.com/users/elliottt/events{/privacy}", "received_events_url": "https://api.github.com/users/elliottt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-01T04:12:41Z", "updated_at": "2022-11-01T17:05:46Z", "closed_at": "2022-11-01T17:05:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/5164", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/5164", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/5164.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/5164.patch", "merged_at": "2022-11-01T17:05:46Z"}, "body": "Remove the need for `count_operands` by restructuring `emit` in the s390x backend to instead take the `AllocationConsumer` as an argument.\r\n\r\ncc @uweigand \r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/5164/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]