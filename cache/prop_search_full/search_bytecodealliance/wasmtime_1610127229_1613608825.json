[{"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2658", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2658/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2658/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2658/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2658", "id": 809719737, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc0NTM0NTYz", "number": 2658, "title": "Specified type for V128AnyTrue", "user": {"login": "Daniel-Liu-c0deb0t", "id": 6693560, "node_id": "MDQ6VXNlcjY2OTM1NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/6693560?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Daniel-Liu-c0deb0t", "html_url": "https://github.com/Daniel-Liu-c0deb0t", "followers_url": "https://api.github.com/users/Daniel-Liu-c0deb0t/followers", "following_url": "https://api.github.com/users/Daniel-Liu-c0deb0t/following{/other_user}", "gists_url": "https://api.github.com/users/Daniel-Liu-c0deb0t/gists{/gist_id}", "starred_url": "https://api.github.com/users/Daniel-Liu-c0deb0t/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Daniel-Liu-c0deb0t/subscriptions", "organizations_url": "https://api.github.com/users/Daniel-Liu-c0deb0t/orgs", "repos_url": "https://api.github.com/users/Daniel-Liu-c0deb0t/repos", "events_url": "https://api.github.com/users/Daniel-Liu-c0deb0t/events{/privacy}", "received_events_url": "https://api.github.com/users/Daniel-Liu-c0deb0t/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-16T23:19:29Z", "updated_at": "2021-02-17T01:30:37Z", "closed_at": "2021-02-17T01:30:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2658", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2658", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2658.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2658.patch", "merged_at": "2021-02-17T01:30:37Z"}, "body": "This was causing an issue in the stdarch WASM CI (https://github.com/rust-lang/stdarch/pull/1004#issuecomment-778929078). I'm assuming that V128AnyTrue was mistakenly not added in the `type_of` function, because all the other operators are there. If this was intentional, please let me know.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2658/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2657", "id": 809683472, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc0NTA0NTgw", "number": 2657, "title": "Wasmtime 0.23.0", "user": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-16T22:08:10Z", "updated_at": "2021-02-17T23:35:45Z", "closed_at": "2021-02-17T23:35:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2657", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2657", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2657.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2657.patch", "merged_at": "2021-02-17T23:35:43Z"}, "body": "~~This updates a few .gitmodules entries and depedency versions in preparation for releasing 0.23.0.~~\r\n\r\nThis uses a specially-modified publish script to avoid bumping witx, so this is only a version bump and not a .gitmodules change.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2657/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2656", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2656/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2656/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2656/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2656", "id": 809612691, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc0NDQ1NTY1", "number": 2656, "title": "Update dependencies to address cargo audit reports", "user": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1596429979, "node_id": "MDU6TGFiZWwxNTk2NDI5OTc5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/lightbeam", "name": "lightbeam", "color": "a1e226", "default": false, "description": "Issues related to the Lightbeam compiler"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753222, "node_id": "MDU6TGFiZWwxOTA3NzUzMjIy", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:docs", "name": "wasmtime:docs", "color": "006b75", "default": false, "description": "Issues related to Wasmtime's documentation"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-02-16T20:10:03Z", "updated_at": "2021-02-16T22:10:13Z", "closed_at": "2021-02-16T22:10:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2656", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2656", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2656.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2656.patch", "merged_at": "2021-02-16T22:10:05Z"}, "body": "This switches from `term` to `termcolor`, switches from `memmap` to `memmap2`, and updates to `rand_core` 0.6.2.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2656/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2652", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2652/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2652/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2652/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2652", "id": 806597999, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcxOTg5NTE0", "number": 2652, "title": "Fix a number of warnings on nightly Rust", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-11T17:32:33Z", "updated_at": "2021-02-11T18:42:48Z", "closed_at": "2021-02-11T18:42:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2652", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2652", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2652.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2652.patch", "merged_at": "2021-02-11T18:42:45Z"}, "body": "This fixes some issues that are cropping up where some syntax will get\r\nphased out in 2021\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2652/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2651", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2651/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2651/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2651/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2651", "id": 805025123, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcwNjk5MTIx", "number": 2651, "title": "wasi-tests: add path_exists test", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-09T23:56:06Z", "updated_at": "2021-02-11T00:54:16Z", "closed_at": "2021-02-11T00:54:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2651", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2651", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2651.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2651.patch", "merged_at": "2021-02-11T00:54:15Z"}, "body": "This is based off the report of https://github.com/bytecodealliance/wasmtime/issues/2642. We narrowed down that issue to #2650. This code is not sophisticated enough to reproduce that issue, and I'm not sure how we could add a test that ensures cap-std handles UNC paths correctly, but at any rate this test seems useful to have.\r\n\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2651/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2649", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2649/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2649/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2649/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2649", "id": 805021359, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcwNjk2MDAy", "number": 2649, "title": "wasi-common: fix fdstat of dirfd", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-09T23:47:39Z", "updated_at": "2021-02-11T00:53:41Z", "closed_at": "2021-02-11T00:53:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2649", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2649", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2649.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2649.patch", "merged_at": "2021-02-11T00:53:40Z"}, "body": "the fdstat of a dirfd needs to include both the file and dir rights in\r\nthe inheriting field.\r\n\r\nThe wasi-libc path_open bases the base rights of child directories off\r\nthe inheriting rights of the parent, so if we only put file rights in\r\nthere, opening a child directory will not have any directory operations\r\npermitted.\r\n\r\nFixes https://github.com/bytecodealliance/wasmtime/issues/2638\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2649/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2648", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2648/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2648/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2648/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2648", "id": 804646812, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcwMzc5MTky", "number": 2648, "title": "Tweak C API for fuel", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-09T15:18:02Z", "updated_at": "2021-09-09T15:13:27Z", "closed_at": "2021-02-09T17:26:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2648", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2648", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2648.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2648.patch", "merged_at": "2021-02-09T17:26:14Z"}, "body": "* Ensure `store` is in the function names\r\n* Don't abort the process on `add_fuel` when fuel isn't configured\r\n* Allow learning about failure in both `add_fuel` and `fuel_consumed`\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2648/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2648/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2645", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2645/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2645/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2645/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2645", "id": 803694137, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY5NTc5MTA1", "number": 2645, "title": "Use `_setjmp` instead of `setjmp`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-08T15:58:29Z", "updated_at": "2021-02-08T18:05:18Z", "closed_at": "2021-02-08T18:05:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2645", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2645", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2645.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2645.patch", "merged_at": "2021-02-08T18:05:12Z"}, "body": "Apparently on macOS `setjmp` manipulates the process-wide signal mask\r\nwhich adds a good deal of overhead. We don't actually need this\r\nfunctionality so this commit switches to using the underscore-prefixed\r\nversion of setjmp/longjmp which is defined to not maniuplate the signal\r\nmask. This came out of poking around on #2644 and on macOS locally thi\r\nsdropped the overhead from 721ns to 55ns.\r\n\r\nI'll note that I'm not sure if the underscore-versions are present in other platforms, but I figure that CI can figure it out here.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2645/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2645/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2643", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2643/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2643/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2643/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2643", "id": 802755306, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4ODI3MDg3", "number": 2643, "title": "Add fuel related functions to c-api", "user": {"login": "ShuP1", "id": 16181031, "node_id": "MDQ6VXNlcjE2MTgxMDMx", "avatar_url": "https://avatars.githubusercontent.com/u/16181031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShuP1", "html_url": "https://github.com/ShuP1", "followers_url": "https://api.github.com/users/ShuP1/followers", "following_url": "https://api.github.com/users/ShuP1/following{/other_user}", "gists_url": "https://api.github.com/users/ShuP1/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShuP1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShuP1/subscriptions", "organizations_url": "https://api.github.com/users/ShuP1/orgs", "repos_url": "https://api.github.com/users/ShuP1/repos", "events_url": "https://api.github.com/users/ShuP1/events{/privacy}", "received_events_url": "https://api.github.com/users/ShuP1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-06T18:05:55Z", "updated_at": "2021-02-09T08:07:17Z", "closed_at": "2021-02-08T16:03:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2643", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2643", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2643.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2643.patch", "merged_at": "2021-02-08T16:03:25Z"}, "body": "This PR adds C api binding for the 3 methods of fuel counting #2611.\r\nIt directly exposes @alexcrichton work to C/C++ users.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2643/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2641", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2641/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2641/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2641/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2641", "id": 802579899, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4Njk3ODUz", "number": 2641, "title": "WasiCtx: default to empty/sink stdio files rather than throw", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-06T01:51:39Z", "updated_at": "2021-02-06T02:39:17Z", "closed_at": "2021-02-06T02:39:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2641", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2641", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2641.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2641.patch", "merged_at": "2021-02-06T02:39:16Z"}, "body": "the test harness now uses the empty stdin file. I tested manually that\r\nthe sink stdout & stderr files work, but theres no test in tree at the\r\nmoment\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2641/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2636", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2636/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2636/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2636/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2636", "id": 801162823, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY3NTI1OTQy", "number": 2636, "title": "Fix build_value_labels_ranges for newBE when there are no labels", "user": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-04T10:47:21Z", "updated_at": "2021-02-04T17:39:13Z", "closed_at": "2021-02-04T17:38:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2636", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2636", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2636.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2636.patch", "merged_at": "2021-02-04T17:38:26Z"}, "body": "Fixes #2630", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2636/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2631", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2631/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2631/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2631/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2631", "id": 800410952, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY2OTAwODEy", "number": 2631, "title": "Make the stackslot offsets available for debuginfo", "user": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-03T14:59:41Z", "updated_at": "2021-02-06T22:53:08Z", "closed_at": "2021-02-03T17:36:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2631", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2631", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2631.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2631.patch", "merged_at": "2021-02-03T17:36:56Z"}, "body": "See https://bytecodealliance.zulipchat.com/#narrow/stream/225524-cranelift-new-backend/topic/local.20debuginfo/near/225017209", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2631/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2626", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2626/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2626/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2626/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2626", "id": 797409763, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0NDE1NTk2", "number": 2626, "title": "cranelift x64: add instruction set checks for popcnt/tzcnt/lzcnt", "user": {"login": "bnjbvr", "id": 1180019, "node_id": "MDQ6VXNlcjExODAwMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1180019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bnjbvr", "html_url": "https://github.com/bnjbvr", "followers_url": "https://api.github.com/users/bnjbvr/followers", "following_url": "https://api.github.com/users/bnjbvr/following{/other_user}", "gists_url": "https://api.github.com/users/bnjbvr/gists{/gist_id}", "starred_url": "https://api.github.com/users/bnjbvr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bnjbvr/subscriptions", "organizations_url": "https://api.github.com/users/bnjbvr/orgs", "repos_url": "https://api.github.com/users/bnjbvr/repos", "events_url": "https://api.github.com/users/bnjbvr/events{/privacy}", "received_events_url": "https://api.github.com/users/bnjbvr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-30T12:41:24Z", "updated_at": "2021-01-30T18:39:31Z", "closed_at": "2021-01-30T18:39:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2626", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2626", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2626.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2626.patch", "merged_at": "2021-01-30T18:39:31Z"}, "body": "An oversight from the previous PR that used popcnt/tzcnt/lzcnt for Popcount/Ctz/Clz: we need to add the runtime check for these instructions, just to make sure we're not trying to codegen an invalid instruction without noticing.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2626/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2624", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2624/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2624/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2624/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2624", "id": 797309293, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0MzQwMDgy", "number": 2624, "title": "wasi-nn CI: use the same nightly as rest of file", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-30T02:02:12Z", "updated_at": "2021-02-01T16:36:48Z", "closed_at": "2021-02-01T16:23:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2624", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2624", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2624.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2624.patch", "merged_at": "2021-02-01T16:23:00Z"}, "body": "in particular, this 2020-08-25 fails to build `posish 0.5.9` which is\r\na dep in PR #2487. But there's no reason for this to be lagging\r\nbehind...\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2624/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2623", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2623/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2623/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2623/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2623", "id": 797078733, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0MTQ3MTc0", "number": 2623, "title": "Update some wasm-tools dependencies", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-29T18:05:13Z", "updated_at": "2021-01-29T19:00:15Z", "closed_at": "2021-01-29T18:53:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2623", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2623", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2623.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2623.patch", "merged_at": "2021-01-29T18:53:19Z"}, "body": "Mostly focused around some small bugfixes and improvements related to\r\nmodule-linking fuzzing.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2623/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2622", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2622/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2622/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2622/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2622", "id": 796725400, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYzODU3MjEy", "number": 2622, "title": "Refactor x64::Inst to use OperandSize uniformly", "user": {"login": "kaseyc", "id": 2405952, "node_id": "MDQ6VXNlcjI0MDU5NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2405952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaseyc", "html_url": "https://github.com/kaseyc", "followers_url": "https://api.github.com/users/kaseyc/followers", "following_url": "https://api.github.com/users/kaseyc/following{/other_user}", "gists_url": "https://api.github.com/users/kaseyc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaseyc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaseyc/subscriptions", "organizations_url": "https://api.github.com/users/kaseyc/orgs", "repos_url": "https://api.github.com/users/kaseyc/repos", "events_url": "https://api.github.com/users/kaseyc/events{/privacy}", "received_events_url": "https://api.github.com/users/kaseyc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-01-29T09:32:21Z", "updated_at": "2021-02-16T00:25:07Z", "closed_at": "2021-02-03T18:40:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2622", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2622", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2622.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2622.patch", "merged_at": "2021-02-03T18:40:12Z"}, "body": "This is in preparation for refactoring all x64::Inst arms to use OperandSize.\r\n\r\nCurrent uses of OperandSize fall into two categories:\r\n  1. XMM operations which require 32/64 bit operands\r\n  2. Immediates which only care about 64-bit or not.\r\n\r\nAdds assertions to existing Inst constructors to check that they are passed valid sizes.\r\nThis change also removes the implicit widening of 1 and 2 byte values to 4 bytes. from_bytes() is only used by category 2, so removing this behavior will not change any visible behavior.\r\n\r\nOverall this change should be a no-op.\r\n\r\nPartially addresses #2586.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2622/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2621", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2621/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2621/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2621/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2621", "id": 796724310, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYzODU2MzA1", "number": 2621, "title": "Replace MachInst::gen_zero_len_nop with gen_nop(0)", "user": {"login": "kaseyc", "id": 2405952, "node_id": "MDQ6VXNlcjI0MDU5NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2405952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaseyc", "html_url": "https://github.com/kaseyc", "followers_url": "https://api.github.com/users/kaseyc/followers", "following_url": "https://api.github.com/users/kaseyc/following{/other_user}", "gists_url": "https://api.github.com/users/kaseyc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaseyc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaseyc/subscriptions", "organizations_url": "https://api.github.com/users/kaseyc/orgs", "repos_url": "https://api.github.com/users/kaseyc/repos", "events_url": "https://api.github.com/users/kaseyc/events{/privacy}", "received_events_url": "https://api.github.com/users/kaseyc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-29T09:30:44Z", "updated_at": "2021-01-29T17:01:37Z", "closed_at": "2021-01-29T17:01:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2621", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2621", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2621.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2621.patch", "merged_at": "2021-01-29T17:01:37Z"}, "body": "Follow up to discussion in #2614. \r\n\r\nFolds gen_zero_len_nop into gen_nop.\r\nThe remaining definition of gen_zero_len_nop in vcode.rs is necessary to satisfy the regalloc::Function trait.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2621/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2620", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2620/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2620/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2620/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2620", "id": 796354495, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYzNTQ4MTg2", "number": 2620, "title": "Fix `fd_readdir` to properly truncate directory entry names.", "user": {"login": "peterhuene", "id": 509666, "node_id": "MDQ6VXNlcjUwOTY2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/509666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhuene", "html_url": "https://github.com/peterhuene", "followers_url": "https://api.github.com/users/peterhuene/followers", "following_url": "https://api.github.com/users/peterhuene/following{/other_user}", "gists_url": "https://api.github.com/users/peterhuene/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhuene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhuene/subscriptions", "organizations_url": "https://api.github.com/users/peterhuene/orgs", "repos_url": "https://api.github.com/users/peterhuene/repos", "events_url": "https://api.github.com/users/peterhuene/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhuene/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1665758089, "node_id": "MDU6TGFiZWwxNjY1NzU4MDg5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi:impl", "name": "wasi:impl", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI implementation in Wasmtime"}, {"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-28T20:45:38Z", "updated_at": "2021-02-01T20:30:01Z", "closed_at": "2021-02-01T20:29:57Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2620", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2620", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2620.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2620.patch", "merged_at": "2021-02-01T20:29:57Z"}, "body": "Previously, `fd_readdir` was truncating directory entry names based on the\r\ncalculation of `min(name_len, buf_len - bufused)`, but `bufused` was not being\r\nupdated after writing in the `dirent` structure to the buffer.\r\n\r\nThis allowed `bufused` to be incremented beyond `buf_len` and returned as the\r\nnumber of bytes written to the buffer, which is invalid.\r\n\r\nThis fix adjusts `bufused` when the buffer is written to for the `dirent` so\r\nthat name truncation happens as expected.\r\n\r\nFixes #2618.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2620/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2617", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2617/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2617/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2617/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2617", "id": 796176036, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYzMzk4MTg5", "number": 2617, "title": "Add knobs to limit memories/tables in a `Store`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-28T16:48:21Z", "updated_at": "2021-09-09T15:17:15Z", "closed_at": "2021-01-28T18:20:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2617", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2617", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2617.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2617.patch", "merged_at": "2021-01-28T18:20:33Z"}, "body": "Fuzzing has turned up that module linking can create large amounts of\r\ntables and memories in addition to instances. For example if N instances\r\nare allowed and M tables are allowed per-instance, then currently\r\nwasmtime allows MxN tables (which is quite a lot). This is causing some\r\nwasm-smith-generated modules to exceed resource limits while fuzzing!\r\n\r\nThis commits adds corresponding `max_tables` and `max_memories`\r\nfunctions to sit alongside the `max_instances` configuration.\r\nAdditionally fuzzing now by default configures all of these to a\r\nsomewhat low value to avoid too much resource usage while fuzzing.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2617/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2616", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2616/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2616/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2616/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2616", "id": 796133057, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYzMzYyNzIy", "number": 2616, "title": "Disable module-linking in plain instantiate fuzzers", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-28T15:56:12Z", "updated_at": "2021-09-09T15:17:38Z", "closed_at": "2021-01-28T18:17:05Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2616", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2616", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2616.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2616.patch", "merged_at": "2021-01-28T18:17:05Z"}, "body": "We already cover module linking with the `instantiate-swarm` target and\r\notherwise enabling module linking is preventing otherwise-valid modules\r\nfrom being compiled because of the breaking change in the module linking\r\nproposal with respect to imports.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2616/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2616/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2615", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2615/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2615/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2615/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2615", "id": 796124180, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYzMzU1NzIy", "number": 2615, "title": "Only handle signals at pcs with trap information", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-28T15:46:15Z", "updated_at": "2021-09-09T15:14:13Z", "closed_at": "2021-01-28T17:19:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2615", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2615", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2615.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2615.patch", "merged_at": "2021-01-28T17:19:31Z"}, "body": "Previously wasmtime would handle any signal originating from wasm JIT\r\ncode. This would, however, handle bugs in JIT code as-if they were wasm\r\ntraps. Instead this commit switches signal handling to specifically\r\ncheck for whether the precise program counter is expected to be a trap.\r\nThis way if a program counter traps and it's not expected to trap the\r\nsignal isn't handled and the process is aborted (presumably leading to\r\nfurther debugging of whomever happens to work on the JIT at that time).\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2615/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2614", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2614/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2614/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2614/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2614", "id": 795735637, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYzMDM0ODM3", "number": 2614, "title": "Avoid creating 0-sized nops in x64's gen_nop().", "user": {"login": "kaseyc", "id": 2405952, "node_id": "MDQ6VXNlcjI0MDU5NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2405952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaseyc", "html_url": "https://github.com/kaseyc", "followers_url": "https://api.github.com/users/kaseyc/followers", "following_url": "https://api.github.com/users/kaseyc/following{/other_user}", "gists_url": "https://api.github.com/users/kaseyc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaseyc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaseyc/subscriptions", "organizations_url": "https://api.github.com/users/kaseyc/orgs", "repos_url": "https://api.github.com/users/kaseyc/repos", "events_url": "https://api.github.com/users/kaseyc/events{/privacy}", "received_events_url": "https://api.github.com/users/kaseyc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-01-28T07:07:18Z", "updated_at": "2021-01-29T05:37:40Z", "closed_at": "2021-01-29T05:37:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2614", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2614", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2614.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2614.patch", "merged_at": "2021-01-29T05:37:40Z"}, "body": "By contract, the result of gen_nop() must be nonzero:\r\nhttps://github.com/bytecodealliance/wasmtime/blob/503129ad9103028cd0b56ae969848ec1bbf25bc7/cranelift/codegen/src/machinst/mod.rs#L181\r\n\r\nOtherwise. [emit](https://github.com/bytecodealliance/wasmtime/blob/95822a54f2d31c6bb02f1519059eb2a6b4c163ce/cranelift/codegen/src/machinst/vcode.rs#L514) could get stuck in an infinite loop.\r\n\r\nThis should not change generated code at all since all generated instructions will still be 1-15 bytes. \r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2614/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2613", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2613/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2613/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2613/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2613", "id": 795642806, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyOTU2MDQ5", "number": 2613, "title": "Optimize EntityList::extend and add EntityList::from_iter", "user": {"login": "Amanieu", "id": 278509, "node_id": "MDQ6VXNlcjI3ODUwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Amanieu", "html_url": "https://github.com/Amanieu", "followers_url": "https://api.github.com/users/Amanieu/followers", "following_url": "https://api.github.com/users/Amanieu/following{/other_user}", "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions", "organizations_url": "https://api.github.com/users/Amanieu/orgs", "repos_url": "https://api.github.com/users/Amanieu/repos", "events_url": "https://api.github.com/users/Amanieu/events{/privacy}", "received_events_url": "https://api.github.com/users/Amanieu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-28T03:50:41Z", "updated_at": "2021-01-29T13:09:53Z", "closed_at": "2021-01-29T13:09:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2613", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2613", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2613.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2613.patch", "merged_at": "2021-01-29T13:09:53Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2613/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2612", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2612/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2612/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2612/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2612", "id": 795540594, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyODcyNTk5", "number": 2612, "title": "bench-api: receive working directory as an argument", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-27T23:41:53Z", "updated_at": "2021-01-28T19:45:05Z", "closed_at": "2021-01-28T19:43:07Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2612", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2612", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2612.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2612.patch", "merged_at": "2021-01-28T19:43:07Z"}, "body": "Rather than implicitly use the current working directory.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2612/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2611", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2611/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2611/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2611/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2611", "id": 795496987, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyODM0Njg2", "number": 2611, "title": "Implement limiting WebAssembly execution with fuel", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-01-27T22:32:56Z", "updated_at": "2021-01-29T14:57:21Z", "closed_at": "2021-01-29T14:57:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2611", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2611", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2611.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2611.patch", "merged_at": "2021-01-29T14:57:18Z"}, "body": "This PR lifts a feature from Lucet to wasmtime where generated code can count instructions or account for \"fuel\" during execution. The purpose of this feature is similar to the interrupt support via `InterruptHandle`, but it mainly allows deterministically interrupting a wasm module instead of relying on a timer. Additionally a future goal of this PR is to extend the `async` support of wasmtime to leverage fuel to periodically \"interrupt\" executing wasm code to yield back to the host. This would enable wasmtime futures to never take \"too long\" in `Future::poll` since if they would otherwise take awhile they'd yield back to the host and allow preemption and/or other things like future timeouts.\r\n\r\nThee implementation here is nearly copied verbatim from Lucet itself, with tweaks as appropriate for the different vmctx representation in Wasmtime. The main difference is that Wasmtime's fuel counter is two levels of indirection away from the vmctx rather than one in Lucet. To help with this a new `Variable` stores the `VMInterrupts` pointer value to avoid reloading the same value each time from the vmctx.\r\n\r\nSupport for this feature is exposed through a few new APIs:\r\n\r\n* `Config::consume_fuel` - enables codegen options for wasm to consume fuel, and behaves similar to `interruptable`.\r\n* `Store::set_fuel_remaining` - this is how fuel is injected into a `Store` for execution of wasm. Note that stores always start with 0 fuel so this is required to be called.\r\n* `Store::fuel_consumed` - this can be used to check how much fuel has been consumed so far.\r\n\r\nThe current behavior, which cannot be changed, is that when fuel runs out a wasm trap is generated. I hope to make this configurable in the future so that for async stores when fuel runs out it's automatically re-injected with fuel but only after a yield back to the host happens.\r\n\r\nI've done a bit of benchmarking with this using criterion and the benchmarks here -- https://github.com/bytecodealliance/sightglass/tree/main/benchmarks-next. The benchmarks are relatively limited at this time but were able to produce some useful data in the meantime. This shows to be a 35-45% slowdown on my personal laptop for the runtime execution of the benchmarked porttion of the code for blake3-scalar and shootout-ackermann. At least for ackermann this is somewhat expected because the loops/function calls are all tiny, so the overhead is quite noticeable. For blake3-scalar I assume it's similar but haven't dug in yet. Note that these numbers were with the new backend since the old x86 backend seems significantly worse than the x64 one.\r\n\r\nI do think there might be some relatively low-hanging fruit with respect to performance, but further tweaks would require changes to cranelift itself to optimize instruction selection. For example one optimization might be to not have a `fuel_var` and instead periodically do `addq $fuel_consumed, offset(%vminterrupts_ptr)` which avoids consuming extra registers. Similarly `cmpq $0, offset(%vminterrupts_ptr)` could be generated as well. I couldn't get the x64 backend to emit those forms of instructions at this time though. I'm also not 100% certain that it'll be faster.\r\n\r\nNote that for now this doesn't depend on the `async` PR, but I plan on having a future PR after these two land which implements the periodically-yield option.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2611/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2611/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2610", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2610/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2610/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2610/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2610", "id": 795320995, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyNjg4ODUy", "number": 2610, "title": "cranelift x64: use the LZCNT instruction for Clz when it's available", "user": {"login": "bnjbvr", "id": 1180019, "node_id": "MDQ6VXNlcjExODAwMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1180019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bnjbvr", "html_url": "https://github.com/bnjbvr", "followers_url": "https://api.github.com/users/bnjbvr/followers", "following_url": "https://api.github.com/users/bnjbvr/following{/other_user}", "gists_url": "https://api.github.com/users/bnjbvr/gists{/gist_id}", "starred_url": "https://api.github.com/users/bnjbvr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bnjbvr/subscriptions", "organizations_url": "https://api.github.com/users/bnjbvr/orgs", "repos_url": "https://api.github.com/users/bnjbvr/repos", "events_url": "https://api.github.com/users/bnjbvr/events{/privacy}", "received_events_url": "https://api.github.com/users/bnjbvr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-27T17:59:22Z", "updated_at": "2021-01-29T18:41:05Z", "closed_at": "2021-01-29T18:41:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2610", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2610", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2610.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2610.patch", "merged_at": "2021-01-29T18:41:02Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2610/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2610/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2608", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2608/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2608/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2608/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2608", "id": 794518335, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyMDIwNzky", "number": 2608, "title": "Add a method to share `Config` across machines", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1877975109, "node_id": "MDU6TGFiZWwxODc3OTc1MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:meta", "name": "cranelift:meta", "color": "ea48b4", "default": false, "description": "Everything related to the meta-language."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-26T19:57:02Z", "updated_at": "2021-01-26T21:59:16Z", "closed_at": "2021-01-26T21:59:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2608", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2608", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2608.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2608.patch", "merged_at": "2021-01-26T21:59:13Z"}, "body": "With `Module::{serialize,deserialize}` it should be possible to share\r\nwasmtime modules across machines or CPUs. Serialization, however, embeds\r\na hash of all configuration values, including cranelift compilation\r\nsettings. By default wasmtime's selection of the native ISA would enable\r\nISA flags according to CPU features available on the host, but the same\r\nCPU features may not be available across two machines.\r\n\r\nThis commit adds a `Config::cranelift_clear_cpu_flags` method which\r\nallows clearing the target-specific ISA flags that are automatically\r\ninferred by default for the native CPU. Options can then be\r\nincrementally built back up as-desired with teh `cranelift_other_flag`\r\nmethod.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2608/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2607", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2607/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2607/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2607/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2607", "id": 794483247, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYxOTkxNjkx", "number": 2607, "title": "cranelift-native: Use libstd feature detection", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-26T19:01:12Z", "updated_at": "2021-01-26T22:42:14Z", "closed_at": "2021-01-26T22:42:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2607", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2607", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2607.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2607.patch", "merged_at": "2021-01-26T22:42:12Z"}, "body": "This commit switches cranelift-native to useing the\r\n`is_x86_feature_detected!` macro in the standard library instead of the\r\n`raw-cpuid` crate.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2607/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2606", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2606/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2606/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2606/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2606", "id": 794452339, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYxOTY2MzU0", "number": 2606, "title": "wasmtime: clarify `Memory::{read,write}` behavior with out-of-bounds ranges", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-26T18:13:20Z", "updated_at": "2021-01-26T19:57:45Z", "closed_at": "2021-01-26T19:57:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2606", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2606", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2606.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2606.patch", "merged_at": "2021-01-26T19:57:42Z"}, "body": "This documents that we will never do partial reads/writes, and expands our existing tests to assert this.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2606/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2606/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2604", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2604/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2604/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2604/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2604", "id": 793805139, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYxNDMwOTA1", "number": 2604, "title": "fuzzing: Add tests for dummy import generation", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-25T23:38:21Z", "updated_at": "2021-01-26T17:58:12Z", "closed_at": "2021-01-26T15:11:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2604", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2604", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2604.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2604.patch", "merged_at": "2021-01-26T15:11:25Z"}, "body": "<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2604/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2604/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2603", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2603/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2603/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2603/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2603", "id": 793532595, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYxMjA0Njg5", "number": 2603, "title": "Fix cargo-deny issue with raw-cpuid advisory.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-25T16:33:41Z", "updated_at": "2021-01-25T17:13:50Z", "closed_at": "2021-01-25T17:12:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2603", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2603", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2603.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2603.patch", "merged_at": "2021-01-25T17:12:30Z"}, "body": "cargo-deny tells us that we should upgrade raw-cpuid to v9.0.0. This\r\nnew version also seems to lack the `nightly` feature (perhaps it has\r\nbeen incorporated into the base functionality) so I had to remove this\r\nfeature selector to build.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2603/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2602", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2602/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2602/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2602/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2602", "id": 793145006, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYwODgyMzIw", "number": 2602, "title": "Add sse41 lowering for rounding x64", "user": {"login": "jlb6740", "id": 45402135, "node_id": "MDQ6VXNlcjQ1NDAyMTM1", "avatar_url": "https://avatars.githubusercontent.com/u/45402135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlb6740", "html_url": "https://github.com/jlb6740", "followers_url": "https://api.github.com/users/jlb6740/followers", "following_url": "https://api.github.com/users/jlb6740/following{/other_user}", "gists_url": "https://api.github.com/users/jlb6740/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlb6740/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlb6740/subscriptions", "organizations_url": "https://api.github.com/users/jlb6740/orgs", "repos_url": "https://api.github.com/users/jlb6740/repos", "events_url": "https://api.github.com/users/jlb6740/events{/privacy}", "received_events_url": "https://api.github.com/users/jlb6740/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-25T08:09:02Z", "updated_at": "2021-01-29T01:37:18Z", "closed_at": "2021-01-29T01:37:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2602", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2602", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2602.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2602.patch", "merged_at": "2021-01-29T01:37:18Z"}, "body": "<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2602/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2601", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2601/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2601/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2601/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2601", "id": 792703764, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYwNTMyMjE3", "number": 2601, "title": "Add additional tests for icmp-i128. Fixes #1136.", "user": {"login": "kaseyc", "id": 2405952, "node_id": "MDQ6VXNlcjI0MDU5NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2405952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaseyc", "html_url": "https://github.com/kaseyc", "followers_url": "https://api.github.com/users/kaseyc/followers", "following_url": "https://api.github.com/users/kaseyc/following{/other_user}", "gists_url": "https://api.github.com/users/kaseyc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaseyc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaseyc/subscriptions", "organizations_url": "https://api.github.com/users/kaseyc/orgs", "repos_url": "https://api.github.com/users/kaseyc/repos", "events_url": "https://api.github.com/users/kaseyc/events{/privacy}", "received_events_url": "https://api.github.com/users/kaseyc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-01-24T02:15:13Z", "updated_at": "2021-01-25T22:05:29Z", "closed_at": "2021-01-25T22:04:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2601", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2601", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2601.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2601.patch", "merged_at": "2021-01-25T22:04:02Z"}, "body": "Tests added:\r\n  * eq with nonzero values\r\n  * gt with nonzero values\r\n  * ge with nonzero values\r\n\r\nThe b1 legalization issues referenced in the discussion of #1136 appear to be resolved.\r\n\r\ncloses #1136", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2601/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2600", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2600/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2600/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2600/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2600", "id": 792626432, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYwNDcyODU1", "number": 2600, "title": "Remove some uses of riscv in tests", "user": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-23T18:49:36Z", "updated_at": "2021-01-30T23:12:38Z", "closed_at": "2021-01-30T22:54:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2600", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2600", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2600.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2600.patch", "merged_at": "2021-01-30T22:54:49Z"}, "body": "<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2600/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2599", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2599/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2599/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2599/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2599", "id": 792402917, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYwMjkyNDY3", "number": 2599, "title": "bench-api: Allow access to files in the current directory", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-23T01:32:15Z", "updated_at": "2021-01-26T18:35:07Z", "closed_at": "2021-01-26T18:35:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2599", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2599", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2599.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2599.patch", "merged_at": "2021-01-26T18:35:03Z"}, "body": "And pass through the `WASM_BENCH_USE_SMALL_WORKLOAD` env var.\r\n\r\nPart of https://github.com/bytecodealliance/sightglass/issues/70\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2599/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2598", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2598/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2598/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2598/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2598", "id": 792093132, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYwMDM2NDMw", "number": 2598, "title": "Fix C API function name of setting max instances", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-22T15:26:01Z", "updated_at": "2021-01-22T15:55:32Z", "closed_at": "2021-01-22T15:55:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2598", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2598", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2598.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2598.patch", "merged_at": "2021-01-22T15:55:29Z"}, "body": "Forgot the trailing `_set` at the end...\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2598/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2598/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2597", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2597/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2597/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2597/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2597", "id": 792017566, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5OTc0NDc5", "number": 2597, "title": "Add support for the experimental wasi-crypto APIs", "user": {"login": "jedisct1", "id": 124872, "node_id": "MDQ6VXNlcjEyNDg3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/124872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jedisct1", "html_url": "https://github.com/jedisct1", "followers_url": "https://api.github.com/users/jedisct1/followers", "following_url": "https://api.github.com/users/jedisct1/following{/other_user}", "gists_url": "https://api.github.com/users/jedisct1/gists{/gist_id}", "starred_url": "https://api.github.com/users/jedisct1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jedisct1/subscriptions", "organizations_url": "https://api.github.com/users/jedisct1/orgs", "repos_url": "https://api.github.com/users/jedisct1/repos", "events_url": "https://api.github.com/users/jedisct1/events{/privacy}", "received_events_url": "https://api.github.com/users/jedisct1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-22T13:46:44Z", "updated_at": "2021-01-25T17:38:09Z", "closed_at": "2021-01-25T15:32:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2597", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2597", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2597.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2597.patch", "merged_at": "2021-01-25T15:32:58Z"}, "body": "Add support for the experimental wasi-crypto APIs.\r\n\r\nThis new PR imports only the wiggle/wasmtime integration bits into the `wasmtime` repository.\r\n\r\nThe purpose of the implementation is to allow bindings and application developers to test the proposed APIs. Rust and AssemblyScript bindings are also available as examples.\r\n\r\nLike `wasi-nn`, it is currently disabled by default, and requires the `wasi-crypto` feature flag to be compiled in.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2597/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2596", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2596/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2596/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2596/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2596", "id": 791464332, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5NTE5MjA4", "number": 2596, "title": "Refactor instantiation to be more async-friendly", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-21T20:19:53Z", "updated_at": "2021-01-21T21:04:21Z", "closed_at": "2021-01-21T21:04:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2596", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2596", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2596.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2596.patch", "merged_at": "2021-01-21T21:04:18Z"}, "body": "Instantiation right now uses a recursive `instantiate` function since it\r\nwas relatively easy to write that way, but this is unfortunately not\r\nfactored in a way friendly to the async implementation in #2434. This\r\ncommit refactors the function to instead use an iterative loop and\r\nrefactors code in such a way that it should be easy to rebase #2434 on\r\ntop of this change. The main goal is to make the body of `Instance::new`\r\nas small as possible since it needs to be duplicated with\r\n`Instance::new_async`.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2596/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2595", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2595/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2595/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2595/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2595", "id": 791358529, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5NDMxNTY4", "number": 2595, "title": "Implement Mach-O TLS access for x64 newBE", "user": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-21T17:34:56Z", "updated_at": "2021-01-21T18:18:24Z", "closed_at": "2021-01-21T18:09:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2595", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2595", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2595.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2595.patch", "merged_at": "2021-01-21T18:09:21Z"}, "body": "Required for switching cg_clif to x64 newBE. I have verified on CI that cg_clif passes all tests with this on macOS.\r\n\r\nr? @cfallin", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2595/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2594", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2594/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2594/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2594/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2594", "id": 791267935, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5MzU1Nzg5", "number": 2594, "title": "Update a number of dependencies", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1596429979, "node_id": "MDU6TGFiZWwxNTk2NDI5OTc5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/lightbeam", "name": "lightbeam", "color": "a1e226", "default": false, "description": "Issues related to the Lightbeam compiler"}, {"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 1907753255, "node_id": "MDU6TGFiZWwxOTA3NzUzMjU1", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:module", "name": "cranelift:module", "color": "ededed", "default": false, "description": null}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-21T16:04:23Z", "updated_at": "2021-09-09T15:13:21Z", "closed_at": "2021-01-21T21:49:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2594", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2594", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2594.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2594.patch", "merged_at": "2021-01-21T21:49:13Z"}, "body": "This commit goes through the dependencies that wasmtime has and updates\r\nversions where possible. This notably brings in a wasmparser/wast update\r\nwhich has some simd spec changes with new instructions. Otherwise most\r\nof these are just routine updates.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2594/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2593", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2593/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2593/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2593/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2593", "id": 791232740, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5MzI0ODI0", "number": 2593, "title": "Add an instance limit to `Config`", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-21T15:36:36Z", "updated_at": "2021-01-21T17:59:35Z", "closed_at": "2021-01-21T17:59:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2593", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2593", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2593.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2593.patch", "merged_at": "2021-01-21T17:59:31Z"}, "body": "This commit adds a new parameter to `Config` which limits the number of\r\ninstances that can be created within a store connected to that `Config`.\r\nThe intention here is to provide a default safeguard against\r\nmodule-linking modules that recursively create too many instances.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2593/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2593/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2592", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2592/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2592/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2592/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2592", "id": 791225656, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5MzE4NTIz", "number": 2592, "title": "cache: update zstd to 0.6, disable legacy feature", "user": {"login": "ordian", "id": 4211399, "node_id": "MDQ6VXNlcjQyMTEzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4211399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ordian", "html_url": "https://github.com/ordian", "followers_url": "https://api.github.com/users/ordian/followers", "following_url": "https://api.github.com/users/ordian/following{/other_user}", "gists_url": "https://api.github.com/users/ordian/gists{/gist_id}", "starred_url": "https://api.github.com/users/ordian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ordian/subscriptions", "organizations_url": "https://api.github.com/users/ordian/orgs", "repos_url": "https://api.github.com/users/ordian/repos", "events_url": "https://api.github.com/users/ordian/events{/privacy}", "received_events_url": "https://api.github.com/users/ordian/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-21T15:31:08Z", "updated_at": "2021-01-21T16:16:08Z", "closed_at": "2021-01-21T16:16:08Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2592", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2592", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2592.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2592.patch", "merged_at": "2021-01-21T16:16:08Z"}, "body": "* legacy feature of `zstd` is to support old compression formats `<zstd-0.8`\r\n* cargo doesn't allow linking of different version of native libraries, so w/o this patch a crate can't depends on both wasmtime and `zstd` 0.6", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2592/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2590", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2590/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2590/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2590/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2590", "id": 790187886, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU4NDE1MDA0", "number": 2590, "title": "module-linking: Implement outer module aliases", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-20T17:44:50Z", "updated_at": "2021-01-21T15:21:34Z", "closed_at": "2021-01-21T15:21:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2590", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2590", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2590.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2590.patch", "merged_at": "2021-01-21T15:21:31Z"}, "body": "This commit fully implements outer aliases of the module linking\r\nproposal. Outer aliases can now handle multiple-level-up aliases and now\r\nproperly also handle closed-over-values of modules that are either\r\nimported or defined.\r\n\r\nThe structure of `wasmtime::Module` was altered as part of this commit.\r\nIt is now a compiled module plus two lists of \"upvars\", or closed over\r\nvalues used when instantiating the module. One list of upvars is\r\ncompiled artifacts which are submodules that could be used. Another is\r\nmodule values that are injected via outer aliases. Serialization and\r\nsuch have been updated as appropriate to handle this.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2590/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2590/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2589", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2589/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2589/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2589/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2589", "id": 789244226, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU3NjE1MTY4", "number": 2589, "title": "Cranelift AArch64: Improve the Popcnt implementation", "user": {"login": "akirilov-arm", "id": 65777466, "node_id": "MDQ6VXNlcjY1Nzc3NDY2", "avatar_url": "https://avatars.githubusercontent.com/u/65777466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akirilov-arm", "html_url": "https://github.com/akirilov-arm", "followers_url": "https://api.github.com/users/akirilov-arm/followers", "following_url": "https://api.github.com/users/akirilov-arm/following{/other_user}", "gists_url": "https://api.github.com/users/akirilov-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/akirilov-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akirilov-arm/subscriptions", "organizations_url": "https://api.github.com/users/akirilov-arm/orgs", "repos_url": "https://api.github.com/users/akirilov-arm/repos", "events_url": "https://api.github.com/users/akirilov-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/akirilov-arm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-19T18:09:53Z", "updated_at": "2021-01-20T09:43:35Z", "closed_at": "2021-01-19T21:47:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2589", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2589", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2589.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2589.patch", "merged_at": "2021-01-19T21:47:42Z"}, "body": "Now the backend uses the Neon `CNT` instruction, which results into a major simplification.\r\n\r\nCloses #1537 (which also contains performance data).", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2589/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2588", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2588/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2588/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2588/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2588", "id": 789199670, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU3NTc3OTM3", "number": 2588, "title": "Bugfix of issue #2575", "user": {"login": "h4n0", "id": 4738254, "node_id": "MDQ6VXNlcjQ3MzgyNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4738254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h4n0", "html_url": "https://github.com/h4n0", "followers_url": "https://api.github.com/users/h4n0/followers", "following_url": "https://api.github.com/users/h4n0/following{/other_user}", "gists_url": "https://api.github.com/users/h4n0/gists{/gist_id}", "starred_url": "https://api.github.com/users/h4n0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h4n0/subscriptions", "organizations_url": "https://api.github.com/users/h4n0/orgs", "repos_url": "https://api.github.com/users/h4n0/repos", "events_url": "https://api.github.com/users/h4n0/events{/privacy}", "received_events_url": "https://api.github.com/users/h4n0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-19T17:06:21Z", "updated_at": "2021-01-19T19:04:19Z", "closed_at": "2021-01-19T19:04:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2588", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2588", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2588.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2588.patch", "merged_at": "2021-01-19T19:04:19Z"}, "body": "Bugfix of issue #2575.\r\n\r\nUse libc 0.2.82 on aarch64-apple-darwin Apple Silicon platform, and local test with MacBook M1 passes.\r\n\r\n\r\n- [x] This has been discussed in issue #2575 \r\n- [x] Added aarch64 support for macos ", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2588/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2588/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2585", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2585/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2585/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2585/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2585", "id": 786225512, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU1MTI2MzM1", "number": 2585, "title": "Update support for the module linking proposal", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1596429979, "node_id": "MDU6TGFiZWwxNTk2NDI5OTc5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/lightbeam", "name": "lightbeam", "color": "a1e226", "default": false, "description": "Issues related to the Lightbeam compiler"}, {"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}, {"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1900794583, "node_id": "MDU6TGFiZWwxOTAwNzk0NTgz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/fuzzing", "name": "fuzzing", "color": "45a3b2", "default": false, "description": "Issues related to our fuzzing infrastructure"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-14T18:41:49Z", "updated_at": "2021-09-09T15:15:05Z", "closed_at": "2021-01-14T23:48:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2585", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2585", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2585.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2585.patch", "merged_at": "2021-01-14T23:48:15Z"}, "body": "This commit updates the various tooling used by wasmtime which has new\r\nupdates to the module linking proposal. This is done primarily to sync\r\nwith WebAssembly/module-linking#26. The main change implemented here is\r\nthat wasmtime now supports creating instances from a set of values, nott\r\njust from instantiating a module. Additionally subtyping handling of\r\nmodules with respect to imports is now properly handled by desugaring\r\ntwo-level imports to imports of instances.\r\n\r\nA number of small refactorings are included here as well, but most of\r\nthem are in accordance with the changes to `wasmparser` and the updated\r\nbinary format for module linking.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2585/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2584", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2584/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2584/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2584/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2584", "id": 786154303, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU1MDY2OTg0", "number": 2584, "title": "Adjust `wasmtime_func_callback_*` type signature", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-14T16:58:03Z", "updated_at": "2021-09-09T15:13:17Z", "closed_at": "2021-01-14T17:48:06Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2584", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2584", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2584.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2584.patch", "merged_at": "2021-01-14T17:48:06Z"}, "body": "This aligns the C header with what we have in the crate itself, in\r\naddition to matching what's in `wasm.h`.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2584/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2581", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2581/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2581/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2581/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2581", "id": 785605529, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU0NjA2Mjg1", "number": 2581, "title": "Fix simd flt nan bug for #2432", "user": {"login": "jlb6740", "id": 45402135, "node_id": "MDQ6VXNlcjQ1NDAyMTM1", "avatar_url": "https://avatars.githubusercontent.com/u/45402135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlb6740", "html_url": "https://github.com/jlb6740", "followers_url": "https://api.github.com/users/jlb6740/followers", "following_url": "https://api.github.com/users/jlb6740/following{/other_user}", "gists_url": "https://api.github.com/users/jlb6740/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlb6740/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlb6740/subscriptions", "organizations_url": "https://api.github.com/users/jlb6740/orgs", "repos_url": "https://api.github.com/users/jlb6740/repos", "events_url": "https://api.github.com/users/jlb6740/events{/privacy}", "received_events_url": "https://api.github.com/users/jlb6740/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-01-14T02:47:00Z", "updated_at": "2021-01-14T18:47:06Z", "closed_at": "2021-01-14T03:44:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2581", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2581", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2581.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2581.patch", "merged_at": "2021-01-14T03:44:01Z"}, "body": "<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2581/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2579", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2579/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2579/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2579/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2579", "id": 785471669, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU0NDk1NDkx", "number": 2579, "title": "Update WebAssembly C API submodule to latest commit.", "user": {"login": "peterhuene", "id": 509666, "node_id": "MDQ6VXNlcjUwOTY2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/509666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhuene", "html_url": "https://github.com/peterhuene", "followers_url": "https://api.github.com/users/peterhuene/followers", "following_url": "https://api.github.com/users/peterhuene/following{/other_user}", "gists_url": "https://api.github.com/users/peterhuene/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhuene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhuene/subscriptions", "organizations_url": "https://api.github.com/users/peterhuene/orgs", "repos_url": "https://api.github.com/users/peterhuene/repos", "events_url": "https://api.github.com/users/peterhuene/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhuene/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-13T21:31:23Z", "updated_at": "2021-03-11T22:10:04Z", "closed_at": "2021-01-14T15:36:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2579", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2579", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2579.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2579.patch", "merged_at": "2021-01-14T15:36:13Z"}, "body": "This PR updates the WebAssembly C API submodule (for `wasm.h`) to the\r\nlatest commit out of master.\r\n\r\nThis fixes the behavior of `wasm_name_new_from_string` such that it no longer\r\ncopies the null character into the name, which caused unexpected failures when\r\nusing the Wasmtime linker as imports wouldn't resolve when the null was\r\npresent.\r\n\r\nAlong with this change were breaking changes to `wasm_func_call`, the host\r\ncallback signatures, and `wasm_instance_new` to take a vector type instead of a\r\npointer to an unsized array.\r\n\r\nAs a result, Wasmtime language bindings based on the C API will need to be\r\nupdated once this change is pulled in.\r\n\r\nFixes #2211.\r\nFixes #2131.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2579/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2577", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2577/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2577/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2577/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2577", "id": 784749711, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUzODg5NDEy", "number": 2577, "title": "wasi-c2 improvements", "user": {"login": "Ekleog", "id": 411447, "node_id": "MDQ6VXNlcjQxMTQ0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/411447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ekleog", "html_url": "https://github.com/Ekleog", "followers_url": "https://api.github.com/users/Ekleog/followers", "following_url": "https://api.github.com/users/Ekleog/following{/other_user}", "gists_url": "https://api.github.com/users/Ekleog/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ekleog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ekleog/subscriptions", "organizations_url": "https://api.github.com/users/Ekleog/orgs", "repos_url": "https://api.github.com/users/Ekleog/repos", "events_url": "https://api.github.com/users/Ekleog/events{/privacy}", "received_events_url": "https://api.github.com/users/Ekleog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-01-13T03:12:10Z", "updated_at": "2021-01-13T19:03:51Z", "closed_at": "2021-01-13T19:03:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2577", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2577", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2577.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2577.patch", "merged_at": "2021-01-13T19:03:51Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2577/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2577/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2576", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2576/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2576/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2576/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2576", "id": 784679963, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUzODMzMTI4", "number": 2576, "title": "x64 bugfix: prevent load-op fusion of cmp because it could be emitted multiple times.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-12T23:58:09Z", "updated_at": "2021-01-13T18:33:37Z", "closed_at": "2021-01-13T18:33:37Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2576", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2576", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2576.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2576.patch", "merged_at": "2021-01-13T18:33:37Z"}, "body": "On x64, the new backend generates `cmp` instructions at their use-sites\r\nwhen possible (when the icmp that generates a boolean is known) so that\r\nthe condition flows directly through flags rather than a materialized\r\nboolean. E.g., both `bint` (boolean to int) and `select` (conditional\r\nselect) instruction lowerings invoke `emit_cmp()` to do so.\r\n\r\nLoad-op fusion in `emit_cmp()` nominally allowed `cmp` to use its `cmp\r\nreg, mem` form.\r\n\r\nHowever, the mergeable-load condition (load has only single use) was not\r\nadequately checked. Consider the sequence:\r\n\r\n```\r\n    v2 = load.i64 v1\r\n    v3 = icmp eq v0, v2\r\n    v4 = bint.i64 v3\r\n    v5 = select.i64 v3, v0, v1\r\n```\r\n\r\nThe load `v2` is only used in the `icmp` at `v3`. However, the cmp will\r\nbe separately codegen'd twice, once for the `bint` and once for the\r\n`select`.\r\n\r\nPrior to this fix, the above example would result in the load at `v2`\r\nsinking to the `cmp` just above the `select`; we then emit another `cmp`\r\nfor the `bint`, but the load has already been used once so we do not\r\nallow merging. We thus (i) expect the register for `v2` to contain the\r\nloaded value, but (ii) skip the codegen for the load because it has been\r\nsunk. This results in a regalloc error (unexpected livein) as the\r\nunfilled register is upward-exposed to the entry point.\r\n\r\nBecause of this, we need to accept only the reg, reg form in\r\n`emit_cmp()` (and the FP equivalent). We could get marginally better\r\ncode by tracking whether the `cmp` we are emitting comes from an\r\n`icmp`/`fcmp` with only one use; but IMHO simplicity is a better rule\r\nhere when subtle interactions occur.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2576/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2576/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2574", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2574/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2574/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2574/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2574", "id": 784628040, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUzNzg5Nzc5", "number": 2574, "title": "wasmtime-bench-api: Randomize the locations of heap objects", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-12T22:06:55Z", "updated_at": "2021-01-13T17:35:52Z", "closed_at": "2021-01-13T17:35:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2574", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2574", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2574.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2574.patch", "merged_at": "2021-01-13T17:35:47Z"}, "body": "This helps us avoid measurement bias due to accidental locality of unrelated heap objects. See *Stabilizer: Statistically Sound Performance Evaluation* by Curtsinger and Berger for details (although Stabilizer deals with much more than just the location of heap allocations): https://people.cs.umass.edu/~emery/pubs/stabilizer-asplos13.pdf\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2574/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2570", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2570/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2570/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2570/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2570", "id": 783856173, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUzMTQ0ODQx", "number": 2570, "title": "wiggle: generate flags using `bitflags`", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-12T02:31:06Z", "updated_at": "2021-01-12T21:48:37Z", "closed_at": "2021-01-12T21:48:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2570", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2570", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2570.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2570.patch", "merged_at": "2021-01-12T21:48:36Z"}, "body": "Wiggle generated flags that were sorta kinda like the ones generated by `bitflags::bitflags!`. The biggest stumbling block is that, for whatever reason, `fn contains(&self, &Self) -> bool` took the rhs by reference instead of value, despite deriving `Copy`.\r\n\r\nFor API consistency with the rest of the ecosystem, and to throw away some code, implement Wiggle's flags code generation using `bitflags::bitflags!`.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2570/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2568", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2568/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2568/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2568/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2568", "id": 783611643, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUyOTQxOTc4", "number": 2568, "title": "Cargo.toml metadata for publishing", "user": {"login": "fitzgen", "id": 74571, "node_id": "MDQ6VXNlcjc0NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/74571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitzgen", "html_url": "https://github.com/fitzgen", "followers_url": "https://api.github.com/users/fitzgen/followers", "following_url": "https://api.github.com/users/fitzgen/following{/other_user}", "gists_url": "https://api.github.com/users/fitzgen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitzgen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitzgen/subscriptions", "organizations_url": "https://api.github.com/users/fitzgen/orgs", "repos_url": "https://api.github.com/users/fitzgen/repos", "events_url": "https://api.github.com/users/fitzgen/events{/privacy}", "received_events_url": "https://api.github.com/users/fitzgen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-11T18:48:19Z", "updated_at": "2021-01-11T19:21:52Z", "closed_at": "2021-01-11T19:21:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2568", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2568", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2568.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2568.patch", "merged_at": "2021-01-11T19:21:48Z"}, "body": "I had to update this stuff when making the latest release, and forgot to upstream it until now.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2568/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2565", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2565/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2565/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2565/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2565", "id": 782582623, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUyMTEyODYz", "number": 2565, "title": "Detailed debug-info (DWARF) support in new backends (initially x64).", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-01-09T10:54:22Z", "updated_at": "2021-01-23T01:22:18Z", "closed_at": "2021-01-23T01:22:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2565", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2565", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2565.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2565.patch", "merged_at": "2021-01-23T01:22:13Z"}, "body": "This PR propagates \"value labels\" all the way from CLIF to DWARF\r\nmetadata on the emitted machine code. The key idea is as follows:\r\n\r\n- Translate value-label metadata on the input into \"value_label\"\r\n  pseudo-instructions when lowering into VCode. These\r\n  pseudo-instructions take a register as input, denote a value label,\r\n  and semantically are like a \"move into value label\" -- i.e., they\r\n  update the current value (as seen by debugging tools) of the given\r\n  local. These pseudo-instructions emit no machine code.\r\n\r\n- Perform a dataflow analysis *at the machine-code level*, tracking\r\n  value-labels that propagate into registers and into [SP+constant]\r\n  stack storage. This is a forward dataflow fixpoint analysis where each\r\n  storage location can contain a *set* of value labels, and each value\r\n  label can reside in a *set* of storage locations. (Meet function is\r\n  pairwise intersection by storage location.)\r\n\r\n  This analysis traces value labels symbolically through loads and\r\n  stores and reg-to-reg moves, so it will naturally handle spills and\r\n  reloads without knowing anything special about them.\r\n\r\n- When this analysis converges, we have, at each machine-code offset, a\r\n  mapping from value labels to some number of storage locations; for\r\n  each offset for each label, we choose the best location (prefer\r\n  registers). Note that we can choose any location, as the symbolic\r\n  dataflow analysis is sound and guarantees that the value at the\r\n  value_label instruction propagates to all of the named locations.\r\n\r\n- Then we can convert this mapping into a format that the DWARF\r\n  generation code (wasmtime's debug crate) can use.\r\n\r\nThis PR also adds the new-backend variant to the gdb tests on CI.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2565/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2565/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2564", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2564/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2564/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2564/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2564", "id": 782484772, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUyMDMzMTU4", "number": 2564, "title": "machinst lowering: update inst color when scanning across branch to allow more load-op merging.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-09T01:32:33Z", "updated_at": "2021-01-11T20:06:30Z", "closed_at": "2021-01-11T20:06:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2564", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2564", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2564.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2564.patch", "merged_at": "2021-01-11T20:06:30Z"}, "body": "A branch is considered side-effecting and so updates the instruction\r\ncolor (which is our way of computing how far instructions can sink).\r\nHowever, in the lowering loop, we did not update current instruction\r\ncolor when scanning backward across branches, which are side-effecting.\r\nAs a result, the color was stale and fewer load-op merges were permitted\r\nthan are actually possible.\r\n\r\nNote that this would not have resulted in any correctness issues, as the\r\nstale color is too high (so no merges are permitted that should have\r\nbeen disallowed).\r\n\r\nFixes #2562.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2564/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2563", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2563/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2563/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2563/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2563", "id": 782476054, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUyMDI2NTAz", "number": 2563, "title": "fix: `dst` should be `Writable`, not `ValueRegs`", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-09T00:50:33Z", "updated_at": "2021-01-09T01:32:26Z", "closed_at": "2021-01-09T01:31:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2563", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2563", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2563.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2563.patch", "merged_at": "2021-01-09T01:31:39Z"}, "body": "<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2563/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2559", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2559/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2559/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2559/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2559", "id": 782030189, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUxNjU5ODE3", "number": 2559, "title": "wasm->CLIF: fn translate_operator: Select/TypedSelect: add missing bi\u2026", "user": {"login": "julian-seward1", "id": 17145426, "node_id": "MDQ6VXNlcjE3MTQ1NDI2", "avatar_url": "https://avatars.githubusercontent.com/u/17145426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/julian-seward1", "html_url": "https://github.com/julian-seward1", "followers_url": "https://api.github.com/users/julian-seward1/followers", "following_url": "https://api.github.com/users/julian-seward1/following{/other_user}", "gists_url": "https://api.github.com/users/julian-seward1/gists{/gist_id}", "starred_url": "https://api.github.com/users/julian-seward1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/julian-seward1/subscriptions", "organizations_url": "https://api.github.com/users/julian-seward1/orgs", "repos_url": "https://api.github.com/users/julian-seward1/repos", "events_url": "https://api.github.com/users/julian-seward1/events{/privacy}", "received_events_url": "https://api.github.com/users/julian-seward1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-08T10:51:08Z", "updated_at": "2021-01-11T10:59:06Z", "closed_at": "2021-01-11T10:59:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2559", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2559", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2559.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2559.patch", "merged_at": "2021-01-11T10:59:06Z"}, "body": "\u2026tcasts\r\n\r\nThe translation of Operator::Select and Operator::TypedSelect for vector-typed\r\noperands, lacks the relevant bitcasting of the operands to I8X16.  This commit\r\nadds it.\r\n\r\n<!--\r\n\r\nPlease ensure that the following steps are all taken care of before submitting\r\nthe PR.\r\n\r\n- [ ] This has been discussed in issue #..., or if not, please tell us why\r\n  here.\r\n- [ ] A short description of what this does, why it is needed; if the\r\n  description becomes long, the matter should probably be discussed in an issue\r\n  first.\r\n- [ ] This PR contains test cases, if meaningful.\r\n- [ ] A reviewer from the core maintainer team has been assigned for this PR.\r\n  If you don't know who could review this, please indicate so. The list of\r\n  suggested reviewers on the right can help you.\r\n\r\nPlease ensure all communication adheres to the [code of\r\nconduct](https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md).\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2559/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2559/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2558", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2558/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2558/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2558/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2558", "id": 781875650, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUxNTMxMDQz", "number": 2558, "title": "x64: support PC-rel symbol references using the GOT when in PIC mode.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-08T06:14:04Z", "updated_at": "2021-01-08T18:03:10Z", "closed_at": "2021-01-08T18:03:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2558", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2558", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2558.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2558.patch", "merged_at": "2021-01-08T18:03:10Z"}, "body": "The new x64 backend, up till now, was generating references to non-colocated symbols using `Abs8` relocations (i.e., place the absolute 64-bit address in a 64-bit immediate to an instruction).\r\n\r\nThis works fine on Linux/x86-64, even in `.so`s as generated by Lucet, but is not actually what we want to do when the `is_pic` flag is set. macOS is more strict and fails to link object files generated with these `Abs8` relocations. Instead, we need to use the GOT (global offset table).\r\n\r\nThis PR changes the lowering of `func_addr`/`symbol_addr`/`call` with non-colocated symbols to use a PC-relative load from the GOT instead, and emits the special GOTPCRel4 relocation type. This is equivalent to (in `gas` syntax) a `movq symbol@GOTPCREL(%rip), %dest` instruction.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2558/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2556", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2556/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2556/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2556/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2556", "id": 781610396, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUxMzAzMDYw", "number": 2556, "title": "[Cranelift][Atomics] Add address folding for atomic notify/wait.", "user": {"login": "yurydelendik", "id": 1523410, "node_id": "MDQ6VXNlcjE1MjM0MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1523410?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yurydelendik", "html_url": "https://github.com/yurydelendik", "followers_url": "https://api.github.com/users/yurydelendik/followers", "following_url": "https://api.github.com/users/yurydelendik/following{/other_user}", "gists_url": "https://api.github.com/users/yurydelendik/gists{/gist_id}", "starred_url": "https://api.github.com/users/yurydelendik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yurydelendik/subscriptions", "organizations_url": "https://api.github.com/users/yurydelendik/orgs", "repos_url": "https://api.github.com/users/yurydelendik/repos", "events_url": "https://api.github.com/users/yurydelendik/events{/privacy}", "received_events_url": "https://api.github.com/users/yurydelendik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877969123, "node_id": "MDU6TGFiZWwxODc3OTY5MTIz", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:goal:spidermonkey", "name": "cranelift:goal:spidermonkey", "color": "c2e0c6", "default": false, "description": "Focus area: Support for using Cranelift in SpiderMonkey!"}, {"id": 1907753318, "node_id": "MDU6TGFiZWwxOTA3NzUzMzE4", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:wasm", "name": "cranelift:wasm", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-07T21:07:50Z", "updated_at": "2021-01-12T21:08:57Z", "closed_at": "2021-01-08T17:55:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2556", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2556", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2556.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2556.patch", "merged_at": "2021-01-08T17:55:21Z"}, "body": "Related isseue https://bugzilla.mozilla.org/show_bug.cgi?id=1684861\r\n\r\nThere are two parts:\r\n- cranelift/wasm/src/code_translator.rs the logic required for SM to work properly\r\n- rest of it is testing of the broken logic\r\n\r\nI don't think it is necessary to check alignment in the `fold_atomic_mem_addr` though it is the only way at this moment to verify/test fix in the wasmtime.\r\n\r\nDoes it make sense for `wasmtime_memory_atomic_` to operate with 64-bit address instead of 32-bit one? But that's different question we have to address.\r\n\r\nTODO:\r\n - [x] check for i32 address overflow?", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2556/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2541", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2541/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2541/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2541/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2541", "id": 777854548, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ4MDQ1NzEw", "number": 2541, "title": "x64 and aarch64: allow StructArgument and StructReturn args.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-04T06:30:15Z", "updated_at": "2021-01-18T07:50:28Z", "closed_at": "2021-01-18T07:50:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2541", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2541", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2541.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2541.patch", "merged_at": "2021-01-18T07:50:20Z"}, "body": "This PR depends on #2538 and #2539 and includes those commits.\r\n\r\nThe StructReturn ABI is fairly simple at the codegen/isel level: we only\r\nneed to take care to return the sret pointer as one of the return values\r\nif that wasn't specified in the initial function signature.\r\n\r\nStruct arguments are a little more complex. A struct argument is stored\r\nas a chunk of memory in the stack-args space. However, the CLIF\r\nsemantics are slightly special: on the caller side, the parameter passed\r\nin is a pointer to an arbitrary memory block, and we must memcpy this\r\ndata to the on-stack struct-argument; and on the callee side, we provide\r\na pointer to the passed-in struct-argument as the CLIF block param\r\nvalue.\r\n\r\nThis is necessary to support various ABIs other than Wasm, such as that\r\nof Rust (with the cg_clif codegen backend).\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2541/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2541/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2540", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2540/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2540/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2540/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2540", "id": 777850003, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ4MDQxNzUz", "number": 2540, "title": "Add ELF TLS support in new x64 backend.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-04T06:21:26Z", "updated_at": "2021-01-18T07:26:08Z", "closed_at": "2021-01-18T07:25:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2540", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2540", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2540.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2540.patch", "merged_at": "2021-01-18T07:25:59Z"}, "body": "Depends on #2538 and includes that commit in this PR.\r\n\r\nThis follows the implementation in the legacy x86 backend, including\r\nhardcoded sequence that is compatible with what the linker expects. We\r\ncould potentially do better here, but it is likely not necessary.\r\n\r\nThanks to @bjorn3 for a bugfix to an earlier version of this.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2540/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2539", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2539/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2539/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2539/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2539", "id": 777843582, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ4MDM2MTEy", "number": 2539, "title": "Support for I128 operations in x64 backend.", "user": {"login": "cfallin", "id": 216148, "node_id": "MDQ6VXNlcjIxNjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/216148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfallin", "html_url": "https://github.com/cfallin", "followers_url": "https://api.github.com/users/cfallin/followers", "following_url": "https://api.github.com/users/cfallin/following{/other_user}", "gists_url": "https://api.github.com/users/cfallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfallin/subscriptions", "organizations_url": "https://api.github.com/users/cfallin/orgs", "repos_url": "https://api.github.com/users/cfallin/repos", "events_url": "https://api.github.com/users/cfallin/events{/privacy}", "received_events_url": "https://api.github.com/users/cfallin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 1877973890, "node_id": "MDU6TGFiZWwxODc3OTczODkw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:machinst", "name": "cranelift:area:machinst", "color": "AB0FAC", "default": false, "description": "Issues related to instruction selection and the new MachInst backend."}, {"id": 1994488670, "node_id": "MDU6TGFiZWwxOTk0NDg4Njcw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:aarch64", "name": "cranelift:area:aarch64", "color": "fbca04", "default": false, "description": "Issues related to AArch64 backend."}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-04T06:08:26Z", "updated_at": "2021-01-14T22:48:45Z", "closed_at": "2021-01-14T22:45:04Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2539", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2539", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2539.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2539.patch", "merged_at": "2021-01-14T22:45:04Z"}, "body": "This PR is a followup to #2538 and is dependent on it.\r\n\r\nx64 backend: implement 128-bit ops and misc fixes.\r\n\r\nThis implements all of the ops on I128 that are implemented by the\r\nlegacy x86 backend, and includes all that are required by at least one\r\nmajor use-case (cg_clif rustc backend).\r\n\r\nThe sequences are open-coded where necessary; for e.g. the bit\r\noperations, this can be somewhat complex, but these sequences have been\r\ntested carefully. This PR also includes a drive-by fix of clz/ctz for 8-\r\nand 16-bit cases where they were incorrect previously.\r\n\r\nAlso includes ridealong fixes developed while bringing up cg_clif\r\nsupport, because they are difficult to completely separate due to\r\nother refactors that occurred in this PR:\r\n\r\n- fix REX prefix logic for some 8-bit instructions.\r\n\r\n  When using an 8-bit register in 64-bit mode on x86-64, the REX prefix\r\n  semantics are somewhat subtle: without the REX prefix, register numbers\r\n  4--7 correspond to the second-to-lowest byte of the first four registers\r\n  (AH, CH, BH, DH), whereas with the REX prefix, these register numbers\r\n  correspond to the usual encoding (SPL, BPL, SIL, DIL). We could always\r\n  emit a REX byte for instructions with 8-bit cases (this is harmless even\r\n  if unneeded), but this would unnecessarily inflate code size; instead,\r\n  the usual approach is to emit it only for these registers.\r\n\r\n  This logic was present in some cases but missing for some other\r\n  instructions: divide, not, negate, shifts.\r\n\r\n  Fixes #2508.\r\n\r\n- avoid unaligned SSE loads on some f64 ops.\r\n\r\n  The implementations of several FP ops, such as fabs/fneg, used SSE\r\n  instructions. This is not a problem per-se, except that load-op merging\r\n  did not take *alignment* into account. Specifically, if an op on an f64\r\n  loaded from memory happened to merge that load, and the instruction into\r\n  which it was merged was an SSE instruction, then the SSE instruction\r\n  imposes stricter (128-bit) alignment requirements than the load.f64 did.\r\n\r\n  This PR simply forces any instruction lowerings that could use SSE\r\n  instructions to implement non-SIMD operations to take inputs in\r\n  registers only, and avoid load-op merging.\r\n\r\n  Fixes #2507.\r\n\r\n- two bugfixes exposed by cg_clif: urem/srem.i8, select.b1.\r\n\r\n  - urem/srem.i8: the 8-bit form of the DIV instruction on x86-64 places\r\n    the remainder in AH, not RDX, different from all the other width-forms\r\n    of this instruction.\r\n\r\n  - select.b1: we were not recognizing selects of boolean values as\r\n    integer-typed operations, so we were generating XMM moves instead (!).", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2539/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2528", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2528/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2528/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2528/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2528", "id": 771485572, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQyOTk5MDM0", "number": 2528, "title": "Add safe Memory::read and Memory::write methods", "user": {"login": "theduke", "id": 241621, "node_id": "MDQ6VXNlcjI0MTYyMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/241621?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theduke", "html_url": "https://github.com/theduke", "followers_url": "https://api.github.com/users/theduke/followers", "following_url": "https://api.github.com/users/theduke/following{/other_user}", "gists_url": "https://api.github.com/users/theduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/theduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theduke/subscriptions", "organizations_url": "https://api.github.com/users/theduke/orgs", "repos_url": "https://api.github.com/users/theduke/repos", "events_url": "https://api.github.com/users/theduke/events{/privacy}", "received_events_url": "https://api.github.com/users/theduke/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-12-20T00:49:34Z", "updated_at": "2021-01-27T02:08:39Z", "closed_at": "2021-01-26T15:09:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2528", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2528", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2528.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2528.patch", "merged_at": "2021-01-26T15:09:20Z"}, "body": "Introduce `Memory::read` and `Memory::write` methods for accessing memory contents safely.\r\n\r\nAlso adds a test and mentions the  the new methods in the `Memory` docs.\r\n\r\nFixes #2484.\r\n\r\nCurrently most fallible methods use `anyhow::Error`. \r\nI have instead added a new `MemoryError`, since recovering from such errors is possible and it's more expressive.\r\n(future proofed with `#[non_exhaustive]`).\r\n\r\nCould to change it to a `anyhow::Error` if that's the preferred strategy (or wrap the MemoryError with anyhow).\r\n\r\nI also already added a `MemoryError::Locked` variant, which is not required yet, but apparently will be once threading support lands. Happy to remove it or slap on a `#[doc(hidden)]` to prevent confusion.\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2528/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2528/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2489", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2489/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2489/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2489/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2489", "id": 759607064, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM0NTgyOTMx", "number": 2489, "title": "[machinst x64]: implement load*_zero for x64", "user": {"login": "abrown", "id": 541880, "node_id": "MDQ6VXNlcjU0MTg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/541880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrown", "html_url": "https://github.com/abrown", "followers_url": "https://api.github.com/users/abrown/followers", "following_url": "https://api.github.com/users/abrown/following{/other_user}", "gists_url": "https://api.github.com/users/abrown/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrown/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrown/subscriptions", "organizations_url": "https://api.github.com/users/abrown/orgs", "repos_url": "https://api.github.com/users/abrown/repos", "events_url": "https://api.github.com/users/abrown/events{/privacy}", "received_events_url": "https://api.github.com/users/abrown/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1877824860, "node_id": "MDU6TGFiZWwxODc3ODI0ODYw", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift", "name": "cranelift", "color": "f9d0c4", "default": false, "description": "Issues related to the Cranelift code generator"}, {"id": 2061886492, "node_id": "MDU6TGFiZWwyMDYxODg2NDky", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/cranelift:area:x64", "name": "cranelift:area:x64", "color": "fbca04", "default": false, "description": "Issues related to x64 codegen"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-12-08T16:51:13Z", "updated_at": "2021-01-09T00:41:13Z", "closed_at": "2021-01-09T00:21:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2489", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2489", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2489.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2489.patch", "merged_at": "2021-01-09T00:21:58Z"}, "body": "Like #2480, this should not be merged until #2432 is resolved and x64 Wasm SIMD spec tests are turned back on. The `simd_load_zero.wast` test is now in-tree since #2481 but will have to be enabled in the `build.rs` file.", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2489/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2489/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2487", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2487/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2487/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2487/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2487", "id": 758976090, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM0MDUwNzQ5", "number": 2487, "title": "rewrite wasi-common in terms of cap-std", "user": {"login": "pchickey", "id": 118618, "node_id": "MDQ6VXNlcjExODYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/118618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchickey", "html_url": "https://github.com/pchickey", "followers_url": "https://api.github.com/users/pchickey/followers", "following_url": "https://api.github.com/users/pchickey/following{/other_user}", "gists_url": "https://api.github.com/users/pchickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchickey/subscriptions", "organizations_url": "https://api.github.com/users/pchickey/orgs", "repos_url": "https://api.github.com/users/pchickey/repos", "events_url": "https://api.github.com/users/pchickey/events{/privacy}", "received_events_url": "https://api.github.com/users/pchickey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1843568109, "node_id": "MDU6TGFiZWwxODQzNTY4MTA5", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:c-api", "name": "wasmtime:c-api", "color": "006b75", "default": false, "description": "Issues pertaining to the C API."}, {"id": 1903464656, "node_id": "MDU6TGFiZWwxOTAzNDY0NjU2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasi", "name": "wasi", "color": "7c5fce", "default": false, "description": "Issues pertaining to WASI"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-08T01:12:54Z", "updated_at": "2021-02-05T02:02:47Z", "closed_at": "2021-02-05T02:02:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2487", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2487", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2487.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2487.patch", "merged_at": "2021-02-05T02:02:45Z"}, "body": "This PR is a complete rewrite of the `wasi-common` crate. It uses @sunfishcode 's new `cap-std` family of crates to provide a sandboxed implementation of WASI on the local filesystem.\r\n\r\nNote that this is a breaking change for all users of WASI with Wasmtime, except for the C API.\r\n\r\n# Re-architecting `wasi-common`\r\n\r\nOver the past year or so, we've run up against many design problems in `wasi-common`. Many of these problems ended up being so fundamental that a rewrite, as prolonged as it was, ended up being more tractable than incremental changes.\r\n\r\n## The `Table`\r\n\r\n`wasi-common` now has a `Table` type that is designed to map u32 handles to resources. The table is now part of the public interface to a `WasiCtx` - it is reference counted so that it can be shared beyond a `WasiCtx` with other WASI proposals (e.g. `wasi-crypto` and `wasi-nn`) to manage their resources. Elements in the `Table` are `Any` typed.\r\n\r\nThe `Table` type is intended to model how the Interface Types concept of Resources is shaping up. Right now it is just an approximation.\r\n\r\n## The `WasiFile` and `WasiDir` traits\r\n\r\nThe WASI specification only defines one `handle` type, `fd`, on which all operations on both files and directories (aka dirfds) are defined. We believe this is a design mistake, and are architecting wasi-common to make this straightforward to correct in future snapshots of WASI. Wasi-common internally treats files and directories as two distinct resource types in the table - `Box<dyn WasiFile>` and `Box<dyn WasiDir>`. The snapshot 0 and 1 interfaces via `fd` will attempt to downcast a table element to one or both of these interfaces depending on what is appropriate - e.g. `fd_close` operates on both files and directories, `fd_read` only operates on files, and `fd_readdir` only operates on directories.\r\n\r\nThe `WasiFile` and `WasiDir` traits are defined by `wasi-common` in terms of types defined directly in the crate's source code (I decided it should NOT those generated by the `wiggle` proc macros, see snapshot architecture below), as well as the `cap_std::time` family of types. And, importantly, `wasi-common` itself provides no implementation of `WasiDir`, and only two trivial implementations of `WasiFile` on the `crate::pipe::{ReadPipe, WritePipe}` types, which in turn just delegate to `std::io::{Read, Write}`. In order for `wasi-common` to access the local filesystem at all, you need to provide `WasiFile` and `WasiDir` impls through either the new `wasi-cap-std-sync` crate found at `crates/wasi-common/cap-std-sync` - see the section on that crate below - or by providing your own implementation from elsewhere.\r\n\r\nThis design makes it possible for `wasi-common` embedders to statically reason about access to the local filesystem by examining what impls are linked into an application. We found that this separation of concerns also makes it pretty enjoyable to write alternative implementations, e.g. a virtual filesystem (which will land in a future PR).\r\n\r\n## Traits for the rest of WASI's features\r\n\r\nOther aspects of a WASI implementation are not yet considered resources and accessed by `handle`. We plan to correct this design deficiency in WASI in the future, but for now we have designed the following traits to provide embedders with the same sort of implementation flexibility they get with WasiFile/WasiDir:\r\n\r\n* Timekeeping: `clocks::WasiSystemClock` and `clock::WasiMonotonicClock` provide the two interfaces for a clock. `WasiSystemClock` represents time as a `cap_std::time::SystemTime`, and `WasiMonotonicClock` represents time as `cap_std::time::Instant`.\r\n* Randomness: we re-use the `cap_rand::RngCore` trait to represent a randomness source. A trivial `Deterministic` impl is provided.\r\n* Scheduling: The `WasiSched` trait abstracts over the `sched_yield` and `poll_oneoff` functions.\r\n\r\nUsers can provide implementations of each of these interfaces to the `WasiCtx::builder(...)` function. The `wasi_cap_std_sync::WasiCtxBuilder::new()` function uses this public interface to plug in its own implementations of each of these resources.\r\n\r\n## Snapshot architecture\r\n\r\nOne goal we've had for a while, but not quite met, is for multiple WASI snapshots to provide an interface to the same underlying `WasiCtx`. This provides us a path to evolve WASI by allowing the same WASI Command to import functions from different snapshots - e.g. the user could use Rust's `std` which imports snapshot 1, but also depend directly on the `wasi` crate which imports some future snapshot 2. Right now, this amounts to supporting snapshot 1 and \"snapshot 0\" aka wasi_unstable at once.\r\n\r\nThe architectural rules for snapshots are:\r\n\r\n* Snapshots are arranged into modules under `crate::snapshots::`.\r\n* Each snapshot should invoke `wiggle::from_witx!` with `ctx: crate::WasiCtx` in its module, and impl all of the required traits.\r\n* Snapshots can be implemented in terms of other snapshots. For example, snapshot 0 is mostly implemented by calling the snapshot 1 implementation, and converting its own types back and forth with the snapshot 1 types. In a few cases, that is not feasible, so snapshot 0 carries its own implementations in terms of the `WasiFile` and `WasiSched` traits.\r\n* Snapshots can be implemented in terms of the `Wasi*` traits given by `WasiCtx`. No further downcasting via the `as_any` escape hatch is permitted.\r\n\r\n## The `wasi_common::Error` type\r\n\r\n`wasi_common::Error` is now `anyhow::Error`. `wasi_common::snapshots::preview_1` contains all of the logic for transforming an `Error` into an `Errno`, by downcasting the error into any of\r\n* `std::io::Error` - these are thrown by `std`, `cap_std`, etc for most of the operations WASI is concerned with.\r\n* `wasi_common::ErrorKind` - these are a subset of the Errnos, and are constructed directly by wasi-common or an impl rather than coming from the OS or some library which doesn't know about WASI.\r\n* `wiggle::GuestError`\r\n* `std::num::TryFromIntError`\r\n* `std::str::Utf8Error`\r\nand then applying specialized logic to translate each of those into `Errno`s.\r\n\r\nThe `wasi_common::ErrorExt` trait provides human-friendly constructors for the `wasi_common::ErrorKind` variants .\r\n\r\nIf you throw an error that does not downcast to one of those, it will turn into a `wiggle::Trap` and terminate execution.\r\n\r\nThe real value of using `anyhow::Error` here is being able to use `anyhow::Result::context` to aid in debugging of errors.\r\n\r\n## The `wasi-cap-std-sync` implementation of the WASI traits\r\n\r\nThe `wasi-cap-std-sync` crate provides impl of `WasiFile` and `WasiDir` in terms of `cap_std::fs::{File, Dir}`. These types provide sandboxed access to the local filesystem on both Unix and Windows.\r\n\r\nThe entire design story of `cap-std` is much bigger than we can address here, but in short, its functionality replaces all of the `wasi_common::sys` hierarchy, as well as the `yanix` / `winx` crates. All syscalls are hidden behind the `cap-std` hierarchy, with the lone exception of the `sched` implementation, which is provided for both unix and windows in separate modules. \r\n\r\nAny `wasi_common::{WasiCtx, WasiCtxBuilder}` is interoperable with the `wasi-cap-std-sync` crate. However, for convenience, `wasi-cap-std-sync` provides its own `WasiCtxBuilder` that hooks up to all of the crate's components, i.e. it fills in all of the arguments to `WasiCtx::builder(...)`, presents `preopen_dir` in terms of `cap_std::fs::Dir`, and provides convenience methods for inheriting the parent process's stdio, args, and env.\r\n\r\nThe only place we expect to run into long-term compatibility issues between `wasi-cap-std-sync` and the other impl crates that will come later is in the `Sched` abstraction. Once we can build an async scheduler based on Rust `Future`s, async impls will be able to interoperate, but the synchronous scheduler depends on downcasting the `WasiFile` type down to concrete types it knows about (which in turn impl `AsRawFd` for passing to unix `poll`, or the analogous traits on windows).\r\n\r\nWhy is this impl suffixed with `-sync`? https://github.com/bytecodealliance/wasmtime/pull/2434 async is coming soon! The async impl may end up depending on tokio or other relatively heavy deps, so we will retain a sync implementation so that wasi-common users have an option of not pulling in an async runtime.\r\n\r\n# Improving the WASI test suite\r\n\r\nThe bulk of `wasi-common`'s test suite lives at `crates/test-programs`. This test suite was extremely useful for guiding this rewrite. We improved the test suite in numerous ways, including\r\n* Breaking tests out into smaller units, so that failing behavior can be isolated more easily\r\n* Introducing a scheme which allows the test runner to describe to the wasm code what behaviors to expect of the embedding. Behaviors which vary between platforms (e.g. `fd_allcoate` is impossible to faithfully implement on Windows and is not provided by MacOS) are communicated to the guest by environment variables, which in turn is available in the guest behind the global `TESTCONFIG` struct.\r\n* Introducing the `assert_errno!` macro, which pretty-prints errnos by name rather than number in the error message. `assert_errno!` integrates with `TESTCONFIG` to specify which errno is expected on which platform. This allows the test source to describe the full set of acceptable errnos a call may return (all possible errnos will be acceptable if no `ERRNO_MODE_*` env var is set), and also detect regressions on any given platform.\r\n* We still use `crates/test-platforms/build.rs` to generate the test suite, and use functions directly in `build.rs` to describe the `TESTCONFIG` expectations, as well as which tests are to be ignored (expected to fail due to regressions) on what platforms.\r\n* The test suite has been generalized to support multiple backends to the `wasi-common` crate. This PR will only land with support for testing `wasi-cap-std-sync`, but it will be easy to add more runtimes under `tests/wasm_tests/runtime/` as more impls are created, with a minimum of boilerplate in `build.rs`.\r\n\r\n# Changes to `wiggle-wasmtime` and dependents\r\n\r\nYou used to pass a `WasiCtx` (or whatever ctx type) directly to the `Wasi` struct generated by `wiggle-wasmtime`, and the generated code would wrap the ctx into a `Rc<RefCell<ctx>>`. This got in the way of supporting multiple snapshots simultaneously, so now callers of the generated code have to pass in an `Rc<RefCell<ctx>>`.\r\n\r\nI made mechanical changes to `wasi-nn` (cc @abrown) and `wasi-crypto` (cc @jedisct1) to accommodate these changes. This was of particular help to the `wasi-crypto` code - I was able to erase an entire Rc<> indirection by getting wiggle out of our way. Sorry that I did not take the time to break this out into a standalone PR. \r\n\r\n# Changes to `wasmtime-wasi`\r\n\r\n`wasmtime-wasi` now supports using multiple snapshots to interface to the same `WasiCtx`!\r\n\r\n* `wasmtime_wasi::Wasi::new(&Store, WasiCtx)` is now a struct which owns your `WasiCtx` and provides linkage to every available snapshot.\r\n* Individual snapshots are available through `wasmtime_wasi::snapshots::preview_{0, 1}::Wasi::new(&Store, Rc<RefCell<WasiCtx>>)`.\r\n\r\nEveryone should use `wasmtime_wasi::Wasi` unless you have a really good reason not to. The C API is the only spot that I didn't port to use this.\r\n\r\n# Regressions\r\n\r\nSome behavior around trailing slashes in paths has changed from the test suite. We expect there are some improvements we'll make to these corner cases after this PR lands.\r\n\r\nFor now, the `path_rename_file_trailing_slashes` and `remove_directory_trailing_slashes` tests are `#[ignore]`'d on all platforms, and additionally the `interesting_paths` test is ignored on Windows.\r\n\r\nAdditionally, some behavior around the `FdFlags::{SYNC, DSYNC, RSYNC}` flags have changed. For now, cap-std does not support opening a file with these flags. Using these flags will result in an `Errno::NOTSUP` (Not supported).\r\n\r\n# Outstanding issues required to merge this PR:\r\n* [x] Metadata not associated with open file panics on windows: https://github.com/bytecodealliance/cap-std/issues/142\r\n* [x] `DirExt::delete_file_or_symlink` for `symlink_create` test to pass on Windows\r\n* [x] Yeet the virtfs into a separate PR\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2487/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 3, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2487/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2017", "repository_url": "https://api.github.com/repos/bytecodealliance/wasmtime", "labels_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2017/labels{/name}", "comments_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2017/comments", "events_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2017/events", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2017", "id": 656651413, "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ4OTEyMzIz", "number": 2017, "title": "Fix a memory leak with command modules", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1785771916, "node_id": "MDU6TGFiZWwxNzg1NzcxOTE2", "url": "https://api.github.com/repos/bytecodealliance/wasmtime/labels/wasmtime:api", "name": "wasmtime:api", "color": "006b75", "default": false, "description": "Related to the API of the `wasmtime` crate itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-14T14:20:51Z", "updated_at": "2021-02-01T19:04:31Z", "closed_at": "2021-02-01T19:04:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/pulls/2017", "html_url": "https://github.com/bytecodealliance/wasmtime/pull/2017", "diff_url": "https://github.com/bytecodealliance/wasmtime/pull/2017.diff", "patch_url": "https://github.com/bytecodealliance/wasmtime/pull/2017.patch", "merged_at": "2021-02-01T19:04:28Z"}, "body": "This commit fixes a memory leak that can happen with `Linker::module`\r\nwhen the provided module is a command. This function creates a closure\r\nbut the closure closed over a strong reference to `Store` (and\r\ntransitively through any imports provided). Unfortunately a `Store`\r\nkeeps everything alive, including `Func`, so this meant that `Store` was\r\ninserted into a cycle which caused the leak.\r\n\r\n\r\nThe cycle here is manually broken by closing over the raw value of each\r\nexternal value rather than the external value itself (which has a\r\nstrong reference to `Store`).\r\n", "reactions": {"url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2017/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/bytecodealliance/wasmtime/issues/2017/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]