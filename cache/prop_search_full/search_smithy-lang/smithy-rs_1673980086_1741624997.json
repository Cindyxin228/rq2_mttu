[{"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4043", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4043/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4043/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4043/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4043", "id": 2907716689, "node_id": "PR_kwDOElwhj86OBLcy", "number": 4043, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-03-10T15:48:44Z", "updated_at": "2025-03-10T16:26:23Z", "closed_at": "2025-03-10T16:26:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4043", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4043", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4043.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4043.patch", "merged_at": "2025-03-10T16:26:20Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4043/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4041", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4041/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4041/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4041/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4041", "id": 2895093891, "node_id": "PR_kwDOElwhj86NWy_g", "number": 4041, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-03-04T18:26:03Z", "updated_at": "2025-03-04T21:11:24Z", "closed_at": "2025-03-04T21:11:23Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4041", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4041", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4041.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4041.patch", "merged_at": "2025-03-04T21:11:23Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4041/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4040", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4040/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4040/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4040/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4040", "id": 2892073797, "node_id": "PR_kwDOElwhj86NMl6e", "number": 4040, "title": "change default HTTPS client to hyper1", "user": {"login": "aajtodd", "id": 5158304, "node_id": "MDQ6VXNlcjUxNTgzMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5158304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aajtodd", "html_url": "https://github.com/aajtodd", "followers_url": "https://api.github.com/users/aajtodd/followers", "following_url": "https://api.github.com/users/aajtodd/following{/other_user}", "gists_url": "https://api.github.com/users/aajtodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/aajtodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aajtodd/subscriptions", "organizations_url": "https://api.github.com/users/aajtodd/orgs", "repos_url": "https://api.github.com/users/aajtodd/repos", "events_url": "https://api.github.com/users/aajtodd/events{/privacy}", "received_events_url": "https://api.github.com/users/aajtodd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2025-03-03T19:09:16Z", "updated_at": "2025-03-10T14:22:30Z", "closed_at": "2025-03-10T14:22:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4040", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4040", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4040.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4040.patch", "merged_at": "2025-03-10T14:22:28Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n* https://github.com/smithy-lang/smithy-rs/issues/3710\r\n* https://github.com/smithy-lang/smithy-rs/issues/1925\r\n* https://github.com/awslabs/aws-sdk-rust/issues/977\r\n\r\n\r\n## Description\r\nUpdates the default HTTPS client to be based off hyper 1.x, rustls, and aws-lc. See the GitHub discussion: https://github.com/awslabs/aws-sdk-rust/discussions/1257\r\n\r\nThis PR is a rollup of previously reviewed PRs:\r\n\r\n* Refactor the runtime structure and consolidate HTTP client implementation(s): [smithy-rs#3866](https://github.com/smithy-lang/smithy-rs/pull/3866)\r\n* Migrate HTTP test utils: [smithy-rs#3888](https://github.com/smithy-lang/smithy-rs/pull/3888)\r\n* Update runtime to use new test utils: [smithy-rs#3898](https://github.com/smithy-lang/smithy-rs/pull/3898)\r\n* Backport connection poisoning: [smithy-rs#3795](https://github.com/smithy-lang/smithy-rs/pull/3795)\r\n* Deprecate HTTP 02x presign APIs: [smithy-rs#3823](https://github.com/smithy-lang/smithy-rs/pull/3823)\r\n* Enable hyper1 as default client: [smithy-rs#]()\r\n* Enable hyper1 behind BMV:[smithy-rs#3973](https://github.com/smithy-lang/smithy-rs/pull/3973)\r\n* s2n-tls provider (by Sam): [smithy-rs#3965](https://github.com/smithy-lang/smithy-rs/pull/3965)\r\n* custom TLS config: [smithy-rs#4032](https://github.com/smithy-lang/smithy-rs/pull/4032)\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4040/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4040/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4036", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4036/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4036/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4036/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4036", "id": 2875824604, "node_id": "PR_kwDOElwhj86MVc8v", "number": 4036, "title": "Enable event stream operations with RPC bound protocols in client SDKs", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4365350563, "node_id": "LA_kwDOElwhj88AAAABBDH2ow", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-server-review", "name": "needs-server-review", "color": "E6E443", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2025-02-24T18:29:46Z", "updated_at": "2025-02-28T21:41:13Z", "closed_at": "2025-02-28T21:41:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4036", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4036", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4036.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4036.patch", "merged_at": "2025-02-28T21:41:12Z"}, "body": "## Motivation and Context\r\nAddresses aws-sdk-rust#213 and aws-sdk-rust#1188.\r\n\r\n## Description\r\nThis PR consolidates the changes from the previous sub-PRs:\r\n- https://github.com/smithy-lang/smithy-rs/pull/4004\r\n- https://github.com/smithy-lang/smithy-rs/pull/4015\r\n- https://github.com/smithy-lang/smithy-rs/pull/4023\r\n\r\nTogether, this PR enables event stream operations with RPC bound protocols, including `SubscribeToShard` in Kinesis and `StartLiveTail` in CloudWatchLogs in the Rust SDK. \r\n\r\n## Testing\r\n(consolidated bullets from the previous sub-PRs)\r\n- Added a service integration test for cloudwatchlogs\r\n- Added client SDK codegen tests in `ClientEventStreamUnmarshallerGeneratorTest` to reverify initial-response message handling\r\n- Added client SDK codegen tests in `ClientEventStreamMarshallerGeneratorTest` to verify initial-request message handling\r\n- Added `DisableStalledStreamProtectionTest`\r\n- Confirmed a successful run in the release pipeline \r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4036/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4036/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4035", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4035/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4035/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4035/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4035", "id": 2875320198, "node_id": "PR_kwDOElwhj86MTvJ3", "number": 4035, "title": "Fix recursive definition in SupportStructures.k", "user": {"login": "drganjoo", "id": 7694697, "node_id": "MDQ6VXNlcjc2OTQ2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7694697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drganjoo", "html_url": "https://github.com/drganjoo", "followers_url": "https://api.github.com/users/drganjoo/followers", "following_url": "https://api.github.com/users/drganjoo/following{/other_user}", "gists_url": "https://api.github.com/users/drganjoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/drganjoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drganjoo/subscriptions", "organizations_url": "https://api.github.com/users/drganjoo/orgs", "repos_url": "https://api.github.com/users/drganjoo/repos", "events_url": "https://api.github.com/users/drganjoo/events{/privacy}", "received_events_url": "https://api.github.com/users/drganjoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-02-24T15:15:58Z", "updated_at": "2025-02-25T18:07:32Z", "closed_at": "2025-02-25T18:07:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4035", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4035", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4035.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4035.patch", "merged_at": "2025-02-25T18:07:31Z"}, "body": "This PR fixes a recursive definition issue in the `SupportStructures.kt` file where `codegenScope` was being used within its own dependent functions, creating a circular dependency. The issue specifically occurred in the `serializeRedacted()`, `sensitive()`, `configurableSerde()` and `serializeUnredacted()` functions where `codegenScope` was being included in the template parameters.\r\n\r\nThe fix:\r\n- Removed the recursive usage of `codegenScope`\r\n- Instead, directly used `RuntimeType.preludeScope` where needed\r\n- This change maintains the same functionality while avoiding the circular dependency\r\n\r\nBefore:\r\n```kotlin\r\n*codegenScope  // This created a recursive definition as codegenScope depends on these functions\r\n```\r\n\r\nAfter:\r\n```kotlin\r\n*RuntimeType.preludeScope  // Direct usage of prelude scope without recursion\r\n```", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4035/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4033", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4033/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4033/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4033/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4033", "id": 2870385040, "node_id": "PR_kwDOElwhj86MHyq3", "number": 4033, "title": "Fix CI step for `cargo semver checks`", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-02-22T02:22:57Z", "updated_at": "2025-02-25T22:19:50Z", "closed_at": "2025-02-25T22:19:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4033", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4033", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4033.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4033.patch", "merged_at": "2025-02-25T22:19:49Z"}, "body": "## Motivation and Context\r\nFixes CI step for running `cargo semver checks`\r\n\r\n## Description\r\nThe said CI step has been failing for the past three months. The most recent failure observed in CI looks like the following, since we [upgraded the version of `cargo-semver-checks` to 0.36\r\n](https://github.com/smithy-lang/smithy-rs/pull/3936)\r\n```\r\nerror: package `aws-runtime` is ambiguous: it is defined by in multiple manifests within the root path /home/build/workspace/smithy-rs/target/semver-checks/git-base/be980cd7049d9acdb38f68dd11c465b3a242733a\r\n\r\ndefined in:\r\n  /home/build/workspace/smithy-rs/target/semver-checks/git-base/be980cd7049d9acdb38f68dd11c465b3a242733a/aws/rust-runtime/aws-runtime/Cargo.toml\r\n  /home/build/workspace/smithy-rs/target/semver-checks/git-base/be980cd7049d9acdb38f68dd11c465b3a242733a/tmp-codegen-diff/aws-sdk/sdk/aws-runtime/Cargo.toml\r\n```\r\nReferring to the diagram in [a previous relevant PR](https://github.com/smithy-lang/smithy-rs/pull/3272), we see that the `tmp-codegen-diff` directory is used as [the output directory](https://github.com/smithy-lang/smithy-rs/blob/e394ad8b099ea638e0f9c7549295aaebccc36a61/tools/ci-scripts/codegen-diff/diff_lib.py#L11) by `diff_lib.py`. However, the current version of `cargo semver checks` no longer supports duplicated crates within the same root directory ([PR](https://github.com/obi1kenobi/cargo-semver-checks/pull/887)).\r\n\r\nThis requires a solution where we maintain a single source of crate layout to validate against `cargo-semver-checks` under `smithy-rs`. To address this, this PR implements the following approach:\r\n- (Bonus point) Reverts the changes made in [the previous relevant PR](https://github.com/smithy-lang/smithy-rs/pull/3272).\r\n- Updates `semver-checks.py` to stop using `checkout_commit_and_generate` in `diff_lib.py`, which automatically places both the runtime crates and the generated SDK crates into `tmp-codegen-diff`, leading to conflicts with the crates in `rust-runtime` and in `aws/rust-runtime`.\r\n- When `semver-checks.py` creates the `base` and `current` branches, we remove runtime crates from both `rust-runtime` and `aws/rust-runtime` to uniquify the runtime crates in the `aws/sdk/build/aws-sdk/sdk` directory. Note that the removal of crates only occurs in the `base` and `current` branches and does not impact the main branch.\r\n- Moves the `aws/sdk/build/aws-sdk` directory to the root of `smithy-rs` for a reason explained in dd021d1.\r\n\r\n## Testing\r\n- CI passed `cargo semver checks`\r\n- Removed [this enum variant](https://github.com/smithy-lang/smithy-rs/blob/e394ad8b099ea638e0f9c7549295aaebccc36a61/rust-runtime/aws-smithy-runtime/src/client/sdk_feature.rs#L13) intentionally to cause an API breakage, the step correctly detected it\r\n```\r\n--- failure enum_variant_missing: pub enum variant removed or renamed ---\r\n\r\nDescription:\r\nA publicly-visible enum has at least one variant that is no longer available under its prior name. It may have been renamed or removed entirely.\r\n        ref: https://doc.rust-lang.org/cargo/reference/semver.html#item-remove\r\n       impl: https://github.com/obi1kenobi/cargo-semver-checks/tree/v0.36.0/src/lints/enum_variant_missing.ron\r\n\r\nFailed in:\r\n  variant BusinessMetric::GzipRequestCompression, previously in file /Users/awsaito/src/smithy-rs/target/semver-checks/git-base/d87d9ee34a13da0ad4c0cdcbfa2c74b7f98d278c/aws-sdk/sdk/aws-runtime/src/user_agent/metrics.rs:108\r\n```\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4033/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4032", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4032/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4032/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4032/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4032", "id": 2869511693, "node_id": "PR_kwDOElwhj86ME08H", "number": 4032, "title": "Custom TLS config", "user": {"login": "aajtodd", "id": 5158304, "node_id": "MDQ6VXNlcjUxNTgzMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5158304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aajtodd", "html_url": "https://github.com/aajtodd", "followers_url": "https://api.github.com/users/aajtodd/followers", "following_url": "https://api.github.com/users/aajtodd/following{/other_user}", "gists_url": "https://api.github.com/users/aajtodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/aajtodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aajtodd/subscriptions", "organizations_url": "https://api.github.com/users/aajtodd/orgs", "repos_url": "https://api.github.com/users/aajtodd/repos", "events_url": "https://api.github.com/users/aajtodd/events{/privacy}", "received_events_url": "https://api.github.com/users/aajtodd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2025-02-21T16:36:28Z", "updated_at": "2025-02-27T15:29:24Z", "closed_at": "2025-02-27T15:29:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4032", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4032", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4032.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4032.patch", "merged_at": "2025-02-27T15:29:22Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n* https://github.com/smithy-lang/smithy-rs/issues/1925\r\n* https://github.com/awslabs/aws-sdk-rust/issues/977\r\n\r\n## Description\r\nIntroduces a new `TlsContext` that can be used to customize TLS configuration. Currently that only includes supplying custom root certificates. This PR also refactors the way caching works. Previously we cached complete connectors with default resolver when the connector settings were known to be defaulted. The reason given in code and past commits for this caching resolves around the fact that `hyper-rustls` `with_native_roots()` configuration option re-loads platform root certificates on each invocation. Rather than cache the connector, instead I've switched the caching to only cache loading the certificates. This reduces a bit of complexity and required context to understand when we can cache. \r\n\r\n### Questions/Discussion\r\n\r\n1. There are a number of places we call `unwrap`/`expect` in this code. It was this way previously but I've introduced a few more. This stems from building a connector not returning a result. I don't know that I love this but I also suppose I can understand why we chose this. Now is the time to consider whether we'd approach it differently or not though or we are simply saying a valid HTTPS configuration.\r\n2. Loading native certs is all blocking file calls though and not async friendly. I haven't changed anything here but it caught my eye. It would be nice if this were more async friendly. The mitigation we chose to this seemed to be caching the connector and paying that cost once up front at construction time if possible.\r\n3. Both rustls and s2n take in PEM encoded certs. Rustls (via `rustls-pki-types`) provides a way to actually parse and load the certs as an independent configuration object (trust store). The issue is it converts them to DER format which makes using this for s2n not possible. It would be nice if we could load and validate certs before passing them off to rustls/s2n in a uniform way.\r\n4. Should `TlsContext` and/or `TrustStore` provider builders? Currently they just self mutate which is a pattern we use in some places (e.g. stalled stream protection config comes to mind). \r\n\r\n\r\n## Testing\r\nNew unit tests + existing TLS tests\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4032/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4031", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4031/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4031/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4031/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4031", "id": 2867138998, "node_id": "PR_kwDOElwhj86L814H", "number": 4031, "title": "Fix `TSApplicationGenerator` to use `Result<>` instead of `#{Result}`", "user": {"login": "drganjoo", "id": 7694697, "node_id": "MDQ6VXNlcjc2OTQ2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7694697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drganjoo", "html_url": "https://github.com/drganjoo", "followers_url": "https://api.github.com/users/drganjoo/followers", "following_url": "https://api.github.com/users/drganjoo/following{/other_user}", "gists_url": "https://api.github.com/users/drganjoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/drganjoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drganjoo/subscriptions", "organizations_url": "https://api.github.com/users/drganjoo/orgs", "repos_url": "https://api.github.com/users/drganjoo/repos", "events_url": "https://api.github.com/users/drganjoo/events{/privacy}", "received_events_url": "https://api.github.com/users/drganjoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-02-20T19:58:21Z", "updated_at": "2025-02-24T10:42:22Z", "closed_at": "2025-02-24T10:42:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4031", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4031", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4031.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4031.patch", "merged_at": "2025-02-24T10:42:21Z"}, "body": "The [earlier PR](https://github.com/smithy-lang/smithy-rs/pull/4010), which ensured that a Smithy shape named `Result` does not conflict with the Rust type `Result`, had a bug in `TSApplicationGenerator`. The `rustTemplateBlock` was using `#{Result}` but `preludeScope` was not passed in as a parameter.\r\n\r\nThis bug can be addressed in two ways:\r\n\r\n1. Pass `*RuntimeType.preludeScope` to the `rustBlockTemplate` call\r\n2. Remove `#{Result}` from `rustBlockTemplate` and continue using `Result<>`\r\n\r\nThis PR implements the second approach because:\r\n\r\n1. `TSApplicationGenerator` is slated for deprecation\r\n2. The CI step `CI / PR Bot / Generate diff and upload to S3 (pull_request)` currently fails when comparing codegen between HEAD and this version. Removing `#{Result}` is the most reliable way to avoid parameter-passing issues with `rustBlockTemplate`", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4031/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4031/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4029", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4029/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4029/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4029/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4029", "id": 2866934586, "node_id": "PR_kwDOElwhj86L8KDz", "number": 4029, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-02-20T18:15:07Z", "updated_at": "2025-02-20T19:53:20Z", "closed_at": "2025-02-20T19:53:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4029", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4029", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4029.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4029.patch", "merged_at": "2025-02-20T19:53:17Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4029/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4028", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4028/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4028/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4028/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4028", "id": 2865843987, "node_id": "PR_kwDOElwhj86L4b4D", "number": 4028, "title": "Add CHANGELOG entries", "user": {"login": "drganjoo", "id": 7694697, "node_id": "MDQ6VXNlcjc2OTQ2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7694697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drganjoo", "html_url": "https://github.com/drganjoo", "followers_url": "https://api.github.com/users/drganjoo/followers", "following_url": "https://api.github.com/users/drganjoo/following{/other_user}", "gists_url": "https://api.github.com/users/drganjoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/drganjoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drganjoo/subscriptions", "organizations_url": "https://api.github.com/users/drganjoo/orgs", "repos_url": "https://api.github.com/users/drganjoo/repos", "events_url": "https://api.github.com/users/drganjoo/events{/privacy}", "received_events_url": "https://api.github.com/users/drganjoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-02-20T11:09:15Z", "updated_at": "2025-02-20T12:22:46Z", "closed_at": "2025-02-20T12:22:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4028", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4028", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4028.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4028.patch", "merged_at": "2025-02-20T12:22:44Z"}, "body": "This PR adds the CHANGELOG entries that were missed in these two earlier PRs:\r\n\r\nhttps://github.com/smithy-lang/smithy-rs/pull/4010    \r\nhttps://github.com/smithy-lang/smithy-rs/pull/4008", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4028/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4028/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4027", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4027/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4027/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4027/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4027", "id": 2865125127, "node_id": "PR_kwDOElwhj86L1_G8", "number": 4027, "title": "Add missing setters to `ConfigLoader`", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-20T05:32:22Z", "updated_at": "2025-02-21T05:57:45Z", "closed_at": "2025-02-21T05:57:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4027", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4027", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4027.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4027.patch", "merged_at": "2025-02-21T05:57:44Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\nCustomer reported that the `request_checksum_calculation` and `response_checksum_validation` setters were missing from the `ConfigLoader`, but were present on the `SdkConfig` builder. This PR adds those setters.\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4027/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4027/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4026", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4026/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4026/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4026/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4026", "id": 2864151917, "node_id": "PR_kwDOElwhj86LyvTa", "number": 4026, "title": "Set minimum version of `crc64fast-nvme` crate to `1.2.0`", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-19T18:52:03Z", "updated_at": "2025-02-19T20:39:01Z", "closed_at": "2025-02-19T20:39:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4026", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4026", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4026.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4026.patch", "merged_at": "2025-02-19T20:39:00Z"}, "body": "Fixes build issues encountered internally and in\r\nhttps://github.com/awslabs/aws-sdk-rust/issues/1240#issuecomment-2597294295\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist\r\n\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4026/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4026/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4025", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4025/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4025/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4025/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4025", "id": 2864104165, "node_id": "PR_kwDOElwhj86LylB2", "number": 4025, "title": "Document in `CONTRIBUTING` a step to include lockfiles", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-02-19T18:27:20Z", "updated_at": "2025-02-20T16:57:57Z", "closed_at": "2025-02-20T16:57:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4025", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4025", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4025.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4025.patch", "merged_at": "2025-02-20T16:57:56Z"}, "body": "## Motivation and Context\r\nThis PR adds a step in `CONTRIBUTING` for contributors to include the updated lockfiles in pull requests. While comitting lockfiles in pull requests isn't strictly necessary\u2014since the weekly bot PR will automatically update them anyway\u2014it\u2019s added explicitly for clarity.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4025/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4023", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4023/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4023/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4023/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4023", "id": 2863885973, "node_id": "PR_kwDOElwhj86Lx2fX", "number": 4023, "title": "Assorted code clean-up for event stream with RPC-bound protocols", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2025-02-19T16:47:29Z", "updated_at": "2025-02-24T17:14:11Z", "closed_at": "2025-02-24T17:14:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4023", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4023", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4023.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4023.patch", "merged_at": "2025-02-24T17:14:08Z"}, "body": "## Motivation and Context\r\nThis is the final PR in the series adding support for event streaming with RPC-bound protocols. It primarily focuses on addressing code cleanup tasks that were intentionally left in the previous two PRs.\r\n\r\n## Description\r\nThe code clean-up tasks include\r\n- adding `DisableStalledStreamProtection` to disable stalled stream protection from at the top level of `ClientCodegenVisitor` across the models, eliminating the need for individual service-specific codegen decorators just to disable stalled stream protection.\r\n- removing `eventStreamAllowList`.\r\n- addressing `TODO(EventStream)` for RPC protocols.\r\n- adding a custom doc to fluent builders whose output operations are event stream and contain more than one structure members (i.e., need to populate non-event stream members at the end of `send`).\r\n\r\n## Testing\r\n- Existing CI\r\n- Added `DisableStalledStreamProtectionTest`\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4023/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4020", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4020/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4020/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4020/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4020", "id": 2861732772, "node_id": "PR_kwDOElwhj86Lqrbg", "number": 4020, "title": "Run `cargo update` on the runtime lockfiles and the SDK lockfile", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-02-18T22:07:23Z", "updated_at": "2025-02-19T22:54:57Z", "closed_at": "2025-02-19T22:54:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4020", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4020", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4020.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4020.patch", "merged_at": "2025-02-19T22:54:56Z"}, "body": "If CI fails, commit the necessary fixes to this PR until all checks pass.\n\nIf changes are required to [crateNameToLastKnownWorkingVersions](https://github.com/smithy-lang/smithy-rs/blob/92916b5484cdfef9ff58540ebf5e845eeeccf860/aws/sdk/build.gradle.kts#L504), revert the first commit in the PR, run `./gradlew aws:sdk:cargoUpdateAllLockfiles`, and commit the updated lockfiles.\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4020/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4020/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4018", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4018/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4018/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4018/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4018", "id": 2854870160, "node_id": "PR_kwDOElwhj86LTt2u", "number": 4018, "title": "Bump `aws-cdk-lib from` 2.135.0 to 2.177.0", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-14T23:24:35Z", "updated_at": "2025-02-17T17:50:11Z", "closed_at": "2025-02-17T17:50:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4018", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4018", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4018.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4018.patch", "merged_at": "2025-02-17T17:50:09Z"}, "body": "## Motivation and Context\r\nThis PR replicates https://github.com/awslabs/aws-sdk-rust/pull/1251, as making changes in the `aws-sdk-rust` repository doesn't have any effect (will be overwritten by a subsequent release).\r\n\r\n## Testing\r\n- CI\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4018/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4018/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4015", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4015/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4015/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4015/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4015", "id": 2852283060, "node_id": "PR_kwDOElwhj86LK6gv", "number": 4015, "title": "Handle initial-request for event stream operations with RPC-bound protocols", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-02-13T23:05:42Z", "updated_at": "2025-02-18T18:48:29Z", "closed_at": "2025-02-18T18:48:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4015", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4015", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4015.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4015.patch", "merged_at": "2025-02-18T18:48:25Z"}, "body": "## Motivation and Context\r\nContinuation of #4004, this PR is part 2 of the series. The PR focus on the request side, specifically handling the serialization of an initial request message for event stream operations using RPC-bound protocols.\r\n\r\n## Description\r\nUnlike `initial-response`, handling `initial-request` for event stream operations does _not_ require calling an async function, allowing serialization to be completed within a synchronous context.\r\n\r\nHere\u2019s an updated snippet from the input serializer, rendered from a newly added codegen test (since we currently don\u2019t have AWS services with RPC protocols where the operation input contains event streams, this test represents such a service):\r\n```\r\n        let body = ::aws_smithy_types::body::SdkBody::from({\r\n            let error_marshaller = crate::event_stream_serde::TestStreamErrorMarshaller::new();\r\n            let marshaller = crate::event_stream_serde::TestStreamMarshaller::new();\r\n            let (signer, signer_sender) = ::aws_smithy_eventstream::frame::DeferredSigner::new();\r\n            _cfg.interceptor_state().store_put(signer_sender);\r\n            ::aws_smithy_types::body::SdkBody::from_body_0_4(::hyper::Body::wrap_stream({\r\n                use ::futures_util::StreamExt;\r\n                let body = crate::protocol_serde::shape_test_stream_op::ser_test_stream_op_input(&input)?;\r\n                let initial_message = crate::event_stream_serde::initial_message_from_body(body);\r\n                let mut buffer = Vec::new();\r\n                ::aws_smithy_eventstream::frame::write_message_to(&initial_message, &mut buffer)?;\r\n                let initial_message_stream = futures_util::stream::iter(vec![Ok(buffer.into())]);\r\n                let adapter = input.value.into_body_stream(marshaller, error_marshaller, signer);\r\n                initial_message_stream.chain(adapter)\r\n            }))\r\n        });\r\n```\r\nwhereas previously\r\n```\r\n        let body = ::aws_smithy_types::body::SdkBody::from({\r\n            let error_marshaller = crate::event_stream_serde::TestStreamErrorMarshaller::new();\r\n            let marshaller = crate::event_stream_serde::TestStreamMarshaller::new();\r\n            let (signer, signer_sender) = ::aws_smithy_eventstream::frame::DeferredSigner::new();\r\n            _cfg.interceptor_state().store_put(signer_sender);\r\n            ::aws_smithy_types::body::SdkBody::from_body_0_4(::hyper::Body::wrap_stream(\r\n                input\r\n                    .value\r\n                    .into_body_stream(marshaller, error_marshaller, signer),\r\n            ))\r\n        });\r\n```\r\nThis \"prepending initial-request message\" only occurs when the operation input contains at least one non-event stream member, other than an event stream member.\r\n\r\nThe PR also refactors `ClientEventStreamUnmarshallerGeneratorTest.kt` (touched in the previous PR) while adding new tests in `ClientEventStreamMarshallerGeneratorTest`.\r\n\r\n## Testing\r\n- Existing CI\r\n- Added client SDK codegen tests in `ClientEventStreamMarshallerGeneratorTest` to verify initial-request message handling\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4015/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4014", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4014/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4014/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4014/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4014", "id": 2851748396, "node_id": "PR_kwDOElwhj86LJIaX", "number": 4014, "title": "Update aws-smithy-http-server version to use latest aws-smithy-json", "user": {"login": "drganjoo", "id": 7694697, "node_id": "MDQ6VXNlcjc2OTQ2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7694697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drganjoo", "html_url": "https://github.com/drganjoo", "followers_url": "https://api.github.com/users/drganjoo/followers", "following_url": "https://api.github.com/users/drganjoo/following{/other_user}", "gists_url": "https://api.github.com/users/drganjoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/drganjoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drganjoo/subscriptions", "organizations_url": "https://api.github.com/users/drganjoo/orgs", "repos_url": "https://api.github.com/users/drganjoo/repos", "events_url": "https://api.github.com/users/drganjoo/events{/privacy}", "received_events_url": "https://api.github.com/users/drganjoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2025-02-13T18:00:35Z", "updated_at": "2025-02-18T16:18:56Z", "closed_at": "2025-02-18T16:18:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4014", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4014", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4014.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4014.patch", "merged_at": "2025-02-18T16:18:55Z"}, "body": "`aws-smithy-http-server` depends on an older version of `aws-smithy-json`, which causes an error in the generated SDK. \r\n\r\nThis PR bumps the minor version to pick up the new `aws-smithy-json` version.", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4014/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4014/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4013", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4013/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4013/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4013/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4013", "id": 2851598850, "node_id": "PR_kwDOElwhj86LIn3Q", "number": 4013, "title": "Fix mock_client macro", "user": {"login": "rcoh", "id": 492903, "node_id": "MDQ6VXNlcjQ5MjkwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/492903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rcoh", "html_url": "https://github.com/rcoh", "followers_url": "https://api.github.com/users/rcoh/followers", "following_url": "https://api.github.com/users/rcoh/following{/other_user}", "gists_url": "https://api.github.com/users/rcoh/gists{/gist_id}", "starred_url": "https://api.github.com/users/rcoh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rcoh/subscriptions", "organizations_url": "https://api.github.com/users/rcoh/orgs", "repos_url": "https://api.github.com/users/rcoh/repos", "events_url": "https://api.github.com/users/rcoh/events{/privacy}", "received_events_url": "https://api.github.com/users/rcoh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-02-13T16:52:46Z", "updated_at": "2025-02-13T20:30:27Z", "closed_at": "2025-02-13T20:30:25Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4013", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4013", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4013.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4013.patch", "merged_at": "2025-02-13T20:30:25Z"}, "body": "## Motivation and Context\r\nThere was downstream breakage (the macro was always broken, but #4001 made it more likely to happen) \r\n\r\n## Description\r\n- Use `$crate` to fix the issue when `mock_client` was not otherwise in scope\r\n- Add a test\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [ ] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [ ] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4013/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4013/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4012", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4012/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4012/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4012/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4012", "id": 2849197904, "node_id": "PR_kwDOElwhj86LAgSN", "number": 4012, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-12T19:42:44Z", "updated_at": "2025-02-12T20:14:15Z", "closed_at": "2025-02-12T20:14:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4012", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4012", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4012.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4012.patch", "merged_at": "2025-02-12T20:14:13Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4012/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4012/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4010", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4010/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4010/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4010/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4010", "id": 2848655950, "node_id": "PR_kwDOElwhj86K-nxv", "number": 4010, "title": "Use `std::result::Result` instead of `Result`", "user": {"login": "drganjoo", "id": 7694697, "node_id": "MDQ6VXNlcjc2OTQ2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7694697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drganjoo", "html_url": "https://github.com/drganjoo", "followers_url": "https://api.github.com/users/drganjoo/followers", "following_url": "https://api.github.com/users/drganjoo/following{/other_user}", "gists_url": "https://api.github.com/users/drganjoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/drganjoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drganjoo/subscriptions", "organizations_url": "https://api.github.com/users/drganjoo/orgs", "repos_url": "https://api.github.com/users/drganjoo/repos", "events_url": "https://api.github.com/users/drganjoo/events{/privacy}", "received_events_url": "https://api.github.com/users/drganjoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-02-12T15:48:57Z", "updated_at": "2025-02-20T09:34:07Z", "closed_at": "2025-02-20T09:34:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4010", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4010", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4010.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4010.patch", "merged_at": "2025-02-20T09:34:06Z"}, "body": "When the model contains a shape by the name of `Result`, the generated code fails to compile. For instance the following model fails:\r\n\r\n```smithy\r\n@restJson1\r\nservice ConstrainedService {\r\n    operations: [SampleOperation]\r\n}\r\n\r\n@http(uri: \"/anOperation\", method: \"POST\")\r\noperation SampleOperation {\r\n    output: SampleInputOutput\r\n    input: SampleInputOutput\r\n    errors: [ValidationException]\r\n}\r\n\r\nstructure SampleInputOutput {\r\n    result: Result\r\n}\r\n\r\nstructure Result {\r\n    @pattern(\"^a-z$\")\r\n    chat: String\r\n}\r\n```\r\n\r\nThis PR ensures:\r\n\r\n1. If `rustTemplate` is being used, then `#{Result}` is used\r\n2. If `rust` is being used, then that is changed to `rustTemplate` and then `#{Result}` is used.\r\n3. If `rustBlock` is being used, then the generated code should use `std::result::Result`", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4010/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4010/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4009", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4009/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4009/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4009/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4009", "id": 2846642409, "node_id": "PR_kwDOElwhj86K3utl", "number": 4009, "title": "Run `cargo update` on the runtime lockfiles and the SDK lockfile", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-11T22:07:39Z", "updated_at": "2025-02-11T23:37:54Z", "closed_at": "2025-02-11T23:37:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4009", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4009", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4009.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4009.patch", "merged_at": "2025-02-11T23:37:54Z"}, "body": "If CI fails, commit the necessary fixes to this PR until all checks pass.\n\nIf changes are required to [crateNameToLastKnownWorkingVersions](https://github.com/smithy-lang/smithy-rs/blob/92916b5484cdfef9ff58540ebf5e845eeeccf860/aws/sdk/build.gradle.kts#L504), revert the first commit in the PR, run `./gradlew aws:sdk:cargoUpdateAllLockfiles`, and commit the updated lockfiles.\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4009/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4009/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4008", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4008/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4008/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4008/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4008", "id": 2846095772, "node_id": "PR_kwDOElwhj86K12hk", "number": 4008, "title": "Merge documentation of same inline modules", "user": {"login": "drganjoo", "id": 7694697, "node_id": "MDQ6VXNlcjc2OTQ2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7694697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drganjoo", "html_url": "https://github.com/drganjoo", "followers_url": "https://api.github.com/users/drganjoo/followers", "following_url": "https://api.github.com/users/drganjoo/following{/other_user}", "gists_url": "https://api.github.com/users/drganjoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/drganjoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drganjoo/subscriptions", "organizations_url": "https://api.github.com/users/drganjoo/orgs", "repos_url": "https://api.github.com/users/drganjoo/repos", "events_url": "https://api.github.com/users/drganjoo/events{/privacy}", "received_events_url": "https://api.github.com/users/drganjoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2025-02-11T17:51:56Z", "updated_at": "2025-02-14T16:31:09Z", "closed_at": "2025-02-14T16:31:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4008", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4008", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4008.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4008.patch", "merged_at": "2025-02-14T16:31:08Z"}, "body": "When two inline modules with the same name are generated from different parts of the codebase, their documentation should be merged. However, other metadata must match exactly, as it is an error for one part of the codebase to define an inline module with pub visibility while another defines it with pub(crate) visibility.\r\n\r\nThis PR enables documentation merging while maintaining strict validation of other metadata fields.\r\n\r\nCurrently, the following sample model fails to generate code because both `SomeList` and `member` are generated in the same inline module but with different doc comments:\r\n\r\n```smithy\r\n@documentation(\"Outer constraint has some documentation\")\r\n@length(max: 3)\r\nlist SomeList {\r\n    @length(max: 8000)\r\n    member: String\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4008/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4008/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4006", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4006/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4006/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4006/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4006", "id": 2841142770, "node_id": "PR_kwDOElwhj86Kk2dV", "number": 4006, "title": "Fix Sigv4 signing bug for endpoints with default ports", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-02-10T02:06:25Z", "updated_at": "2025-02-10T20:22:33Z", "closed_at": "2025-02-10T20:22:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4006", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4006", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4006.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4006.patch", "merged_at": "2025-02-10T20:22:32Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n\r\nBug from https://github.com/awslabs/aws-sdk-rust/issues/1244\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nFix bug in Sigv4 signing that, when an endpoint contained a default port (80 for HTTP, 443 for HTTPS), would sign the request with that port in the `HOST` header even though Hyper excludes default ports from the `HOST` header.\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nAdded new unit test to confirm that default ports are appropriately stripped from HTTP and HTTPS requests.\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4006/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4006/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4005", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4005/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4005/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4005/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4005", "id": 2839824322, "node_id": "PR_kwDOElwhj86Kgin1", "number": 4005, "title": "Add `generateBuildEnvironmentConstants` as a dependency of `sourcesJar`", "user": {"login": "ShaharNaveh", "id": 50263213, "node_id": "MDQ6VXNlcjUwMjYzMjEz", "avatar_url": "https://avatars.githubusercontent.com/u/50263213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShaharNaveh", "html_url": "https://github.com/ShaharNaveh", "followers_url": "https://api.github.com/users/ShaharNaveh/followers", "following_url": "https://api.github.com/users/ShaharNaveh/following{/other_user}", "gists_url": "https://api.github.com/users/ShaharNaveh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShaharNaveh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShaharNaveh/subscriptions", "organizations_url": "https://api.github.com/users/ShaharNaveh/orgs", "repos_url": "https://api.github.com/users/ShaharNaveh/repos", "events_url": "https://api.github.com/users/ShaharNaveh/events{/privacy}", "received_events_url": "https://api.github.com/users/ShaharNaveh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-02-08T11:17:49Z", "updated_at": "2025-02-10T03:36:00Z", "closed_at": "2025-02-10T03:36:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4005", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4005", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4005.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4005.patch", "merged_at": "2025-02-10T03:36:00Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\nFixes #3949 \r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [ ] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [ ] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4005/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4005/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4004", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4004/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4004/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4004/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4004", "id": 2839464856, "node_id": "PR_kwDOElwhj86KfTHd", "number": 4004, "title": "Handle initial-response for event stream operations with RPC-bound protocols", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-02-08T03:49:48Z", "updated_at": "2025-02-12T16:14:54Z", "closed_at": "2025-02-11T22:04:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4004", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4004", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4004.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4004.patch", "merged_at": "2025-02-11T22:04:14Z"}, "body": "## Motivation and Context\r\nHandles [initial-response](https://smithy.io/2.0/spec/streaming.html#initial-response) for event stream operations with an RPC-bound protocol in client SDKs. This makes event stream operations like [SubscribeToShard](https://docs.aws.amazon.com/kinesis/latest/APIReference/API_SubscribeToShard.html) in Kinesis and [StartLiveTrail](https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_StartLiveTail.html) in CloudWatchLogs available in the Rust SDK, both of which are currently unavailable ([RemoveEventStreamOperations.kt](https://github.com/smithy-lang/smithy-rs/pull/4004/files#diff-b94081365137754f8674df177705a472ede6d3c21da608fff68a450fec5abd26) removes them via model transformation as unsupported).\r\n\r\nNote that this PR is the first in a series and merged into a feature branch, not into the main branch. It intentionally does not address `TODO(EventStream)` or does not disable stalled stream protection for newly enabled event stream operations. It just focuses on implementing handling `initial-response` messages. The next PR will most likely focus on handling `initial-request` message, and the last PR will focus on code cleanup (hence if code review feedback is about code cleanup, I happily accept it but might defer it to the last PR).\r\n\r\n## Description\r\nAt its core, handling initial-response for event stream operations is boiled down to using [try_recv_initial](https://github.com/smithy-lang/smithy-rs/blob/ec4292005728cec42ca2f9f8ba40f6b5bb563b05/rust-runtime/aws-smithy-http/src/event_stream/receiver.rs#L208-L232) during deserialization phase within the orchestrator. Here is the issue, though. `try_recv_initial` is an async method but functions/methods in the deserializer in client SDKs are all synchronous, causing an impedance mismatch between async and sync. This means we need to find an async context somewhere in which to be able to call the `try_recv_initial` method.\r\n\r\nTo sidestep this design limitation, we customize the `send` method for event stream operations with RPC-bound protocols whose operation output contains an event stream member. The customization makes the epilogue of the `send` method look like the following (using `unwrap` for simplicity):\r\n```\r\n    pub async fn send(\r\n        self,\r\n    ) -> Result<crate::operation::some_op::SomeOp, SdkError<...>> {\r\n        let input = ...;\r\n        let runtime_plugins = ...;\r\n\r\n        // new epilogue of the send method\r\n        let output = crate::operation::some_op::SomeOp::orchestrate(&runtime_plugins, input).await?;\r\n\r\n        let message = output.response_stream.try_recv_initial().await.map_err(response_error).unwrap();\r\n\r\n        match message {\r\n            Some(message) => {\r\n                // If operation output contains non-event stream members, we will populate them here\r\n                let mut builder = output.into_builder(); // codegen needs to render this new `pub(crate)` conversion method on the output struct\r\n                builder = crate::protocol_serde::shape_some_op::de_some_op(message.payload(), output).unwrap();\r\n                Ok(builder.build().unwrap())\r\n            },\r\n            // In this `None` branch, `try_recv_initial` will set aside the initial frame it has read from event stream if it's not initial-response.\r\n            // The next time the user calls `recv` on the `EventReceiver`, the user correctly receives the frame that was read off.\r\n            None => Ok(output),\r\n        }\r\n    }\r\n```\r\nThis provides us with an async context where we can call `try_recv_initial` on an event stream member of an operation output struct and populate the non-event stream members of that struct. The downside though is that the operation output struct will be half-baked until the end of `send`, with non-event stream members uninitialized, so interceptors after deserialization won't have access to complete the output struct. (it's todo to document somewhere for operations in question).\r\n\r\nThe rest of the changes are for testing. Specifically\r\n- added `cloudwatchlogs` as a new service integration test (to test `start_live_trail` event stream operation)\r\n  - as part of this, the local helpers in `aws/sdk/integration-tests/transcribestreaming/tests/test.rs` have been moved to `aws_smithy_eventstream` and gated behind the `test-util` cargo feature.\r\n- added client SDK codegen test for event stream to verify the functionality in the cases a) an `initial-request` message is present and b) it is not\r\n  - [The event stream test model](https://github.com/smithy-lang/smithy-rs/blob/ec4292005728cec42ca2f9f8ba40f6b5bb563b05/codegen-core/src/main/kotlin/software/amazon/smithy/rust/codegen/core/testutil/EventStreamTestModels.kt#L20) has been modified for the client SDK to include non-event stream member in the operation output struct\r\n\r\n## Testing\r\n- Existing CI\r\n- Added a service integration test for `cloudwatchlogs`\r\n- Added client SDK codegen tests for verifying initial-response message handling\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4004/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4003", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4003/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4003/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4003/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4003", "id": 2839194504, "node_id": "PR_kwDOElwhj86KeX3N", "number": 4003, "title": "Add `aws-smithy-observability` and `aws-smithy-observability-otel` crates", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2025-02-07T22:18:24Z", "updated_at": "2025-02-14T21:21:24Z", "closed_at": "2025-02-14T21:21:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4003", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4003", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4003.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4003.patch", "merged_at": "2025-02-14T21:21:23Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\nThis PR is an updated version of https://github.com/smithy-lang/smithy-rs/pull/3912 and https://github.com/smithy-lang/smithy-rs/pull/3986 moving back to the `dyn Trait` based implementation since some issues came up in the review of the Associated Types based implementation \r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nAdd two new crates\r\n* `aws-smithy-observability` - contains traits for our observability solution and a `global` module for managing the global telemetry provider\r\n* `aws-smithy-observability-otel` - contains an OpenTelemetry based implementation of the traits\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nVarious unit tests in both new crates.\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\nNote: leaving out a changelog entry for now since these crates won't offer much value until we instrument our runtime crates in some subsequent PRs\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4003/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4001", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4001/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4001/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4001/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4001", "id": 2836713604, "node_id": "PR_kwDOElwhj86KV4t7", "number": 4001, "title": "Add configuration ability to `mock_client` macro", "user": {"login": "rcoh", "id": 492903, "node_id": "MDQ6VXNlcjQ5MjkwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/492903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rcoh", "html_url": "https://github.com/rcoh", "followers_url": "https://api.github.com/users/rcoh/followers", "following_url": "https://api.github.com/users/rcoh/following{/other_user}", "gists_url": "https://api.github.com/users/rcoh/gists{/gist_id}", "starred_url": "https://api.github.com/users/rcoh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rcoh/subscriptions", "organizations_url": "https://api.github.com/users/rcoh/orgs", "repos_url": "https://api.github.com/users/rcoh/repos", "events_url": "https://api.github.com/users/rcoh/events{/privacy}", "received_events_url": "https://api.github.com/users/rcoh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-06T22:01:14Z", "updated_at": "2025-02-07T15:55:56Z", "closed_at": "2025-02-07T15:55:55Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4001", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4001", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4001.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4001.patch", "merged_at": "2025-02-07T15:55:55Z"}, "body": "## Motivation and Context\r\nWe've seen folks who need to be able to modify configuration of the client, but there's no way to deal with it outside of ejecting from the macro.\r\n\r\n## Description\r\n- add configure option to the macro\r\n- improve some docs\r\n\r\n## Testing\r\nI ran those doc tests unignored\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [ ] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [ ] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4001/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4001/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4000", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4000/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4000/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4000/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4000", "id": 2836591666, "node_id": "PR_kwDOElwhj86KVdA8", "number": 4000, "title": "Fix s3 `checksum-mode` header in presigned requests", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2025-02-06T21:06:00Z", "updated_at": "2025-02-07T18:14:19Z", "closed_at": "2025-02-07T18:14:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/4000", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/4000", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/4000.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/4000.patch", "merged_at": "2025-02-07T18:14:17Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n\r\nFixes a bug reported in https://github.com/awslabs/aws-sdk-rust/issues/1253 with flexible checksum headers sneaking into presigned requests. \r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nShort circuit the closure that mutates the `checksum-mode` header when we detect that we are making a presigned request. \r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nUpdate our presigned canary tests to do both PUT and GET and have extra headers included that aren't in the query string that will expose this issue if there is a regression.\r\n\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4000/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/4000/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3999", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3999/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3999/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3999/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3999", "id": 2833444688, "node_id": "PR_kwDOElwhj86KKuGN", "number": 3999, "title": "Run `cargo update` on the runtime lockfiles and the SDK lockfile", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-05T16:40:54Z", "updated_at": "2025-02-05T18:44:52Z", "closed_at": "2025-02-05T18:44:51Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3999", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3999", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3999.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3999.patch", "merged_at": "2025-02-05T18:44:51Z"}, "body": "If CI fails, commit the necessary fixes to this PR until all checks pass.\n\nIf changes are required to [crateNameToLastKnownWorkingVersions](https://github.com/smithy-lang/smithy-rs/blob/92916b5484cdfef9ff58540ebf5e845eeeccf860/aws/sdk/build.gradle.kts#L504), revert the first commit in the PR, run `./gradlew aws:sdk:cargoUpdateAllLockfiles`, and commit the updated lockfiles.\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3999/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3995", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3995/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3995/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3995/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3995", "id": 2828832485, "node_id": "PR_kwDOElwhj86J66O6", "number": 3995, "title": "Update list of smithy-rs maintainers", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-02-04T00:16:11Z", "updated_at": "2025-02-05T06:39:49Z", "closed_at": "2025-02-05T06:39:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3995", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3995", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3995.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3995.patch", "merged_at": "2025-02-05T06:39:48Z"}, "body": "\ud83e\udee1 \r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3995/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3994", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3994/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3994/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3994/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3994", "id": 2828368079, "node_id": "PR_kwDOElwhj86J5TWH", "number": 3994, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-02-03T19:39:24Z", "updated_at": "2025-02-05T05:37:18Z", "closed_at": "2025-02-05T05:37:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3994", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3994", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3994.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3994.patch", "merged_at": "2025-02-05T05:37:17Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3994/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3994/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3992", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3992/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3992/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3992/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3992", "id": 2822164782, "node_id": "PR_kwDOElwhj86JkfeW", "number": 3992, "title": "Remove `create-session-mode` header for internally used CreateSession API in S3 Express", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-01-31T00:45:57Z", "updated_at": "2025-01-31T17:33:12Z", "closed_at": "2025-01-31T17:33:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3992", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3992", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3992.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3992.patch", "merged_at": "2025-01-31T17:33:11Z"}, "body": "## Motivation and Context\r\nThis PR stops populating `SessionMode` by default for the `CreateSession` API internally used by S3 Express, as the value already matched the service-side default and it was already not sent by other SDKs.\r\n\r\n## Testing\r\n- Existing tests in CI (i.e. canary)\r\n- Updated S3 Express integration tests to verify that no `SessionMode` header is present by the `CreateSession` API internally used by S3 Express\r\n\r\n## Checklist\r\n- [x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3992/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3992/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3991", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3991/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3991/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3991/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3991", "id": 2819034702, "node_id": "PR_kwDOElwhj86JZ9bt", "number": 3991, "title": "Exclude `transfer-encoding` header from sigv4(a) signing", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-01-29T19:11:37Z", "updated_at": "2025-01-30T16:20:34Z", "closed_at": "2025-01-29T23:32:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3991", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3991", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3991.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3991.patch", "merged_at": "2025-01-29T23:32:40Z"}, "body": "Add changelog\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\nExclude `transfer-encoding` header from sigv4(a) signing. It is a hop by hop header and can be erased or modified by a proxy (in our particular case Cloudfront)\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nUpdated the existing tests for excluded headers.\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3991/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3990", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3990/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3990/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3990/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3990", "id": 2818917508, "node_id": "PR_kwDOElwhj86JZjo1", "number": 3990, "title": "Fix flaky test in aws-sigv4", "user": {"login": "rcoh", "id": 492903, "node_id": "MDQ6VXNlcjQ5MjkwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/492903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rcoh", "html_url": "https://github.com/rcoh", "followers_url": "https://api.github.com/users/rcoh/followers", "following_url": "https://api.github.com/users/rcoh/following{/other_user}", "gists_url": "https://api.github.com/users/rcoh/gists{/gist_id}", "starred_url": "https://api.github.com/users/rcoh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rcoh/subscriptions", "organizations_url": "https://api.github.com/users/rcoh/orgs", "repos_url": "https://api.github.com/users/rcoh/repos", "events_url": "https://api.github.com/users/rcoh/events{/privacy}", "received_events_url": "https://api.github.com/users/rcoh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-01-29T18:19:08Z", "updated_at": "2025-01-30T17:46:02Z", "closed_at": "2025-01-30T17:46:01Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3990", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3990", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3990.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3990.patch", "merged_at": "2025-01-30T17:46:01Z"}, "body": "\r\n## Motivation and Context\r\nThe test was flaky because all invalid headers are counted as rejects which can in rare cases exceed the maximum number of failures.\r\n\r\nThe test was flaky because all invalid headers are counted as rejects which can in rare cases exceed the maximum number of failures.\r\n\r\n## Description\r\nChange the test to assert that the validity status matches instead of filtering those cases out\r\n\r\n## Testing\r\n- cargo test\r\n\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3990/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3990/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3989", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3989/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3989/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3989/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3989", "id": 2816810601, "node_id": "PR_kwDOElwhj86JSZ6_", "number": 3989, "title": "Run `cargo update` on the runtime lockfiles and the SDK lockfile", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2025-01-28T22:07:12Z", "updated_at": "2025-01-31T22:20:27Z", "closed_at": "2025-01-31T22:20:26Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3989", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3989", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3989.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3989.patch", "merged_at": "2025-01-31T22:20:26Z"}, "body": "If CI fails, commit the necessary fixes to this PR until all checks pass.\n\nIf changes are required to [crateNameToLastKnownWorkingVersions](https://github.com/smithy-lang/smithy-rs/blob/92916b5484cdfef9ff58540ebf5e845eeeccf860/aws/sdk/build.gradle.kts#L504), revert the first commit in the PR, run `./gradlew aws:sdk:cargoUpdateAllLockfiles`, and commit the updated lockfiles.\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3989/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3988", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3988/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3988/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3988/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3988", "id": 2816480905, "node_id": "PR_kwDOElwhj86JRSJX", "number": 3988, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-01-28T18:52:30Z", "updated_at": "2025-01-28T21:08:36Z", "closed_at": "2025-01-28T21:08:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3988", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3988", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3988.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3988.patch", "merged_at": "2025-01-28T21:08:34Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3988/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3988/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3987", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3987/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3987/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3987/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3987", "id": 2811209709, "node_id": "PR_kwDOElwhj86I_bdU", "number": 3987, "title": "Update Jmespath shape traversal codegen to support multi-select lists following projection expressions", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-01-25T22:50:01Z", "updated_at": "2025-01-28T16:44:36Z", "closed_at": "2025-01-28T16:44:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3987", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3987", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3987.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3987.patch", "merged_at": "2025-01-28T16:44:35Z"}, "body": "## Motivation and Context\r\nAdds support for JMESPath multi-select lists following projection expressions such as `lists.structs[].[optionalInt, requiredInt]` (list projection followed by multi-select lists), `lists.structs[<some filter condition>].[optionalInt, requiredInt]` (filter projection followed by multi-select lists), and `maps.*.[optionalInt, requiredInt]` (object projection followed by multi-select lists).\r\n\r\n## Description\r\nThis PR adds support for the said functionality. Prior to the PR, the expressions above ended up the codegen either failing to generate code (for list projection) or generating the incorrect Rust code (for filter & object projection).\r\n\r\nAll the code changes except for `RustJmespathShapeTraversalGenerator.kt` are primarily adjusting the existing code based on the updates made to  `RustJmespathShapeTraversalGenerator.kt`.\r\n\r\nThe gist of the code changes in `RustJmespathShapeTraversalGenerator.kt` is as follows:\r\n- `generateProjection` now supports `MultiSelectListExpression` on the right-hand side (RHS).\r\n- Previously, given `MultiSelectListExpression` on RHS, the `map` function applied to the result of the left-hand side of a projection expression (regardless of whether it's list, filter, or object projection) returned a type `Option<Vec<&T>>`, and the `map` function body used the `?` operator to return early as soon as it encountered a field value that was `None`. That did not yield the desired behavior. Given the snippet `lists.structs[].[optionalInt, requiredInt]` in the `Motivation and Context` above for instance, the `map` function used to look like this:\r\n```\r\nfn map(_v: &crate::types::Struct) -> Option<Vec<&i32>> {\r\n    let _fld_1 = _v.optional_int.as_ref()?;\r\n    let _fld_2 = _v.required_int;\r\n    let _msl = vec![_fld_1, _fld_2];\r\n    Some(_msl)\r\n```\r\nThis meant if the `optional_int` in a `Struct` was `None`, we lost the chance to access the `required_int` field when we should've. Instead, the `map` function now looks like:\r\n```\r\nfn map(_v: &crate::types::Struct) -> Option<Vec<Option<&i32>>> {\r\n    let _fld_1 = _v.optional_int.as_ref();\r\n    let _fld_2 = Some(_v.required_int);\r\n    let _msl = vec![_fld_1, _fld_2];\r\n    Some(_msl)\r\n```\r\nThis way, the `map` function body has a chance to access all the fields of `Struct` even when any of the optional fields in a `Struct` is `None`.\r\n- Given the update to the signature of the `map` function above, `generate*Projection` functions have adjusted their implementations (such as [preserving the output type of the whole projection expression](https://github.com/smithy-lang/smithy-rs/blob/01fed784d5fc2ef6743a336496d91a51f01e6ab2/codegen-client/src/main/kotlin/software/amazon/smithy/rust/codegen/client/smithy/generators/waiters/RustJmespathShapeTraversalGenerator.kt#L989-L1010) and performing [additional flattening for `Option`s](https://github.com/smithy-lang/smithy-rs/blob/01fed784d5fc2ef6743a336496d91a51f01e6ab2/codegen-client/src/main/kotlin/software/amazon/smithy/rust/codegen/client/smithy/generators/waiters/RustJmespathShapeTraversalGenerator.kt#L757-L760)).\r\n \r\nNote that the output type of the whole projection expression stays the same before and after this PR; it's just that the inner `map` function used by the projection expression has been tweaked.\r\n\r\n## Testing\r\n- Confirmed existing tests continued working (CI and release pipeline).\r\n- Added additional JMESPath codegen tests in `RustJmespathShapeTraversalGeneratorTest.kt`.\r\n- Confirmed that the updated service model with a JMESPath expression like `Items[*].[A.Name, B.Name, C.Name, D.Name][]` generated the expected Rust code and behaved as expected.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3987/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3987/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3984", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3984/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3984/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3984/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3984", "id": 2807668843, "node_id": "PR_kwDOElwhj86Izaaq", "number": 3984, "title": "Pass UnionShape for union type discrimination", "user": {"login": "drganjoo", "id": 7694697, "node_id": "MDQ6VXNlcjc2OTQ2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7694697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drganjoo", "html_url": "https://github.com/drganjoo", "followers_url": "https://api.github.com/users/drganjoo/followers", "following_url": "https://api.github.com/users/drganjoo/following{/other_user}", "gists_url": "https://api.github.com/users/drganjoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/drganjoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drganjoo/subscriptions", "organizations_url": "https://api.github.com/users/drganjoo/orgs", "repos_url": "https://api.github.com/users/drganjoo/repos", "events_url": "https://api.github.com/users/drganjoo/events{/privacy}", "received_events_url": "https://api.github.com/users/drganjoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-01-23T18:49:55Z", "updated_at": "2025-01-29T17:02:52Z", "closed_at": "2025-01-29T17:02:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3984", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3984", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3984.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3984.patch", "merged_at": "2025-01-29T17:02:51Z"}, "body": "UnionShape needs to be passed so that the customization code can detect which Union type is being generated.", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3984/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3984/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3983", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3983/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3983/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3983/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3983", "id": 2805706688, "node_id": "PR_kwDOElwhj86IstEo", "number": 3983, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-01-23T01:48:45Z", "updated_at": "2025-01-23T03:09:05Z", "closed_at": "2025-01-23T03:09:03Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3983", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3983", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3983.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3983.patch", "merged_at": "2025-01-23T03:09:03Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3983/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3982", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3982/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3982/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3982/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3982", "id": 2805477397, "node_id": "PR_kwDOElwhj86Ir8Vs", "number": 3982, "title": "Update changelog", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-01-22T22:29:44Z", "updated_at": "2025-01-23T00:43:03Z", "closed_at": "2025-01-23T00:43:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3982", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3982", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3982.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3982.patch", "merged_at": "2025-01-23T00:43:02Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3982/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3982/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3980", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3980/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3980/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3980/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3980", "id": 2803032169, "node_id": "PR_kwDOElwhj86IjowG", "number": 3980, "title": "Check direct rust-runtime dependency minimum versions", "user": {"login": "goatgoose", "id": 3758302, "node_id": "MDQ6VXNlcjM3NTgzMDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3758302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goatgoose", "html_url": "https://github.com/goatgoose", "followers_url": "https://api.github.com/users/goatgoose/followers", "following_url": "https://api.github.com/users/goatgoose/following{/other_user}", "gists_url": "https://api.github.com/users/goatgoose/gists{/gist_id}", "starred_url": "https://api.github.com/users/goatgoose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goatgoose/subscriptions", "organizations_url": "https://api.github.com/users/goatgoose/orgs", "repos_url": "https://api.github.com/users/goatgoose/repos", "events_url": "https://api.github.com/users/goatgoose/events{/privacy}", "received_events_url": "https://api.github.com/users/goatgoose/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2025-01-21T23:34:19Z", "updated_at": "2025-01-22T22:30:10Z", "closed_at": "2025-01-22T22:25:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3980", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3980", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3980.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3980.patch", "merged_at": "2025-01-22T22:25:44Z"}, "body": "## Motivation and Context\r\nThe smithy-rs minimal-versions test currently checks all transitive dependencies, which makes it difficult to satisfy the test requirements given that the minimum dependency versions specified in transitive dependencies can't be controlled. This PR updates this test to only check for direct dependencies.\r\n\r\n## Description\r\nThe smithy-rs CI [runs the cargo minimal-versions test](https://github.com/smithy-lang/smithy-rs/blob/e41f7d7dfa84b38b1524823bdcac56f0dcc9dddc/tools/ci-scripts/check-rust-runtimes#L39) in the rust-runtime and aws/rust-runtime workspaces to make sure that the rust-runtime crates can still build even when the lowest possible version of each dependency is used. However, the minimal-versions test is not recommended by Rust:\r\n\r\n> https://doc.rust-lang.org/cargo/reference/unstable.html#minimal-versions\r\nNote: It is not recommended to use this feature. Because it enforces minimal versions for all transitive dependencies, its usefulness is limited since not all external dependencies declare proper lower version bounds. It is intended that it will be changed in the future to only enforce minimal versions for direct dependencies.\r\n\r\n\r\n`direct-minimal-versions` can be used instead, which tests the minimum versions of only direct dependencies. This PR updates this test to use the `direct` variant of minimal-versions.\r\n\r\n### Dependency minimum version changes\r\nFor some reason, the direct minimal-versions check seems to be more strict about direct minimum versions than the transitive variant. Switching to the direct variant caused many cargo update issues like the following:\r\n\r\n<details>\r\n<summary>Cargo update failure example</summary>\r\n<pre>\r\n<code>\r\n\u276f cargo minimal-versions check --direct\r\ninfo: running `cargo update -Z direct-minimal-versions`\r\n    Updating crates.io index\r\nerror: failed to select a version for `tokio-stream`.\r\n    ... required by package `lambda_runtime v0.8.0`\r\n    ... which satisfies dependency `lambda_runtime = \"^0.8\"` of package `lambda_http v0.8.0`\r\n    ... which satisfies dependency `lambda_http = \"^0.8.0\"` of package `aws-smithy-http-server-python v0.63.2 (/Users/vclarksa/w/smithy-rs-fork/rust-runtime/aws-smithy-http-server-python)`\r\nversions that meet the requirements `^0.1.2` are: 0.1.17, 0.1.16, 0.1.15, 0.1.14, 0.1.12, 0.1.11, 0.1.10, 0.1.9, 0.1.8, 0.1.7, 0.1.6, 0.1.5, 0.1.4, 0.1.3, 0.1.2\r\n\r\nall possible versions conflict with previously selected packages.\r\n\r\n  previously selected package `tokio-stream v0.1.0`\r\n    ... which satisfies dependency `tokio-stream = \"^0.1\"` of package `aws-smithy-http-server-python v0.63.2 (/Users/vclarksa/w/smithy-rs-fork/rust-runtime/aws-smithy-http-server-python)`\r\n\r\nfailed to select a version for `tokio-stream` which could resolve this conflict\r\nerror: process didn't exit successfully: `/Users/vclarksa/.rustup/toolchains/1.81.0-x86_64-apple-darwin/bin/cargo update -Z direct-minimal-versions` (exit status: 101)\r\n</code>\r\n</pre>\r\n</details>\r\n\r\nIt seems that direct-minimal-versions requires that all direct dependencies within an environment be specified with the same minimum version. Additionally, if there is a direct dependency that is also specified by a transitive dependency, the direct dependency must specify a minimum version at least as high as the transitive dependency.\r\n\r\nI resolved all such cargo update failures by choosing the highest minimum version specified somewhere in the environment, and applying this version everywhere the dependency is specified.\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\nThe modified `check-rust-runtimes` test should succeed.\r\n\r\nSome of the CI jobs are still failing. However, they appear to be unrelated to this change. These jobs also failed in the last hyper1 commit:\r\n- [Verify TLS configuration](https://github.com/smithy-lang/smithy-rs/actions/runs/12915992501/job/36020683438?pr=3980) failed for the [previous commit](https://github.com/smithy-lang/smithy-rs/actions/runs/12892906077/job/35948169972).\r\n- [Check for semver hazards](https://github.com/smithy-lang/smithy-rs/actions/runs/12915992496/job/36020736423?pr=3980) failed for the [previous commit](https://github.com/smithy-lang/smithy-rs/actions/runs/12892906281/job/35948248556)\r\n- [Check PR semver compliance](https://github.com/smithy-lang/smithy-rs/actions/runs/12915992521/job/36020685637?pr=3980) failed for the [previous commit](https://github.com/smithy-lang/smithy-rs/actions/runs/12892906281/job/35948247678).\r\n\r\nAlso, [the canary will need to be run manually](https://github.com/smithy-lang/smithy-rs/actions/runs/12915992496/job/36020737577?pr=3980) if necessary for this change.\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [ ] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [ ] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3980/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3980/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3978", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3978/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3978/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3978/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3978", "id": 2802833948, "node_id": "PR_kwDOElwhj86Ii9pK", "number": 3978, "title": "Work around importing the deprecated the `imp` module in Verify TLS configuration", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2025-01-21T21:19:45Z", "updated_at": "2025-02-03T18:01:36Z", "closed_at": "2025-02-03T18:01:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3978", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3978", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3978.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3978.patch", "merged_at": "2025-02-03T18:01:34Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [ ] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [ ] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3978/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3978/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3977", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3977/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3977/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3977/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3977", "id": 2802759186, "node_id": "PR_kwDOElwhj86IitOV", "number": 3977, "title": "Fix EcsCredentialsProvider to respect query params", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-01-21T20:35:17Z", "updated_at": "2025-01-22T03:55:40Z", "closed_at": "2025-01-22T03:55:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3977", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3977", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3977.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3977.patch", "merged_at": "2025-01-22T03:55:39Z"}, "body": "## Motivation and Context\r\nhttps://github.com/awslabs/aws-sdk-rust/issues/1248, and implemented the fix as prescribed.\r\n\r\n## Testing\r\nAdded a request matching unit test to the `ecs` module to ensure that query params are included in credential's HTTP request.\r\n\r\n## Checklist\r\n- [x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3977/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3977/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3975", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3975/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3975/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3975/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3975", "id": 2800310502, "node_id": "PR_kwDOElwhj86IaXkF", "number": 3975, "title": "IMDS retries", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2025-01-20T21:42:31Z", "updated_at": "2025-01-22T22:04:19Z", "closed_at": "2025-01-22T22:04:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3975", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3975", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3975.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3975.patch", "merged_at": "2025-01-22T22:04:18Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\nAddressing https://github.com/awslabs/aws-sdk-rust/issues/1233\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nAdd ability to configure the retry classifier on the IMDS client.\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nAdded new unit test to ensure that a user defined retry classifer is being used. \r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3975/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3975/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3974", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3974/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3974/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3974/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3974", "id": 2796155533, "node_id": "PR_kwDOElwhj86IMUME", "number": 3974, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-01-17T19:25:15Z", "updated_at": "2025-01-17T20:08:52Z", "closed_at": "2025-01-17T20:08:50Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3974", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3974", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3974.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3974.patch", "merged_at": "2025-01-17T20:08:50Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3974/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3974/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3973", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3973/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3973/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3973/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3973", "id": 2795853728, "node_id": "PR_kwDOElwhj86ILSGA", "number": 3973, "title": "enable hyper1 behind BMV", "user": {"login": "aajtodd", "id": 5158304, "node_id": "MDQ6VXNlcjUxNTgzMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5158304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aajtodd", "html_url": "https://github.com/aajtodd", "followers_url": "https://api.github.com/users/aajtodd/followers", "following_url": "https://api.github.com/users/aajtodd/following{/other_user}", "gists_url": "https://api.github.com/users/aajtodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/aajtodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aajtodd/subscriptions", "organizations_url": "https://api.github.com/users/aajtodd/orgs", "repos_url": "https://api.github.com/users/aajtodd/repos", "events_url": "https://api.github.com/users/aajtodd/events{/privacy}", "received_events_url": "https://api.github.com/users/aajtodd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2025-01-17T16:26:20Z", "updated_at": "2025-01-22T17:06:10Z", "closed_at": "2025-01-22T17:06:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3973", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3973", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3973.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3973.patch", "merged_at": "2025-01-22T17:06:08Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n* https://github.com/smithy-lang/smithy-rs/issues/1925\r\n* https://github.com/awslabs/aws-sdk-rust/issues/977\r\n\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nFollow up to https://github.com/smithy-lang/smithy-rs/pull/3939 to change how we enable hyper1 as the default.\r\n\r\n* This approach adds a new cargo feature flag on generated SDK packages (`default-https-client`) and restores the `rustls` feature to mean what it did before. Both will remain enabled as `default` features for some undetermined amount of time with the intent to remove `rustls` as a default feature as a breaking change in the future.\r\n* Renamed feature flags to be consistent. We settled on `default-https-client`. This new flag when enabled and the appropriate min BMV is set will result in the new HTTPS stack being the default for clients. Otherwise we fallback to the old behavior (still requires `rustls` and `connector-hyper-0-14` features enabled)\r\n\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3973/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3973/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3972", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3972/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3972/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3972/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3972", "id": 2793943930, "node_id": "PR_kwDOElwhj86IEqTM", "number": 3972, "title": "Stop pinning `idna` and `url` crates", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-01-16T22:54:47Z", "updated_at": "2025-01-17T17:09:52Z", "closed_at": "2025-01-17T17:09:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3972", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3972", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3972.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3972.patch", "merged_at": "2025-01-17T17:09:51Z"}, "body": "## Motivation and Context\r\nNow that we're on MSRV 1.8.1 we can addresses [these TODOs](https://github.com/smithy-lang/smithy-rs/blob/main/aws/sdk/build.gradle.kts#L506-L507).\r\n\r\n## Testing\r\nManually ran\r\n```\r\n./gradlew aws:sdk:cargoUpdateAllLockfiles \r\n```\r\nand bulit `aws-sdk-s3` (can be any SDK crate) with updated `idna` and `url` crates:\r\n```\r\n\u279c  s3 git:(ysaito/remove-pinning-idna-and-url) \u2717 cargo check --all-features\r\n...\r\n    Checking idna v1.0.3\r\n...\r\n    Checking url v2.5.4\r\n...\r\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 15.56s\r\n```\r\n\r\nI didn't include updated lockfiles in this PR as they will be updated automatically next week by the bot's weekly PR to update lockfiles.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3972/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3971", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3971/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3971/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3971/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3971", "id": 2793934982, "node_id": "PR_kwDOElwhj86IEoXS", "number": 3971, "title": "Fix presigned put bug with flex checksums", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2025-01-16T22:47:23Z", "updated_at": "2025-01-17T17:29:43Z", "closed_at": "2025-01-17T17:29:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3971", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3971", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3971.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3971.patch", "merged_at": "2025-01-17T17:29:42Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\nFixing bug reported in https://github.com/awslabs/aws-sdk-rust/issues/1240#issuecomment-2594822919\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nUpdated presigning integ tests to account for behavior specified in SEP, added new test for the user provided checksum case\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3971/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3970", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3970/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3970/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3970/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3970", "id": 2793039556, "node_id": "PR_kwDOElwhj86IBivj", "number": 3970, "title": "Add support for customizing union variants in JSON/CBOR serialization/de-serialization", "user": {"login": "drganjoo", "id": 7694697, "node_id": "MDQ6VXNlcjc2OTQ2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7694697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drganjoo", "html_url": "https://github.com/drganjoo", "followers_url": "https://api.github.com/users/drganjoo/followers", "following_url": "https://api.github.com/users/drganjoo/following{/other_user}", "gists_url": "https://api.github.com/users/drganjoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/drganjoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drganjoo/subscriptions", "organizations_url": "https://api.github.com/users/drganjoo/orgs", "repos_url": "https://api.github.com/users/drganjoo/repos", "events_url": "https://api.github.com/users/drganjoo/events{/privacy}", "received_events_url": "https://api.github.com/users/drganjoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2025-01-16T15:09:34Z", "updated_at": "2025-01-22T16:31:46Z", "closed_at": "2025-01-22T16:31:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3970", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3970", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3970.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3970.patch", "merged_at": "2025-01-22T16:31:45Z"}, "body": "This PR introduces customization points in JSON and CBOR serialization / deserialization logic to support customization of the wire format of Union variant keys.", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3970/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3969", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3969/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3969/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3969/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3969", "id": 2788394903, "node_id": "PR_kwDOElwhj86Hxdi8", "number": 3969, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-01-14T22:24:37Z", "updated_at": "2025-01-15T19:56:25Z", "closed_at": "2025-01-15T19:56:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3969", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3969", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3969.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3969.patch", "merged_at": "2025-01-15T19:56:24Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3969/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3969/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3968", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3968/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3968/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3968/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3968", "id": 2788369420, "node_id": "PR_kwDOElwhj86HxX6s", "number": 3968, "title": "Run `cargo update` on the runtime lockfiles and the SDK lockfile", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-01-14T22:07:45Z", "updated_at": "2025-01-16T04:56:58Z", "closed_at": "2025-01-16T04:56:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3968", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3968", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3968.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3968.patch", "merged_at": "2025-01-16T04:56:57Z"}, "body": "If CI fails, commit the necessary fixes to this PR until all checks pass.\n\nIf changes are required to [crateNameToLastKnownWorkingVersions](https://github.com/smithy-lang/smithy-rs/blob/92916b5484cdfef9ff58540ebf5e845eeeccf860/aws/sdk/build.gradle.kts#L504), revert the first commit in the PR, run `./gradlew aws:sdk:cargoUpdateAllLockfiles`, and commit the updated lockfiles.\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3968/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3968/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3967", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3967/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3967/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3967/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3967", "id": 2785633927, "node_id": "PR_kwDOElwhj86Hn5Dw", "number": 3967, "title": "Flexible Checksums V2", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2025-01-13T22:43:37Z", "updated_at": "2025-01-14T21:15:28Z", "closed_at": "2025-01-14T21:15:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3967", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3967", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3967.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3967.patch", "merged_at": "2025-01-14T21:15:27Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\nFlexible checksums V2 will be launching this week\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3967/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3966", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3966/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3966/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3966/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3966", "id": 2784486895, "node_id": "PR_kwDOElwhj86Hjzsc", "number": 3966, "title": "fix canary target to wasm32-wasip1", "user": {"login": "aajtodd", "id": 5158304, "node_id": "MDQ6VXNlcjUxNTgzMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5158304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aajtodd", "html_url": "https://github.com/aajtodd", "followers_url": "https://api.github.com/users/aajtodd/followers", "following_url": "https://api.github.com/users/aajtodd/following{/other_user}", "gists_url": "https://api.github.com/users/aajtodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/aajtodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aajtodd/subscriptions", "organizations_url": "https://api.github.com/users/aajtodd/orgs", "repos_url": "https://api.github.com/users/aajtodd/repos", "events_url": "https://api.github.com/users/aajtodd/events{/privacy}", "received_events_url": "https://api.github.com/users/aajtodd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2025-01-13T16:12:51Z", "updated_at": "2025-01-14T20:12:05Z", "closed_at": "2025-01-14T20:12:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3966", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3966", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3966.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3966.patch", "merged_at": "2025-01-14T20:12:04Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n`P180666804`\r\n\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\nRelease [1.84](https://releases.rs/docs/1.84.0/) removed support for the `wasm32-wasi` target:\r\n\r\n> Support for the target named wasm32-wasi has been removed as the target is now named wasm32-wasip1. This completes the transition plan for this target following the introduction of wasm32-wasip1 in Rust 1.78. Compiler warnings on use of wasm32-wasi introduced in Rust 1.81 are now gone as well as the target is removed.\r\n\r\n\r\n\r\nUpdates `wasm32-wasi` target to `wasm32-wasip1` which should fix the canary on `stable` (example failed [run](https://github.com/awslabs/aws-sdk-rust/actions/runs/12738274496)).\r\n\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3966/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3965", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3965/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3965/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3965/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3965", "id": 2780602676, "node_id": "PR_kwDOElwhj86HWr8I", "number": 3965, "title": "Add s2n-tls client TLS provider", "user": {"login": "goatgoose", "id": 3758302, "node_id": "MDQ6VXNlcjM3NTgzMDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3758302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goatgoose", "html_url": "https://github.com/goatgoose", "followers_url": "https://api.github.com/users/goatgoose/followers", "following_url": "https://api.github.com/users/goatgoose/following{/other_user}", "gists_url": "https://api.github.com/users/goatgoose/gists{/gist_id}", "starred_url": "https://api.github.com/users/goatgoose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goatgoose/subscriptions", "organizations_url": "https://api.github.com/users/goatgoose/orgs", "repos_url": "https://api.github.com/users/goatgoose/repos", "events_url": "https://api.github.com/users/goatgoose/events{/privacy}", "received_events_url": "https://api.github.com/users/goatgoose/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2025-01-10T16:33:58Z", "updated_at": "2025-01-23T18:48:24Z", "closed_at": "2025-01-23T18:48:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3965", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3965", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3965.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3965.patch", "merged_at": "2025-01-23T18:48:23Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n\r\nAdds s2n-tls as an optional TLS provider to the hyper1 branch.\r\n\r\nRelated issue: https://github.com/smithy-lang/smithy-rs/issues/2446\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\nCurrently, smithy-rs clients use rustls as the TLS provider. This PR adds s2n-tls as an optional provider, allowing users to configure smithy-rs to secure their HTTP requests with s2n-tls.\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\nI added a new client smoke test for s2n-tls. I also added a test that makes sure s2n-tls is actually set as the provider when configured. I was looking for more tests that invoke rustls that I could add an equivalent s2n-tls test for, but was having trouble discovering them. If there are tests that make sense to have please let me know and I will add them!\r\n\r\nSome of the CI jobs are still failing. However, they appear to be unrelated to this change. These jobs also failed in the last hyper1 commit:\r\n- Verify TLS configuration [failed similarly in the last commit](https://github.com/smithy-lang/smithy-rs/actions/runs/12915992501/job/36020683438)\r\n- Check for semver hazards [failed similarly in the last commit](https://github.com/smithy-lang/smithy-rs/actions/runs/12915992496/job/36025552287)\r\n- Check PR semver compliance [failed similarly in the last commit](https://github.com/smithy-lang/smithy-rs/actions/runs/12915992521/job/36020685637)\r\n\r\nAlso, [the canary will need to be run manually](https://github.com/smithy-lang/smithy-rs/actions/runs/12916010137/job/36020739770?pr=3965) if necessary for this change.\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [ ] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [ ] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3965/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3965/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3964", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3964/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3964/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3964/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3964", "id": 2776386070, "node_id": "PR_kwDOElwhj86HISLI", "number": 3964, "title": "fix token bucket not being set for both standard and adaptive retry modes", "user": {"login": "aajtodd", "id": 5158304, "node_id": "MDQ6VXNlcjUxNTgzMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5158304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aajtodd", "html_url": "https://github.com/aajtodd", "followers_url": "https://api.github.com/users/aajtodd/followers", "following_url": "https://api.github.com/users/aajtodd/following{/other_user}", "gists_url": "https://api.github.com/users/aajtodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/aajtodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aajtodd/subscriptions", "organizations_url": "https://api.github.com/users/aajtodd/orgs", "repos_url": "https://api.github.com/users/aajtodd/repos", "events_url": "https://api.github.com/users/aajtodd/events{/privacy}", "received_events_url": "https://api.github.com/users/aajtodd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2025-01-08T21:30:14Z", "updated_at": "2025-01-14T15:44:10Z", "closed_at": "2025-01-14T15:44:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3964", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3964", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3964.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3964.patch", "merged_at": "2025-01-14T15:44:09Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\nhttps://github.com/awslabs/aws-sdk-rust/issues/1234\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\nPR adds a new interceptor registered as part of the default retry plugin components that ensures a token bucket is _always_ present and available to the retry strategy. The buckets are partitioned off the retry partition (which defaults to the service name and is already set by the default plugin). We use a `static` variable in the runtime for this which means that token buckets can and will apply to every single client that uses the same retry partition. The implementation tries to avoid contention on this new global lock by only consulting it if the retry partition is overridden after client creation. \r\n\r\nFor AWS SDK clients I've updated the default retry partition clients are created with to include the region when set. Now the default partition for a client will be `{service}-{region}` (e.g. `sts-us-west-2`) rather than just the service name (e.g. `sts`). This partitioning is a little more granular and closer to what we want/expect as failures in one region should not cause throttling to another (and vice versa for success in one should not increase available quota in another). \r\n\r\nI also updated the implementation to follow the SEP a little more literally/closely as far as structure which fixes some subtle bugs. State is updated in one place and we ensure that the token bucket is always consulted (before the token bucket could be skipped in the case of adaptive retries returning a delay and the adaptive rate limit was updated in multiple branches). \r\n\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x ] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [ x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3964/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3964/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3960", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3960/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3960/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3960/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3960", "id": 2766758872, "node_id": "PR_kwDOElwhj86Gnl8A", "number": 3960, "title": "Update docs for non aws-config config builders", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2025-01-02T22:56:56Z", "updated_at": "2025-01-03T17:37:46Z", "closed_at": "2025-01-03T17:37:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3960", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3960", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3960.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3960.patch", "merged_at": "2025-01-03T17:37:45Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\nPartially addresses https://github.com/awslabs/aws-sdk-rust/issues/1226, although we might want to look into going further and actually deprecating or warning on these builder methods. \r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nDoc only update\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3960/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3960/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3959", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3959/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3959/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3959/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3959", "id": 2764698103, "node_id": "PR_kwDOElwhj86GgwbP", "number": 3959, "title": "Run `cargo update` on the runtime lockfiles and the SDK lockfile", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-12-31T22:07:41Z", "updated_at": "2025-01-03T18:54:22Z", "closed_at": "2025-01-03T18:54:21Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3959", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3959", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3959.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3959.patch", "merged_at": "2025-01-03T18:54:21Z"}, "body": "If CI fails, commit the necessary fixes to this PR until all checks pass.\n\nIf changes are required to [crateNameToLastKnownWorkingVersions](https://github.com/smithy-lang/smithy-rs/blob/92916b5484cdfef9ff58540ebf5e845eeeccf860/aws/sdk/build.gradle.kts#L504), revert the first commit in the PR, run `./gradlew aws:sdk:cargoUpdateAllLockfiles`, and commit the updated lockfiles.\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3959/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3959/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3957", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3957/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3957/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3957/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3957", "id": 2763652499, "node_id": "PR_kwDOElwhj86GdRtn", "number": 3957, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-30T20:12:55Z", "updated_at": "2024-12-30T23:42:51Z", "closed_at": "2024-12-30T23:42:50Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3957", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3957", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3957.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3957.patch", "merged_at": "2024-12-30T23:42:50Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3957/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3957/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3955", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3955/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3955/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3955/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3955", "id": 2761851293, "node_id": "PR_kwDOElwhj86GXSSf", "number": 3955, "title": "Fix Rust 1.83.0 \"elided_named_lifetimes\" warning.", "user": {"login": "deven", "id": 98210, "node_id": "MDQ6VXNlcjk4MjEw", "avatar_url": "https://avatars.githubusercontent.com/u/98210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deven", "html_url": "https://github.com/deven", "followers_url": "https://api.github.com/users/deven/followers", "following_url": "https://api.github.com/users/deven/following{/other_user}", "gists_url": "https://api.github.com/users/deven/gists{/gist_id}", "starred_url": "https://api.github.com/users/deven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deven/subscriptions", "organizations_url": "https://api.github.com/users/deven/orgs", "repos_url": "https://api.github.com/users/deven/repos", "events_url": "https://api.github.com/users/deven/events{/privacy}", "received_events_url": "https://api.github.com/users/deven/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-28T18:59:20Z", "updated_at": "2024-12-28T23:47:54Z", "closed_at": "2024-12-28T22:23:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3955", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3955", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3955.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3955.patch", "merged_at": "2024-12-28T22:23:58Z"}, "body": "   Compiling aws-config v1.5.12 (.../aws-config)\r\nwarning: elided lifetime has a name\r\n   --> .../aws-config/src/meta/credentials/chain.rs:117:72\r\n    |\r\n117 |     fn provide_credentials<'a>(&'a self) -> future::ProvideCredentials<'_>\r\n    |                            -- lifetime `'a` declared here              ^^ this elided lifetime gets resolved as `'a`\r\n    |\r\n    = note: `#[warn(elided_named_lifetimes)]` on by default\r\n\r\nwarning: elided lifetime has a name\r\n   --> .../aws-config/src/meta/token.rs:108:60\r\n    |\r\n108 |     fn provide_token<'a>(&'a self) -> future::ProvideToken<'_>\r\n    |                      -- lifetime `'a` declared here        ^^ this elided lifetime gets resolved as `'a`\r\n\r\nwarning: elided lifetime has a name\r\n   --> .../aws-config/src/sts/assume_role.rs:317:72\r\n    |\r\n317 |     fn provide_credentials<'a>(&'a self) -> future::ProvideCredentials<'_>\r\n    |                            -- lifetime `'a` declared here              ^^ this elided lifetime gets resolved as `'a`\r\n\r\n## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [ ] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [ ] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3955/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3955/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3954", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3954/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3954/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3954/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3954", "id": 2761588225, "node_id": "PR_kwDOElwhj86GWcAu", "number": 3954, "title": "Fix registerGenerateCargoWorkspaceTask() to declare the output file.", "user": {"login": "deven", "id": 98210, "node_id": "MDQ6VXNlcjk4MjEw", "avatar_url": "https://avatars.githubusercontent.com/u/98210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deven", "html_url": "https://github.com/deven", "followers_url": "https://api.github.com/users/deven/followers", "following_url": "https://api.github.com/users/deven/following{/other_user}", "gists_url": "https://api.github.com/users/deven/gists{/gist_id}", "starred_url": "https://api.github.com/users/deven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deven/subscriptions", "organizations_url": "https://api.github.com/users/deven/orgs", "repos_url": "https://api.github.com/users/deven/repos", "events_url": "https://api.github.com/users/deven/events{/privacy}", "received_events_url": "https://api.github.com/users/deven/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-28T07:37:56Z", "updated_at": "2024-12-28T23:48:27Z", "closed_at": "2024-12-28T21:11:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3954", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3954", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3954.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3954.patch", "merged_at": "2024-12-28T21:11:33Z"}, "body": "## Motivation and Context\r\nWhen I tried to build the main branch with `./gradlew assemble`, I got the following error.  This commit fixes the problem.\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task ':aws:sdk-adhoc-test:generateCargoWorkspace'.\r\n> java.io.FileNotFoundException: /home/deven/git/smithy-rs/aws/sdk-adhoc-test/build/smithyprojections/sdk-adhoc-test/Cargo.toml (No such file or directory)\r\n```\r\n\r\n## Description\r\nFixes `registerGenerateCargoWorkspaceTask()` to declare the output file correctly when creating the `Cargo.toml` file, so Gradle can track the dependencies properly.\r\n\r\n## Testing\r\nWithout this change, `./gradlew clean; ./gradlew assemble` failed every time.  With this change, it works.\r\n\r\n## Checklist\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3954/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3953", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3953/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3953/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3953/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3953", "id": 2761479982, "node_id": "PR_kwDOElwhj86GWDhp", "number": 3953, "title": "Add MVP of automated performance tests", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-12-28T05:20:34Z", "updated_at": "2024-12-30T18:49:03Z", "closed_at": "2024-12-30T18:49:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3953", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3953", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3953.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3953.patch", "merged_at": "2024-12-30T18:49:02Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\nWe have an EOY goal to to integrate with our internal automated performance monitoring solution. \r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nAdd a new crate at `aws/sdk/benchmarks/sdk-perf/` that runs some very basic performance tests (currently just serializing and deserializing DDB request/responses). Also add a new ci-script that generates the correct SDK crates, compiles the `sdk-perf` crate, and creates a shell script that the automated performance tests invoke to kick off our tests. \r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nI deployed this code to my personal Catapult instance (along with the changes to our internal CDK that will be CRed separately) and successfully ran an `e2e-test`.\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\nNo customer visible changes, this is strictly for our CI.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3953/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3953/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3952", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3952/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3952/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3952/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3952", "id": 2761431274, "node_id": "PR_kwDOElwhj86GV41d", "number": 3952, "title": "Fix trivial mistake in error message.", "user": {"login": "deven", "id": 98210, "node_id": "MDQ6VXNlcjk4MjEw", "avatar_url": "https://avatars.githubusercontent.com/u/98210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deven", "html_url": "https://github.com/deven", "followers_url": "https://api.github.com/users/deven/followers", "following_url": "https://api.github.com/users/deven/following{/other_user}", "gists_url": "https://api.github.com/users/deven/gists{/gist_id}", "starred_url": "https://api.github.com/users/deven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deven/subscriptions", "organizations_url": "https://api.github.com/users/deven/orgs", "repos_url": "https://api.github.com/users/deven/repos", "events_url": "https://api.github.com/users/deven/events{/privacy}", "received_events_url": "https://api.github.com/users/deven/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-12-28T04:08:11Z", "updated_at": "2024-12-28T23:46:46Z", "closed_at": "2024-12-28T20:44:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3952", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3952", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3952.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3952.patch", "merged_at": "2024-12-28T20:44:26Z"}, "body": "## Motivation and Context\r\nThis commit fixes a bad error message.\r\n\r\n## Description\r\nIn `read_profile_line()`, when `.strip_prefix('[')` fails, the original error message was `Profile definition must start with ]`, which is obviously wrong.  This commit fixes the error message to be `Profile definition must start with '['`, which corrects the mistake in the original error message (fixing `]` to be `[`), and adds the single quotes to match the formatting of the error message used when `.strip_suffix(']')` fails (`Profile definition must end with ']'`).\r\n\r\n## Testing\r\nNo testing is needed here; this is solely a change to a hardcoded error message string.\r\n\r\n## Checklist\r\nThis is a trivial fix.  Is it really interesting enough to mention in a changelog?\r\n\r\n- [ ] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [ ] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3952/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3952/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3951", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3951/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3951/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3951/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3951", "id": 2759929572, "node_id": "PR_kwDOElwhj86GQ5mX", "number": 3951, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-26T16:16:05Z", "updated_at": "2024-12-26T18:30:23Z", "closed_at": "2024-12-26T18:30:21Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3951", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3951", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3951.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3951.patch", "merged_at": "2024-12-26T18:30:21Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3951/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3951/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3950", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3950/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3950/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3950/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3950", "id": 2756597245, "node_id": "PR_kwDOElwhj86GHEPb", "number": 3950, "title": "Run `cargo update` on the runtime lockfiles and the SDK lockfile", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-23T19:17:10Z", "updated_at": "2024-12-24T16:11:48Z", "closed_at": "2024-12-24T16:11:47Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3950", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3950", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3950.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3950.patch", "merged_at": "2024-12-24T16:11:47Z"}, "body": "If CI fails, commit the necessary fixes to this PR until all checks pass.\n\nIf changes are required to [crateNameToLastKnownWorkingVersions](https://github.com/smithy-lang/smithy-rs/blob/92916b5484cdfef9ff58540ebf5e845eeeccf860/aws/sdk/build.gradle.kts#L504), revert the first commit in the PR, run `./gradlew aws:sdk:cargoUpdateAllLockfiles`, and commit the updated lockfiles.\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3950/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3950/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3944", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3944/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3944/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3944/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3944", "id": 2745464326, "node_id": "PR_kwDOElwhj86FhbR8", "number": 3944, "title": "add tracking for checksum algorithm and retry mode business metrics", "user": {"login": "Velfi", "id": 4008103, "node_id": "MDQ6VXNlcjQwMDgxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4008103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Velfi", "html_url": "https://github.com/Velfi", "followers_url": "https://api.github.com/users/Velfi/followers", "following_url": "https://api.github.com/users/Velfi/following{/other_user}", "gists_url": "https://api.github.com/users/Velfi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Velfi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Velfi/subscriptions", "organizations_url": "https://api.github.com/users/Velfi/orgs", "repos_url": "https://api.github.com/users/Velfi/repos", "events_url": "https://api.github.com/users/Velfi/events{/privacy}", "received_events_url": "https://api.github.com/users/Velfi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-12-17T16:46:44Z", "updated_at": "2024-12-18T17:58:09Z", "closed_at": "2024-12-18T17:58:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3944", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3944", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3944.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3944.patch", "merged_at": "2024-12-18T17:58:08Z"}, "body": "Adds business metric tracking for checksum algorithms and retry modes. This PR includes tests.\r\n\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3944/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3944/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3943", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3943/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3943/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3943/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3943", "id": 2743423045, "node_id": "PR_kwDOElwhj86FabPT", "number": 3943, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-16T21:21:28Z", "updated_at": "2024-12-17T16:19:21Z", "closed_at": "2024-12-17T16:19:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3943", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3943", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3943.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3943.patch", "merged_at": "2024-12-17T16:19:19Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3943/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3942", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3942/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3942/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3942/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3942", "id": 2742974594, "node_id": "PR_kwDOElwhj86FY3OT", "number": 3942, "title": "pin smithy-rs-tool-common with lockfile", "user": {"login": "aajtodd", "id": 5158304, "node_id": "MDQ6VXNlcjUxNTgzMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5158304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aajtodd", "html_url": "https://github.com/aajtodd", "followers_url": "https://api.github.com/users/aajtodd/followers", "following_url": "https://api.github.com/users/aajtodd/following{/other_user}", "gists_url": "https://api.github.com/users/aajtodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/aajtodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aajtodd/subscriptions", "organizations_url": "https://api.github.com/users/aajtodd/orgs", "repos_url": "https://api.github.com/users/aajtodd/repos", "events_url": "https://api.github.com/users/aajtodd/events{/privacy}", "received_events_url": "https://api.github.com/users/aajtodd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-12-16T17:26:28Z", "updated_at": "2024-12-17T17:38:42Z", "closed_at": "2024-12-17T17:38:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3942", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3942", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3942.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3942.patch", "merged_at": "2024-12-17T17:38:41Z"}, "body": "## Description\r\nSeeing preview build failures across the board. Looks like `home@0.5.11` was [released a few hours ago](https://github.com/rust-lang/cargo/pull/14939) and comes with a new MSRV of 1.81. We don't have a lockfile for `smithy-rs-tool-common` for some reason. This PR adds one.\r\n\r\n\r\n```\r\n~/sandbox/rs/smithy-rs/tools/ci-build/smithy-rs-tool-common on main \u2717                                                                            [41d648dd6]  12:14\r\n> cargo check\r\nerror: rustc 1.78.0 is not supported by the following package:\r\n  home@0.5.11 requires rustc 1.81\r\nEither upgrade rustc or select compatible dependency versions with\r\n`cargo update <name>@<current-ver> --precise <compatible-ver>`\r\nwhere `<compatible-ver>` is the latest version supporting rustc 1.78.0\r\n```\r\n\r\nAdded a lockfile and downgraded `home`:\r\n\r\n```sh\r\n> cargo update home@0.5.11 --precise 0.5.9\r\n```\r\n\r\n## Testing\r\nBuild locally + CI.\r\n\r\n## Questions \r\n\r\nLockfiles do not appear to be updated automatically for anything under `ci-build` unless I'm missing something. This is probably fine as our use of lockfiles is intended to catch issues with consumers of `smithy-rs` and the SDK not our own internal tooling. \r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3942/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3942/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3941", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3941/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3941/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3941/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3941", "id": 2731302999, "node_id": "PR_kwDOElwhj86ExSUM", "number": 3941, "title": "Run `cargo update` on the runtime lockfiles and the SDK lockfile", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-10T22:07:26Z", "updated_at": "2024-12-11T14:23:09Z", "closed_at": "2024-12-11T14:23:08Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3941", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3941", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3941.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3941.patch", "merged_at": "2024-12-11T14:23:07Z"}, "body": "If CI fails, commit the necessary fixes to this PR until all checks pass.\n\nIf changes are required to [crateNameToLastKnownWorkingVersions](https://github.com/smithy-lang/smithy-rs/blob/92916b5484cdfef9ff58540ebf5e845eeeccf860/aws/sdk/build.gradle.kts#L504), revert the first commit in the PR, run `./gradlew aws:sdk:cargoUpdateAllLockfiles`, and commit the updated lockfiles.\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3941/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3941/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3940", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3940/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3940/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3940/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3940", "id": 2730074485, "node_id": "PR_kwDOElwhj86EtBt6", "number": 3940, "title": "chore: update url version to v2.5.4", "user": {"login": "ryota-sakamoto", "id": 18019529, "node_id": "MDQ6VXNlcjE4MDE5NTI5", "avatar_url": "https://avatars.githubusercontent.com/u/18019529?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryota-sakamoto", "html_url": "https://github.com/ryota-sakamoto", "followers_url": "https://api.github.com/users/ryota-sakamoto/followers", "following_url": "https://api.github.com/users/ryota-sakamoto/following{/other_user}", "gists_url": "https://api.github.com/users/ryota-sakamoto/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryota-sakamoto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryota-sakamoto/subscriptions", "organizations_url": "https://api.github.com/users/ryota-sakamoto/orgs", "repos_url": "https://api.github.com/users/ryota-sakamoto/repos", "events_url": "https://api.github.com/users/ryota-sakamoto/events{/privacy}", "received_events_url": "https://api.github.com/users/ryota-sakamoto/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-12-10T13:06:03Z", "updated_at": "2024-12-20T01:42:14Z", "closed_at": "2024-12-19T20:10:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3940", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3940", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3940.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3940.patch", "merged_at": "2024-12-19T20:10:31Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n\r\n`idna` 0.5.0 which `url` depends on has CVE-2024-12224 so we need to update the crate to v2.5.4.\r\nhttps://rustsec.org/advisories/RUSTSEC-2024-0421\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\nThis PR is to update the crate on aws-config, aws-inlineable and inlineable. Because all of them has dependency explicitly. Also I updated Cargo.toml and run `cargo build` on each of them to generate Cargo.lock.\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [ ] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [ ] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3940/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3940/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3939", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3939/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3939/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3939/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3939", "id": 2721140612, "node_id": "PR_kwDOElwhj86EOQgV", "number": 3939, "title": "enable hyper1 as default http client", "user": {"login": "aajtodd", "id": 5158304, "node_id": "MDQ6VXNlcjUxNTgzMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5158304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aajtodd", "html_url": "https://github.com/aajtodd", "followers_url": "https://api.github.com/users/aajtodd/followers", "following_url": "https://api.github.com/users/aajtodd/following{/other_user}", "gists_url": "https://api.github.com/users/aajtodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/aajtodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aajtodd/subscriptions", "organizations_url": "https://api.github.com/users/aajtodd/orgs", "repos_url": "https://api.github.com/users/aajtodd/repos", "events_url": "https://api.github.com/users/aajtodd/events{/privacy}", "received_events_url": "https://api.github.com/users/aajtodd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2024-12-05T18:39:14Z", "updated_at": "2024-12-12T17:43:56Z", "closed_at": "2024-12-12T17:43:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3939", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3939", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3939.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3939.patch", "merged_at": "2024-12-12T17:43:54Z"}, "body": "## Motivation and Context\r\n* https://github.com/smithy-lang/smithy-rs/issues/1925\r\n* https://github.com/awslabs/aws-sdk-rust/issues/977\r\n\r\n## Description\r\n* Add a new `default-http-connector` feature to `aws-smithy-runtime` that enables hyper 1.x with rustls+aws-lc as the default HTTP client plugin.\r\n    * If both the legacy `connector-hyper-014-x` feature is enabled the new feature takes precedence such that the default HTTP client plugin favors hyper 1 if both features are enabled.\r\n* Update codegen to enable the new `default-http-connector` feature instead of hyper 0.14\r\n    * NOTE: we can't break the existing `rustls` feature flag so it has instead been updated to enable the `default-http-connector` feature.\r\n    * Importantly this still uses rustls as the TLS provider but the crypto provider now defaults to aws-lc (which is coincidentally what rustls now defaults to as well). This is likely to break _someone_ somewhere due to build requirements changing (e.g. CMake now be required on certain platforms or other build tools needed).\r\n* Updated `aws-config` to default to hyper1 for the default credentials chain.\r\n    * We have two features in `aws-config`, `rustls` and `client-hyper`, that seem to be used entirely to enable the `aws-smithy-runtime` features `tls-rustls` and `connector-hyper-0-14-x` features (both are required for the default HTTP client plugin to work prior to this PR). I think the _intent_ behind these features was \"the user is not providing an HTTP client explicitly so we need a default one to be available\". I've added a new feature to `aws-config` for this, `default-http-connector` and updated the existing features to be synonyms. We don't use `rustls` or `hyper 0.14.x` directly in `aws-config` so I think this is a more clearly defined flag and conveys it's intent better.\r\n* Added a new `legacy-test-util` feature flag to `aws-smithy-runtime`.  The rationale for this is that the `test-util` feature provides testing utilities for other things from `aws-smithy-runtime` but it also brings in the (now) legacy hyper 0.14 HTTP testing facilities. I've left `test-util` to mean what it does today and be backwards compatibile (for now anyway) and  in future we can ship a (breaking) change to disable the legacy test utils by default (and by extension stop compiling the legacy hyper ecosystem in all of our tests)\r\n* Fixed an issue in `examples/pokemon-service-common` due to codegen no longer generating clients with the `aws-smithy-runtime/tls-rustls` feature enabled by default (they are using the `HyperClientBuilder::build_https()` method directly but relying on feature unification to enable the method)\r\n\r\n## Questions\r\n\r\n* Bikeshed any feature flag names. e.g. `aws-config/default-http-connector` could be more generic like `default-providers` or something. Today we use it to mean \"we need a default HTTP client\" but you can imagine a future where we need other default runtime components to exist and be configured. Perhaps that is what we want from this flag?\r\n \r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3939/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3937", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3937/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3937/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3937/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3937", "id": 2720814013, "node_id": "PR_kwDOElwhj86ENICj", "number": 3937, "title": "Fix DSQL SDK token generation example", "user": {"login": "Benjscho", "id": 47790940, "node_id": "MDQ6VXNlcjQ3NzkwOTQw", "avatar_url": "https://avatars.githubusercontent.com/u/47790940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Benjscho", "html_url": "https://github.com/Benjscho", "followers_url": "https://api.github.com/users/Benjscho/followers", "following_url": "https://api.github.com/users/Benjscho/following{/other_user}", "gists_url": "https://api.github.com/users/Benjscho/gists{/gist_id}", "starred_url": "https://api.github.com/users/Benjscho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Benjscho/subscriptions", "organizations_url": "https://api.github.com/users/Benjscho/orgs", "repos_url": "https://api.github.com/users/Benjscho/repos", "events_url": "https://api.github.com/users/Benjscho/events{/privacy}", "received_events_url": "https://api.github.com/users/Benjscho/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-05T16:04:32Z", "updated_at": "2024-12-05T18:08:17Z", "closed_at": "2024-12-05T18:08:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3937", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3937", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3937.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3937.patch", "merged_at": "2024-12-05T18:08:17Z"}, "body": "## Motivation and Context\r\nThis example doesn't reflect the token generation API accurately, this PR fixes that.\r\n\r\n## Description\r\nFix the example by using the right API.\r\n\r\n## Testing\r\nDocumentation update on an ignored code block, no testing required\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3937/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3936", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3936/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3936/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3936/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3936", "id": 2718682360, "node_id": "PR_kwDOElwhj86EFzwc", "number": 3936, "title": "Bump MSRV to 1.81.0", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2024-12-04T20:04:07Z", "updated_at": "2024-12-16T20:03:29Z", "closed_at": "2024-12-16T20:03:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3936", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3936", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3936.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3936.patch", "merged_at": "2024-12-16T20:03:28Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [ ] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [ ] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3936/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3936/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3935", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3935/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3935/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3935/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3935", "id": 2718478509, "node_id": "PR_kwDOElwhj86EFGW7", "number": 3935, "title": "Update 1732034799.md", "user": {"login": "Velfi", "id": 4008103, "node_id": "MDQ6VXNlcjQwMDgxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4008103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Velfi", "html_url": "https://github.com/Velfi", "followers_url": "https://api.github.com/users/Velfi/followers", "following_url": "https://api.github.com/users/Velfi/following{/other_user}", "gists_url": "https://api.github.com/users/Velfi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Velfi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Velfi/subscriptions", "organizations_url": "https://api.github.com/users/Velfi/orgs", "repos_url": "https://api.github.com/users/Velfi/repos", "events_url": "https://api.github.com/users/Velfi/events{/privacy}", "received_events_url": "https://api.github.com/users/Velfi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-04T18:15:44Z", "updated_at": "2024-12-04T21:59:09Z", "closed_at": "2024-12-04T21:59:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3935", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3935", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3935.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3935.patch", "merged_at": "2024-12-04T21:59:08Z"}, "body": "_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3935/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3935/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3934", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3934/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3934/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3934/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3934", "id": 2717175568, "node_id": "PR_kwDOElwhj86EAkKx", "number": 3934, "title": " Only support T as an allowed separator in RFC-3339 dates", "user": {"login": "drganjoo", "id": 7694697, "node_id": "MDQ6VXNlcjc2OTQ2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7694697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drganjoo", "html_url": "https://github.com/drganjoo", "followers_url": "https://api.github.com/users/drganjoo/followers", "following_url": "https://api.github.com/users/drganjoo/following{/other_user}", "gists_url": "https://api.github.com/users/drganjoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/drganjoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drganjoo/subscriptions", "organizations_url": "https://api.github.com/users/drganjoo/orgs", "repos_url": "https://api.github.com/users/drganjoo/repos", "events_url": "https://api.github.com/users/drganjoo/events{/privacy}", "received_events_url": "https://api.github.com/users/drganjoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-12-04T09:59:03Z", "updated_at": "2024-12-05T11:39:23Z", "closed_at": "2024-12-05T11:39:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3934", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3934", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3934.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3934.patch", "merged_at": "2024-12-05T11:39:22Z"}, "body": "This PR modifies `aws-smithy-types::DateTime` to enforce the use of 'T' (or 't') as the date-time separator. A [recent merge](https://github.com/time-rs/time/pull/700/files#diff-78a73b9911c88961601784e674a20c89e7050de9f8763522bbaa88ed28311b51R524) in the 'time' crate introduced support for space characters as separators. While ISO 8601 does allow spaces, RFC 3339 strictly requires 'T' (or 't') as the separator. \r\n\r\nThis change restores the behavior to match how it was before `time = 0.3.37`.\r\n\r\nThis PR also removes the temporary pinning of the time crate in protocol tests.", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3934/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3933", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3933/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3933/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3933/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3933", "id": 2716499731, "node_id": "PR_kwDOElwhj86D-O1x", "number": 3933, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-04T03:57:32Z", "updated_at": "2024-12-04T04:30:00Z", "closed_at": "2024-12-04T04:29:58Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3933", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3933", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3933.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3933.patch", "merged_at": "2024-12-04T04:29:58Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3933/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3933/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3930", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3930/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3930/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3930/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3930", "id": 2716270718, "node_id": "PR_kwDOElwhj86D9dQb", "number": 3930, "title": "Update serviceId for DSQL codegen decorator target", "user": {"login": "landonxjames", "id": 6853441, "node_id": "MDQ6VXNlcjY4NTM0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6853441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/landonxjames", "html_url": "https://github.com/landonxjames", "followers_url": "https://api.github.com/users/landonxjames/followers", "following_url": "https://api.github.com/users/landonxjames/following{/other_user}", "gists_url": "https://api.github.com/users/landonxjames/gists{/gist_id}", "starred_url": "https://api.github.com/users/landonxjames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/landonxjames/subscriptions", "organizations_url": "https://api.github.com/users/landonxjames/orgs", "repos_url": "https://api.github.com/users/landonxjames/repos", "events_url": "https://api.github.com/users/landonxjames/events{/privacy}", "received_events_url": "https://api.github.com/users/landonxjames/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-04T00:20:30Z", "updated_at": "2024-12-04T01:06:50Z", "closed_at": "2024-12-04T01:06:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3930", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3930", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3930.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3930.patch", "merged_at": "2024-12-04T01:06:48Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\n\r\nFixing the `serviceId` target for the DSQL codegen customizations\r\n\r\n\r\n\r\n\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3930/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3930/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3929", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3929/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3929/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3929/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3929", "id": 2716176749, "node_id": "PR_kwDOElwhj86D9H4F", "number": 3929, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-12-03T23:28:40Z", "updated_at": "2024-12-04T01:04:01Z", "closed_at": "2024-12-04T01:03:59Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3929", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3929", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3929.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3929.patch", "merged_at": "2024-12-04T01:03:59Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3929/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3929/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3928", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3928/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3928/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3928/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3928", "id": 2716069835, "node_id": "PR_kwDOElwhj86D8wVz", "number": 3928, "title": "Run `cargo update` on the runtime lockfiles and the SDK lockfile", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2024-12-03T22:07:34Z", "updated_at": "2024-12-05T17:43:12Z", "closed_at": "2024-12-05T17:43:11Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3928", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3928", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3928.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3928.patch", "merged_at": "2024-12-05T17:43:11Z"}, "body": "If CI fails, commit the necessary fixes to this PR until all checks pass.\n\nIf changes are required to [crateNameToLastKnownWorkingVersions](https://github.com/smithy-lang/smithy-rs/blob/92916b5484cdfef9ff58540ebf5e845eeeccf860/aws/sdk/build.gradle.kts#L504), revert the first commit in the PR, run `./gradlew aws:sdk:cargoUpdateAllLockfiles`, and commit the updated lockfiles.\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3928/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3928/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3927", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3927/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3927/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3927/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3927", "id": 2715316900, "node_id": "PR_kwDOElwhj86D6Kvo", "number": 3927, "title": "Zhessler add dsql auth token generator", "user": {"login": "Velfi", "id": 4008103, "node_id": "MDQ6VXNlcjQwMDgxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4008103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Velfi", "html_url": "https://github.com/Velfi", "followers_url": "https://api.github.com/users/Velfi/followers", "following_url": "https://api.github.com/users/Velfi/following{/other_user}", "gists_url": "https://api.github.com/users/Velfi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Velfi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Velfi/subscriptions", "organizations_url": "https://api.github.com/users/Velfi/orgs", "repos_url": "https://api.github.com/users/Velfi/repos", "events_url": "https://api.github.com/users/Velfi/events{/privacy}", "received_events_url": "https://api.github.com/users/Velfi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-12-03T15:19:59Z", "updated_at": "2024-12-03T22:19:17Z", "closed_at": "2024-12-03T22:19:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3927", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3927", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3927.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3927.patch", "merged_at": "2024-12-03T22:19:17Z"}, "body": "## Description\r\n<!--- Describe your changes in detail -->\r\nThis adds an auth token generator that works like the existing RDS auth token generator, but for a new service: DSQL.\r\n\r\nTo generate the DSQL SDK, run this command from the root of the project:\r\n\r\n```\r\n./gradlew :aws:sdk:assemble -Paws.services=+sts,+sso,+ssooidc,+dsql\r\n```\r\n\r\nThen, to run the auth token generator tests:\r\n\r\n```sh\r\ncd aws/sdk/build/aws-sdk/sdk/dsql\r\ncargo test signing_works --all-features\r\n```\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\ntests are included in the inlineable\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3927/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3923", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3923/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3923/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3923/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3923", "id": 2696238509, "node_id": "PR_kwDOElwhj86DP5Ls", "number": 3923, "title": "Run `cargo update` on the runtime lockfiles and the SDK lockfile", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-11-26T22:07:41Z", "updated_at": "2024-11-27T02:03:19Z", "closed_at": "2024-11-27T02:03:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3923", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3923", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3923.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3923.patch", "merged_at": "2024-11-27T02:03:18Z"}, "body": "~If CI fails, commit the necessary fixes to this PR until all checks pass.~\r\n\r\n~If changes are required to [crateNameToLastKnownWorkingVersions](https://github.com/smithy-lang/smithy-rs/blob/92916b5484cdfef9ff58540ebf5e845eeeccf860/aws/sdk/build.gradle.kts#L504), revert the first commit in the PR, run `./gradlew aws:sdk:cargoUpdateAllLockfiles`, and commit the updated lockfiles.~\r\n\r\nThis PR pins `libfuzzer-sys` to 0.4.7 due to https://github.com/rust-fuzz/libfuzzer/issues/126 while upgrading dependencies.", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3923/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3923/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3922", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3922/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3922/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3922/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3922", "id": 2695973706, "node_id": "PR_kwDOElwhj86DPXib", "number": 3922, "title": "fix: update test operation generator to find any operation in the service closure", "user": {"login": "mcmasn-amzn", "id": 88004173, "node_id": "MDQ6VXNlcjg4MDA0MTcz", "avatar_url": "https://avatars.githubusercontent.com/u/88004173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcmasn-amzn", "html_url": "https://github.com/mcmasn-amzn", "followers_url": "https://api.github.com/users/mcmasn-amzn/followers", "following_url": "https://api.github.com/users/mcmasn-amzn/following{/other_user}", "gists_url": "https://api.github.com/users/mcmasn-amzn/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcmasn-amzn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcmasn-amzn/subscriptions", "organizations_url": "https://api.github.com/users/mcmasn-amzn/orgs", "repos_url": "https://api.github.com/users/mcmasn-amzn/repos", "events_url": "https://api.github.com/users/mcmasn-amzn/events{/privacy}", "received_events_url": "https://api.github.com/users/mcmasn-amzn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-11-26T20:23:31Z", "updated_at": "2024-12-09T22:24:39Z", "closed_at": "2024-12-09T22:24:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3922", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3922", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3922.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3922.patch", "merged_at": "2024-12-09T22:24:39Z"}, "body": "\r\n## Motivation and Context\r\nWhen using operations nested under resources, the current search will raise \"NoSuchElementException\". This fixes the search to include all operations within the service closure\r\n\r\n## Description\r\nThe error is visible in client generates like this:\r\n```\r\nProjection rust-client failed: java.util.NoSuchElementException: Collection contains no element matching the predicate.\r\njava.util.NoSuchElementException: Collection contains no element matching the predicate.\r\n        at software.amazon.smithy.rustsdk.endpoints.OperationInputTestGeneratorKt.operationId(OperationInputTestGenerator.kt:242)\r\n        at software.amazon.smithy.rustsdk.endpoints.OperationInputTestGenerator$operationInvocation$1.invoke(OperationInputTestGenerator.kt:183)\r\n        at software.amazon.smithy.rustsdk.endpoints.OperationInputTestGenerator$operationInvocation$1.invoke(OperationInputTestGenerator.kt:180)\r\n```\r\n\r\n## Testing\r\n`gradle :aws:sdk-codegen:check`\r\n## Checklist\r\n\r\n\r\n- [ ] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n- [ ] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3922/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3922/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3921", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3921/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3921/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3921/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3921", "id": 2695277007, "node_id": "PR_kwDOElwhj86DNuGU", "number": 3921, "title": "Add feature ID for S3 Transfer Manager", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-11-26T16:24:14Z", "updated_at": "2024-11-26T19:03:08Z", "closed_at": "2024-11-26T19:03:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3921", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3921", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3921.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3921.patch", "merged_at": "2024-11-26T19:03:07Z"}, "body": "## Motivation and Context\r\nThis PR introduces the `AwsSdkFeature` enum, which will be used for AWS SDK-specific feature identifiers. For now, it includes a single ID for the S3 Transfer Manager. This approach is similar to the existing [SmithySdkFeature](https://github.com/smithy-lang/smithy-rs/blob/aac9becfd469e2479f68c61fd4c8074ddf755482/rust-runtime/aws-smithy-runtime/src/client/sdk_feature.rs#L10) in terms of its module and crate structure (that is for generic client but `AwsSdkFeature` is AWS specific); the `sdk_feature` module is hidden as it is intended for internal use only.\r\n\r\n## Testing\r\nAdded an integration test to verify tracking a business metric for Transfer Manager. Since Transfer Manager is a high-level library, we do not track its business metric directly within the `smithy-rs` repository. Instead, [an s3 client](https://github.com/awslabs/aws-s3-transfer-manager-rs/blob/main/aws-s3-transfer-manager/src/config.rs#L21) used in [aws-s3-transfer-manager-rs](https://github.com/awslabs/aws-s3-transfer-manager-rs) can configure the s3 client as demonstrated in the integration test to track the metric.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3921/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3920", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3920/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3920/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3920/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3920", "id": 2694955861, "node_id": "PR_kwDOElwhj86DM1VP", "number": 3920, "title": "Add missing lifetime annotation to `EscapedStr::as_escaped_str`", "user": {"login": "drganjoo", "id": 7694697, "node_id": "MDQ6VXNlcjc2OTQ2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7694697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drganjoo", "html_url": "https://github.com/drganjoo", "followers_url": "https://api.github.com/users/drganjoo/followers", "following_url": "https://api.github.com/users/drganjoo/following{/other_user}", "gists_url": "https://api.github.com/users/drganjoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/drganjoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drganjoo/subscriptions", "organizations_url": "https://api.github.com/users/drganjoo/orgs", "repos_url": "https://api.github.com/users/drganjoo/repos", "events_url": "https://api.github.com/users/drganjoo/events{/privacy}", "received_events_url": "https://api.github.com/users/drganjoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2024-11-26T14:46:13Z", "updated_at": "2024-11-27T15:14:39Z", "closed_at": "2024-11-27T15:14:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3920", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3920", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3920.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3920.patch", "merged_at": "2024-11-27T15:14:38Z"}, "body": "`JsonTokenIterator` parses and returns `Token`s from a provided u8 slice. `EscapedStr` is used as a member field in several token variants, such as `ObjectKey` and `ValueString`. While `as_escaped_str` returns a reference to the underlying `&'a str`, the lifetime annotation was missing from its return type.\r\n\r\nThis PR adds the missing lifetime annotation.\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3920/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3920/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3918", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3918/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3918/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3918/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3918", "id": 2676568372, "node_id": "PR_kwDOElwhj86Cj0dq", "number": 3918, "title": "Add codegen helper for defining operation-specific `CustomizableOperation` methods.", "user": {"login": "Velfi", "id": 4008103, "node_id": "MDQ6VXNlcjQwMDgxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4008103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Velfi", "html_url": "https://github.com/Velfi", "followers_url": "https://api.github.com/users/Velfi/followers", "following_url": "https://api.github.com/users/Velfi/following{/other_user}", "gists_url": "https://api.github.com/users/Velfi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Velfi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Velfi/subscriptions", "organizations_url": "https://api.github.com/users/Velfi/orgs", "repos_url": "https://api.github.com/users/Velfi/repos", "events_url": "https://api.github.com/users/Velfi/events{/privacy}", "received_events_url": "https://api.github.com/users/Velfi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-11-20T17:00:33Z", "updated_at": "2024-12-02T17:44:56Z", "closed_at": "2024-12-02T17:44:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3918", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3918", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3918.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3918.patch", "merged_at": "2024-12-02T17:44:55Z"}, "body": "This PR lays the groundwork for defining operation-specific `CustomizableOperation` methods. \r\n\r\n## Codegen Example\r\n\r\nIf we were to define pre-signable ops this way, code like the following would be emitted for each op that supported presigning.\r\n\r\n```rust\r\nimpl<E, B> CustomizableOperation<crate::operation::put_object::PutObject, E, B> {\r\n    /// Sends the request and returns the response.\r\n    #[allow(unused_mut)]\r\n    pub async fn presigned(\r\n        mut self,\r\n        presigning_config: crate::presigning::PresigningConfig,\r\n    ) -> ::std::result::Result<crate::presigning::PresignedRequest, crate::error::SdkError<E>>\r\n    where\r\n        E: std::error::Error + ::std::marker::Send + ::std::marker::Sync + 'static,\r\n        B: crate::client::customize::internal::CustomizablePresigned<E>,\r\n    {\r\n        self.execute(move |sender, conf| sender.presign(conf, presigning_config)).await\r\n    }\r\n}\r\n```\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3918/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3918/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3917", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3917/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3917/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3917/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3917", "id": 2673727828, "node_id": "PR_kwDOElwhj86Ccvjy", "number": 3917, "title": "Avoid logging signable body by default whose data can be very large", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-11-19T22:35:31Z", "updated_at": "2024-11-20T23:20:55Z", "closed_at": "2024-11-20T23:20:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3917", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3917", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3917.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3917.patch", "merged_at": "2024-11-20T23:20:54Z"}, "body": "## Motivation and Context\r\nWhile investigating a connect timeout issue for uploading object(s) in [`aws-s3-transfer-manager-rs`](https://github.com/awslabs/aws-s3-transfer-manager-rs), we saw that the size of trace log was about 70 GB and that the last 1 GB only had 30 lines, with each line having couple MB's body to be logged (due to [this location](https://github.com/awslabs/aws-sdk-rust/blob/953cd6c7af04f02938a0dcf36f793ebe7a06cc57/sdk/aws-sigv4/src/http_request/sign.rs#L224)).\r\n\r\n## Description\r\nThis PR disables logging the actual body data in `SignableBody` by default. Customers can set the `LOG_SIGNABLE_BODY` environment variable to log the body data if they want to, as described in the comment within the `Debug` implementation.\r\n\r\n## Testing\r\n- Added a small unit test\r\n- Tests in CI\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3917/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3917/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3915", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3915/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3915/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3915/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3915", "id": 2672869177, "node_id": "PR_kwDOElwhj86Cat-m", "number": 3915, "title": "Add operation customization for disabling payload signing", "user": {"login": "Velfi", "id": 4008103, "node_id": "MDQ6VXNlcjQwMDgxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4008103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Velfi", "html_url": "https://github.com/Velfi", "followers_url": "https://api.github.com/users/Velfi/followers", "following_url": "https://api.github.com/users/Velfi/following{/other_user}", "gists_url": "https://api.github.com/users/Velfi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Velfi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Velfi/subscriptions", "organizations_url": "https://api.github.com/users/Velfi/orgs", "repos_url": "https://api.github.com/users/Velfi/repos", "events_url": "https://api.github.com/users/Velfi/events{/privacy}", "received_events_url": "https://api.github.com/users/Velfi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2024-11-19T16:54:04Z", "updated_at": "2024-12-04T16:31:53Z", "closed_at": "2024-12-04T15:50:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3915", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3915", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3915.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3915.patch", "merged_at": "2024-12-04T15:50:01Z"}, "body": "## Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here -->\r\nhttps://github.com/smithy-lang/smithy-rs/pull/3583\r\n\r\n## Description\r\n<!--- Describe your changes in detail -->\r\nThis PR adds the ability for users to disable payload signing with an operation customization.\r\n\r\n## Testing\r\n<!--- Please describe in detail how you tested your changes -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nThis PR includes tests.\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x] For changes to the AWS SDK, generated SDK code, or SDK runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"aws-sdk-rust\" in the `applies_to` key.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3915/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3915/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3914", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3914/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3914/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3914/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3914", "id": 2663137333, "node_id": "PR_kwDOElwhj86CF3Fa", "number": 3914, "title": "refactor hyper1 client builder to allow multiple TLS providers and add new config", "user": {"login": "aajtodd", "id": 5158304, "node_id": "MDQ6VXNlcjUxNTgzMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5158304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aajtodd", "html_url": "https://github.com/aajtodd", "followers_url": "https://api.github.com/users/aajtodd/followers", "following_url": "https://api.github.com/users/aajtodd/following{/other_user}", "gists_url": "https://api.github.com/users/aajtodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/aajtodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aajtodd/subscriptions", "organizations_url": "https://api.github.com/users/aajtodd/orgs", "repos_url": "https://api.github.com/users/aajtodd/repos", "events_url": "https://api.github.com/users/aajtodd/events{/privacy}", "received_events_url": "https://api.github.com/users/aajtodd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-11-15T21:06:43Z", "updated_at": "2024-11-20T17:55:33Z", "closed_at": "2024-11-20T17:55:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3914", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3914", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3914.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3914.patch", "merged_at": "2024-11-20T17:55:31Z"}, "body": "## Motivation and Context\r\nYet another follow up to: https://github.com/smithy-lang/smithy-rs/pull/3866\r\n\r\n## Description\r\n* Refactor the hyper 1 implementation into multiple modules to make it (slightly) easier to navigate (separating TLS, DNS, and timeout concerns into new/separate modules)\r\n* Refactors the hyper 1 implementation to allow for additional TLS provider implementations (e.g. s2n). Before we just exposed a `CryptoMode` but that is only applicable to rustls. I've swapped this for a new `TlsProvider` concept\r\n* Refactored how connectors are built. Before we were taking a TLS connector and wrapping it (via `Connector`). But this is structurally awkward since our `Connector` is analogous to hyper_utils' [`HttpConnector`](https://docs.rs/hyper-util/latest/hyper_util/client/legacy/connect/struct.HttpConnector.html#) (or supposed to be anyway). The updated structure forces our `Connector` to build the `HttpConnector` (which is the lowest layer/TCP connector) and then (if enabled) wrap it in TLS, and then finally wrap it with the SDK timeouts. \r\n```\r\n// build function returns a connector that looks like this as far as layering goes:\r\nConnector<TlsProviderSelected>.build() -> SdkTimeouts(TlsConnector(HttpConnector))\r\n```\r\n\r\n* Exposed additional builder setting for `TCP_NODELAY` (and defaulted it to true).\r\n* Exposed additional builder setting for binding to a specific NIC\r\n* Fixed feature flags (powerset build was failing locally due to invalid or misconfigured feature flag application)\r\n* Renamed TLS feature flags to be associated with the underlying TLS lib (e.g. `crypto-aws-lc` -> `rustls-aws-lc`)\r\n\r\n**NOTE**:  Apologies in advance, the diff didn't quite come out as I wanted. `client.rs` replaced `hyper_1.rs` (several modules of `hyper_1.rs` were split out into new modules). Everything in `timeout.rs` and `dns.rs` did not change.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3914/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3911", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3911/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3911/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3911/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3911", "id": 2649786997, "node_id": "PR_kwDOElwhj86Bh_5a", "number": 3911, "title": "Update some deps in `pokemon-service-tls` example", "user": {"login": "david-perez", "id": 6341745, "node_id": "MDQ6VXNlcjYzNDE3NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/6341745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-perez", "html_url": "https://github.com/david-perez", "followers_url": "https://api.github.com/users/david-perez/followers", "following_url": "https://api.github.com/users/david-perez/following{/other_user}", "gists_url": "https://api.github.com/users/david-perez/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-perez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-perez/subscriptions", "organizations_url": "https://api.github.com/users/david-perez/orgs", "repos_url": "https://api.github.com/users/david-perez/repos", "events_url": "https://api.github.com/users/david-perez/events{/privacy}", "received_events_url": "https://api.github.com/users/david-perez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3555432558, "node_id": "LA_kwDOElwhj87T65hu", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/server", "name": "server", "color": "FBCA04", "default": false, "description": "Rust server SDK"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-11-11T16:19:48Z", "updated_at": "2024-11-13T20:33:40Z", "closed_at": "2024-11-13T20:33:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3911", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3911", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3911.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3911.patch", "merged_at": "2024-11-13T20:33:39Z"}, "body": "tls-listener 0.7.0 is vulnerable to CVE-2024-28854, GHSA-2qph-qpvm-2qf7, and RUSTSEC-2024-0341\r\nrustls 0.20.9 is vulnerable to CVE-2024-32650, GHSA-6g7w-8wpp-frhj, and RUSTSEC-2024-0336\r\n\r\nWe can't update them to the latest versions because we still require\r\nhyper 0.x.\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3911/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3910", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3910/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3910/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3910/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3910", "id": 2639638063, "node_id": "PR_kwDOElwhj86BIF2v", "number": 3910, "title": "Update the bot PR description for updating lockfiles", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-11-07T01:59:01Z", "updated_at": "2024-11-07T03:37:31Z", "closed_at": "2024-11-07T03:37:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3910", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3910", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3910.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3910.patch", "merged_at": "2024-11-07T03:37:30Z"}, "body": "## Motivation and Context\r\n#3907 revealed that bot-generated PR description was not accurate. This PR improves the description to provide clearer guidance.\r\n\r\n## Testing\r\nVerified that the new description was rendered as expected (as shown in [this dummy PR](https://github.com/smithy-lang/smithy-rs/pull/3909))\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3910/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3910/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3907", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3907/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3907/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3907/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3907", "id": 2636570850, "node_id": "PR_kwDOElwhj86A-9hB", "number": 3907, "title": "Run `cargo update` on the runtime lockfiles and the SDK lockfile", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-11-05T22:08:02Z", "updated_at": "2024-11-07T00:45:03Z", "closed_at": "2024-11-07T00:45:02Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3907", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3907", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3907.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3907.patch", "merged_at": "2024-11-07T00:45:02Z"}, "body": "If CI fails, commit the necessary fixes to this PR until all checks pass. If required, update entries in [crateNameToLastKnownWorkingVersions](https://github.com/smithy-lang/smithy-rs/blob/6b42eb5ca00a2dc9c46562452e495a2ec2e43d0f/aws/sdk/build.gradle.kts#L503-L504).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3907/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3907/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3903", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3903/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3903/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3903/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3903", "id": 2635885976, "node_id": "PR_kwDOElwhj86A83-7", "number": 3903, "title": "increase windows CI timeout from 20 to 30 minutes", "user": {"login": "Velfi", "id": 4008103, "node_id": "MDQ6VXNlcjQwMDgxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4008103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Velfi", "html_url": "https://github.com/Velfi", "followers_url": "https://api.github.com/users/Velfi/followers", "following_url": "https://api.github.com/users/Velfi/following{/other_user}", "gists_url": "https://api.github.com/users/Velfi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Velfi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Velfi/subscriptions", "organizations_url": "https://api.github.com/users/Velfi/orgs", "repos_url": "https://api.github.com/users/Velfi/repos", "events_url": "https://api.github.com/users/Velfi/events{/privacy}", "received_events_url": "https://api.github.com/users/Velfi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-11-05T16:08:27Z", "updated_at": "2024-11-05T17:19:32Z", "closed_at": "2024-11-05T17:19:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3903", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3903", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3903.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3903.patch", "merged_at": "2024-11-05T17:19:31Z"}, "body": "This is intended to avoid the timeout issue happening in the private staging repo\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3903/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3902", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3902/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3902/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3902/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3902", "id": 2635664476, "node_id": "PR_kwDOElwhj86A8LOD", "number": 3902, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-11-05T14:44:11Z", "updated_at": "2024-11-05T15:13:30Z", "closed_at": "2024-11-05T15:13:28Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3902", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3902", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3902.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3902.patch", "merged_at": "2024-11-05T15:13:28Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3902/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3901", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3901/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3901/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3901/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3901", "id": 2633501756, "node_id": "PR_kwDOElwhj86A1bsh", "number": 3901, "title": "Fix library dependency issues", "user": {"login": "ysaito1001", "id": 15333866, "node_id": "MDQ6VXNlcjE1MzMzODY2", "avatar_url": "https://avatars.githubusercontent.com/u/15333866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysaito1001", "html_url": "https://github.com/ysaito1001", "followers_url": "https://api.github.com/users/ysaito1001/followers", "following_url": "https://api.github.com/users/ysaito1001/following{/other_user}", "gists_url": "https://api.github.com/users/ysaito1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysaito1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysaito1001/subscriptions", "organizations_url": "https://api.github.com/users/ysaito1001/orgs", "repos_url": "https://api.github.com/users/ysaito1001/repos", "events_url": "https://api.github.com/users/ysaito1001/events{/privacy}", "received_events_url": "https://api.github.com/users/ysaito1001/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-11-04T18:06:17Z", "updated_at": "2024-11-05T15:02:32Z", "closed_at": "2024-11-05T04:20:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3901", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3901", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3901.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3901.patch", "merged_at": "2024-11-05T04:20:42Z"}, "body": "## Motivation and Context\r\nOur CI and release pipeline have revealed several areas where a Cargo.lock file should be included but is currently missing. This has led to issues when building SDKs with our MSRV of 1.78.0, using the latest dependencies (specifically `arbitrary` 1.4.0 and `idna` 1.0.3). The following compilation error occurs:\r\n```\r\nerror[E0658]: use of unstable library feature 'error_in_core'\r\n  --> /opt/cargo/registry/src/index.crates.io-6f17d22bba15001f/idna-1.0.3/src/lib.rs:78:6\r\n   |\r\n78 | impl core::error::Error for Errors {}\r\n   |      ^^^^^^^^^^^^^^^^^^\r\n   |\r\n   = note: see issue #103765 <https://github.com/rust-lang/rust/issues/103765> for more information\r\n```\r\nThis issue arises because these versions of the arbitrary and idna crates depend on a [recently stabilized feature](https://blog.rust-lang.org/2024/09/05/Rust-1.81.0.html#coreerrorerror) that remains unstable in our MSRV.\r\n\r\nBelow is a list of additional places where dependencies need to be locked:\r\n1. `sdk-adhoc-test`\r\n2. `client-codegen-test`\r\n3. [`check-semver-hazards`](https://github.com/smithy-lang/smithy-rs/blob/main/tools/ci-scripts/check-semver-hazards) (this compares two versions of the SDKs: one from a feature branch and the other from the most recent release of the SDKs in `aws-sdk-rust`. Note that it does not use `cargo-semver-checks`)\r\n4. `canary`\r\n5. [`cargo semver-checks`](https://github.com/smithy-lang/smithy-rs/blob/main/tools/ci-scripts/codegen-diff/semver-checks.py) (this compares two different versions of runtime crates and SDKs between a feature branch and the main branch within the repository) \r\n\r\nThis PR adds lockfiles for the first three locations. However, we were unable to add lockfiles for the fourth and fifth locations.\r\n### canary\r\n`canary-runner` generates `Cargo.toml` [on the fly](https://github.com/smithy-lang/smithy-rs/blob/main/tools/ci-cdk/canary-runner/src/build_bundle.rs#L106-L179), so this place cannot have a lockfile. The fix is to pin the offending dependencies directly within the code that renders the `Cargo.toml`.\r\n\r\n### cargo semver-checks\r\nThis will remain broken until we upgrade MSRV to 1.81.0. `cargo semver-checks` runs as [part of a PR workflow](https://github.com/smithy-lang/smithy-rs/blob/main/.github/workflows/ci-pr.yml#L151-L155) and is not a required check for CI. The reason we cannot fix this until we upgrade our MSRV to 1.81, which stabilizes `error_in_core`, is that `cargo-semver-checks` creates a temporary wrapper crate called `rustdoc` whose `Cargo.toml` looks like this:\r\n```\r\n[package]\r\nname = \"rustdoc\"\r\nedition = \"2021\"\r\nversion = \"0.0.0\"\r\npublish = false\r\n\r\n[workspace]\r\nmembers = []\r\n\r\n[dependencies.aws-sdk-timestreamwrite]\r\npath = \"/Users/awsaito/src/smithy-rs/tmp-codegen-diff/aws-sdk/sdk/timestreamwrite\"\r\nfeatures = [\"behavior-version-latest\", \"default\", \"rt-tokio\", \"rustls\", \"test-util\"]\r\n\r\n[lib]\r\npath = \"lib.rs\"\r\nrequired-features = []\r\n```\r\nThis crate is placed under a directory looking like `smithy-rs/target/semver-checks/local-aws_sdk_timestreamwrite-0_0_0_local-3131265f731d9f1d`, and we cannot add a lockfile or manually edit its `Cargo.toml`. When `cargo semver-checks` builds this `rustdoc` crate, it pulls in offending dependencies such as `idna` 1.0.3 and `arbitrary` 1.4.0 (please refer to [the diagram in this PR](https://github.com/smithy-lang/smithy-rs/pull/3272) for illustration of how semver-checks.py organizes crates during execution).\r\n\r\nIn short, `cargo semver-checks` acts as a client of AWS SDKs, building their dependencies that require MSRV 1.81.0 using our MSRV 1.78.0, which causes the error.\r\n\r\n## Testing\r\n- [x] Tests in CI\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3901/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3899", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3899/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3899/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3899/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3899", "id": 2625133469, "node_id": "PR_kwDOElwhj86AcC-f", "number": 3899, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-10-30T19:29:22Z", "updated_at": "2024-10-30T21:11:14Z", "closed_at": "2024-10-30T21:11:12Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3899", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3899", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3899.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3899.patch", "merged_at": "2024-10-30T21:11:12Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3899/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3898", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3898/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3898/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3898/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3898", "id": 2624559444, "node_id": "PR_kwDOElwhj86AaIXS", "number": 3898, "title": "switch integration tests to new test-utils", "user": {"login": "aajtodd", "id": 5158304, "node_id": "MDQ6VXNlcjUxNTgzMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5158304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aajtodd", "html_url": "https://github.com/aajtodd", "followers_url": "https://api.github.com/users/aajtodd/followers", "following_url": "https://api.github.com/users/aajtodd/following{/other_user}", "gists_url": "https://api.github.com/users/aajtodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/aajtodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aajtodd/subscriptions", "organizations_url": "https://api.github.com/users/aajtodd/orgs", "repos_url": "https://api.github.com/users/aajtodd/repos", "events_url": "https://api.github.com/users/aajtodd/events{/privacy}", "received_events_url": "https://api.github.com/users/aajtodd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2024-10-30T15:56:46Z", "updated_at": "2024-11-08T18:34:36Z", "closed_at": "2024-11-08T18:34:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3898", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3898", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3898.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3898.patch", "merged_at": "2024-11-08T18:34:33Z"}, "body": "## Motivation and Context\r\nFollow up PR to https://github.com/smithy-lang/smithy-rs/pull/3888\r\n\r\n## Description\r\n* Update `aws/sdk/integration-tests` to use the `test-util` feature(s) directly from `aws-smithy-http-client` rather than `aws-smithy-runtime`\r\n* ~Refactor `aws-smithy-http` to use `http-1.x~\r\n* Fixed an erroneous error message from `imds` credentials provider in passing while tracking down a test failure\r\n* Fixed a few tests that were not immune to environment variables (e.g. on dev desktop `AWS_EC2_METADATA_ENABLED=false` is set by default and was causing some test failures)\r\n\r\nI started pulling at some threads and found them to be quite load bearing (e.g. `inlineable/serialization_settings.rs`) and would require updating all of codegen to use `http-1.x`. ~This PR is a bit of a half step with some stop gaps put into place (e.g. the new `compat` feature of `aws-smithy-http` or inlining a function) to prevent the need to update everything in a single PR. Future PR's will continue where I left off here. ~\r\n\r\nOne lesson I learned the hard way was that our integration test `Cargo.toml` have to reflect codegen. I had updated them to all use `http = \"1\"` and got it all working only to realize codegen generates `http = \"0.2.9\"` and `http-1x = { package = \"http\", version = \"1\"}` and thus the integration tests have to look the same as that.\r\n\r\n### Future\r\n\r\n* ~Continue to refactor `aws-smithy-http` to upgrade to `http-body-1.x`. ~\r\n* Refactor codegen to update to `http-1.x`\r\n\r\nUPDATE: I reverted the update to http 1.x for `aws-smithy-http`. This needs to be done and planned with the server and I don't want it to unnecessarily block hyper 1. We will pursue the remaining hyper 1 changes and then make a decision on internal use of http and http-body pre 1.x usage. \r\n\r\n----\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3898/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3896", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3896/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3896/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3896/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3896", "id": 2622421061, "node_id": "PR_kwDOElwhj86ATUWq", "number": 3896, "title": "Run `cargo update` on the runtime lockfiles and the SDK lockfile", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4216857692, "node_id": "LA_kwDOElwhj877WCRc", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/needs-sdk-review", "name": "needs-sdk-review", "color": "E161EF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2024-10-29T22:07:50Z", "updated_at": "2024-11-05T07:02:23Z", "closed_at": "2024-11-05T07:02:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3896", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3896", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3896.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3896.patch", "merged_at": "2024-11-05T07:02:22Z"}, "body": "Updating lockfiles introduced `pin-project` `0.2.15`, which revealed [a bug in `cargo-check-external-types`](https://github.com/awslabs/cargo-check-external-types/pull/183). This required `cargo-check-external-types` to release a new version with a newer nightly version `nightly-2024-06-30`.\r\n\r\nSwitching to `nightly-2024-06-30` triggered a series of changes due to the [automatic checking of cfg at compile time](https://blog.rust-lang.org/2024/05/06/check-cfg.html). As a result, the compiler has become stricter regarding unexpected `cfg` and unused Cargo features in our codebase.\r\n\r\nMost of the changes in this PR address these issues:\r\n<details>\r\n<summary>Expand to view the actual errors...</summary>\r\n\r\nEx.1\r\n```\r\nerror: unexpected `cfg` condition name: `aws_sdk_unstable`\r\n  --> aws-smithy-types/src/number.rs:29:13\r\n   |\r\n29 |         all(aws_sdk_unstable, feature = \"serde-serialize\")\r\n   |             ^^^^^^^^^^^^^^^^\r\n   |\r\n   = help: consider using a Cargo feature instead\r\n   = help: or consider adding in `Cargo.toml` the `check-cfg` lint config for the lint:\r\n            [lints.rust]\r\n            unexpected_cfgs = { level = \"warn\", check-cfg = ['cfg(aws_sdk_unstable)'] }\r\n   = help: or consider adding `println!(\"cargo::rustc-check-cfg=cfg(aws_sdk_unstable)\");` to the top of the `build.rs`\r\n   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration\r\n```\r\nEx.2\r\n```\r\nerror: struct `ArrayIter` is never constructed\r\n   --> aws-smithy-cbor/src/decode.rs:251:12\r\n    |\r\n251 | pub struct ArrayIter<'a, 'b, T> {\r\n    |            ^^^^^^^^^\r\n    |\r\n    = note: `-D dead-code` implied by `-D warnings`\r\n    = help: to override `-D warnings` add `#[allow(dead_code)]`\r\n\r\nerror: struct `MapIter` is never constructed\r\n   --> aws-smithy-cbor/src/decode.rs:266:12\r\n    |\r\n266 | pub struct MapIter<'a, 'b, K, V> {\r\n    |            ^^^^^^^\r\n\r\nerror: could not compile `aws-smithy-cbor` (lib) due to 2 previous errors\r\n```\r\nEx.3\r\n```\r\nerror: for loop over a `&Option`. This is more readably written as an `if let` statement\r\n   --> aws-smithy-runtime-api/src/client/runtime_components.rs:888:19\r\n    |\r\n888 |         validate!(&self.retry_strategy);\r\n    |                   ^^^^^^^^^^^^^^^^^^^^\r\n    |\r\nhelp: to check pattern in a loop use `while let`\r\n    |\r\n871 |                 while let Some() =  in $field {\r\n    |                 ~~~~~~~~~~~~~~~~~~\r\nhelp: consider using `if let` to clear intent\r\n    |\r\n871 |                 if let Some() =  in $field {\r\n    |                 ~~~~~~~~~~~~~~~\r\n\r\nerror: could not compile `aws-smithy-runtime-api` (lib) due to 4 previous errors\r\n```\r\nEx.4\r\n```\r\nerror: unexpected `cfg` condition name: `crypto_unstable`\r\n   --> aws-smithy-experimental/src/hyper_1_0.rs:687:11\r\n    |\r\n687 |     #[cfg(crypto_unstable)]\r\n    |           ^^^^^^^^^^^^^^^\r\n    |\r\n    = help: expected names are: `aws_sdk_unstable`, `clippy`, `debug_assertions`, `doc`, `docsrs`, `doctest`, `feature`, `miri`, `overflow_checks`, `panic`, `proc_macro`, `relocation_model`, `rustfmt`, `sanitize`, `sanitizer_cfi_generalize_pointers`, `sanitizer_cfi_normalize_integers`, `target_abi`, `target_arch`, `target_endian`, `target_env`, `target_family`, `target_feature`, `target_has_atomic`, `target_has_atomic_equal_alignment`, `target_has_atomic_load_store`, `target_os`, `target_pointer_width`, `target_thread_local`, `target_vendor`, `test`, `ub_checks`, `unix`, and `windows`\r\n    = help: consider using a Cargo feature instead\r\n    = help: or consider adding in `Cargo.toml` the `check-cfg` lint config for the lint:\r\n             [lints.rust]\r\n             unexpected_cfgs = { level = \"warn\", check-cfg = ['cfg(crypto_unstable)'] }\r\n    = help: or consider adding `println!(\"cargo::rustc-check-cfg=cfg(crypto_unstable)\");` to the top of the `build.rs`\r\n    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration\r\n    = note: `-D unexpected-cfgs` implied by `-D warnings`\r\n    = help: to override `-D warnings` add `#[allow(unexpected_cfgs)]`\r\n```\r\nEx.5\r\n```\r\nerror: unexpected `cfg` condition value: `http-1x`\r\n   --> aws-inlineable/src/presigning.rs:249:11\r\n    |\r\n249 |     #[cfg(feature = \"http-1x\")]\r\n    |           ^^^^^^^^^^---------\r\n    |                     |\r\n    |                     help: there is a expected value with a similar name: `\"http_1x\"`\r\n    |\r\n    = note: expected values for `feature` are: `http_1x`\r\n    = help: consider adding `http-1x` as a feature in `Cargo.toml`\r\n    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration\r\n\r\nerror: could not document `aws-inlineable`\r\n```\r\nEx.6\r\n```\r\nerror: unexpected `cfg` condition value: `gated-tests`\r\n  --> sdk/s3/src/endpoint_lib/substring.rs:35:17\r\n   |\r\n35 | #[cfg(all(test, feature = \"gated-tests\"))]\r\n   |                 ^^^^^^^^^^^^^^^^^^^^^^^\r\n   |\r\n   = note: expected values for `feature` are: `behavior-version-latest`, `default`, `http-1x`, `rt-tokio`, `rustls`, `sigv4a`, and `test-util`\r\n   = help: consider adding `gated-tests` as a feature in `Cargo.toml`\r\n   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration\r\n\r\nerror: could not compile `aws-sdk-s3` (lib) due to 2 previous errors\r\n```\r\nEx.7\r\n```\r\nerror: unexpected `cfg` condition value: `test-util`\r\n   --> src/lib.rs:514:40\r\n    |\r\n514 |             #[cfg(all(feature = \"sso\", feature = \"test-util\"))]\r\n    |                                        ^^^^^^^^^^^^^^^^^^^^^\r\n    |\r\n    = note: expected values for `feature` are: `allow-compilation`, `behavior-version-latest`, `client-hyper`, `credentials-process`, `default`, `rt-tokio`, `rustls`, and `sso`\r\n    = help: consider adding `test-util` as a feature in `Cargo.toml`\r\n    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration\r\n    = note: `-D unexpected-cfgs` implied by `-D warnings`\r\n    = help: to override `-D warnings` add `#[allow(unexpected_cfgs)]`\r\n\r\nerror: could not compile `aws-config` (lib) due to 1 previous error\r\n```\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3896/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3894", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3894/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3894/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3894/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3894", "id": 2616775746, "node_id": "PR_kwDOElwhj86ABT6r", "number": 3894, "title": "Fix directly constrained `List` shape with indirectly constrained aggregate type member shape", "user": {"login": "drganjoo", "id": 7694697, "node_id": "MDQ6VXNlcjc2OTQ2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7694697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drganjoo", "html_url": "https://github.com/drganjoo", "followers_url": "https://api.github.com/users/drganjoo/followers", "following_url": "https://api.github.com/users/drganjoo/following{/other_user}", "gists_url": "https://api.github.com/users/drganjoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/drganjoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drganjoo/subscriptions", "organizations_url": "https://api.github.com/users/drganjoo/orgs", "repos_url": "https://api.github.com/users/drganjoo/repos", "events_url": "https://api.github.com/users/drganjoo/events{/privacy}", "received_events_url": "https://api.github.com/users/drganjoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 3555432558, "node_id": "LA_kwDOElwhj87T65hu", "url": "https://api.github.com/repos/smithy-lang/smithy-rs/labels/server", "name": "server", "color": "FBCA04", "default": false, "description": "Rust server SDK"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2024-10-27T18:19:08Z", "updated_at": "2024-11-12T11:30:38Z", "closed_at": "2024-11-12T11:30:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3894", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3894", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3894.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3894.patch", "merged_at": "2024-11-12T11:30:37Z"}, "body": "This PR fixes a bug in the code generation for a directly constrained List shape that has an indirectly constrained aggregate type as a member shape.\r\n\r\nFor example, in the following model:\r\n\r\n```smithy\r\n@http(uri: \"/sample\", method: \"POST\")\r\noperation SampleOp {\r\n  input := {\r\n      a: ItemList\r\n  }\r\n  errors: [ValidationException]\r\n}\r\n@length(min: 1 max: 100)\r\nlist ItemList {\r\n  member: Item\r\n}\r\nmap Item {\r\n  key: ItemName\r\n  value: ItemDescription\r\n}\r\n@length(min: 0 max: 65535)\r\nstring ItemName\r\nstring ItemDescription\r\n```\r\nA `TryFrom` implementation is generated that converts from `ItemListUnconstrained` to `ItemList` by converting each member of the inner list of `ItemUnconstrained` to `ItemConstrained` and then converting it to `Vec<Vec<ItemName>>`:\r\n\r\n```rust\r\n    impl std::convert::TryFrom<ItemListUnconstrained> for crate::model::ItemList {\r\n        type Error = crate::model::item_list::ConstraintViolation;\r\n        fn try_from(value: ItemListUnconstrained) -> Result<Self, Self::Error> {\r\n            let res: Result<\r\n                ::std::vec::Vec<\r\n                    ::std::collections::HashMap<crate::model::ItemName, ::std::string::String>,\r\n                >,\r\n                (usize, crate::model::item::ConstraintViolation),\r\n            > = value\r\n                .0\r\n                .into_iter()\r\n                .enumerate()\r\n                .map(|(idx, inner)| {\r\n                    inner.try_into()\r\n                        .map(|ic: crate::constrained::item_constrained::ItemConstrained| ic.into())\r\n                        .map_err(|inner_violation| (idx, inner_violation))\r\n                })\r\n                .collect();\r\n            let inner =\r\n                res.map_err(|(idx, inner_violation)| Self::Error::Member(idx, inner_violation))?;\r\n            Self::try_from(inner)\r\n        }\r\n    }\r\n\r\n```\r\n\r\nPartially fixes issue: #3885 for publicly constrained shapes only.", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3894/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3894/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3893", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3893/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3893/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3893/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3893", "id": 2614782578, "node_id": "PR_kwDOElwhj85_8DAF", "number": 3893, "title": "Fix serde on constrained blobs", "user": {"login": "rcoh", "id": 492903, "node_id": "MDQ6VXNlcjQ5MjkwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/492903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rcoh", "html_url": "https://github.com/rcoh", "followers_url": "https://api.github.com/users/rcoh/followers", "following_url": "https://api.github.com/users/rcoh/following{/other_user}", "gists_url": "https://api.github.com/users/rcoh/gists{/gist_id}", "starred_url": "https://api.github.com/users/rcoh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rcoh/subscriptions", "organizations_url": "https://api.github.com/users/rcoh/orgs", "repos_url": "https://api.github.com/users/rcoh/repos", "events_url": "https://api.github.com/users/rcoh/events{/privacy}", "received_events_url": "https://api.github.com/users/rcoh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "david-perez", "id": 6341745, "node_id": "MDQ6VXNlcjYzNDE3NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/6341745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-perez", "html_url": "https://github.com/david-perez", "followers_url": "https://api.github.com/users/david-perez/followers", "following_url": "https://api.github.com/users/david-perez/following{/other_user}", "gists_url": "https://api.github.com/users/david-perez/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-perez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-perez/subscriptions", "organizations_url": "https://api.github.com/users/david-perez/orgs", "repos_url": "https://api.github.com/users/david-perez/repos", "events_url": "https://api.github.com/users/david-perez/events{/privacy}", "received_events_url": "https://api.github.com/users/david-perez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "david-perez", "id": 6341745, "node_id": "MDQ6VXNlcjYzNDE3NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/6341745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-perez", "html_url": "https://github.com/david-perez", "followers_url": "https://api.github.com/users/david-perez/followers", "following_url": "https://api.github.com/users/david-perez/following{/other_user}", "gists_url": "https://api.github.com/users/david-perez/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-perez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-perez/subscriptions", "organizations_url": "https://api.github.com/users/david-perez/orgs", "repos_url": "https://api.github.com/users/david-perez/repos", "events_url": "https://api.github.com/users/david-perez/events{/privacy}", "received_events_url": "https://api.github.com/users/david-perez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2024-10-25T17:58:22Z", "updated_at": "2024-12-23T16:40:46Z", "closed_at": "2024-12-23T16:40:45Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3893", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3893", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3893.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3893.patch", "merged_at": "2024-12-23T16:40:45Z"}, "body": "## Motivation and Context\r\n#3890 \r\n\r\n## Description\r\nReplace the computed type (which will be a constrained shape, not what we want!) with an absolute type.\r\n\r\n## Testing\r\n- [x] New unit test that fails without this fix applied.\r\n\r\n## Checklist\r\n<!--- If a checkbox below is not applicable, then please DELETE it rather than leaving it unchecked -->\r\n- [x] For changes to the smithy-rs codegen or runtime crates, I have created a changelog entry Markdown file in the `.changelog` directory, specifying \"client,\" \"server,\" or both in the `applies_to` key.\r\n\r\n\r\n----\r\n\r\n_By submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice._\r\n", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3893/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3892", "repository_url": "https://api.github.com/repos/smithy-lang/smithy-rs", "labels_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3892/labels{/name}", "comments_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3892/comments", "events_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3892/events", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3892", "id": 2611928732, "node_id": "PR_kwDOElwhj85_yrjy", "number": 3892, "title": "Merge smithy-rs-release-1.x.y into main", "user": {"login": "aws-sdk-rust-ci", "id": 97246200, "node_id": "U_kgDOBcvb-A", "avatar_url": "https://avatars.githubusercontent.com/u/97246200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-sdk-rust-ci", "html_url": "https://github.com/aws-sdk-rust-ci", "followers_url": "https://api.github.com/users/aws-sdk-rust-ci/followers", "following_url": "https://api.github.com/users/aws-sdk-rust-ci/following{/other_user}", "gists_url": "https://api.github.com/users/aws-sdk-rust-ci/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-sdk-rust-ci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-sdk-rust-ci/subscriptions", "organizations_url": "https://api.github.com/users/aws-sdk-rust-ci/orgs", "repos_url": "https://api.github.com/users/aws-sdk-rust-ci/repos", "events_url": "https://api.github.com/users/aws-sdk-rust-ci/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-sdk-rust-ci/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-10-24T15:23:51Z", "updated_at": "2024-10-24T15:52:38Z", "closed_at": "2024-10-24T15:52:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/pulls/3892", "html_url": "https://github.com/smithy-lang/smithy-rs/pull/3892", "diff_url": "https://github.com/smithy-lang/smithy-rs/pull/3892.diff", "patch_url": "https://github.com/smithy-lang/smithy-rs/pull/3892.patch", "merged_at": "2024-10-24T15:52:36Z"}, "body": "Merge it with `gh pr merge --admin --merge` or manually merge it with the merge commit (not squash merge).", "reactions": {"url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3892/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/smithy-lang/smithy-rs/issues/3892/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]