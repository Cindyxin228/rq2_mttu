[{"url": "https://api.github.com/repos/aws/clock-bound/issues/10", "repository_url": "https://api.github.com/repos/aws/clock-bound", "labels_url": "https://api.github.com/repos/aws/clock-bound/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/aws/clock-bound/issues/10/comments", "events_url": "https://api.github.com/repos/aws/clock-bound/issues/10/events", "html_url": "https://github.com/aws/clock-bound/pull/10", "id": 1523243318, "node_id": "PR_kwDOGR-EVs5G2tNE", "number": 10, "title": "Bump tokio from 1.17.0 to 1.18.4 in /clock-bound-d", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4980523761, "node_id": "LA_kwDOGR-EVs8AAAABKNzC8Q", "url": "https://api.github.com/repos/aws/clock-bound/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-06T22:12:05Z", "updated_at": "2023-01-11T17:01:02Z", "closed_at": "2023-01-11T17:00:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/clock-bound/pulls/10", "html_url": "https://github.com/aws/clock-bound/pull/10", "diff_url": "https://github.com/aws/clock-bound/pull/10.diff", "patch_url": "https://github.com/aws/clock-bound/pull/10.patch", "merged_at": "2023-01-11T17:00:50Z"}, "body": "Bumps [tokio](https://github.com/tokio-rs/tokio) from 1.17.0 to 1.18.4.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/tokio-rs/tokio/releases\">tokio's releases</a>.</em></p>\n<blockquote>\n<h2>Tokio v1.18.3</h2>\n<h1>1.18.3 (September 27, 2022)</h1>\n<p>This release removes the dependency on the <code>once_cell</code> crate to restore the MSRV of the 1.18.x LTS release. (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/5048\">#5048</a>)</p>\n<p><a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/5048\">#5048</a>: <a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/pull/5048\">tokio-rs/tokio#5048</a></p>\n<h2>Tokio v1.18.2</h2>\n<h1>1.18.2 (May 5, 2022)</h1>\n<p>Add missing features for the <code>winapi</code> dependency. (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4663\">#4663</a>)</p>\n<p><a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4663\">#4663</a>: <a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/pull/4663\">tokio-rs/tokio#4663</a></p>\n<h2>Tokio v1.18.1</h2>\n<h1>1.18.1 (May 2, 2022)</h1>\n<p>The 1.18.0 release broke the build for targets without 64-bit atomics when building with <code>tokio_unstable</code>. This release fixes that. (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4649\">#4649</a>)</p>\n<p><a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4649\">#4649</a>: <a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/pull/4649\">tokio-rs/tokio#4649</a></p>\n<h2>Tokio v1.18.0</h2>\n<h1>1.18.0 (April 27, 2022)</h1>\n<p>This release adds a number of new APIs in <code>tokio::net</code>, <code>tokio::signal</code>, and\n<code>tokio::sync</code>. In addition, it adds new unstable APIs to <code>tokio::task</code> (<code>Id</code>s\nfor uniquely identifying a task, and <code>AbortHandle</code> for remotely cancelling a\ntask), as well as a number of bugfixes.</p>\n<h3>Fixed</h3>\n<ul>\n<li>blocking: add missing <code>#[track_caller]</code> for <code>spawn_blocking</code> (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4616\">#4616</a>)</li>\n<li>macros: fix <code>select</code> macro to process 64 branches (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4519\">#4519</a>)</li>\n<li>net: fix <code>try_io</code> methods not calling Mio's <code>try_io</code> internally (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4582\">#4582</a>)</li>\n<li>runtime: recover when OS fails to spawn a new thread (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4485\">#4485</a>)</li>\n</ul>\n<h3>Added</h3>\n<ul>\n<li>net: add <code>UdpSocket::peer_addr</code> (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4611\">#4611</a>)</li>\n<li>net: add <code>try_read_buf</code> method for named pipes (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4626\">#4626</a>)</li>\n<li>signal: add <code>SignalKind</code> <code>Hash</code>/<code>Eq</code> impls and <code>c_int</code> conversion (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4540\">#4540</a>)</li>\n<li>signal: add support for signals up to <code>SIGRTMAX</code> (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4555\">#4555</a>)</li>\n<li>sync: add <code>watch::Sender::send_modify</code> method (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4310\">#4310</a>)</li>\n<li>sync: add <code>broadcast::Receiver::len</code> method (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4542\">#4542</a>)</li>\n<li>sync: add <code>watch::Receiver::same_channel</code> method (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4581\">#4581</a>)</li>\n<li>sync: implement <code>Clone</code> for <code>RecvError</code> types (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4560\">#4560</a>)</li>\n</ul>\n<h3>Changed</h3>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/tokio-rs/tokio/commit/9241c3eddf4a6a218681b088d71f7191513e2376\"><code>9241c3e</code></a> chore: prepare Tokio v1.18.4 release</li>\n<li><a href=\"https://github.com/tokio-rs/tokio/commit/699573d550fabf4bfb45d82505d6709faaae9037\"><code>699573d</code></a> net: fix named pipes server configuration builder</li>\n<li><a href=\"https://github.com/tokio-rs/tokio/commit/5c76d070e28bd9153ec72f13d0ebe24935b9dea0\"><code>5c76d07</code></a> chore: prepare Tokio v1.18.3 (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/5051\">#5051</a>)</li>\n<li><a href=\"https://github.com/tokio-rs/tokio/commit/05e661490b87a3d60a8342535bdc9d213048519c\"><code>05e6614</code></a> chore: don't use <code>once_cell</code> for 1.18.x LTS release (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/5048\">#5048</a>)</li>\n<li><a href=\"https://github.com/tokio-rs/tokio/commit/7aa1566cde7e04cebe60711ed6ce2f8b277158e9\"><code>7aa1566</code></a> chore: prepare Tokio v1.18.2</li>\n<li><a href=\"https://github.com/tokio-rs/tokio/commit/7c8e552f290a7cbae21f6d3343c2ee26c418d2fb\"><code>7c8e552</code></a> windows: add features for winapi (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4663\">#4663</a>)</li>\n<li><a href=\"https://github.com/tokio-rs/tokio/commit/148bea82ee15974e64d8fc9292c2066a7278cebc\"><code>148bea8</code></a> tokio: prepare Tokio v1.18.1 (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4650\">#4650</a>)</li>\n<li><a href=\"https://github.com/tokio-rs/tokio/commit/dc54aec1c785e334c23a0c8f249e71a8241f0d1d\"><code>dc54aec</code></a> metrics: use mocked <code>AtomicU64</code> in IO metrics driver (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4649\">#4649</a>)</li>\n<li><a href=\"https://github.com/tokio-rs/tokio/commit/fa665b91a8f7bbf0ab234f60f28ef25e5afac10b\"><code>fa665b9</code></a> macros: always emit return statement (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4636\">#4636</a>)</li>\n<li><a href=\"https://github.com/tokio-rs/tokio/commit/48183430fb1385c823c048af16aaea346d8e652f\"><code>4818343</code></a> tokio: prepare to release v1.18.0 (<a href=\"https://github-redirect.dependabot.com/tokio-rs/tokio/issues/4641\">#4641</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/tokio-rs/tokio/compare/tokio-1.17.0...tokio-1.18.4\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=tokio&package-manager=cargo&previous-version=1.17.0&new-version=1.18.4)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/aws/clock-bound/network/alerts).\n\n</details>", "reactions": {"url": "https://api.github.com/repos/aws/clock-bound/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/clock-bound/issues/10/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/clock-bound/issues/7", "repository_url": "https://api.github.com/repos/aws/clock-bound", "labels_url": "https://api.github.com/repos/aws/clock-bound/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/aws/clock-bound/issues/7/comments", "events_url": "https://api.github.com/repos/aws/clock-bound/issues/7/events", "html_url": "https://github.com/aws/clock-bound/pull/7", "id": 1166650455, "node_id": "PR_kwDOGR-EVs40T7pf", "number": 7, "title": "Bump client to 0.1.1 and daemon to 0.1.2", "user": {"login": "dfoxfranke", "id": 4708206, "node_id": "MDQ6VXNlcjQ3MDgyMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/4708206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dfoxfranke", "html_url": "https://github.com/dfoxfranke", "followers_url": "https://api.github.com/users/dfoxfranke/followers", "following_url": "https://api.github.com/users/dfoxfranke/following{/other_user}", "gists_url": "https://api.github.com/users/dfoxfranke/gists{/gist_id}", "starred_url": "https://api.github.com/users/dfoxfranke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dfoxfranke/subscriptions", "organizations_url": "https://api.github.com/users/dfoxfranke/orgs", "repos_url": "https://api.github.com/users/dfoxfranke/repos", "events_url": "https://api.github.com/users/dfoxfranke/events{/privacy}", "received_events_url": "https://api.github.com/users/dfoxfranke/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-11T16:59:57Z", "updated_at": "2022-03-11T17:49:53Z", "closed_at": "2022-03-11T17:49:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/clock-bound/pulls/7", "html_url": "https://github.com/aws/clock-bound/pull/7", "diff_url": "https://github.com/aws/clock-bound/pull/7.diff", "patch_url": "https://github.com/aws/clock-bound/pull/7.patch", "merged_at": "2022-03-11T17:49:52Z"}, "body": "Bump versions and update `Cargo.lock`.\r\n\r\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/clock-bound/issues/7/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/clock-bound/issues/7/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/clock-bound/issues/6", "repository_url": "https://api.github.com/repos/aws/clock-bound", "labels_url": "https://api.github.com/repos/aws/clock-bound/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/aws/clock-bound/issues/6/comments", "events_url": "https://api.github.com/repos/aws/clock-bound/issues/6/events", "html_url": "https://github.com/aws/clock-bound/pull/6", "id": 1146413023, "node_id": "PR_kwDOGR-EVs4zQpCy", "number": 6, "title": "Add support to the client uses abstract address to connect to the daemon", "user": {"login": "daxinc", "id": 6908054, "node_id": "MDQ6VXNlcjY5MDgwNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6908054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxinc", "html_url": "https://github.com/daxinc", "followers_url": "https://api.github.com/users/daxinc/followers", "following_url": "https://api.github.com/users/daxinc/following{/other_user}", "gists_url": "https://api.github.com/users/daxinc/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxinc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxinc/subscriptions", "organizations_url": "https://api.github.com/users/daxinc/orgs", "repos_url": "https://api.github.com/users/daxinc/repos", "events_url": "https://api.github.com/users/daxinc/events{/privacy}", "received_events_url": "https://api.github.com/users/daxinc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-02-22T03:29:43Z", "updated_at": "2022-02-24T15:33:33Z", "closed_at": "2022-02-24T15:33:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/clock-bound/pulls/6", "html_url": "https://github.com/aws/clock-bound/pull/6", "diff_url": "https://github.com/aws/clock-bound/pull/6.diff", "patch_url": "https://github.com/aws/clock-bound/pull/6.patch", "merged_at": "2022-02-24T15:33:33Z"}, "body": "*Description of changes:*\r\n\r\nThe current implementation assumes the client connects to the daemon using file system based socket. If the client uses [an abstract socket address], it fails to send back response.\r\n\r\nThe change allows the daemon to communicate back to the client irrespective to the type of socket it uses.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/clock-bound/issues/6/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/clock-bound/issues/6/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/clock-bound/issues/5", "repository_url": "https://api.github.com/repos/aws/clock-bound", "labels_url": "https://api.github.com/repos/aws/clock-bound/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/aws/clock-bound/issues/5/comments", "events_url": "https://api.github.com/repos/aws/clock-bound/issues/5/events", "html_url": "https://github.com/aws/clock-bound/pull/5", "id": 1146176125, "node_id": "PR_kwDOGR-EVs4zP38c", "number": 5, "title": "Fix toctou", "user": {"login": "basilnsindhu", "id": 41452381, "node_id": "MDQ6VXNlcjQxNDUyMzgx", "avatar_url": "https://avatars.githubusercontent.com/u/41452381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/basilnsindhu", "html_url": "https://github.com/basilnsindhu", "followers_url": "https://api.github.com/users/basilnsindhu/followers", "following_url": "https://api.github.com/users/basilnsindhu/following{/other_user}", "gists_url": "https://api.github.com/users/basilnsindhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/basilnsindhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/basilnsindhu/subscriptions", "organizations_url": "https://api.github.com/users/basilnsindhu/orgs", "repos_url": "https://api.github.com/users/basilnsindhu/repos", "events_url": "https://api.github.com/users/basilnsindhu/events{/privacy}", "received_events_url": "https://api.github.com/users/basilnsindhu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-21T19:55:03Z", "updated_at": "2022-03-02T22:01:32Z", "closed_at": "2022-03-02T22:01:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/clock-bound/pulls/5", "html_url": "https://github.com/aws/clock-bound/pull/5", "diff_url": "https://github.com/aws/clock-bound/pull/5.diff", "patch_url": "https://github.com/aws/clock-bound/pull/5.patch", "merged_at": "2022-03-02T22:01:31Z"}, "body": "*Description of changes:*\r\n\r\nThe current `now()` API call is prone to TOCTOU (time-of-check to time-of-use) error. This adds an additional API call which accepts a callback to an execution that needs to be timestamped by the user and calculates the upper and lower bound based on that. \r\n```\r\npub struct TimingResult {\r\n    /// Callback began executing no earlier than this time\r\n    pub earliest_start : SystemTime,\r\n    /// Callback finished executing no later than this time\r\n    pub latest_finish : SystemTime,\r\n    /// No less than this amount of time elapsed from when timing() was called\r\n    /// to when it returned.\r\n    pub min_execution_time : Duration,\r\n    /// No more than this amount of time elapsed when the callback was invoked\r\n    /// to when it returned.\r\n    pub max_execution_time : Duration\r\n}\r\n```\r\nIt also returns maximum and minimum execution time of the timing API call. \r\n\r\nOverview of the execution steps taken by the API call\r\n```\r\n1. User calls the `timing(f)` API \r\n2. Collects the upper and lower bound at T1 \r\n3. Executes the callback f\r\n4. Collects the upper and lower bound at T2\r\n5. Compares duration between T1 midpoint and T2 midpoint\r\n6. Computes maximum and minimum duration by +/- clock frequency\r\n7. Returns upper bound, lower bound, min execution, maximum execution\r\n``` \r\n\r\nSample output of running `cargo run --example timing /run/clockboundd/clockboundd.sock`\r\n```\r\nEarliest start time for the timing request: \"2022-02-21 19:43:34.530780989\"\r\nLatest finish time for the timing request: \"2022-02-21 19:43:34.552979011\"\r\nMinimum execution duration of timing request: 51\u00b5s\r\nMaximum execution duration of timing request: 73\u00b5s\r\n```\r\n\r\n\r\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/clock-bound/issues/5/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/clock-bound/issues/5/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/clock-bound/issues/4", "repository_url": "https://api.github.com/repos/aws/clock-bound", "labels_url": "https://api.github.com/repos/aws/clock-bound/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/aws/clock-bound/issues/4/comments", "events_url": "https://api.github.com/repos/aws/clock-bound/issues/4/events", "html_url": "https://github.com/aws/clock-bound/pull/4", "id": 1090076104, "node_id": "PR_kwDOGR-EVs4wWH2n", "number": 4, "title": "Update daemon dependencies and bump to 0.1.1", "user": {"login": "dfoxfranke", "id": 4708206, "node_id": "MDQ6VXNlcjQ3MDgyMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/4708206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dfoxfranke", "html_url": "https://github.com/dfoxfranke", "followers_url": "https://api.github.com/users/dfoxfranke/followers", "following_url": "https://api.github.com/users/dfoxfranke/following{/other_user}", "gists_url": "https://api.github.com/users/dfoxfranke/gists{/gist_id}", "starred_url": "https://api.github.com/users/dfoxfranke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dfoxfranke/subscriptions", "organizations_url": "https://api.github.com/users/dfoxfranke/orgs", "repos_url": "https://api.github.com/users/dfoxfranke/repos", "events_url": "https://api.github.com/users/dfoxfranke/events{/privacy}", "received_events_url": "https://api.github.com/users/dfoxfranke/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-28T19:03:45Z", "updated_at": "2021-12-28T19:08:15Z", "closed_at": "2021-12-28T19:08:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/clock-bound/pulls/4", "html_url": "https://github.com/aws/clock-bound/pull/4", "diff_url": "https://github.com/aws/clock-bound/pull/4.diff", "patch_url": "https://github.com/aws/clock-bound/pull/4.patch", "merged_at": "2021-12-28T19:08:15Z"}, "body": "Bumped clock-bound-d version to 0.1.1 and ran `cargo update` in order to bring in chrony-candm-0.1.1 with https://github.com/aws/chrony-candm/pull/1\r\n\r\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/clock-bound/issues/4/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/clock-bound/issues/4/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/clock-bound/issues/3", "repository_url": "https://api.github.com/repos/aws/clock-bound", "labels_url": "https://api.github.com/repos/aws/clock-bound/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/aws/clock-bound/issues/3/comments", "events_url": "https://api.github.com/repos/aws/clock-bound/issues/3/events", "html_url": "https://github.com/aws/clock-bound/pull/3", "id": 1079841988, "node_id": "PR_kwDOGR-EVs4v0-i6", "number": 3, "title": "clock-bound-c: use array instead of vec for performance", "user": {"login": "siddontang", "id": 1080370, "node_id": "MDQ6VXNlcjEwODAzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1080370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siddontang", "html_url": "https://github.com/siddontang", "followers_url": "https://api.github.com/users/siddontang/followers", "following_url": "https://api.github.com/users/siddontang/following{/other_user}", "gists_url": "https://api.github.com/users/siddontang/gists{/gist_id}", "starred_url": "https://api.github.com/users/siddontang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siddontang/subscriptions", "organizations_url": "https://api.github.com/users/siddontang/orgs", "repos_url": "https://api.github.com/users/siddontang/repos", "events_url": "https://api.github.com/users/siddontang/events{/privacy}", "received_events_url": "https://api.github.com/users/siddontang/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-12-14T14:41:40Z", "updated_at": "2021-12-23T21:35:20Z", "closed_at": "2021-12-23T21:35:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/clock-bound/pulls/3", "html_url": "https://github.com/aws/clock-bound/pull/3", "diff_url": "https://github.com/aws/clock-bound/pull/3.diff", "patch_url": "https://github.com/aws/clock-bound/pull/3.patch", "merged_at": "2021-12-23T21:35:08Z"}, "body": "*Issue #, if available:* \r\n\r\nNone\r\n\r\n*Description of changes:*\r\n\r\nI found that you here use vector to get timestamps, IMO, these functions are highly frequently called, so it is better to use array instead of vector.\r\n\r\nI wrote a simple benchmark below:\r\n\r\n```rust\r\n#![feature(test)]\r\nextern crate test;\r\nuse test::{black_box, Bencher};\r\n#[bench]\r\nfn bench_vec(b: &mut Bencher) {\r\n    b.iter(|| {\r\n        for _ in 0..16 {\r\n            let mut request: Vec<u8> = Vec::new();\r\n            // Inner closure, the actual test\r\n            for i in 0..4 {\r\n                request.push(i);\r\n            }\r\n            black_box(request);\r\n        }\r\n    });\r\n}\r\n#[bench]\r\nfn bench_vec_with_capacity(b: &mut Bencher) {\r\n    b.iter(|| {\r\n        for _ in 0..16 {\r\n            let mut request: Vec<u8> = Vec::with_capacity(4);\r\n            // Inner closure, the actual test\r\n            for i in 0..4 {\r\n                request.push(i);\r\n            }\r\n            black_box(request);\r\n        }\r\n    });\r\n}\r\n#[bench]\r\nfn bench_array(b: &mut Bencher) {\r\n    b.iter(|| {\r\n        for _ in 0..16 {\r\n            let mut request: [u8; 4] = [0; 4];\r\n            // Inner closure, the actual test\r\n            for i in 0..4 {\r\n                request[i] = i as u8;\r\n            }\r\n            black_box(request);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nThe benchmark result is:\r\n\r\n```bash\r\ntest bench_array            ... bench:           4 ns/iter (+/- 0)\r\ntest bench_vec               ... bench:       1,014 ns/iter (+/- 143)\r\ntest bench_vec_with_capacity ... bench:         977 ns/iter (+/- 70)\r\n```\r\n\r\nAs you can see, using array gains a better performance. \r\n\r\nBecause this repo doesn't have any unit tests, I have to test it by myself, seem it can work well, like:\r\n\r\n```\r\ncargo run --example now /run/clockboundd/clockboundd.sock\r\nThe UTC timestamp 2021-12-14 14:24:20.048961000 has the following error bounds.\r\nIn nanoseconds since the Unix epoch: (1639491860040783810,1639491860057138190)\r\nIn UTC in date/time format: (2021-12-14 14:24:20.040783810, 2021-12-14 14:24:20.057138190)\r\n\r\ncargo run --example before /run/clockboundd/clockboundd.sock\r\n1639491872937419000 nanoseconds since the Unix Epoch is not before the current time's error bounds.\r\nWaiting 1 second...\r\n1639491872937419000 nanoseconds since the Unix Epoch is before the current time's error bounds.\r\n\r\ncargo run --example after /run/clockboundd/clockboundd.sock\r\n1639491883489757000 nanoseconds since the Unix Epoch is after the current time's error bounds.\r\nWaiting 2 seconds...\r\n1639491883489757000 nanoseconds since the Unix Epoch is not after the current time's error bounds.\r\n```\r\n\r\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/clock-bound/issues/3/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/clock-bound/issues/3/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]