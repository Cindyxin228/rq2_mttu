[{"url": "https://api.github.com/repos/DataDog/glommio/issues/291", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/291/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/291/events", "html_url": "https://github.com/DataDog/glommio/pull/291", "id": 822706221, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg1Mjg2ODk3", "number": 291, "title": "Prep release", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-05T03:25:34Z", "updated_at": "2021-03-07T22:54:15Z", "closed_at": "2021-03-07T22:54:12Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/291", "html_url": "https://github.com/DataDog/glommio/pull/291", "diff_url": "https://github.com/DataDog/glommio/pull/291.diff", "patch_url": "https://github.com/DataDog/glommio/pull/291.patch", "merged_at": "2021-03-07T22:54:12Z"}, "body": "### What does this PR do?\r\n\r\nPrepares for the 0.3.0 release\r\n\r\n### Motivation\r\n\r\nWe need a release!\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/291/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/290", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/290/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/290/events", "html_url": "https://github.com/DataDog/glommio/pull/290", "id": 822636326, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg1MjMwMTc0", "number": 290, "title": "allow the default preempt timer setting to be set.", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-05T00:48:49Z", "updated_at": "2021-03-05T00:54:37Z", "closed_at": "2021-03-05T00:54:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/290", "html_url": "https://github.com/DataDog/glommio/pull/290", "diff_url": "https://github.com/DataDog/glommio/pull/290.diff", "patch_url": "https://github.com/DataDog/glommio/pull/290.patch", "merged_at": "2021-03-05T00:54:34Z"}, "body": "Sometimes we want to still dispatch request in the main ring, but not\r\nhave 100ms preempt times. Allow that to be configurable\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/290/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/289", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/289/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/289/events", "html_url": "https://github.com/DataDog/glommio/pull/289", "id": 822602588, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg1MjAxNjA1", "number": 289, "title": "Controller", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-04T23:44:31Z", "updated_at": "2021-03-05T00:10:17Z", "closed_at": "2021-03-05T00:09:55Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/289", "html_url": "https://github.com/DataDog/glommio/pull/289", "diff_url": "https://github.com/DataDog/glommio/pull/289.diff", "patch_url": "https://github.com/DataDog/glommio/pull/289.patch", "merged_at": "2021-03-05T00:09:55Z"}, "body": "### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/289/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/288", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/288/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/288/events", "html_url": "https://github.com/DataDog/glommio/pull/288", "id": 822396134, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg1MDI4NDU3", "number": 288, "title": "fix asynchronous close-on-drop", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-04T18:37:00Z", "updated_at": "2021-03-04T18:40:57Z", "closed_at": "2021-03-04T18:39:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/288", "html_url": "https://github.com/DataDog/glommio/pull/288", "diff_url": "https://github.com/DataDog/glommio/pull/288.diff", "patch_url": "https://github.com/DataDog/glommio/pull/288.patch", "merged_at": "2021-03-04T18:39:18Z"}, "body": "Asynchronous close-on-drop is not working. Unfortunately this is not\r\neasy to spot, until your long-running program runs out of disk space\r\nas the files are not properly closed.\r\n\r\nThe reason is, we close through the normal Source path. But the Source\r\ndies right after, which triggers a cancellation. What we need to do in\r\nthis case is have a special path where we don't depend on a Source.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/288/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/287", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/287/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/287/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/287/events", "html_url": "https://github.com/DataDog/glommio/pull/287", "id": 821503578, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg0MjgzMTg4", "number": 287, "title": "return a GlommioError for rename, remove", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-03T21:32:54Z", "updated_at": "2021-03-04T01:29:42Z", "closed_at": "2021-03-04T01:29:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/287", "html_url": "https://github.com/DataDog/glommio/pull/287", "diff_url": "https://github.com/DataDog/glommio/pull/287.diff", "patch_url": "https://github.com/DataDog/glommio/pull/287.patch", "merged_at": "2021-03-04T01:29:38Z"}, "body": "remove and rename are done through system calls, which are converted to\r\nio::Errors. They are then converted through GlommioErrors through\r\nenhance, then back to io::Error for the return value.\r\n\r\nThis has no other reason except for the fact that we forgot to convert\r\nthis to GlommioError.\r\n\r\nAside from the needless conversions, this causes the information about\r\nwhich OS error generated this to be essentially lost. It is there, but\r\nit is behind a Custom type, that needs a lot of downcast magic to be\r\nfetched.\r\n\r\nThis patch returns a GlommioError, and adds a convenience method to\r\ngrab the OS error that generated it when it is available.\r\n\r\nIt also adds a test to make sure we won't break this in the future.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/287/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/286", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/286/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/286/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/286/events", "html_url": "https://github.com/DataDog/glommio/pull/286", "id": 820582978, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgzNTAzMjQy", "number": 286, "title": "log panics on wakers", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-03T02:41:29Z", "updated_at": "2021-03-03T15:33:27Z", "closed_at": "2021-03-03T15:33:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/286", "html_url": "https://github.com/DataDog/glommio/pull/286", "diff_url": "https://github.com/DataDog/glommio/pull/286.diff", "patch_url": "https://github.com/DataDog/glommio/pull/286.patch", "merged_at": "2021-03-03T15:33:24Z"}, "body": "I have no reason to believe this has happened, but if it does happen,\r\nI don't want to be the poor soul debugging this without any indication\r\nin the logs.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/286/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/285", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/285/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/285/events", "html_url": "https://github.com/DataDog/glommio/pull/285", "id": 819550539, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgyNjQ1Mzk3", "number": 285, "title": "Internalize uring", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-03-02T02:50:09Z", "updated_at": "2021-03-03T02:19:38Z", "closed_at": "2021-03-03T02:19:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/285", "html_url": "https://github.com/DataDog/glommio/pull/285", "diff_url": "https://github.com/DataDog/glommio/pull/285.diff", "patch_url": "https://github.com/DataDog/glommio/pull/285.patch", "merged_at": "2021-03-03T02:19:38Z"}, "body": "### What does this PR do?\r\n\r\nInternalizes uring-sys and iou, hopefully in a temporary manner, until all the code we need makes into their crates release\r\n\r\n### Motivation\r\n\r\nThose crates are moving too slowly, and blocking our progress in a significant manner\r\n\r\n### Related issues\r\nhttps://github.com/DataDog/glommio/issues/283\r\nhttps://github.com/DataDog/glommio/issues/243", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/285/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/284", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/284/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/284/events", "html_url": "https://github.com/DataDog/glommio/pull/284", "id": 816812799, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgwNDExODA5", "number": 284, "title": "update README.md", "user": {"login": "bryandmc", "id": 774915, "node_id": "MDQ6VXNlcjc3NDkxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/774915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryandmc", "html_url": "https://github.com/bryandmc", "followers_url": "https://api.github.com/users/bryandmc/followers", "following_url": "https://api.github.com/users/bryandmc/following{/other_user}", "gists_url": "https://api.github.com/users/bryandmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryandmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryandmc/subscriptions", "organizations_url": "https://api.github.com/users/bryandmc/orgs", "repos_url": "https://api.github.com/users/bryandmc/repos", "events_url": "https://api.github.com/users/bryandmc/events{/privacy}", "received_events_url": "https://api.github.com/users/bryandmc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-25T21:10:46Z", "updated_at": "2021-02-25T21:19:57Z", "closed_at": "2021-02-25T21:19:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/284", "html_url": "https://github.com/DataDog/glommio/pull/284", "diff_url": "https://github.com/DataDog/glommio/pull/284.diff", "patch_url": "https://github.com/DataDog/glommio/pull/284.patch", "merged_at": "2021-02-25T21:19:57Z"}, "body": "We've now added support for sending 'Send' data from different executors, so\r\nupdating the readme to remove the mention of that.\r\n\r\n### Motivation\r\nRan across the README and noticed that line.\r\n\r\n### Checklist\r\n\r\n[n/a] I have added unit tests to the code I am submitting\r\n[n/a] My unit tests cover both failure and success scenarios\r\n[n/a] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/284/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/282", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/282/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/282/events", "html_url": "https://github.com/DataDog/glommio/pull/282", "id": 816736315, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgwMzQ1NjU5", "number": 282, "title": "Error lost context", "user": {"login": "bryandmc", "id": 774915, "node_id": "MDQ6VXNlcjc3NDkxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/774915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryandmc", "html_url": "https://github.com/bryandmc", "followers_url": "https://api.github.com/users/bryandmc/followers", "following_url": "https://api.github.com/users/bryandmc/following{/other_user}", "gists_url": "https://api.github.com/users/bryandmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryandmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryandmc/subscriptions", "organizations_url": "https://api.github.com/users/bryandmc/orgs", "repos_url": "https://api.github.com/users/bryandmc/repos", "events_url": "https://api.github.com/users/bryandmc/events{/privacy}", "received_events_url": "https://api.github.com/users/bryandmc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-25T19:40:51Z", "updated_at": "2021-02-25T19:47:32Z", "closed_at": "2021-02-25T19:47:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/282", "html_url": "https://github.com/DataDog/glommio/pull/282", "diff_url": "https://github.com/DataDog/glommio/pull/282.diff", "patch_url": "https://github.com/DataDog/glommio/pull/282.patch", "merged_at": "2021-02-25T19:47:32Z"}, "body": "### What does this PR do?\r\nShould be a sufficient fix for issue #270, where we had lost information in the error message. In doing so, I removed the `thiserror` crate, because we ended up having to do all the impls by hand anyways to get the exact behavior we wanted. On the plus side, we probably shaved off some compile time as well by removing all the derive/custom attribute macros. \r\n\r\n### Motivation\r\nAddresses #270 \r\n\r\n### Related issues\r\n#270 \r\n\r\n### Checklist\r\n\r\n[ X ] I have added unit tests to the code I am submitting\r\n[ - ] My unit tests cover both failure and success scenarios (somewhat irrelevant in this case b/c it's about errors)\r\n[ X ] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/282/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/281", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/281/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/281/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/281/events", "html_url": "https://github.com/DataDog/glommio/pull/281", "id": 814069718, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc4MTEzMDc4", "number": 281, "title": "Gate", "user": {"login": "thirstycrow", "id": 1327305, "node_id": "MDQ6VXNlcjEzMjczMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1327305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thirstycrow", "html_url": "https://github.com/thirstycrow", "followers_url": "https://api.github.com/users/thirstycrow/followers", "following_url": "https://api.github.com/users/thirstycrow/following{/other_user}", "gists_url": "https://api.github.com/users/thirstycrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thirstycrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thirstycrow/subscriptions", "organizations_url": "https://api.github.com/users/thirstycrow/orgs", "repos_url": "https://api.github.com/users/thirstycrow/repos", "events_url": "https://api.github.com/users/thirstycrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thirstycrow/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-02-23T03:40:29Z", "updated_at": "2021-03-08T05:01:36Z", "closed_at": "2021-03-01T12:50:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/281", "html_url": "https://github.com/DataDog/glommio/pull/281", "diff_url": "https://github.com/DataDog/glommio/pull/281.diff", "patch_url": "https://github.com/DataDog/glommio/pull/281.patch", "merged_at": "2021-03-01T12:50:25Z"}, "body": "### What does this PR do?\r\n\r\nAdd a `Gate` similar to the same named facility in seastar to help achieving graceful shutdown of things like tcp connections.\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/281/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/280", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/280/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/280/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/280/events", "html_url": "https://github.com/DataDog/glommio/pull/280", "id": 813593326, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc3NzE2MDEz", "number": 280, "title": "example of how to use hyper", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-22T15:15:53Z", "updated_at": "2021-02-22T16:05:55Z", "closed_at": "2021-02-22T16:05:51Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/280", "html_url": "https://github.com/DataDog/glommio/pull/280", "diff_url": "https://github.com/DataDog/glommio/pull/280.diff", "patch_url": "https://github.com/DataDog/glommio/pull/280.patch", "merged_at": "2021-02-22T16:05:51Z"}, "body": "### What does this PR do?\r\n\r\nAdds an example on how to integrate with Hyper\r\n\r\n### Motivation\r\n\r\nCommunity interest\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/280/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/280/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/279", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/279/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/279/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/279/events", "html_url": "https://github.com/DataDog/glommio/pull/279", "id": 813187693, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc3MzczOTkx", "number": 279, "title": "Remove `Copy` constraint on message types for channel mesh", "user": {"login": "thirstycrow", "id": 1327305, "node_id": "MDQ6VXNlcjEzMjczMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1327305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thirstycrow", "html_url": "https://github.com/thirstycrow", "followers_url": "https://api.github.com/users/thirstycrow/followers", "following_url": "https://api.github.com/users/thirstycrow/following{/other_user}", "gists_url": "https://api.github.com/users/thirstycrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thirstycrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thirstycrow/subscriptions", "organizations_url": "https://api.github.com/users/thirstycrow/orgs", "repos_url": "https://api.github.com/users/thirstycrow/repos", "events_url": "https://api.github.com/users/thirstycrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thirstycrow/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-22T06:48:37Z", "updated_at": "2021-02-22T13:47:53Z", "closed_at": "2021-02-22T13:47:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/279", "html_url": "https://github.com/DataDog/glommio/pull/279", "diff_url": "https://github.com/DataDog/glommio/pull/279.diff", "patch_url": "https://github.com/DataDog/glommio/pull/279.patch", "merged_at": "2021-02-22T13:47:53Z"}, "body": "### What does this PR do?\r\n\r\nThe `Copy` constraints can be removed now, since non-copy messages are supported by shared channels.\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/279/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/277", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/277/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/277/events", "html_url": "https://github.com/DataDog/glommio/pull/277", "id": 810280612, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc0OTk4MDYx", "number": 277, "title": "add yolo accept()", "user": {"login": "fujita", "id": 726426, "node_id": "MDQ6VXNlcjcyNjQyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/726426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fujita", "html_url": "https://github.com/fujita", "followers_url": "https://api.github.com/users/fujita/followers", "following_url": "https://api.github.com/users/fujita/following{/other_user}", "gists_url": "https://api.github.com/users/fujita/gists{/gist_id}", "starred_url": "https://api.github.com/users/fujita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fujita/subscriptions", "organizations_url": "https://api.github.com/users/fujita/orgs", "repos_url": "https://api.github.com/users/fujita/repos", "events_url": "https://api.github.com/users/fujita/events{/privacy}", "received_events_url": "https://api.github.com/users/fujita/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-17T15:22:37Z", "updated_at": "2021-02-17T15:43:25Z", "closed_at": "2021-02-17T15:39:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/277", "html_url": "https://github.com/DataDog/glommio/pull/277", "diff_url": "https://github.com/DataDog/glommio/pull/277.diff", "patch_url": "https://github.com/DataDog/glommio/pull/277.patch", "merged_at": "2021-02-17T15:39:23Z"}, "body": "### What does this PR do?\r\n\r\nFirstly, try to accept in non-blocking way, if it fails, let's use io_uring.\r\n\r\n### Motivation\r\n\r\nimprove the performance of accepting new connections.\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nProbably I should not touch backlog of accept. I'll revert the change if you prefer.\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/277/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/276", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/276/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/276/events", "html_url": "https://github.com/DataDog/glommio/pull/276", "id": 810016570, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc0Nzc2MDQ0", "number": 276, "title": "Non copy shared channel", "user": {"login": "bryandmc", "id": 774915, "node_id": "MDQ6VXNlcjc3NDkxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/774915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryandmc", "html_url": "https://github.com/bryandmc", "followers_url": "https://api.github.com/users/bryandmc/followers", "following_url": "https://api.github.com/users/bryandmc/following{/other_user}", "gists_url": "https://api.github.com/users/bryandmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryandmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryandmc/subscriptions", "organizations_url": "https://api.github.com/users/bryandmc/orgs", "repos_url": "https://api.github.com/users/bryandmc/repos", "events_url": "https://api.github.com/users/bryandmc/events{/privacy}", "received_events_url": "https://api.github.com/users/bryandmc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-02-17T09:37:51Z", "updated_at": "2021-02-19T21:58:13Z", "closed_at": "2021-02-19T21:58:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/276", "html_url": "https://github.com/DataDog/glommio/pull/276", "diff_url": "https://github.com/DataDog/glommio/pull/276.diff", "patch_url": "https://github.com/DataDog/glommio/pull/276.patch", "merged_at": "2021-02-19T21:58:13Z"}, "body": "### What does this PR do?\r\nRemoves `T: Copy` bound from shared channel. Discussed this in another pull request where conversation started but basic idea is we change the SPSC queue's `Vec<Cell<T>>` to a `Vec<UnsafeCell<Option<T>>>` s/t we can remove the need for the copy bound. These require copies, but if you have a large struct, that's on the stack, it'll need to be put somewhere to give to another thread anyways, so you should do what you are recommended to do in the std library: stick it in a box, then send that. So despite some efforts to somehow eliminate these copies, it didn't turn out to be as possible as it seemed originally. This seems like the preferred pattern, as it's used inside the rust std library for it's containers. This doesn't end up being materially different from the method where we de-structure the heap allocated and container types to their parts (ptr, len, cap) for String/Vec for example isn't different from just copying that small struct, containing the same items, into the UnsafeCell. The process is the same but in reverse for the de-structure method, which again is the same as copying that struct out of the UnsafeCell, and returning that owned value to the user on the other side.\r\n\r\n### Motivation\r\nDiscussion on another issue and worries that the Copy constraint is hard for newcomers and just annoying for everyone else.\r\n\r\n### Related issues\r\n#275   - not sure if this method would be preferred. \r\n\r\n### Additional Notes\r\nIt looks like this is addressed similarly in another pull request. Not sure there's any difference in the safety or performance or anything like that between the two options.. They are fundamentally pretty similar, but I'm submitting this anyways because I spent time doing it and figure we might as well have both options to compare ;-p\r\n\r\n### Checklist\r\n\r\n[x] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[x] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/276/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/276/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/274", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/274/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/274/events", "html_url": "https://github.com/DataDog/glommio/pull/274", "id": 809601849, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc0NDM2NjI5", "number": 274, "title": "handle EBUSY returns from io_uring", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-16T19:52:35Z", "updated_at": "2021-02-16T23:49:46Z", "closed_at": "2021-02-16T20:20:37Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/274", "html_url": "https://github.com/DataDog/glommio/pull/274", "diff_url": "https://github.com/DataDog/glommio/pull/274.diff", "patch_url": "https://github.com/DataDog/glommio/pull/274.patch", "merged_at": "2021-02-16T20:20:37Z"}, "body": "When the CQE queue is empty, io_uring_enter can return EBUSY, essentially\r\nblocking the submission of new requests. This is non-fatal: this means\r\nthat the system is overloaded, and we just have to keep queueing\r\nrequests until we are finally able to dispatch.\r\n\r\nThis is especially important for rushed mode, where we assume that\r\na response may be available immediately after dispatch and speculatively\r\nread more: if we can't dispatch right away, just do it later.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/274/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/273", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/273/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/273/events", "html_url": "https://github.com/DataDog/glommio/pull/273", "id": 806873567, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcyMjE4NjEx", "number": 273, "title": "fix shared channels lock up", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-12T01:17:02Z", "updated_at": "2021-02-12T01:36:30Z", "closed_at": "2021-02-12T01:36:30Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/273", "html_url": "https://github.com/DataDog/glommio/pull/273", "diff_url": "https://github.com/DataDog/glommio/pull/273.diff", "patch_url": "https://github.com/DataDog/glommio/pull/273.patch", "merged_at": "2021-02-12T01:36:30Z"}, "body": "The previous commit ended up introducing a bug: we don't have to\r\nflush the entire wakers list plus connections because they are global.\r\nIt caused unrelated shared channels to miss wake ups.\r\n\r\nOnly the waker to this id should be removed.\r\nAlso the connection vector is fine. It doesn't hurt if we have a\r\nspurious wake up.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/273/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/272", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/272/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/272/events", "html_url": "https://github.com/DataDog/glommio/pull/272", "id": 805898830, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcxNDIzMjUw", "number": 272, "title": "shared_channels: clear wakers and connection maps when unregistering", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-10T21:43:57Z", "updated_at": "2021-02-11T13:44:50Z", "closed_at": "2021-02-11T13:44:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/272", "html_url": "https://github.com/DataDog/glommio/pull/272", "diff_url": "https://github.com/DataDog/glommio/pull/272.diff", "patch_url": "https://github.com/DataDog/glommio/pull/272.patch", "merged_at": "2021-02-11T13:44:46Z"}, "body": "When shared channels are destroyed, it could be that there are still\r\npending wakers. If they are destroyed there isn't much we should do,\r\nas there is nobody else to be awaken. We clear the collections to avoid\r\nletting other parts of the code thinking there are still notifications\r\nto be sent.\r\n\r\nFixes #269\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/272/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/271", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/271/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/271/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/271/events", "html_url": "https://github.com/DataDog/glommio/pull/271", "id": 805884283, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcxNDExNTkw", "number": 271, "title": "File improvements", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-10T21:21:22Z", "updated_at": "2021-02-10T21:43:13Z", "closed_at": "2021-02-10T21:43:09Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/271", "html_url": "https://github.com/DataDog/glommio/pull/271", "diff_url": "https://github.com/DataDog/glommio/pull/271.diff", "patch_url": "https://github.com/DataDog/glommio/pull/271.patch", "merged_at": "2021-02-10T21:43:08Z"}, "body": "### What does this PR do?\r\n\r\nImproves the performance of file streams, especially the reader, when we are dealing with very small reads.\r\nThis is a common pattern when processing a file that is filled with integers and floats: the stream will allow us to read a big buffer, but then we have to process the elements individually.\r\n\r\nWe could read large chunks outside the stream and process them, but that defeats the purpose of the abstraction.\r\n\r\n### Motivation\r\n\r\nCPU time is precious\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/271/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/268", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/268/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/268/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/268/events", "html_url": "https://github.com/DataDog/glommio/pull/268", "id": 799976263, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY2NTM5MjU4", "number": 268, "title": "Build fully connected mesh of channels ", "user": {"login": "thirstycrow", "id": 1327305, "node_id": "MDQ6VXNlcjEzMjczMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1327305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thirstycrow", "html_url": "https://github.com/thirstycrow", "followers_url": "https://api.github.com/users/thirstycrow/followers", "following_url": "https://api.github.com/users/thirstycrow/following{/other_user}", "gists_url": "https://api.github.com/users/thirstycrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thirstycrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thirstycrow/subscriptions", "organizations_url": "https://api.github.com/users/thirstycrow/orgs", "repos_url": "https://api.github.com/users/thirstycrow/repos", "events_url": "https://api.github.com/users/thirstycrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thirstycrow/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2021-02-03T05:12:10Z", "updated_at": "2021-02-20T02:23:39Z", "closed_at": "2021-02-19T10:47:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/268", "html_url": "https://github.com/DataDog/glommio/pull/268", "diff_url": "https://github.com/DataDog/glommio/pull/268.diff", "patch_url": "https://github.com/DataDog/glommio/pull/268.patch", "merged_at": "2021-02-19T10:47:07Z"}, "body": "### What does this PR do?\r\n\r\nThis PR adds a utility to build a mesh of channels connecting each pair of participating executors.\r\n\r\n### Motivation\r\n\r\nMake it easier to implement sharding", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/268/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/267", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/267/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/267/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/267/events", "html_url": "https://github.com/DataDog/glommio/pull/267", "id": 799657629, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY2MjY3ODEx", "number": 267, "title": "Add track_caller annotations to public ", "user": {"login": "Daniel-B-Smith", "id": 3280224, "node_id": "MDQ6VXNlcjMyODAyMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3280224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Daniel-B-Smith", "html_url": "https://github.com/Daniel-B-Smith", "followers_url": "https://api.github.com/users/Daniel-B-Smith/followers", "following_url": "https://api.github.com/users/Daniel-B-Smith/following{/other_user}", "gists_url": "https://api.github.com/users/Daniel-B-Smith/gists{/gist_id}", "starred_url": "https://api.github.com/users/Daniel-B-Smith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Daniel-B-Smith/subscriptions", "organizations_url": "https://api.github.com/users/Daniel-B-Smith/orgs", "repos_url": "https://api.github.com/users/Daniel-B-Smith/repos", "events_url": "https://api.github.com/users/Daniel-B-Smith/events{/privacy}", "received_events_url": "https://api.github.com/users/Daniel-B-Smith/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-02T20:28:49Z", "updated_at": "2021-02-02T20:32:48Z", "closed_at": "2021-02-02T20:32:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/267", "html_url": "https://github.com/DataDog/glommio/pull/267", "diff_url": "https://github.com/DataDog/glommio/pull/267.diff", "patch_url": "https://github.com/DataDog/glommio/pull/267.patch", "merged_at": "2021-02-02T20:32:48Z"}, "body": "### What does this PR do?\r\n\r\nThis PR adds some annotations to public API endpoints that may panic. In particular, the annotation ensures that the error message will give the line information of the client instead of the offending line in glommio itself.\r\n\r\n### Motivation\r\n\r\nThis will improve the error messages users get with panics. See https://blog.rust-lang.org/2020/08/27/Rust-1.46.0.html#track_caller for more detail.\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nThis would make the MSRV 1.46.0.\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/267/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/266", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/266/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/266/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/266/events", "html_url": "https://github.com/DataDog/glommio/pull/266", "id": 798782794, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY1NTM5ODEy", "number": 266, "title": "allow users to inspect the path associated with the file", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-01T23:09:19Z", "updated_at": "2021-02-02T15:28:16Z", "closed_at": "2021-02-02T15:28:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/266", "html_url": "https://github.com/DataDog/glommio/pull/266", "diff_url": "https://github.com/DataDog/glommio/pull/266.diff", "patch_url": "https://github.com/DataDog/glommio/pull/266.patch", "merged_at": "2021-02-02T15:28:16Z"}, "body": "We associate paths with our file objects. Allow the user to inspect them.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/266/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/265", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/265/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/265/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/265/events", "html_url": "https://github.com/DataDog/glommio/pull/265", "id": 794774314, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyMjMxNzM3", "number": 265, "title": "Require the \"bench\" feature for the nop benchmark", "user": {"login": "gardnervickers", "id": 2684011, "node_id": "MDQ6VXNlcjI2ODQwMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2684011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gardnervickers", "html_url": "https://github.com/gardnervickers", "followers_url": "https://api.github.com/users/gardnervickers/followers", "following_url": "https://api.github.com/users/gardnervickers/following{/other_user}", "gists_url": "https://api.github.com/users/gardnervickers/gists{/gist_id}", "starred_url": "https://api.github.com/users/gardnervickers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gardnervickers/subscriptions", "organizations_url": "https://api.github.com/users/gardnervickers/orgs", "repos_url": "https://api.github.com/users/gardnervickers/repos", "events_url": "https://api.github.com/users/gardnervickers/events{/privacy}", "received_events_url": "https://api.github.com/users/gardnervickers/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-27T05:03:31Z", "updated_at": "2021-01-27T14:50:03Z", "closed_at": "2021-01-27T14:50:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/265", "html_url": "https://github.com/DataDog/glommio/pull/265", "diff_url": "https://github.com/DataDog/glommio/pull/265.diff", "patch_url": "https://github.com/DataDog/glommio/pull/265.patch", "merged_at": "2021-01-27T14:50:03Z"}, "body": "This add a `required-feature` to the nop benchmark, requiring the `\"bench\"` feature. \r\n\r\nThis should fix `cargo build --all --all-targets` which was broken as part of #260 ", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/265/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/264", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/264/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/264/events", "html_url": "https://github.com/DataDog/glommio/pull/264", "id": 794674546, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyMTUyMTIz", "number": 264, "title": "add a version of the semaphore permit for complex lifetimes", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-27T00:54:32Z", "updated_at": "2021-01-28T14:59:13Z", "closed_at": "2021-01-28T14:59:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/264", "html_url": "https://github.com/DataDog/glommio/pull/264", "diff_url": "https://github.com/DataDog/glommio/pull/264.diff", "patch_url": "https://github.com/DataDog/glommio/pull/264.patch", "merged_at": "2021-01-28T14:59:13Z"}, "body": "Sometimes the lifetimes associated with the permits are complex. We may\r\nmove them, pass around, and keep them alive to signal that a long-lived\r\noperation is still in progress.\r\n\r\nIn such sitations we need a more complex permit, that is able to keep\r\nthe semaphore alive for the lifetime of the operation.\r\n\r\nIn reality I expect most permits to be like this. But recognizing that\r\nsometimes simple is good, I am adding a separate permit acquisition\r\nfor these cases instead of requiring that permits are always used with\r\nan Rc.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/264/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/263", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/263/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/263/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/263/events", "html_url": "https://github.com/DataDog/glommio/pull/263", "id": 792296885, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYwMjA0MjA4", "number": 263, "title": "Fix 261", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-01-22T20:50:48Z", "updated_at": "2021-01-25T22:37:55Z", "closed_at": "2021-01-25T22:37:51Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/263", "html_url": "https://github.com/DataDog/glommio/pull/263", "diff_url": "https://github.com/DataDog/glommio/pull/263.diff", "patch_url": "https://github.com/DataDog/glommio/pull/263.patch", "merged_at": "2021-01-25T22:37:51Z"}, "body": "### What does this PR do?\r\n\r\nFixes #261.\r\n\r\n### Motivation\r\n\r\nHonestly, stubbornness. I got this close to quitting and going to live in a farm, planting potatoes, never getting any close to a computer ever again.", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/263/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 2, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/263/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/262", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/262/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/262/events", "html_url": "https://github.com/DataDog/glommio/pull/262", "id": 791196855, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5MjkyOTgz", "number": 262, "title": "unregister shared channels after they are dropped", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-21T15:07:57Z", "updated_at": "2021-01-21T23:40:54Z", "closed_at": "2021-01-21T23:40:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/262", "html_url": "https://github.com/DataDog/glommio/pull/262", "diff_url": "https://github.com/DataDog/glommio/pull/262.diff", "patch_url": "https://github.com/DataDog/glommio/pull/262.patch", "merged_at": "2021-01-21T23:40:54Z"}, "body": "While searching for another issue (#261) I realized that we never unregister\r\nchannels on drop.\r\n\r\nThat has, unfortunately, nothing to do with the issue but that's a leak\r\nso let's fix it.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/262/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/260", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/260/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/260/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/260/events", "html_url": "https://github.com/DataDog/glommio/pull/260", "id": 787466509, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU2MTc1MjA1", "number": 260, "title": "Add a benchmark for submitting nop events to the ring", "user": {"login": "gardnervickers", "id": 2684011, "node_id": "MDQ6VXNlcjI2ODQwMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2684011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gardnervickers", "html_url": "https://github.com/gardnervickers", "followers_url": "https://api.github.com/users/gardnervickers/followers", "following_url": "https://api.github.com/users/gardnervickers/following{/other_user}", "gists_url": "https://api.github.com/users/gardnervickers/gists{/gist_id}", "starred_url": "https://api.github.com/users/gardnervickers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gardnervickers/subscriptions", "organizations_url": "https://api.github.com/users/gardnervickers/orgs", "repos_url": "https://api.github.com/users/gardnervickers/repos", "events_url": "https://api.github.com/users/gardnervickers/events{/privacy}", "received_events_url": "https://api.github.com/users/gardnervickers/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-01-16T13:29:22Z", "updated_at": "2021-01-27T02:39:32Z", "closed_at": "2021-01-27T02:11:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/260", "html_url": "https://github.com/DataDog/glommio/pull/260", "diff_url": "https://github.com/DataDog/glommio/pull/260.diff", "patch_url": "https://github.com/DataDog/glommio/pull/260.patch", "merged_at": "2021-01-27T02:11:58Z"}, "body": "- Add a new feature for benchmark-related code, \"bench\".\r\n- Add a new NopSubmitter type for submitting nop operations to the ring,\r\n  gated behind the \"bench\" feature.\r\n- Changes to Source and Source handling to support nop submissions.\r\n- Add a new benchmark which measures nop submission rate for a variety of\r\n  task counts.\r\n\r\n### What does this PR do?\r\n\r\nThis PR adds a new `NopSubmitter` reactor handle which can submit nops to the ring. This is to support a new nop benchmark.\r\n\r\n### Motivation\r\n\r\nThis benchmark was created to compare the current performance of submission/completion in Glommio against another set of proposed changes.\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/260/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/259", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/259/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/259/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/259/events", "html_url": "https://github.com/DataDog/glommio/pull/259", "id": 786103750, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU1MDI1MTY0", "number": 259, "title": "Small improvement into the RwLock test", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-14T15:54:06Z", "updated_at": "2021-01-14T16:53:10Z", "closed_at": "2021-01-14T16:53:09Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/259", "html_url": "https://github.com/DataDog/glommio/pull/259", "diff_url": "https://github.com/DataDog/glommio/pull/259.diff", "patch_url": "https://github.com/DataDog/glommio/pull/259.patch", "merged_at": "2021-01-14T16:53:09Z"}, "body": "### What does this PR do?\r\n\r\nSmall improvement into the RwLock test to ensure that background task\u2026 always executed.\r\n\r\n### Motivation\r\n\r\nTest's improvement\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/259/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/258", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/258/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/258/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/258/events", "html_url": "https://github.com/DataDog/glommio/pull/258", "id": 786068698, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU0OTk2NjY5", "number": 258, "title": "Issue #229 has been fixed. ", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-14T15:11:43Z", "updated_at": "2021-01-15T14:41:09Z", "closed_at": "2021-01-15T14:41:09Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/258", "html_url": "https://github.com/DataDog/glommio/pull/258", "diff_url": "https://github.com/DataDog/glommio/pull/258.diff", "patch_url": "https://github.com/DataDog/glommio/pull/258.patch", "merged_at": "2021-01-15T14:41:09Z"}, "body": "### What does this PR do?\r\n\r\nAn issue that caused program abort, in the presence of not finished timer in the executor,  has been fixed.\r\n\r\nIssue #229 has been caused by the fact that the timer kept instance of Waker, which was not used to wake the future. That drove cyclic reference between the not finished timer and future itself through waker instance.\r\n\r\nProgram abort was caused by the drop of the future that triggered drop of the waker.  As a result, waker tries to reschedule the local executor task, which causes panic because the local executor is absent. The panic inside of local executor triggers drop of the timer, but the reactor is already absent at this moment which triggers panic inside panic and as a result triggers abort of the program.\r\n\r\n### Motivation\r\n\r\nBug fixing.\r\n\r\n### Related issues\r\n\r\nIssue #229\r\n\r\n### Checklist\r\n\r\n[x] I have added unit tests to the code I am submitting\r\n[x] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/258/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/257", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/257/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/257/events", "html_url": "https://github.com/DataDog/glommio/pull/257", "id": 783780438, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUzMDgyMjUx", "number": 257, "title": "TcpStream nodelay methods", "user": {"login": "mxxo", "id": 40000585, "node_id": "MDQ6VXNlcjQwMDAwNTg1", "avatar_url": "https://avatars.githubusercontent.com/u/40000585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mxxo", "html_url": "https://github.com/mxxo", "followers_url": "https://api.github.com/users/mxxo/followers", "following_url": "https://api.github.com/users/mxxo/following{/other_user}", "gists_url": "https://api.github.com/users/mxxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/mxxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mxxo/subscriptions", "organizations_url": "https://api.github.com/users/mxxo/orgs", "repos_url": "https://api.github.com/users/mxxo/repos", "events_url": "https://api.github.com/users/mxxo/events{/privacy}", "received_events_url": "https://api.github.com/users/mxxo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-11T23:28:11Z", "updated_at": "2021-01-12T01:59:32Z", "closed_at": "2021-01-12T01:59:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/257", "html_url": "https://github.com/DataDog/glommio/pull/257", "diff_url": "https://github.com/DataDog/glommio/pull/257.diff", "patch_url": "https://github.com/DataDog/glommio/pull/257.patch", "merged_at": "2021-01-12T01:59:32Z"}, "body": "### What does this PR do?\r\n\r\nAdds the `TcpStream::nodelay` getter and changes `TcpStream::set_nodelay`'s signature to match [`std::net::TcpStream`](https://doc.rust-lang.org/std/net/struct.TcpStream.html#method.set_nodelay).\r\n\r\n### Motivation\r\n\r\nContinue work on #243 \r\n\r\n### Related issues\r\n\r\n#243 \r\n\r\n### Additional Notes\r\n\r\nFor 735251c, I included the standard library rationale for `set_nodelay` (and most other socket setters) taking an immutable reference, i.e. \r\n> RFC 1145: \"This aspect mirrors the ability of the underlying system to deal with concurrent modification of socket options.\"\r\n\r\nThis PR changes the `set_nodelay` signature from `&mut` to `&`. The opposite change, moving from `&` to `&mut`, breaks semver since old code may fail to compile. On the other hand I am relatively sure `&mut` to `&` doesn't count as API breakage, since passing `&mut` to a method expecting `&` will still compile, although there might be new warnings about needless mutability: [playground example](https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=e4096a90e9fcf367875dcc680a580547).\r\n \r\n### Checklist\r\n\r\n[x] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/257/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/256", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/256/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/256/events", "html_url": "https://github.com/DataDog/glommio/pull/256", "id": 782662113, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUyMTY5OTM2", "number": 256, "title": "Add TTL methods to TcpStream and TcpListener", "user": {"login": "mxxo", "id": 40000585, "node_id": "MDQ6VXNlcjQwMDAwNTg1", "avatar_url": "https://avatars.githubusercontent.com/u/40000585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mxxo", "html_url": "https://github.com/mxxo", "followers_url": "https://api.github.com/users/mxxo/followers", "following_url": "https://api.github.com/users/mxxo/following{/other_user}", "gists_url": "https://api.github.com/users/mxxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/mxxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mxxo/subscriptions", "organizations_url": "https://api.github.com/users/mxxo/orgs", "repos_url": "https://api.github.com/users/mxxo/repos", "events_url": "https://api.github.com/users/mxxo/events{/privacy}", "received_events_url": "https://api.github.com/users/mxxo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-09T18:34:40Z", "updated_at": "2021-01-11T21:55:54Z", "closed_at": "2021-01-11T18:40:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/256", "html_url": "https://github.com/DataDog/glommio/pull/256", "diff_url": "https://github.com/DataDog/glommio/pull/256.diff", "patch_url": "https://github.com/DataDog/glommio/pull/256.patch", "merged_at": "2021-01-11T18:40:31Z"}, "body": "### What does this PR do?\r\n\r\nAdds TTL getters and setters for `TcpStream` and `TcpListener`.\r\n\r\n### Motivation\r\n\r\nStart work on issue #243\r\n\r\n### Related issues\r\n\r\n#243\r\n\r\n### Checklist\r\n\r\n[x] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n\r\n### Additional Notes\r\n\r\nThe doc examples were adapted from the corresponding ones in `tokio` and `async-net`.", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/256/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/255", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/255/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/255/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/255/events", "html_url": "https://github.com/DataDog/glommio/pull/255", "id": 779565129, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ5NTIzNjM0", "number": 255, "title": "fix broken link", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-05T20:58:33Z", "updated_at": "2021-01-05T21:03:33Z", "closed_at": "2021-01-05T21:03:23Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/255", "html_url": "https://github.com/DataDog/glommio/pull/255", "diff_url": "https://github.com/DataDog/glommio/pull/255.diff", "patch_url": "https://github.com/DataDog/glommio/pull/255.patch", "merged_at": "2021-01-05T21:03:23Z"}, "body": "### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/255/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/254", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/254/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/254/events", "html_url": "https://github.com/DataDog/glommio/pull/254", "id": 779304938, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ5Mjg3Mzkx", "number": 254, "title": "add links to articles in documentation", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-05T17:09:14Z", "updated_at": "2021-01-05T21:03:30Z", "closed_at": "2021-01-05T17:14:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/254", "html_url": "https://github.com/DataDog/glommio/pull/254", "diff_url": "https://github.com/DataDog/glommio/pull/254.diff", "patch_url": "https://github.com/DataDog/glommio/pull/254.patch", "merged_at": "2021-01-05T17:14:20Z"}, "body": "There is also one comment about networking that has been made\r\nobsolete by recent developments and is removed.\r\n\r\nThe mentions of Scipio can also go at this point as well.\r\n\r\nFixes #248\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/254/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/253", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/253/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/253/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/253/events", "html_url": "https://github.com/DataDog/glommio/pull/253", "id": 779276075, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ5MjYxNDkz", "number": 253, "title": "Small improvements", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-05T16:45:48Z", "updated_at": "2021-01-05T16:53:38Z", "closed_at": "2021-01-05T16:53:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/253", "html_url": "https://github.com/DataDog/glommio/pull/253", "diff_url": "https://github.com/DataDog/glommio/pull/253.diff", "patch_url": "https://github.com/DataDog/glommio/pull/253.patch", "merged_at": "2021-01-05T16:53:34Z"}, "body": "### What does this PR do?\r\n\r\nAdd a unit test, and take the opportunity to bump the rust version our CI uses\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/253/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/251", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/251/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/251/events", "html_url": "https://github.com/DataDog/glommio/pull/251", "id": 774807077, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ1NjQ2ODM1", "number": 251, "title": "rename Scipio entries in code to Glommio", "user": {"login": "raventid", "id": 8162268, "node_id": "MDQ6VXNlcjgxNjIyNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/8162268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raventid", "html_url": "https://github.com/raventid", "followers_url": "https://api.github.com/users/raventid/followers", "following_url": "https://api.github.com/users/raventid/following{/other_user}", "gists_url": "https://api.github.com/users/raventid/gists{/gist_id}", "starred_url": "https://api.github.com/users/raventid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raventid/subscriptions", "organizations_url": "https://api.github.com/users/raventid/orgs", "repos_url": "https://api.github.com/users/raventid/repos", "events_url": "https://api.github.com/users/raventid/events{/privacy}", "received_events_url": "https://api.github.com/users/raventid/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-26T01:39:52Z", "updated_at": "2021-01-04T14:38:35Z", "closed_at": "2021-01-04T14:38:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/251", "html_url": "https://github.com/DataDog/glommio/pull/251", "diff_url": "https://github.com/DataDog/glommio/pull/251.diff", "patch_url": "https://github.com/DataDog/glommio/pull/251.patch", "merged_at": "2021-01-04T14:38:35Z"}, "body": "### What does this PR do?\r\n\r\nI found a few \"Scipio\" entries in code that could be left after the rename. One of them results in an incorrect error message: https://github.com/DataDog/glommio/blob/master/glommio/src/io/dma_file.rs#L347\r\n\r\nI've changed all entries to Glommio.\r\n\r\n### Motivation\r\n\r\nFound a minor issue that could be quickly corrected and would not create a lot of burden for the reviewer (I hope)\r\n\r\n### Related issues\r\n\r\nDidn't create an issue for this.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[x] I have added unit tests to the code I am submitting\r\n[x] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/251/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/251/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/250", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/250/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/250/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/250/events", "html_url": "https://github.com/DataDog/glommio/pull/250", "id": 774793136, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ1NjM3MDE5", "number": 250, "title": "+DmaOpenOptions", "user": {"login": "fogti", "id": 1618343, "node_id": "MDQ6VXNlcjE2MTgzNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1618343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fogti", "html_url": "https://github.com/fogti", "followers_url": "https://api.github.com/users/fogti/followers", "following_url": "https://api.github.com/users/fogti/following{/other_user}", "gists_url": "https://api.github.com/users/fogti/gists{/gist_id}", "starred_url": "https://api.github.com/users/fogti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fogti/subscriptions", "organizations_url": "https://api.github.com/users/fogti/orgs", "repos_url": "https://api.github.com/users/fogti/repos", "events_url": "https://api.github.com/users/fogti/events{/privacy}", "received_events_url": "https://api.github.com/users/fogti/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-12-25T22:42:48Z", "updated_at": "2021-01-15T11:37:58Z", "closed_at": "2021-01-14T14:27:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/250", "html_url": "https://github.com/DataDog/glommio/pull/250", "diff_url": "https://github.com/DataDog/glommio/pull/250.diff", "patch_url": "https://github.com/DataDog/glommio/pull/250.patch", "merged_at": "2021-01-14T14:27:12Z"}, "body": "### What does this PR do?\r\n\r\nThis PR adds a struct `DmaOpenOptions`, which allows to more freely choose `open_at` arguments via an already established builder pattern taken from libstd (e.g. it is modeled after [std::fs::OpenOptions](https://doc.rust-lang.org/std/fs/struct.OpenOptions.html))\r\n\r\n### Motivation\r\n\r\nPreviously, it was not possible afaik to open a file exclusively (`create_new`).\r\n\r\n### Related issues\r\n\r\nFixes #249 (`create_new`)\r\n\r\n### Additional Notes\r\n\r\nThis PR changes the default DmaFile opening mode from 0o644 to 0o666, to behave more similiar to the rust standard library.\r\nAdditionally, it changes the type of the `mode` argument of `read_at` in several places from `libc::c_int` to the more appropriate `libc::mode_t`.\r\n\r\nI omitted `append` from the `DmaOpenOptions` methods. I don't think it makes much sense for unbuffered files.\r\n\r\nUnit tests are still missing, which might be a bit challenging, at it is really hard to test every use case with such an kinda \"open-end\" builder pattern.\r\n\r\n### Checklist\r\n\r\n* [ ] I have added unit tests to the code I am submitting\r\n* [ ] My unit tests cover both failure and success scenarios\r\n* [X] If applicable, I have discussed my architecture\r\n* [X] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/250/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/246", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/246/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/246/events", "html_url": "https://github.com/DataDog/glommio/pull/246", "id": 773432373, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ0NTI0MDU3", "number": 246, "title": "make every future go through a task queue.", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-23T02:57:14Z", "updated_at": "2020-12-23T03:03:18Z", "closed_at": "2020-12-23T03:03:14Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/246", "html_url": "https://github.com/DataDog/glommio/pull/246", "diff_url": "https://github.com/DataDog/glommio/pull/246.diff", "patch_url": "https://github.com/DataDog/glommio/pull/246.patch", "merged_at": "2020-12-23T03:03:14Z"}, "body": "We currently have a weird leftover requirement that the first future\r\nthat we pass to run() be special. It doesn't run in a task queue, because\r\nthat is the future we run to completion.\r\n\r\nSuch requirement creates an asymmetry that was sooner or later bound to\r\ncause issues, as there are many things that you cannot do if you don't\r\nhave a task queue where you are running.\r\n\r\nThis patch moves the initial future inside a task queue as well. Now\r\neverything is symmetric and there are no special cases.\r\n\r\nOur spawn functions all force futures to be 'static, so we need to\r\nremove this requirement. We keep the requirement in outter functions\r\nbecause the ability to .detach() them means that we truly cannot\r\ncontrol the lifetime.\r\n\r\nFixes #241\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/246/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/245", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/245/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/245/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/245/events", "html_url": "https://github.com/DataDog/glommio/pull/245", "id": 771263458, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQyODQ5NDI2", "number": 245, "title": "Network rework", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-19T00:55:09Z", "updated_at": "2020-12-21T16:47:51Z", "closed_at": "2020-12-21T16:47:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/245", "html_url": "https://github.com/DataDog/glommio/pull/245", "diff_url": "https://github.com/DataDog/glommio/pull/245.diff", "patch_url": "https://github.com/DataDog/glommio/pull/245.patch", "merged_at": "2020-12-21T16:47:46Z"}, "body": "### What does this PR do?\r\n\r\nrework the network code to use native uring\r\n\r\n### Motivation\r\n\r\nThe old code was more scaffolding, with the api and most of the implementation yanked from async-std.\r\nIn particular it had no unit tests, and didn't even try to take advantage of io_uring in any way.\r\n\r\nThere is more work to do for us to really achieve top notch performance, but this is the start\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/245/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/244", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/244/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/244/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/244/events", "html_url": "https://github.com/DataDog/glommio/pull/244", "id": 771171776, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQyNzc1Mzc0", "number": 244, "title": "silence clippy beta", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-18T21:10:24Z", "updated_at": "2020-12-21T16:50:55Z", "closed_at": "2020-12-18T21:13:12Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/244", "html_url": "https://github.com/DataDog/glommio/pull/244", "diff_url": "https://github.com/DataDog/glommio/pull/244.diff", "patch_url": "https://github.com/DataDog/glommio/pull/244.patch", "merged_at": "2020-12-18T21:13:12Z"}, "body": "1.48 doesn't complain about that, but 1.49beta does\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/244/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/242", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/242/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/242/events", "html_url": "https://github.com/DataDog/glommio/pull/242", "id": 770934248, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQyNTgyNjU5", "number": 242, "title": "fix semaphore test", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-18T14:32:30Z", "updated_at": "2020-12-18T14:34:53Z", "closed_at": "2020-12-18T14:34:42Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/242", "html_url": "https://github.com/DataDog/glommio/pull/242", "diff_url": "https://github.com/DataDog/glommio/pull/242.diff", "patch_url": "https://github.com/DataDog/glommio/pull/242.patch", "merged_at": "2020-12-18T14:34:42Z"}, "body": "Essentially a merge issue.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/242/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/240", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/240/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/240/events", "html_url": "https://github.com/DataDog/glommio/pull/240", "id": 770413809, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQyMTY1Nzg4", "number": 240, "title": "Improve ReadResult", "user": {"login": "fogti", "id": 1618343, "node_id": "MDQ6VXNlcjE2MTgzNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1618343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fogti", "html_url": "https://github.com/fogti", "followers_url": "https://api.github.com/users/fogti/followers", "following_url": "https://api.github.com/users/fogti/following{/other_user}", "gists_url": "https://api.github.com/users/fogti/gists{/gist_id}", "starred_url": "https://api.github.com/users/fogti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fogti/subscriptions", "organizations_url": "https://api.github.com/users/fogti/orgs", "repos_url": "https://api.github.com/users/fogti/repos", "events_url": "https://api.github.com/users/fogti/events{/privacy}", "received_events_url": "https://api.github.com/users/fogti/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-12-17T22:13:35Z", "updated_at": "2020-12-19T13:51:34Z", "closed_at": "2020-12-19T13:50:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/240", "html_url": "https://github.com/DataDog/glommio/pull/240", "diff_url": "https://github.com/DataDog/glommio/pull/240.diff", "patch_url": "https://github.com/DataDog/glommio/pull/240.patch", "merged_at": "2020-12-19T13:50:35Z"}, "body": "### What does this PR do?\r\n\r\nThis PR tries to improve the `ReadResult` code, it introduces an `Deref` impl, moves the `read_at` code to `crate::io::ByteSliceExt::read_at` and introduces the function `ReadResult::slice_unchecked`, which omits the (out-of-)range checks in release mode.\r\n\r\n### Motivation\r\n\r\nhttps://glommio.zulipchat.com/#narrow/stream/262273-general/topic/Where.20to.20help.3F/near/220295672\r\n\r\n### Related issues\r\n\r\nNone.\r\n\r\n### Additional notes\r\n\r\nIt is probably a good idea to squash this before merging.\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[X] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/240/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/238", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/238/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/238/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/238/events", "html_url": "https://github.com/DataDog/glommio/pull/238", "id": 770287349, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQyMDU5NDUz", "number": 238, "title": "fix timer example", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-17T18:52:33Z", "updated_at": "2020-12-18T14:33:41Z", "closed_at": "2020-12-17T19:04:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/238", "html_url": "https://github.com/DataDog/glommio/pull/238", "diff_url": "https://github.com/DataDog/glommio/pull/238.diff", "patch_url": "https://github.com/DataDog/glommio/pull/238.patch", "merged_at": "2020-12-17T19:04:19Z"}, "body": "The example is a bit misleading: we rearm the timer but don't wait for\r\nit to fire.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/238/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/236", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/236/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/236/events", "html_url": "https://github.com/DataDog/glommio/pull/236", "id": 769626728, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQxNjYyNTAw", "number": 236, "title": "Trait Default is implemented for LocalExecutor.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-17T07:18:50Z", "updated_at": "2020-12-17T14:56:44Z", "closed_at": "2020-12-17T14:56:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/236", "html_url": "https://github.com/DataDog/glommio/pull/236", "diff_url": "https://github.com/DataDog/glommio/pull/236.diff", "patch_url": "https://github.com/DataDog/glommio/pull/236.patch", "merged_at": "2020-12-17T14:56:44Z"}, "body": "### What does this PR do?\r\n\r\nTrait Default is implemented for LocalExecutor.\r\n\r\nmake_default method is replaced by default.\r\n\r\n### Motivation\r\n\r\nMake library API to be more aligned with std API.\r\n\r\n### Additional Notes\r\n\r\nAll documentation links and examples are updated.\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/236/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/235", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/235/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/235/events", "html_url": "https://github.com/DataDog/glommio/pull/235", "id": 769471185, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQxNTc3NjA4", "number": 235, "title": "Udp", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-17T03:34:03Z", "updated_at": "2020-12-17T18:26:26Z", "closed_at": "2020-12-17T18:26:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/235", "html_url": "https://github.com/DataDog/glommio/pull/235", "diff_url": "https://github.com/DataDog/glommio/pull/235.diff", "patch_url": "https://github.com/DataDog/glommio/pull/235.patch", "merged_at": "2020-12-17T18:26:22Z"}, "body": "### What does this PR do?\r\n\r\nAdds support for UDP sockets\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/235/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/234", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/234/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/234/events", "html_url": "https://github.com/DataDog/glommio/pull/234", "id": 769270143, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQxNDM3Nzgy", "number": 234, "title": "Rc containers were removed from LocalChannel implementation.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-12-16T21:04:12Z", "updated_at": "2020-12-18T21:05:13Z", "closed_at": "2020-12-18T14:25:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/234", "html_url": "https://github.com/DataDog/glommio/pull/234", "diff_url": "https://github.com/DataDog/glommio/pull/234.diff", "patch_url": "https://github.com/DataDog/glommio/pull/234.patch", "merged_at": "2020-12-18T14:25:41Z"}, "body": "### What does this PR do?\r\n\r\nRc containers were removed from LocalChannel implementation.\r\n\r\nBecause Rc is a boxed type, Rc containers which were used inside of \r\nLocalChannel implementation of the waiting queue \r\nwere replaced by NonNull-s of Pinned waiting nodes.\r\nTo ensure safety the following changes were done:\r\n1. Futures lifetimes were restricted by lifetime of the LocalChannel.\r\n That is quite a minor restriction because \r\nthat is typically how sync primitives are used anyway.\r\n2. All waiting nodes were made Pinned.\r\n3. On Drop of the LocalChannel assertion that waiting queues are empty \r\nwas added.\r\n4. On Drop Futures remove itself from waiting queue.\r\n5. LocalChannel does not implement Stream itself but returns related Stream \r\ninstance through LocalReceiver#stream() method. \r\nThat makes usage less convenient but a) It is more canonical because single \r\nStream should work with single Task instance the same as Future. \r\nb) It makes implementation simpler.\r\n6. On Drop of stream associated waiting node is removed from the waiting queue. \r\n\r\nResults of benchmark\r\n\r\nbefore \r\n\r\ncost of sending contended local channel: 137ns\r\ncost of sending uncontended local channel: 40ns\r\n\r\nafter \r\n\r\ncost of sending contended local channel: 138ns 0%\r\ncost of sending uncontended local channel: 17ns  -58%\r\n\r\nCode is checked by ASAN.\r\n\r\n\r\n### Motivation\r\n\r\nDecrease heap allocations during the scheduling of tasks\r\n\r\n### Related issues\r\n\r\nIssue #195\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/234/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/233", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/233/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/233/events", "html_url": "https://github.com/DataDog/glommio/pull/233", "id": 769248086, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQxNDE5NDI5", "number": 233, "title": "fix Tcp bind", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-16T20:26:02Z", "updated_at": "2020-12-16T20:29:20Z", "closed_at": "2020-12-16T20:29:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/233", "html_url": "https://github.com/DataDog/glommio/pull/233", "diff_url": "https://github.com/DataDog/glommio/pull/233.diff", "patch_url": "https://github.com/DataDog/glommio/pull/233.patch", "merged_at": "2020-12-16T20:29:16Z"}, "body": "Discovered by Bryan.\r\nThe problem is that bind currently doesn't actually uphold ReusePort:\r\nwe bind first, and only then set ReusePort, while we should do the opposite.\r\n\r\nThe test is broken, because in some (most?) runs the executors will end up\r\nserializing. That is because all tests run in parallel and turn all CPUs\r\nbusy.\r\n\r\nThe test is patched to make sure we are keeping the executors alive,\r\ntherefore keeping the socket alive too, until the other executor tries\r\nto bind. Before the fix, the test now fails every time. After the fix,\r\nthe test no longer fails.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/233/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/233/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/232", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/232/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/232/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/232/events", "html_url": "https://github.com/DataDog/glommio/pull/232", "id": 768548294, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQwOTYyOTgw", "number": 232, "title": "Rc containers were removed from RwLock implementation.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-16T07:41:39Z", "updated_at": "2020-12-18T14:25:12Z", "closed_at": "2020-12-18T14:25:11Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/232", "html_url": "https://github.com/DataDog/glommio/pull/232", "diff_url": "https://github.com/DataDog/glommio/pull/232.diff", "patch_url": "https://github.com/DataDog/glommio/pull/232.patch", "merged_at": "2020-12-18T14:25:11Z"}, "body": "### What does this PR do?\r\nBecause Rc is a boxed type, Rc containers were used inside of\r\nRwLock implementation of the waiting queue\r\nwere replaced by NonNull-s of Pinned waiting nodes.\r\n\r\nTo ensure safety the following changes were done:\r\n1. Futures lifetimes were restricted by a lifetime of the RwLock.\r\n That is a quite minor restriction because\r\nthat is typically how sync primitives are used anyway.\r\n2. All waiting nodes were made Pinned.\r\n3. On Drop of the RwLock assertion that waiting queue is empty\r\nwas added.\r\n4. Guards also were bound to the RwLock lifetime.\r\n5. On Drop Futures remove itself from the waiting queue.\r\n\r\nCode was tested by ASAN.\r\n### Motivation\r\nRemoval of heap allocations inside of sync primitives.\r\n\r\nBecause the first PR was generally good accepted I decided to submit another one.\r\n\r\n### Related issues\r\n\r\nIssue #195\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/232/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/231", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/231/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/231/events", "html_url": "https://github.com/DataDog/glommio/pull/231", "id": 767815070, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQwNDA1MTgy", "number": 231, "title": "Asan fixes", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-15T16:53:11Z", "updated_at": "2020-12-16T20:23:01Z", "closed_at": "2020-12-16T20:22:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/231", "html_url": "https://github.com/DataDog/glommio/pull/231", "diff_url": "https://github.com/DataDog/glommio/pull/231.diff", "patch_url": "https://github.com/DataDog/glommio/pull/231.patch", "merged_at": "2020-12-16T20:22:57Z"}, "body": "Fix some, but unfortunately not all, complaints from ASAN.\r\n\r\n\r\nSee #229  for details\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/230", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/230/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/230/events", "html_url": "https://github.com/DataDog/glommio/pull/230", "id": 767752895, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQwMzYwODI4", "number": 230, "title": "Tcp cleanup", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-15T16:06:33Z", "updated_at": "2020-12-15T16:31:26Z", "closed_at": "2020-12-15T16:19:03Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/230", "html_url": "https://github.com/DataDog/glommio/pull/230", "diff_url": "https://github.com/DataDog/glommio/pull/230.diff", "patch_url": "https://github.com/DataDog/glommio/pull/230.patch", "merged_at": "2020-12-15T16:19:03Z"}, "body": "### What does this PR do?\r\n\r\nfactors out some Tcp code to make the implementation of new protocols easier later on\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/230/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/228", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/228/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/228/events", "html_url": "https://github.com/DataDog/glommio/pull/228", "id": 767291489, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQwMDU0MzUw", "number": 228, "title": "Rc containers were removed from semaphore implementation.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2020-12-15T07:56:07Z", "updated_at": "2020-12-18T14:30:27Z", "closed_at": "2020-12-18T14:24:11Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/228", "html_url": "https://github.com/DataDog/glommio/pull/228", "diff_url": "https://github.com/DataDog/glommio/pull/228.diff", "patch_url": "https://github.com/DataDog/glommio/pull/228.patch", "merged_at": "2020-12-18T14:24:11Z"}, "body": "### What does this PR do?\r\n\r\nBecause Rc is a boxed type, Rc containers which were used inside of semaphore implementation of the waiting queue\r\nwere replaced by NonNull-s of Pinned waiting nodes.\r\n\r\nTo ensure safety the following changes were done:\r\n1. Futures lifetimes were restricted by a lifetime of the Semaphore.\r\n That is quite a minor restriction because that is typically how sync primitives are used anyway.\r\n2. All waiting nodes were made Pinned.\r\n3. On Drop of the semaphore assertion that waiting queue is empty was added.\r\n4. Permits also were bound to the Semaphore lifetime.\r\n\r\nAlso, test to ensure the order of execution of waiting tasks was added.\r\n\r\nImplementation was check by ASAN.\r\n\r\n### Motivation\r\n\r\nRemove all heap allocations from semaphore implementation.\r\n\r\n### Related issues\r\n\r\nIssue #195\r\n\r\n### Additional Notes\r\n\r\nUnfortunately, ASAN reports that the Reactor is leaking (on code without any changes) so I bound to compare results of the execution of tests before and after the change.\r\n\r\nBefore change:\r\nSUMMARY: AddressSanitizer: 671739684 byte(s) leaked in 1056 allocation(s).\r\n\r\nAfter change:\r\nSUMMARY: AddressSanitizer: 671739684 byte(s) leaked in 1056 allocation(s).\r\n\r\nLeak reported by ASAN:\r\n\r\n```\r\n   #0 0x563be1e254fd in malloc /rustc/llvm/src/llvm-project/compiler-rt/lib/asan/asan_malloc_linux.cpp:145:3\r\n    #1 0x563be49d8bd5 in std::sys::unix::alloc::_$LT$impl$u20$core..alloc..global..GlobalAlloc$u20$for$u20$std..alloc..System$GT$::alloc::h4094fbb2da8d8ff0 /home/andrey/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/sys/unix/alloc.rs:14:13\r\n    #2 0x563be49cc6c1 in __rdl_alloc /home/andrey/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/alloc.rs:356:13\r\n    #3 0x563be4009afe in alloc::alloc::alloc::hf3853c4e036525f8 /home/andrey/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/alloc.rs:86:14\r\n    #4 0x563be4009e61 in alloc::alloc::Global::alloc_impl::hd79981f77dd5de27 /home/andrey/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/alloc.rs:166:73\r\n    #5 0x563be400b724 in _$LT$alloc..alloc..Global$u20$as$u20$core..alloc..Allocator$GT$::allocate::h002ccb1a0bdb6212 /home/andrey/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/alloc.rs:226:9\r\n    #6 0x563be40097ea in alloc::alloc::exchange_malloc::h8efbecb76da3dc18 /home/andrey/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/alloc.rs:316:11\r\n    #7 0x563be39b958e in alloc::sync::Arc$LT$T$GT$::new::hed85b5c301f28c4c /home/andrey/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/sync.rs:330:25\r\n    #8 0x563be3b6c8e7 in glommio::sys::uring::Reactor::new::hc0d3a6d8fa7d6649 /home/andrey/glommio/glommio/src/sys/uring.rs:1036:29\r\n    #9 0x563be2a10a85 in glommio::parking::Reactor::new::hb5c81574e074abb3 /home/andrey/glommio/glommio/src/parking.rs:250:19\r\n    #10 0x563be417448c in glommio::executor::LocalExecutor::new::h05fdf8ae72f3f90a /home/andrey/glommio/glommio/src/executor.rs:621:30\r\n    #11 0x563be417279a in glommio::executor::LocalExecutorBuilder::make::h34c7f7dd1a78a261 /home/andrey/glommio/glommio/src/executor.rs:460:13\r\n    #12 0x563be41740d7 in glommio::executor::LocalExecutor::make_default::h2629e83df605e8fb /home/andrey/glommio/glommio/src/executor.rs:612:9\r\n```\r\n\r\n### Checklist\r\n\r\n[x] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/228/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/227", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/227/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/227/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/227/events", "html_url": "https://github.com/DataDog/glommio/pull/227", "id": 765840154, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM5MTA0MzYx", "number": 227, "title": "Addresses #180: Implement error system", "user": {"login": "bryandmc", "id": 774915, "node_id": "MDQ6VXNlcjc3NDkxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/774915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryandmc", "html_url": "https://github.com/bryandmc", "followers_url": "https://api.github.com/users/bryandmc/followers", "following_url": "https://api.github.com/users/bryandmc/following{/other_user}", "gists_url": "https://api.github.com/users/bryandmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryandmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryandmc/subscriptions", "organizations_url": "https://api.github.com/users/bryandmc/orgs", "repos_url": "https://api.github.com/users/bryandmc/repos", "events_url": "https://api.github.com/users/bryandmc/events{/privacy}", "received_events_url": "https://api.github.com/users/bryandmc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-12-14T03:38:37Z", "updated_at": "2021-01-06T15:06:30Z", "closed_at": "2021-01-06T15:06:30Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/227", "html_url": "https://github.com/DataDog/glommio/pull/227", "diff_url": "https://github.com/DataDog/glommio/pull/227.diff", "patch_url": "https://github.com/DataDog/glommio/pull/227.patch", "merged_at": "2021-01-06T15:06:30Z"}, "body": "Here's my first stab at changing our error types to a single, composite error enum. \r\n\r\n### What does this PR do?\r\n\r\nThis implements a 'composite' error type to encompass all the errors glommio can produce. This is more convenient for users of the library, than to have many different types of errors that might need to be handled.\r\n\r\n### Motivation\r\n\r\nIssue #180 made a request for an error type similar to the `std::io::Error` type with many different `ErrorKind`'s. I suggested using `thiserror` because it got rid of some of the boilerplate of creating error enums without imposing weird restrictions such as alternative 'Error' traits (ex. `Failure` crate). \r\n\r\nNote: We could also change some of our custom error types over to just using this directly, instead of only wrapping our current error types. This might be a worthwhile simplification, but I can understand the other side as well so I left them be for now. This means the current errors will still exist, they will just be wrapped up into this type on any public API's.\r\n\r\n### Related issues\r\n\r\n#180 \r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\nYES! This pull request does not change over all the error types (yet). That's because I want to get feedback before going too far down that road. I did change over the Semaphore errors over to the new type as an example. If this method seems OK, I will modify this pull request (or do another) to complete the transition by moving all the current errors to this new `GlommioError` type.\r\n\r\n### Checklist\r\n\r\n[ X ] I have added unit tests to the code I am submitting\r\n[ n/a ] My unit tests cover both failure and success scenarios\r\n[ X ] If applicable, I have discussed my architecture\r\n[ X ] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/227/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/226", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/226/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/226/events", "html_url": "https://github.com/DataDog/glommio/pull/226", "id": 764132273, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM4MzU0MTc2", "number": 226, "title": "doc: make unresolved links fatal", "user": {"login": "fogti", "id": 1618343, "node_id": "MDQ6VXNlcjE2MTgzNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1618343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fogti", "html_url": "https://github.com/fogti", "followers_url": "https://api.github.com/users/fogti/followers", "following_url": "https://api.github.com/users/fogti/following{/other_user}", "gists_url": "https://api.github.com/users/fogti/gists{/gist_id}", "starred_url": "https://api.github.com/users/fogti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fogti/subscriptions", "organizations_url": "https://api.github.com/users/fogti/orgs", "repos_url": "https://api.github.com/users/fogti/repos", "events_url": "https://api.github.com/users/fogti/events{/privacy}", "received_events_url": "https://api.github.com/users/fogti/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-12T18:06:07Z", "updated_at": "2020-12-14T14:23:23Z", "closed_at": "2020-12-14T13:53:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/226", "html_url": "https://github.com/DataDog/glommio/pull/226", "diff_url": "https://github.com/DataDog/glommio/pull/226.diff", "patch_url": "https://github.com/DataDog/glommio/pull/226.patch", "merged_at": "2020-12-14T13:53:11Z"}, "body": "### What does this PR do?\r\n\r\nThis PR makes the rustdoc warning \"unresolved links\" fatal.\r\n\r\n### Motivation\r\n\r\nhttps://github.com/DataDog/glommio/issues/220#issuecomment-743758354\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/226/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/225", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/225/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/225/events", "html_url": "https://github.com/DataDog/glommio/pull/225", "id": 763930747, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM4MjI2OTIx", "number": 225, "title": "specialized poll io loop that doesn't touch timer registration", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-12T15:03:25Z", "updated_at": "2020-12-12T15:15:27Z", "closed_at": "2020-12-12T15:15:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/225", "html_url": "https://github.com/DataDog/glommio/pull/225", "diff_url": "https://github.com/DataDog/glommio/pull/225.diff", "patch_url": "https://github.com/DataDog/glommio/pull/225.patch", "merged_at": "2020-12-12T15:15:24Z"}, "body": "Everybody has a routine before going to bed and we are no different.\r\nBefore sleeping, we may, if the user so desires, poll a bit before\r\ndeclaring there isn't really any work and going down.\r\n\r\nHowever because we have been using the standard poll loop for that,\r\nevery time we did that we had to cancel the existing preempt timer,\r\ninstall a new one, etc.\r\n\r\nThe TcpStreams patchset brought in a rush_dispatch mechanism that we can\r\nextend for the pre-sleep pollers so we'll take advantage of that\r\n\r\nFixes #76\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/225/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/224", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/224/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/224/events", "html_url": "https://github.com/DataDog/glommio/pull/224", "id": 763885223, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM4MTk4MjA0", "number": 224, "title": "fix documentation broken links", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-12T14:22:42Z", "updated_at": "2020-12-21T16:50:57Z", "closed_at": "2020-12-12T14:31:06Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/224", "html_url": "https://github.com/DataDog/glommio/pull/224", "diff_url": "https://github.com/DataDog/glommio/pull/224.diff", "patch_url": "https://github.com/DataDog/glommio/pull/224.patch", "merged_at": "2020-12-12T14:31:06Z"}, "body": "Also increase the lint level of in-crate private links to deny so that doesn't\r\nhappen again\r\n\r\nFixes #220\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/219", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/219/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/219/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/219/events", "html_url": "https://github.com/DataDog/glommio/pull/219", "id": 762605660, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM3MTM0OTk5", "number": 219, "title": " local_channel implementation was changed to use intrusive linked lists", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-11T16:42:49Z", "updated_at": "2020-12-12T03:06:14Z", "closed_at": "2020-12-12T03:06:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/219", "html_url": "https://github.com/DataDog/glommio/pull/219", "diff_url": "https://github.com/DataDog/glommio/pull/219.diff", "patch_url": "https://github.com/DataDog/glommio/pull/219.patch", "merged_at": "2020-12-12T03:06:13Z"}, "body": "Intrusive linked lists are used as an implementation of a waiting list and as the implementation of container for the items.\r\n\r\n\r\n### What does this PR do?\r\n Fix of the issue #195. Final part.\r\n\r\n Heap allocations inevitable to happen inside of the collections\r\n were removed.\r\n Because intrusive collections work only with containers all nodes\r\n are wrapped to Rc (instead of Box, because that obviously will\r\n break the point of this change) which adds a bit of noise\r\n to implementation.\r\n\r\n### Motivation\r\n\r\nReduce the number of heap allocations.\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nIssue #195\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[x] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/219/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/218", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/218/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/218/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/218/events", "html_url": "https://github.com/DataDog/glommio/pull/218", "id": 762293401, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM2ODUzNjc5", "number": 218, "title": "Fix of order of semaphore waiting queue.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-12-11T12:20:05Z", "updated_at": "2020-12-14T13:58:44Z", "closed_at": "2020-12-14T13:57:12Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/218", "html_url": "https://github.com/DataDog/glommio/pull/218", "diff_url": "https://github.com/DataDog/glommio/pull/218.diff", "patch_url": "https://github.com/DataDog/glommio/pull/218.patch", "merged_at": "2020-12-14T13:57:12Z"}, "body": "### What does this PR do?\r\n\r\nBefore the fix waiting queue was implemented as LIFO instead of FIFO.\r\nAdditional code clean up was performed.\r\nSemaphore memory safety was ensured on close.\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[x] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/218/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/217", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/217/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/217/events", "html_url": "https://github.com/DataDog/glommio/pull/217", "id": 762280328, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM2ODQyNDUw", "number": 217, "title": " RwLock implementation was changed to use intrusive linked list as a container for the awaiting futures.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-11T12:00:37Z", "updated_at": "2020-12-14T13:56:19Z", "closed_at": "2020-12-14T13:56:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/217", "html_url": "https://github.com/DataDog/glommio/pull/217", "diff_url": "https://github.com/DataDog/glommio/pull/217.diff", "patch_url": "https://github.com/DataDog/glommio/pull/217.patch", "merged_at": "2020-12-14T13:56:19Z"}, "body": "### What does this PR do?\r\n\r\n RwLock implementation was changed to use an intrusive linked list as a container for the awaiting futures.\r\n\r\n RwLock implementation was changed to use an intrusive linked list  \r\n as a container for the awaiting futures.\r\n  \r\n Fix of the issue #195. Part 2.\r\n Both AHashMap and VecDeque were removed and replaced by the linked list.\r\n As a result speed of the processing of acquire and release operations has to be improved.\r\n Heap allocations inevitable to happen inside of the collections \r\n were removed.\r\n\r\n### Motivation\r\n\r\nReplace heap allocations by stack allocations. Improve performance.\r\n\r\n### Related issues\r\n\r\n Issue #195\r\n\r\n\r\n### Checklist\r\n\r\n[x] I have added unit tests to the code I am submitting\r\n[x] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/217/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/216", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/216/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/216/events", "html_url": "https://github.com/DataDog/glommio/pull/216", "id": 761650187, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM2Mjg1MTU3", "number": 216, "title": "Tcpstreams", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-10T21:58:26Z", "updated_at": "2020-12-21T16:50:59Z", "closed_at": "2020-12-12T03:04:08Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/216", "html_url": "https://github.com/DataDog/glommio/pull/216", "diff_url": "https://github.com/DataDog/glommio/pull/216.diff", "patch_url": "https://github.com/DataDog/glommio/pull/216.patch", "merged_at": "2020-12-12T03:04:08Z"}, "body": "### What does this PR do?\r\n\r\nImplements native io_uring support for networking\r\n\r\n### Motivation\r\n\r\nio_uring is awesome.\r\n\r\n### Related issues\r\n\r\nUnfortunately there is still one allocation per io_uring send/recv path (speculative paths are ok) because of https://github.com/DataDog/glommio/issues/214\r\n\r\nAlso this should fix https://github.com/DataDog/glommio/issues/207\r\n\r\nThere is also an extra allocation inside `rush_dispatch` that I believe we can get rid of if we make the rules for calling wakers clearer and allow them to be called from inside the consume function\r\n\r\n### Additional Notes\r\n\r\nearly benchmarks:\r\n\r\nTokio:\r\n\r\n```\r\ncost to establish a connection 66.736\u00b5s\r\ncost of a byte-sized round trip 51.02\u00b5s\r\nBandwidth of sending through a single socket: 16.91 Gbps/s\r\nBandwidth of sending through 100 sockets: 133.36 Gbps/s\r\n```\r\n\r\nglommio:\r\n```\r\ncost to establish a connection (serial connect) 66.008\u00b5s\r\ncost to establish a connection (parallel connect) 28.558\u00b5s\r\ncost of a byte-sized round trip 20.229\u00b5s\r\nBandwidth of sending through a single socket: 33.94 Gbps/s\r\nBandwidth of sending through 100 sockets: 40.53 Gbps/s\r\n```\r\n\r\nIt is expected that Tokio would fare better under 100 sockets, because it spawns the connections into multiple threads.\r\nIn our thread per core architecture we have to spawn executors explicitly. I will either do that before merge or left it as an exercise to the reader (wink wink!). The goal here is not to publish anything but rather inform our implementation, so this is enough.\r\n\r\nI would however appreciate reviews on the tokio benchmark prior to merge to make sure we're being fair\r\n\r\n### Checklist\r\n\r\n[x] I have added unit tests to the code I am submitting\r\n[x] My unit tests cover both failure and success scenarios\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/216/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/215", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/215/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/215/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/215/events", "html_url": "https://github.com/DataDog/glommio/pull/215", "id": 761484745, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM2MTQ0Njgy", "number": 215, "title": " Semaphore implementation was changed to use intrusive linked list  as a container for the awaiting futures.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-10T18:16:34Z", "updated_at": "2020-12-10T22:42:27Z", "closed_at": "2020-12-10T22:42:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/215", "html_url": "https://github.com/DataDog/glommio/pull/215", "diff_url": "https://github.com/DataDog/glommio/pull/215.diff", "patch_url": "https://github.com/DataDog/glommio/pull/215.patch", "merged_at": "2020-12-10T22:42:26Z"}, "body": " Semaphore implementation was changed to use an intrusive linked list as a container for the awaiting futures.\r\n\r\n### What does this PR do?\r\n\r\n Fix of the issue #195. Part 1.\r\n Both AHashMap and VecDeque were removed and replaced by the linked list.\r\n As a result speed of the processing of acquire and release operations has to be improved.\r\n Heap allocations inevitable to happen inside of the collections\r\n were removed.\r\n\r\n### Motivation\r\n\r\nRemove heap allocations inside of synchronization primitives and increase their overall performance.\r\n\r\n### Related issues\r\n\r\n Issue #195\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[x] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/215/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/212", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/212/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/212/events", "html_url": "https://github.com/DataDog/glommio/pull/212", "id": 758894763, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzOTg0Mzk0", "number": 212, "title": "improve `executor.rs`", "user": {"login": "fogti", "id": 1618343, "node_id": "MDQ6VXNlcjE2MTgzNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1618343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fogti", "html_url": "https://github.com/fogti", "followers_url": "https://api.github.com/users/fogti/followers", "following_url": "https://api.github.com/users/fogti/following{/other_user}", "gists_url": "https://api.github.com/users/fogti/gists{/gist_id}", "starred_url": "https://api.github.com/users/fogti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fogti/subscriptions", "organizations_url": "https://api.github.com/users/fogti/orgs", "repos_url": "https://api.github.com/users/fogti/repos", "events_url": "https://api.github.com/users/fogti/events{/privacy}", "received_events_url": "https://api.github.com/users/fogti/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-12-07T22:19:50Z", "updated_at": "2020-12-08T19:26:21Z", "closed_at": "2020-12-08T15:31:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/212", "html_url": "https://github.com/DataDog/glommio/pull/212", "diff_url": "https://github.com/DataDog/glommio/pull/212.diff", "patch_url": "https://github.com/DataDog/glommio/pull/212.patch", "merged_at": "2020-12-08T15:31:42Z"}, "body": "### What does this PR do?\r\n\r\n* flatten a chain of nested, convoluted `if` checks\r\n* remove a redundant `Yield` implementation\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/212/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/211", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/211/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/211/events", "html_url": "https://github.com/DataDog/glommio/pull/211", "id": 758604710, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzNzUxMjc1", "number": 211, "title": "remove the ping pong test", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-07T15:21:14Z", "updated_at": "2020-12-07T15:23:43Z", "closed_at": "2020-12-07T15:23:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/211", "html_url": "https://github.com/DataDog/glommio/pull/211", "diff_url": "https://github.com/DataDog/glommio/pull/211.diff", "patch_url": "https://github.com/DataDog/glommio/pull/211.patch", "merged_at": "2020-12-07T15:23:38Z"}, "body": "It's been flaky, and what it does (test the fact that the scheduler\r\nmoves from one task queue to the other) is already better served\r\nby the static shares test.\r\n\r\nFixes #204\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/211/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/210", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/210/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/210/events", "html_url": "https://github.com/DataDog/glommio/pull/210", "id": 758419127, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzNTk1MDE3", "number": 210, "title": "Fix of issue #194. All changes in task status are guarded by the check of thread_id.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-07T11:21:01Z", "updated_at": "2020-12-08T14:27:41Z", "closed_at": "2020-12-08T14:27:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/210", "html_url": "https://github.com/DataDog/glommio/pull/210", "diff_url": "https://github.com/DataDog/glommio/pull/210.diff", "patch_url": "https://github.com/DataDog/glommio/pull/210.patch", "merged_at": "2020-12-08T14:27:40Z"}, "body": "### What does this PR do?\r\n\r\nFix of issue #194. All changes in task status are guarded by the check of thread_id.\r\n\r\nI have checked two implementations:\r\n1. When Wakers are protected by executor_id.\r\n2. When Wakers are protected by thread_id.\r\n\r\nThe last appeared to be more lightweight and personally, I think that it is less fragile from the point of view of the usage of API.\r\nFor both cases, I did not notice a noticeable slowdown in the execution of benchmarks.\r\n\r\nTo improve performance thread_id detection is wrapped in call of thread_local. Even if now there are some questions\r\nto its performance, there is an ongoing issue which should solve them.\r\n\r\n### Motivation\r\n\r\nSatisfy the requirements of Waker's public API.\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/210/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/205", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/205/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/205/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/205/events", "html_url": "https://github.com/DataDog/glommio/pull/205", "id": 757070323, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMyNTA3NDM5", "number": 205, "title": "channels: reduce code repetition", "user": {"login": "fogti", "id": 1618343, "node_id": "MDQ6VXNlcjE2MTgzNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1618343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fogti", "html_url": "https://github.com/fogti", "followers_url": "https://api.github.com/users/fogti/followers", "following_url": "https://api.github.com/users/fogti/following{/other_user}", "gists_url": "https://api.github.com/users/fogti/gists{/gist_id}", "starred_url": "https://api.github.com/users/fogti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fogti/subscriptions", "organizations_url": "https://api.github.com/users/fogti/orgs", "repos_url": "https://api.github.com/users/fogti/repos", "events_url": "https://api.github.com/users/fogti/events{/privacy}", "received_events_url": "https://api.github.com/users/fogti/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-04T12:37:39Z", "updated_at": "2020-12-07T19:29:14Z", "closed_at": "2020-12-07T15:06:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/205", "html_url": "https://github.com/DataDog/glommio/pull/205", "diff_url": "https://github.com/DataDog/glommio/pull/205.diff", "patch_url": "https://github.com/DataDog/glommio/pull/205.patch", "merged_at": "2020-12-07T15:06:38Z"}, "body": "### What does this PR do?\r\n\r\nThis PR tries to reduce some repetition in the implementation of `channels` APIs.\r\n\r\n### Motivation\r\n\r\nExcess code repetition reduces the maintainablity of code.\r\n\r\n### Checklist\r\n\r\nNo APIs were added, so no new unit tests are needed.\r\n* [ ] If applicable, I have discussed my architecture\r\n* [X] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/205/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/202", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/202/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/202/events", "html_url": "https://github.com/DataDog/glommio/pull/202", "id": 755783895, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMxNDI5MjE3", "number": 202, "title": "Ergonomic directory file APIs", "user": {"login": "jefftt", "id": 7140426, "node_id": "MDQ6VXNlcjcxNDA0MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/7140426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jefftt", "html_url": "https://github.com/jefftt", "followers_url": "https://api.github.com/users/jefftt/followers", "following_url": "https://api.github.com/users/jefftt/following{/other_user}", "gists_url": "https://api.github.com/users/jefftt/gists{/gist_id}", "starred_url": "https://api.github.com/users/jefftt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jefftt/subscriptions", "organizations_url": "https://api.github.com/users/jefftt/orgs", "repos_url": "https://api.github.com/users/jefftt/repos", "events_url": "https://api.github.com/users/jefftt/events{/privacy}", "received_events_url": "https://api.github.com/users/jefftt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-03T03:27:45Z", "updated_at": "2020-12-07T14:30:43Z", "closed_at": "2020-12-07T14:30:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/202", "html_url": "https://github.com/DataDog/glommio/pull/202", "diff_url": "https://github.com/DataDog/glommio/pull/202.diff", "patch_url": "https://github.com/DataDog/glommio/pull/202.patch", "merged_at": "2020-12-07T14:30:43Z"}, "body": "### What does this PR do?\r\n\r\nProvides APIs to create/open files under a given directory\r\n\r\n### Motivation\r\n\r\nAddress #31 \r\n\r\n### Related issues\r\n\r\nSee above\r\n\r\n### Additional Notes\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/202/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/201", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/201/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/201/events", "html_url": "https://github.com/DataDog/glommio/pull/201", "id": 755073242, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMwODU1Mzcw", "number": 201, "title": "refactoring / maybe some improvements", "user": {"login": "fogti", "id": 1618343, "node_id": "MDQ6VXNlcjE2MTgzNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1618343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fogti", "html_url": "https://github.com/fogti", "followers_url": "https://api.github.com/users/fogti/followers", "following_url": "https://api.github.com/users/fogti/following{/other_user}", "gists_url": "https://api.github.com/users/fogti/gists{/gist_id}", "starred_url": "https://api.github.com/users/fogti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fogti/subscriptions", "organizations_url": "https://api.github.com/users/fogti/orgs", "repos_url": "https://api.github.com/users/fogti/repos", "events_url": "https://api.github.com/users/fogti/events{/privacy}", "received_events_url": "https://api.github.com/users/fogti/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-12-02T08:51:17Z", "updated_at": "2020-12-02T22:11:01Z", "closed_at": "2020-12-02T22:11:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/201", "html_url": "https://github.com/DataDog/glommio/pull/201", "diff_url": "https://github.com/DataDog/glommio/pull/201.diff", "patch_url": "https://github.com/DataDog/glommio/pull/201.patch", "merged_at": "2020-12-02T22:11:01Z"}, "body": "### What does this PR do?\r\n\r\nThis PR gets rid of some `unwrap()`s, mainly in destructors, which should make it easier to guarantee that these `Drop` impls can't crash the program (otherwise, panic'ing in `Drop` impls could cause an abort if the `Drop` was invoced while panic-unwinding).\r\n\r\n### Motivation\r\n\r\nI wanted to get familiar with the code and inspected the code for somewhat common maybe-code-smells I was familiar with.\r\n\r\n### Related issues\r\n\r\nNone.\r\n\r\n### Additional Notes\r\n\r\nI was able to run the test and bench suite. I dropped changes which hadn't the intended effect.\r\n\r\n### Checklist\r\n\r\nNo new unit tests should be needed, as no new functionality was added, only existing functionality was refactored without \"completely\" breaking fn signatures\r\n* [X] If applicable, I have discussed my architecture\r\n* [X] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/201/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/200", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/200/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/200/events", "html_url": "https://github.com/DataDog/glommio/pull/200", "id": 754633602, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMwNDk5NDc5", "number": 200, "title": "improve efficiency of the executor", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-12-01T18:41:51Z", "updated_at": "2020-12-08T14:21:14Z", "closed_at": "2020-12-08T14:20:39Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/200", "html_url": "https://github.com/DataDog/glommio/pull/200", "diff_url": "https://github.com/DataDog/glommio/pull/200.diff", "patch_url": "https://github.com/DataDog/glommio/pull/200.patch", "merged_at": "2020-12-08T14:20:39Z"}, "body": "Improves efficiency of spawning tasks in the executor, by pre-computing the task queue index\r\n\r\nBefore:\r\n```\r\ncost to run task no task queue: 126ns\r\ncost to run task in task queue: 300ns\r\n```\r\n\r\nAfter\r\n```\r\ncost to run task no task queue: 93ns\r\ncost to run task in task queue: 257ns\r\n```\r\n\r\nNo regressions found in any of the existing benchmarks. Semaphore and local channel show similar improvements for the contended case.", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/200/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/199", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/199/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/199/events", "html_url": "https://github.com/DataDog/glommio/pull/199", "id": 754629680, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMwNDk2MjQ4", "number": 199, "title": "Revert \"avoid allocation for time registration\"", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-01T18:35:12Z", "updated_at": "2020-12-06T00:06:30Z", "closed_at": "2020-12-01T18:36:50Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/199", "html_url": "https://github.com/DataDog/glommio/pull/199", "diff_url": "https://github.com/DataDog/glommio/pull/199.diff", "patch_url": "https://github.com/DataDog/glommio/pull/199.patch", "merged_at": "2020-12-01T18:36:50Z"}, "body": "Reverts DataDog/glommio#198\r\n\r\nThis regressed the shared channel benchmark very heavily.\r\nI played with it a bit and don't understand why, so I am reverting for now", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/199/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/198", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/198/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/198/events", "html_url": "https://github.com/DataDog/glommio/pull/198", "id": 753837601, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI5ODM4NDQ5", "number": 198, "title": "avoid allocation for time registration", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-30T22:04:37Z", "updated_at": "2020-12-01T14:04:40Z", "closed_at": "2020-12-01T14:04:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/198", "html_url": "https://github.com/DataDog/glommio/pull/198", "diff_url": "https://github.com/DataDog/glommio/pull/198.diff", "patch_url": "https://github.com/DataDog/glommio/pull/198.patch", "merged_at": "2020-12-01T14:04:36Z"}, "body": "The idea of always using a new source for the timer and relying on the old\r\none being dropped for cancellation is neat, but Sources as they are right now\r\nmust live in the heap.\r\n\r\nThat means that this code path always triggers a memory allocation. It is\r\nbest to cancel explicitly (we were already dropping explicitly, so that is\r\neasy), and use the same source all the time, just updating its SourceType.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/198/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/197", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/197/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/197/events", "html_url": "https://github.com/DataDog/glommio/pull/197", "id": 753604210, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI5NjQ5OTAy", "number": 197, "title": "only store space for a single waker per source", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-30T16:06:32Z", "updated_at": "2020-12-01T14:04:21Z", "closed_at": "2020-12-01T14:04:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/197", "html_url": "https://github.com/DataDog/glommio/pull/197", "diff_url": "https://github.com/DataDog/glommio/pull/197.diff", "patch_url": "https://github.com/DataDog/glommio/pull/197.patch", "merged_at": "2020-12-01T14:04:17Z"}, "body": "Matthias recently opened an issue unrelated to this, in which he linked\r\nthe following document from rust's official RFC:\r\n\r\nhttps://github.com/rust-lang/rfcs/blob/master/text/2592-futures.md#rationale-drawbacks-and-alternatives-to-the-wakeup-design-waker\r\n\r\nReading through it, one of the comments in the Future trait confirmed\r\nwhat I suspected but was not sure:\r\n\r\n    /// Note that on multiple calls to `poll`, only the most recent\r\n    /// [`Waker`] passed to `poll` should be scheduled to receive a\r\n    /// wakeup.\r\n    ///\r\n\r\nSince we have a 1:1 mapping between Source and operation at the io_uring\r\nlayer, we don't need to store a vec of wakers, just the most recent one.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/197/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/193", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/193/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/193/events", "html_url": "https://github.com/DataDog/glommio/pull/193", "id": 752542341, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI4ODQyODkz", "number": 193, "title": "reduce visibility of Runnable and other multitask entities", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-28T02:08:03Z", "updated_at": "2020-11-28T02:46:29Z", "closed_at": "2020-11-28T02:41:09Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/193", "html_url": "https://github.com/DataDog/glommio/pull/193", "diff_url": "https://github.com/DataDog/glommio/pull/193.diff", "patch_url": "https://github.com/DataDog/glommio/pull/193.patch", "merged_at": "2020-11-28T02:41:09Z"}, "body": "While reviewing Andrey's code that touched the task core, I noticed\r\nthat Runnable is fully public, and that should not be the case.\r\n\r\nAs a matter of fact, nothing in the multitask file should be public,\r\nsince it only exists to implement an internal queue of the main\r\nexecutor.\r\n\r\nReduce the visibility to all currently public types to pub(crate).\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/193/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/192", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/192/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/192/events", "html_url": "https://github.com/DataDog/glommio/pull/192", "id": 752479253, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI4NzkzNjcy", "number": 192, "title": "state field of Task's state machine was changed from AtomicUsize to usize", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-27T21:35:46Z", "updated_at": "2020-11-28T15:26:26Z", "closed_at": "2020-11-28T15:25:02Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/192", "html_url": "https://github.com/DataDog/glommio/pull/192", "diff_url": "https://github.com/DataDog/glommio/pull/192.diff", "patch_url": "https://github.com/DataDog/glommio/pull/192.patch", "merged_at": "2020-11-28T15:25:01Z"}, "body": "### What does this PR do?\r\n\r\nstate field of Task's state machine was changed from AtomicUsize to usize.\r\nStates which were used only to ensure thread safety (REGISTRING and NOTIFYING) were removed as not needed.\r\n\r\n### Motivation\r\n\r\nRemoving of usage of membars during changing of a state of the state machine.\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n\r\n### Notes from maintainer:\r\n\r\nThe effects of this are visible on the executor benchmark. Quite consistently I get a 70s speedup in task execution\r\n\r\nBefore:\r\n```\r\ncost to run task no task queue: 216ns\r\ncost to run task in task queue: 377ns\r\n```\r\nAfter\r\n\r\n```\r\ncost to run task no task queue: 129ns\r\ncost to run task in task queue: 301ns\r\n```\r\n\r\nThere are similar (albeit a bit less) speed ups in the contended cases for semaphore and local channel.\r\n\r\nVery good job, Andrey!", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/192/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/191", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/191/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/191/events", "html_url": "https://github.com/DataDog/glommio/pull/191", "id": 751819425, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI4MjYwOTk4", "number": 191, "title": "Dma file stream", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-26T20:42:59Z", "updated_at": "2020-11-27T00:28:02Z", "closed_at": "2020-11-27T00:27:58Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/191", "html_url": "https://github.com/DataDog/glommio/pull/191", "diff_url": "https://github.com/DataDog/glommio/pull/191.diff", "patch_url": "https://github.com/DataDog/glommio/pull/191.patch", "merged_at": "2020-11-27T00:27:58Z"}, "body": "Improvements to the DmaStreamReader API and implementation\r\n- a bug is fixed with user-defined premature EoF\r\n- there is a now a constructor that takes an Rc\r\n- default for read ahead is increased (and write behind changed to match)", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/191/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/190", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/190/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/190/events", "html_url": "https://github.com/DataDog/glommio/pull/190", "id": 751704097, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI4MTY4ODA4", "number": 190, "title": "Remove redundant methods and tag value from Task implmentation", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-26T16:10:51Z", "updated_at": "2020-11-28T02:01:05Z", "closed_at": "2020-11-28T02:01:05Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/190", "html_url": "https://github.com/DataDog/glommio/pull/190", "diff_url": "https://github.com/DataDog/glommio/pull/190.diff", "patch_url": "https://github.com/DataDog/glommio/pull/190.patch", "merged_at": "2020-11-28T02:01:05Z"}, "body": "### What does this PR do?\r\n\r\nRedundant methods and tag value were removed from Task implementation\r\n\r\n### Motivation\r\n\r\nThose methods and value were not used. Removing them will improve code readability and supportability as result.\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[s] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/190/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/189", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/189/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/189/events", "html_url": "https://github.com/DataDog/glommio/pull/189", "id": 751361447, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI3ODg4NzYw", "number": 189, "title": "Sync+Send was removed from the task.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-26T07:39:22Z", "updated_at": "2020-11-26T14:01:25Z", "closed_at": "2020-11-26T14:01:25Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/189", "html_url": "https://github.com/DataDog/glommio/pull/189", "diff_url": "https://github.com/DataDog/glommio/pull/189.diff", "patch_url": "https://github.com/DataDog/glommio/pull/189.patch", "merged_at": "2020-11-26T14:01:25Z"}, "body": "### What does this PR do?\r\n\r\nRemoves Send and Sync markers from the Task\r\n\r\n### Motivation\r\nIt is incorrect to mark Task to be Send and Sync because underlying Future and tag are not marked to be Send and Sync.\r\n\r\n### Additional Notes\r\n\r\n1. async-task does mark Task as Send+Sync but it is directly noted in Task::spawn_local method's documentation that usage of the task which holds not thread-safe Future and tag in a different thread will cause a panic. \r\n2. It opens the gates to replace the atomic state field but it requires additional investigation. \r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/189/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/188", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/188/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/188/events", "html_url": "https://github.com/DataDog/glommio/pull/188", "id": 750861669, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI3NDgyNzA4", "number": 188, "title": "Fix of code example in lib documentation.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-25T14:23:03Z", "updated_at": "2020-11-25T15:08:10Z", "closed_at": "2020-11-25T15:08:10Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/188", "html_url": "https://github.com/DataDog/glommio/pull/188", "diff_url": "https://github.com/DataDog/glommio/pull/188.diff", "patch_url": "https://github.com/DataDog/glommio/pull/188.patch", "merged_at": "2020-11-25T15:08:10Z"}, "body": "### What does this PR do?\r\n\r\nThe code example in documentation was fixed to follow the idiomatic approach.\r\n\r\n### Motivation\r\n\r\nShow users example of the idiomatic code.\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/188/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/187", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/187/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/187/events", "html_url": "https://github.com/DataDog/glommio/pull/187", "id": 749779416, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI2NTM5MzYx", "number": 187, "title": "be nicer to our new friend, the borrow clippy lint", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-24T14:58:18Z", "updated_at": "2020-11-24T15:58:26Z", "closed_at": "2020-11-24T15:58:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/187", "html_url": "https://github.com/DataDog/glommio/pull/187", "diff_url": "https://github.com/DataDog/glommio/pull/187.diff", "patch_url": "https://github.com/DataDog/glommio/pull/187.patch", "merged_at": "2020-11-24T15:58:22Z"}, "body": "Rust 1.49 will include a new linter contributed by Daniel. It is already\r\npresent in the beta.\r\n\r\nThe new clippy lint step checks if borrows are held across suspend\r\npoints and fails if they are.\r\n\r\nOur usage is currently safe, but the lint has issues with explicit\r\ncalls to drop and I was told by Daniel this can be challenging to fix.\r\n\r\nLet's play nice and use explicit scopes to handle that.\r\nAfter this patch we're all good according to 1.49's clippy.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/187/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 1, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/187/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/186", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/186/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/186/events", "html_url": "https://github.com/DataDog/glommio/pull/186", "id": 748895714, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI1ODA4MjI5", "number": 186, "title": "remove aligned_alloc crate", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-23T15:26:07Z", "updated_at": "2020-11-23T17:09:21Z", "closed_at": "2020-11-23T17:08:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/186", "html_url": "https://github.com/DataDog/glommio/pull/186", "diff_url": "https://github.com/DataDog/glommio/pull/186.diff", "patch_url": "https://github.com/DataDog/glommio/pull/186.patch", "merged_at": "2020-11-23T17:08:32Z"}, "body": "Only one user left, and the std allocator can do that with layouts.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/186/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/185", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/185/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/185/events", "html_url": "https://github.com/DataDog/glommio/pull/185", "id": 747625486, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI0ODE2ODM1", "number": 185, "title": "BTreeMap is replaced by AHashMap and unused field is removed in LocalExecutor", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-20T16:32:33Z", "updated_at": "2020-11-20T17:06:31Z", "closed_at": "2020-11-20T17:06:30Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/185", "html_url": "https://github.com/DataDog/glommio/pull/185", "diff_url": "https://github.com/DataDog/glommio/pull/185.diff", "patch_url": "https://github.com/DataDog/glommio/pull/185.patch", "merged_at": "2020-11-20T17:06:30Z"}, "body": "### What does this PR do?\r\n\r\nBTreeMap is replaced by AHashMap and unused field is removed in LocalExecutor\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/185/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/184", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/184/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/184/events", "html_url": "https://github.com/DataDog/glommio/pull/184", "id": 747612009, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI0ODA1NzY4", "number": 184, "title": "Preventing Semaphore keeping of duplicates of wakers", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-20T16:13:35Z", "updated_at": "2020-11-20T17:06:58Z", "closed_at": "2020-11-20T17:06:58Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/184", "html_url": "https://github.com/DataDog/glommio/pull/184", "diff_url": "https://github.com/DataDog/glommio/pull/184.diff", "patch_url": "https://github.com/DataDog/glommio/pull/184.patch", "merged_at": "2020-11-20T17:06:58Z"}, "body": "### What does this PR do?\r\nBecause LocalExecutor checks readiness of root future by using loop-pooling without the help of wakers there are could be situations when Semaphore future can be pooled many times generating an excessive amount of wakers stored in the waiting queue. This simple code \r\n\r\n```\r\n        let ex = LocalExecutor::make_default();\r\n        let semaphore = Rc::new(Semaphore::new(0));\r\n        let semaphore_c = semaphore.clone();\r\n\r\n        ex.spawn(async move {\r\n            for _ in 0..100 {\r\n                Timer::new(Duration::from_micros(100)).await;\r\n            }\r\n            assert_eq!(1, semaphore_c.state.borrow().list.len());\r\n\r\n            semaphore_c.signal(1);\r\n        })\r\n        .detach();\r\n\r\n        ex.run(async move {\r\n            let _ = semaphore.acquire(1).await.unwrap();\r\n        });\r\n```\r\n\r\nends up with :\r\n1. 10K of waiters registered inside of Semaphore.\r\n2. Panic on the call of the release method.\r\n  \r\nRwLock does not have such problems but it keeps the earliest weaker to wake up the fiber but the good practice is to keep the latest one. This part also was implemented.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request? - My desire to increase the stability of glommio \r\n\r\n### Checklist\r\n\r\n[x] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/184/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/183", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/183/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/183/events", "html_url": "https://github.com/DataDog/glommio/pull/183", "id": 747583151, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI0NzgyOTY0", "number": 183, "title": "update ci to a newer toolset and disable cargo deadlinks temporarily", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-20T15:34:39Z", "updated_at": "2020-11-20T16:51:05Z", "closed_at": "2020-11-20T16:51:01Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/183", "html_url": "https://github.com/DataDog/glommio/pull/183", "diff_url": "https://github.com/DataDog/glommio/pull/183.diff", "patch_url": "https://github.com/DataDog/glommio/pull/183.patch", "merged_at": "2020-11-20T16:51:01Z"}, "body": "In preparation to use the beta channel I am updating the CI image.\r\nAlso running the beta locally, plus a newer cargo deadlinks, it\r\ncatches some new issues that it didn't catch before.\r\n\r\nThe ones that look like real issues I am fixing.\r\n\r\nBut cargo deadlinks is now complaining about missing snippets that we\r\ndon't even refer to in other crates, like this:\r\n\r\nFound invalid urls in io/struct.DmaStreamReader.html:\r\n\tFragment #method.poll_read_vectored at /home/glauber/glommio/target/doc/futures_io/if_std/trait.AsyncRead.html does not exist!\r\n\r\nThis might even be a cargo deadlinks issue. Even if we are doing\r\nsomething wrong, we'll just delay this for now and I am unfortunately\r\ndisabling cargo deadlinks until this can pass locally. Otherwise everyone\r\ngets blocked.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/183/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/182", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/182/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/182/events", "html_url": "https://github.com/DataDog/glommio/pull/182", "id": 746737693, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI0MDgwMDU0", "number": 182, "title": "Double access to the map was replaced by entry access in LocalExecutor.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-11-19T16:32:19Z", "updated_at": "2020-11-20T14:28:18Z", "closed_at": "2020-11-20T14:28:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/182", "html_url": "https://github.com/DataDog/glommio/pull/182", "diff_url": "https://github.com/DataDog/glommio/pull/182.diff", "patch_url": "https://github.com/DataDog/glommio/pull/182.patch", "merged_at": "2020-11-20T14:28:17Z"}, "body": "### What does this PR do?\r\n\r\nDuring removal of the queue from local executor double access to the available_executors map is performed.\r\nThis access was replaced by access to the entry acquired from the same map.\r\n\r\n### Motivation\r\n\r\nIt is a small change from a non-critical path. But such double access to the map always catches the eye so I decided to replace it.\r\n\r\n### Additional Notes\r\n\r\nThere is also a small change in the comment of the run method of LocalExecutor\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/182/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/181", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/181/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/181/events", "html_url": "https://github.com/DataDog/glommio/pull/181", "id": 746358238, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIzNzY2OTc3", "number": 181, "title": "Try_ methods were added into semaphore.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-19T08:26:31Z", "updated_at": "2020-11-20T14:20:35Z", "closed_at": "2020-11-20T14:20:35Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/181", "html_url": "https://github.com/DataDog/glommio/pull/181", "diff_url": "https://github.com/DataDog/glommio/pull/181.diff", "patch_url": "https://github.com/DataDog/glommio/pull/181.patch", "merged_at": "2020-11-20T14:20:35Z"}, "body": "### What does this PR do?\r\n\r\nTry_acquire_* methods were added into Semaphore as we discussed in community chat.\r\n\r\n### Motivation\r\n\r\nSometimes it is needed to acquire units in semaphore without blocking if such units are not available.\r\n\r\n### Additional Notes\r\n\r\nI kept the existing error system. I will unify error systems of RwLock and Semaphore in next PR. Af the final step all errors will be unified after the implementation of issue #180 .\r\n\r\n### Checklist\r\n\r\n[x] I have added unit tests to the code I am submitting\r\n[x] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/181/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/178", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/178/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/178/events", "html_url": "https://github.com/DataDog/glommio/pull/178", "id": 745986725, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIzNDU2ODUz", "number": 178, "title": "Fix of documentation of send method.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-18T20:38:45Z", "updated_at": "2020-11-18T22:04:08Z", "closed_at": "2020-11-18T22:04:07Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/178", "html_url": "https://github.com/DataDog/glommio/pull/178", "diff_url": "https://github.com/DataDog/glommio/pull/178.diff", "patch_url": "https://github.com/DataDog/glommio/pull/178.patch", "merged_at": "2020-11-18T22:04:07Z"}, "body": "### What does this PR do?\r\n\r\nFix of small documentation bug outlined in Issue #156\r\n\r\n### Motivation\r\n\r\nGood documentation makes users happy :-)\r\n\r\n### Related issues\r\n\r\nIssue #156\r\n\r\n### Additional Notes\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/178/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/177", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/177/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/177/events", "html_url": "https://github.com/DataDog/glommio/pull/177", "id": 745020830, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIyNjUwODQz", "number": 177, "title": "Change buffered read API", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-17T19:21:15Z", "updated_at": "2020-11-18T22:07:53Z", "closed_at": "2020-11-18T22:07:50Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/177", "html_url": "https://github.com/DataDog/glommio/pull/177", "diff_url": "https://github.com/DataDog/glommio/pull/177.diff", "patch_url": "https://github.com/DataDog/glommio/pull/177.patch", "merged_at": "2020-11-18T22:07:49Z"}, "body": "### What does this PR do?\r\n\r\nChanges the buffered read API so that it returns a DmaBuffer too (actually a `ReadResult`)\r\nThose buffers won't be registered but will come from our internal buddy allocator, which is a lot faster than the system's allocator for this.\r\n\r\nAt this point, we should probably change the `DmaBuffer` name. However because Buffered writes still won't use them and\r\nthey are internal to `ReadResult` we will leave it be.\r\n\r\nI am also attaching a benchmark that I have used to measure that, and in general inform my latest iterations of changes.\r\nThe benchmark is by now mature ready to go.\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/177/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/176", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/176/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/176/events", "html_url": "https://github.com/DataDog/glommio/pull/176", "id": 744143039, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIxOTE4MjU2", "number": 176, "title": "use cargo deadlinks to validate links", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-16T20:03:32Z", "updated_at": "2020-11-16T20:07:12Z", "closed_at": "2020-11-16T20:07:08Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/176", "html_url": "https://github.com/DataDog/glommio/pull/176", "diff_url": "https://github.com/DataDog/glommio/pull/176.diff", "patch_url": "https://github.com/DataDog/glommio/pull/176.patch", "merged_at": "2020-11-16T20:07:08Z"}, "body": "Very predictably we have inserted new deadlinks as time went by.\r\nTime to add cargo deadlinks.\r\n\r\nTo make sure it passes, fix the broken links we currently have.\r\n\r\nCloses #125 ", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/176/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/175", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/175/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/175/events", "html_url": "https://github.com/DataDog/glommio/pull/175", "id": 743286094, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIxMjE2NzIw", "number": 175, "title": "Doc Touchups", "user": {"login": "wackywendell", "id": 245071, "node_id": "MDQ6VXNlcjI0NTA3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/245071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wackywendell", "html_url": "https://github.com/wackywendell", "followers_url": "https://api.github.com/users/wackywendell/followers", "following_url": "https://api.github.com/users/wackywendell/following{/other_user}", "gists_url": "https://api.github.com/users/wackywendell/gists{/gist_id}", "starred_url": "https://api.github.com/users/wackywendell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wackywendell/subscriptions", "organizations_url": "https://api.github.com/users/wackywendell/orgs", "repos_url": "https://api.github.com/users/wackywendell/repos", "events_url": "https://api.github.com/users/wackywendell/events{/privacy}", "received_events_url": "https://api.github.com/users/wackywendell/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-11-15T15:59:39Z", "updated_at": "2020-11-19T00:09:42Z", "closed_at": "2020-11-19T00:09:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/175", "html_url": "https://github.com/DataDog/glommio/pull/175", "diff_url": "https://github.com/DataDog/glommio/pull/175.diff", "patch_url": "https://github.com/DataDog/glommio/pull/175.patch", "merged_at": "2020-11-19T00:09:42Z"}, "body": "### What does this PR do?\r\n\r\nThese are mostly \"touchups\" - some documentation clarifications and a bit of copy-editing. There are a couple small changes that are code-related, but they are either no-ops or close to it.\r\n\r\n### Motivation\r\n\r\nI was reading through the code and the docs to try and understand what this library does and how it works; I thought I'd try and make some clarifications along the way. I used column-100 wrapping with most of my changes; that sort of thing is always tricky to standardize, but that seemed like what this crate was mostly doing. Unfortunately, it means that some of these changes look bigger than they are.\r\n\r\nI'm pretty new to this codebase, so my clarifications could use double-checking - and I'd love to know if they are wrong!\r\n\r\nI'll add a couple comments to this pull request itself to point out the actual code changes.\r\n\r\n### Additional Notes\r\n\r\nI still have a lot to learn here, and plan on reading my way through some more code and perhaps making some more contributions along these lines. This PR is already of moderate size, so it felt like a good pausing place to gather some feedback about what is useful here before I get too much farther.\r\n\r\n### Checklist\r\n\r\n- N/A I have added unit tests to the code I am submitting\r\n- N/A My unit tests cover both failure and success scenarios\r\n- [x] If applicable, I have discussed my architecture\r\n- [x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/175/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/175/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/174", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/174/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/174/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/174/events", "html_url": "https://github.com/DataDog/glommio/pull/174", "id": 743161037, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIxMTMwNzUw", "number": 174, "title": "Registered buffers", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-15T01:59:57Z", "updated_at": "2020-11-17T01:26:55Z", "closed_at": "2020-11-17T01:26:50Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/174", "html_url": "https://github.com/DataDog/glommio/pull/174", "diff_url": "https://github.com/DataDog/glommio/pull/174.diff", "patch_url": "https://github.com/DataDog/glommio/pull/174.patch", "merged_at": "2020-11-17T01:26:50Z"}, "body": "### What does this PR do?\r\n\r\nThis PR introduces support for io_uring's registered buffers.\r\nRegistered buffers is a feature that allows the application to pre-register a memory area to be used by Direct I/O.\r\n\r\n### Motivation\r\n\r\nAxboe did.\r\n\r\n### Related issues\r\n\r\n The first couple of patches are in other PRs (https://github.com/DataDog/glommio/pull/173) and (https://github.com/DataDog/glommio/pull/171) are sent separately and are independent, but removing them causes conflicts. I will merge those first.\r\n\r\n### Checklist\r\n\r\n[x] I have added unit tests to the code I am submitting\r\n[x] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/174/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/173", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/173/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/173/events", "html_url": "https://github.com/DataDog/glommio/pull/173", "id": 743147303, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIxMTIwODI2", "number": 173, "title": "Embed the reactor into the executor", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-15T00:08:48Z", "updated_at": "2020-12-21T16:51:44Z", "closed_at": "2020-11-16T15:07:24Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/173", "html_url": "https://github.com/DataDog/glommio/pull/173", "diff_url": "https://github.com/DataDog/glommio/pull/173.diff", "patch_url": "https://github.com/DataDog/glommio/pull/173.patch", "merged_at": "2020-11-16T15:07:24Z"}, "body": "### What does this PR do?\r\n\r\nEmbeds the reactor inside the `LocalExecutor` with an `Rc`. This should improve performance in situations where we were doing two thread local accesses instead of one, as well as allow for more control when initializing the `Reactor`.\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/173/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/172", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/172/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/172/events", "html_url": "https://github.com/DataDog/glommio/pull/172", "id": 742895737, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIwOTM3OTIy", "number": 172, "title": "get_buffer_aligned: check for errors upon waking", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-14T01:49:42Z", "updated_at": "2020-12-21T16:51:40Z", "closed_at": "2020-11-14T01:51:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/172", "html_url": "https://github.com/DataDog/glommio/pull/172", "diff_url": "https://github.com/DataDog/glommio/pull/172.diff", "patch_url": "https://github.com/DataDog/glommio/pull/172.patch", "merged_at": "2020-11-14T01:51:48Z"}, "body": "Currently if there an error, we will just loop forever.\r\n\r\nWe need some error ingesting api to test this =(\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/172/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/171", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/171/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/171/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/171/events", "html_url": "https://github.com/DataDog/glommio/pull/171", "id": 742878664, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIwOTI0NDQ1", "number": 171, "title": "replace std hashmap with ahashmap", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-14T00:45:34Z", "updated_at": "2020-11-16T17:09:04Z", "closed_at": "2020-11-16T15:06:11Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/171", "html_url": "https://github.com/DataDog/glommio/pull/171", "diff_url": "https://github.com/DataDog/glommio/pull/171.diff", "patch_url": "https://github.com/DataDog/glommio/pull/171.patch", "merged_at": "2020-11-16T15:06:11Z"}, "body": "This is a non-cryptographic hash, therefore faster than rust's standard\r\nhash.\r\n\r\nAlthough we have a FreeList type, which is useful for simple integer\r\ncases, the FreeList API is a bit more restrictive than the Hash and\r\nconverting some uses would require work.\r\n\r\nContrast this with AHash, which was essentially a bunch of sed invocations.\r\n\r\nThis gave me a 5% boost in the storage benchmark I am about to post.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/171/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/170", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/170/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/170/events", "html_url": "https://github.com/DataDog/glommio/pull/170", "id": 742797582, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIwODU4Nzc0", "number": 170, "title": "improvements for io tests", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-13T21:24:27Z", "updated_at": "2020-11-16T15:11:16Z", "closed_at": "2020-11-14T00:42:27Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/170", "html_url": "https://github.com/DataDog/glommio/pull/170", "diff_url": "https://github.com/DataDog/glommio/pull/170.diff", "patch_url": "https://github.com/DataDog/glommio/pull/170.patch", "merged_at": "2020-11-14T00:42:27Z"}, "body": "### What does this PR do?\r\n\r\nFixes so tests work on docker, and also when /tmp is not backed by tmpfs.", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/170/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/169", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/169/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/169/events", "html_url": "https://github.com/DataDog/glommio/pull/169", "id": 742796356, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIwODU3Nzgy", "number": 169, "title": "Performance optimizations in the dispatch path", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-13T21:21:42Z", "updated_at": "2020-11-14T00:42:08Z", "closed_at": "2020-11-14T00:42:05Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/169", "html_url": "https://github.com/DataDog/glommio/pull/169", "diff_url": "https://github.com/DataDog/glommio/pull/169.diff", "patch_url": "https://github.com/DataDog/glommio/pull/169.patch", "merged_at": "2020-11-14T00:42:05Z"}, "body": "### What does this PR do?\r\n\r\nWhile running a storage benchmark I found a lot of low hanging fruits in the profiler: mostly memory allocations\r\nthat are not needed.\r\n\r\nThere are more to come, but this is a start\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/169/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/167", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/167/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/167/events", "html_url": "https://github.com/DataDog/glommio/pull/167", "id": 741679916, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE5OTUwNTA3", "number": 167, "title": "simplify get_buffer_aligned", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-12T15:09:44Z", "updated_at": "2020-11-13T19:04:52Z", "closed_at": "2020-11-13T19:04:49Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/167", "html_url": "https://github.com/DataDog/glommio/pull/167", "diff_url": "https://github.com/DataDog/glommio/pull/167.diff", "patch_url": "https://github.com/DataDog/glommio/pull/167.patch", "merged_at": "2020-11-13T19:04:49Z"}, "body": "We don't need a PrepareBuffer helper: we can use poll_fn instead\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/167/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/166", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/166/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/166/events", "html_url": "https://github.com/DataDog/glommio/pull/166", "id": 741360835, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE5Njg4MjEz", "number": 166, "title": "Implementation of ReadWriteLock.", "user": {"login": "andrii0lomakin", "id": 105066, "node_id": "MDQ6VXNlcjEwNTA2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii0lomakin", "html_url": "https://github.com/andrii0lomakin", "followers_url": "https://api.github.com/users/andrii0lomakin/followers", "following_url": "https://api.github.com/users/andrii0lomakin/following{/other_user}", "gists_url": "https://api.github.com/users/andrii0lomakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii0lomakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii0lomakin/subscriptions", "organizations_url": "https://api.github.com/users/andrii0lomakin/orgs", "repos_url": "https://api.github.com/users/andrii0lomakin/repos", "events_url": "https://api.github.com/users/andrii0lomakin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii0lomakin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-11-12T07:41:55Z", "updated_at": "2020-11-18T22:08:36Z", "closed_at": "2020-11-18T22:08:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/166", "html_url": "https://github.com/DataDog/glommio/pull/166", "diff_url": "https://github.com/DataDog/glommio/pull/166.diff", "patch_url": "https://github.com/DataDog/glommio/pull/166.patch", "merged_at": "2020-11-18T22:08:36Z"}, "body": "### What does this PR do?\r\n\r\nImplementation of read-write lock similar to std::sync::RwLock. \r\n\r\n### Motivation\r\n\r\nSometimes users need to wait till the execution of async IO will be finished keeping invariants of the shared state.\r\n\r\nIn my personal case, I can not close component till data will not be flushed out from the case and related metadata which reflects the position of the data on the disk will not be updated correctly.\r\n\r\n### Related issues\r\n\r\nWe discussed this feature in Zulip chat.\r\n\r\n### Additional Notes\r\n\r\n1. Lock is implemented taking into account that wakers will produce delayed execution of \"fibers\". It looks like quite a healthy assumption for me, but if you against such assumption I will fix code.\r\n2. Lock is not re-entrant but I plan to provide subsequent changes to make it re-entrant at least for the `Task`s.\r\n3. There are several optimizations to wake up only \"fibers\" which can proceed were implemented.\r\n4. Additional `rand` dependency was added in dev-dependencies for testing purpose only.\r\n\r\n### Checklist\r\n\r\n[x] I have added unit tests to the code I am submitting\r\n[x] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[x] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/166/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/165", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/165/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/165/events", "html_url": "https://github.com/DataDog/glommio/pull/165", "id": 741192166, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE5NTUwNDU0", "number": 165, "title": "fix off-by-one error in glommio's get_buffer_aligned API.", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-12T01:18:20Z", "updated_at": "2020-11-16T15:10:15Z", "closed_at": "2020-11-12T14:47:33Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/165", "html_url": "https://github.com/DataDog/glommio/pull/165", "diff_url": "https://github.com/DataDog/glommio/pull/165.diff", "patch_url": "https://github.com/DataDog/glommio/pull/165.patch", "merged_at": "2020-11-12T14:47:33Z"}, "body": "Tests are added to make sure that we can read the entire buffer at once.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/165/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/DataDog/glommio/issues/164", "repository_url": "https://api.github.com/repos/DataDog/glommio", "labels_url": "https://api.github.com/repos/DataDog/glommio/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/DataDog/glommio/issues/164/comments", "events_url": "https://api.github.com/repos/DataDog/glommio/issues/164/events", "html_url": "https://github.com/DataDog/glommio/pull/164", "id": 741131323, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE5NTAwMTI4", "number": 164, "title": "implement poll_close for the buffered stream writer", "user": {"login": "glommer", "id": 331197, "node_id": "MDQ6VXNlcjMzMTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/331197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glommer", "html_url": "https://github.com/glommer", "followers_url": "https://api.github.com/users/glommer/followers", "following_url": "https://api.github.com/users/glommer/following{/other_user}", "gists_url": "https://api.github.com/users/glommer/gists{/gist_id}", "starred_url": "https://api.github.com/users/glommer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glommer/subscriptions", "organizations_url": "https://api.github.com/users/glommer/orgs", "repos_url": "https://api.github.com/users/glommer/repos", "events_url": "https://api.github.com/users/glommer/events{/privacy}", "received_events_url": "https://api.github.com/users/glommer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-11T23:05:56Z", "updated_at": "2020-11-12T14:47:13Z", "closed_at": "2020-11-12T14:47:07Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/DataDog/glommio/pulls/164", "html_url": "https://github.com/DataDog/glommio/pull/164", "diff_url": "https://github.com/DataDog/glommio/pull/164.diff", "patch_url": "https://github.com/DataDog/glommio/pull/164.patch", "merged_at": "2020-11-12T14:47:07Z"}, "body": "We didn't implement poll_close, counting on the fact that our close\r\nfunction would be called instead.\r\n\r\nHowever, if we are calling close through a function that takes an\r\nAsyncWriteExt trait the close method from the trait gets called. In that\r\ncase, we panic.\r\n\r\nSo let's go the extra mile and implement it: we'll need the file to\r\nlive inside an Option, so we can take() it. That is because the buffered\r\nfile's close() (now also accessible through discard()) consumes self.\r\n\r\nWe have a state machine similar to the one in the DMA file to handle the\r\ntransitions.\r\n\r\nOnce we have poll_close, then we no longer need our own close function.\r\n\r\n### What does this PR do?\r\n\r\nA brief description of the change being made with this pull request.\r\n\r\n### Motivation\r\n\r\nWhat inspired you to submit this pull request?\r\n\r\n### Related issues\r\n\r\nA list of issues either fixed, containing architectural discussions, otherwise relevant\r\nfor this Pull Request.\r\n\r\n### Additional Notes\r\n\r\nAnything else we should know when reviewing?\r\n\r\n### Checklist\r\n\r\n[] I have added unit tests to the code I am submitting\r\n[] My unit tests cover both failure and success scenarios\r\n[] If applicable, I have discussed my architecture\r\n[] The new code I am adding is formatted using `rustfmt`\r\n", "reactions": {"url": "https://api.github.com/repos/DataDog/glommio/issues/164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/DataDog/glommio/issues/164/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]