[{"url": "https://api.github.com/repos/metrics-rs/metrics/issues/161", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/161/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/161/events", "html_url": "https://github.com/metrics-rs/metrics/pull/161", "id": 789994557, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU4MjU0NTk3", "number": 161, "title": "Change listening address for tcp and prometheus", "user": {"login": "xd009642", "id": 3472518, "node_id": "MDQ6VXNlcjM0NzI1MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/3472518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xd009642", "html_url": "https://github.com/xd009642", "followers_url": "https://api.github.com/users/xd009642/followers", "following_url": "https://api.github.com/users/xd009642/following{/other_user}", "gists_url": "https://api.github.com/users/xd009642/gists{/gist_id}", "starred_url": "https://api.github.com/users/xd009642/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xd009642/subscriptions", "organizations_url": "https://api.github.com/users/xd009642/orgs", "repos_url": "https://api.github.com/users/xd009642/repos", "events_url": "https://api.github.com/users/xd009642/events{/privacy}", "received_events_url": "https://api.github.com/users/xd009642/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-20T13:48:45Z", "updated_at": "2021-01-20T14:49:26Z", "closed_at": "2021-01-20T14:49:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/161", "html_url": "https://github.com/metrics-rs/metrics/pull/161", "diff_url": "https://github.com/metrics-rs/metrics/pull/161.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/161.patch", "merged_at": "2021-01-20T14:49:26Z"}, "body": "By setting the default listening address to localhost the servers\r\nsending out the metrics can only respond to other local connections.\r\nThis means that when you have another service consuming the metrics\r\nendpoint most users will have to change the default address to one which\r\ncan accept extern connections.\r\n\r\nThis PR changes the listening address to 0.0.0.0:PORT that way when\r\ndeploying or running different things in different networks the metrics\r\nconsumer can still consume with the default address. This came from\r\nwondering why things stopped working when I moved a local test to\r\ndocker-compose instead of just running directly on the host system.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/161/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/158", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/158/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/158/events", "html_url": "https://github.com/metrics-rs/metrics/pull/158", "id": 777501618, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ3NzgyMDM5", "number": 158, "title": "chore: update dependencies to latest versions", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-02T18:08:20Z", "updated_at": "2021-01-02T18:50:33Z", "closed_at": "2021-01-02T18:50:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/158", "html_url": "https://github.com/metrics-rs/metrics/pull/158", "diff_url": "https://github.com/metrics-rs/metrics/pull/158.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/158.patch", "merged_at": "2021-01-02T18:50:08Z"}, "body": "Since many of the deps in the Tokio ecosystem have solidified, as well as bumps on other dependencies in utility crates, it was a good time to do a sweeping update.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/158/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/156", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/156/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/156/events", "html_url": "https://github.com/metrics-rs/metrics/pull/156", "id": 775454233, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ2MTM1MTIw", "number": 156, "title": "Upgrade criterion invocations to the modern form", "user": {"login": "MOZGIII", "id": 265507, "node_id": "MDQ6VXNlcjI2NTUwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/265507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MOZGIII", "html_url": "https://github.com/MOZGIII", "followers_url": "https://api.github.com/users/MOZGIII/followers", "following_url": "https://api.github.com/users/MOZGIII/following{/other_user}", "gists_url": "https://api.github.com/users/MOZGIII/gists{/gist_id}", "starred_url": "https://api.github.com/users/MOZGIII/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MOZGIII/subscriptions", "organizations_url": "https://api.github.com/users/MOZGIII/orgs", "repos_url": "https://api.github.com/users/MOZGIII/repos", "events_url": "https://api.github.com/users/MOZGIII/events{/privacy}", "received_events_url": "https://api.github.com/users/MOZGIII/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-28T15:27:27Z", "updated_at": "2021-01-02T17:03:32Z", "closed_at": "2021-01-02T17:03:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/156", "html_url": "https://github.com/metrics-rs/metrics/pull/156", "diff_url": "https://github.com/metrics-rs/metrics/pull/156.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/156.patch", "merged_at": "2021-01-02T17:03:32Z"}, "body": "The old legacy form really confuses me, so I decided to do this first before adding more benchmarks (something that I'm really aiming to do).\r\n\r\nNo changes besides rewriting the invocation form.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/156/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/149", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/149/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/149/events", "html_url": "https://github.com/metrics-rs/metrics/pull/149", "id": 773924279, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ0OTMxOTYw", "number": 149, "title": "New ways to access registry", "user": {"login": "MOZGIII", "id": 265507, "node_id": "MDQ6VXNlcjI2NTUwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/265507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MOZGIII", "html_url": "https://github.com/MOZGIII", "followers_url": "https://api.github.com/users/MOZGIII/followers", "following_url": "https://api.github.com/users/MOZGIII/following{/other_user}", "gists_url": "https://api.github.com/users/MOZGIII/gists{/gist_id}", "starred_url": "https://api.github.com/users/MOZGIII/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MOZGIII/subscriptions", "organizations_url": "https://api.github.com/users/MOZGIII/orgs", "repos_url": "https://api.github.com/users/MOZGIII/repos", "events_url": "https://api.github.com/users/MOZGIII/events{/privacy}", "received_events_url": "https://api.github.com/users/MOZGIII/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-23T16:41:27Z", "updated_at": "2020-12-24T21:08:26Z", "closed_at": "2020-12-23T22:48:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/149", "html_url": "https://github.com/metrics-rs/metrics/pull/149", "diff_url": "https://github.com/metrics-rs/metrics/pull/149.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/149.patch", "merged_at": "2020-12-23T22:48:00Z"}, "body": "This PR adds new, more efficient ways to perform registry snapshots.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/149/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/142", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/142/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/142/events", "html_url": "https://github.com/metrics-rs/metrics/pull/142", "id": 760883791, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM1NjMzOTc4", "number": 142, "title": "metrics: change histograms from u64 to f64", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354031456, "node_id": "MDU6TGFiZWwyMzU0MDMxNDU2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-refactor", "name": "T-refactor", "color": "0052cc", "default": false, "description": "Type: refactor."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-10T04:42:53Z", "updated_at": "2020-12-18T21:29:14Z", "closed_at": "2020-12-18T21:22:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/142", "html_url": "https://github.com/metrics-rs/metrics/pull/142", "diff_url": "https://github.com/metrics-rs/metrics/pull/142.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/142.patch", "merged_at": "2020-12-18T21:22:51Z"}, "body": "This PR changes the core data type for histograms from `u64` to `f64`.\r\n\r\nWe still have some work to do in order to assert that the performance of our implementations, both in data structure throughput/latency and accuracy of quantiles/percentiles.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/142/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 3, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/142/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/141", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/141/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/141/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/141/events", "html_url": "https://github.com/metrics-rs/metrics/pull/141", "id": 760770641, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM1NTQ3MDU0", "number": 141, "title": "metrics-observer: actually wrote a README", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-10T00:11:34Z", "updated_at": "2025-01-06T15:21:41Z", "closed_at": "2020-12-10T01:24:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/141", "html_url": "https://github.com/metrics-rs/metrics/pull/141", "diff_url": "https://github.com/metrics-rs/metrics/pull/141.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/141.patch", "merged_at": "2020-12-10T01:24:29Z"}, "body": "As stated in the title, we've added actual documentation for `metrics-observer`, including some screenshots, to demonstrate how and why to use it.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/141/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/139", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/139/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/139/events", "html_url": "https://github.com/metrics-rs/metrics/pull/139", "id": 758253212, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzNDU1NTYx", "number": 139, "title": "Update tui requirement from 0.12 to 0.13", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-07T07:39:50Z", "updated_at": "2020-12-10T02:32:49Z", "closed_at": "2020-12-10T02:32:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/139", "html_url": "https://github.com/metrics-rs/metrics/pull/139", "diff_url": "https://github.com/metrics-rs/metrics/pull/139.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/139.patch", "merged_at": "2020-12-10T02:32:38Z"}, "body": "Updates the requirements on [tui](https://github.com/fdehau/tui-rs) to permit the latest version.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/fdehau/tui-rs/releases\">tui's releases</a>.</em></p>\n<blockquote>\n<h2>v0.13.0</h2>\n<h3>Features</h3>\n<ul>\n<li>Add <code>LineGauge</code> widget which is a more compact variant of the existing <code>Gauge</code>.</li>\n<li>Bump <code>crossterm</code> to 0.18</li>\n</ul>\n<h3>Fixes</h3>\n<ul>\n<li>Take into account the borders of the <code>Table</code> widget when the widths of columns is controlled by\n<code>Percentage</code> and <code>Ratio</code> constraints.</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/fdehau/tui-rs/blob/master/CHANGELOG.md\">tui's changelog</a>.</em></p>\n<blockquote>\n<h2>v0.13.0 - 2020-11-14</h2>\n<h3>Features</h3>\n<ul>\n<li>Add <code>LineGauge</code> widget which is a more compact variant of the existing <code>Gauge</code>.</li>\n<li>Bump <code>crossterm</code> to 0.18</li>\n</ul>\n<h3>Fixes</h3>\n<ul>\n<li>Take into account the borders of the <code>Table</code> widget when the widths of columns is controlled by\n<code>Percentage</code> and <code>Ratio</code> constraints.</li>\n</ul>\n<h2>v0.12.0 - 2020-09-27</h2>\n<h3>Features</h3>\n<ul>\n<li>Make it easier to work with string with multiple lines in <code>Text</code> (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/361\">#361</a>).</li>\n</ul>\n<h3>Fixes</h3>\n<ul>\n<li>Fix a style leak in <code>Graph</code> so components drawn on top of the plotted data (i.e legend and axis\ntitles) are not affected by the style of the <code>Dataset</code>s (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/388\">#388</a>).</li>\n<li>Make sure <code>BarChart</code> shows bars with the max height only when the plotted data is actually equal\nto the max (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/383\">#383</a>).</li>\n</ul>\n<h2>v0.11.0 - 2020-09-20</h2>\n<h3>Features</h3>\n<ul>\n<li>Add the dot character as a new type of canvas marker (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/350\">#350</a>).</li>\n<li>Support more style modifiers on Windows (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/368\">#368</a>).</li>\n</ul>\n<h3>Fixes</h3>\n<ul>\n<li>Clearing the terminal through <code>Terminal::clear</code> will cause the whole UI to be redrawn (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/380\">#380</a>).</li>\n<li>Fix incorrect output when the first diff to draw is on the second cell of the terminal (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/347\">#347</a>).</li>\n</ul>\n<h2>v0.10.0 - 2020-07-17</h2>\n<h3>Breaking changes</h3>\n<h4>Easier cursor management</h4>\n<p>A new method has been added to <code>Frame</code> called <code>set_cursor</code>. It lets you specify where the cursor\nshould be placed after the draw call. Furthermore like any other widgets, if you do not set a cursor\nposition during a draw call, the cursor is automatically hidden.</p>\n<p>For example:</p>\n<pre lang=\"rust\"><code>&lt;/tr&gt;&lt;/table&gt; \n</code></pre>\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/8543523f18e805fc2289e09e24e71c1d51fee3a8\"><code>8543523</code></a> Release v0.13.0</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/5a9b59866bbe93dad00309e4ffc449a21601972d\"><code>5a9b598</code></a> feat(widgets/listitem): derive PartialEq</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/dc769562152e29091d04cf4904a1ebcde9336b46\"><code>dc76956</code></a> chore: add taskwarrior-tui to the list of apps using tui-rs (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/403\">#403</a>)</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/98fb5e4bbd243d5c418301e09fd9a26f16236b00\"><code>98fb5e4</code></a> fix(widgets/table): take borders into account when percentage and ration cons...</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/25ff2e5e61f8902101e485743992db2412f77aad\"><code>25ff2e5</code></a> upgrade crossterm to v0.18</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/5050f1ce1c4a7790ee29a750709950f8b123939a\"><code>5050f1c</code></a> feat(widgets/gauge): add <code>LineGauge</code> variant of <code>Gauge</code></li>\n<li>See full diff in <a href=\"https://github.com/fdehau/tui-rs/compare/v0.12.0...v0.13.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/139/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/138", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/138/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/138/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/138/events", "html_url": "https://github.com/metrics-rs/metrics/pull/138", "id": 757746955, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzMDY4NTUy", "number": 138, "title": "core: add support for incrementing/decrementing gauges", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-05T17:51:00Z", "updated_at": "2020-12-06T02:43:38Z", "closed_at": "2020-12-06T02:43:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/138", "html_url": "https://github.com/metrics-rs/metrics/pull/138", "diff_url": "https://github.com/metrics-rs/metrics/pull/138.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/138.patch", "merged_at": "2020-12-06T02:43:33Z"}, "body": "This PR works to address #120 which seeks to add increment/decrement support to gauges.\r\n\r\nAs laid out in the issue, gauges are the only metric type where the user needs to hold the value themselves, which can make the \"use the macros anywhere, and they just work\" aspect hard to achieve.\r\n\r\nTo tackle this enhancement, we've subtly changed the `Recorder` API such that updating a gauge passes a sum type that indicates what the update should do: use an absolute value (same behavior as `gauge!`) or if it should increment or decrement the value being held by the recorder.\r\n\r\nIn order to surface this to users, we've added two new macros -- `increment_gauge!` and `decrement_gauge!` -- which do exactly what they say.  `gauge!` remains untouched.  We've also renamed `increment!` to `increment_counter!` just to avoid confusion/be a little more specific.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/138/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/137", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/137/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/137/events", "html_url": "https://github.com/metrics-rs/metrics/pull/137", "id": 757520212, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMyODgyMjE0", "number": 137, "title": "Fix macro documentation by removing proc-macro-hack.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-05T03:00:03Z", "updated_at": "2020-12-05T03:52:05Z", "closed_at": "2020-12-05T03:52:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/137", "html_url": "https://github.com/metrics-rs/metrics/pull/137", "diff_url": "https://github.com/metrics-rs/metrics/pull/137.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/137.patch", "merged_at": "2020-12-05T03:52:01Z"}, "body": "Given that `#[proc_macro]` is now valid for expression position usage in 1.45 and above, and our MSRV is 1.46, we're getting rid of `proc-macro-hack` which in turn will fix #132 by allowing the same function docs to work for IDEs as well as docs.rs.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/137/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/136", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/136/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/136/events", "html_url": "https://github.com/metrics-rs/metrics/pull/136", "id": 757416726, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMyNzk3Njk5", "number": 136, "title": "Harden the quality of AtomicBucket.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-04T21:25:45Z", "updated_at": "2020-12-05T00:01:55Z", "closed_at": "2020-12-05T00:01:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/136", "html_url": "https://github.com/metrics-rs/metrics/pull/136", "diff_url": "https://github.com/metrics-rs/metrics/pull/136.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/136.patch", "merged_at": "2020-12-05T00:01:50Z"}, "body": "This PR started out as an attempt to work on #134, which revolved around speeding up `AtomicBucket<T>`.  In practice, there were no performance gains to be found for the current design, and if there are improvements to be made, they're not immediately obvious to me or they are out of my skill range. :)\r\n\r\nInstead, what we did do is develop tooling to examine the performance of `AtomicBucket<T>` under varying workloads, and in turn, this gave us the framework to validate that `AtomicBucket<T>` works as intended, and in doing _that_, we were able to fix (and validate) a small bug: in-flight writes being missed during iteration.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/136/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/135", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/135/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/135/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/135/events", "html_url": "https://github.com/metrics-rs/metrics/pull/135", "id": 753265946, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI5Mzc5NDYy", "number": 135, "title": "Update hdrhistogram dependency", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-30T08:24:38Z", "updated_at": "2020-12-04T21:22:38Z", "closed_at": "2020-12-04T21:13:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/135", "html_url": "https://github.com/metrics-rs/metrics/pull/135", "diff_url": "https://github.com/metrics-rs/metrics/pull/135.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/135.patch", "merged_at": "2020-12-04T21:13:25Z"}, "body": "[hdrhistogram 7.2.0](https://github.com/HdrHistogram/HdrHistogram_rust/blob/master/CHANGELOG.md#720---2020-11-29) was recently released. This bumps that dependency. I noticed because its leading to a duplicate dependency in one of @EmbarkStudios projects.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/135/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/131", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/131/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/131/events", "html_url": "https://github.com/metrics-rs/metrics/pull/131", "id": 746130496, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIzNTgyNjkw", "number": 131, "title": "Add support for culling idle metrics from Prometheus output", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-18T23:51:10Z", "updated_at": "2020-11-24T01:02:08Z", "closed_at": "2020-11-24T01:02:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/131", "html_url": "https://github.com/metrics-rs/metrics/pull/131", "diff_url": "https://github.com/metrics-rs/metrics/pull/131.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/131.patch", "merged_at": "2020-11-24T01:02:03Z"}, "body": "Per #128, we wanted the ability to drop/remove idle metrics from output, and from consuming memory, where idleness is defined by how long it has been since the last update to the metric.\r\n\r\nThis PR takes a stab at adding this support by making a few changes here and there:\r\n- `Registry` now has the concept of generations for a metric, where each operation increments the generation\r\n- `PrometheusRecorder` uses generations to keep a recency list of key -> generation/last update\r\n- when metrics are seen with the same generation as the last time we generated our output, we check their recency\r\n- if the metric has been idle longer than `idle_timeout`, we remove it from the registry, and in turn, the rendered output\r\n\r\nRunning the basic `metrics-benchmark` test doesn't show any major regressions, and as expected, microbenchmarks for `Registry` have gone up by 6-8% as we're now doing extra work for every operation.  I think this is sustainable, however, as we're still in 60-70ns territory for registry operations.  We expect to hopefully claw some of this time back with future optimizations around key hashing and `dashmap` v4.\r\n\r\nRemaining items:\r\n- [x] tests in the exporter itself to exercise dropping metrics\r\n\r\nCloses #128 \r\n", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/131/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/130", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/130/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/130/events", "html_url": "https://github.com/metrics-rs/metrics/pull/130", "id": 744290630, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIyMDQ0MjEw", "number": 130, "title": "fix concurrent writer/uninitialized memory bug with AtomicBucket", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-16T23:48:50Z", "updated_at": "2020-11-17T01:10:27Z", "closed_at": "2020-11-17T01:10:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/130", "html_url": "https://github.com/metrics-rs/metrics/pull/130", "diff_url": "https://github.com/metrics-rs/metrics/pull/130.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/130.patch", "merged_at": "2020-11-17T01:10:08Z"}, "body": "Ironically, this is a terribly simple fix but it works.\r\n\r\nWe don't really have a way to reproduce the issue, but I think the original analysis was detailed enough to reason that it did 1) actually exist and that 2) copying the approach taken by crossbeam's `SegQueue` to track status per-slot would be the correct fix.\r\n\r\nBenchmarks show effectively no difference in performance, tests still pass, etc.\r\n\r\nFixes #126 ", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/130/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/129", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/129/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/129/events", "html_url": "https://github.com/metrics-rs/metrics/pull/129", "id": 744268617, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIyMDI1NzI2", "number": 129, "title": "core: fix unit binary vs decimal wonkiness", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-16T22:58:22Z", "updated_at": "2020-11-17T01:10:40Z", "closed_at": "2020-11-16T23:23:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/129", "html_url": "https://github.com/metrics-rs/metrics/pull/129", "diff_url": "https://github.com/metrics-rs/metrics/pull/129.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/129.patch", "merged_at": "2020-11-16T23:23:20Z"}, "body": "Per the description in #118, this PR focuses on drawing a clear distinction between binary and decimal exponents when referring to data, particularly when referring to amounts of storage vs amounts of data _transfer_.  To wit, storage is commonly referenced in bytes, where transfer is referenced in bits.  However, a standard \"megabyte\" is actually 1000 kilobytes, vs the 1024 kilobytes most people would commonly expect.\r\n\r\nThus, we've switched to use the correct IEC naming for both storage and data transfer units: storage i.e. `Unit::Terabytes` will now use the binary naming i.e. `Unit::Tebibytes` whereas data transfer will continue to use the decimal naming i.e. `TerabitsPerSecond`.\r\n\r\nWe've also augmented the documentation for these enum variants to better call this out and explain the subtlety, as again, this can be a confusing colloquialism picked up over time.\r\n\r\nWe've also fixed a bug with `Unit::is_data_rate_based`.\r\n\r\nFixes #118 ", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/129/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/127", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/127/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/127/events", "html_url": "https://github.com/metrics-rs/metrics/pull/127", "id": 743580150, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIxNDU1NTE5", "number": 127, "title": "Update arc-swap requirement from 0.4 to 1.0", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-16T07:18:16Z", "updated_at": "2020-11-16T20:36:45Z", "closed_at": "2020-11-16T20:36:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/127", "html_url": "https://github.com/metrics-rs/metrics/pull/127", "diff_url": "https://github.com/metrics-rs/metrics/pull/127.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/127.patch", "merged_at": "2020-11-16T20:36:35Z"}, "body": "Updates the requirements on [arc-swap](https://github.com/vorner/arc-swap) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/vorner/arc-swap/blob/master/CHANGELOG.md\">arc-swap's changelog</a>.</em></p>\n<blockquote>\n<h1>1.0.0</h1>\n<ul>\n<li>Remove Clone implementation. People are often confused by it and it is easy to\nemulate by hand in the rare case it is actually needed.</li>\n</ul>\n<h1>1.0.0-rc1</h1>\n<ul>\n<li>Get rid of the <code>load_signal_safe</code>. It only complicates things and it is niche;\nsignal-hook-registry has its own simplified version.</li>\n<li>Avoid <code>from_ptr(as_ptr())</code>. Slight change in <code>RefCnt::inc</code> which technically\nis API breaking change, but this one should not matter in practice.</li>\n<li>Extend documentation about clone behaviour.</li>\n<li>Few more traits for Guard (<code>From&lt;T: RefCnt&gt;</code>, <code>Default</code>).</li>\n<li>Get rid of <code>rcu_unwap</code>, the whole concept is a trap.</li>\n<li>Hide the whole gen lock thing.</li>\n<li>Introduce the <code>Strategy</code>, as a high level way to choose how exactly the\nlocking happens.\n<ul>\n<li>Not possible to implement by downstream users just yet, or call them.</li>\n<li>The CaS is its own trait for flexibility.</li>\n</ul>\n</li>\n<li>Adding the SimpleGenLock experimental strategy.\n<ul>\n<li>Not part of stability guarantees.</li>\n</ul>\n</li>\n</ul>\n<h1>0.4.7</h1>\n<ul>\n<li>Rename the <code>unstable-weak</code> to <code>weak</code> feature. The support is now available on\n1.45 (currently in beta).</li>\n</ul>\n<h1>0.4.6</h1>\n<ul>\n<li>Adjust to <code>Weak::as_ptr</code> from std (the weak pointer support, relying on\nunstable features).</li>\n<li>Support running on miri (without some optimizations), so dependencies may run\nmiri tests.</li>\n<li>Little optimization when waiting out the contention on write operations.</li>\n</ul>\n<h1>0.4.5</h1>\n<ul>\n<li>Added <code>Guard::from_inner</code>.</li>\n</ul>\n<h1>0.4.4</h1>\n<ul>\n<li>Top-level docs rewrite (less rambling, hopefully more readable).</li>\n</ul>\n<h1>0.4.3</h1>\n<ul>\n<li>Fix the <code>Display</code> implementation on <code>Guard</code> to correctly delegate to the\nunderlying <code>Display</code> implementation.</li>\n</ul>\n<h1>0.4.2</h1>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/8b70d693786a89f1d9ebcbb130f5a0dae3ae7965\"><code>8b70d69</code></a> Version 1.0.0</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/2433d5719be341dc520a8bb93d9d3ce7f141a80d\"><code>2433d57</code></a> Common patterns in documentation</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/11d1c097a30a215efbcd4a94018bc34cd1b76741\"><code>11d1c09</code></a> Remove the Clone implementation</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/607f6303fe13f10ba2a11d326529e1a152137872\"><code>607f630</code></a> 1.0.0-rc1</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/6f2822035ba383e60f9a6bebee415b9cab2f5170\"><code>6f28220</code></a> Experimental SimpleGenLock strategy</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/ba17cb95bf91d8f0586d946c4575a0c7aa50c899\"><code>ba17cb9</code></a> Make the private unsharded smaller</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/7a3c5068e3d1d1ebefd930ad88c103e646a38db7\"><code>7a3c506</code></a> Seal the AsRaw trait</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/89e604d15e3485455950e48daf9c0bd585cc5a7f\"><code>89e604d</code></a> Changelog</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/be122285ca55b4586dc8436b9879f5f350999628\"><code>be12228</code></a> Fix compilation on various CI platforms</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/af01624614f7bd04058974ae8b6f37a8625e17d5\"><code>af01624</code></a> Docs and cleanups</li>\n<li>Additional commits viewable in <a href=\"https://github.com/vorner/arc-swap/compare/v0.4.0...v1.0.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/127/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/125", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/125/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/125/events", "html_url": "https://github.com/metrics-rs/metrics/pull/125", "id": 742615626, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIwNzA1ODIw", "number": 125, "title": "Switch to collecting metric names by part.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-13T17:06:44Z", "updated_at": "2020-11-17T01:10:41Z", "closed_at": "2020-11-16T20:29:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/125", "html_url": "https://github.com/metrics-rs/metrics/pull/125", "diff_url": "https://github.com/metrics-rs/metrics/pull/125.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/125.patch", "merged_at": "2020-11-16T20:29:12Z"}, "body": "In most cases, a metric has a single string identifier for its name.  Depending on whether you're using a layer that appends or prepends another string, or want to do something like scoping a metric name by where the callsite lives, you inevitably have to modify that string identifier to do so.  This comes at a cost, as even if the metric name can be referred to statically for the life of the program, it now must be copied, which involves allocation and ultimately slows down the codepath from `counter!(...)` to reaching the installed recorder.  Further, the optimizations that `metrics`make to push down as much work to compile-time as possible are then squandered as soon as a small change is made.\r\n\r\nThis PR introduces a new approach to building the name of a metric: `NameParts`.\r\n\r\n`NameParts` contains a custom copy-on-write smart pointer (more on that later) which holds a reference to a slice or vector of actual string parts, which themselves are COW pointers to a `&'static str`/`String`.  What this lets us achieve is being able to provide multiple pieces for a metric name upfront _without_ allocating or mutating the strings, which means it can be done in a `const` fashion and allows `metrics` to take advantage of all of the existing optimizations it does.\r\n\r\nWhen anything in the layer stack, or elsewhere, wants to modify a key in an additive way, it can simply prepend or append a new COW pointer to the given data to `NameParts`, incurring a small allocation for the COW pointer (and potentially the string being used) but without reallocating the existing parts.\r\n\r\nOn top of that, we have a custom COW pointer, which is a stripped down version of `beef`, which itself is a stripped down version of `std::borrow::Cow`.  This bears some explanation.\r\n\r\n`beef` itself is an optimization to make the `Cow` struct smaller.  Normally, `std::borrow::Cow` would be 4 words -- discriminant, capacity, length, data pointer -- where `beef::Cow` is 3 words, as it bakes the discriminant into the capacity field.  It has an even more optimized mode where it splits the capacity/length within a single word, allowing you to have a 2-word COW pointer when you know the length/capacity of the value will be less than 2^32.  This is perfect for `metrics`.\r\n\r\nWe've forked `beef` here in order to make some changes, though:\r\n- generics and `const` aren't yet stable, so we couldn't use `Cow::const_slice` on stable\r\n- when allocating a new vector during a clone, we increase the capacity knowing that a new value will be written into it\r\n- make the 2-vs-3 word optimization baked in rather than having to futz with `cfg` attributes ourselves\r\n\r\nRight now, the 2-word optimization is commented out as we have no way to panic in `const` fns on stable, and while it's very unlikely that a user passes in a 4GB metric name or 4 million values, we'd rather not rely on that assumption.\r\n\r\nAll of this boils down to us now using this enhanced COW pointer not only for strings themselves, but the string slices for `NameParts` _and_ using it labels, allowing us to now use static slices for labels instead of always having to allocate a vector!\r\n\r\nWe've introduced a lot of permutations of constructor methods and so this could probably stand to do with some clean-up/consolidation but the premise is there.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/125/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/123", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/123/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/123/events", "html_url": "https://github.com/metrics-rs/metrics/pull/123", "id": 740859895, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE5Mjc2NTI4", "number": 123, "title": "PrometheusBuilder::install: Build exporter in runtime context", "user": {"login": "str4d", "id": 4993799, "node_id": "MDQ6VXNlcjQ5OTM3OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4993799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/str4d", "html_url": "https://github.com/str4d", "followers_url": "https://api.github.com/users/str4d/followers", "following_url": "https://api.github.com/users/str4d/following{/other_user}", "gists_url": "https://api.github.com/users/str4d/gists{/gist_id}", "starred_url": "https://api.github.com/users/str4d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/str4d/subscriptions", "organizations_url": "https://api.github.com/users/str4d/orgs", "repos_url": "https://api.github.com/users/str4d/repos", "events_url": "https://api.github.com/users/str4d/events{/privacy}", "received_events_url": "https://api.github.com/users/str4d/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-11T15:34:41Z", "updated_at": "2020-11-11T20:38:39Z", "closed_at": "2020-11-11T19:46:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/123", "html_url": "https://github.com/metrics-rs/metrics/pull/123", "diff_url": "https://github.com/metrics-rs/metrics/pull/123.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/123.patch", "merged_at": "2020-11-11T19:46:52Z"}, "body": "Closes https://github.com/metrics-rs/metrics/issues/122", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/123/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/121", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/121/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/121/events", "html_url": "https://github.com/metrics-rs/metrics/pull/121", "id": 740208269, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE4NzM1NzA1", "number": 121, "title": "Doc typo", "user": {"login": "flub", "id": 146720, "node_id": "MDQ6VXNlcjE0NjcyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/146720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flub", "html_url": "https://github.com/flub", "followers_url": "https://api.github.com/users/flub/followers", "following_url": "https://api.github.com/users/flub/following{/other_user}", "gists_url": "https://api.github.com/users/flub/gists{/gist_id}", "starred_url": "https://api.github.com/users/flub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flub/subscriptions", "organizations_url": "https://api.github.com/users/flub/orgs", "repos_url": "https://api.github.com/users/flub/repos", "events_url": "https://api.github.com/users/flub/events{/privacy}", "received_events_url": "https://api.github.com/users/flub/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-10T20:09:23Z", "updated_at": "2021-05-24T19:22:49Z", "closed_at": "2020-11-11T17:50:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/121", "html_url": "https://github.com/metrics-rs/metrics/pull/121", "diff_url": "https://github.com/metrics-rs/metrics/pull/121.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/121.patch", "merged_at": "2020-11-11T17:50:42Z"}, "body": "This fixes a trivial docs typo.  Though also adds a docs build to the CI which will fail if there are warnings while building docs, which happen for e.g. broken links.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/121/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/116", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/116/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/116/events", "html_url": "https://github.com/metrics-rs/metrics/pull/116", "id": 730767769, "node_id": "MDExOlB1bGxSZXF1ZXN0NTExMDE4NTU4", "number": 116, "title": "metrics-exporter-prometheus: split off tokio and hyper functionality to another (default) feature", "user": {"login": "kilpatty", "id": 9666345, "node_id": "MDQ6VXNlcjk2NjYzNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/9666345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kilpatty", "html_url": "https://github.com/kilpatty", "followers_url": "https://api.github.com/users/kilpatty/followers", "following_url": "https://api.github.com/users/kilpatty/following{/other_user}", "gists_url": "https://api.github.com/users/kilpatty/gists{/gist_id}", "starred_url": "https://api.github.com/users/kilpatty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kilpatty/subscriptions", "organizations_url": "https://api.github.com/users/kilpatty/orgs", "repos_url": "https://api.github.com/users/kilpatty/repos", "events_url": "https://api.github.com/users/kilpatty/events{/privacy}", "received_events_url": "https://api.github.com/users/kilpatty/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-10-27T19:54:33Z", "updated_at": "2020-11-03T01:07:21Z", "closed_at": "2020-11-02T17:16:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/116", "html_url": "https://github.com/metrics-rs/metrics/pull/116", "diff_url": "https://github.com/metrics-rs/metrics/pull/116.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/116.patch", "merged_at": "2020-11-02T17:16:05Z"}, "body": "I threw this up relatively quickly, I can dive into it more tonight and improve documentation + ci (adding different features to actions).\r\n\r\nWhat this PR does it make the Tokio and hyper functionality apart of a feature. It is enabled by default, but allows for users to replace disable it if they wish. The only major change is introducing another `build` function on the PrometheusBuilder that only returns the Recorder rather than both the Recorder and Exporter. This function is only enabled when the `tokio-exporter` feature is disabled.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/116/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/114", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/114/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/114/events", "html_url": "https://github.com/metrics-rs/metrics/pull/114", "id": 730444412, "node_id": "MDExOlB1bGxSZXF1ZXN0NTEwNzQ3ODgz", "number": 114, "title": "core: remove scoping and simplify the macro \"fast path\"", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-27T13:20:00Z", "updated_at": "2020-11-17T01:10:42Z", "closed_at": "2020-10-27T13:49:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/114", "html_url": "https://github.com/metrics-rs/metrics/pull/114", "diff_url": "https://github.com/metrics-rs/metrics/pull/114.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/114.patch", "merged_at": "2020-10-27T13:49:50Z"}, "body": "This PR makes me ever so slightly sad, but I think it's the right move: we're removing scoping so that we can simplify the core macro/caching logic.\r\n\r\nThe premise of the `metrics` is that we provide the lowest possible overhead way to emit a metric, so that they can be sprinkled liberally in libraries and applications.  To that end, we've previously implementing caching, using atomic \"initialize once\" primitives to construct and cache the key data used to identify a metric being emitted.\r\n\r\nAs part of reducing allocations and making this codepath even faster, along with reducing the number of dependencies required, we've come to a point where we can accomplish most of this work by utilizing regular ol' statics, along with constant functions, courtesy of `const fn` support.\r\n\r\nWhere this becomes a problem is scoping.  Scoping depends on pulling information about the callsite -- via `std::module_path!` -- which we would in turn prepend to a metric name, taking something like `my_metric_name` and turning it into `binaryname.module.submodule.my_metric_name`.  This allowed callers to add differentiation to their metrics slightly by virtue of how they were organized in code.  This in and of itself was a reduced implementation of sink scoping present in `metrics-runtime` where `Sink` could be arbitrarily scoped/nested with user-defined path components.\r\n\r\nNow, all of this so far is still constant, but the tricky bit is that Rust separates modules with `::`, which is an identifier that no metrics systems I know of use as a separator, and further, the systems that do have a preferred separator are usually a single character, vs the two characters present in Rust's module paths.\r\n\r\nNow to try and make this long story short, there are two possible ways to normalize this: we allocate and use `format!`/`str::replace` to change those double colons for something more normalized like `.` or `_`, or we ourselves join the module path and metric name with `::`.  We don't want to allocate behind-the-scenes, and if we concatenate with `::`, we are almost certainly forcing every exporter to have to rewrite that string.  As well, given the double character vs single character separator distinction, exporters couldn't even do an optimized \"inline replace every `:` with `.`\" bit, they'd be stuck allocating.\r\n\r\nIn the end, I think this scoping mechanism is a shadow of its former self, and that it is likely better to force users to spend time providing a succinct and specific metric name, rather than giving them a half-baked option that ultimately doesn't provide a whole lot of time saved.  We may revisit scoping in the future, either when constant functions are more expressive and can allow us to modify strings at compile-time, or if a new design emerges that can provide a different mechanism to carry scoping data around in a zero-cost way.\r\n\r\nOh, and... we have an official logo now! :)", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/114/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/112", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/112/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/112/events", "html_url": "https://github.com/metrics-rs/metrics/pull/112", "id": 728827004, "node_id": "MDExOlB1bGxSZXF1ZXN0NTA5NDU4ODI1", "number": 112, "title": "metrics-exporter-tcp: drop metrics when no clients are connected.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-24T16:40:06Z", "updated_at": "2024-04-05T22:17:48Z", "closed_at": "2020-10-24T17:42:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/112", "html_url": "https://github.com/metrics-rs/metrics/pull/112", "diff_url": "https://github.com/metrics-rs/metrics/pull/112.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/112.patch", "merged_at": "2020-10-24T17:42:51Z"}, "body": "This PR fixes the issue laid out in #99, which is that we go through with sending metrics to the internal event loop even no clients are connected, which slows down callers emitting metrics.\r\n\r\nGranted, they'll end up paying the cost as soon as a single client connects, but we can at least reduce CPU usage where possible for optimal efficiency.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/112/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/108", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/108/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/108/events", "html_url": "https://github.com/metrics-rs/metrics/pull/108", "id": 724335712, "node_id": "MDExOlB1bGxSZXF1ZXN0NTA1NzQxMzI4", "number": 108, "title": "Update env_logger requirement from 0.7 to 0.8", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-19T07:05:22Z", "updated_at": "2020-10-20T14:12:25Z", "closed_at": "2020-10-20T14:12:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/108", "html_url": "https://github.com/metrics-rs/metrics/pull/108", "diff_url": "https://github.com/metrics-rs/metrics/pull/108.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/108.patch", "merged_at": "2020-10-20T14:12:17Z"}, "body": "Updates the requirements on [env_logger](https://github.com/env-logger-rs/env_logger) to permit the latest version.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/env-logger-rs/env_logger/releases\">env_logger's releases</a>.</em></p>\n<blockquote>\n<h2>0.8.1</h2>\n<p>Update links in the documentation that were pointing to the old repository location.</p>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/26e821b94f0b0b9fd3536c0ba7095c1b6c7a3ffe\"><code>26e821b</code></a> Update repository links and release 0.8.1</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/9ffe00de4ff1429ccd004c42f82034b56a41a957\"><code>9ffe00d</code></a> Release version 0.8.0</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/2b33c97117355cdc599aa29fb1a64b8016ee3f68\"><code>2b33c97</code></a> Fix rustc &amp; clippy lints</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/b8c3754a1de50ac720657d2f328ea98148e1d80d\"><code>b8c3754</code></a> chore(examples): add syslog friendly format (<a href=\"https://github-redirect.dependabot.com/env-logger-rs/env_logger/issues/174\">#174</a>)</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/a5a7ddc34ee82fe043eed8c3f89f5f83058f6a6f\"><code>a5a7ddc</code></a> ci(docs): remove ci crate (<a href=\"https://github-redirect.dependabot.com/env-logger-rs/env_logger/issues/173\">#173</a>)</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/3a331e46362bd96c042af9558de3a638c841d448\"><code>3a331e4</code></a> chore(readme): fix badge links</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/eeedfa99be9b9619e84154de8592ce24c0f4daf5\"><code>eeedfa9</code></a> ci(docs): add manual run trigger (<a href=\"https://github-redirect.dependabot.com/env-logger-rs/env_logger/issues/171\">#171</a>)</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/2793bb5696c7740ced5c82ad27d4a9a7cd093a44\"><code>2793bb5</code></a> ci(workflow): add documentation workflow (<a href=\"https://github-redirect.dependabot.com/env-logger-rs/env_logger/issues/170\">#170</a>)</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/0ef5cffa29a45c9b0c572f470581d617fc7e50b0\"><code>0ef5cff</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/env-logger-rs/env_logger/issues/168\">#168</a> from KodrAus/chore/build-fn-cleanup</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/b24920eb7afaaa95edca0dd36f50caaca2b95ccf\"><code>b24920e</code></a> deprecate env_logger::from_env and clean up examples</li>\n<li>Additional commits viewable in <a href=\"https://github.com/env-logger-rs/env_logger/compare/v0.7.0...v0.8.1\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/108/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/107", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/107/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/107/events", "html_url": "https://github.com/metrics-rs/metrics/pull/107", "id": 723806096, "node_id": "MDExOlB1bGxSZXF1ZXN0NTA1MzE1OTYz", "number": 107, "title": "core: add unit support", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-17T17:12:47Z", "updated_at": "2020-10-24T14:55:13Z", "closed_at": "2020-10-24T14:55:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/107", "html_url": "https://github.com/metrics-rs/metrics/pull/107", "diff_url": "https://github.com/metrics-rs/metrics/pull/107.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/107.patch", "merged_at": "2020-10-24T14:55:12Z"}, "body": "This PR adds support for specifying the units of a given metric.\r\n\r\nCurrently, these units map directly to the support units of Cloudwatch, as Cloudwatch has the most comprehensive list of supported units, which include time, data size, data rate, and count.\r\n\r\nUnits can optionally be provided in registration calls -- same as a description -- in order to supplement a metric.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/107/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/106", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/106/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/106/events", "html_url": "https://github.com/metrics-rs/metrics/pull/106", "id": 723770152, "node_id": "MDExOlB1bGxSZXF1ZXN0NTA1MjkwNDQ1", "number": 106, "title": "Add a const constructor for KeyData", "user": {"login": "MOZGIII", "id": 265507, "node_id": "MDQ6VXNlcjI2NTUwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/265507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MOZGIII", "html_url": "https://github.com/MOZGIII", "followers_url": "https://api.github.com/users/MOZGIII/followers", "following_url": "https://api.github.com/users/MOZGIII/following{/other_user}", "gists_url": "https://api.github.com/users/MOZGIII/gists{/gist_id}", "starred_url": "https://api.github.com/users/MOZGIII/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MOZGIII/subscriptions", "organizations_url": "https://api.github.com/users/MOZGIII/orgs", "repos_url": "https://api.github.com/users/MOZGIII/repos", "events_url": "https://api.github.com/users/MOZGIII/events{/privacy}", "received_events_url": "https://api.github.com/users/MOZGIII/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-17T14:25:19Z", "updated_at": "2020-10-17T14:38:14Z", "closed_at": "2020-10-17T14:38:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/106", "html_url": "https://github.com/metrics-rs/metrics/pull/106", "diff_url": "https://github.com/metrics-rs/metrics/pull/106.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/106.patch", "merged_at": "2020-10-17T14:38:14Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/106/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/103", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/103/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/103/events", "html_url": "https://github.com/metrics-rs/metrics/pull/103", "id": 719120927, "node_id": "MDExOlB1bGxSZXF1ZXN0NTAxMzY0NTA4", "number": 103, "title": "Update crossbeam-epoch requirement from 0.8 to 0.9", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-12T07:06:21Z", "updated_at": "2020-10-17T17:42:51Z", "closed_at": "2020-10-17T17:42:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/103", "html_url": "https://github.com/metrics-rs/metrics/pull/103", "diff_url": "https://github.com/metrics-rs/metrics/pull/103.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/103.patch", "merged_at": "2020-10-17T17:42:43Z"}, "body": "Updates the requirements on [crossbeam-epoch](https://github.com/crossbeam-rs/crossbeam) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/crossbeam-rs/crossbeam/blob/master/CHANGELOG.md\">crossbeam-epoch's changelog</a>.</em></p>\n<blockquote>\n<h1>Version 0.8.0</h1>\n<ul>\n<li>Bump the minimum supported Rust version to 1.36.</li>\n<li>Bump <code>crossbeam-channel</code> to <code>0.5</code>.</li>\n<li>Bump <code>crossbeam-deque</code> to <code>0.8</code>.</li>\n<li>Bump <code>crossbeam-epoch</code> to <code>0.9</code>.</li>\n<li>Bump <code>crossbeam-queue</code> to <code>0.3</code>.</li>\n<li>Bump <code>crossbeam-utils</code> to <code>0.8</code>.</li>\n</ul>\n<h1>Version 0.7.3</h1>\n<ul>\n<li>Fix breakage with nightly feature due to <a href=\"https://github-redirect.dependabot.com/rust-lang/rust/issues/65214\">rust-lang/rust#65214</a>.</li>\n<li>Bump <code>crossbeam-channel</code> to <code>0.4</code>.</li>\n<li>Bump <code>crossbeam-epoch</code> to <code>0.8</code>.</li>\n<li>Bump <code>crossbeam-queue</code> to <code>0.2</code>.</li>\n<li>Bump <code>crossbeam-utils</code> to <code>0.7</code>.</li>\n</ul>\n<h1>Version 0.7.2</h1>\n<ul>\n<li>Bump <code>crossbeam-channel</code> to <code>0.3.9</code>.</li>\n<li>Bump <code>crossbeam-epoch</code> to <code>0.7.2</code>.</li>\n<li>Bump <code>crossbeam-utils</code> to <code>0.6.6</code>.</li>\n</ul>\n<h1>Version 0.7.1</h1>\n<ul>\n<li>Bump <code>crossbeam-utils</code> to <code>0.6.5</code>.</li>\n</ul>\n<h1>Version 0.7.0</h1>\n<ul>\n<li>Remove <code>ArcCell</code>, <code>MsQueue</code>, and <code>TreiberStack</code>.</li>\n<li>Change the interface of <code>ShardedLock</code> to match <code>RwLock</code>.</li>\n<li>Add <code>SegQueue::len()</code>.</li>\n<li>Rename <code>SegQueue::try_pop()</code> to <code>SegQueue::pop()</code>.</li>\n<li>Change the return type of <code>SegQueue::pop()</code> to <code>Result</code>.</li>\n<li>Introduce <code>ArrayQueue</code>.</li>\n<li>Update dependencies.</li>\n</ul>\n<h1>Version 0.6.0</h1>\n<ul>\n<li>Update dependencies.</li>\n</ul>\n<h1>Version 0.5.0</h1>\n<ul>\n<li>Update <code>crossbeam-channel</code> to 0.3.</li>\n<li>Update <code>crossbeam-utils</code> to 0.6.</li>\n<li>Add <code>AtomicCell</code>, <code>SharedLock</code>, and <code>WaitGroup</code>.</li>\n</ul>\n<h1>Version 0.4.1</h1>\n<ul>\n<li>Fix a double-free bug in <code>MsQueue</code> and <code>SegQueue</code>.</li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/d9dfc9e1ffabcb3c01addad14878f16c2795c371\"><code>d9dfc9e</code></a> Merge <a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/581\">#581</a></li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/2a3d84b8dbaa9554c6705d5318fab76005ac2a44\"><code>2a3d84b</code></a> Prepare for the next release</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/5ea6e705eadefe4cb454a14c723ffe77b15cd89a\"><code>5ea6e70</code></a> Merge <a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/580\">#580</a></li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/b363b3dcd72e9caee55f4daafd47f9385984e20a\"><code>b363b3d</code></a> Fix UB in destroy_array test</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/e08b21cc086fc42af0e9927a68bc3120bee87af5\"><code>e08b21c</code></a> Merge <a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/577\">#577</a></li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/6217abf4a97b85c22b8dbae247503779af182741\"><code>6217abf</code></a> Ignore clippy::match_like_matches_macro lint</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/9cbfae7380c902dd29cf83c812cf1d721f970c96\"><code>9cbfae7</code></a> Update cfg-if to 1</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/24447495c9e3f0cf2d98606263273e2f9b427d9b\"><code>2444749</code></a> Merge <a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/574\">#574</a></li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/619f7db2dfae7bd683d6ebb7e9aeb062409c54ed\"><code>619f7db</code></a> Fixed a few typos</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/7cc83772635bab80b28daadfd0a3d911554884be\"><code>7cc8377</code></a> Better plot.py with Python 3 &amp; remove hard code (<a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/569\">#569</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/crossbeam-rs/crossbeam/compare/crossbeam-epoch-0.8.0...crossbeam-epoch-0.9.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/103/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/102", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/102/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/102/events", "html_url": "https://github.com/metrics-rs/metrics/pull/102", "id": 719120805, "node_id": "MDExOlB1bGxSZXF1ZXN0NTAxMzY0Mzk4", "number": 102, "title": "Update crossbeam-channel requirement from 0.4 to 0.5", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-12T07:06:11Z", "updated_at": "2020-10-17T17:43:31Z", "closed_at": "2020-10-17T17:43:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/102", "html_url": "https://github.com/metrics-rs/metrics/pull/102", "diff_url": "https://github.com/metrics-rs/metrics/pull/102.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/102.patch", "merged_at": "2020-10-17T17:43:23Z"}, "body": "Updates the requirements on [crossbeam-channel](https://github.com/crossbeam-rs/crossbeam) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/crossbeam-rs/crossbeam/blob/master/CHANGELOG.md\">crossbeam-channel's changelog</a>.</em></p>\n<blockquote>\n<h1>Version 0.5.0</h1>\n<ul>\n<li>Update <code>crossbeam-channel</code> to 0.3.</li>\n<li>Update <code>crossbeam-utils</code> to 0.6.</li>\n<li>Add <code>AtomicCell</code>, <code>SharedLock</code>, and <code>WaitGroup</code>.</li>\n</ul>\n<h1>Version 0.4.1</h1>\n<ul>\n<li>Fix a double-free bug in <code>MsQueue</code> and <code>SegQueue</code>.</li>\n</ul>\n<h1>Version 0.4</h1>\n<ul>\n<li>Switch to the new implementation of epoch-based reclamation in\n<a href=\"https://github.com/crossbeam-rs/crossbeam-epoch\"><code>crossbeam-epoch</code></a>, fixing numerous bugs in the\nold implementation.  Its API is changed in a backward-incompatible way.</li>\n<li>Switch to the new implementation of <code>CachePadded</code> and scoped thread in\n<a href=\"https://github.com/crossbeam-rs/crossbeam-utils\"><code>crossbeam-utils</code></a>.  The scoped thread API is\nchanged in a backward-incompatible way.</li>\n<li>Switch to the new implementation of Chase-Lev deque in\n<a href=\"https://github.com/crossbeam-rs/crossbeam-deque\"><code>crossbeam-deque</code></a>.  Its API is changed in a\nbackward-incompatible way.</li>\n<li>Export channel implemented in\n<a href=\"https://github.com/crossbeam-rs/crossbeam-channel\"><code>crossbeam-channel</code></a>.</li>\n<li>Remove <code>AtomicOption</code>.</li>\n<li>Implement <code>Default</code> and <code>From</code> traits.</li>\n</ul>\n<h1>Version 0.3</h1>\n<ul>\n<li>Introduced <code>ScopedThreadBuilder</code> with the ability to name threads and set stack size</li>\n<li><code>Worker</code> methods in the Chase-Lev deque don't require mutable access anymore</li>\n<li>Fixed a bug when unblocking <code>pop()</code> in <code>MsQueue</code></li>\n<li>Implemented <code>Drop</code> for <code>MsQueue</code>, <code>SegQueue</code>, and <code>TreiberStack</code></li>\n<li>Implemented <code>Default</code> for <code>TreiberStack</code></li>\n<li>Added <code>is_empty</code> to <code>SegQueue</code></li>\n<li>Renamed <code>mem::epoch</code> to <code>epoch</code></li>\n<li>Other bug fixes</li>\n</ul>\n<h1>Version 0.2</h1>\n<ul>\n<li>Changed existing non-blocking <code>pop</code> methods to <code>try_pop</code></li>\n<li>Added blocking <code>pop</code> support to Michael-Scott queue</li>\n<li>Added Chase-Lev work-stealing deque</li>\n</ul>\n<h1>Version 0.1</h1>\n<ul>\n<li>Added <a href=\"http://aturon.github.io/blog/2015/08/27/epoch/\">epoch-based memory management</a></li>\n<li>Added Michael-Scott queue</li>\n<li>Added Segmented array queue</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/d9dfc9e1ffabcb3c01addad14878f16c2795c371\"><code>d9dfc9e</code></a> Merge <a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/581\">#581</a></li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/2a3d84b8dbaa9554c6705d5318fab76005ac2a44\"><code>2a3d84b</code></a> Prepare for the next release</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/5ea6e705eadefe4cb454a14c723ffe77b15cd89a\"><code>5ea6e70</code></a> Merge <a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/580\">#580</a></li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/b363b3dcd72e9caee55f4daafd47f9385984e20a\"><code>b363b3d</code></a> Fix UB in destroy_array test</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/e08b21cc086fc42af0e9927a68bc3120bee87af5\"><code>e08b21c</code></a> Merge <a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/577\">#577</a></li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/6217abf4a97b85c22b8dbae247503779af182741\"><code>6217abf</code></a> Ignore clippy::match_like_matches_macro lint</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/9cbfae7380c902dd29cf83c812cf1d721f970c96\"><code>9cbfae7</code></a> Update cfg-if to 1</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/24447495c9e3f0cf2d98606263273e2f9b427d9b\"><code>2444749</code></a> Merge <a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/574\">#574</a></li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/619f7db2dfae7bd683d6ebb7e9aeb062409c54ed\"><code>619f7db</code></a> Fixed a few typos</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/7cc83772635bab80b28daadfd0a3d911554884be\"><code>7cc8377</code></a> Better plot.py with Python 3 &amp; remove hard code (<a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/569\">#569</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/crossbeam-rs/crossbeam/compare/crossbeam-channel-0.4.0...crossbeam-channel-0.5.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/102/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/101", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/101/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/101/events", "html_url": "https://github.com/metrics-rs/metrics/pull/101", "id": 719120680, "node_id": "MDExOlB1bGxSZXF1ZXN0NTAxMzY0Mjg4", "number": 101, "title": "Update crossbeam-utils requirement from 0.7 to 0.8", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-12T07:06:03Z", "updated_at": "2020-10-17T17:42:05Z", "closed_at": "2020-10-17T17:41:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/101", "html_url": "https://github.com/metrics-rs/metrics/pull/101", "diff_url": "https://github.com/metrics-rs/metrics/pull/101.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/101.patch", "merged_at": "2020-10-17T17:41:55Z"}, "body": "Updates the requirements on [crossbeam-utils](https://github.com/crossbeam-rs/crossbeam) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/crossbeam-rs/crossbeam/blob/master/CHANGELOG.md\">crossbeam-utils's changelog</a>.</em></p>\n<blockquote>\n<h1>Version 0.8.0</h1>\n<ul>\n<li>Bump the minimum supported Rust version to 1.36.</li>\n<li>Bump <code>crossbeam-channel</code> to <code>0.5</code>.</li>\n<li>Bump <code>crossbeam-deque</code> to <code>0.8</code>.</li>\n<li>Bump <code>crossbeam-epoch</code> to <code>0.9</code>.</li>\n<li>Bump <code>crossbeam-queue</code> to <code>0.3</code>.</li>\n<li>Bump <code>crossbeam-utils</code> to <code>0.8</code>.</li>\n</ul>\n<h1>Version 0.7.3</h1>\n<ul>\n<li>Fix breakage with nightly feature due to <a href=\"https://github-redirect.dependabot.com/rust-lang/rust/issues/65214\">rust-lang/rust#65214</a>.</li>\n<li>Bump <code>crossbeam-channel</code> to <code>0.4</code>.</li>\n<li>Bump <code>crossbeam-epoch</code> to <code>0.8</code>.</li>\n<li>Bump <code>crossbeam-queue</code> to <code>0.2</code>.</li>\n<li>Bump <code>crossbeam-utils</code> to <code>0.7</code>.</li>\n</ul>\n<h1>Version 0.7.2</h1>\n<ul>\n<li>Bump <code>crossbeam-channel</code> to <code>0.3.9</code>.</li>\n<li>Bump <code>crossbeam-epoch</code> to <code>0.7.2</code>.</li>\n<li>Bump <code>crossbeam-utils</code> to <code>0.6.6</code>.</li>\n</ul>\n<h1>Version 0.7.1</h1>\n<ul>\n<li>Bump <code>crossbeam-utils</code> to <code>0.6.5</code>.</li>\n</ul>\n<h1>Version 0.7.0</h1>\n<ul>\n<li>Remove <code>ArcCell</code>, <code>MsQueue</code>, and <code>TreiberStack</code>.</li>\n<li>Change the interface of <code>ShardedLock</code> to match <code>RwLock</code>.</li>\n<li>Add <code>SegQueue::len()</code>.</li>\n<li>Rename <code>SegQueue::try_pop()</code> to <code>SegQueue::pop()</code>.</li>\n<li>Change the return type of <code>SegQueue::pop()</code> to <code>Result</code>.</li>\n<li>Introduce <code>ArrayQueue</code>.</li>\n<li>Update dependencies.</li>\n</ul>\n<h1>Version 0.6.0</h1>\n<ul>\n<li>Update dependencies.</li>\n</ul>\n<h1>Version 0.5.0</h1>\n<ul>\n<li>Update <code>crossbeam-channel</code> to 0.3.</li>\n<li>Update <code>crossbeam-utils</code> to 0.6.</li>\n<li>Add <code>AtomicCell</code>, <code>SharedLock</code>, and <code>WaitGroup</code>.</li>\n</ul>\n<h1>Version 0.4.1</h1>\n<ul>\n<li>Fix a double-free bug in <code>MsQueue</code> and <code>SegQueue</code>.</li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/d9dfc9e1ffabcb3c01addad14878f16c2795c371\"><code>d9dfc9e</code></a> Merge <a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/581\">#581</a></li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/2a3d84b8dbaa9554c6705d5318fab76005ac2a44\"><code>2a3d84b</code></a> Prepare for the next release</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/5ea6e705eadefe4cb454a14c723ffe77b15cd89a\"><code>5ea6e70</code></a> Merge <a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/580\">#580</a></li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/b363b3dcd72e9caee55f4daafd47f9385984e20a\"><code>b363b3d</code></a> Fix UB in destroy_array test</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/e08b21cc086fc42af0e9927a68bc3120bee87af5\"><code>e08b21c</code></a> Merge <a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/577\">#577</a></li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/6217abf4a97b85c22b8dbae247503779af182741\"><code>6217abf</code></a> Ignore clippy::match_like_matches_macro lint</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/9cbfae7380c902dd29cf83c812cf1d721f970c96\"><code>9cbfae7</code></a> Update cfg-if to 1</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/24447495c9e3f0cf2d98606263273e2f9b427d9b\"><code>2444749</code></a> Merge <a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/574\">#574</a></li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/619f7db2dfae7bd683d6ebb7e9aeb062409c54ed\"><code>619f7db</code></a> Fixed a few typos</li>\n<li><a href=\"https://github.com/crossbeam-rs/crossbeam/commit/7cc83772635bab80b28daadfd0a3d911554884be\"><code>7cc8377</code></a> Better plot.py with Python 3 &amp; remove hard code (<a href=\"https://github-redirect.dependabot.com/crossbeam-rs/crossbeam/issues/569\">#569</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/crossbeam-rs/crossbeam/compare/crossbeam-utils-0.7.0...crossbeam-utils-0.8.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/101/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/95", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/95/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/95/events", "html_url": "https://github.com/metrics-rs/metrics/pull/95", "id": 709814662, "node_id": "MDExOlB1bGxSZXF1ZXN0NDkzNzc2NDk0", "number": 95, "title": "macros: sanitize/validate metric name", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-27T20:57:18Z", "updated_at": "2020-09-27T22:00:20Z", "closed_at": "2020-09-27T22:00:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/95", "html_url": "https://github.com/metrics-rs/metrics/pull/95", "diff_url": "https://github.com/metrics-rs/metrics/pull/95.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/95.patch", "merged_at": "2020-09-27T22:00:17Z"}, "body": "This PR adds sanitization directly to the macros themselves, both ensuring that the metric names hitting exporters are always going to conform in a specific way, as well as emitting a relevant error message when a user uses a metric name that is not valid.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/95/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/95/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/94", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/94/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/94/events", "html_url": "https://github.com/metrics-rs/metrics/pull/94", "id": 709745963, "node_id": "MDExOlB1bGxSZXF1ZXN0NDkzNzI1OTY2", "number": 94, "title": "tracing-context: optimize Visit impl", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-27T14:03:27Z", "updated_at": "2020-11-17T01:10:49Z", "closed_at": "2020-09-27T19:32:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/94", "html_url": "https://github.com/metrics-rs/metrics/pull/94", "diff_url": "https://github.com/metrics-rs/metrics/pull/94.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/94.patch", "merged_at": "2020-09-27T19:32:11Z"}, "body": "When it was originally written, `metrics-tracing-context` used only a `record_str` and `record_debug` override for the `tracing::field::Visit` implementation, which allowed full functionality but wasn't entirely optimized.  This PR simply fills in the other `record_*` functions (except for `record_error`) with optimized implementations.\r\n\r\nPerformance increases:\r\n- boolean fields: ~75% faster (54ns -> 15ns)\r\n- integer fields: ~40% faster (70ns -> 40ns)", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/94/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/94/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/93", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/93/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/93/events", "html_url": "https://github.com/metrics-rs/metrics/pull/93", "id": 709734837, "node_id": "MDExOlB1bGxSZXF1ZXN0NDkzNzE3OTg3", "number": 93, "title": "Switch from Azure Pipelines to Github Actions.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-27T12:54:41Z", "updated_at": "2020-11-17T01:10:59Z", "closed_at": "2020-09-27T12:57:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/93", "html_url": "https://github.com/metrics-rs/metrics/pull/93", "diff_url": "https://github.com/metrics-rs/metrics/pull/93.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/93.patch", "merged_at": "2020-09-27T12:57:38Z"}, "body": "As stated in the title.\r\n\r\nWe also pulled back in the Dependabot changes we lost when migrating from `master` to `main`.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/93/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/93/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/92", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/92/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/92/events", "html_url": "https://github.com/metrics-rs/metrics/pull/92", "id": 709733327, "node_id": "MDExOlB1bGxSZXF1ZXN0NDkzNzE3MDA3", "number": 92, "title": "Attempt to bind to the listen address before starting server.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-27T12:44:55Z", "updated_at": "2020-09-27T12:45:35Z", "closed_at": "2020-09-27T12:45:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/92", "html_url": "https://github.com/metrics-rs/metrics/pull/92", "diff_url": "https://github.com/metrics-rs/metrics/pull/92.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/92.patch", "merged_at": "2020-09-27T12:45:28Z"}, "body": "Previously, the Prometheus exporter would bind and serve all in one shot, _within_ a future, which meant users had no way to see if the binding would succeed, and no way to recover the error themselves.  This was called out in #83 \r\n\r\nThis PR extracts the binding from the future that we run to drive the exporter, so we can attempt to bind beforehand -- regardless of whether `PrometheusBuilder::installed` or `PrometheusBuilder::build` is being called -- and let the user know if it succeeded.\r\n\r\nWe've also fixed some other minor nits and cleaned some stuff up.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/92/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/92/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/91", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/91/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/91/events", "html_url": "https://github.com/metrics-rs/metrics/pull/91", "id": 709726481, "node_id": "MDExOlB1bGxSZXF1ZXN0NDkzNzEyMjg5", "number": 91, "title": "Create Dependabot config file", "user": {"login": "dependabot-preview[bot]", "id": 27856297, "node_id": "MDM6Qm90Mjc4NTYyOTc=", "avatar_url": "https://avatars.githubusercontent.com/in/2141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot-preview%5Bbot%5D", "html_url": "https://github.com/apps/dependabot-preview", "followers_url": "https://api.github.com/users/dependabot-preview%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot-preview%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot-preview%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot-preview%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot-preview%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot-preview%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot-preview%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot-preview%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot-preview%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-27T12:01:05Z", "updated_at": "2020-09-27T12:20:55Z", "closed_at": "2020-09-27T12:02:57Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/91", "html_url": "https://github.com/metrics-rs/metrics/pull/91", "diff_url": "https://github.com/metrics-rs/metrics/pull/91.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/91.patch", "merged_at": "2020-09-27T12:02:56Z"}, "body": ":wave: Dependabot is moving natively into GitHub! This pull request migrates your configuration from Dependabot.com to a config file, using the [new syntax](https://help.github.com/en/github/administering-a-repository/configuration-options-for-dependency-updates). When you merge this pull request, we'll swap out `dependabot-preview` (me) for a new `dependabot` app, and you'll be all set!\n\nWith this change, you'll now use the [Dependabot page in GitHub](https://github.com/metrics-rs/metrics/network/updates), rather than the [Dependabot dashboard](https://app.dependabot.com/), to monitor your version updates. Dependabot is now configured exclusively using config files.\n\n\n\n\n\n\n\n\n\n\n\nIf you've got any questions or feedback for us, please let us know by creating an issue in the [dependabot/dependabot-core](https://github.com/dependabot/dependabot-core/issues) repository.\n\n[Learn more about the relaunch of Dependabot](https://github.blog/2020-06-01-keep-all-your-packages-up-to-date-with-dependabot/)\n\nPlease note that regular `@dependabot` commands do not work on this pull request.\n\n:robot::yellow_heart:\n", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/91/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/91/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/87", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/87/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/87/events", "html_url": "https://github.com/metrics-rs/metrics/pull/87", "id": 692788411, "node_id": "MDExOlB1bGxSZXF1ZXN0NDc5MzUwNjA1", "number": 87, "title": "Support for using tracing span fields as metrics labels", "user": {"login": "MOZGIII", "id": 265507, "node_id": "MDQ6VXNlcjI2NTUwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/265507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MOZGIII", "html_url": "https://github.com/MOZGIII", "followers_url": "https://api.github.com/users/MOZGIII/followers", "following_url": "https://api.github.com/users/MOZGIII/following{/other_user}", "gists_url": "https://api.github.com/users/MOZGIII/gists{/gist_id}", "starred_url": "https://api.github.com/users/MOZGIII/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MOZGIII/subscriptions", "organizations_url": "https://api.github.com/users/MOZGIII/orgs", "repos_url": "https://api.github.com/users/MOZGIII/repos", "events_url": "https://api.github.com/users/MOZGIII/events{/privacy}", "received_events_url": "https://api.github.com/users/MOZGIII/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-04T06:43:27Z", "updated_at": "2020-09-16T20:14:29Z", "closed_at": "2020-09-16T19:53:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/87", "html_url": "https://github.com/metrics-rs/metrics/pull/87", "diff_url": "https://github.com/metrics-rs/metrics/pull/87.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/87.patch", "merged_at": "2020-09-16T19:53:01Z"}, "body": "This PR adds support for using values defined via the `tracing::span!` macro as labels in the metrics crate.\r\n\r\nIt builds upon the `refactor/metrics-v2` branch (`metrics` `0.13` series).\r\n\r\nCloses #70\r\nCloses #89\r\n\r\n---\r\n\r\n### Current status\r\n\r\n- discussion is ongoing at https://discord.gg/RqTk6bq;\r\n- PoC with a workaround for callsite optimization is implemented;\r\n- API switched to use `Key` (a container `KeyData`) instead of `Identifier` to allow proper registry swap and enable decoupling required for altering the `Key` at runtime (at `Layer`s);\r\n- `Registry` has been reimplemented to better fit the new `Recorder` API;\r\n- simple and extensible label filtering is implemented;\r\n- ~review in progress~ merged.\r\n\r\n### To do\r\n\r\n- [x] get approval on the design\r\n- [x] uncover edge cases\r\n- [x] improve the UX\r\n  - [x] dynamic label filtering\r\n  - ~explicit definitions of the allowed dynamic labels list at the macros~\r\n- [x] optimize `Registry` API and impl for the new operation mode\r\n- [x] add proper test coverage\r\n- [x] add proper docs\r\n- [x] bench the macros\r\n- [x] bench the `Registry`", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/87/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/87/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/82", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/82/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/82/events", "html_url": "https://github.com/metrics-rs/metrics/pull/82", "id": 665642894, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU2NjU1NzQ0", "number": 82, "title": "Update README.md", "user": {"login": "rodrigopandini", "id": 641525, "node_id": "MDQ6VXNlcjY0MTUyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/641525?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rodrigopandini", "html_url": "https://github.com/rodrigopandini", "followers_url": "https://api.github.com/users/rodrigopandini/followers", "following_url": "https://api.github.com/users/rodrigopandini/following{/other_user}", "gists_url": "https://api.github.com/users/rodrigopandini/gists{/gist_id}", "starred_url": "https://api.github.com/users/rodrigopandini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rodrigopandini/subscriptions", "organizations_url": "https://api.github.com/users/rodrigopandini/orgs", "repos_url": "https://api.github.com/users/rodrigopandini/repos", "events_url": "https://api.github.com/users/rodrigopandini/events{/privacy}", "received_events_url": "https://api.github.com/users/rodrigopandini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-25T19:35:01Z", "updated_at": "2020-07-26T18:34:04Z", "closed_at": "2020-07-26T18:33:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/82", "html_url": "https://github.com/metrics-rs/metrics/pull/82", "diff_url": "https://github.com/metrics-rs/metrics/pull/82.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/82.patch", "merged_at": "2020-07-26T18:33:52Z"}, "body": "Fix typo.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/82/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/82/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/80", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/80/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/80/events", "html_url": "https://github.com/metrics-rs/metrics/pull/80", "id": 661322492, "node_id": "MDExOlB1bGxSZXF1ZXN0NDUzMDA3NjAz", "number": 80, "title": "refactor: next-generation metrics", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354009486, "node_id": "MDU6TGFiZWwyMzU0MDA5NDg2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-complex", "name": "E-complex", "color": "fbca04", "default": false, "description": "Effort: complex."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-20T03:37:49Z", "updated_at": "2021-01-28T14:49:16Z", "closed_at": "2020-09-27T02:26:40Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/80", "html_url": "https://github.com/metrics-rs/metrics/pull/80", "diff_url": "https://github.com/metrics-rs/metrics/pull/80.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/80.patch", "merged_at": "2020-09-27T02:26:40Z"}, "body": "This PR represents the next generation of the `metrics` ecosystem, with a number of significant changes:\r\n\r\n<list changes here when laptop battery isn't about to die>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/80/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/80/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/79", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/79/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/79/events", "html_url": "https://github.com/metrics-rs/metrics/pull/79", "id": 660183872, "node_id": "MDExOlB1bGxSZXF1ZXN0NDUxOTYyNjUz", "number": 79, "title": "Add atomic_shim to support platforms without 64-bit atomics", "user": {"login": "nazar554", "id": 12029825, "node_id": "MDQ6VXNlcjEyMDI5ODI1", "avatar_url": "https://avatars.githubusercontent.com/u/12029825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nazar554", "html_url": "https://github.com/nazar554", "followers_url": "https://api.github.com/users/nazar554/followers", "following_url": "https://api.github.com/users/nazar554/following{/other_user}", "gists_url": "https://api.github.com/users/nazar554/gists{/gist_id}", "starred_url": "https://api.github.com/users/nazar554/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nazar554/subscriptions", "organizations_url": "https://api.github.com/users/nazar554/orgs", "repos_url": "https://api.github.com/users/nazar554/repos", "events_url": "https://api.github.com/users/nazar554/events{/privacy}", "received_events_url": "https://api.github.com/users/nazar554/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-18T14:33:30Z", "updated_at": "2020-07-21T11:05:07Z", "closed_at": "2020-07-21T01:39:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/79", "html_url": "https://github.com/metrics-rs/metrics/pull/79", "diff_url": "https://github.com/metrics-rs/metrics/pull/79.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/79.patch", "merged_at": "2020-07-21T01:39:03Z"}, "body": "`atomic-shim` does target detection, so it is using `std::atomic` where possible.\r\nSee https://github.com/metrics-rs/quanta/issues/22 and https://github.com/metrics-rs/quanta/pull/23\r\nThere are no static `AtomicI64/AtomicU64` used so no `ctor` dependency is needed", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/79/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/79/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/74", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/74/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/74/events", "html_url": "https://github.com/metrics-rs/metrics/pull/74", "id": 631214457, "node_id": "MDExOlB1bGxSZXF1ZXN0NDI4MTQ1NjY5", "number": 74, "title": "Bump dependencies of metrics-runtime", "user": {"login": "akhilles", "id": 4852873, "node_id": "MDQ6VXNlcjQ4NTI4NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4852873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhilles", "html_url": "https://github.com/akhilles", "followers_url": "https://api.github.com/users/akhilles/followers", "following_url": "https://api.github.com/users/akhilles/following{/other_user}", "gists_url": "https://api.github.com/users/akhilles/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhilles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhilles/subscriptions", "organizations_url": "https://api.github.com/users/akhilles/orgs", "repos_url": "https://api.github.com/users/akhilles/repos", "events_url": "https://api.github.com/users/akhilles/events{/privacy}", "received_events_url": "https://api.github.com/users/akhilles/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-04T23:46:10Z", "updated_at": "2020-06-05T12:43:50Z", "closed_at": "2020-06-05T12:39:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/74", "html_url": "https://github.com/metrics-rs/metrics/pull/74", "diff_url": "https://github.com/metrics-rs/metrics/pull/74.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/74.patch", "merged_at": "2020-06-05T12:39:06Z"}, "body": "Closes #57 ", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/74/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/74/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/73", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/73/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/73/events", "html_url": "https://github.com/metrics-rs/metrics/pull/73", "id": 617597398, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE3NDgzNjA1", "number": 73, "title": "Add buckets (histogram) to Prometheus observer", "user": {"login": "jeromegn", "id": 43325, "node_id": "MDQ6VXNlcjQzMzI1", "avatar_url": "https://avatars.githubusercontent.com/u/43325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeromegn", "html_url": "https://github.com/jeromegn", "followers_url": "https://api.github.com/users/jeromegn/followers", "following_url": "https://api.github.com/users/jeromegn/following{/other_user}", "gists_url": "https://api.github.com/users/jeromegn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeromegn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeromegn/subscriptions", "organizations_url": "https://api.github.com/users/jeromegn/orgs", "repos_url": "https://api.github.com/users/jeromegn/repos", "events_url": "https://api.github.com/users/jeromegn/events{/privacy}", "received_events_url": "https://api.github.com/users/jeromegn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-13T16:42:40Z", "updated_at": "2020-05-19T18:44:33Z", "closed_at": "2020-05-19T18:44:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/73", "html_url": "https://github.com/metrics-rs/metrics/pull/73", "diff_url": "https://github.com/metrics-rs/metrics/pull/73.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/73.patch", "merged_at": "2020-05-19T18:44:33Z"}, "body": "The API is awkward, I'm definitely open to suggestions!\r\n\r\nOverriding buckets requires knowing the \"rendered\" name of the metric which is probably not  desirable.\r\n\r\n```rust\r\nlet observer = metrics_observer_prometheus::PrometheusBuilder::new()\r\n    .set_buckets(&[\r\n        5_000_000,     // 5ms\r\n        25_000_000,    // 25ms\r\n        50_000_000,    // 50ms\r\n        100_000_000,   // 100ms\r\n        200_000_000,   // 200ms\r\n        1_000_000_000, // 1s\r\n    ])\r\n    .set_buckets_for_metric(\r\n        \"my_sometimes_fast_metric\",\r\n        &[\r\n            1_000_000,   // 1ms\r\n            5_000_000,   // 5ms\r\n            25_000_000,  // 25ms\r\n            50_000_000,  // 50ms\r\n            100_000_000, // 100ms\r\n            200_000_000, // 200ms\r\n        ],\r\n    )\r\n    .set_buckets_for_metric(\r\n        \"my_usually_fast_metric\",\r\n        &[\r\n            1_000,     // 1us\r\n            20_000,    // 20us\r\n            100_000,   // 100us\r\n            1_000_000, // 1ms\r\n            5_000_000, // 5ms\r\n        ],\r\n    );\r\n```", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/73/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/73/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]