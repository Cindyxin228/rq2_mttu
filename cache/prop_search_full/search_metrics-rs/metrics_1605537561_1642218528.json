[{"url": "https://api.github.com/repos/metrics-rs/metrics/issues/264", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/264/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/264/events", "html_url": "https://github.com/metrics-rs/metrics/pull/264", "id": 1093928610, "node_id": "PR_kwDOCo2QLc4wifuL", "number": 264, "title": "metrics-exporter-prometheus: fix recent metrics being removed by idle timeout logic", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2755168206, "node_id": "MDU6TGFiZWwyNzU1MTY4MjA2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-regression", "name": "T-regression", "color": "0052cc", "default": false, "description": "Type: regression."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-05T02:54:06Z", "updated_at": "2022-01-05T03:20:50Z", "closed_at": "2022-01-05T03:20:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/264", "html_url": "https://github.com/metrics-rs/metrics/pull/264", "diff_url": "https://github.com/metrics-rs/metrics/pull/264.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/264.patch", "merged_at": "2022-01-05T03:20:47Z"}, "body": "In #240, we switched over to a new trait, `Primitive`, in order to drive the behavior of `Registry`.  We use this in the Prometheus exporter to apply generational semantics to metric updates, which powers recency and idle timeout behavior.\r\n\r\nWhen we wrote the code, we inadvertently created metric handles which wrapped the inner atomic itself, instead of wrapping the `Generational<T>` wrapper.  Without proxying updates through `Generational`, we never update the generation.  This leads to idle timeout logic being broken.  Woops.\r\n\r\nThe actual change to fix it is simple: clone the `Generational<T>`, not the `T`.  We've also added a test that asserts that recent metrics live past the idle timeout based off their initial creation time.\r\n\r\nFixes #263.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/264/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/262", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/262/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/262/events", "html_url": "https://github.com/metrics-rs/metrics/pull/262", "id": 1093602237, "node_id": "PR_kwDOCo2QLc4whcad", "number": 262, "title": "metrics-macros: allow constants for label keys", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-04T17:30:35Z", "updated_at": "2022-01-04T17:53:58Z", "closed_at": "2022-01-04T17:53:55Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/262", "html_url": "https://github.com/metrics-rs/metrics/pull/262", "diff_url": "https://github.com/metrics-rs/metrics/pull/262.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/262.patch", "merged_at": "2022-01-04T17:53:55Z"}, "body": "This PR allows constants to be used for label keys, which allows users to deduplicate common label keys, as well allows centralization of those constants to allow for easier refactoring, etc.\r\n\r\nCloses #97.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/262/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/261", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/261/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/261/events", "html_url": "https://github.com/metrics-rs/metrics/pull/261", "id": 1092793621, "node_id": "PR_kwDOCo2QLc4we0w6", "number": 261, "title": "metrics-exporter-prometheus: histograms are now correctly removed when idle timeout is exceeded", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}, {"id": 2755168206, "node_id": "MDU6TGFiZWwyNzU1MTY4MjA2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-regression", "name": "T-regression", "color": "0052cc", "default": false, "description": "Type: regression."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-03T20:21:59Z", "updated_at": "2022-01-03T21:37:19Z", "closed_at": "2022-01-03T21:37:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/261", "html_url": "https://github.com/metrics-rs/metrics/pull/261", "diff_url": "https://github.com/metrics-rs/metrics/pull/261.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/261.patch", "merged_at": "2022-01-03T21:37:16Z"}, "body": "An issue was reported in #228 where histograms did not appear to be removed after they exceeded the configured idle timeout.\r\n\r\nThere were two bugs, one in the version the user reproduced the issue with and one in the current version of the code:\r\n- used wrong method to check for/delete idle histograms (current version)\r\n- did not remove aggregated distributions for histograms that were reported as inactive (both versions)\r\n\r\nPrimarily, the issue centered around the fact that the exporter aggregated histograms (distributions) internally every time something wants to render the metrics.  This provided bounded memory usage over time for a given metric, as well as tracking aggregated histograms/summaries in the way that Prometheus expects.\r\n\r\nHowever, even though we would correctly delete a histogram from the registry when we detected that it had been idle too long, we did not delete the internally aggregated version that the exporter also held... and since rendering works off of the internally aggregated data, it essentially ended up as the histogram continuing to be rendered/reported.\r\n\r\nFixes #228.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/261/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/260", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/260/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/260/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/260/events", "html_url": "https://github.com/metrics-rs/metrics/pull/260", "id": 1092731917, "node_id": "PR_kwDOCo2QLc4wen1k", "number": 260, "title": "Massive rework to make metric description more succinct.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354009486, "node_id": "MDU6TGFiZWwyMzU0MDA5NDg2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-complex", "name": "E-complex", "color": "fbca04", "default": false, "description": "Effort: complex."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}, {"id": 2354031456, "node_id": "MDU6TGFiZWwyMzU0MDMxNDU2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-refactor", "name": "T-refactor", "color": "0052cc", "default": false, "description": "Type: refactor."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-03T18:40:42Z", "updated_at": "2022-01-03T19:07:14Z", "closed_at": "2022-01-03T19:07:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/260", "html_url": "https://github.com/metrics-rs/metrics/pull/260", "diff_url": "https://github.com/metrics-rs/metrics/pull/260.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/260.patch", "merged_at": "2022-01-03T19:07:10Z"}, "body": "This PR is meant to address #244, but deals with a more wide-sweeping change to make metric description more succinct in practice.\r\n\r\nAs part of the work in #239 to support metric handles, we renamed the previous `register_*` macros to `describe_*`, to reflect a way to simply describe a metric, without registering it in the backend.  Metadata only, essentially.\r\n\r\nNow that those macros exist, the concept of using them to register a metric no longer exists, and so having an optional description doesn't make much sense.  As such, the macros now require a description to be passed, and we've tweaked the methods on `Recorder` to reflect this.  Units are still optional.\r\n\r\nAdditionally, we no longer support passing a full metric key (name + labels) as, again, these macros no longer need to support registering a specific metric in the backend, and defining a description for a specific name/labels combination is not something that comes up in practice.\r\n\r\nCloses #244.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/260/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/259", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/259/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/259/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/259/events", "html_url": "https://github.com/metrics-rs/metrics/pull/259", "id": 1088130806, "node_id": "PR_kwDOCo2QLc4wQEJt", "number": 259, "title": "chore: massive overhaul of prom exporter feature flags + builder + docs", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-24T04:02:37Z", "updated_at": "2021-12-24T20:13:17Z", "closed_at": "2021-12-24T20:13:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/259", "html_url": "https://github.com/metrics-rs/metrics/pull/259", "diff_url": "https://github.com/metrics-rs/metrics/pull/259.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/259.patch", "merged_at": "2021-12-24T20:13:14Z"}, "body": "This PR started off trying to address #223 but morphed into a bit more:\r\n- we did make the feature flag situation better (better names, flags show in docs.rs)\r\n- builder methods are named more appropriately for build only vs build/install\r\n- module-level docs!\r\n- cleaned up a bunch of code in various sections (although we made up for it, line count-wise, with all the `#[cfg]` statements we've added)\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>\r\n\r\nFixes #223.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/259/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/258", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/258/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/258/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/258/events", "html_url": "https://github.com/metrics-rs/metrics/pull/258", "id": 1087298773, "node_id": "PR_kwDOCo2QLc4wNWT2", "number": 258, "title": "metrics-exporter-prometheus: fix sanitization across the board", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-23T01:29:47Z", "updated_at": "2021-12-23T01:52:42Z", "closed_at": "2021-12-23T01:52:22Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/258", "html_url": "https://github.com/metrics-rs/metrics/pull/258", "diff_url": "https://github.com/metrics-rs/metrics/pull/258.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/258.patch", "merged_at": "2021-12-23T01:52:22Z"}, "body": "This PR ensures that metric names, label keys and values, and metric descriptions are all correctly sanitized according to the Prometheus [data model](https://prometheus.io/docs/concepts/data_model/) and [exposition format](https://github.com/prometheus/docs/blob/main/content/docs/instrumenting/exposition_formats.md).\r\n\r\nAdditionally, we fixed a bug where metric descriptions were stored mapped to the original metric name, but searched for by the sanitized name, leading to not rendering the help text for metrics whose names were changed when sanitized.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>\r\n\r\nFixes #248.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/258/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/257", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/257/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/257/events", "html_url": "https://github.com/metrics-rs/metrics/pull/257", "id": 1087087498, "node_id": "PR_kwDOCo2QLc4wMqdC", "number": 257, "title": "chore: some release helper tooling + CHANGELOG updates galore", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-22T18:45:41Z", "updated_at": "2021-12-22T19:42:20Z", "closed_at": "2021-12-22T19:42:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/257", "html_url": "https://github.com/metrics-rs/metrics/pull/257", "diff_url": "https://github.com/metrics-rs/metrics/pull/257.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/257.patch", "merged_at": "2021-12-22T19:42:18Z"}, "body": "This PR started out as better/any tooling for trying to better sniff out changes to crates since their last released version, but turned into also updating changelogs and dependencies and fixing spelling errors and updating docs and what not.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/257/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/256", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/256/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/256/events", "html_url": "https://github.com/metrics-rs/metrics/pull/256", "id": 1085374672, "node_id": "PR_kwDOCo2QLc4wG_tL", "number": 256, "title": "chore: dependency cleanup", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-21T02:35:04Z", "updated_at": "2021-12-22T00:17:00Z", "closed_at": "2021-12-22T00:16:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/256", "html_url": "https://github.com/metrics-rs/metrics/pull/256", "diff_url": "https://github.com/metrics-rs/metrics/pull/256.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/256.patch", "merged_at": "2021-12-22T00:16:52Z"}, "body": "Trying to meaningfully shrink down the number of dependencies/features required to exactly what a given crate, or crate's feature, needs.\r\n\r\nThis has involved rewriting some tests to avoid feature-flagged self-dependencies, but I think it's for the better, all things considered.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/256/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/251", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/251/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/251/events", "html_url": "https://github.com/metrics-rs/metrics/pull/251", "id": 1077189222, "node_id": "PR_kwDOCo2QLc4vsjqC", "number": 251, "title": "metrics-exporter-prometheus: Single runtime install", "user": {"login": "lilymara-onesignal", "id": 54288692, "node_id": "MDQ6VXNlcjU0Mjg4Njky", "avatar_url": "https://avatars.githubusercontent.com/u/54288692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lilymara-onesignal", "html_url": "https://github.com/lilymara-onesignal", "followers_url": "https://api.github.com/users/lilymara-onesignal/followers", "following_url": "https://api.github.com/users/lilymara-onesignal/following{/other_user}", "gists_url": "https://api.github.com/users/lilymara-onesignal/gists{/gist_id}", "starred_url": "https://api.github.com/users/lilymara-onesignal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lilymara-onesignal/subscriptions", "organizations_url": "https://api.github.com/users/lilymara-onesignal/orgs", "repos_url": "https://api.github.com/users/lilymara-onesignal/repos", "events_url": "https://api.github.com/users/lilymara-onesignal/events{/privacy}", "received_events_url": "https://api.github.com/users/lilymara-onesignal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-12-10T20:07:18Z", "updated_at": "2022-01-26T21:26:20Z", "closed_at": "2021-12-13T22:09:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/251", "html_url": "https://github.com/metrics-rs/metrics/pull/251", "diff_url": "https://github.com/metrics-rs/metrics/pull/251.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/251.patch", "merged_at": "2021-12-13T22:09:26Z"}, "body": "Allow exporter to be installed on an existing tokio runtime when called form\r\nwithin that runtime.\r\n\r\nFixes #250 ", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/251/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/249", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/249/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/249/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/249/events", "html_url": "https://github.com/metrics-rs/metrics/pull/249", "id": 1072633569, "node_id": "PR_kwDOCo2QLc4vdpvE", "number": 249, "title": "Update tracing subscriber to 0.3", "user": {"login": "jszwedko", "id": 316880, "node_id": "MDQ6VXNlcjMxNjg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jszwedko", "html_url": "https://github.com/jszwedko", "followers_url": "https://api.github.com/users/jszwedko/followers", "following_url": "https://api.github.com/users/jszwedko/following{/other_user}", "gists_url": "https://api.github.com/users/jszwedko/gists{/gist_id}", "starred_url": "https://api.github.com/users/jszwedko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jszwedko/subscriptions", "organizations_url": "https://api.github.com/users/jszwedko/orgs", "repos_url": "https://api.github.com/users/jszwedko/repos", "events_url": "https://api.github.com/users/jszwedko/events{/privacy}", "received_events_url": "https://api.github.com/users/jszwedko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-06T21:26:26Z", "updated_at": "2021-12-20T16:19:47Z", "closed_at": "2021-12-11T17:39:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/249", "html_url": "https://github.com/metrics-rs/metrics/pull/249", "diff_url": "https://github.com/metrics-rs/metrics/pull/249.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/249.patch", "merged_at": "2021-12-11T17:39:32Z"}, "body": "Replaces https://github.com/metrics-rs/metrics/pull/237 . Includes the commit from there plus using the renamed `Layer` method `on_new_span`.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/249/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/247", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/247/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/247/events", "html_url": "https://github.com/metrics-rs/metrics/pull/247", "id": 1059390992, "node_id": "PR_kwDOCo2QLc4u0EZ4", "number": 247, "title": "drop `proc-macro-hack` dep", "user": {"login": "vilgotf", "id": 26655508, "node_id": "MDQ6VXNlcjI2NjU1NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/26655508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vilgotf", "html_url": "https://github.com/vilgotf", "followers_url": "https://api.github.com/users/vilgotf/followers", "following_url": "https://api.github.com/users/vilgotf/following{/other_user}", "gists_url": "https://api.github.com/users/vilgotf/gists{/gist_id}", "starred_url": "https://api.github.com/users/vilgotf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vilgotf/subscriptions", "organizations_url": "https://api.github.com/users/vilgotf/orgs", "repos_url": "https://api.github.com/users/vilgotf/repos", "events_url": "https://api.github.com/users/vilgotf/events{/privacy}", "received_events_url": "https://api.github.com/users/vilgotf/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-21T14:14:20Z", "updated_at": "2021-12-16T21:39:01Z", "closed_at": "2021-12-09T15:51:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/247", "html_url": "https://github.com/metrics-rs/metrics/pull/247", "diff_url": "https://github.com/metrics-rs/metrics/pull/247.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/247.patch", "merged_at": "2021-12-09T15:51:05Z"}, "body": "This dependency is unused", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/247/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/242", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/242/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/242/events", "html_url": "https://github.com/metrics-rs/metrics/pull/242", "id": 1042608261, "node_id": "PR_kwDOCo2QLc4t_qnY", "number": 242, "title": "metrics-tracing-context: remove unnecessary feature flags on deps", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-02T17:02:24Z", "updated_at": "2021-11-02T17:27:25Z", "closed_at": "2021-11-02T17:27:22Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/242", "html_url": "https://github.com/metrics-rs/metrics/pull/242", "diff_url": "https://github.com/metrics-rs/metrics/pull/242.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/242.patch", "merged_at": "2021-11-02T17:27:22Z"}, "body": "Essentially, `metrics-tracing-context` didn't constrain its dependencies enough in terms of feature flags, so we pull in a lot of extra stuff.  This affects downstream consumers of the crate, polluting _their_ dependency graph.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/242/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/240", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/240/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/240/events", "html_url": "https://github.com/metrics-rs/metrics/pull/240", "id": 1040631287, "node_id": "PR_kwDOCo2QLc4t5h9g", "number": 240, "title": "experimental: metric handles", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-01T00:38:42Z", "updated_at": "2021-12-18T22:36:47Z", "closed_at": "2021-12-18T22:36:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/240", "html_url": "https://github.com/metrics-rs/metrics/pull/240", "diff_url": "https://github.com/metrics-rs/metrics/pull/240.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/240.patch", "merged_at": "2021-12-18T22:36:42Z"}, "body": "### Context\r\nPrior to the current design, there used to be a crate called `metrics-runtime` which encapsulated essentially all of the functionality that we expose today via `metrics` and associated exporters.  Specifically, it provided a mechanism to get a \"handle\" to a metric: instead of blindly using the macros, you could hold a tangible object that gave you access to increment counters or set gauges, and so on.\r\n\r\nThis provided a meaningful performance boost when you could deal with the limitations of that -- can't have dynamic labels -- but was ultimately a little too coupled for my taste, and I wasn't yet a good enough developer to find a suitably decoupled design to continue providing it.\r\n\r\n### Present day\r\nThis PR explores a design that moves back towards what `metrics-runtime` provided -- metric handles -- while fitting into the current ecosystem in such a way that the handles can be decoupled and backed by an arbitrary implementation.\r\n\r\nThis shows up in a few ways:\r\n- `Recorder` now only hands back handles, it does not deal with updating a metric at all\r\n- there are three new types (`Counter`, `Gauge`, and `Histogram`) with concrete sets of methods specific to the metric\r\n- each of those types can be backed by an arbitrary value that implements a trait that fulfills the interface of the metric i.e. the `GaugeFn` trait requires a way to increment, decrement, or set the absolute value of the metric\r\n- we have new macros for defining a metric -- description/unit -- called `describe_*!` while `register_*` now create metric handles for a given metrics\r\n\r\nCrucially, the macros for updating a metric have not changed, so this change is backwards-compatible for many use cases where metrics were never being \"registered\".  For use cases where metrics were \"registered\" ahead of time, they'll now have to change to \"describing\" those metrics instead.\r\n\r\nFor static metrics -- no dynamic labels -- this represents a significant performance boost opportunity when the handles can be stored or held.  In cases where the macros are still used normally i.e. `counter!(...)`, there will be a slight performance decrease as we're creating a new handle just to perform the operation, as well looking up the metric in the registry.  There's a pathway to store the handle in a local static so that we can reduce the overhead to simply an atomic load, when compared to holding the handle and updating it directly.\r\n\r\nFor dynamic metrics, the performance should be on par.\r\n\r\n### Drawbacks\r\nIn some cases, using handles will provide a reduction/regression in behavior.  Take the `metrics-tracing-context` layer, for example: it grabs the fields of the current `tracing` span, if there is one, and augments the labels of the metric being emitted using those fields.\r\n\r\nWhen using metric handles, those fields would only be grabbed when the handle is created.  In cases where the tracing fields represented something dynamic, like the user ID for a given web request, or something else of that nature, the ability to implicitly capture that would be lost if the metric handle was held as a field on a struct that was created before the point where the metric was expected to be updated.\r\n\r\nIn most cases, stateless layers -- make all metrics start with a specific prefix, or don't emit metrics whose name matches a list of patterns, etc -- will experience no difference in behavior.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/240/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/231", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/231/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/231/events", "html_url": "https://github.com/metrics-rs/metrics/pull/231", "id": 995417071, "node_id": "MDExOlB1bGxSZXF1ZXN0NzMzMTgxNjA2", "number": 231, "title": "Update atomic-shim requirement from 0.1 to 0.2", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-09-13T23:06:14Z", "updated_at": "2021-12-13T22:10:21Z", "closed_at": "2021-12-12T18:23:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/231", "html_url": "https://github.com/metrics-rs/metrics/pull/231", "diff_url": "https://github.com/metrics-rs/metrics/pull/231.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/231.patch", "merged_at": "2021-12-12T18:23:59Z"}, "body": "Updates the requirements on [atomic-shim](https://github.com/bltavares/atomic-shim) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/bltavares/atomic-shim/blob/master/CHANGELOG.md\">atomic-shim's changelog</a>.</em></p>\n<blockquote>\n<h2>2021-09-12, Version v0.2.0</h2>\n<h3>Commits</h3>\n<ul>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/b8ae60b36902dac3c40b6afd3724aac9d5691bca\"><code>b8ae60b369</code></a>] (cargo-release) version 0.2.0 (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/740c4806fbae69e6dbd2919103f89768d5dc1acb\"><code>740c4806fb</code></a>] Add a changelog (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/7bb15a3acfd879a68a3c24124e911546691b4d33\"><code>7bb15a3acf</code></a>] Merge pull request <a href=\"https://github-redirect.dependabot.com/bltavares/atomic-shim/issues/1\">#1</a> from paolobarbolini/master (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/719ebb7d433b68df09a037da3bd4fd590dfd85d4\"><code>719ebb7d43</code></a>] Bump crossbeam and switch to crossbeam-utils (Paolo Barbolini)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/f9e277e90071213520deafb2f35d523249d1cec9\"><code>f9e277e900</code></a>] Fix urls (Bruno Tavares)</li>\n</ul>\n<h3>Stats</h3>\n<pre lang=\"diff\"><code> CHANGELOG.md | 27 +++++++++++++++++++++++++++\n Cargo.toml   | 12 ++++++------\n README.md    |  4 ++--\n src/shim.rs  |  2 +-\n 4 files changed, 36 insertions(+), 9 deletions(-)\n</code></pre>\n<h2>2020-05-20, Version 0.1.0</h2>\n<h3>Commits</h3>\n<ul>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/3a0fe4e1ec508cde094579a5c84f174d995c5bdb\"><code>3a0fe4e1ec</code></a>] Link things to their places (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/ed24aca2716d21bbb39b2eec7ecab45bd61bf530\"><code>ed24aca271</code></a>] Fix ci and add badge status (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/429b1558e7b712c801ce59d337db403ccbd24a06\"><code>429b1558e7</code></a>] Fix cargo clippy on ci (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/00e1c69a718b9c34fc3b493cec872659e97603d8\"><code>00e1c69a71</code></a>] Prepare for publication (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/dcdc35dd1b3bc345fb57ceab4c40b883565e5a7b\"><code>dcdc35dd1b</code></a>] Rename checks.yml to main.yml (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/70744ec58a4edd6c619b0c8ba8457b5bcbeef7b4\"><code>70744ec58a</code></a>] Document test and fix lints (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/91584c3174c68d45884312383d338e7090817135\"><code>91584c3174</code></a>] Document and setup (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/74eb0ec996b9bbee842c187b82e9279d370b606e\"><code>74eb0ec996</code></a>] Hold lock during operations (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/66e70491256997303747f56cbee9c06b44efc58d\"><code>66e7049125</code></a>] Initial commit (Bruno Tavares)</li>\n</ul>\n<h3>Stats</h3>\n<pre lang=\"diff\"><code> .github/workflows/cross_compile.yml |  29 +-\n .github/workflows/main.yml          |  80 ++++-\n .gitignore                          |   2 +-\n Cargo.toml                          |  23 +-\n LICENSE-APACHE                      | 201 +++++++++-\n LICENSE-MIT                         |  21 +-\n README.md                           | 105 +++++-\n src/lib.rs                          |  62 +++-\n src/shim.rs                         | 828 +++++++++++++++++++++++++++++++++++++-\n 9 files changed, 1351 insertions(+)\n</code></pre>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/bltavares/atomic-shim/commit/b8ae60b36902dac3c40b6afd3724aac9d5691bca\"><code>b8ae60b</code></a> (cargo-release) version 0.2.0</li>\n<li><a href=\"https://github.com/bltavares/atomic-shim/commit/740c4806fbae69e6dbd2919103f89768d5dc1acb\"><code>740c480</code></a> Add a changelog</li>\n<li><a href=\"https://github.com/bltavares/atomic-shim/commit/7bb15a3acfd879a68a3c24124e911546691b4d33\"><code>7bb15a3</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/bltavares/atomic-shim/issues/1\">#1</a> from paolobarbolini/master</li>\n<li><a href=\"https://github.com/bltavares/atomic-shim/commit/719ebb7d433b68df09a037da3bd4fd590dfd85d4\"><code>719ebb7</code></a> Bump crossbeam and switch to crossbeam-utils</li>\n<li><a href=\"https://github.com/bltavares/atomic-shim/commit/f9e277e90071213520deafb2f35d523249d1cec9\"><code>f9e277e</code></a> Fix urls</li>\n<li>See full diff in <a href=\"https://github.com/bltavares/atomic-shim/compare/0.1.0...v0.2.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/224", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/224/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/224/events", "html_url": "https://github.com/metrics-rs/metrics/pull/224", "id": 947914346, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkyODI5MTIx", "number": 224, "title": "Improve performance of `metrics-tracing-context`.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-07-19T18:26:58Z", "updated_at": "2021-07-19T18:48:46Z", "closed_at": "2021-07-19T18:48:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/224", "html_url": "https://github.com/metrics-rs/metrics/pull/224", "diff_url": "https://github.com/metrics-rs/metrics/pull/224.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/224.patch", "merged_at": "2021-07-19T18:48:41Z"}, "body": "Compared to the rest of the utilities in the `metrics` ecosystem, the `metrics`/`tracing` integration -- `metrics-tracing-context` -- is comparatively slow.  As we rebuild `Key`s on every metric emission, and shuffle around vectors of strings and so on, we generally perform a lot of extra work in the critical path of emitting metrics that readily shows up in profiling.\r\n\r\nAs a practical example, the usage of `metrics`, `tracing`, and `metrics-tracing-context` within a popular open-source observability project, [Vector](https://vector.dev), represents nearly 40-50% of all computation on certain workloads.  This is an untenable position for any project that is performance-conscious and goes against one of the core goals of `metrics` to be a zero-cost abstraction.\r\n\r\nIn this PR, we've significantly altered how the integration layer accomplishes its job.  In no specific order:\r\n- span fields are now denormalized amongst spans to avoid traversing span stacks every time we want to access them\r\n- the underlying field storage is now pooled so it can be re-used over time\r\n- we've reworked the way we enter the `tracing` codepath to avoid needlessly generating objects which involve expensive computation in their `Drop` implementations\r\n\r\nAs I work on Vector officially, we'll demonstrate the performance benefits of this PR using it as an example: with these changes, we see a roughly 17% improvement in performance on a representative workload that emits roughly 250K metrics/second, purely from reducing the overhead of emitting those metrics.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/221", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/221/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/221/events", "html_url": "https://github.com/metrics-rs/metrics/pull/221", "id": 944858434, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkwMjc3NjU2", "number": 221, "title": "Update env_logger requirement from 0.8 to 0.9", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-07-14T23:03:49Z", "updated_at": "2021-07-15T13:43:44Z", "closed_at": "2021-07-15T13:43:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/221", "html_url": "https://github.com/metrics-rs/metrics/pull/221", "diff_url": "https://github.com/metrics-rs/metrics/pull/221.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/221.patch", "merged_at": "2021-07-15T13:43:41Z"}, "body": "Updates the requirements on [env_logger](https://github.com/env-logger-rs/env_logger) to permit the latest version.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/env-logger-rs/env_logger/releases\">env_logger's releases</a>.</em></p>\n<blockquote>\n<h2>v0.9.0</h2>\n<p>Breaking Changes:</p>\n<ul>\n<li>Default message format now prints the target instead of the module</li>\n</ul>\n<p>Improvements:</p>\n<ul>\n<li>Added a method to print the module instead of the target</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/04856ac38baf422baebb40729cf51127a75b82ed\"><code>04856ac</code></a> bump version to 0.9.0</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/e4744ff41a2e249bd94511c4689b4dbaa915841f\"><code>e4744ff</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/env-logger-rs/env_logger/issues/209\">#209</a> from gtsiam/main</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/c5fa7a2c2d9ad3f5d2da0581ede4ab2e8944e104\"><code>c5fa7a2</code></a> refactor: fix clippy warnings</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/34574dfa13e2c81bab007715c2f6faa4b94bb67f\"><code>34574df</code></a> Update link to examples</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/18884971d4eb1c268d61a4c37747de692bdd7124\"><code>1888497</code></a> Clarified documentation about log filtering</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/365ffafe45f615f65b88d67834aab16b132d9ecc\"><code>365ffaf</code></a> Show target instead of module path by default</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/d2998a6ec685051b97f5b5c97427a61593bc6581\"><code>d2998a6</code></a> Add option to print log target</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/13cafce572362582f57964eae6cb4a41f52fd04a\"><code>13cafce</code></a> Bump version to 0.8.4</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/090081156127dcd896b8b00837549cb4008c43d0\"><code>0900811</code></a> Ensure unique directive names when building filters</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/1a8379a533f043e623d5eb4a898d171927ad61c1\"><code>1a8379a</code></a> Allow writing logs to a custom output target (Target::Pipe)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/env-logger-rs/env_logger/compare/v0.8.0...v0.9.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/221/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/217", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/217/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/217/events", "html_url": "https://github.com/metrics-rs/metrics/pull/217", "id": 937663393, "node_id": "MDExOlB1bGxSZXF1ZXN0Njg0MTc4OTEx", "number": 217, "title": "feat: add support for prometheus push gateway", "user": {"login": "NOBLES5E", "id": 18649508, "node_id": "MDQ6VXNlcjE4NjQ5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/18649508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NOBLES5E", "html_url": "https://github.com/NOBLES5E", "followers_url": "https://api.github.com/users/NOBLES5E/followers", "following_url": "https://api.github.com/users/NOBLES5E/following{/other_user}", "gists_url": "https://api.github.com/users/NOBLES5E/gists{/gist_id}", "starred_url": "https://api.github.com/users/NOBLES5E/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NOBLES5E/subscriptions", "organizations_url": "https://api.github.com/users/NOBLES5E/orgs", "repos_url": "https://api.github.com/users/NOBLES5E/repos", "events_url": "https://api.github.com/users/NOBLES5E/events{/privacy}", "received_events_url": "https://api.github.com/users/NOBLES5E/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-07-06T08:46:30Z", "updated_at": "2021-07-15T13:41:18Z", "closed_at": "2021-07-15T13:30:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/217", "html_url": "https://github.com/metrics-rs/metrics/pull/217", "diff_url": "https://github.com/metrics-rs/metrics/pull/217.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/217.patch", "merged_at": "2021-07-15T13:30:21Z"}, "body": "close https://github.com/metrics-rs/metrics/issues/215", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/217/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/216", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/216/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/216/events", "html_url": "https://github.com/metrics-rs/metrics/pull/216", "id": 932061194, "node_id": "MDExOlB1bGxSZXF1ZXN0Njc5NDYyODI4", "number": 216, "title": "Update mockall requirement from 0.9 to 0.10", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-28T23:06:59Z", "updated_at": "2021-07-15T13:44:19Z", "closed_at": "2021-07-15T13:44:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/216", "html_url": "https://github.com/metrics-rs/metrics/pull/216", "diff_url": "https://github.com/metrics-rs/metrics/pull/216.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/216.patch", "merged_at": "2021-07-15T13:44:15Z"}, "body": "Updates the requirements on [mockall](https://github.com/asomers/mockall) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/asomers/mockall/blob/master/CHANGELOG.md\">mockall's changelog</a>.</em></p>\n<blockquote>\n<h2>[ 0.10.0 ] - 2021-06-27</h2>\n<h3>Added</h3>\n<ul>\n<li>\n<p><code>mock!</code> will now allow both methods and trait impls to be gated with\n<code>#[cfg()]]</code> attributes.  The attributes will be forwarded to all generated\ncode.  This allows for example only mocking certain traits on certain OSes.\n(<a href=\"https://github-redirect.dependabot.com/asomers/mockall/pull/297\">#297</a>)</p>\n</li>\n<li>\n<p>automock will now automatically generate Debug implementations for traits and\nstructs.  mock! will to, if you put <code>#[derive(Debug)]</code> above the struct's\nname.\n(<a href=\"https://github-redirect.dependabot.com/asomers/mockall/pull/289\">#289</a>)</p>\n</li>\n<li>\n<p>Added support for specific impls.  A specific impl is an implementation of a\ntrait on a generic struct with specified generic parameters.  For example,\n<code>impl Foo for Bar&lt;i32&gt;</code> as opposed to <code>impl&lt;T&gt; Foo for Bar&lt;T&gt;</code>.  Mockall does\nnot yet support generic methods in such traits.\n(<a href=\"https://github-redirect.dependabot.com/asomers/mockall/pull/274\">#274</a>)</p>\n</li>\n</ul>\n<h3>Changed</h3>\n<ul>\n<li>Mockall is pickier now about how you mock a trait on a generic struct.\nPreviously you could usually omit the generics.  Now, they're required.\ni.e.,\n<pre lang=\"rust\"><code>mock!{\n    MyStruct&lt;T: Bounds&gt; {...}\n    impl Foo for MyStruct {...}\n}\n</code></pre>\nshould now be written as\n<pre lang=\"rust\"><code>mock!{\n    MyStruct&lt;T: Bounds&gt; {...}\n    impl&lt;T: Bounds&gt; Foo for MyStruct&lt;T&gt; {...}\n}\n</code></pre>\n(<a href=\"https://github-redirect.dependabot.com/asomers/mockall/pull/274\">#274</a>)</li>\n</ul>\n<h3>Fixed</h3>\n<ul>\n<li>Fixed setting simultaneous expectations with different generic types on\ngeneric methods whose generic parameters appear in neither the arguments nor\nthe return type.\n(<a href=\"https://github-redirect.dependabot.com/asomers/mockall/pull/272\">#272</a>)</li>\n</ul>\n<h2>[0.9.1] - 2021-02-13</h2>\n<h3>Added</h3>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/asomers/mockall/commit/d8e2ec3eaf5fcef3c2375f10f7b2f99ac7be9743\"><code>d8e2ec3</code></a> Explicitly specify the path to the serde example</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/75b2bebb9d4be60e721d7b3ea29ece3617fa3cb9\"><code>75b2beb</code></a> (cargo-release) version 0.10.0</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/3228fb786be59d9fb71916a877fab6ff0abef3a8\"><code>3228fb7</code></a> (cargo-release) version 0.10.0</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/543eef9af304ca624f0106b66021f323dbd123e3\"><code>543eef9</code></a> [skip ci] remove &quot;upload-doc&quot; from release.toml</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/50e95a3f7cd714f60f48454ac47c942a8e7957f0\"><code>50e95a3</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/asomers/mockall/issues/297\">#297</a> from asomers/cfg</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/7ff1e038712388267fbdc9b1ac563e326d4f3b29\"><code>7ff1e03</code></a> Allow #[cfg()] attributes on trait impls in mock!</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/8076cd4e37f6c0ffdda3716438fbe4a79a353c76\"><code>8076cd4</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/asomers/mockall/issues/289\">#289</a> from asomers/autodebug</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/5b993d594f05f410fca6162da5cc97c2d93e85f4\"><code>5b993d5</code></a> fix a typo in an error message</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/f367875c5f82cb10dc07578950a167e975d057e1\"><code>f367875</code></a> Automatically generate Debug impls for mock structs</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/066c04489068d75f9205982241a1ed4594031c2c\"><code>066c044</code></a> fix a typo in CHANGELOG</li>\n<li>Additional commits viewable in <a href=\"https://github.com/asomers/mockall/compare/v0.9.0...v0.10.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/216/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/214", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/214/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/214/events", "html_url": "https://github.com/metrics-rs/metrics/pull/214", "id": 926698472, "node_id": "MDExOlB1bGxSZXF1ZXN0Njc0OTY5MzEy", "number": 214, "title": "Switch from t1ha to aHash as the default hasher", "user": {"login": "jtdavey", "id": 86268978, "node_id": "MDQ6VXNlcjg2MjY4OTc4", "avatar_url": "https://avatars.githubusercontent.com/u/86268978?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtdavey", "html_url": "https://github.com/jtdavey", "followers_url": "https://api.github.com/users/jtdavey/followers", "following_url": "https://api.github.com/users/jtdavey/following{/other_user}", "gists_url": "https://api.github.com/users/jtdavey/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtdavey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtdavey/subscriptions", "organizations_url": "https://api.github.com/users/jtdavey/orgs", "repos_url": "https://api.github.com/users/jtdavey/repos", "events_url": "https://api.github.com/users/jtdavey/events{/privacy}", "received_events_url": "https://api.github.com/users/jtdavey/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}, {"id": 2937969289, "node_id": "MDU6TGFiZWwyOTM3OTY5Mjg5", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-security", "name": "T-security", "color": "0052CC", "default": false, "description": "Type: security."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-21T23:51:25Z", "updated_at": "2021-06-23T01:56:07Z", "closed_at": "2021-06-23T01:55:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/214", "html_url": "https://github.com/metrics-rs/metrics/pull/214", "diff_url": "https://github.com/metrics-rs/metrics/pull/214.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/214.patch", "merged_at": "2021-06-23T01:55:56Z"}, "body": "The t1ha crate/hasher causes a global-buffer-overflow when testing under ASAN. This\r\nchange switches the default hash implementation to aHash which has a\r\nsimilar performance approach. The switch to aHash removes the global-buffer-overflow and the tests\r\ncomplete successfully.\r\n\r\nIn general, cargo bench shows performance improvements as high as 31% on\r\nspecific benches.\r\n\r\nThere are 3 regressions and 29 improvements total.\r\n\r\nASAN Error: \r\n```\r\n$ RUSTFLAGS=\"-Z sanitizer=address\" cargo +nightly test --target x86_64-unknown-linux-gnu\r\nwarning: unused import: `NotTracked`\r\n --> metrics-benchmark/src/main.rs:6:40\r\n  |\r\n6 | use metrics_util::{Handle, MetricKind, NotTracked, Registry, Tracked};\r\n  |                                        ^^^^^^^^^^\r\n  |\r\n  = note: `#[warn(unused_imports)]` on by default\r\n\r\nwarning: 1 warning emitted\r\n\r\n    Finished test [unoptimized + debuginfo] target(s) in 0.08s\r\n     Running unittests (target/x86_64-unknown-linux-gnu/debug/deps/metrics-8494627d15b7e631)\r\n\r\nrunning 4 tests\r\n=================================================================\r\n==1972657==ERROR: AddressSanitizer: global-buffer-overflow on address 0x565030342364 at pc 0x5650302053aa bp 0x7f94a8bf7de0 sp 0x7f94a8bf75a8\r\nREAD of size 8 at 0x565030342364 thread T3 (key::tests::tes)\r\n    #0 0x5650302053a9 in __asan_memcpy /rustc/llvm/src/llvm-project/compiler-rt/lib/asan/asan_interceptors_memintrinsics.cpp:22:3\r\n    #1 0x5650302e70f8 in core::intrinsics::copy_nonoverlapping::hefa96bf49f99146f /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/core/src/intrinsics.rs:1861:14\r\n    #2 0x5650302e683b in core::ptr::read::hc4f75bbcc0c6f5b7 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/core/src/ptr/mod.rs:694:9\r\n    #3 0x5650302e9869 in _$LT$t1ha..bits..LittenEndianAligned$LT$T$GT$$u20$as$u20$t1ha..bits..MemoryModel$GT$::fetch::hc2a7ff3e263707b3 /home/jeff/.cargo/registry/src/github.com-1ecc6299db9ec823/t1ha-0.1.0/src/bits.rs:52:9\r\n    #4 0x5650302e9869 in _$LT$t1ha..bits..LittenEndianAligned$LT$T$GT$$u20$as$u20$t1ha..bits..MemoryModel$GT$::tail::h4d06e0c71207275b /home/jeff/.cargo/registry/src/github.com-1ecc6299db9ec823/t1ha-0.1.0/src/bits.rs:61:9\r\n    #5 0x5650302e9869 in t1ha::t1ha1::t1h1_body::h70ca5bde7754e66d /home/jeff/.cargo/registry/src/github.com-1ecc6299db9ec823/t1ha-0.1.0/src/t1ha1.rs:107:38\r\n    #6 0x5650302e9869 in t1ha::t1ha1::t1ha1_le::h33799f67811a964c /home/jeff/.cargo/registry/src/github.com-1ecc6299db9ec823/t1ha-0.1.0/src/t1ha1.rs:30:18\r\n    #7 0x5650302e6ff1 in t1ha::t1ha0::h1912a789ea47854f /home/jeff/.cargo/registry/src/github.com-1ecc6299db9ec823/t1ha-0.1.0/src/lib.rs:146:5\r\n    #8 0x56503029cc2f in _$LT$t1ha..T1haHasher$u20$as$u20$core..hash..Hasher$GT$::write::h9c2e0d93b3705b89 /home/jeff/.cargo/registry/src/github.com-1ecc6299db9ec823/t1ha-0.1.0/src/lib.rs:93:28\r\n    #9 0x56503029de9b in _$LT$metrics..common..KeyHasher$u20$as$u20$core..hash..Hasher$GT$::write::hfa04ecc9115c2706 /home/jeff/code/metrics-github/metrics/src/common.rs:32:9\r\n    #10 0x56503029c9d9 in core::hash::impls::_$LT$impl$u20$core..hash..Hash$u20$for$u20$str$GT$::hash::h4c0d344377df0387 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/core/src/hash/mod.rs:638:13\r\n    #11 0x56503026e403 in _$LT$metrics..cow..Cow$LT$T$GT$$u20$as$u20$core..hash..Hash$GT$::hash::hf0c112dd17012290 /home/jeff/code/metrics-github/metrics/src/cow.rs:122:9\r\n    #12 0x5650302a58de in metrics::key::key_hasher_impl::hcfca68b14c3a082e /home/jeff/code/metrics-github/metrics/src/key.rs:136:5\r\n    #13 0x56503028b22b in metrics::key::generate_key_hash::hf690e4b34460810e /home/jeff/code/metrics-github/metrics/src/key.rs:131:5\r\n    #14 0x56503028ac29 in metrics::key::Key::builder::h26bce8df8039857a /home/jeff/code/metrics-github/metrics/src/key.rs:78:20\r\n    #15 0x5650302a4ff5 in metrics::key::Key::from_name::h643c953bcbf95097 /home/jeff/code/metrics-github/metrics/src/key.rs:30:9\r\n    #16 0x565030245b36 in metrics::key::tests::test_key_eq_and_hash::h5632655e6ef0fe17 /home/jeff/code/metrics-github/metrics/src/key.rs:264:32\r\n    #17 0x5650302876a9 in metrics::key::tests::test_key_eq_and_hash::_$u7b$$u7b$closure$u7d$$u7d$::h02cb1d5f6f7a0804 /home/jeff/code/metrics-github/metrics/src/key.rs:261:5\r\n    #18 0x565030291cff in core::ops::function::FnOnce::call_once::ha8415c1e398bd39b /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/core/src/ops/function.rs:227:5\r\n    #19 0x5650302d1f42 in core::ops::function::FnOnce::call_once::h27530275e622330b /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/core/src/ops/function.rs:227:5\r\n    #20 0x5650302d1f42 in test::__rust_begin_short_backtrace::h44c82cc7d0f4937d /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/test/src/lib.rs:577:5\r\n    #21 0x5650302d09db in _$LT$alloc..boxed..Box$LT$F$C$A$GT$$u20$as$u20$core..ops..function..FnOnce$LT$Args$GT$$GT$::call_once::h20c7d4b3f228af07 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/alloc/src/boxed.rs:1575:9\r\n    #22 0x5650302d09db in _$LT$std..panic..AssertUnwindSafe$LT$F$GT$$u20$as$u20$core..ops..function..FnOnce$LT$$LP$$RP$$GT$$GT$::call_once::hbecd070b87bd6780 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/panic.rs:347:9\r\n    #23 0x5650302d09db in std::panicking::try::do_call::h5b1333e8bd607b9c /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/panicking.rs:401:40\r\n    #24 0x5650302d09db in std::panicking::try::h057fd2077bd509e5 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/panicking.rs:365:19\r\n    #25 0x5650302d09db in std::panic::catch_unwind::h2f57d52ee610e8fc /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/panic.rs:434:14\r\n    #26 0x5650302d09db in test::run_test_in_process::h9a32ca2677c7f812 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/test/src/lib.rs:600:18\r\n    #27 0x5650302d09db in test::run_test::run_test_inner::_$u7b$$u7b$closure$u7d$$u7d$::hb449ab58fec32d94 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/test/src/lib.rs:492:39\r\n    #28 0x5650302aa091 in test::run_test::run_test_inner::_$u7b$$u7b$closure$u7d$$u7d$::h08d55d9698ad3c92 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/test/src/lib.rs:519:37\r\n    #29 0x5650302aa091 in std::sys_common::backtrace::__rust_begin_short_backtrace::h739a7c7a988c8471 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/sys_common/backtrace.rs:125:18\r\n    #30 0x5650302adc97 in std::thread::Builder::spawn_unchecked::_$u7b$$u7b$closure$u7d$$u7d$::_$u7b$$u7b$closure$u7d$$u7d$::hff87f6709b4599d6 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/thread/mod.rs:481:17\r\n    #31 0x5650302adc97 in _$LT$std..panic..AssertUnwindSafe$LT$F$GT$$u20$as$u20$core..ops..function..FnOnce$LT$$LP$$RP$$GT$$GT$::call_once::heedb21d3eb169296 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/panic.rs:347:9\r\n    #32 0x5650302adc97 in std::panicking::try::do_call::h74a412fd6dfdff13 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/panicking.rs:401:40\r\n    #33 0x5650302adc97 in std::panicking::try::h90801934282c25f3 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/panicking.rs:365:19\r\n    #34 0x5650302adc97 in std::panic::catch_unwind::hee752c1088dd1104 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/panic.rs:434:14\r\n    #35 0x5650302adc97 in std::thread::Builder::spawn_unchecked::_$u7b$$u7b$closure$u7d$$u7d$::h36779ab69c69bb28 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/thread/mod.rs:480:30\r\n    #36 0x5650302adc97 in core::ops::function::FnOnce::call_once$u7b$$u7b$vtable.shim$u7d$$u7d$::h3dcc0d5454468332 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/core/src/ops/function.rs:227:5\r\n    #37 0x56503030ea26 in _$LT$alloc..boxed..Box$LT$F$C$A$GT$$u20$as$u20$core..ops..function..FnOnce$LT$Args$GT$$GT$::call_once::hd1f9b751a68dd2ac /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/alloc/src/boxed.rs:1575:9\r\n    #38 0x56503030ea26 in _$LT$alloc..boxed..Box$LT$F$C$A$GT$$u20$as$u20$core..ops..function..FnOnce$LT$Args$GT$$GT$::call_once::h22d732940e85619f /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/alloc/src/boxed.rs:1575:9\r\n    #39 0x56503030ea26 in std::sys::unix::thread::Thread::new::thread_start::h04c7a9e17ed1032c /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/sys/unix/thread.rs:71:17\r\n    #40 0x7f94ac960608 in start_thread /build/glibc-eX1tMB/glibc-2.31/nptl/pthread_create.c:477:8\r\n    #41 0x7f94ac732292 in clone /build/glibc-eX1tMB/glibc-2.31/misc/../sysdeps/unix/sysv/linux/x86_64/clone.S:95\r\n\r\n0x565030342364 is located 60 bytes to the left of global variable 'alloc658' defined in '1yuj5mt4khbr5bfe' (0x5650303423a0) of size 6\r\n0x565030342364 is located 0 bytes to the right of global variable 'alloc638' defined in '1yuj5mt4khbr5bfe' (0x565030342360) of size 4\r\nSUMMARY: AddressSanitizer: global-buffer-overflow /rustc/llvm/src/llvm-project/compiler-rt/lib/asan/asan_interceptors_memintrinsics.cpp:22:3 in __asan_memcpy\r\nShadow bytes around the buggy address:\r\n  0x0aca86060410: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\r\n  0x0aca86060420: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\r\n  0x0aca86060430: 00 00 00 00 00 00 00 00 00 00 00 00 00 01 f9 f9\r\n  0x0aca86060440: f9 f9 f9 f9 00 00 00 00 00 00 00 00 00 00 01 f9\r\n  0x0aca86060450: f9 f9 f9 f9 00 00 00 00 00 00 00 00 00 00 00 00\r\n=>0x0aca86060460: 00 00 00 00 00 00 00 00 00 00 00 00[04]f9 f9 f9\r\n  0x0aca86060470: f9 f9 f9 f9 06 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9\r\n  0x0aca86060480: 03 f9 f9 f9 f9 f9 f9 f9 05 f9 f9 f9 f9 f9 f9 f9\r\n  0x0aca86060490: 04 f9 f9 f9 f9 f9 f9 f9 04 f9 f9 f9 f9 f9 f9 f9\r\n  0x0aca860604a0: 04 f9 f9 f9 f9 f9 f9 f9 00 00 02 f9 f9 f9 f9 f9\r\n  0x0aca860604b0: 00 00 00 00 04 f9 f9 f9 f9 f9 f9 f9 04 f9 f9 f9\r\nShadow byte legend (one shadow byte represents 8 application bytes):\r\n  Addressable:           00\r\n  Partially addressable: 01 02 03 04 05 06 07\r\n  Heap left redzone:       fa\r\n  Freed heap region:       fd\r\n  Stack left redzone:      f1\r\n  Stack mid redzone:       f2\r\n  Stack right redzone:     f3\r\n  Stack after return:      f5\r\n  Stack use after scope:   f8\r\n  Global redzone:          f9\r\n  Global init order:       f6\r\n  Poisoned by user:        f7\r\n  Container overflow:      fc\r\n  Array cookie:            ac\r\n  Intra object redzone:    bb\r\n  ASan internal:           fe\r\n  Left alloca redzone:     ca\r\n  Right alloca redzone:    cb\r\n  Shadow gap:              cc\r\nThread T3 (key::tests::tes) created by T0 here:\r\n    #0 0x5650301f044c in pthread_create /rustc/llvm/src/llvm-project/compiler-rt/lib/asan/asan_interceptors.cpp:205:3\r\n    #1 0x56503030e8a4 in std::sys::unix::thread::Thread::new::h4e78387dd5b3d472 /rustc/149f4836dd6d9e789a26dca16dc034588866894e/library/std/src/sys/unix/thread.rs:50:19\r\n\r\n==1972657==ABORTING\r\nerror: test failed, to rerun pass '-p metrics --lib'\r\n```\r\n\r\nAfter switching to aHash:\r\n```\r\n$ RUSTFLAGS=\"-Z sanitizer=address\" cargo +nightly test --target x86_64-unknown-linux-gnu\r\nwarning: unused import: `NotTracked`\r\n --> metrics-benchmark/src/main.rs:6:40\r\n  |\r\n6 | use metrics_util::{Handle, MetricKind, NotTracked, Registry, Tracked};\r\n  |                                        ^^^^^^^^^^\r\n  |\r\n  = note: `#[warn(unused_imports)]` on by default\r\n\r\nwarning: 1 warning emitted\r\n\r\n    Finished test [unoptimized + debuginfo] target(s) in 0.07s\r\n     Running unittests (target/x86_64-unknown-linux-gnu/debug/deps/metrics-4d1fcb456d5a672c)\r\n\r\nrunning 4 tests\r\ntest common::tests::test_unit_conversions ... ok\r\ntest key::tests::test_key_eq_and_hash ... ok\r\ntest key::tests::test_key_ord_and_partialord ... ok\r\ntest key::tests::test_key_data_proper_display ... ok\r\n\r\ntest result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s\r\n\r\n     Running tests/macros.rs (target/x86_64-unknown-linux-gnu/debug/deps/macros-6b4fca3b432ad167)\r\n\r\nrunning 1 test\r\n   Compiling metrics-tests v0.0.0 (/home/jeff/code/metrics-github/target/tests/metrics)\r\n    Finished dev [unoptimized + debuginfo] target(s) in 0.25s\r\n\r\n\r\ntest tests/macros/01_basic.rs ... ok\r\ntest tests/macros/02_trailing_comma.rs ... ok\r\n\r\n\r\ntest macros ... ok\r\n\r\ntest result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.49s\r\n\r\n     Running unittests (target/x86_64-unknown-linux-gnu/debug/deps/metrics_benchmark-b7600f67b3844b18)\r\n\r\nrunning 0 tests\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s\r\n\r\n     Running unittests (target/x86_64-unknown-linux-gnu/debug/deps/metrics_exporter_prometheus-53fce0383cff9bd7)\r\n\r\nrunning 6 tests\r\ntest common::tests::test_sanitize_key_name ... ok\r\ntest builder::tests::test_global_labels ... ok\r\ntest builder::tests::test_global_labels_overrides ... ok\r\ntest builder::tests::test_idle_timeout ... ok\r\ntest builder::tests::test_render ... ok\r\ntest builder::tests::test_buckets ... ok\r\n\r\ntest result: ok. 6 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s\r\n\r\n     Running unittests (target/x86_64-unknown-linux-gnu/debug/deps/metrics_exporter_tcp-35a59e6933d074b7)\r\n\r\nrunning 0 tests\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s\r\n\r\n     Running unittests (target/debug/deps/metrics_macros-7c22414d9d792a7c)\r\n\r\nrunning 15 tests\r\ntest tests::test_labels_to_quoted_inline_labels_empty ... ok\r\ntest tests::test_get_expanded_callsite_static_name_existing_labels ... ok\r\ntest tests::test_labels_to_quoted_existing_labels ... ok\r\ntest tests::test_get_expanded_callsite_owned_name_no_labels ... ok\r\ntest tests::test_get_expanded_registration ... ok\r\ntest tests::test_get_expanded_callsite_static_name_no_labels ... ok\r\ntest tests::test_get_expanded_registration_with_description ... ok\r\ntest tests::test_get_expanded_callsite_static_name_static_inline_labels ... ok\r\ntest tests::test_get_expanded_callsite_owned_name_existing_labels ... ok\r\ntest tests::test_get_expanded_callsite_owned_name_dynamic_inline_labels ... ok\r\ntest tests::test_get_expanded_registration_with_unit ... ok\r\ntest tests::test_get_expanded_callsite_static_name_dynamic_inline_labels ... ok\r\ntest tests::test_get_expanded_callsite_owned_name_static_inline_labels ... ok\r\ntest tests::test_get_expanded_registration_with_unit_and_description ... ok\r\ntest tests::test_labels_to_quoted_inline_labels ... ok\r\n\r\ntest result: ok. 15 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s\r\n\r\n     Running unittests (target/x86_64-unknown-linux-gnu/debug/deps/metrics_observer-e3ead45079c83515)\r\n\r\nrunning 0 tests\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s\r\n\r\n     Running unittests (target/x86_64-unknown-linux-gnu/debug/deps/metrics_tracing_context-adb6030bfa52c75b)\r\n\r\nrunning 0 tests\r\n\r\ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s\r\n\r\n     Running tests/integration.rs (target/x86_64-unknown-linux-gnu/debug/deps/integration-a44f6694556d5b63)\r\n\r\nrunning 6 tests\r\ntest test_macro_forms ... ok\r\ntest test_multiple_paths_to_the_same_callsite ... ok\r\ntest test_basic_functionality ... ok\r\ntest test_label_filtering ... ok\r\ntest test_nested_spans ... ok\r\ntest test_no_labels ... ok\r\n\r\ntest result: ok. 6 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s\r\n```\r\n\r\ncargo bench after switch to aHash:\r\n\r\n```\r\n    Finished bench [optimized] target(s) in 5.15s\r\n     Running unittests (target/release/deps/macros-e36525eba027ca0a)\r\nmacros/uninitialized/no_labels\r\n                        time:   [1.3966 ns 1.4035 ns 1.4111 ns]\r\n                        change: [-14.552% -13.779% -13.058%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 11 outliers among 100 measurements (11.00%)\r\n  9 (9.00%) high mild\r\n  2 (2.00%) high severe\r\nmacros/uninitialized/with_static_labels\r\n                        time:   [1.3975 ns 1.4056 ns 1.4151 ns]\r\n                        change: [-17.785% -16.974% -16.126%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 10 outliers among 100 measurements (10.00%)\r\n  3 (3.00%) high mild\r\n  7 (7.00%) high severe\r\nmacros/initialized/no_labels\r\n                        time:   [2.0971 ns 2.1093 ns 2.1235 ns]\r\n                        change: [-1.5451% -0.6670% +0.2067%] (p = 0.14 > 0.05)\r\n                        No change in performance detected.\r\nFound 7 outliers among 100 measurements (7.00%)\r\n  7 (7.00%) high mild\r\nmacros/initialized/with_static_labels\r\n                        time:   [2.3598 ns 2.3854 ns 2.4115 ns]\r\n                        change: [+10.042% +11.169% +12.327%] (p = 0.00 < 0.05)\r\n                        Performance has regressed.\r\nFound 6 outliers among 100 measurements (6.00%)\r\n  6 (6.00%) high mild\r\nmacros/initialized/with_dynamic_labels\r\n                        time:   [78.566 ns 79.379 ns 80.207 ns]\r\n                        change: [-32.672% -31.823% -30.991%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 3 outliers among 100 measurements (3.00%)\r\n  2 (2.00%) high mild\r\n  1 (1.00%) high severe\r\n\r\n     Running unittests (target/release/deps/layer-ad2db68d370eb019)\r\nlayer/base case         time:   [1.1601 ns 1.1678 ns 1.1770 ns]\r\n                        change: [-17.834% -16.816% -15.703%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 1 outliers among 100 measurements (1.00%)\r\n  1 (1.00%) high mild\r\nlayer/no integration    time:   [1.4014 ns 1.4111 ns 1.4219 ns]\r\n                        change: [-3.3540% -2.3082% -1.2032%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 2 outliers among 100 measurements (2.00%)\r\n  2 (2.00%) high mild\r\nlayer/tracing layer only\r\n                        time:   [1.1672 ns 1.1771 ns 1.1877 ns]\r\n                        change: [-17.400% -16.516% -15.579%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 3 outliers among 100 measurements (3.00%)\r\n  3 (3.00%) high mild\r\nlayer/metrics layer only\r\n                        time:   [151.03 ns 151.98 ns 153.10 ns]\r\n                        change: [-13.220% -12.309% -11.399%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 9 outliers among 100 measurements (9.00%)\r\n  7 (7.00%) high mild\r\n  2 (2.00%) high severe\r\nlayer/full integration  time:   [346.11 ns 348.65 ns 351.41 ns]\r\n                        change: [-14.821% -13.881% -12.920%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 9 outliers among 100 measurements (9.00%)\r\n  7 (7.00%) high mild\r\n  2 (2.00%) high severe\r\n\r\n     Running unittests (target/release/deps/visit-2879d631cc78cddd)\r\nvisit/record_str        time:   [49.996 ns 50.354 ns 50.733 ns]\r\n                        change: [-2.9810% -2.0707% -1.0603%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 6 outliers among 100 measurements (6.00%)\r\n  4 (4.00%) high mild\r\n  2 (2.00%) high severe\r\nvisit/record_bool[true] time:   [26.115 ns 26.310 ns 26.522 ns]\r\n                        change: [-4.5274% -3.3128% -2.1280%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 4 outliers among 100 measurements (4.00%)\r\n  2 (2.00%) high mild\r\n  2 (2.00%) high severe\r\nvisit/record_bool[false]\r\n                        time:   [26.052 ns 26.200 ns 26.358 ns]\r\n                        change: [-5.7206% -4.7410% -3.7908%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 2 outliers among 100 measurements (2.00%)\r\n  2 (2.00%) high mild\r\nvisit/record_i64        time:   [58.156 ns 58.561 ns 58.993 ns]\r\n                        change: [-4.9803% -3.8683% -2.8382%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 4 outliers among 100 measurements (4.00%)\r\n  4 (4.00%) high mild\r\nvisit/record_u64        time:   [58.760 ns 59.179 ns 59.613 ns]\r\n                        change: [-1.7825% -0.8497% +0.1025%] (p = 0.08 > 0.05)\r\n                        No change in performance detected.\r\nFound 4 outliers among 100 measurements (4.00%)\r\n  3 (3.00%) high mild\r\n  1 (1.00%) high severe\r\nvisit/record_debug      time:   [356.78 ns 358.99 ns 361.48 ns]\r\n                        change: [-0.1194% +0.8390% +1.7872%] (p = 0.07 > 0.05)\r\n                        No change in performance detected.\r\nFound 6 outliers among 100 measurements (6.00%)\r\n  6 (6.00%) high mild\r\nvisit/record_debug[bool]\r\n                        time:   [74.128 ns 74.510 ns 74.933 ns]\r\n                        change: [-2.8560% -1.9758% -1.0365%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 5 outliers among 100 measurements (5.00%)\r\n  3 (3.00%) high mild\r\n  2 (2.00%) high severe\r\n  visit/record_debug[i64] time:   [93.752 ns 94.344 ns 94.968 ns]\r\n                        change: [-3.1306% -2.2607% -1.3815%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 5 outliers among 100 measurements (5.00%)\r\n  5 (5.00%) high mild\r\nvisit/record_debug[u64] time:   [87.151 ns 87.691 ns 88.279 ns]\r\n                        change: [-6.8422% -5.7358% -4.5939%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 1 outliers among 100 measurements (1.00%)\r\n  1 (1.00%) high mild\r\n\r\n     Running unittests (target/release/deps/absolute-ba51fc926251c787)\r\nabsolute/no match       time:   [17.202 ns 17.282 ns 17.373 ns]\r\n                        change: [-3.3926% -2.5104% -1.5597%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 15 outliers among 100 measurements (15.00%)\r\n  1 (1.00%) low mild\r\n  8 (8.00%) high mild\r\n  6 (6.00%) high severe\r\nabsolute/match (same value)\r\n                        time:   [71.651 ns 72.082 ns 72.584 ns]\r\n                        change: [-3.8320% -2.7990% -1.6832%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 2 outliers among 100 measurements (2.00%)\r\n  2 (2.00%) high mild\r\nabsolute/match (updating value)\r\n                        time:   [56.868 ns 57.477 ns 58.093 ns]\r\n                        change: [-0.2061% +0.7192% +1.6497%] (p = 0.12 > 0.05)\r\n                        No change in performance detected.\r\nFound 8 outliers among 100 measurements (8.00%)\r\n  8 (8.00%) high mild\r\nabsolute/noop recorder overhead (increment_counter)\r\n                        time:   [1.1619 ns 1.1686 ns 1.1762 ns]\r\n                        change: [-0.8209% -0.0680% +0.7305%] (p = 0.87 > 0.05)\r\n                        No change in performance detected.\r\nFound 8 outliers among 100 measurements (8.00%)\r\n  6 (6.00%) high mild\r\n  2 (2.00%) high severe\r\n\r\n     Running unittests (target/release/deps/bucket-900c58820470d506)\r\nbucket/write            time:   [5.7140 us 5.7477 us 5.7837 us]\r\n                        thrpt:  [43.570 Melem/s 43.844 Melem/s 44.102 Melem/s]\r\n                 change:\r\n                        time:   [-1.4663% -0.5136% +0.4082%] (p = 0.30 > 0.05)\r\n                        thrpt:  [-0.4065% +0.5163% +1.4881%]\r\n                        No change in performance detected.\r\nFound 7 outliers among 100 measurements (7.00%)\r\n  4 (4.00%) high mild\r\n  3 (3.00%) high severe\r\n\r\n     Running unittests (target/release/deps/filter-cc6d38cb0b9c32a8)\r\nfilter/match            time:   [24.089 ns 24.218 ns 24.358 ns]\r\n                        change: [-0.8157% -0.0180% +0.7355%] (p = 0.96 > 0.05)\r\n                        No change in performance detected.\r\nFound 5 outliers among 100 measurements (5.00%)\r\n  4 (4.00%) high mild\r\n  1 (1.00%) high severe\r\nfilter/no match         time:   [18.062 ns 18.156 ns 18.263 ns]\r\n                        change: [-0.6784% +0.0657% +0.7951%] (p = 0.86 > 0.05)\r\n                        No change in performance detected.\r\nFound 9 outliers among 100 measurements (9.00%)\r\n  8 (8.00%) high mild\r\n  1 (1.00%) high severe\r\nfilter/noop recorder overhead (increment_counter)\r\n                        time:   [1.3974 ns 1.4049 ns 1.4135 ns]\r\n                        change: [+19.446% +20.590% +21.734%] (p = 0.00 < 0.05)\r\n                        Performance has regressed.\r\nFound 10 outliers among 100 measurements (10.00%)\r\n  8 (8.00%) high mild\r\n  2 (2.00%) high severe\r\n\r\n     Running unittests (target/release/deps/prefix-54a1d5155e5fd3ff)\r\nprefix/basic            time:   [61.377 ns 61.751 ns 62.186 ns]\r\n                        change: [-25.094% -24.433% -23.766%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 5 outliers among 100 measurements (5.00%)\r\n  2 (2.00%) high mild\r\n  3 (3.00%) high severe\r\nprefix/noop recorder overhead (increment_counter)\r\n                        time:   [1.1597 ns 1.1660 ns 1.1731 ns]\r\n                        change: [-16.994% -16.275% -15.580%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 11 outliers among 100 measurements (11.00%)\r\n  8 (8.00%) high mild\r\n  3 (3.00%) high severe\r\n\r\n     Running unittests (target/release/deps/registry-aa64b8454ad01d97)\r\nregistry (not tracked)/cached op (basic)\r\n                        time:   [18.976 ns 19.069 ns 19.177 ns]\r\n                        change: [-3.6738% -2.7765% -1.7388%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 8 outliers among 100 measurements (8.00%)\r\n  5 (5.00%) high mild\r\n  3 (3.00%) high severe\r\nregistry (not tracked)/cached op (labels)\r\n                        time:   [23.007 ns 23.124 ns 23.261 ns]\r\n                        change: [-0.0163% +0.8187% +1.6403%] (p = 0.06 > 0.05)\r\n                        No change in performance detected.\r\nFound 7 outliers among 100 measurements (7.00%)\r\n  4 (4.00%) high mild\r\n  3 (3.00%) high severe\r\nregistry (not tracked)/uncached op (basic)\r\n                        time:   [222.20 ns 225.05 ns 227.79 ns]\r\n                        change: [-11.944% -7.3273% -2.4040%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nregistry (not tracked)/uncached op (labels)\r\n                        time:   [303.29 ns 307.27 ns 311.23 ns]\r\n                        change: [-20.655% -17.212% -13.359%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nregistry (not tracked)/creation overhead\r\n                        time:   [1.0883 us 1.1001 us 1.1127 us]\r\n                        change: [-1.6889% -0.4924% +0.7202%] (p = 0.42 > 0.05)\r\n                        No change in performance detected.\r\nFound 1 outliers among 100 measurements (1.00%)\r\n  1 (1.00%) high mild\r\n\r\nregistry (tracked)/cached op (basic)\r\n                        time:   [23.105 ns 23.239 ns 23.382 ns]\r\n                        change: [-4.7187% -3.6377% -2.5487%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 10 outliers among 100 measurements (10.00%)\r\n  6 (6.00%) high mild\r\n  4 (4.00%) high severe\r\nregistry (tracked)/cached op (labels)\r\n                        time:   [27.280 ns 27.431 ns 27.596 ns]\r\n                        change: [-2.1195% -1.1711% -0.1867%] (p = 0.02 < 0.05)\r\n                        Change within noise threshold.\r\nFound 13 outliers among 100 measurements (13.00%)\r\n  8 (8.00%) high mild\r\n  5 (5.00%) high severe\r\nregistry (tracked)/uncached op (basic)\r\n                        time:   [234.55 ns 237.74 ns 240.85 ns]\r\n                        change: [-12.443% -7.6765% -2.9698%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nregistry (tracked)/uncached op (labels)\r\n                        time:   [319.88 ns 325.32 ns 331.45 ns]\r\n                        change: [-17.498% -13.969% -10.067%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nregistry (tracked)/creation overhead\r\n                        time:   [1.0494 us 1.0556 us 1.0629 us]\r\n                        change: [-6.2865% -5.2458% -4.1631%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 14 outliers among 100 measurements (14.00%)\r\n  6 (6.00%) high mild\r\n  8 (8.00%) high severe\r\n\r\nregistry (common)/const key overhead (basic)\r\n                        time:   [5.4013 ns 5.4556 ns 5.5155 ns]\r\n                        change: [+0.1552% +1.3523% +2.5034%] (p = 0.02 < 0.05)\r\n                        Change within noise threshold.\r\nFound 6 outliers among 100 measurements (6.00%)\r\n  6 (6.00%) high mild                        \r\n  registry (common)/const key data overhead (labels)\r\n                        time:   [2.4895 ns 2.5180 ns 2.5458 ns]\r\n                        change: [+2.7567% +3.9636% +5.3190%] (p = 0.00 < 0.05)\r\n                        Performance has regressed.\r\nregistry (common)/owned key overhead (basic)\r\n                        time:   [22.395 ns 22.553 ns 22.730 ns]\r\n                        change: [-18.948% -18.127% -17.312%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 9 outliers among 100 measurements (9.00%)\r\n  5 (5.00%) high mild\r\n  4 (4.00%) high severe\r\nregistry (common)/owned key overhead (labels)\r\n                        time:   [47.764 ns 48.027 ns 48.327 ns]\r\n                        change: [-30.076% -29.443% -28.791%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 10 outliers among 100 measurements (10.00%)\r\n  10 (10.00%) high mild\r\n\r\n     Running unittests (target/release/deps/router-13846a8800e2d41e)\r\nrouter/default target (via mask)\r\n                        time:   [3.5020 ns 3.5265 ns 3.5529 ns]\r\n                        change: [-4.5250% -3.4960% -2.4921%] (p = 0.00 < 0.05)\r\n                        Performance has improved.\r\nFound 10 outliers among 100 measurements (10.00%)\r\n  6 (6.00%) high mild\r\n  4 (4.00%) high severe\r\nrouter/default target (via fallback)\r\n                        time:   [34.782 ns 34.973 ns 35.188 ns]\r\n                        change: [-2.6570% -1.4520% -0.2067%] (p = 0.02 < 0.05)\r\n                        Change within noise threshold.\r\nFound 4 outliers among 100 measurements (4.00%)\r\n  3 (3.00%) high mild\r\n  1 (1.00%) high severe\r\nrouter/routed target    time:   [81.533 ns 82.165 ns 82.883 ns]\r\n                        change: [-1.2445% -0.0314% +1.2495%] (p = 0.97 > 0.05)\r\n                        No change in performance detected.\r\n```", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/214/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/213", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/213/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/213/events", "html_url": "https://github.com/metrics-rs/metrics/pull/213", "id": 924404667, "node_id": "MDExOlB1bGxSZXF1ZXN0NjczMDUxMDYy", "number": 213, "title": "Update quanta requirement from 0.7 to 0.9", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-06-17T23:05:50Z", "updated_at": "2021-09-16T19:38:43Z", "closed_at": "2021-09-13T19:45:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/213", "html_url": "https://github.com/metrics-rs/metrics/pull/213", "diff_url": "https://github.com/metrics-rs/metrics/pull/213.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/213.patch", "merged_at": "2021-09-13T19:45:01Z"}, "body": "Updates the requirements on [quanta](https://github.com/nuclearfurnace/quanta) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/metrics-rs/quanta/blob/main/CHANGELOG.md\">quanta's changelog</a>.</em></p>\n<blockquote>\n<h2>[0.9.0] - 2021-06-17</h2>\n<h3>Added</h3>\n<ul>\n<li>Support for WASM/WASI targets. (<a href=\"https://github-redirect.dependabot.com/metrics-rs/quanta/pull/45\">#45</a>)</li>\n</ul>\n<h2>[0.8.0] - 2021-06-07</h2>\n<h3>Removed</h3>\n<ul>\n<li><code>Instant::as_unix_duration</code> as it was added in error.</li>\n<li><code>metrics</code> feature flag as <code>metrics-core</code> is no longer a relevant crate.</li>\n</ul>\n<h2>[0.7.2] - 2021-01-25</h2>\n<h3>Changed</h3>\n<ul>\n<li>Bumped dependency on <code>raw-cpuid</code> to <code>9.0</code> in order to deal with a <a href=\"https://rustsec.org/advisories/RUSTSEC-2021-0013\">RustSec\nadvisory</a>.</li>\n</ul>\n<h2>[0.7.1] - 2021-01-24</h2>\n<h3>Fixed</h3>\n<ul>\n<li>Incorrect method visibility for non-SSE2 implementation of <code>Counter</code>.\n(<a href=\"https://github-redirect.dependabot.com/metrics-rs/quanta/issues/38\">#38</a>)</li>\n</ul>\n<h2>[0.7.0] - 2021-01-03</h2>\n<h3>Changed</h3>\n<ul>\n<li>MSRV bumped to 1.45.0.</li>\n<li><code>Clock::now</code> takes <code>&amp;self</code> instead of <code>&amp;mut self</code>.</li>\n<li>Fixed a bug where a failure to spawn the upkeep thread would not allow subsequent attempts to\nspawn the upkeep thread to proceed.</li>\n</ul>\n<h3>Added</h3>\n<ul>\n<li>New methods --<code>Instant::now</code> and <code>Instant::recent</code> for getting the current and recent time,\nrespectively.</li>\n<li>New free function <code>quanta::with_clock</code> for setting an override on the current thread that affects\ncalls made to <code>Instant::now</code> and <code>Instant::recent</code>.</li>\n<li>New free function <code>quanta::set_recent</code> to allow customization of how global recent time is\nupdated.</li>\n</ul>\n<h2>[0.6.5] - 2020-09-16</h2>\n<h3>Changed</h3>\n<ul>\n<li>Fixed a bug with not being able to start the upkeep thread at all.\n(<a href=\"https://github-redirect.dependabot.com/metrics-rs/quanta/issues/29\">#29</a>)</li>\n</ul>\n<h2>[0.6.4] - 2020-08-27</h2>\n<h3>Added</h3>\n<ul>\n<li>Add <code>Instant::as_unix_duration</code> to get the duration of time since the Unix epoch from an\n<code>Instant</code>.\n<h3>Changed</h3>\n</li>\n<li>Remove <code>clocksource</code> from dependencies and tests as it no longer compiles on stable or nightly.</li>\n</ul>\n<h2>[0.6.3] - 2020-08-03</h2>\n<h3>Changed</h3>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/b8221cc5db6f27732dad958654f44f09c086b901\"><code>b8221cc</code></a> (cargo-release) version 0.9.0</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/8e133cfc0040d94e31945adf740ad94e923a9992\"><code>8e133cf</code></a> update changelog</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/7a5b1798968e18f3d75b9b8205b2d807364f3f31\"><code>7a5b179</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/nuclearfurnace/quanta/issues/45\">#45</a> from Luthaf/wasm-support</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/a09636af02a4e7591f3d0fce4c8e77db842c83b1\"><code>a09636a</code></a> Add testing on WASM targets</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/0cc95f88902d9b99511a6ad2a9a2b285541ac27d\"><code>0cc95f8</code></a> Add support for WASM targets</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/31a9e587d45773880a40ca0b2fbee1a3f119f02c\"><code>31a9e58</code></a> (cargo-release) version 0.8.0</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/4363b9f6549b3f2bd0ea758378b2ebe449c03dba\"><code>4363b9f</code></a> remove Instant::as_unix_duration and metrics feature flag</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/84c9ad956d0918dd269488d0b5fe1041f5bacb35\"><code>84c9ad9</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/nuclearfurnace/quanta/issues/43\">#43</a> from metrics-rs/dependabot/cargo/average-0.12</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/86505188a86ad743e6ac858de6a2426d4dd79f59\"><code>8650518</code></a> Update average requirement from 0.10 to 0.12</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/4decb61f4969ee67545f2797c5773e480b7bd6d8\"><code>4decb61</code></a> (cargo-release) version 0.7.2</li>\n<li>Additional commits viewable in <a href=\"https://github.com/nuclearfurnace/quanta/compare/v0.7.0...v0.9.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/213/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/209", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/209/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/209/events", "html_url": "https://github.com/metrics-rs/metrics/pull/209", "id": 899842621, "node_id": "MDExOlB1bGxSZXF1ZXN0NjUxNDg1NzU3", "number": 209, "title": "Fix minium version of crossbeam-epoch", "user": {"login": "flub", "id": 146720, "node_id": "MDQ6VXNlcjE0NjcyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/146720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flub", "html_url": "https://github.com/flub", "followers_url": "https://api.github.com/users/flub/followers", "following_url": "https://api.github.com/users/flub/following{/other_user}", "gists_url": "https://api.github.com/users/flub/gists{/gist_id}", "starred_url": "https://api.github.com/users/flub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flub/subscriptions", "organizations_url": "https://api.github.com/users/flub/orgs", "repos_url": "https://api.github.com/users/flub/repos", "events_url": "https://api.github.com/users/flub/events{/privacy}", "received_events_url": "https://api.github.com/users/flub/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-24T17:03:31Z", "updated_at": "2021-05-24T19:22:40Z", "closed_at": "2021-05-24T17:16:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/209", "html_url": "https://github.com/metrics-rs/metrics/pull/209", "diff_url": "https://github.com/metrics-rs/metrics/pull/209.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/209.patch", "merged_at": "2021-05-24T17:16:11Z"}, "body": "The Atomic::compare_exchange function only appears in 0.9.2.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/209/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/208", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/208/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/208/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/208/events", "html_url": "https://github.com/metrics-rs/metrics/pull/208", "id": 895673188, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ3ODY1MjI1", "number": 208, "title": "metrics-util: make generation tracking configurable in Registry", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-19T16:55:11Z", "updated_at": "2021-05-19T19:54:45Z", "closed_at": "2021-05-19T19:54:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/208", "html_url": "https://github.com/metrics-rs/metrics/pull/208", "diff_url": "https://github.com/metrics-rs/metrics/pull/208.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/208.patch", "merged_at": "2021-05-19T19:54:43Z"}, "body": "We added generation tracking to `Registry` back when we were adding the ability to cull idle metrics from `metrics-exporter-prometheus`.  This imposes extra overhead on every registry access in the form of ticking up an atomic.  Not the end of the world in low-throughput use cases, but it can be a noticeable impact on performance at the top end.\r\n\r\nThis PR makes generation tracking configurable by introducing a new trait -- `Generational` -- that allows tracking to be enabled or disabled via a type parameter in `Registry`.  We've introduced two types -- `Tracked` and `NotTracked` -- that control how generations are manipulated.  While `Registry::op` itself is still blindly calling `increment_generation`, it can be compiled into a no-op (ha) when `NotTracked` is used, and so on.\r\n\r\nIn microbenchmarks, the performance between the two is only seemingly good for 1-3ns savings, but under full load in `metrics-benchmark`, we can observe a 20% _increase_ in throughput when generation tracking is disabled for a single producer, and a 14% increase in throughput for four producers.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/208/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/207", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/207/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/207/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/207/events", "html_url": "https://github.com/metrics-rs/metrics/pull/207", "id": 894222126, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ2NjE3ODgy", "number": 207, "title": "registry: add clear method", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-18T10:19:58Z", "updated_at": "2021-05-18T10:44:03Z", "closed_at": "2021-05-18T10:43:37Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/207", "html_url": "https://github.com/metrics-rs/metrics/pull/207", "diff_url": "https://github.com/metrics-rs/metrics/pull/207.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/207.patch", "merged_at": "2021-05-18T10:43:37Z"}, "body": "As stated in the title.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/207/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/206", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/206/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/206/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/206/events", "html_url": "https://github.com/metrics-rs/metrics/pull/206", "id": 892791195, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ1NDA0NjA2", "number": 206, "title": "metrics-exporter-prometheus: sanitize matchers the same as input keys", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-17T00:09:06Z", "updated_at": "2021-05-17T00:31:56Z", "closed_at": "2021-05-17T00:31:46Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/206", "html_url": "https://github.com/metrics-rs/metrics/pull/206", "diff_url": "https://github.com/metrics-rs/metrics/pull/206.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/206.patch", "merged_at": "2021-05-17T00:31:46Z"}, "body": "This PR addresses #173, which is related to the mismatch/ergonomics of how matchers are used against metric keys.\r\n\r\nNow, we ensure that matchers are \"sanitized\" in the same way we sanitize keys to match the Prometheus restrictions.  In addition, we've also improved the key sanitation.  While the previous sanitizer code dealt with _known_ issues, the new code is closer to the actual specification for what a Prometheus metric name can be.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/206/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/205", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/205/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/205/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/205/events", "html_url": "https://github.com/metrics-rs/metrics/pull/205", "id": 892172775, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ0OTI1Mjcx", "number": 205, "title": "Rework static metric names and add new routing layer", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-14T19:13:06Z", "updated_at": "2021-05-16T15:48:15Z", "closed_at": "2021-05-16T15:48:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/205", "html_url": "https://github.com/metrics-rs/metrics/pull/205", "diff_url": "https://github.com/metrics-rs/metrics/pull/205.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/205.patch", "merged_at": "2021-05-16T15:48:03Z"}, "body": "This PR is the culmination of two changes/bits of functionality: static metric names (no more `NameParts`) and a new layer, `Router`, for routing metrics to certain targets.\r\n\r\nAdmittedly, the bigger change is the reworking of metric names, but we did it in service of the routing layer to make it possible to be faster and have simpler code, and on balance, it seems to be better across the board, performance-wise.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/205/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/204", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/204/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/204/events", "html_url": "https://github.com/metrics-rs/metrics/pull/204", "id": 885450017, "node_id": "MDExOlB1bGxSZXF1ZXN0NjM4NzczNTAw", "number": 204, "title": "metrics-exporter-prometheus: Add support for subnet allow list", "user": {"login": "str4d", "id": 4993799, "node_id": "MDQ6VXNlcjQ5OTM3OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4993799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/str4d", "html_url": "https://github.com/str4d", "followers_url": "https://api.github.com/users/str4d/followers", "following_url": "https://api.github.com/users/str4d/following{/other_user}", "gists_url": "https://api.github.com/users/str4d/gists{/gist_id}", "starred_url": "https://api.github.com/users/str4d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/str4d/subscriptions", "organizations_url": "https://api.github.com/users/str4d/orgs", "repos_url": "https://api.github.com/users/str4d/repos", "events_url": "https://api.github.com/users/str4d/events{/privacy}", "received_events_url": "https://api.github.com/users/str4d/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-11T00:22:08Z", "updated_at": "2021-05-16T17:17:20Z", "closed_at": "2021-05-16T14:26:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/204", "html_url": "https://github.com/metrics-rs/metrics/pull/204", "diff_url": "https://github.com/metrics-rs/metrics/pull/204.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/204.patch", "merged_at": "2021-05-16T14:26:05Z"}, "body": "This enables access to the Prometheus scrape endpoint to be restricted to a defined set of IPs and/or subnets.\r\n\r\nNote that this on its own is insufficient for access control, if the exporter is running in an environment alongside applications (such as web browsers) that are susceptible to [DNS rebinding attacks](https://en.wikipedia.org/wiki/DNS_rebinding). I plan to add support for HTTP auth in a subsequent PR.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/202", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/202/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/202/events", "html_url": "https://github.com/metrics-rs/metrics/pull/202", "id": 874288606, "node_id": "MDExOlB1bGxSZXF1ZXN0NjI4ODgwMDk0", "number": 202, "title": "Update tui requirement from 0.14 to 0.15", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-03T06:54:02Z", "updated_at": "2021-05-16T14:28:47Z", "closed_at": "2021-05-16T14:28:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/202", "html_url": "https://github.com/metrics-rs/metrics/pull/202", "diff_url": "https://github.com/metrics-rs/metrics/pull/202.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/202.patch", "merged_at": "2021-05-16T14:28:45Z"}, "body": "Updates the requirements on [tui](https://github.com/fdehau/tui-rs) to permit the latest version.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/fdehau/tui-rs/releases\">tui's releases</a>.</em></p>\n<blockquote>\n<h2>v0.15.0</h2>\n<h3>Features</h3>\n<ul>\n<li>Update <code>crossterm</code> to <code>0.19</code>.</li>\n<li>Update <code>rand</code> to <code>0.8</code>.</li>\n<li>Add a read-only view of the terminal state after the draw call (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/440\">#440</a>).</li>\n</ul>\n<h3>Fixes</h3>\n<ul>\n<li>Remove compile warning in <code>TestBackend::assert_buffer</code> (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/466\">#466</a>).</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/fdehau/tui-rs/blob/master/CHANGELOG.md\">tui's changelog</a>.</em></p>\n<blockquote>\n<h2>v0.15.0 - 2021-05-02</h2>\n<h3>Features</h3>\n<ul>\n<li>Update <code>crossterm</code> to <code>0.19</code>.</li>\n<li>Update <code>rand</code> to <code>0.8</code>.</li>\n<li>Add a read-only view of the terminal state after the draw call (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/440\">#440</a>).</li>\n</ul>\n<h3>Fixes</h3>\n<ul>\n<li>Remove compile warning in <code>TestBackend::assert_buffer</code> (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/466\">#466</a>).</li>\n</ul>\n<h2>v0.14.0 - 2021-01-01</h2>\n<h3>Breaking changes</h3>\n<h4>New API for the Table widget</h4>\n<p>The <code>Table</code> widget got a lot of improvements that should make it easier to work with:</p>\n<ul>\n<li>It should not longer panic when rendered on small areas.</li>\n<li><code>Row</code>s are now a collection of <code>Cell</code>s, themselves wrapping a <code>Text</code>. This means you can style\nthe entire <code>Table</code>, an entire <code>Row</code>, an entire <code>Cell</code> and rely on the styling capabilities of\n<code>Text</code> to get full control over the look of your <code>Table</code>.</li>\n<li><code>Row</code>s can have multiple lines.</li>\n<li>The header is now optional and is just another <code>Row</code> always visible at the top.</li>\n<li><code>Row</code>s can have a bottom margin.</li>\n<li>The header alignment is no longer off when an item is selected.</li>\n</ul>\n<p>Taking the example of the code in <code>examples/demo/ui.rs</code>, this is what you may have to change:</p>\n<pre lang=\"diff\"><code>     let failure_style = Style::default()\n         .fg(Color::Red)\n         .add_modifier(Modifier::RAPID_BLINK | Modifier::CROSSED_OUT);\n-    let header = [&quot;Server&quot;, &quot;Location&quot;, &quot;Status&quot;];\n     let rows = app.servers.iter().map(|s| {\n         let style = if s.status == &quot;Up&quot; {\n             up_style\n         } else {\n             failure_style\n         };\n-        Row::StyledData(vec![s.name, s.location, s.status].into_iter(), style)\n+        Row::new(vec![s.name, s.location, s.status]).style(style)\n     });\n-    let table = Table::new(header.iter(), rows)\n+    let table = Table::new(rows)\n+        .header(\n+            Row::new(vec![&quot;Server&quot;, &quot;Location&quot;, &quot;Status&quot;])\n+                .style(Style::default().fg(Color::Yellow))\n+                .bottom_margin(1),\n+        )\n&lt;/tr&gt;&lt;/table&gt; \n</code></pre>\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/90a6a8f2d6667dd44e4e58f9dbe1d0a847bd6d18\"><code>90a6a8f</code></a> Release v0.15.0</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/414386e7972be9c366962c7b96e636d5a2a1298c\"><code>414386e</code></a> chore: update <code>rand</code> to 0.8 (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/472\">#472</a>)</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/3a843d50744c22647a6c010535fb4adf8112b870\"><code>3a843d5</code></a> fix(test): remove compile warning in TestBackend::assert_buffer (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/466\">#466</a>)</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/4e76bfa2ca8eb51719d611bb8d3d4094ab8ba398\"><code>4e76bfa</code></a> chore: add Vector to list of apps using tui (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/452\">#452</a>)</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/8832281dcf1756cfbdfad6c56b969f5f1dafcaa5\"><code>8832281</code></a> Update crossterm to 0.19.</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/853f3d9200da1a76a2fba24af098ff037d11ad53\"><code>853f3d9</code></a> feat(terminal): add a read-only view of the terminal state after the draw call</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/67e996c5f41397c3c5a162937b9875b45de9bcef\"><code>67e996c</code></a> feat(examples): add third tab to demo to show colors</li>\n<li>See full diff in <a href=\"https://github.com/fdehau/tui-rs/compare/v0.14.0...v0.15.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/202/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/198", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/198/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/198/events", "html_url": "https://github.com/metrics-rs/metrics/pull/198", "id": 858177031, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE1NDc0NzUy", "number": 198, "title": "Support non-literal names along with literal labels in macros", "user": {"login": "twz123", "id": 1215104, "node_id": "MDQ6VXNlcjEyMTUxMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1215104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twz123", "html_url": "https://github.com/twz123", "followers_url": "https://api.github.com/users/twz123/followers", "following_url": "https://api.github.com/users/twz123/following{/other_user}", "gists_url": "https://api.github.com/users/twz123/gists{/gist_id}", "starred_url": "https://api.github.com/users/twz123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twz123/subscriptions", "organizations_url": "https://api.github.com/users/twz123/orgs", "repos_url": "https://api.github.com/users/twz123/repos", "events_url": "https://api.github.com/users/twz123/events{/privacy}", "received_events_url": "https://api.github.com/users/twz123/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-14T18:54:11Z", "updated_at": "2021-04-15T13:18:09Z", "closed_at": "2021-04-15T13:18:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/198", "html_url": "https://github.com/metrics-rs/metrics/pull/198", "diff_url": "https://github.com/metrics-rs/metrics/pull/198.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/198.patch", "merged_at": "2021-04-15T13:18:09Z"}, "body": "Arrays of Labels don't implement `IntoLabels`. They have already a static lifetime and can be borrowed instead of owned. Introduce `KeyedData::from_static_labels(..)` to support the use case of a non-literal name and a literal label set. Also add tests for that case.\r\n\r\nFixes #196.\r\n\r\nWithout the change, the newly added test cases fail with\r\n\r\n```\r\n\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\r\nerror[E0277]: the trait bound `Label: From<&Label>` is not satisfied\r\n   --> $DIR/01_basic.rs:18:5\r\n    |\r\n18  |     counter!(format!(\"response_status_{}\", some_u16), 1, \"uvw\" => \"xyz\");\r\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `From<&Label>` is not implemented for `Label`\r\n    |\r\n   ::: $WORKSPACE/metrics/src/key.rs\r\n    |\r\n    |         L: IntoLabels,\r\n    |            ---------- required by this bound in `KeyData::from_parts`\r\n    |\r\n    = help: the following implementations were found:\r\n              <Label as From<&(K, V)>>\r\n    = note: required because of the requirements on the impl of `Into<Label>` for `&Label`\r\n    = note: required because of the requirements on the impl of `IntoLabels` for `&[Label; 1]`\r\n    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\u2508\r\n```", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/198/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/197", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/197/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/197/events", "html_url": "https://github.com/metrics-rs/metrics/pull/197", "id": 857920281, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE1MjU5ODgw", "number": 197, "title": "Bump MSRV to pass tests.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-14T13:50:52Z", "updated_at": "2021-04-14T14:56:03Z", "closed_at": "2021-04-14T14:56:00Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/197", "html_url": "https://github.com/metrics-rs/metrics/pull/197", "diff_url": "https://github.com/metrics-rs/metrics/pull/197.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/197.patch", "merged_at": "2021-04-14T14:56:00Z"}, "body": "After upgrading to the latest `ndarray`, they've bumped their MSRV to 1.49.0, so we're following.  This still gives us \"three latest versions\" worth of support, so we should be fine.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/197/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/195", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/195/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/195/events", "html_url": "https://github.com/metrics-rs/metrics/pull/195", "id": 857870039, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE1MjE3Mzk3", "number": 195, "title": "Fix name of constant in macro expansion", "user": {"login": "twz123", "id": 1215104, "node_id": "MDQ6VXNlcjEyMTUxMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1215104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twz123", "html_url": "https://github.com/twz123", "followers_url": "https://api.github.com/users/twz123/followers", "following_url": "https://api.github.com/users/twz123/following{/other_user}", "gists_url": "https://api.github.com/users/twz123/gists{/gist_id}", "starred_url": "https://api.github.com/users/twz123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twz123/subscriptions", "organizations_url": "https://api.github.com/users/twz123/orgs", "repos_url": "https://api.github.com/users/twz123/repos", "events_url": "https://api.github.com/users/twz123/events{/privacy}", "received_events_url": "https://api.github.com/users/twz123/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-14T12:54:27Z", "updated_at": "2021-04-14T14:56:31Z", "closed_at": "2021-04-14T14:56:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/195", "html_url": "https://github.com/metrics-rs/metrics/pull/195", "diff_url": "https://github.com/metrics-rs/metrics/pull/195.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/195.patch", "merged_at": "2021-04-14T14:56:23Z"}, "body": "One macro branch errorneously referenced METRIC_LABELS as METRICS_LABELS, leading to compilation failures.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/195/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/194", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/194/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/194/events", "html_url": "https://github.com/metrics-rs/metrics/pull/194", "id": 855328000, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEzMDg5NjYz", "number": 194, "title": "Experiment: switch to `&Key` for `Recorder`", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2021-04-11T14:59:34Z", "updated_at": "2021-04-15T23:48:18Z", "closed_at": "2021-04-15T23:48:04Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/194", "html_url": "https://github.com/metrics-rs/metrics/pull/194", "diff_url": "https://github.com/metrics-rs/metrics/pull/194.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/194.patch", "merged_at": "2021-04-15T23:48:03Z"}, "body": "In timberio/vector#7014, @blt [remarked](https://github.com/timberio/vector/pull/7014#discussion_r608767945) that they spend a lot of time creating temporary `Key` instances, to the point it shows up in profiling.  This gave me an idea that we could, in the static case, avoid this entirely by passing `&Key` around instead of `Key`.\r\n\r\nIn this PR, we're doing two major things:\r\n- `Recorder` now takes `&Key` instead of `Key`\r\n- `Registry` has been reworked/optimized to support `&Key` in the process\r\n\r\nObviously, we've reworked a lot of boundaries/`Recorder` implementations (i.e. layers) to support the switch to `&Key`.  In turn, `KeyData` is now `Key`.  As now we only have `&Key` to work with, we had to modify `Registry` as well.  Rather than clone the key every time and continue using the `dashmap`/entry API approach, we've reworked `Registry`.\r\n\r\nGiven the primary use case, we've encoded the metric kind itself into `Registry`, so operating on the registry requires specifying a reference to the key type _and_ the metric kind.  This lets us avoid having to rewrap the key in a new type (another allocation!) but we also avoid having to hash the kind, instead transforming it to an index we use for a fast lookup.\r\n\r\nLong story short, we've made `Registry` significantly faster -- 45 to 55% faster --  and we've reduced the number of temporaries required for the optimized static path.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/194/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/191", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/191/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/191/events", "html_url": "https://github.com/metrics-rs/metrics/pull/191", "id": 852977810, "node_id": "MDExOlB1bGxSZXF1ZXN0NjExMTQ3NTQ0", "number": 191, "title": "metrics-util: fix soundness issue with AtomicBucket<T>", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-08T01:51:27Z", "updated_at": "2025-01-06T15:21:39Z", "closed_at": "2021-04-08T13:43:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/191", "html_url": "https://github.com/metrics-rs/metrics/pull/191", "diff_url": "https://github.com/metrics-rs/metrics/pull/191.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/191.patch", "merged_at": "2021-04-08T13:43:24Z"}, "body": "As evidenced by #190, the current `Block<T>` unconditionally implements `Sync`/`Send`, which allows invariants of `T` to potentially be invalidated.\r\n\r\nThis PR properly constrains the `Sync`/`Send` implementations to `T: Sync` and `T: Send` respectively.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/191/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/189", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/189/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/189/events", "html_url": "https://github.com/metrics-rs/metrics/pull/189", "id": 852443425, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEwNjk1MDg4", "number": 189, "title": "Fix broken prometheus example.", "user": {"login": "BratSinot", "id": 3810015, "node_id": "MDQ6VXNlcjM4MTAwMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3810015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BratSinot", "html_url": "https://github.com/BratSinot", "followers_url": "https://api.github.com/users/BratSinot/followers", "following_url": "https://api.github.com/users/BratSinot/following{/other_user}", "gists_url": "https://api.github.com/users/BratSinot/gists{/gist_id}", "starred_url": "https://api.github.com/users/BratSinot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BratSinot/subscriptions", "organizations_url": "https://api.github.com/users/BratSinot/orgs", "repos_url": "https://api.github.com/users/BratSinot/repos", "events_url": "https://api.github.com/users/BratSinot/events{/privacy}", "received_events_url": "https://api.github.com/users/BratSinot/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-04-07T14:02:36Z", "updated_at": "2021-04-08T00:16:53Z", "closed_at": "2021-04-08T00:16:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/189", "html_url": "https://github.com/metrics-rs/metrics/pull/189", "diff_url": "https://github.com/metrics-rs/metrics/pull/189.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/189.patch", "merged_at": "2021-04-08T00:16:30Z"}, "body": "Related with #187 .", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/189/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/188", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/188/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/188/events", "html_url": "https://github.com/metrics-rs/metrics/pull/188", "id": 850135386, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA4NzUzODM1", "number": 188, "title": "Update textplots requirement from 0.5 to 0.6", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-05T06:58:10Z", "updated_at": "2021-04-07T18:12:18Z", "closed_at": "2021-04-07T18:12:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/188", "html_url": "https://github.com/metrics-rs/metrics/pull/188", "diff_url": "https://github.com/metrics-rs/metrics/pull/188.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/188.patch", "merged_at": "2021-04-07T18:12:12Z"}, "body": "Updates the requirements on [textplots](https://github.com/loony-bean/textplots-rs) to permit the latest version.\n<details>\n<summary>Commits</summary>\n<ul>\n<li>See full diff in <a href=\"https://github.com/loony-bean/textplots-rs/commits\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/188/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/184", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/184/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/184/events", "html_url": "https://github.com/metrics-rs/metrics/pull/184", "id": 832224682, "node_id": "MDExOlB1bGxSZXF1ZXN0NTkzNDE5NjAy", "number": 184, "title": "Relax atomic operations of `update_gauge` and `increment_counter`", "user": {"login": "blt", "id": 3579, "node_id": "MDQ6VXNlcjM1Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blt", "html_url": "https://github.com/blt", "followers_url": "https://api.github.com/users/blt/followers", "following_url": "https://api.github.com/users/blt/following{/other_user}", "gists_url": "https://api.github.com/users/blt/gists{/gist_id}", "starred_url": "https://api.github.com/users/blt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blt/subscriptions", "organizations_url": "https://api.github.com/users/blt/orgs", "repos_url": "https://api.github.com/users/blt/repos", "events_url": "https://api.github.com/users/blt/events{/privacy}", "received_events_url": "https://api.github.com/users/blt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-15T21:56:44Z", "updated_at": "2021-03-16T16:20:55Z", "closed_at": "2021-03-16T13:05:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/184", "html_url": "https://github.com/metrics-rs/metrics/pull/184", "diff_url": "https://github.com/metrics-rs/metrics/pull/184.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/184.patch", "merged_at": "2021-03-16T13:05:46Z"}, "body": "This commit relaxes the atomics of the aforementioned functions, removing the sync pressure on machines with large numbers of CPUs or ARM. As the reads of counters and gauges were formerly relaxed I believe this maintains the semantic intentions, though it is now possible for a writer to immediately read and \"lose\" the write temporarily if the read is done from a different CPU, in the case of the counter.\r\n\r\nI noticed this while digging through https://github.com/timberio/vector/issues/6770. I haven't managed to test in our project because of https://github.com/timberio/vector/issues/6412.\r\n\r\nSigned-off-by: Brian L. Troutwine <brian@troutwine.us>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/184/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/183", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/183/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/183/events", "html_url": "https://github.com/metrics-rs/metrics/pull/183", "id": 824722090, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg2OTA5MDk1", "number": 183, "title": "Fix typo in docs in lib.rs", "user": {"login": "glittershark", "id": 1481027, "node_id": "MDQ6VXNlcjE0ODEwMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1481027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glittershark", "html_url": "https://github.com/glittershark", "followers_url": "https://api.github.com/users/glittershark/followers", "following_url": "https://api.github.com/users/glittershark/following{/other_user}", "gists_url": "https://api.github.com/users/glittershark/gists{/gist_id}", "starred_url": "https://api.github.com/users/glittershark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glittershark/subscriptions", "organizations_url": "https://api.github.com/users/glittershark/orgs", "repos_url": "https://api.github.com/users/glittershark/repos", "events_url": "https://api.github.com/users/glittershark/events{/privacy}", "received_events_url": "https://api.github.com/users/glittershark/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-08T16:24:52Z", "updated_at": "2021-03-08T17:23:22Z", "closed_at": "2021-03-08T16:34:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/183", "html_url": "https://github.com/metrics-rs/metrics/pull/183", "diff_url": "https://github.com/metrics-rs/metrics/pull/183.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/183.patch", "merged_at": "2021-03-08T16:34:20Z"}, "body": "recoreded -> recorded", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/183/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/182", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/182/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/182/events", "html_url": "https://github.com/metrics-rs/metrics/pull/182", "id": 822992475, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg1NTIzNjYy", "number": 182, "title": "Fix ordering issues for CompositeKey", "user": {"login": "0nkery", "id": 13167203, "node_id": "MDQ6VXNlcjEzMTY3MjAz", "avatar_url": "https://avatars.githubusercontent.com/u/13167203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0nkery", "html_url": "https://github.com/0nkery", "followers_url": "https://api.github.com/users/0nkery/followers", "following_url": "https://api.github.com/users/0nkery/following{/other_user}", "gists_url": "https://api.github.com/users/0nkery/gists{/gist_id}", "starred_url": "https://api.github.com/users/0nkery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0nkery/subscriptions", "organizations_url": "https://api.github.com/users/0nkery/orgs", "repos_url": "https://api.github.com/users/0nkery/repos", "events_url": "https://api.github.com/users/0nkery/events{/privacy}", "received_events_url": "https://api.github.com/users/0nkery/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-05T11:19:25Z", "updated_at": "2021-03-08T16:40:55Z", "closed_at": "2021-03-08T16:35:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/182", "html_url": "https://github.com/metrics-rs/metrics/pull/182", "diff_url": "https://github.com/metrics-rs/metrics/pull/182.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/182.patch", "merged_at": "2021-03-08T16:35:41Z"}, "body": "Messed up ordering for `CompositeKey`, now it's fixed.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/182/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/181", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/181/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/181/events", "html_url": "https://github.com/metrics-rs/metrics/pull/181", "id": 816479510, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgwMTMzNTc5", "number": 181, "title": "Add styling for selected option", "user": {"login": "0nkery", "id": 13167203, "node_id": "MDQ6VXNlcjEzMTY3MjAz", "avatar_url": "https://avatars.githubusercontent.com/u/13167203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0nkery", "html_url": "https://github.com/0nkery", "followers_url": "https://api.github.com/users/0nkery/followers", "following_url": "https://api.github.com/users/0nkery/following{/other_user}", "gists_url": "https://api.github.com/users/0nkery/gists{/gist_id}", "starred_url": "https://api.github.com/users/0nkery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0nkery/subscriptions", "organizations_url": "https://api.github.com/users/0nkery/orgs", "repos_url": "https://api.github.com/users/0nkery/repos", "events_url": "https://api.github.com/users/0nkery/events{/privacy}", "received_events_url": "https://api.github.com/users/0nkery/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-25T14:18:41Z", "updated_at": "2021-02-25T18:42:25Z", "closed_at": "2021-02-25T18:42:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/181", "html_url": "https://github.com/metrics-rs/metrics/pull/181", "diff_url": "https://github.com/metrics-rs/metrics/pull/181.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/181.patch", "merged_at": "2021-02-25T18:42:25Z"}, "body": "Sorry, it's me again. :)\r\n\r\nI've added some styling for the selected option to be easily distinguishable. It helps to visually connect the key with the value, especially on big screens.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/181/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/180", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/180/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/180/events", "html_url": "https://github.com/metrics-rs/metrics/pull/180", "id": 816439827, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgwMTAwNTU5", "number": 180, "title": "Observer: Use `BTreeMap` as metrics storage to sort by key", "user": {"login": "0nkery", "id": 13167203, "node_id": "MDQ6VXNlcjEzMTY3MjAz", "avatar_url": "https://avatars.githubusercontent.com/u/13167203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0nkery", "html_url": "https://github.com/0nkery", "followers_url": "https://api.github.com/users/0nkery/followers", "following_url": "https://api.github.com/users/0nkery/following{/other_user}", "gists_url": "https://api.github.com/users/0nkery/gists{/gist_id}", "starred_url": "https://api.github.com/users/0nkery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0nkery/subscriptions", "organizations_url": "https://api.github.com/users/0nkery/orgs", "repos_url": "https://api.github.com/users/0nkery/repos", "events_url": "https://api.github.com/users/0nkery/events{/privacy}", "received_events_url": "https://api.github.com/users/0nkery/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-25T13:31:46Z", "updated_at": "2021-02-25T14:00:18Z", "closed_at": "2021-02-25T13:58:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/180", "html_url": "https://github.com/metrics-rs/metrics/pull/180", "diff_url": "https://github.com/metrics-rs/metrics/pull/180.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/180.patch", "merged_at": "2021-02-25T13:58:58Z"}, "body": "This change allows preserving alphabetical order in the observer interface.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/180/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/178", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/178/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/178/events", "html_url": "https://github.com/metrics-rs/metrics/pull/178", "id": 808962834, "node_id": "MDExOlB1bGxSZXF1ZXN0NTczOTA3MjYy", "number": 178, "title": "add ordering unit test for Key", "user": {"login": "jmagnuson", "id": 6226341, "node_id": "MDQ6VXNlcjYyMjYzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6226341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmagnuson", "html_url": "https://github.com/jmagnuson", "followers_url": "https://api.github.com/users/jmagnuson/followers", "following_url": "https://api.github.com/users/jmagnuson/following{/other_user}", "gists_url": "https://api.github.com/users/jmagnuson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmagnuson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmagnuson/subscriptions", "organizations_url": "https://api.github.com/users/jmagnuson/orgs", "repos_url": "https://api.github.com/users/jmagnuson/repos", "events_url": "https://api.github.com/users/jmagnuson/events{/privacy}", "received_events_url": "https://api.github.com/users/jmagnuson/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-16T03:57:59Z", "updated_at": "2021-02-16T16:24:20Z", "closed_at": "2021-02-16T14:34:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/178", "html_url": "https://github.com/metrics-rs/metrics/pull/178", "diff_url": "https://github.com/metrics-rs/metrics/pull/178.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/178.patch", "merged_at": "2021-02-16T14:34:18Z"}, "body": "A follow-up to #177; `Ord` and `PartialOrd` were manually implemented for `Key`, so unit tests for them are probably warranted.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/178/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/177", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/177/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/177/events", "html_url": "https://github.com/metrics-rs/metrics/pull/177", "id": 807029880, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcyMzQ3NDg0", "number": 177, "title": "impl Ord/PartialOrd for key types", "user": {"login": "jmagnuson", "id": 6226341, "node_id": "MDQ6VXNlcjYyMjYzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6226341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmagnuson", "html_url": "https://github.com/jmagnuson", "followers_url": "https://api.github.com/users/jmagnuson/followers", "following_url": "https://api.github.com/users/jmagnuson/following{/other_user}", "gists_url": "https://api.github.com/users/jmagnuson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmagnuson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmagnuson/subscriptions", "organizations_url": "https://api.github.com/users/jmagnuson/orgs", "repos_url": "https://api.github.com/users/jmagnuson/repos", "events_url": "https://api.github.com/users/jmagnuson/events{/privacy}", "received_events_url": "https://api.github.com/users/jmagnuson/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-12T07:57:16Z", "updated_at": "2021-02-13T13:15:51Z", "closed_at": "2021-02-13T13:15:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/177", "html_url": "https://github.com/metrics-rs/metrics/pull/177", "diff_url": "https://github.com/metrics-rs/metrics/pull/177.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/177.patch", "merged_at": "2021-02-13T13:15:35Z"}, "body": "Allows for interoperability with structures like [`LruCache`](https://docs.rs/lru_time_cache/0.11.7/lru_time_cache/struct.LruCache.html).", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/177/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/176", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/176/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/176/events", "html_url": "https://github.com/metrics-rs/metrics/pull/176", "id": 806456337, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcxODcxNjgz", "number": 176, "title": "Make metrics-observer address configurable", "user": {"login": "0nkery", "id": 13167203, "node_id": "MDQ6VXNlcjEzMTY3MjAz", "avatar_url": "https://avatars.githubusercontent.com/u/13167203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0nkery", "html_url": "https://github.com/0nkery", "followers_url": "https://api.github.com/users/0nkery/followers", "following_url": "https://api.github.com/users/0nkery/following{/other_user}", "gists_url": "https://api.github.com/users/0nkery/gists{/gist_id}", "starred_url": "https://api.github.com/users/0nkery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0nkery/subscriptions", "organizations_url": "https://api.github.com/users/0nkery/orgs", "repos_url": "https://api.github.com/users/0nkery/repos", "events_url": "https://api.github.com/users/0nkery/events{/privacy}", "received_events_url": "https://api.github.com/users/0nkery/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-11T14:45:34Z", "updated_at": "2021-02-11T15:13:11Z", "closed_at": "2021-02-11T15:13:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/176", "html_url": "https://github.com/metrics-rs/metrics/pull/176", "diff_url": "https://github.com/metrics-rs/metrics/pull/176.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/176.patch", "merged_at": "2021-02-11T15:13:11Z"}, "body": "As stated in README.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/176/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/174", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/174/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/174/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/174/events", "html_url": "https://github.com/metrics-rs/metrics/pull/174", "id": 802979809, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4OTkzMjI0", "number": 174, "title": "Layer support for absolute value counters.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-07T15:32:23Z", "updated_at": "2021-02-07T17:01:09Z", "closed_at": "2021-02-07T17:01:04Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/174", "html_url": "https://github.com/metrics-rs/metrics/pull/174", "diff_url": "https://github.com/metrics-rs/metrics/pull/174.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/174.patch", "merged_at": "2021-02-07T17:01:04Z"}, "body": "This PR adds a new layer -- `AbsoluteLayer` -- which allows users to emit counters using an absolute value, by tracking the last known value and transforming the call from absolute to incremental.\r\n\r\nFunctions similarly to `FilterLayer` where users must specify patterns to match, and if the metric matches, and it's a counter, the value is treated as an absolute value.  If a value the same or lower than the previous value, nothing is emitted.\r\n\r\nInternally, it uses a mutex to protect state, but this layer is primarily only useful for absolute values coming from external systems, which typically have a fixed interval for scraping... this likely shouldn't be a problem in practice.\r\n\r\nFixes #66.\r\nFixes #81.\r\nFixes #172.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/174/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/174/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/170", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/170/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/170/events", "html_url": "https://github.com/metrics-rs/metrics/pull/170", "id": 799318584, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY1OTgxNzYw", "number": 170, "title": "Allow passing owned strings as metric key.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354009486, "node_id": "MDU6TGFiZWwyMzU0MDA5NDg2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-complex", "name": "E-complex", "color": "fbca04", "default": false, "description": "Effort: complex."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-02T14:13:19Z", "updated_at": "2021-02-03T03:05:37Z", "closed_at": "2021-02-03T03:05:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/170", "html_url": "https://github.com/metrics-rs/metrics/pull/170", "diff_url": "https://github.com/metrics-rs/metrics/pull/170.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/170.patch", "merged_at": "2021-02-03T03:05:32Z"}, "body": "Previously, due to the way the macros were written, users could specify a metric key as either a string literal or an expression that pointed to an owned string, due to the `Into<T>` implementations for `Key` and the way the macros handled the input arguments.  While not an explicit design goal, this was broken in the rewrite for 0.13: #165\r\n\r\nThis PR reworks the macros such that they can properly handle either a string literal or owned string as the metric key.  Minimal work was required on the `Key`/`KeyData` side as we mostly had a sufficient set of `from_*` methods.  The real work is in the macro argument parsing and code generation itself, dealing with the matrix of combinations: is the name static, are the labels static, and all the combinations in thereof.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/170/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/166", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/166/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/166/events", "html_url": "https://github.com/metrics-rs/metrics/pull/166", "id": 797348236, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0MzcwMjQ3", "number": 166, "title": "Prometheus global labels", "user": {"login": "AshtonKem", "id": 199201, "node_id": "MDQ6VXNlcjE5OTIwMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/199201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AshtonKem", "html_url": "https://github.com/AshtonKem", "followers_url": "https://api.github.com/users/AshtonKem/followers", "following_url": "https://api.github.com/users/AshtonKem/following{/other_user}", "gists_url": "https://api.github.com/users/AshtonKem/gists{/gist_id}", "starred_url": "https://api.github.com/users/AshtonKem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AshtonKem/subscriptions", "organizations_url": "https://api.github.com/users/AshtonKem/orgs", "repos_url": "https://api.github.com/users/AshtonKem/repos", "events_url": "https://api.github.com/users/AshtonKem/events{/privacy}", "received_events_url": "https://api.github.com/users/AshtonKem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-01-30T06:22:28Z", "updated_at": "2021-02-03T03:13:58Z", "closed_at": "2021-02-01T15:22:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/166", "html_url": "https://github.com/metrics-rs/metrics/pull/166", "diff_url": "https://github.com/metrics-rs/metrics/pull/166.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/166.patch", "merged_at": "2021-02-01T15:22:13Z"}, "body": "Gives the Prometheus reporter the ability to be configured with global labels, which are then added to each metric reported.\r\n\r\nCloses #143.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/166/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/166/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/163", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/163/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/163/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/163/events", "html_url": "https://github.com/metrics-rs/metrics/pull/163", "id": 792630171, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYwNDc1NTkz", "number": 163, "title": "Fix compile errors and warnings when compiling prometheus exporter without default features", "user": {"login": "RAnders00", "id": 1629196, "node_id": "MDQ6VXNlcjE2MjkxOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1629196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RAnders00", "html_url": "https://github.com/RAnders00", "followers_url": "https://api.github.com/users/RAnders00/followers", "following_url": "https://api.github.com/users/RAnders00/following{/other_user}", "gists_url": "https://api.github.com/users/RAnders00/gists{/gist_id}", "starred_url": "https://api.github.com/users/RAnders00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RAnders00/subscriptions", "organizations_url": "https://api.github.com/users/RAnders00/orgs", "repos_url": "https://api.github.com/users/RAnders00/repos", "events_url": "https://api.github.com/users/RAnders00/events{/privacy}", "received_events_url": "https://api.github.com/users/RAnders00/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-23T19:11:06Z", "updated_at": "2021-01-24T18:19:08Z", "closed_at": "2021-01-23T23:42:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/163", "html_url": "https://github.com/metrics-rs/metrics/pull/163", "diff_url": "https://github.com/metrics-rs/metrics/pull/163.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/163.patch", "merged_at": "2021-01-23T23:42:59Z"}, "body": "I was trying to use `metrics-exporter-prometheus` with `default-features = false` in my project and got these compile errors/warnings:\r\n\r\n```\r\nerror[E0432]: unresolved import `hyper`\r\n --> metrics-exporter-prometheus\\src\\common.rs:6:5\r\n  |\r\n6 | use hyper::Error as HyperError;\r\n  |     ^^^^^ use of undeclared crate or module `hyper`\r\n\r\nwarning: unused import: `InstallError`\r\n --> metrics-exporter-prometheus\\src\\builder.rs:9:21\r\n  |\r\n9 | use crate::common::{InstallError, Matcher};\r\n  |                     ^^^^^^^^^^^^\r\n  |\r\n  = note: `#[warn(unused_imports)]` on by default\r\n\r\nerror: aborting due to previous error; 1 warning emitted\r\n```\r\n\r\nThis PR fixes those errors, the project compiles fine with no default flags now.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/163/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/161", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/161/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/161/events", "html_url": "https://github.com/metrics-rs/metrics/pull/161", "id": 789994557, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU4MjU0NTk3", "number": 161, "title": "Change listening address for tcp and prometheus", "user": {"login": "xd009642", "id": 3472518, "node_id": "MDQ6VXNlcjM0NzI1MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/3472518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xd009642", "html_url": "https://github.com/xd009642", "followers_url": "https://api.github.com/users/xd009642/followers", "following_url": "https://api.github.com/users/xd009642/following{/other_user}", "gists_url": "https://api.github.com/users/xd009642/gists{/gist_id}", "starred_url": "https://api.github.com/users/xd009642/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xd009642/subscriptions", "organizations_url": "https://api.github.com/users/xd009642/orgs", "repos_url": "https://api.github.com/users/xd009642/repos", "events_url": "https://api.github.com/users/xd009642/events{/privacy}", "received_events_url": "https://api.github.com/users/xd009642/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-20T13:48:45Z", "updated_at": "2021-01-20T14:49:26Z", "closed_at": "2021-01-20T14:49:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/161", "html_url": "https://github.com/metrics-rs/metrics/pull/161", "diff_url": "https://github.com/metrics-rs/metrics/pull/161.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/161.patch", "merged_at": "2021-01-20T14:49:26Z"}, "body": "By setting the default listening address to localhost the servers\r\nsending out the metrics can only respond to other local connections.\r\nThis means that when you have another service consuming the metrics\r\nendpoint most users will have to change the default address to one which\r\ncan accept extern connections.\r\n\r\nThis PR changes the listening address to 0.0.0.0:PORT that way when\r\ndeploying or running different things in different networks the metrics\r\nconsumer can still consume with the default address. This came from\r\nwondering why things stopped working when I moved a local test to\r\ndocker-compose instead of just running directly on the host system.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/161/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/158", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/158/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/158/events", "html_url": "https://github.com/metrics-rs/metrics/pull/158", "id": 777501618, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ3NzgyMDM5", "number": 158, "title": "chore: update dependencies to latest versions", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-02T18:08:20Z", "updated_at": "2021-01-02T18:50:33Z", "closed_at": "2021-01-02T18:50:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/158", "html_url": "https://github.com/metrics-rs/metrics/pull/158", "diff_url": "https://github.com/metrics-rs/metrics/pull/158.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/158.patch", "merged_at": "2021-01-02T18:50:08Z"}, "body": "Since many of the deps in the Tokio ecosystem have solidified, as well as bumps on other dependencies in utility crates, it was a good time to do a sweeping update.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/158/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/157", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/157/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/157/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/157/events", "html_url": "https://github.com/metrics-rs/metrics/pull/157", "id": 775461129, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ2MTQwMDc4", "number": 157, "title": "More advanced metrics-tracing-context benches", "user": {"login": "MOZGIII", "id": 265507, "node_id": "MDQ6VXNlcjI2NTUwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/265507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MOZGIII", "html_url": "https://github.com/MOZGIII", "followers_url": "https://api.github.com/users/MOZGIII/followers", "following_url": "https://api.github.com/users/MOZGIII/following{/other_user}", "gists_url": "https://api.github.com/users/MOZGIII/gists{/gist_id}", "starred_url": "https://api.github.com/users/MOZGIII/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MOZGIII/subscriptions", "organizations_url": "https://api.github.com/users/MOZGIII/orgs", "repos_url": "https://api.github.com/users/MOZGIII/repos", "events_url": "https://api.github.com/users/MOZGIII/events{/privacy}", "received_events_url": "https://api.github.com/users/MOZGIII/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-12-28T15:42:32Z", "updated_at": "2021-01-25T15:42:22Z", "closed_at": "2021-01-25T15:42:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/157", "html_url": "https://github.com/metrics-rs/metrics/pull/157", "diff_url": "https://github.com/metrics-rs/metrics/pull/157.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/157.patch", "merged_at": "2021-01-25T15:42:22Z"}, "body": "This PR adds more advanced context benches.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/157/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/156", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/156/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/156/events", "html_url": "https://github.com/metrics-rs/metrics/pull/156", "id": 775454233, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ2MTM1MTIw", "number": 156, "title": "Upgrade criterion invocations to the modern form", "user": {"login": "MOZGIII", "id": 265507, "node_id": "MDQ6VXNlcjI2NTUwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/265507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MOZGIII", "html_url": "https://github.com/MOZGIII", "followers_url": "https://api.github.com/users/MOZGIII/followers", "following_url": "https://api.github.com/users/MOZGIII/following{/other_user}", "gists_url": "https://api.github.com/users/MOZGIII/gists{/gist_id}", "starred_url": "https://api.github.com/users/MOZGIII/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MOZGIII/subscriptions", "organizations_url": "https://api.github.com/users/MOZGIII/orgs", "repos_url": "https://api.github.com/users/MOZGIII/repos", "events_url": "https://api.github.com/users/MOZGIII/events{/privacy}", "received_events_url": "https://api.github.com/users/MOZGIII/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-28T15:27:27Z", "updated_at": "2021-01-02T17:03:32Z", "closed_at": "2021-01-02T17:03:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/156", "html_url": "https://github.com/metrics-rs/metrics/pull/156", "diff_url": "https://github.com/metrics-rs/metrics/pull/156.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/156.patch", "merged_at": "2021-01-02T17:03:32Z"}, "body": "The old legacy form really confuses me, so I decided to do this first before adding more benchmarks (something that I'm really aiming to do).\r\n\r\nNo changes besides rewriting the invocation form.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/156/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/149", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/149/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/149/events", "html_url": "https://github.com/metrics-rs/metrics/pull/149", "id": 773924279, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ0OTMxOTYw", "number": 149, "title": "New ways to access registry", "user": {"login": "MOZGIII", "id": 265507, "node_id": "MDQ6VXNlcjI2NTUwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/265507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MOZGIII", "html_url": "https://github.com/MOZGIII", "followers_url": "https://api.github.com/users/MOZGIII/followers", "following_url": "https://api.github.com/users/MOZGIII/following{/other_user}", "gists_url": "https://api.github.com/users/MOZGIII/gists{/gist_id}", "starred_url": "https://api.github.com/users/MOZGIII/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MOZGIII/subscriptions", "organizations_url": "https://api.github.com/users/MOZGIII/orgs", "repos_url": "https://api.github.com/users/MOZGIII/repos", "events_url": "https://api.github.com/users/MOZGIII/events{/privacy}", "received_events_url": "https://api.github.com/users/MOZGIII/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-23T16:41:27Z", "updated_at": "2020-12-24T21:08:26Z", "closed_at": "2020-12-23T22:48:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/149", "html_url": "https://github.com/metrics-rs/metrics/pull/149", "diff_url": "https://github.com/metrics-rs/metrics/pull/149.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/149.patch", "merged_at": "2020-12-23T22:48:00Z"}, "body": "This PR adds new, more efficient ways to perform registry snapshots.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/149/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/142", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/142/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/142/events", "html_url": "https://github.com/metrics-rs/metrics/pull/142", "id": 760883791, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM1NjMzOTc4", "number": 142, "title": "metrics: change histograms from u64 to f64", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354031456, "node_id": "MDU6TGFiZWwyMzU0MDMxNDU2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-refactor", "name": "T-refactor", "color": "0052cc", "default": false, "description": "Type: refactor."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-10T04:42:53Z", "updated_at": "2020-12-18T21:29:14Z", "closed_at": "2020-12-18T21:22:51Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/142", "html_url": "https://github.com/metrics-rs/metrics/pull/142", "diff_url": "https://github.com/metrics-rs/metrics/pull/142.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/142.patch", "merged_at": "2020-12-18T21:22:51Z"}, "body": "This PR changes the core data type for histograms from `u64` to `f64`.\r\n\r\nWe still have some work to do in order to assert that the performance of our implementations, both in data structure throughput/latency and accuracy of quantiles/percentiles.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/142/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 3, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/142/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/141", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/141/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/141/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/141/events", "html_url": "https://github.com/metrics-rs/metrics/pull/141", "id": 760770641, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM1NTQ3MDU0", "number": 141, "title": "metrics-observer: actually wrote a README", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-10T00:11:34Z", "updated_at": "2025-01-06T15:21:41Z", "closed_at": "2020-12-10T01:24:29Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/141", "html_url": "https://github.com/metrics-rs/metrics/pull/141", "diff_url": "https://github.com/metrics-rs/metrics/pull/141.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/141.patch", "merged_at": "2020-12-10T01:24:29Z"}, "body": "As stated in the title, we've added actual documentation for `metrics-observer`, including some screenshots, to demonstrate how and why to use it.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/141/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/139", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/139/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/139/events", "html_url": "https://github.com/metrics-rs/metrics/pull/139", "id": 758253212, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzNDU1NTYx", "number": 139, "title": "Update tui requirement from 0.12 to 0.13", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-07T07:39:50Z", "updated_at": "2020-12-10T02:32:49Z", "closed_at": "2020-12-10T02:32:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/139", "html_url": "https://github.com/metrics-rs/metrics/pull/139", "diff_url": "https://github.com/metrics-rs/metrics/pull/139.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/139.patch", "merged_at": "2020-12-10T02:32:38Z"}, "body": "Updates the requirements on [tui](https://github.com/fdehau/tui-rs) to permit the latest version.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/fdehau/tui-rs/releases\">tui's releases</a>.</em></p>\n<blockquote>\n<h2>v0.13.0</h2>\n<h3>Features</h3>\n<ul>\n<li>Add <code>LineGauge</code> widget which is a more compact variant of the existing <code>Gauge</code>.</li>\n<li>Bump <code>crossterm</code> to 0.18</li>\n</ul>\n<h3>Fixes</h3>\n<ul>\n<li>Take into account the borders of the <code>Table</code> widget when the widths of columns is controlled by\n<code>Percentage</code> and <code>Ratio</code> constraints.</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/fdehau/tui-rs/blob/master/CHANGELOG.md\">tui's changelog</a>.</em></p>\n<blockquote>\n<h2>v0.13.0 - 2020-11-14</h2>\n<h3>Features</h3>\n<ul>\n<li>Add <code>LineGauge</code> widget which is a more compact variant of the existing <code>Gauge</code>.</li>\n<li>Bump <code>crossterm</code> to 0.18</li>\n</ul>\n<h3>Fixes</h3>\n<ul>\n<li>Take into account the borders of the <code>Table</code> widget when the widths of columns is controlled by\n<code>Percentage</code> and <code>Ratio</code> constraints.</li>\n</ul>\n<h2>v0.12.0 - 2020-09-27</h2>\n<h3>Features</h3>\n<ul>\n<li>Make it easier to work with string with multiple lines in <code>Text</code> (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/361\">#361</a>).</li>\n</ul>\n<h3>Fixes</h3>\n<ul>\n<li>Fix a style leak in <code>Graph</code> so components drawn on top of the plotted data (i.e legend and axis\ntitles) are not affected by the style of the <code>Dataset</code>s (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/388\">#388</a>).</li>\n<li>Make sure <code>BarChart</code> shows bars with the max height only when the plotted data is actually equal\nto the max (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/383\">#383</a>).</li>\n</ul>\n<h2>v0.11.0 - 2020-09-20</h2>\n<h3>Features</h3>\n<ul>\n<li>Add the dot character as a new type of canvas marker (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/350\">#350</a>).</li>\n<li>Support more style modifiers on Windows (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/368\">#368</a>).</li>\n</ul>\n<h3>Fixes</h3>\n<ul>\n<li>Clearing the terminal through <code>Terminal::clear</code> will cause the whole UI to be redrawn (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/380\">#380</a>).</li>\n<li>Fix incorrect output when the first diff to draw is on the second cell of the terminal (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/347\">#347</a>).</li>\n</ul>\n<h2>v0.10.0 - 2020-07-17</h2>\n<h3>Breaking changes</h3>\n<h4>Easier cursor management</h4>\n<p>A new method has been added to <code>Frame</code> called <code>set_cursor</code>. It lets you specify where the cursor\nshould be placed after the draw call. Furthermore like any other widgets, if you do not set a cursor\nposition during a draw call, the cursor is automatically hidden.</p>\n<p>For example:</p>\n<pre lang=\"rust\"><code>&lt;/tr&gt;&lt;/table&gt; \n</code></pre>\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/8543523f18e805fc2289e09e24e71c1d51fee3a8\"><code>8543523</code></a> Release v0.13.0</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/5a9b59866bbe93dad00309e4ffc449a21601972d\"><code>5a9b598</code></a> feat(widgets/listitem): derive PartialEq</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/dc769562152e29091d04cf4904a1ebcde9336b46\"><code>dc76956</code></a> chore: add taskwarrior-tui to the list of apps using tui-rs (<a href=\"https://github-redirect.dependabot.com/fdehau/tui-rs/issues/403\">#403</a>)</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/98fb5e4bbd243d5c418301e09fd9a26f16236b00\"><code>98fb5e4</code></a> fix(widgets/table): take borders into account when percentage and ration cons...</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/25ff2e5e61f8902101e485743992db2412f77aad\"><code>25ff2e5</code></a> upgrade crossterm to v0.18</li>\n<li><a href=\"https://github.com/fdehau/tui-rs/commit/5050f1ce1c4a7790ee29a750709950f8b123939a\"><code>5050f1c</code></a> feat(widgets/gauge): add <code>LineGauge</code> variant of <code>Gauge</code></li>\n<li>See full diff in <a href=\"https://github.com/fdehau/tui-rs/compare/v0.12.0...v0.13.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/139/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/138", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/138/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/138/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/138/events", "html_url": "https://github.com/metrics-rs/metrics/pull/138", "id": 757746955, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzMDY4NTUy", "number": 138, "title": "core: add support for incrementing/decrementing gauges", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-05T17:51:00Z", "updated_at": "2020-12-06T02:43:38Z", "closed_at": "2020-12-06T02:43:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/138", "html_url": "https://github.com/metrics-rs/metrics/pull/138", "diff_url": "https://github.com/metrics-rs/metrics/pull/138.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/138.patch", "merged_at": "2020-12-06T02:43:33Z"}, "body": "This PR works to address #120 which seeks to add increment/decrement support to gauges.\r\n\r\nAs laid out in the issue, gauges are the only metric type where the user needs to hold the value themselves, which can make the \"use the macros anywhere, and they just work\" aspect hard to achieve.\r\n\r\nTo tackle this enhancement, we've subtly changed the `Recorder` API such that updating a gauge passes a sum type that indicates what the update should do: use an absolute value (same behavior as `gauge!`) or if it should increment or decrement the value being held by the recorder.\r\n\r\nIn order to surface this to users, we've added two new macros -- `increment_gauge!` and `decrement_gauge!` -- which do exactly what they say.  `gauge!` remains untouched.  We've also renamed `increment!` to `increment_counter!` just to avoid confusion/be a little more specific.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/138/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/137", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/137/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/137/events", "html_url": "https://github.com/metrics-rs/metrics/pull/137", "id": 757520212, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMyODgyMjE0", "number": 137, "title": "Fix macro documentation by removing proc-macro-hack.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-05T03:00:03Z", "updated_at": "2020-12-05T03:52:05Z", "closed_at": "2020-12-05T03:52:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/137", "html_url": "https://github.com/metrics-rs/metrics/pull/137", "diff_url": "https://github.com/metrics-rs/metrics/pull/137.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/137.patch", "merged_at": "2020-12-05T03:52:01Z"}, "body": "Given that `#[proc_macro]` is now valid for expression position usage in 1.45 and above, and our MSRV is 1.46, we're getting rid of `proc-macro-hack` which in turn will fix #132 by allowing the same function docs to work for IDEs as well as docs.rs.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/137/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/136", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/136/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/136/events", "html_url": "https://github.com/metrics-rs/metrics/pull/136", "id": 757416726, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMyNzk3Njk5", "number": 136, "title": "Harden the quality of AtomicBucket.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-04T21:25:45Z", "updated_at": "2020-12-05T00:01:55Z", "closed_at": "2020-12-05T00:01:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/136", "html_url": "https://github.com/metrics-rs/metrics/pull/136", "diff_url": "https://github.com/metrics-rs/metrics/pull/136.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/136.patch", "merged_at": "2020-12-05T00:01:50Z"}, "body": "This PR started out as an attempt to work on #134, which revolved around speeding up `AtomicBucket<T>`.  In practice, there were no performance gains to be found for the current design, and if there are improvements to be made, they're not immediately obvious to me or they are out of my skill range. :)\r\n\r\nInstead, what we did do is develop tooling to examine the performance of `AtomicBucket<T>` under varying workloads, and in turn, this gave us the framework to validate that `AtomicBucket<T>` works as intended, and in doing _that_, we were able to fix (and validate) a small bug: in-flight writes being missed during iteration.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/136/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/135", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/135/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/135/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/135/events", "html_url": "https://github.com/metrics-rs/metrics/pull/135", "id": 753265946, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI5Mzc5NDYy", "number": 135, "title": "Update hdrhistogram dependency", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-30T08:24:38Z", "updated_at": "2020-12-04T21:22:38Z", "closed_at": "2020-12-04T21:13:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/135", "html_url": "https://github.com/metrics-rs/metrics/pull/135", "diff_url": "https://github.com/metrics-rs/metrics/pull/135.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/135.patch", "merged_at": "2020-12-04T21:13:25Z"}, "body": "[hdrhistogram 7.2.0](https://github.com/HdrHistogram/HdrHistogram_rust/blob/master/CHANGELOG.md#720---2020-11-29) was recently released. This bumps that dependency. I noticed because its leading to a duplicate dependency in one of @EmbarkStudios projects.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/135/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/131", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/131/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/131/events", "html_url": "https://github.com/metrics-rs/metrics/pull/131", "id": 746130496, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIzNTgyNjkw", "number": 131, "title": "Add support for culling idle metrics from Prometheus output", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-18T23:51:10Z", "updated_at": "2020-11-24T01:02:08Z", "closed_at": "2020-11-24T01:02:03Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/131", "html_url": "https://github.com/metrics-rs/metrics/pull/131", "diff_url": "https://github.com/metrics-rs/metrics/pull/131.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/131.patch", "merged_at": "2020-11-24T01:02:03Z"}, "body": "Per #128, we wanted the ability to drop/remove idle metrics from output, and from consuming memory, where idleness is defined by how long it has been since the last update to the metric.\r\n\r\nThis PR takes a stab at adding this support by making a few changes here and there:\r\n- `Registry` now has the concept of generations for a metric, where each operation increments the generation\r\n- `PrometheusRecorder` uses generations to keep a recency list of key -> generation/last update\r\n- when metrics are seen with the same generation as the last time we generated our output, we check their recency\r\n- if the metric has been idle longer than `idle_timeout`, we remove it from the registry, and in turn, the rendered output\r\n\r\nRunning the basic `metrics-benchmark` test doesn't show any major regressions, and as expected, microbenchmarks for `Registry` have gone up by 6-8% as we're now doing extra work for every operation.  I think this is sustainable, however, as we're still in 60-70ns territory for registry operations.  We expect to hopefully claw some of this time back with future optimizations around key hashing and `dashmap` v4.\r\n\r\nRemaining items:\r\n- [x] tests in the exporter itself to exercise dropping metrics\r\n\r\nCloses #128 \r\n", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/131/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/130", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/130/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/130/events", "html_url": "https://github.com/metrics-rs/metrics/pull/130", "id": 744290630, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIyMDQ0MjEw", "number": 130, "title": "fix concurrent writer/uninitialized memory bug with AtomicBucket", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-16T23:48:50Z", "updated_at": "2020-11-17T01:10:27Z", "closed_at": "2020-11-17T01:10:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/130", "html_url": "https://github.com/metrics-rs/metrics/pull/130", "diff_url": "https://github.com/metrics-rs/metrics/pull/130.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/130.patch", "merged_at": "2020-11-17T01:10:08Z"}, "body": "Ironically, this is a terribly simple fix but it works.\r\n\r\nWe don't really have a way to reproduce the issue, but I think the original analysis was detailed enough to reason that it did 1) actually exist and that 2) copying the approach taken by crossbeam's `SegQueue` to track status per-slot would be the correct fix.\r\n\r\nBenchmarks show effectively no difference in performance, tests still pass, etc.\r\n\r\nFixes #126 ", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/130/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/129", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/129/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/129/events", "html_url": "https://github.com/metrics-rs/metrics/pull/129", "id": 744268617, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIyMDI1NzI2", "number": 129, "title": "core: fix unit binary vs decimal wonkiness", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-16T22:58:22Z", "updated_at": "2020-11-17T01:10:40Z", "closed_at": "2020-11-16T23:23:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/129", "html_url": "https://github.com/metrics-rs/metrics/pull/129", "diff_url": "https://github.com/metrics-rs/metrics/pull/129.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/129.patch", "merged_at": "2020-11-16T23:23:20Z"}, "body": "Per the description in #118, this PR focuses on drawing a clear distinction between binary and decimal exponents when referring to data, particularly when referring to amounts of storage vs amounts of data _transfer_.  To wit, storage is commonly referenced in bytes, where transfer is referenced in bits.  However, a standard \"megabyte\" is actually 1000 kilobytes, vs the 1024 kilobytes most people would commonly expect.\r\n\r\nThus, we've switched to use the correct IEC naming for both storage and data transfer units: storage i.e. `Unit::Terabytes` will now use the binary naming i.e. `Unit::Tebibytes` whereas data transfer will continue to use the decimal naming i.e. `TerabitsPerSecond`.\r\n\r\nWe've also augmented the documentation for these enum variants to better call this out and explain the subtlety, as again, this can be a confusing colloquialism picked up over time.\r\n\r\nWe've also fixed a bug with `Unit::is_data_rate_based`.\r\n\r\nFixes #118 ", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/129/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/127", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/127/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/127/events", "html_url": "https://github.com/metrics-rs/metrics/pull/127", "id": 743580150, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIxNDU1NTE5", "number": 127, "title": "Update arc-swap requirement from 0.4 to 1.0", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-16T07:18:16Z", "updated_at": "2020-11-16T20:36:45Z", "closed_at": "2020-11-16T20:36:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/127", "html_url": "https://github.com/metrics-rs/metrics/pull/127", "diff_url": "https://github.com/metrics-rs/metrics/pull/127.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/127.patch", "merged_at": "2020-11-16T20:36:35Z"}, "body": "Updates the requirements on [arc-swap](https://github.com/vorner/arc-swap) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/vorner/arc-swap/blob/master/CHANGELOG.md\">arc-swap's changelog</a>.</em></p>\n<blockquote>\n<h1>1.0.0</h1>\n<ul>\n<li>Remove Clone implementation. People are often confused by it and it is easy to\nemulate by hand in the rare case it is actually needed.</li>\n</ul>\n<h1>1.0.0-rc1</h1>\n<ul>\n<li>Get rid of the <code>load_signal_safe</code>. It only complicates things and it is niche;\nsignal-hook-registry has its own simplified version.</li>\n<li>Avoid <code>from_ptr(as_ptr())</code>. Slight change in <code>RefCnt::inc</code> which technically\nis API breaking change, but this one should not matter in practice.</li>\n<li>Extend documentation about clone behaviour.</li>\n<li>Few more traits for Guard (<code>From&lt;T: RefCnt&gt;</code>, <code>Default</code>).</li>\n<li>Get rid of <code>rcu_unwap</code>, the whole concept is a trap.</li>\n<li>Hide the whole gen lock thing.</li>\n<li>Introduce the <code>Strategy</code>, as a high level way to choose how exactly the\nlocking happens.\n<ul>\n<li>Not possible to implement by downstream users just yet, or call them.</li>\n<li>The CaS is its own trait for flexibility.</li>\n</ul>\n</li>\n<li>Adding the SimpleGenLock experimental strategy.\n<ul>\n<li>Not part of stability guarantees.</li>\n</ul>\n</li>\n</ul>\n<h1>0.4.7</h1>\n<ul>\n<li>Rename the <code>unstable-weak</code> to <code>weak</code> feature. The support is now available on\n1.45 (currently in beta).</li>\n</ul>\n<h1>0.4.6</h1>\n<ul>\n<li>Adjust to <code>Weak::as_ptr</code> from std (the weak pointer support, relying on\nunstable features).</li>\n<li>Support running on miri (without some optimizations), so dependencies may run\nmiri tests.</li>\n<li>Little optimization when waiting out the contention on write operations.</li>\n</ul>\n<h1>0.4.5</h1>\n<ul>\n<li>Added <code>Guard::from_inner</code>.</li>\n</ul>\n<h1>0.4.4</h1>\n<ul>\n<li>Top-level docs rewrite (less rambling, hopefully more readable).</li>\n</ul>\n<h1>0.4.3</h1>\n<ul>\n<li>Fix the <code>Display</code> implementation on <code>Guard</code> to correctly delegate to the\nunderlying <code>Display</code> implementation.</li>\n</ul>\n<h1>0.4.2</h1>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/8b70d693786a89f1d9ebcbb130f5a0dae3ae7965\"><code>8b70d69</code></a> Version 1.0.0</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/2433d5719be341dc520a8bb93d9d3ce7f141a80d\"><code>2433d57</code></a> Common patterns in documentation</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/11d1c097a30a215efbcd4a94018bc34cd1b76741\"><code>11d1c09</code></a> Remove the Clone implementation</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/607f6303fe13f10ba2a11d326529e1a152137872\"><code>607f630</code></a> 1.0.0-rc1</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/6f2822035ba383e60f9a6bebee415b9cab2f5170\"><code>6f28220</code></a> Experimental SimpleGenLock strategy</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/ba17cb95bf91d8f0586d946c4575a0c7aa50c899\"><code>ba17cb9</code></a> Make the private unsharded smaller</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/7a3c5068e3d1d1ebefd930ad88c103e646a38db7\"><code>7a3c506</code></a> Seal the AsRaw trait</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/89e604d15e3485455950e48daf9c0bd585cc5a7f\"><code>89e604d</code></a> Changelog</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/be122285ca55b4586dc8436b9879f5f350999628\"><code>be12228</code></a> Fix compilation on various CI platforms</li>\n<li><a href=\"https://github.com/vorner/arc-swap/commit/af01624614f7bd04058974ae8b6f37a8625e17d5\"><code>af01624</code></a> Docs and cleanups</li>\n<li>Additional commits viewable in <a href=\"https://github.com/vorner/arc-swap/compare/v0.4.0...v1.0.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/127/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/125", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/125/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/125/events", "html_url": "https://github.com/metrics-rs/metrics/pull/125", "id": 742615626, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIwNzA1ODIw", "number": 125, "title": "Switch to collecting metric names by part.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-13T17:06:44Z", "updated_at": "2020-11-17T01:10:41Z", "closed_at": "2020-11-16T20:29:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/125", "html_url": "https://github.com/metrics-rs/metrics/pull/125", "diff_url": "https://github.com/metrics-rs/metrics/pull/125.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/125.patch", "merged_at": "2020-11-16T20:29:12Z"}, "body": "In most cases, a metric has a single string identifier for its name.  Depending on whether you're using a layer that appends or prepends another string, or want to do something like scoping a metric name by where the callsite lives, you inevitably have to modify that string identifier to do so.  This comes at a cost, as even if the metric name can be referred to statically for the life of the program, it now must be copied, which involves allocation and ultimately slows down the codepath from `counter!(...)` to reaching the installed recorder.  Further, the optimizations that `metrics`make to push down as much work to compile-time as possible are then squandered as soon as a small change is made.\r\n\r\nThis PR introduces a new approach to building the name of a metric: `NameParts`.\r\n\r\n`NameParts` contains a custom copy-on-write smart pointer (more on that later) which holds a reference to a slice or vector of actual string parts, which themselves are COW pointers to a `&'static str`/`String`.  What this lets us achieve is being able to provide multiple pieces for a metric name upfront _without_ allocating or mutating the strings, which means it can be done in a `const` fashion and allows `metrics` to take advantage of all of the existing optimizations it does.\r\n\r\nWhen anything in the layer stack, or elsewhere, wants to modify a key in an additive way, it can simply prepend or append a new COW pointer to the given data to `NameParts`, incurring a small allocation for the COW pointer (and potentially the string being used) but without reallocating the existing parts.\r\n\r\nOn top of that, we have a custom COW pointer, which is a stripped down version of `beef`, which itself is a stripped down version of `std::borrow::Cow`.  This bears some explanation.\r\n\r\n`beef` itself is an optimization to make the `Cow` struct smaller.  Normally, `std::borrow::Cow` would be 4 words -- discriminant, capacity, length, data pointer -- where `beef::Cow` is 3 words, as it bakes the discriminant into the capacity field.  It has an even more optimized mode where it splits the capacity/length within a single word, allowing you to have a 2-word COW pointer when you know the length/capacity of the value will be less than 2^32.  This is perfect for `metrics`.\r\n\r\nWe've forked `beef` here in order to make some changes, though:\r\n- generics and `const` aren't yet stable, so we couldn't use `Cow::const_slice` on stable\r\n- when allocating a new vector during a clone, we increase the capacity knowing that a new value will be written into it\r\n- make the 2-vs-3 word optimization baked in rather than having to futz with `cfg` attributes ourselves\r\n\r\nRight now, the 2-word optimization is commented out as we have no way to panic in `const` fns on stable, and while it's very unlikely that a user passes in a 4GB metric name or 4 million values, we'd rather not rely on that assumption.\r\n\r\nAll of this boils down to us now using this enhanced COW pointer not only for strings themselves, but the string slices for `NameParts` _and_ using it labels, allowing us to now use static slices for labels instead of always having to allocate a vector!\r\n\r\nWe've introduced a lot of permutations of constructor methods and so this could probably stand to do with some clean-up/consolidation but the premise is there.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/125/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]