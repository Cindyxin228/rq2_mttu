[{"url": "https://api.github.com/repos/metrics-rs/metrics/issues/461", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/461/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/461/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/461/events", "html_url": "https://github.com/metrics-rs/metrics/pull/461", "id": 2177668234, "node_id": "PR_kwDOCo2QLc5pKqvA", "number": 461, "title": "Add retain functions to Registry", "user": {"login": "kathoum", "id": 1306923, "node_id": "MDQ6VXNlcjEzMDY5MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1306923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kathoum", "html_url": "https://github.com/kathoum", "followers_url": "https://api.github.com/users/kathoum/followers", "following_url": "https://api.github.com/users/kathoum/following{/other_user}", "gists_url": "https://api.github.com/users/kathoum/gists{/gist_id}", "starred_url": "https://api.github.com/users/kathoum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kathoum/subscriptions", "organizations_url": "https://api.github.com/users/kathoum/orgs", "repos_url": "https://api.github.com/users/kathoum/repos", "events_url": "https://api.github.com/users/kathoum/events{/privacy}", "received_events_url": "https://api.github.com/users/kathoum/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-03-10T11:26:43Z", "updated_at": "2024-03-16T16:30:42Z", "closed_at": "2024-03-16T12:35:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/461", "html_url": "https://github.com/metrics-rs/metrics/pull/461", "diff_url": "https://github.com/metrics-rs/metrics/pull/461.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/461.patch", "merged_at": "2024-03-16T12:35:18Z"}, "body": "This adds public functions retain_counters, retain_gauges, retain_histograms, that work like HashMap::retain", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/461/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/461/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/460", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/460/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/460/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/460/events", "html_url": "https://github.com/metrics-rs/metrics/pull/460", "id": 2175485924, "node_id": "PR_kwDOCo2QLc5pDXrt", "number": 460, "title": "feat: add capability to purge old histogram data", "user": {"login": "mnpw", "id": 13679906, "node_id": "MDQ6VXNlcjEzNjc5OTA2", "avatar_url": "https://avatars.githubusercontent.com/u/13679906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mnpw", "html_url": "https://github.com/mnpw", "followers_url": "https://api.github.com/users/mnpw/followers", "following_url": "https://api.github.com/users/mnpw/following{/other_user}", "gists_url": "https://api.github.com/users/mnpw/gists{/gist_id}", "starred_url": "https://api.github.com/users/mnpw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mnpw/subscriptions", "organizations_url": "https://api.github.com/users/mnpw/orgs", "repos_url": "https://api.github.com/users/mnpw/repos", "events_url": "https://api.github.com/users/mnpw/events{/privacy}", "received_events_url": "https://api.github.com/users/mnpw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-03-08T07:54:32Z", "updated_at": "2024-03-16T16:31:21Z", "closed_at": "2024-03-16T14:04:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/460", "html_url": "https://github.com/metrics-rs/metrics/pull/460", "diff_url": "https://github.com/metrics-rs/metrics/pull/460.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/460.patch", "merged_at": "2024-03-16T14:04:04Z"}, "body": "Copy of #451 \r\n\r\n---\r\n\r\n# What\r\n\r\n- add purge_timeout option to PrometheusBuilder\r\n- run a purger that purges based on the purge_timeout\r\n\r\nImplements third way as [prescribed here](https://github.com/metrics-rs/metrics/issues/245#issuecomment-974155299) to purge old histogram data:\r\n> - update the builder to generate a future which both drives the Hyper server future as well as a call to get_recent_metrics on an interval\r\n\r\nFixes https://github.com/metrics-rs/metrics/issues/245", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/460/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/458", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/458/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/458/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/458/events", "html_url": "https://github.com/metrics-rs/metrics/pull/458", "id": 2167960113, "node_id": "PR_kwDOCo2QLc5opnWj", "number": 458, "title": "Update base64 requirement from 0.21.0 to 0.22.0", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}, {"id": 4274666439, "node_id": "LA_kwDOCo2QLc7-yjvH", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/rust", "name": "rust", "color": "000000", "default": false, "description": "Pull requests that update Rust code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-03-04T23:16:13Z", "updated_at": "2024-03-16T16:04:13Z", "closed_at": "2024-03-16T16:04:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/458", "html_url": "https://github.com/metrics-rs/metrics/pull/458", "diff_url": "https://github.com/metrics-rs/metrics/pull/458.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/458.patch", "merged_at": "2024-03-16T16:04:08Z"}, "body": "Updates the requirements on [base64](https://github.com/marshallpierce/rust-base64) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/marshallpierce/rust-base64/blob/master/RELEASE-NOTES.md\">base64's changelog</a>.</em></p>\n<blockquote>\n<h1>0.22.0</h1>\n<ul>\n<li><code>DecodeSliceError::OutputSliceTooSmall</code> is now conservative rather than precise. That is, the error will only occur if the decoded output <em>cannot</em> fit, meaning that <code>Engine::decode_slice</code> can now be used with exactly-sized output slices. As part of this, <code>Engine::internal_decode</code> now returns <code>DecodeSliceError</code> instead of <code>DecodeError</code>, but that is not expected to affect any external callers.</li>\n<li><code>DecodeError::InvalidLength</code> now refers specifically to the <em>number of valid symbols</em> being invalid (i.e. <code>len % 4 == 1</code>), rather than just the number of input bytes. This avoids confusing scenarios when based on interpretation you could make a case for either <code>InvalidLength</code> or <code>InvalidByte</code> being appropriate.</li>\n<li>Decoding is somewhat faster (5-10%)</li>\n</ul>\n<h1>0.21.7</h1>\n<ul>\n<li>Support getting an alphabet's contents as a str via <code>Alphabet::as_str()</code></li>\n</ul>\n<h1>0.21.6</h1>\n<ul>\n<li>Improved introductory documentation and example</li>\n</ul>\n<h1>0.21.5</h1>\n<ul>\n<li>Add <code>Debug</code> and <code>Clone</code> impls for the general purpose Engine</li>\n</ul>\n<h1>0.21.4</h1>\n<ul>\n<li>Make <code>encoded_len</code> <code>const</code>, allowing the creation of arrays sized to encode compile-time-known data lengths</li>\n</ul>\n<h1>0.21.3</h1>\n<ul>\n<li>Implement <code>source</code> instead of <code>cause</code> on Error types</li>\n<li>Roll back MSRV to 1.48.0 so Debian can continue to live in a time warp</li>\n<li>Slightly faster chunked encoding for short inputs</li>\n<li>Decrease binary size</li>\n</ul>\n<h1>0.21.2</h1>\n<ul>\n<li>Rollback MSRV to 1.57.0 -- only dev dependencies need 1.60, not the main code</li>\n</ul>\n<h1>0.21.1</h1>\n<ul>\n<li>Remove the possibility of panicking during decoded length calculations</li>\n<li><code>DecoderReader</code> no longer sometimes erroneously ignores\npadding  <a href=\"https://redirect.github.com/marshallpierce/rust-base64/issues/226\">#226</a></li>\n</ul>\n<h2>Breaking changes</h2>\n<ul>\n<li><code>Engine.internal_decode</code> return type changed</li>\n<li>Update MSRV to 1.60.0</li>\n</ul>\n<h1>0.21.0</h1>\n<h2>Migration</h2>\n<h3>Functions</h3>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/marshallpierce/rust-base64/commit/5d70ba7576f9aafcbf02bd8acfcb9973411fb95f\"><code>5d70ba7</code></a> Merge pull request <a href=\"https://redirect.github.com/marshallpierce/rust-base64/issues/269\">#269</a> from marshallpierce/mp/decode-precisely</li>\n<li><a href=\"https://github.com/marshallpierce/rust-base64/commit/efb6c006c75ddbe60c084c2e3e0e084cd18b0122\"><code>efb6c00</code></a> Release notes</li>\n<li><a href=\"https://github.com/marshallpierce/rust-base64/commit/2b91084a31ad11624acd81e06455ba0cbd21d4a8\"><code>2b91084</code></a> Add some tests to boost coverage</li>\n<li><a href=\"https://github.com/marshallpierce/rust-base64/commit/9e9c7abe65fed78c35a1e94e11446d66ff118c25\"><code>9e9c7ab</code></a> Engine::internal_decode now returns DecodeSliceError</li>\n<li><a href=\"https://github.com/marshallpierce/rust-base64/commit/a8a60f43c56597259558261353b5bf7e953eed36\"><code>a8a60f4</code></a> Decode main loop improvements</li>\n<li><a href=\"https://github.com/marshallpierce/rust-base64/commit/a25be0667c63460827cfadd71d1630acb442bb09\"><code>a25be06</code></a> Simplify leftover output writes</li>\n<li><a href=\"https://github.com/marshallpierce/rust-base64/commit/9979cc33bb964b4ee36898773a01f546d2c6487a\"><code>9979cc3</code></a> Keep morsels as separate bytes</li>\n<li><a href=\"https://github.com/marshallpierce/rust-base64/commit/37670c5ec224eec3af9778fb371c5529dfab52af\"><code>37670c5</code></a> Bump dev toolchain version (<a href=\"https://redirect.github.com/marshallpierce/rust-base64/issues/268\">#268</a>)</li>\n<li><a href=\"https://github.com/marshallpierce/rust-base64/commit/9652c787730e58515ce7b44fcafd2430ab424628\"><code>9652c78</code></a> v0.21.7</li>\n<li><a href=\"https://github.com/marshallpierce/rust-base64/commit/08deccf7031b9c769a556cd9ebb0bc9cac988272\"><code>08deccf</code></a> provide as_str() method to return the alphabet characters (<a href=\"https://redirect.github.com/marshallpierce/rust-base64/issues/264\">#264</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/marshallpierce/rust-base64/compare/v0.21.0...v0.22.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/458/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/457", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/457/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/457/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/457/events", "html_url": "https://github.com/metrics-rs/metrics/pull/457", "id": 2165215674, "node_id": "PR_kwDOCo2QLc5ogRFT", "number": 457, "title": "Add 'get' functions to Registry", "user": {"login": "kathoum", "id": 1306923, "node_id": "MDQ6VXNlcjEzMDY5MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1306923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kathoum", "html_url": "https://github.com/kathoum", "followers_url": "https://api.github.com/users/kathoum/followers", "following_url": "https://api.github.com/users/kathoum/following{/other_user}", "gists_url": "https://api.github.com/users/kathoum/gists{/gist_id}", "starred_url": "https://api.github.com/users/kathoum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kathoum/subscriptions", "organizations_url": "https://api.github.com/users/kathoum/orgs", "repos_url": "https://api.github.com/users/kathoum/repos", "events_url": "https://api.github.com/users/kathoum/events{/privacy}", "received_events_url": "https://api.github.com/users/kathoum/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-03-03T07:09:50Z", "updated_at": "2024-03-16T16:31:25Z", "closed_at": "2024-03-09T15:58:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/457", "html_url": "https://github.com/metrics-rs/metrics/pull/457", "diff_url": "https://github.com/metrics-rs/metrics/pull/457.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/457.patch", "merged_at": "2024-03-09T15:58:35Z"}, "body": "This adds public functions get_counter, get_gauge, get_histogram, that return a clone of the requested metric stored in the internal Storage.\r\n\r\nThis allows retrieving a copy of a single metric without creating a full HashMap clone.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/457/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/450", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/450/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/450/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/450/events", "html_url": "https://github.com/metrics-rs/metrics/pull/450", "id": 2139746784, "node_id": "PR_kwDOCo2QLc5nJiHs", "number": 450, "title": "chore/hyper 1.1 upgrade", "user": {"login": "evaneaston", "id": 5614092, "node_id": "MDQ6VXNlcjU2MTQwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5614092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evaneaston", "html_url": "https://github.com/evaneaston", "followers_url": "https://api.github.com/users/evaneaston/followers", "following_url": "https://api.github.com/users/evaneaston/following{/other_user}", "gists_url": "https://api.github.com/users/evaneaston/gists{/gist_id}", "starred_url": "https://api.github.com/users/evaneaston/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evaneaston/subscriptions", "organizations_url": "https://api.github.com/users/evaneaston/orgs", "repos_url": "https://api.github.com/users/evaneaston/repos", "events_url": "https://api.github.com/users/evaneaston/events{/privacy}", "received_events_url": "https://api.github.com/users/evaneaston/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2024-02-17T02:11:13Z", "updated_at": "2024-03-16T16:31:30Z", "closed_at": "2024-03-13T12:58:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/450", "html_url": "https://github.com/metrics-rs/metrics/pull/450", "diff_url": "https://github.com/metrics-rs/metrics/pull/450.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/450.patch", "merged_at": "2024-03-13T12:58:32Z"}, "body": "  - update to hyper 1.1\r\n  - factor large `PrometheusBuilder`.`build` function into separate functions \r\n  - move those functions into separate modules to reduce some of the feature driven uses\r\n  - add an http-listener integration test", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/450/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/444", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/444/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/444/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/444/events", "html_url": "https://github.com/metrics-rs/metrics/pull/444", "id": 2123529973, "node_id": "PR_kwDOCo2QLc5mSeqD", "number": 444, "title": "Rolling summary configuration", "user": {"login": "cparratto", "id": 951621, "node_id": "MDQ6VXNlcjk1MTYyMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/951621?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cparratto", "html_url": "https://github.com/cparratto", "followers_url": "https://api.github.com/users/cparratto/followers", "following_url": "https://api.github.com/users/cparratto/following{/other_user}", "gists_url": "https://api.github.com/users/cparratto/gists{/gist_id}", "starred_url": "https://api.github.com/users/cparratto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cparratto/subscriptions", "organizations_url": "https://api.github.com/users/cparratto/orgs", "repos_url": "https://api.github.com/users/cparratto/repos", "events_url": "https://api.github.com/users/cparratto/events{/privacy}", "received_events_url": "https://api.github.com/users/cparratto/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-02-07T17:29:38Z", "updated_at": "2024-03-16T16:31:33Z", "closed_at": "2024-03-01T01:47:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/444", "html_url": "https://github.com/metrics-rs/metrics/pull/444", "diff_url": "https://github.com/metrics-rs/metrics/pull/444.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/444.patch", "merged_at": "2024-03-01T01:47:57Z"}, "body": "Adds bucket duration as configurable element for rolling summaries.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/444/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/439", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/439/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/439/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/439/events", "html_url": "https://github.com/metrics-rs/metrics/pull/439", "id": 2081026621, "node_id": "PR_kwDOCo2QLc5kCc2z", "number": 439, "title": "Update `indexmap` to version `2`", "user": {"login": "fornwall", "id": 277251, "node_id": "MDQ6VXNlcjI3NzI1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/277251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fornwall", "html_url": "https://github.com/fornwall", "followers_url": "https://api.github.com/users/fornwall/followers", "following_url": "https://api.github.com/users/fornwall/following{/other_user}", "gists_url": "https://api.github.com/users/fornwall/gists{/gist_id}", "starred_url": "https://api.github.com/users/fornwall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fornwall/subscriptions", "organizations_url": "https://api.github.com/users/fornwall/orgs", "repos_url": "https://api.github.com/users/fornwall/repos", "events_url": "https://api.github.com/users/fornwall/events{/privacy}", "received_events_url": "https://api.github.com/users/fornwall/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-01-15T00:24:41Z", "updated_at": "2024-02-11T12:40:33Z", "closed_at": "2024-01-20T20:30:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/439", "html_url": "https://github.com/metrics-rs/metrics/pull/439", "diff_url": "https://github.com/metrics-rs/metrics/pull/439.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/439.patch", "merged_at": "2024-01-20T20:30:07Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/439/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/438", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/438/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/438/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/438/events", "html_url": "https://github.com/metrics-rs/metrics/pull/438", "id": 2081019565, "node_id": "PR_kwDOCo2QLc5kCbOG", "number": 438, "title": "Update `hashbrown` to `0.14`", "user": {"login": "fornwall", "id": 277251, "node_id": "MDQ6VXNlcjI3NzI1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/277251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fornwall", "html_url": "https://github.com/fornwall", "followers_url": "https://api.github.com/users/fornwall/followers", "following_url": "https://api.github.com/users/fornwall/following{/other_user}", "gists_url": "https://api.github.com/users/fornwall/gists{/gist_id}", "starred_url": "https://api.github.com/users/fornwall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fornwall/subscriptions", "organizations_url": "https://api.github.com/users/fornwall/orgs", "repos_url": "https://api.github.com/users/fornwall/repos", "events_url": "https://api.github.com/users/fornwall/events{/privacy}", "received_events_url": "https://api.github.com/users/fornwall/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-01-15T00:18:49Z", "updated_at": "2024-02-11T12:40:29Z", "closed_at": "2024-01-20T20:28:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/438", "html_url": "https://github.com/metrics-rs/metrics/pull/438", "diff_url": "https://github.com/metrics-rs/metrics/pull/438.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/438.patch", "merged_at": "2024-01-20T20:28:55Z"}, "body": "As the MSRV of `metrics-util` now is `1.65` we can now update to `hashbrown` version `0.14` (which has MSRV `1.63`).", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/438/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/435", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/435/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/435/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/435/events", "html_url": "https://github.com/metrics-rs/metrics/pull/435", "id": 2070978163, "node_id": "PR_kwDOCo2QLc5jgQ1H", "number": 435, "title": "Specific endpoint for prometheus exporter health checking", "user": {"login": "biancamip", "id": 57107170, "node_id": "MDQ6VXNlcjU3MTA3MTcw", "avatar_url": "https://avatars.githubusercontent.com/u/57107170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/biancamip", "html_url": "https://github.com/biancamip", "followers_url": "https://api.github.com/users/biancamip/followers", "following_url": "https://api.github.com/users/biancamip/following{/other_user}", "gists_url": "https://api.github.com/users/biancamip/gists{/gist_id}", "starred_url": "https://api.github.com/users/biancamip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/biancamip/subscriptions", "organizations_url": "https://api.github.com/users/biancamip/orgs", "repos_url": "https://api.github.com/users/biancamip/repos", "events_url": "https://api.github.com/users/biancamip/events{/privacy}", "received_events_url": "https://api.github.com/users/biancamip/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2024-01-08T18:08:26Z", "updated_at": "2024-02-11T15:43:41Z", "closed_at": "2024-01-14T15:32:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/435", "html_url": "https://github.com/metrics-rs/metrics/pull/435", "diff_url": "https://github.com/metrics-rs/metrics/pull/435.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/435.patch", "merged_at": "2024-01-14T15:32:54Z"}, "body": "**Problem:**\r\nA service that installs a prometheus metrics exporter will return all metrics data on any request, regardless of the endpoint requested. This presents an issue when doing health checks using a service networking solution such as [Consul](https://www.consul.io/), which performs requests on short intervals and **spreads the response status + body across all server nodes**. Since the **response body contains all metrics collected** and will probably change from one check to the next, the issue is that this behavior will generate a high network traffic, resulting in delays, elevated costs, and so on.\r\n\r\n**Solution:** \r\nFor health checking, the response could be as simple as a successful status code with a short body content. I've implemented this for the path \"/health\", while maintaining the previous behavior for all other cases.\r\n\r\nIf necessary, this solution could be adjusted to allow configuration of the health path on `PrometheusBuilder` struct initialization, and it could also be disabled in case the current behavior is desired, but I think this minor change would make significant difference for now.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/435/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/435/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/429", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/429/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/429/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/429/events", "html_url": "https://github.com/metrics-rs/metrics/pull/429", "id": 2049563404, "node_id": "PR_kwDOCo2QLc5iayIZ", "number": 429, "title": "Try other resolved addresses if the first one fails", "user": {"login": "vvv", "id": 17462, "node_id": "MDQ6VXNlcjE3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/17462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vvv", "html_url": "https://github.com/vvv", "followers_url": "https://api.github.com/users/vvv/followers", "following_url": "https://api.github.com/users/vvv/following{/other_user}", "gists_url": "https://api.github.com/users/vvv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vvv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vvv/subscriptions", "organizations_url": "https://api.github.com/users/vvv/orgs", "repos_url": "https://api.github.com/users/vvv/repos", "events_url": "https://api.github.com/users/vvv/events{/privacy}", "received_events_url": "https://api.github.com/users/vvv/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 3825749068, "node_id": "LA_kwDOCo2QLc7kCExM", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-ergonomics", "name": "T-ergonomics", "color": "0052CC", "default": false, "description": "Type: ergonomics."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-12-19T22:58:56Z", "updated_at": "2023-12-24T18:32:43Z", "closed_at": "2023-12-22T20:18:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/429", "html_url": "https://github.com/metrics-rs/metrics/pull/429", "diff_url": "https://github.com/metrics-rs/metrics/pull/429.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/429.patch", "merged_at": "2023-12-22T20:18:33Z"}, "body": "Problem: `metrics-observer` cannot connect to `raspberrypi.local:8000` -- \"error while connecting\".\r\n\r\nAnalysis:\r\n\r\n\"raspberrypi.local:8000\" gets resolved on my machine to\r\n- `[fe80::da3a:ddff:fe3c:8772%15]:8000`\r\n- `192.168.0.100:8000`\r\n\r\nThe IPv6 `SocketAddr` -- the first item returned by the iterator -- cannot be connected to. The IPv4 address would work, but `metrics-observer` never tries it.\r\n\r\nSolution: if the first item, returned by `to_socket_addrs`, cannot be connected to, try the next one. Try them all, if necessary.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/429/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/429/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/428", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/428/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/428/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/428/events", "html_url": "https://github.com/metrics-rs/metrics/pull/428", "id": 2048299689, "node_id": "PR_kwDOCo2QLc5iWbqE", "number": 428, "title": "Fix CI", "user": {"login": "rukai", "id": 5120858, "node_id": "MDQ6VXNlcjUxMjA4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5120858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rukai", "html_url": "https://github.com/rukai", "followers_url": "https://api.github.com/users/rukai/followers", "following_url": "https://api.github.com/users/rukai/following{/other_user}", "gists_url": "https://api.github.com/users/rukai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rukai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rukai/subscriptions", "organizations_url": "https://api.github.com/users/rukai/orgs", "repos_url": "https://api.github.com/users/rukai/repos", "events_url": "https://api.github.com/users/rukai/events{/privacy}", "received_events_url": "https://api.github.com/users/rukai/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-12-19T09:51:03Z", "updated_at": "2023-12-24T18:03:04Z", "closed_at": "2023-12-22T20:01:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/428", "html_url": "https://github.com/metrics-rs/metrics/pull/428", "diff_url": "https://github.com/metrics-rs/metrics/pull/428.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/428.patch", "merged_at": "2023-12-22T20:01:50Z"}, "body": "These changes fix CI:\r\n\r\n* Swapping from `cargo install` to `install-action` cuts 45 seconds off the time to run the feature-check workflow.\r\n* Changing cargo hack to run as `check` and `--release` reduces disk space usage allowing it to complete on the CI runner.\r\n* I added `#[cfg(feature = \"push-gateway\")]` to avoid triggering a warning for unused import.\r\n* netlify needed to install protoc binary and provide path to rust build.\r\n", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/428/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/427", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/427/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/427/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/427/events", "html_url": "https://github.com/metrics-rs/metrics/pull/427", "id": 2048026621, "node_id": "PR_kwDOCo2QLc5iVgU4", "number": 427, "title": "Remove unneeded unsafe from test", "user": {"login": "rukai", "id": 5120858, "node_id": "MDQ6VXNlcjUxMjA4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5120858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rukai", "html_url": "https://github.com/rukai", "followers_url": "https://api.github.com/users/rukai/followers", "following_url": "https://api.github.com/users/rukai/following{/other_user}", "gists_url": "https://api.github.com/users/rukai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rukai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rukai/subscriptions", "organizations_url": "https://api.github.com/users/rukai/orgs", "repos_url": "https://api.github.com/users/rukai/repos", "events_url": "https://api.github.com/users/rukai/events{/privacy}", "received_events_url": "https://api.github.com/users/rukai/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-12-19T06:43:37Z", "updated_at": "2023-12-22T19:53:38Z", "closed_at": "2023-12-22T19:53:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/427", "html_url": "https://github.com/metrics-rs/metrics/pull/427", "diff_url": "https://github.com/metrics-rs/metrics/pull/427.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/427.patch", "merged_at": "2023-12-22T19:53:38Z"}, "body": "I replaced unsafe by making the test use a regular variable instead of a constant, any potential performance here is irreverent as its just a test and now we have one less unsafe to audit.\r\n\r\nI also added a SAFETY comment for a suspicious looking unsafe.\r\nIf you know for sure its fine to have that kind of unsoundness there if its never actually called then I can remove the ambiguity from the phrasing.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/427/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/424", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/424/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/424/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/424/events", "html_url": "https://github.com/metrics-rs/metrics/pull/424", "id": 2038225517, "node_id": "PR_kwDOCo2QLc5h0YCb", "number": 424, "title": "chore(prom): prepare v0.12.2 release", "user": {"login": "LucioFranco", "id": 5758045, "node_id": "MDQ6VXNlcjU3NTgwNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5758045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LucioFranco", "html_url": "https://github.com/LucioFranco", "followers_url": "https://api.github.com/users/LucioFranco/followers", "following_url": "https://api.github.com/users/LucioFranco/following{/other_user}", "gists_url": "https://api.github.com/users/LucioFranco/gists{/gist_id}", "starred_url": "https://api.github.com/users/LucioFranco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LucioFranco/subscriptions", "organizations_url": "https://api.github.com/users/LucioFranco/orgs", "repos_url": "https://api.github.com/users/LucioFranco/repos", "events_url": "https://api.github.com/users/LucioFranco/events{/privacy}", "received_events_url": "https://api.github.com/users/LucioFranco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-12T17:17:37Z", "updated_at": "2023-12-13T19:49:52Z", "closed_at": "2023-12-13T19:46:37Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/424", "html_url": "https://github.com/metrics-rs/metrics/pull/424", "diff_url": "https://github.com/metrics-rs/metrics/pull/424.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/424.patch", "merged_at": "2023-12-13T19:46:37Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/424/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/424/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/423", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/423/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/423/events", "html_url": "https://github.com/metrics-rs/metrics/pull/423", "id": 2038169157, "node_id": "PR_kwDOCo2QLc5h0L0f", "number": 423, "title": "fix(prom): `RollingSummary` overflow panic", "user": {"login": "LucioFranco", "id": 5758045, "node_id": "MDQ6VXNlcjU3NTgwNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5758045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LucioFranco", "html_url": "https://github.com/LucioFranco", "followers_url": "https://api.github.com/users/LucioFranco/followers", "following_url": "https://api.github.com/users/LucioFranco/following{/other_user}", "gists_url": "https://api.github.com/users/LucioFranco/gists{/gist_id}", "starred_url": "https://api.github.com/users/LucioFranco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LucioFranco/subscriptions", "organizations_url": "https://api.github.com/users/LucioFranco/orgs", "repos_url": "https://api.github.com/users/LucioFranco/repos", "events_url": "https://api.github.com/users/LucioFranco/events{/privacy}", "received_events_url": "https://api.github.com/users/LucioFranco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-12T16:43:08Z", "updated_at": "2023-12-24T18:03:37Z", "closed_at": "2023-12-12T22:03:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/423", "html_url": "https://github.com/metrics-rs/metrics/pull/423", "diff_url": "https://github.com/metrics-rs/metrics/pull/423.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/423.patch", "merged_at": "2023-12-12T22:03:49Z"}, "body": "This fixes a `RollingSummary` overflow/underflow panic that happens when time goes backwards. In this case, instead of panicking we detect the underflow and will drop the value.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/423/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/421", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/421/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/421/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/421/events", "html_url": "https://github.com/metrics-rs/metrics/pull/421", "id": 2024964187, "node_id": "PR_kwDOCo2QLc5hHMAE", "number": 421, "title": "Update ordered-float requirement from 3.4 to 4.2", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}, {"id": 4274666439, "node_id": "LA_kwDOCo2QLc7-yjvH", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/rust", "name": "rust", "color": "000000", "default": false, "description": "Pull requests that update Rust code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-12-04T23:13:41Z", "updated_at": "2023-12-22T23:00:42Z", "closed_at": "2023-12-22T23:00:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/421", "html_url": "https://github.com/metrics-rs/metrics/pull/421", "diff_url": "https://github.com/metrics-rs/metrics/pull/421.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/421.patch", "merged_at": "2023-12-22T23:00:40Z"}, "body": "Updates the requirements on [ordered-float](https://github.com/reem/rust-ordered-float) to permit the latest version.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/reem/rust-ordered-float/releases\">ordered-float's releases</a>.</em></p>\n<blockquote>\n<h2>v4.2.0</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Optional borsh serialisation support by <a href=\"https://github.com/Fuuzetsu\"><code>@\u200bFuuzetsu</code></a> in <a href=\"https://redirect.github.com/reem/rust-ordered-float/pull/146\">reem/rust-ordered-float#146</a></li>\n</ul>\n<h2>New Contributors</h2>\n<ul>\n<li><a href=\"https://github.com/Fuuzetsu\"><code>@\u200bFuuzetsu</code></a> made their first contribution in <a href=\"https://redirect.github.com/reem/rust-ordered-float/pull/146\">reem/rust-ordered-float#146</a></li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/reem/rust-ordered-float/compare/v4.1.1...v4.2.0\">https://github.com/reem/rust-ordered-float/compare/v4.1.1...v4.2.0</a></p>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/reem/rust-ordered-float/commit/3641f59e314030b2ffa3e6321c0d51f8ce50b385\"><code>3641f59</code></a> Version 4.2.0</li>\n<li><a href=\"https://github.com/reem/rust-ordered-float/commit/15f62183a77795047a4f4f612773c5a6ff36fb8e\"><code>15f6218</code></a> Update dependencies</li>\n<li><a href=\"https://github.com/reem/rust-ordered-float/commit/c0cdc41d47d455719c9cfbcfc38dadfee186110c\"><code>c0cdc41</code></a> Document feature borsh</li>\n<li><a href=\"https://github.com/reem/rust-ordered-float/commit/8a87f6a98eb5d0c1dd02239cef7fb9f26c5b2cd2\"><code>8a87f6a</code></a> Merge pull request <a href=\"https://redirect.github.com/reem/rust-ordered-float/issues/146\">#146</a> from Fuuzetsu/borsh</li>\n<li><a href=\"https://github.com/reem/rust-ordered-float/commit/8e5bb29598aec94748ba89ab35c9150e34a5f8cf\"><code>8e5bb29</code></a> Optional borsh serialisation support</li>\n<li><a href=\"https://github.com/reem/rust-ordered-float/commit/8111b345372632893af0b8aa12152f3dc7278aba\"><code>8111b34</code></a> Document the 'arbitrary' feature</li>\n<li><a href=\"https://github.com/reem/rust-ordered-float/commit/c0dba63d8d75d0a2d9bc7a2ffa2c8795eca6a9e5\"><code>c0dba63</code></a> Commit Cargo.lock</li>\n<li><a href=\"https://github.com/reem/rust-ordered-float/commit/2118522304352d849ded553ffb69d48d6e616a9b\"><code>2118522</code></a> Version 4.1.1</li>\n<li><a href=\"https://github.com/reem/rust-ordered-float/commit/4e29b0858ba00cd35dba1427155b4cecd356a2d7\"><code>4e29b08</code></a> Merge pull request <a href=\"https://redirect.github.com/reem/rust-ordered-float/issues/144\">#144</a> from orlp/faster-ord</li>\n<li><a href=\"https://github.com/reem/rust-ordered-float/commit/71770b32728362f9b9482ee0f46ee6441abdc1c9\"><code>71770b3</code></a> Silence clippy, fmt, and add missing inline directives</li>\n<li>Additional commits viewable in <a href=\"https://github.com/reem/rust-ordered-float/compare/v3.4.0...v4.2.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/421/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/417", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/417/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/417/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/417/events", "html_url": "https://github.com/metrics-rs/metrics/pull/417", "id": 2017490582, "node_id": "PR_kwDOCo2QLc5gt7kR", "number": 417, "title": "Add a clippy ci check (#416)", "user": {"login": "nstinus", "id": 217075, "node_id": "MDQ6VXNlcjIxNzA3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/217075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nstinus", "html_url": "https://github.com/nstinus", "followers_url": "https://api.github.com/users/nstinus/followers", "following_url": "https://api.github.com/users/nstinus/following{/other_user}", "gists_url": "https://api.github.com/users/nstinus/gists{/gist_id}", "starred_url": "https://api.github.com/users/nstinus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nstinus/subscriptions", "organizations_url": "https://api.github.com/users/nstinus/orgs", "repos_url": "https://api.github.com/users/nstinus/repos", "events_url": "https://api.github.com/users/nstinus/events{/privacy}", "received_events_url": "https://api.github.com/users/nstinus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-11-29T21:57:21Z", "updated_at": "2023-12-22T20:18:05Z", "closed_at": "2023-12-22T20:18:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/417", "html_url": "https://github.com/metrics-rs/metrics/pull/417", "diff_url": "https://github.com/metrics-rs/metrics/pull/417.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/417.patch", "merged_at": "2023-12-22T20:18:05Z"}, "body": "This change adds a ci test for clippy and quickly addresses the blocking points by downgrading them to warnings if they can't be trivially addressed.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/417/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/417/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/414", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/414/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/414/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/414/events", "html_url": "https://github.com/metrics-rs/metrics/pull/414", "id": 2008437515, "node_id": "PR_kwDOCo2QLc5gPaxd", "number": 414, "title": "enhancement(metrics): add support for scoped (local) recorders", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354009486, "node_id": "MDU6TGFiZWwyMzU0MDA5NDg2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-complex", "name": "E-complex", "color": "fbca04", "default": false, "description": "Effort: complex."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}, {"id": 3825749068, "node_id": "LA_kwDOCo2QLc7kCExM", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-ergonomics", "name": "T-ergonomics", "color": "0052CC", "default": false, "description": "Type: ergonomics."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-11-23T15:23:16Z", "updated_at": "2023-12-24T18:31:54Z", "closed_at": "2023-12-23T23:26:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/414", "html_url": "https://github.com/metrics-rs/metrics/pull/414", "diff_url": "https://github.com/metrics-rs/metrics/pull/414.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/414.patch", "merged_at": "2023-12-23T23:26:11Z"}, "body": "## Context\r\n\r\nIn #389, it's pointed out that the current situation of needing to use the undocumented `metrics::clear_recorder()` for testing recorders is very suboptimal. Installation of the global recorder is meant to happen once during the life of a process. Clearing the global recorder to install another is suboptimal for more than a few reasons, too:\r\n\r\n- the old global recorder is leaked (#409 touches on this due to another related behavior, but it also applies here) which can lead to ASAN warnings\r\n- it's subject to race conditions since the default Cargo test runner will run unit tests in parallel\r\n- it depends on an undocumented function, which means we're trading the ergonomics of testing recorder implementations for hiding a rightfully dangerous function from normal users\r\n\r\n## Solution\r\n\r\nIn this PR, we've introduced the concept of scoped recorders, or local recorders as we call them. This is modeled after `tracing`, where a free function takes a reference to the dispatcher to temporarily set as the default, and a closure to run where only that overridden  default dispatcher applies. It works on a thread-local basis so one instance of using a local recorder never conflicts with another.\r\n\r\nA new function, `metrics::with_local_recorder`, takes a `&dyn Recorder` and a closure to run where the recorder used by the convenience macros -- `counter!`, etc -- will be temporarily overridden to use the given recorder.\r\n\r\nWhile this feature primarily supports the ability to properly test recorder implementations, it has a side benefit that it also allows writing a `Recorder` implementation that does not need to be safe for concurrent use. As the local recorder override only applies to the current thread, the recorder can use something like `RefCell` internally, and entirely avoid locks, concurrent data structures, atomics, and so on. Between only needing to pass a temporary reference to the recorder, this means that single threaded use cases that wish to avoid the additional overhead of all of that now have the ability to do so.\r\n\r\nAdditionally, we've also changed the function for installing a global recorder, removing `metrics::set_recorder` and renaming `metrics::set_boxed_recorder` to `metrics::set_global_recorder`. The functions have been changed to be slightly more ergonomic (handle boxing the value for callers) but to also remove the illusion that `metrics` is designed to work well in `no_std` environments, which is generally the only reason a user would ever install a recorder via a `&'static dyn Recorder` reference.\r\n\r\nFixes #389.\r\nFixes #409.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/414/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/414/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/408", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/408/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/408/events", "html_url": "https://github.com/metrics-rs/metrics/pull/408", "id": 1979024005, "node_id": "PR_kwDOCo2QLc5erpaa", "number": 408, "title": "Add support for `tracing::Span::record`ed fields in `metrics-tracing-context`", "user": {"login": "zohnannor", "id": 35764628, "node_id": "MDQ6VXNlcjM1NzY0NjI4", "avatar_url": "https://avatars.githubusercontent.com/u/35764628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zohnannor", "html_url": "https://github.com/zohnannor", "followers_url": "https://api.github.com/users/zohnannor/followers", "following_url": "https://api.github.com/users/zohnannor/following{/other_user}", "gists_url": "https://api.github.com/users/zohnannor/gists{/gist_id}", "starred_url": "https://api.github.com/users/zohnannor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zohnannor/subscriptions", "organizations_url": "https://api.github.com/users/zohnannor/orgs", "repos_url": "https://api.github.com/users/zohnannor/repos", "events_url": "https://api.github.com/users/zohnannor/events{/privacy}", "received_events_url": "https://api.github.com/users/zohnannor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354009486, "node_id": "MDU6TGFiZWwyMzU0MDA5NDg2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-complex", "name": "E-complex", "color": "fbca04", "default": false, "description": "Effort: complex."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}, {"id": 2354031456, "node_id": "MDU6TGFiZWwyMzU0MDMxNDU2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-refactor", "name": "T-refactor", "color": "0052cc", "default": false, "description": "Type: refactor."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-11-06T12:23:55Z", "updated_at": "2023-12-24T18:31:40Z", "closed_at": "2023-11-29T12:23:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/408", "html_url": "https://github.com/metrics-rs/metrics/pull/408", "diff_url": "https://github.com/metrics-rs/metrics/pull/408.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/408.patch", "merged_at": "2023-11-29T12:23:51Z"}, "body": "I wondered for the reason of why [`record`ed fields are not added to the `Labels`](https://docs.rs/metrics-tracing-context/0.14.0/metrics_tracing_context/index.html#lack-of-dynamism) and found none. Implemented it as just `Label::extend_from_labels` call in a `Layer::on_record` method. For the tests I am not sure, maybe I missed some corner case, but I can't see such a case.\r\n\r\nP.S. Should I ignore falling CI checks?", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/408/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/402", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/402/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/402/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/402/events", "html_url": "https://github.com/metrics-rs/metrics/pull/402", "id": 1955524053, "node_id": "PR_kwDOCo2QLc5dcmXT", "number": 402, "title": "Add support for `Arc<T>` to `metrics::Cow<'a, T>`.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354009486, "node_id": "MDU6TGFiZWwyMzU0MDA5NDg2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-complex", "name": "E-complex", "color": "fbca04", "default": false, "description": "Effort: complex."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}, {"id": 3825749068, "node_id": "LA_kwDOCo2QLc7kCExM", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-ergonomics", "name": "T-ergonomics", "color": "0052CC", "default": false, "description": "Type: ergonomics."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-21T14:53:55Z", "updated_at": "2023-12-24T18:30:55Z", "closed_at": "2023-11-12T18:58:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/402", "html_url": "https://github.com/metrics-rs/metrics/pull/402", "diff_url": "https://github.com/metrics-rs/metrics/pull/402.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/402.patch", "merged_at": "2023-11-12T18:58:13Z"}, "body": "This PR adds support for creating `metrics::Cow<'a, T>` from `Arc<T>`.\r\n\r\n## Context\r\n\r\nGenerally, users specify a metric name and optional labels for the metric, each of which has a key and value pair. All three of these -- metric name, label key, and label value -- are wrapped in `metrics::Cow<'static, str>` (which is exported from the crate as `SharedString` for simplicity). Additionally, in some cases, we construct a `metrics::Cow<'static, [Label]>` when labels are entirely static.\r\n\r\nAll of this works fine and well for both static strings (string literals) and owned strings, but did not allow users to use strings shared via a smart pointer such as `Arc<T>`. It is common practice to amortize allocation costs for long-lived strings by sharing them via something like `Arc<str>`. You still pay the cost of the atomic operations here and there, but it can end up much cheaper in the long-term than constantly allocating small strings all over the place, and that's to say nothing of the potential heap fragmentation caused by doing so.\r\n\r\nThis is important to users as if you're not able to use static strings for a metric key (name, labels) then you're stuck with owned strings, which can involve many of these small allocations every single time a metric is emitted.\r\n\r\n## Solution\r\n\r\nWe've added support for passing `Arc<T>` when constructing a `metrics::Cow<'a, T>`. This involved a little bit of work to properly track the variant of our pointer (borrowed vs owned vs shared) but ultimately functions a lot like if we were simply cloning `Arc<T>` and holding it internally. Of course, we only deal with pointers and pointer metadata (in the context of our code, not pointer metadata as the stdlib might talk about) and so we've had to resort to the manual functions for interacting with `Arc<T>`, such as incrementing and decrementing the strong count by hand, and so on.\r\n\r\nWe've additionally simplified a lot of the `From<T>` implementations to avoid having one for each pointer variant, as well at a higher-level in the types that are based on `metrics::Cow<'a, T>` itself.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/402/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/402/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/396", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/396/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/396/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/396/events", "html_url": "https://github.com/metrics-rs/metrics/pull/396", "id": 1933253552, "node_id": "PR_kwDOCo2QLc5cRQ1s", "number": 396, "title": "Update quanta requirement from 0.11 to 0.12", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}, {"id": 4274666439, "node_id": "LA_kwDOCo2QLc7-yjvH", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/rust", "name": "rust", "color": "000000", "default": false, "description": "Pull requests that update Rust code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-09T14:46:46Z", "updated_at": "2023-12-22T22:56:59Z", "closed_at": "2023-12-22T22:56:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/396", "html_url": "https://github.com/metrics-rs/metrics/pull/396", "diff_url": "https://github.com/metrics-rs/metrics/pull/396.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/396.patch", "merged_at": "2023-12-22T22:56:54Z"}, "body": "Updates the requirements on [quanta](https://github.com/metrics-rs/quanta) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/metrics-rs/quanta/blob/v0.12.0/CHANGELOG.md\">quanta's changelog</a>.</em></p>\n<blockquote>\n<h2>[0.12.0] - 2023-10-04</h2>\n<h3>Added</h3>\n<ul>\n<li>Experimental support for ARM. (<a href=\"https://redirect.github.com/metrics-rs/quanta/issues/91\">#91</a>)</li>\n</ul>\n<p><a href=\"https://redirect.github.com/metrics-rs/quanta/issues/91\">#91</a>: <a href=\"https://redirect.github.com/metrics-rs/quanta/pull/91\">metrics-rs/quanta#91</a></p>\n<h3>Changed</h3>\n<ul>\n<li>Update <code>raw-cpuid</code> to 11.0.</li>\n</ul>\n<h2>[0.11.1] - 2023-05-28</h2>\n<h3>Added</h3>\n<ul>\n<li>Added a new method, <code>Clock::delta_as_nanos</code>, for getting the delta between two raw measurements as\nthe whole number of nanoseconds instead of the initial conversion to <code>Duration</code>. (<a href=\"https://redirect.github.com/metrics-rs/quanta/issues/86\">#86</a>)</li>\n</ul>\n<p><a href=\"https://redirect.github.com/metrics-rs/quanta/issues/86\">#86</a>: <a href=\"https://redirect.github.com/metrics-rs/quanta/pull/86\">metrics-rs/quanta#86</a></p>\n<h2>[0.11.0] - 2023-03-24</h2>\n<h3>Added</h3>\n<ul>\n<li><code>Instant::elapsed()</code> has been added. (<a href=\"https://redirect.github.com/metrics-rs/quanta/issues/82\">#82</a>)</li>\n</ul>\n<h3>Changed</h3>\n<ul>\n<li><code>Instant::duration_since</code> and <code>Instant::sub</code> now saturates to zero. (<a href=\"https://redirect.github.com/metrics-rs/quanta/issues/82\">#82</a>)</li>\n<li>Performance of <code>Instant::now</code> under high contention has been improved. (<a href=\"https://redirect.github.com/metrics-rs/quanta/issues/82\">#82</a>)</li>\n</ul>\n<p><a href=\"https://redirect.github.com/metrics-rs/quanta/issues/82\">#82</a>: <a href=\"https://redirect.github.com/metrics-rs/quanta/pull/82\">metrics-rs/quanta#82</a></p>\n<h2>[0.10.1] - 2022-07-20</h2>\n<h3>Added</h3>\n<ul>\n<li>Implement <code>std::error::Error</code> for <code>quanta::Error</code>. (<a href=\"https://redirect.github.com/metrics-rs/quanta/issues/68\">#68</a>)</li>\n</ul>\n<h3>Changed</h3>\n<ul>\n<li>Fixed build issue on x86/x86_64 platforms that did not have SSE.</li>\n<li>Fix scaling factor for <code>window.performance.now()</code> in WASM. (<a href=\"https://redirect.github.com/metrics-rs/quanta/issues/72\">#72</a>)</li>\n</ul>\n<p><a href=\"https://redirect.github.com/metrics-rs/quanta/issues/72\">#72</a>: <a href=\"https://redirect.github.com/metrics-rs/quanta/pull/72\">metrics-rs/quanta#72</a>\n<a href=\"https://redirect.github.com/metrics-rs/quanta/issues/68\">#68</a>: <a href=\"https://redirect.github.com/metrics-rs/quanta/pull/68\">metrics-rs/quanta#68</a></p>\n<h2>[0.10.0] - 2022-05-18</h2>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/f3bbebd855a44387fcbfb113495a2ff8030cc62f\"><code>f3bbebd</code></a> (cargo-release) version 0.12.0</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/d9759c150b9fabf47b02c03535e90760376dd349\"><code>d9759c1</code></a> update changelog</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/6357b90d879613c2649e84494feca99f75166bbb\"><code>6357b90</code></a> add private field to squash lints for unit-structs-via-default</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/c8637d8a113d67b3fa4ace4feadfe7c31c7f518b\"><code>c8637d8</code></a> fix the thingy</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/44a0a34ef72946d56be16e9b71b3db37390e9159\"><code>44a0a34</code></a> condense things</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/0cde6250ad18847ec946458ce3e5a171fa66f94f\"><code>0cde625</code></a> clean up code; remove ARM fast path since we have no way to test it</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/c14e9101e284f1a06b5e578e2dcf72bfb2c8f6d2\"><code>c14e910</code></a> debug stuff</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/485bba4c22767e393222941b0416142b9b2c4c99\"><code>485bba4</code></a> fix type name, woops</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/f4985a0011e996152423b6fce959a8ac39197e50\"><code>f4985a0</code></a> wip</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/ff7abb9bbfd2d9c964718b0d7372694927c55575\"><code>ff7abb9</code></a> Update raw-cpuid requirement from 10.2 to 11.0 (<a href=\"https://redirect.github.com/metrics-rs/quanta/issues/83\">#83</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/metrics-rs/quanta/compare/v0.11.0...v0.12.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nYou can trigger a rebase of this PR by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>\n\n> **Note**\n> Automatic rebases have been disabled on this pull request as it has been open for over 30 days.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/396/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/394", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/394/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/394/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/394/events", "html_url": "https://github.com/metrics-rs/metrics/pull/394", "id": 1920892063, "node_id": "PR_kwDOCo2QLc5bnrAE", "number": 394, "title": "remove macros, retaining only `register_*` and `describe_*` macros", "user": {"login": "hlbarber", "id": 106155934, "node_id": "U_kgDOBlPPng", "avatar_url": "https://avatars.githubusercontent.com/u/106155934?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hlbarber", "html_url": "https://github.com/hlbarber", "followers_url": "https://api.github.com/users/hlbarber/followers", "following_url": "https://api.github.com/users/hlbarber/following{/other_user}", "gists_url": "https://api.github.com/users/hlbarber/gists{/gist_id}", "starred_url": "https://api.github.com/users/hlbarber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hlbarber/subscriptions", "organizations_url": "https://api.github.com/users/hlbarber/orgs", "repos_url": "https://api.github.com/users/hlbarber/repos", "events_url": "https://api.github.com/users/hlbarber/events{/privacy}", "received_events_url": "https://api.github.com/users/hlbarber/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-10-01T18:00:17Z", "updated_at": "2024-05-28T11:03:23Z", "closed_at": "2023-10-09T14:45:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/394", "html_url": "https://github.com/metrics-rs/metrics/pull/394", "diff_url": "https://github.com/metrics-rs/metrics/pull/394.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/394.patch", "merged_at": "2023-10-09T14:45:27Z"}, "body": "## Motivation\r\n\r\nSimplification of the existing macro API\r\n\r\nhttps://github.com/metrics-rs/metrics/issues/369\r\n\r\n## Changes\r\n\r\n- Remove `increment_counter`, `absolute_counter`, `increment_gauge`, `decrement_gauge`, `gauge`, `histogram`.\r\n- Rename `register_counter`, `register_gauge`, and `record_histogram` to `counter`, `gauge`, and `histogram` respectively.\r\n- Update documentation.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/394/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/394/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/393", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/393/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/393/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/393/events", "html_url": "https://github.com/metrics-rs/metrics/pull/393", "id": 1906687445, "node_id": "PR_kwDOCo2QLc5a38EH", "number": 393, "title": "Make `Unit` methods return `&'static str` where possible", "user": {"login": "david-perez", "id": 6341745, "node_id": "MDQ6VXNlcjYzNDE3NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/6341745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-perez", "html_url": "https://github.com/david-perez", "followers_url": "https://api.github.com/users/david-perez/followers", "following_url": "https://api.github.com/users/david-perez/following{/other_user}", "gists_url": "https://api.github.com/users/david-perez/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-perez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-perez/subscriptions", "organizations_url": "https://api.github.com/users/david-perez/orgs", "repos_url": "https://api.github.com/users/david-perez/repos", "events_url": "https://api.github.com/users/david-perez/events{/privacy}", "received_events_url": "https://api.github.com/users/david-perez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-09-21T10:55:34Z", "updated_at": "2023-12-24T18:30:44Z", "closed_at": "2023-09-22T13:04:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/393", "html_url": "https://github.com/metrics-rs/metrics/pull/393", "diff_url": "https://github.com/metrics-rs/metrics/pull/393.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/393.patch", "merged_at": "2023-09-22T13:04:00Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/393/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/392", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/392/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/392/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/392/events", "html_url": "https://github.com/metrics-rs/metrics/pull/392", "id": 1898243783, "node_id": "PR_kwDOCo2QLc5ablzF", "number": 392, "title": "add https support in Prometheus gateway", "user": {"login": "qingwen220", "id": 4844445, "node_id": "MDQ6VXNlcjQ4NDQ0NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/4844445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qingwen220", "html_url": "https://github.com/qingwen220", "followers_url": "https://api.github.com/users/qingwen220/followers", "following_url": "https://api.github.com/users/qingwen220/following{/other_user}", "gists_url": "https://api.github.com/users/qingwen220/gists{/gist_id}", "starred_url": "https://api.github.com/users/qingwen220/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qingwen220/subscriptions", "organizations_url": "https://api.github.com/users/qingwen220/orgs", "repos_url": "https://api.github.com/users/qingwen220/repos", "events_url": "https://api.github.com/users/qingwen220/events{/privacy}", "received_events_url": "https://api.github.com/users/qingwen220/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-09-15T11:34:41Z", "updated_at": "2023-12-24T18:30:22Z", "closed_at": "2023-09-21T18:05:31Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/392", "html_url": "https://github.com/metrics-rs/metrics/pull/392", "diff_url": "https://github.com/metrics-rs/metrics/pull/392.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/392.patch", "merged_at": "2023-09-21T18:05:31Z"}, "body": "Fixes: #391 \r\n\r\nReproduce: any URL with https \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/392/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/392/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/386", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/386/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/386/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/386/events", "html_url": "https://github.com/metrics-rs/metrics/pull/386", "id": 1866048699, "node_id": "PR_kwDOCo2QLc5YveFh", "number": 386, "title": "migrate from procedural to declarative macros", "user": {"login": "hlbarber", "id": 106155934, "node_id": "U_kgDOBlPPng", "avatar_url": "https://avatars.githubusercontent.com/u/106155934?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hlbarber", "html_url": "https://github.com/hlbarber", "followers_url": "https://api.github.com/users/hlbarber/followers", "following_url": "https://api.github.com/users/hlbarber/following{/other_user}", "gists_url": "https://api.github.com/users/hlbarber/gists{/gist_id}", "starred_url": "https://api.github.com/users/hlbarber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hlbarber/subscriptions", "organizations_url": "https://api.github.com/users/hlbarber/orgs", "repos_url": "https://api.github.com/users/hlbarber/repos", "events_url": "https://api.github.com/users/hlbarber/events{/privacy}", "received_events_url": "https://api.github.com/users/hlbarber/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354009486, "node_id": "MDU6TGFiZWwyMzU0MDA5NDg2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-complex", "name": "E-complex", "color": "fbca04", "default": false, "description": "Effort: complex."}, {"id": 2354031456, "node_id": "MDU6TGFiZWwyMzU0MDMxNDU2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-refactor", "name": "T-refactor", "color": "0052cc", "default": false, "description": "Type: refactor."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2023-08-25T00:11:31Z", "updated_at": "2023-12-26T23:17:00Z", "closed_at": "2023-09-21T18:11:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/386", "html_url": "https://github.com/metrics-rs/metrics/pull/386", "diff_url": "https://github.com/metrics-rs/metrics/pull/386.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/386.patch", "merged_at": "2023-09-21T18:11:02Z"}, "body": "# Changes\r\n\r\n- Remove `metrics-macros` crate\r\n- Rewrite all existing macros using `macro_rules` within the `metrics` crate\r\n\r\nThe goal here is to not break users and to also maintain the \"fast paths\" taken by the procedural macro where literals cause `static` to be used.\r\n\r\n~~This PR is intended as a place of discussion, once it is sufficiently mature I'll close it and reopen a polished PR.~~", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/386/reactions", "total_count": 4, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 4, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/386/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/381", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/381/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/381/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/381/events", "html_url": "https://github.com/metrics-rs/metrics/pull/381", "id": 1765155190, "node_id": "PR_kwDOCo2QLc5TbPA5", "number": 381, "title": "Implement `Borrow` for `KeyName`", "user": {"login": "hlbarber", "id": 106155934, "node_id": "U_kgDOBlPPng", "avatar_url": "https://avatars.githubusercontent.com/u/106155934?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hlbarber", "html_url": "https://github.com/hlbarber", "followers_url": "https://api.github.com/users/hlbarber/followers", "following_url": "https://api.github.com/users/hlbarber/following{/other_user}", "gists_url": "https://api.github.com/users/hlbarber/gists{/gist_id}", "starred_url": "https://api.github.com/users/hlbarber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hlbarber/subscriptions", "organizations_url": "https://api.github.com/users/hlbarber/orgs", "repos_url": "https://api.github.com/users/hlbarber/repos", "events_url": "https://api.github.com/users/hlbarber/events{/privacy}", "received_events_url": "https://api.github.com/users/hlbarber/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 3825749068, "node_id": "LA_kwDOCo2QLc7kCExM", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-ergonomics", "name": "T-ergonomics", "color": "0052CC", "default": false, "description": "Type: ergonomics."}], "state": "closed", "locked": false, "assignee": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-06-20T10:56:46Z", "updated_at": "2023-07-02T20:00:49Z", "closed_at": "2023-06-22T00:27:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/381", "html_url": "https://github.com/metrics-rs/metrics/pull/381", "diff_url": "https://github.com/metrics-rs/metrics/pull/381.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/381.patch", "merged_at": "2023-06-22T00:27:07Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/381/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/380", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/380/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/380/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/380/events", "html_url": "https://github.com/metrics-rs/metrics/pull/380", "id": 1743441308, "node_id": "PR_kwDOCo2QLc5SSIBm", "number": 380, "title": "Add metadata to metrics", "user": {"login": "hlbarber", "id": 106155934, "node_id": "U_kgDOBlPPng", "avatar_url": "https://avatars.githubusercontent.com/u/106155934?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hlbarber", "html_url": "https://github.com/hlbarber", "followers_url": "https://api.github.com/users/hlbarber/followers", "following_url": "https://api.github.com/users/hlbarber/following{/other_user}", "gists_url": "https://api.github.com/users/hlbarber/gists{/gist_id}", "starred_url": "https://api.github.com/users/hlbarber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hlbarber/subscriptions", "organizations_url": "https://api.github.com/users/hlbarber/orgs", "repos_url": "https://api.github.com/users/hlbarber/repos", "events_url": "https://api.github.com/users/hlbarber/events{/privacy}", "received_events_url": "https://api.github.com/users/hlbarber/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-06-06T09:17:11Z", "updated_at": "2023-07-15T12:59:15Z", "closed_at": "2023-07-15T12:59:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/380", "html_url": "https://github.com/metrics-rs/metrics/pull/380", "diff_url": "https://github.com/metrics-rs/metrics/pull/380.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/380.patch", "merged_at": "2023-07-15T12:59:14Z"}, "body": "**Motivation**\r\n\r\nCloses https://github.com/metrics-rs/metrics/issues/370\r\n\r\n**Changes**\r\n\r\n- Add `&Metadata` argument to the `Recorder::register_*` methods\r\n- Add `target: *` and `Level::*` arguments to macros.\r\n    - `target` defaults to `module_path!()`\r\n    - `Level` defaults to `Level::INFO`.\r\n\r\n**TODO**\r\n\r\n- [ ] Add documentation\r\n- [ ] Add `info_counter!`, `warn_counter!`, etc\r\n- [ ] Improve test coverage", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/380/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/380/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/378", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/378/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/378/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/378/events", "html_url": "https://github.com/metrics-rs/metrics/pull/378", "id": 1740741858, "node_id": "PR_kwDOCo2QLc5SI5lB", "number": 378, "title": "Impl From<std::borrow::Cow> for KeyName", "user": {"login": "mooso", "id": 2078919, "node_id": "MDQ6VXNlcjIwNzg5MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2078919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mooso", "html_url": "https://github.com/mooso", "followers_url": "https://api.github.com/users/mooso/followers", "following_url": "https://api.github.com/users/mooso/following{/other_user}", "gists_url": "https://api.github.com/users/mooso/gists{/gist_id}", "starred_url": "https://api.github.com/users/mooso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mooso/subscriptions", "organizations_url": "https://api.github.com/users/mooso/orgs", "repos_url": "https://api.github.com/users/mooso/repos", "events_url": "https://api.github.com/users/mooso/events{/privacy}", "received_events_url": "https://api.github.com/users/mooso/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-06-05T01:45:18Z", "updated_at": "2023-07-03T13:21:35Z", "closed_at": "2023-06-13T01:19:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/378", "html_url": "https://github.com/metrics-rs/metrics/pull/378", "diff_url": "https://github.com/metrics-rs/metrics/pull/378.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/378.patch", "merged_at": "2023-06-13T01:19:16Z"}, "body": "This adds conversion from std::borrow::Cow<'static, str> to KeyName.\r\n\r\nThis is for [issue 377](https://github.com/metrics-rs/metrics/issues/377)", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/378/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/366", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/366/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/366/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/366/events", "html_url": "https://github.com/metrics-rs/metrics/pull/366", "id": 1685941870, "node_id": "PR_kwDOCo2QLc5PP777", "number": 366, "title": "push-gateway support authentication", "user": {"login": "JasonLi-cn", "id": 23028310, "node_id": "MDQ6VXNlcjIzMDI4MzEw", "avatar_url": "https://avatars.githubusercontent.com/u/23028310?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JasonLi-cn", "html_url": "https://github.com/JasonLi-cn", "followers_url": "https://api.github.com/users/JasonLi-cn/followers", "following_url": "https://api.github.com/users/JasonLi-cn/following{/other_user}", "gists_url": "https://api.github.com/users/JasonLi-cn/gists{/gist_id}", "starred_url": "https://api.github.com/users/JasonLi-cn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JasonLi-cn/subscriptions", "organizations_url": "https://api.github.com/users/JasonLi-cn/orgs", "repos_url": "https://api.github.com/users/JasonLi-cn/repos", "events_url": "https://api.github.com/users/JasonLi-cn/events{/privacy}", "received_events_url": "https://api.github.com/users/JasonLi-cn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-04-27T01:19:49Z", "updated_at": "2023-05-09T14:42:33Z", "closed_at": "2023-05-09T14:19:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/366", "html_url": "https://github.com/metrics-rs/metrics/pull/366", "diff_url": "https://github.com/metrics-rs/metrics/pull/366.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/366.patch", "merged_at": "2023-05-09T14:19:51Z"}, "body": "#365 \r\n\r\nIn some cases where push-gateway is used, we need to pass in username and password.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/366/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/362", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/362/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/362/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/362/events", "html_url": "https://github.com/metrics-rs/metrics/pull/362", "id": 1672142128, "node_id": "PR_kwDOCo2QLc5Oh0fW", "number": 362, "title": "feat(util): new helper type for recovering recorder after installing it", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}, {"id": 3881594148, "node_id": "LA_kwDOCo2QLc7nXG0k", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-request", "name": "T-request", "color": "0052CC", "default": false, "description": "Type: request."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-18T00:09:54Z", "updated_at": "2023-07-02T19:58:29Z", "closed_at": "2023-05-12T12:21:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/362", "html_url": "https://github.com/metrics-rs/metrics/pull/362", "diff_url": "https://github.com/metrics-rs/metrics/pull/362.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/362.patch", "merged_at": "2023-05-12T12:21:38Z"}, "body": "## Context\r\n\r\nIn cases like #308, there can be a desire to ensure that a recorder flushes itself on process exit. As we install the recorder globally, such that it is leaked to provide the ability to acquire a static reference to it, recorders cannot normally participate in the typical `Drop` logic as objects are cleaned up before process exit.\r\n\r\n## Solution\r\n\r\nThis PR introduces a generic helper -- `RecoverableRecorder<R>` -- that allows for installing a wrapped version of the recorder, and acts as a drop guard to allow either manually \"recovering\" the recorder, or recovering it on drop such that the recorder's drop logic can also be called.\r\n\r\nWe wrap the recorder in an `Arc<T>`, and install a custom recorder wrapper that holds a `Weak<T>` reference. This allows the global recorder to provide access to the inner recorder without taking ownership of it.\r\n\r\nWhen the caller manually seeks to recover the recorder, they call `RecoverableRecorder::into_inner` which attempts to unwrap the `Arc<T>` until there are no active references other than from the drop guard, which gives back the original recorder. If the drop guard is simply dropped, the original recorder too is dropped as soon as all active references to it have dropped, following the normal behavior of `Arc<T>`.\r\n\r\nThis does come with a small performance overhead, as every call through the weakly-held `Recorder` implementation must clone the `Arc<T>` before proxying the given method call, but it should be fairly minimal in practice. If performance is a huge concern, a recorder should implement its own drop guard for controlling flushing on process exit, but this is simply meant to be a generic solution when the application has no control over the recorder implementation.\r\n\r\nAdditionally, I've stripped out all of the `atomic_cas` and `set_recorder_racy` bits, as all illusions of `metrics` being `no_std`/embedded-compatible have sort of faded at this point, and it was just an opportune time to strip out the last vestiges.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/362/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/358", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/358/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/358/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/358/events", "html_url": "https://github.com/metrics-rs/metrics/pull/358", "id": 1665435728, "node_id": "PR_kwDOCo2QLc5OLip0", "number": 358, "title": "Use global paths for macros", "user": {"login": "CinchBlue", "id": 844699, "node_id": "MDQ6VXNlcjg0NDY5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/844699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CinchBlue", "html_url": "https://github.com/CinchBlue", "followers_url": "https://api.github.com/users/CinchBlue/followers", "following_url": "https://api.github.com/users/CinchBlue/following{/other_user}", "gists_url": "https://api.github.com/users/CinchBlue/gists{/gist_id}", "starred_url": "https://api.github.com/users/CinchBlue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CinchBlue/subscriptions", "organizations_url": "https://api.github.com/users/CinchBlue/orgs", "repos_url": "https://api.github.com/users/CinchBlue/repos", "events_url": "https://api.github.com/users/CinchBlue/events{/privacy}", "received_events_url": "https://api.github.com/users/CinchBlue/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-04-13T00:06:01Z", "updated_at": "2023-04-16T23:37:36Z", "closed_at": "2023-04-13T23:52:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/358", "html_url": "https://github.com/metrics-rs/metrics/pull/358", "diff_url": "https://github.com/metrics-rs/metrics/pull/358.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/358.patch", "merged_at": "2023-04-13T23:52:07Z"}, "body": "Fixes https://github.com/metrics-rs/metrics/issues/357", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/358/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/348", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/348/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/348/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/348/events", "html_url": "https://github.com/metrics-rs/metrics/pull/348", "id": 1622018359, "node_id": "PR_kwDOCo2QLc5L6_xV", "number": 348, "title": "Add white background to splash image", "user": {"login": "Xaeroxe", "id": 6182002, "node_id": "MDQ6VXNlcjYxODIwMDI=", "avatar_url": "https://avatars.githubusercontent.com/u/6182002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Xaeroxe", "html_url": "https://github.com/Xaeroxe", "followers_url": "https://api.github.com/users/Xaeroxe/followers", "following_url": "https://api.github.com/users/Xaeroxe/following{/other_user}", "gists_url": "https://api.github.com/users/Xaeroxe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Xaeroxe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Xaeroxe/subscriptions", "organizations_url": "https://api.github.com/users/Xaeroxe/orgs", "repos_url": "https://api.github.com/users/Xaeroxe/repos", "events_url": "https://api.github.com/users/Xaeroxe/events{/privacy}", "received_events_url": "https://api.github.com/users/Xaeroxe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-13T18:17:51Z", "updated_at": "2023-04-05T15:03:22Z", "closed_at": "2023-04-05T14:29:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/348", "html_url": "https://github.com/metrics-rs/metrics/pull/348", "diff_url": "https://github.com/metrics-rs/metrics/pull/348.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/348.patch", "merged_at": "2023-04-05T14:29:52Z"}, "body": "I'm going to make an assumption and say that this presentation in GitHub dark mode is not what you intended, and add a white background to your splash image.\r\n![Screenshot 2023-03-13 at 12 14 12 PM](https://user-images.githubusercontent.com/6182002/224793018-86d4e308-fbc5-42ce-a1fb-7c6e67944b36.png)\r\n", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/348/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/345", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/345/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/345/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/345/events", "html_url": "https://github.com/metrics-rs/metrics/pull/345", "id": 1602089861, "node_id": "PR_kwDOCo2QLc5K4SoZ", "number": 345, "title": "Bring the metrics-observer protobufs up to date", "user": {"login": "ceejbot", "id": 757502, "node_id": "MDQ6VXNlcjc1NzUwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/757502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ceejbot", "html_url": "https://github.com/ceejbot", "followers_url": "https://api.github.com/users/ceejbot/followers", "following_url": "https://api.github.com/users/ceejbot/following{/other_user}", "gists_url": "https://api.github.com/users/ceejbot/gists{/gist_id}", "starred_url": "https://api.github.com/users/ceejbot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ceejbot/subscriptions", "organizations_url": "https://api.github.com/users/ceejbot/orgs", "repos_url": "https://api.github.com/users/ceejbot/repos", "events_url": "https://api.github.com/users/ceejbot/events{/privacy}", "received_events_url": "https://api.github.com/users/ceejbot/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2755168206, "node_id": "MDU6TGFiZWwyNzU1MTY4MjA2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-regression", "name": "T-regression", "color": "0052cc", "default": false, "description": "Type: regression."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-27T23:05:23Z", "updated_at": "2023-04-16T23:25:41Z", "closed_at": "2023-04-05T20:31:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/345", "html_url": "https://github.com/metrics-rs/metrics/pull/345", "diff_url": "https://github.com/metrics-rs/metrics/pull/345.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/345.patch", "merged_at": "2023-04-05T20:31:39Z"}, "body": "Aligned the proto file in the observer sub-crate with the one in the TCP exporter. Updated the observer message handling code to use the new structures. \r\n\r\nThis format de-sync will occur again if the writer code is changed without also updating the observer. The right solution here is to have the two crates share the protobuf file, but that requires more structural tinkering than a newcomer like me should do :). \r\n\r\nSatisfied the clippy lints complaining about type complexity by creeating some subtypes.\r\n\r\nI note that in order to test with rustc 1.56.1, I had to pin the version of `mockall` used by metrics-util to `0.11.0`.\r\n\r\nThis fixes #325 \"metrics-observer is not available\".", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/345/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/345/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/344", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/344/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/344/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/344/events", "html_url": "https://github.com/metrics-rs/metrics/pull/344", "id": 1600950949, "node_id": "PR_kwDOCo2QLc5K0dgu", "number": 344, "title": "Use std sync primitives instead of parking_lot.", "user": {"login": "BratSinot", "id": 3810015, "node_id": "MDQ6VXNlcjM4MTAwMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3810015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BratSinot", "html_url": "https://github.com/BratSinot", "followers_url": "https://api.github.com/users/BratSinot/followers", "following_url": "https://api.github.com/users/BratSinot/following{/other_user}", "gists_url": "https://api.github.com/users/BratSinot/gists{/gist_id}", "starred_url": "https://api.github.com/users/BratSinot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BratSinot/subscriptions", "organizations_url": "https://api.github.com/users/BratSinot/orgs", "repos_url": "https://api.github.com/users/BratSinot/repos", "events_url": "https://api.github.com/users/BratSinot/events{/privacy}", "received_events_url": "https://api.github.com/users/BratSinot/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-27T11:01:08Z", "updated_at": "2023-03-12T21:38:35Z", "closed_at": "2023-03-12T21:33:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/344", "html_url": "https://github.com/metrics-rs/metrics/pull/344", "diff_url": "https://github.com/metrics-rs/metrics/pull/344.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/344.patch", "merged_at": "2023-03-12T21:33:15Z"}, "body": "Fix #343", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/344/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/342", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/342/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/342/events", "html_url": "https://github.com/metrics-rs/metrics/pull/342", "id": 1549026072, "node_id": "PR_kwDOCo2QLc5IHhQh", "number": 342, "title": "Add a `KeyName` argument to `LabelFilter::should_include_label`", "user": {"login": "zohnannor", "id": 35764628, "node_id": "MDQ6VXNlcjM1NzY0NjI4", "avatar_url": "https://avatars.githubusercontent.com/u/35764628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zohnannor", "html_url": "https://github.com/zohnannor", "followers_url": "https://api.github.com/users/zohnannor/followers", "following_url": "https://api.github.com/users/zohnannor/following{/other_user}", "gists_url": "https://api.github.com/users/zohnannor/gists{/gist_id}", "starred_url": "https://api.github.com/users/zohnannor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zohnannor/subscriptions", "organizations_url": "https://api.github.com/users/zohnannor/orgs", "repos_url": "https://api.github.com/users/zohnannor/repos", "events_url": "https://api.github.com/users/zohnannor/events{/privacy}", "received_events_url": "https://api.github.com/users/zohnannor/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-01-19T12:03:46Z", "updated_at": "2023-01-21T02:39:03Z", "closed_at": "2023-01-21T02:11:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/342", "html_url": "https://github.com/metrics-rs/metrics/pull/342", "diff_url": "https://github.com/metrics-rs/metrics/pull/342.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/342.patch", "merged_at": "2023-01-21T02:11:38Z"}, "body": "On the project I'm working on, we have to filter excessive metric labels added by `TracingContext` after the fact, but it could be better if we could see metrics' names in the process of `TracingContext::enhance_key`. And the inner workings of `MetricsLayer` doesn't allow us to create custom `Layer`+`Recorder` to efficiently add only required metric labels.\r\n\r\nThis PR adds `name: KeyName` argument to `LabelFilter::should_include_label` method to pass from `TracingContext::enhance_key`, that way custom `LabelFilter`, that can filter labels by the name of the metric *and* label key/value, is an option. Bumped `metrics-tracing-context` version to `0.13` because it's a breaking change.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/342/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/316", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/316/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/316/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/316/events", "html_url": "https://github.com/metrics-rs/metrics/pull/316", "id": 1319662590, "node_id": "PR_kwDOCo2QLc48L5ky", "number": 316, "title": "docs: Remove incorrect return info", "user": {"login": "fredr", "id": 762956, "node_id": "MDQ6VXNlcjc2Mjk1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/762956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredr", "html_url": "https://github.com/fredr", "followers_url": "https://api.github.com/users/fredr/followers", "following_url": "https://api.github.com/users/fredr/following{/other_user}", "gists_url": "https://api.github.com/users/fredr/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredr/subscriptions", "organizations_url": "https://api.github.com/users/fredr/orgs", "repos_url": "https://api.github.com/users/fredr/repos", "events_url": "https://api.github.com/users/fredr/events{/privacy}", "received_events_url": "https://api.github.com/users/fredr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-27T14:36:43Z", "updated_at": "2023-04-16T23:15:28Z", "closed_at": "2022-07-27T19:07:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/316", "html_url": "https://github.com/metrics-rs/metrics/pull/316", "diff_url": "https://github.com/metrics-rs/metrics/pull/316.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/316.patch", "merged_at": "2022-07-27T19:07:13Z"}, "body": "Documentation states that the previous values are returned, but they are not.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/316/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/313", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/313/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/313/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/313/events", "html_url": "https://github.com/metrics-rs/metrics/pull/313", "id": 1300345023, "node_id": "PR_kwDOCo2QLc47LKee", "number": 313, "title": "Shims remaining AtomicU64 usage", "user": {"login": "huntc", "id": 694893, "node_id": "MDQ6VXNlcjY5NDg5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/694893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huntc", "html_url": "https://github.com/huntc", "followers_url": "https://api.github.com/users/huntc/followers", "following_url": "https://api.github.com/users/huntc/following{/other_user}", "gists_url": "https://api.github.com/users/huntc/gists{/gist_id}", "starred_url": "https://api.github.com/users/huntc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huntc/subscriptions", "organizations_url": "https://api.github.com/users/huntc/orgs", "repos_url": "https://api.github.com/users/huntc/repos", "events_url": "https://api.github.com/users/huntc/events{/privacy}", "received_events_url": "https://api.github.com/users/huntc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}, {"id": 3825749068, "node_id": "LA_kwDOCo2QLc7kCExM", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-ergonomics", "name": "T-ergonomics", "color": "0052CC", "default": false, "description": "Type: ergonomics."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2022-07-11T07:56:54Z", "updated_at": "2022-07-21T07:03:04Z", "closed_at": "2022-07-20T13:30:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/313", "html_url": "https://github.com/metrics-rs/metrics/pull/313", "diff_url": "https://github.com/metrics-rs/metrics/pull/313.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/313.patch", "merged_at": "2022-07-20T13:30:24Z"}, "body": "Shims the use of `AtomicU64` in the main metrics lib so that we can use the library on MIPS and other 32 bit platforms.\r\n\r\nChanges the atomic lib to `portable-atomic` as the `atomic-shim` no longer provides a complete implementation of the methods we require.\r\n\r\nTested building with `target.mipsel-unknown-linux-musl`.\r\n\r\nFixes https://github.com/metrics-rs/metrics/issues/235", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/313/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/312", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/312/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/312/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/312/events", "html_url": "https://github.com/metrics-rs/metrics/pull/312", "id": 1294578485, "node_id": "PR_kwDOCo2QLc463sn2", "number": 312, "title": "Change description to be `SharedString`", "user": {"login": "fredr", "id": 762956, "node_id": "MDQ6VXNlcjc2Mjk1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/762956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredr", "html_url": "https://github.com/fredr", "followers_url": "https://api.github.com/users/fredr/followers", "following_url": "https://api.github.com/users/fredr/following{/other_user}", "gists_url": "https://api.github.com/users/fredr/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredr/subscriptions", "organizations_url": "https://api.github.com/users/fredr/orgs", "repos_url": "https://api.github.com/users/fredr/repos", "events_url": "https://api.github.com/users/fredr/events{/privacy}", "received_events_url": "https://api.github.com/users/fredr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 3825749068, "node_id": "LA_kwDOCo2QLc7kCExM", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-ergonomics", "name": "T-ergonomics", "color": "0052CC", "default": false, "description": "Type: ergonomics."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-07-05T17:37:16Z", "updated_at": "2022-07-21T01:25:35Z", "closed_at": "2022-07-07T12:25:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/312", "html_url": "https://github.com/metrics-rs/metrics/pull/312", "diff_url": "https://github.com/metrics-rs/metrics/pull/312.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/312.patch", "merged_at": "2022-07-07T12:25:36Z"}, "body": "This makes it possible to describe metrics using both `&'static str` as well as from an owned string.\r\n\r\ncloses #310 ", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/312/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/311", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/311/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/311/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/311/events", "html_url": "https://github.com/metrics-rs/metrics/pull/311", "id": 1293721365, "node_id": "PR_kwDOCo2QLc46042J", "number": 311, "title": "Document CI enforced msrv in readme and rust-version fields", "user": {"login": "rukai", "id": 5120858, "node_id": "MDQ6VXNlcjUxMjA4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5120858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rukai", "html_url": "https://github.com/rukai", "followers_url": "https://api.github.com/users/rukai/followers", "following_url": "https://api.github.com/users/rukai/following{/other_user}", "gists_url": "https://api.github.com/users/rukai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rukai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rukai/subscriptions", "organizations_url": "https://api.github.com/users/rukai/orgs", "repos_url": "https://api.github.com/users/rukai/repos", "events_url": "https://api.github.com/users/rukai/events{/privacy}", "received_events_url": "https://api.github.com/users/rukai/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-05T02:52:41Z", "updated_at": "2022-07-21T01:26:55Z", "closed_at": "2022-07-06T01:43:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/311", "html_url": "https://github.com/metrics-rs/metrics/pull/311", "diff_url": "https://github.com/metrics-rs/metrics/pull/311.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/311.patch", "merged_at": "2022-07-06T01:43:59Z"}, "body": "closes https://github.com/metrics-rs/metrics/issues/287\r\n\r\nIf there is a policy of when the MSRV can be bumped I would love to document that in the readme.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/311/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/306", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/306/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/306/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/306/events", "html_url": "https://github.com/metrics-rs/metrics/pull/306", "id": 1266770808, "node_id": "PR_kwDOCo2QLc45bP7C", "number": 306, "title": "Add RollingSummary to prevent summary saturation", "user": {"login": "danielnelson", "id": 1048079, "node_id": "MDQ6VXNlcjEwNDgwNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1048079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielnelson", "html_url": "https://github.com/danielnelson", "followers_url": "https://api.github.com/users/danielnelson/followers", "following_url": "https://api.github.com/users/danielnelson/following{/other_user}", "gists_url": "https://api.github.com/users/danielnelson/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielnelson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielnelson/subscriptions", "organizations_url": "https://api.github.com/users/danielnelson/orgs", "repos_url": "https://api.github.com/users/danielnelson/repos", "events_url": "https://api.github.com/users/danielnelson/events{/privacy}", "received_events_url": "https://api.github.com/users/danielnelson/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}, {"id": 2354031456, "node_id": "MDU6TGFiZWwyMzU0MDMxNDU2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-refactor", "name": "T-refactor", "color": "0052cc", "default": false, "description": "Type: refactor."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2022-06-09T23:40:54Z", "updated_at": "2022-07-21T01:25:28Z", "closed_at": "2022-06-28T14:13:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/306", "html_url": "https://github.com/metrics-rs/metrics/pull/306", "diff_url": "https://github.com/metrics-rs/metrics/pull/306.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/306.patch", "merged_at": "2022-06-28T14:13:19Z"}, "body": "This PR attempts to address the issue described in #269 where Prometheus\r\nSummaries become saturated.  I added a RollingSummary type that manages a list\r\nof Summary so that old values can be retired.\r\n\r\nThere is a breaking change in `AtomicStorage`:\r\n```diff\r\n- type Histogram = Arc<AtomicBucket<f64>>;\r\n+ type Histogram = Arc<AtomicBucket<(f64, Instant)>>;\r\n```\r\n\r\nI tested using a program that produces a test pattern, every two minutes it\r\nswitches between uniform random values between 0-100 and 100-200.\r\n\r\nI also graph the summary `rate(sum[1m]) / rate(count[1m])` for comparison to\r\nthe 50th quantile.\r\n\r\nBefore this patch:\r\n\r\n![2022-06-09-163831_1347x637_scrot](https://user-images.githubusercontent.com/1048079/172962420-af2dcb64-927d-4957-8899-ae4c9aebcdda.png)\r\n\r\nWith this patch:\r\n\r\n![2022-06-09-160026_1345x635_scrot](https://user-images.githubusercontent.com/1048079/172962379-5eb8c305-ed80-49d8-a887-435265da96ea.png)\r\n", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/306/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/304", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/304/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/304/events", "html_url": "https://github.com/metrics-rs/metrics/pull/304", "id": 1251182746, "node_id": "PR_kwDOCo2QLc44mtQI", "number": 304, "title": "Quantile Remapping Fix", "user": {"login": "dwlbnks", "id": 78116928, "node_id": "MDQ6VXNlcjc4MTE2OTI4", "avatar_url": "https://avatars.githubusercontent.com/u/78116928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dwlbnks", "html_url": "https://github.com/dwlbnks", "followers_url": "https://api.github.com/users/dwlbnks/followers", "following_url": "https://api.github.com/users/dwlbnks/following{/other_user}", "gists_url": "https://api.github.com/users/dwlbnks/gists{/gist_id}", "starred_url": "https://api.github.com/users/dwlbnks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dwlbnks/subscriptions", "organizations_url": "https://api.github.com/users/dwlbnks/orgs", "repos_url": "https://api.github.com/users/dwlbnks/repos", "events_url": "https://api.github.com/users/dwlbnks/events{/privacy}", "received_events_url": "https://api.github.com/users/dwlbnks/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-27T19:24:40Z", "updated_at": "2022-05-30T15:22:54Z", "closed_at": "2022-05-30T15:08:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/304", "html_url": "https://github.com/metrics-rs/metrics/pull/304", "diff_url": "https://github.com/metrics-rs/metrics/pull/304.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/304.patch", "merged_at": "2022-05-30T15:08:05Z"}, "body": "This PR includes the following:\r\n\r\n- Update to DDSketch 0.1.3 which fixes an issue mapping quantiles to rank.\r\n- Updates Summary to return the min and max values when a request for the 0.0 or 1.0 quantile is made. This is convenient as described in 5274708.\r\n- Resolves an issue with quantile mapping in Summary::quantile(), where the Summary could previously return the value that belongs to the adjacent rank. Also resolves incorrect assertions in a test, that now pass with the changes to quantile mapping.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/304/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/303", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/303/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/303/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/303/events", "html_url": "https://github.com/metrics-rs/metrics/pull/303", "id": 1250058973, "node_id": "PR_kwDOCo2QLc44i-9c", "number": 303, "title": "Fix `metrics::Cow` provenance issue", "user": {"login": "Noratrieb", "id": 48135649, "node_id": "MDQ6VXNlcjQ4MTM1NjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/48135649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Noratrieb", "html_url": "https://github.com/Noratrieb", "followers_url": "https://api.github.com/users/Noratrieb/followers", "following_url": "https://api.github.com/users/Noratrieb/following{/other_user}", "gists_url": "https://api.github.com/users/Noratrieb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Noratrieb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Noratrieb/subscriptions", "organizations_url": "https://api.github.com/users/Noratrieb/orgs", "repos_url": "https://api.github.com/users/Noratrieb/repos", "events_url": "https://api.github.com/users/Noratrieb/events{/privacy}", "received_events_url": "https://api.github.com/users/Noratrieb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-26T20:47:43Z", "updated_at": "2022-05-30T15:23:12Z", "closed_at": "2022-05-27T11:30:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/303", "html_url": "https://github.com/metrics-rs/metrics/pull/303", "diff_url": "https://github.com/metrics-rs/metrics/pull/303.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/303.patch", "merged_at": "2022-05-27T11:30:48Z"}, "body": "Calling `.as_mut_ptr` on a `String` actually goes through `&mut str`, which shrinks the provenance of the pointer to only contain the initialized bytes. This caused issues when a reconstructed `String` tried to write to the uninitialized part of it. The fix is to go through `Vec::<u8>::as_mut_ptr`, which gives provenance for the entire allocation.\r\n\r\nAlso PRed upstream [beef#47](https://github.com/maciejhirsz/beef/pull/47)", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/303/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/302", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/302/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/302/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/302/events", "html_url": "https://github.com/metrics-rs/metrics/pull/302", "id": 1244923257, "node_id": "PR_kwDOCo2QLc44R7RH", "number": 302, "title": "Improve handling of the global recorder instance", "user": {"login": "Noratrieb", "id": 48135649, "node_id": "MDQ6VXNlcjQ4MTM1NjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/48135649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Noratrieb", "html_url": "https://github.com/Noratrieb", "followers_url": "https://api.github.com/users/Noratrieb/followers", "following_url": "https://api.github.com/users/Noratrieb/following{/other_user}", "gists_url": "https://api.github.com/users/Noratrieb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Noratrieb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Noratrieb/subscriptions", "organizations_url": "https://api.github.com/users/Noratrieb/orgs", "repos_url": "https://api.github.com/users/Noratrieb/repos", "events_url": "https://api.github.com/users/Noratrieb/events{/privacy}", "received_events_url": "https://api.github.com/users/Noratrieb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354009486, "node_id": "MDU6TGFiZWwyMzU0MDA5NDg2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-complex", "name": "E-complex", "color": "fbca04", "default": false, "description": "Effort: complex."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-23T10:10:49Z", "updated_at": "2022-05-30T15:24:01Z", "closed_at": "2022-05-25T12:19:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/302", "html_url": "https://github.com/metrics-rs/metrics/pull/302", "diff_url": "https://github.com/metrics-rs/metrics/pull/302.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/302.patch", "merged_at": "2022-05-25T12:19:37Z"}, "body": "This gets rid of the dangerous `static mut`, adds more comments about the code, relaxes the orderings and documents the unsoundness of the `clear` function.\r\n\r\nIt implements a small once_cell-like abstraction.\r\n\r\nI also noticed that the whole `#[cfg(atomic_cas)]` seems pretty pointless since this crate doesn't support `no_std` anyways.\r\n\r\nAbout `clear_recorder`: This function was unsound before as well, since the following interleaving was possible:\r\n- Thread A reads the state as init\r\n- Thread B clears\r\n- Thread B CASes the state and starts writing to the recorder\r\n- Thread A now reads the recorder - a data race!", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/302/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/301", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/301/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/301/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/301/events", "html_url": "https://github.com/metrics-rs/metrics/pull/301", "id": 1240707192, "node_id": "PR_kwDOCo2QLc44EJyZ", "number": 301, "title": "Update quanta requirement from 0.9.3 to 0.10.0", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-18T23:23:51Z", "updated_at": "2022-06-29T14:14:16Z", "closed_at": "2022-06-29T14:14:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/301", "html_url": "https://github.com/metrics-rs/metrics/pull/301", "diff_url": "https://github.com/metrics-rs/metrics/pull/301.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/301.patch", "merged_at": "2022-06-29T14:14:01Z"}, "body": "Updates the requirements on [quanta](https://github.com/metrics-rs/quanta) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/metrics-rs/quanta/blob/main/CHANGELOG.md\">quanta's changelog</a>.</em></p>\n<blockquote>\n<h2>[0.10.0] - 2022-05-18</h2>\n<h3>Changed</h3>\n<ul>\n<li>Documentation has been updated to reflect that <code>quanta</code> does not track time across system\nsuspends.</li>\n<li>Fixed a panic in the calibration loop if a certain edge case with TSC measurements is encountered.</li>\n<li>Updated a unit test that was frequently flaky to be more precise.</li>\n</ul>\n<h3>Removed</h3>\n<ul>\n<li><code>Instant::as_u64</code> has been removed.  As it provided direct access to an value that could\nfundamentally change from version-to-version, it felt like time to remove that footgun and push\nusers more towards the API that mimics <code>std::time</code>.</li>\n<li><code>Clock::upkeep</code> has been removed.  It doesn't need to exist on <code>Clock</code> directly, as we have had\nthe <code>quanta::set_recent</code> free function for a while now, and was just duplicating that.</li>\n<li><code>Clock::start</code> and <code>Clock::end</code> have been removed. They saw limited usage and overall just added somewhat needless API\nclutter given that users who are looking to do ultra-precise timing will either want more control or use another\ntechnique such as instruction counting.</li>\n</ul>\n<h2>[0.9.3] - 2021-09-16</h2>\n<h3>Added</h3>\n<ul>\n<li>CI tests for MIPS/ARM. (<a href=\"https://github-redirect.dependabot.com/metrics-rs/quanta/pull/55\">#55</a>)</li>\n</ul>\n<h3>Changed</h3>\n<ul>\n<li>Fixed compilation issue with <code>Mock</code> on MIPS/ARM. (<a href=\"https://github-redirect.dependabot.com/metrics-rs/quanta/pull/55\">#55</a>)</li>\n<li>Simplified how TSC/RDTSC suppoort is detected, which should avoid some situations where it was\nassumed to be present, but actually was not. (<a href=\"https://github-redirect.dependabot.com/metrics-rs/quanta/pull/57\">#57</a>)</li>\n</ul>\n<h2>[0.9.2] - 2021-08-25</h2>\n<h3>Changed</h3>\n<ul>\n<li>Pinned <code>crossbeam-utils</code> to <code>v0.8.5</code> where <code>AtomicCell::fetch_update</code> was introduced to fix, which\nfixes broken builds where Cargo chooses a version between <code>0.8.0</code> and <code>0.8.5</code>.</li>\n<li>Update <code>raw-cpuid</code> to <code>10.2</code> and <code>average</code> to <code>0.13</code>.</li>\n</ul>\n<h2>[0.9.1] - 2021-08-12</h2>\n<h3>Changed</h3>\n<ul>\n<li>Switched from <code>atomic-shim</code> to <code>crossbeam-utils</code> for better cross-platform atomic support. (<a href=\"https://github-redirect.dependabot.com/metrics-rs/quanta/pull/52\">#52</a>)</li>\n</ul>\n<h2>[0.9.0] - 2021-06-17</h2>\n<h3>Added</h3>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/33c61dca123ca639a91c75c354da27c378b8a1b6\"><code>33c61dc</code></a> (cargo-release) version 0.10.0</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/c0650edabf1d1a19ebba000edb5919202e41389c\"><code>c0650ed</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/metrics-rs/quanta/issues/67\">#67</a> from metrics-rs/clean-up-api</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/ffecdc37f4d8106d54f36bc582732476b453eb53\"><code>ffecdc3</code></a> fix more broken stuff</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/275458982407777e3d70fc51f11bf50b303e9eb5\"><code>2754589</code></a> fix some woopsies</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/aaa035dafa8aef052fd171b1a8bebc3d1cb2fdd1\"><code>aaa035d</code></a> bunch of cleanup</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/fbf383a33d7836d7303dd3aa8d9627e17cd613da\"><code>fbf383a</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/metrics-rs/quanta/issues/62\">#62</a> from metrics-rs/better-docs-about-suspend</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/e2246c4db9c0015e2289fbed588c21fff78391c3\"><code>e2246c4</code></a> fix docs issues</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/8b46f2c0858db9cfcd64682288bae4e44915c81e\"><code>8b46f2c</code></a> a lot of stuff</li>\n<li>See full diff in <a href=\"https://github.com/metrics-rs/quanta/compare/v0.9.3...v0.10.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/301/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/299", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/299/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/299/events", "html_url": "https://github.com/metrics-rs/metrics/pull/299", "id": 1223175085, "node_id": "PR_kwDOCo2QLc43Lqu2", "number": 299, "title": "metrics-util: add ability to collect metrics on a per-thread basis via DebuggingRecorder", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-02T18:01:15Z", "updated_at": "2022-05-30T15:14:38Z", "closed_at": "2022-05-02T18:24:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/299", "html_url": "https://github.com/metrics-rs/metrics/pull/299", "diff_url": "https://github.com/metrics-rs/metrics/pull/299.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/299.patch", "merged_at": "2022-05-02T18:24:42Z"}, "body": "As stated in the title, this adds a new method to `DebuggingRecorder`: `per_thread`.\r\n\r\nThis method creates a `DebuggingRecorder` in per-thread mode, which creates all the necessary internal data structures used to track metrics on a per-thread basis instead. This allows users to collect _only_ the metrics emitted in the current thread, which can be very useful for unit testing scenarios where many tests are emitting metrics concurrently, and in various orders.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/299/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/296", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/296/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/296/events", "html_url": "https://github.com/metrics-rs/metrics/pull/296", "id": 1189899165, "node_id": "PR_kwDOCo2QLc41fpHR", "number": 296, "title": "fix prometheus metric name and label key sanitizer", "user": {"login": "wx-csy", "id": 13661528, "node_id": "MDQ6VXNlcjEzNjYxNTI4", "avatar_url": "https://avatars.githubusercontent.com/u/13661528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wx-csy", "html_url": "https://github.com/wx-csy", "followers_url": "https://api.github.com/users/wx-csy/followers", "following_url": "https://api.github.com/users/wx-csy/following{/other_user}", "gists_url": "https://api.github.com/users/wx-csy/gists{/gist_id}", "starred_url": "https://api.github.com/users/wx-csy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wx-csy/subscriptions", "organizations_url": "https://api.github.com/users/wx-csy/orgs", "repos_url": "https://api.github.com/users/wx-csy/repos", "events_url": "https://api.github.com/users/wx-csy/events{/privacy}", "received_events_url": "https://api.github.com/users/wx-csy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-04-01T14:43:41Z", "updated_at": "2022-05-30T15:24:21Z", "closed_at": "2022-04-08T20:34:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/296", "html_url": "https://github.com/metrics-rs/metrics/pull/296", "diff_url": "https://github.com/metrics-rs/metrics/pull/296.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/296.patch", "merged_at": "2022-04-08T20:34:48Z"}, "body": "The original sanitizer mistakenly replaces digits in the middle of a string with an underscore. This pull request fixes this issue", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/296/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/290", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/290/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/290/events", "html_url": "https://github.com/metrics-rs/metrics/pull/290", "id": 1173634363, "node_id": "PR_kwDOCo2QLc40qMpA", "number": 290, "title": "metrics-exporter-prometheus: properly sanitize metric names", "user": {"login": "gnuvince", "id": 39868, "node_id": "MDQ6VXNlcjM5ODY4", "avatar_url": "https://avatars.githubusercontent.com/u/39868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gnuvince", "html_url": "https://github.com/gnuvince", "followers_url": "https://api.github.com/users/gnuvince/followers", "following_url": "https://api.github.com/users/gnuvince/following{/other_user}", "gists_url": "https://api.github.com/users/gnuvince/gists{/gist_id}", "starred_url": "https://api.github.com/users/gnuvince/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gnuvince/subscriptions", "organizations_url": "https://api.github.com/users/gnuvince/orgs", "repos_url": "https://api.github.com/users/gnuvince/repos", "events_url": "https://api.github.com/users/gnuvince/events{/privacy}", "received_events_url": "https://api.github.com/users/gnuvince/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-18T14:08:43Z", "updated_at": "2022-05-31T14:01:59Z", "closed_at": "2022-04-04T20:42:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/290", "html_url": "https://github.com/metrics-rs/metrics/pull/290", "diff_url": "https://github.com/metrics-rs/metrics/pull/290.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/290.patch", "merged_at": "2022-04-04T20:42:44Z"}, "body": "Closes #289 \r\n\r\n#289 describes a case when a valid metric name is sanitized (i.e., changed) when it need not be. I added a test to exercise this case and modified the `sanitize_metrics_name` function to pass this test. In terms of approach, I changed from using methods on strings to using a pre-constructed lookup table. The helper functions that were previously used to implement `sanitize_metrics_name` have been moved in the `test` module to act as oracles in the property tests.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/290/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/288", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/288/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/288/events", "html_url": "https://github.com/metrics-rs/metrics/pull/288", "id": 1171585670, "node_id": "PR_kwDOCo2QLc40j7JX", "number": 288, "title": "metrics-tracing-context: add Allowlist label filter", "user": {"login": "look", "id": 10186, "node_id": "MDQ6VXNlcjEwMTg2", "avatar_url": "https://avatars.githubusercontent.com/u/10186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/look", "html_url": "https://github.com/look", "followers_url": "https://api.github.com/users/look/followers", "following_url": "https://api.github.com/users/look/following{/other_user}", "gists_url": "https://api.github.com/users/look/gists{/gist_id}", "starred_url": "https://api.github.com/users/look/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/look/subscriptions", "organizations_url": "https://api.github.com/users/look/orgs", "repos_url": "https://api.github.com/users/look/repos", "events_url": "https://api.github.com/users/look/events{/privacy}", "received_events_url": "https://api.github.com/users/look/received_events", "type": "User", "user_view_type": "public", "site_admin": true}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-16T21:40:44Z", "updated_at": "2022-05-30T15:28:36Z", "closed_at": "2022-03-20T19:37:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/288", "html_url": "https://github.com/metrics-rs/metrics/pull/288", "diff_url": "https://github.com/metrics-rs/metrics/pull/288.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/288.patch", "merged_at": "2022-03-20T19:37:00Z"}, "body": "In many metrics system (for example, Datadog) sending all tags will be cost prohibitive if not impossible. Since filtering metrics tags to a small set of allowed tags is a common requirement, add a `LabelFilter` to support this easily.\r\n\r\n**Note:** I'm fairly new with Rust, please let me know if there are better ways to implement this.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/288/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/286", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/286/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/286/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/286/events", "html_url": "https://github.com/metrics-rs/metrics/pull/286", "id": 1170109753, "node_id": "PR_kwDOCo2QLc40fETn", "number": 286, "title": "fix typo in RustDoc", "user": {"login": "look", "id": 10186, "node_id": "MDQ6VXNlcjEwMTg2", "avatar_url": "https://avatars.githubusercontent.com/u/10186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/look", "html_url": "https://github.com/look", "followers_url": "https://api.github.com/users/look/followers", "following_url": "https://api.github.com/users/look/following{/other_user}", "gists_url": "https://api.github.com/users/look/gists{/gist_id}", "starred_url": "https://api.github.com/users/look/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/look/subscriptions", "organizations_url": "https://api.github.com/users/look/orgs", "repos_url": "https://api.github.com/users/look/repos", "events_url": "https://api.github.com/users/look/events{/privacy}", "received_events_url": "https://api.github.com/users/look/received_events", "type": "User", "user_view_type": "public", "site_admin": true}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-15T19:34:51Z", "updated_at": "2022-05-30T15:29:22Z", "closed_at": "2022-03-15T22:36:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/286", "html_url": "https://github.com/metrics-rs/metrics/pull/286", "diff_url": "https://github.com/metrics-rs/metrics/pull/286.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/286.patch", "merged_at": "2022-03-15T22:36:27Z"}, "body": "I noticed this when hovering over the type in my editor.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/286/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/285", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/285/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/285/events", "html_url": "https://github.com/metrics-rs/metrics/pull/285", "id": 1163087614, "node_id": "PR_kwDOCo2QLc40ILxY", "number": 285, "title": "Add various exports.", "user": {"login": "TimonPost", "id": 19969910, "node_id": "MDQ6VXNlcjE5OTY5OTEw", "avatar_url": "https://avatars.githubusercontent.com/u/19969910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimonPost", "html_url": "https://github.com/TimonPost", "followers_url": "https://api.github.com/users/TimonPost/followers", "following_url": "https://api.github.com/users/TimonPost/following{/other_user}", "gists_url": "https://api.github.com/users/TimonPost/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimonPost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimonPost/subscriptions", "organizations_url": "https://api.github.com/users/TimonPost/orgs", "repos_url": "https://api.github.com/users/TimonPost/repos", "events_url": "https://api.github.com/users/TimonPost/events{/privacy}", "received_events_url": "https://api.github.com/users/TimonPost/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-03-08T20:27:52Z", "updated_at": "2022-03-11T07:43:44Z", "closed_at": "2022-03-10T15:41:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/285", "html_url": "https://github.com/metrics-rs/metrics/pull/285", "diff_url": "https://github.com/metrics-rs/metrics/pull/285.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/285.patch", "merged_at": "2022-03-10T15:41:27Z"}, "body": "Adds various missing exports.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/285/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/284", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/284/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/284/events", "html_url": "https://github.com/metrics-rs/metrics/pull/284", "id": 1160452104, "node_id": "PR_kwDOCo2QLc4z_taY", "number": 284, "title": "allow for `Storage` with internal state", "user": {"login": "nrxus", "id": 2774084, "node_id": "MDQ6VXNlcjI3NzQwODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2774084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrxus", "html_url": "https://github.com/nrxus", "followers_url": "https://api.github.com/users/nrxus/followers", "following_url": "https://api.github.com/users/nrxus/following{/other_user}", "gists_url": "https://api.github.com/users/nrxus/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrxus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrxus/subscriptions", "organizations_url": "https://api.github.com/users/nrxus/orgs", "repos_url": "https://api.github.com/users/nrxus/repos", "events_url": "https://api.github.com/users/nrxus/events{/privacy}", "received_events_url": "https://api.github.com/users/nrxus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-05T21:41:21Z", "updated_at": "2022-03-11T01:32:33Z", "closed_at": "2022-03-10T16:22:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/284", "html_url": "https://github.com/metrics-rs/metrics/pull/284", "diff_url": "https://github.com/metrics-rs/metrics/pull/284.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/284.patch", "merged_at": "2022-03-10T16:21:59Z"}, "body": "This will let users of the `Registry` create custom structs that\r\nimplement `Storage` where the instances for the metrics are dependent\r\non data it knows about the world and the key for that metric\r\n\r\nIn particular my use case for this will be that sometimes I want to create `Summary` and sometimes I want to create `Histogram` when a `metrics::histogram!` metric is emitted. Currently the storages out of the box are insufficient because the \"histogram\" storage stores a boundless `Vec<f64>` whereas it would be more efficient in a \"true histogram\" case to just keep track of the counts for each bucket and then merge the histograms in each shard when collecting metrics. ", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/284/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/282", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/282/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/282/events", "html_url": "https://github.com/metrics-rs/metrics/pull/282", "id": 1156350112, "node_id": "PR_kwDOCo2QLc4zyFth", "number": 282, "title": "Delete internal state for key recency when idle expiration occurs.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-02T04:21:06Z", "updated_at": "2022-03-02T04:37:43Z", "closed_at": "2022-03-02T04:37:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/282", "html_url": "https://github.com/metrics-rs/metrics/pull/282", "diff_url": "https://github.com/metrics-rs/metrics/pull/282.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/282.patch", "merged_at": "2022-03-02T04:37:39Z"}, "body": "We currently don't actually drop the entry for a metric from the internal state of `Recency` when it's been idle long enough that we delete it from the registry.  This is unbounded memory growth.  Not great! :)\r\n\r\nFixes #280.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/282/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/281", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/281/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/281/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/281/events", "html_url": "https://github.com/metrics-rs/metrics/pull/281", "id": 1155326032, "node_id": "PR_kwDOCo2QLc4zumhl", "number": 281, "title": "Make `Registry` generic over both key and storage.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354031456, "node_id": "MDU6TGFiZWwyMzU0MDMxNDU2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-refactor", "name": "T-refactor", "color": "0052cc", "default": false, "description": "Type: refactor."}, {"id": 3825749068, "node_id": "LA_kwDOCo2QLc7kCExM", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-ergonomics", "name": "T-ergonomics", "color": "0052CC", "default": false, "description": "Type: ergonomics."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-01T13:13:03Z", "updated_at": "2022-03-01T13:42:17Z", "closed_at": "2022-03-01T13:42:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/281", "html_url": "https://github.com/metrics-rs/metrics/pull/281", "diff_url": "https://github.com/metrics-rs/metrics/pull/281.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/281.patch", "merged_at": "2022-03-01T13:42:12Z"}, "body": "It was brought up in #271 that the latest `metrics` release had degraded the experience of using `Registry` due in part to the refactoring we did which hard-coded not only the key type but the primitives used.\r\n\r\nThis was somewhat intentional, given our need to need to unifying hash for pre-hashed vs re-hashing of keys, but I had never explicitly intended to hide `Primitives` and prevent external implementations. This PR fixes both of those issues.\r\n\r\nFirstly, we've made the key type generic by augmenting `Hashable` such that it has to specify (as an associated type) the hasher it uses for pre-hashing itself.  External implementations can choose to rely on `metrics::KeyHasher` if the choose, but now they have an option to utilize a different hasher as well.\r\n\r\nSecondly, we've renamed `Primitives` to `Storage`, and made the trait public.  This will allow users to implement their own storage regime when using `Registry` in case they have special requirements.\r\n\r\nFixes #272.\r\nFixes #274.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/281/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/278", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/278/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/278/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/278/events", "html_url": "https://github.com/metrics-rs/metrics/pull/278", "id": 1154383830, "node_id": "PR_kwDOCo2QLc4zrgKT", "number": 278, "title": "fix wording in release notes", "user": {"login": "robjtede", "id": 3316789, "node_id": "MDQ6VXNlcjMzMTY3ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/3316789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robjtede", "html_url": "https://github.com/robjtede", "followers_url": "https://api.github.com/users/robjtede/followers", "following_url": "https://api.github.com/users/robjtede/following{/other_user}", "gists_url": "https://api.github.com/users/robjtede/gists{/gist_id}", "starred_url": "https://api.github.com/users/robjtede/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robjtede/subscriptions", "organizations_url": "https://api.github.com/users/robjtede/orgs", "repos_url": "https://api.github.com/users/robjtede/repos", "events_url": "https://api.github.com/users/robjtede/events{/privacy}", "received_events_url": "https://api.github.com/users/robjtede/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-28T17:54:16Z", "updated_at": "2022-02-28T18:46:05Z", "closed_at": "2022-02-28T18:45:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/278", "html_url": "https://github.com/metrics-rs/metrics/pull/278", "diff_url": "https://github.com/metrics-rs/metrics/pull/278.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/278.patch", "merged_at": "2022-02-28T18:45:47Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/278/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/277", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/277/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/277/events", "html_url": "https://github.com/metrics-rs/metrics/pull/277", "id": 1145308325, "node_id": "PR_kwDOCo2QLc4zNBQW", "number": 277, "title": "allow for slices to be converted into labels", "user": {"login": "nrxus", "id": 2774084, "node_id": "MDQ6VXNlcjI3NzQwODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2774084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrxus", "html_url": "https://github.com/nrxus", "followers_url": "https://api.github.com/users/nrxus/followers", "following_url": "https://api.github.com/users/nrxus/following{/other_user}", "gists_url": "https://api.github.com/users/nrxus/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrxus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrxus/subscriptions", "organizations_url": "https://api.github.com/users/nrxus/orgs", "repos_url": "https://api.github.com/users/nrxus/repos", "events_url": "https://api.github.com/users/nrxus/events{/privacy}", "received_events_url": "https://api.github.com/users/nrxus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}, {"id": 3825749068, "node_id": "LA_kwDOCo2QLc7kCExM", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-ergonomics", "name": "T-ergonomics", "color": "0052CC", "default": false, "description": "Type: ergonomics."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-21T04:25:58Z", "updated_at": "2022-03-11T01:31:46Z", "closed_at": "2022-02-28T23:52:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/277", "html_url": "https://github.com/metrics-rs/metrics/pull/277", "diff_url": "https://github.com/metrics-rs/metrics/pull/277.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/277.patch", "merged_at": "2022-02-28T23:52:52Z"}, "body": "This PR removes the (implicit) sized requirement of one of the `IntoLabels` implementations to allow `&[(&'static str, &'static str)]` to be converted into `Vec<Label>`\r\n\r\nA pattern I've been using often is that I have a static array of labels somewhere on the top of a module. i.e.,:\r\n\r\n```rust\r\n// note the explicit \"1\" for the size of the array here. \r\nconst LABELS: [(&'static str, &'static str); 1] = [(\"source\", \"this-module\")];\r\n\r\nfn do_a_thing_for_this_module() {\r\n    /* does a thing specific to this module */\r\n    metrics::increment_counter!(\"a-thing-ocurred\", &LABELS);\r\n}\r\n```\r\n\r\nThis works great when the `LABELS` const is being used directly as that variable is sized (to an array of 1 element).\r\n\r\nHowever, I recently started refactoring some of my code and I had a function that looks like:\r\n\r\n```rust\r\nfn do_a_thing_anywhere(labels: &[(&'static str, &'static str)]) {\r\n    /*does a thing that could be called from any module so it might need different labels */\r\n    metrics::increment_counter!(\"a-thing-ocurred\", &labels);\r\n}\r\n```\r\n\r\nThis does not compile however because there is an implicit `Sized` requirement in the `impl<T> IntoLabels for &T` block. While there are things that I could do get around this requirement in my code (e.g., make the function be generic over `IntoLabels`, or force it to be a reference to an array of a specific size) the `Sized` requirement felt like it was more of an oopsie rather than an intentional design choice. This PR removes this implicit bound and adds a test to verify it compiles and works as expected. I couldn't find where to put label specific tests so I put it on the same module I made the change in, I hope that's okay. ", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/277/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/276", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/276/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/276/events", "html_url": "https://github.com/metrics-rs/metrics/pull/276", "id": 1145136077, "node_id": "PR_kwDOCo2QLc4zMe1_", "number": 276, "title": "Properly track the latest generation in `Recency` for an already-seen metric .", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-20T21:14:23Z", "updated_at": "2022-02-20T21:25:00Z", "closed_at": "2022-02-20T21:24:58Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/276", "html_url": "https://github.com/metrics-rs/metrics/pull/276", "diff_url": "https://github.com/metrics-rs/metrics/pull/276.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/276.patch", "merged_at": "2022-02-20T21:24:58Z"}, "body": "This fixes an a particularly embarrassing bug with `Recency`, and by extension the idle timeout support in `metrics-exporter-prometheus`, where if a metric was seen twice, such that it has changed between the two observations, then it would effectively be locked such that it was never removed.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/276/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/268", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/268/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/268/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/268/events", "html_url": "https://github.com/metrics-rs/metrics/pull/268", "id": 1117923469, "node_id": "PR_kwDOCo2QLc4xw0d-", "number": 268, "title": "Update parking_lot requirement from 0.11 to 0.12", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-28T23:05:20Z", "updated_at": "2022-07-20T21:46:12Z", "closed_at": "2022-07-20T21:46:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/268", "html_url": "https://github.com/metrics-rs/metrics/pull/268", "diff_url": "https://github.com/metrics-rs/metrics/pull/268.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/268.patch", "merged_at": "2022-07-20T21:46:09Z"}, "body": "Updates the requirements on [parking_lot](https://github.com/Amanieu/parking_lot) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/Amanieu/parking_lot/blob/master/CHANGELOG.md\">parking_lot's changelog</a>.</em></p>\n<blockquote>\n<h2>parking_lot 0.12.0, parking_lot_core 0.9.0, lock_api 0.4.6 (2022-01-28)</h2>\n<ul>\n<li>The MSRV is bumped to 1.49.0.</li>\n<li>Disabled eventual fairness on wasm32-unknown-unknown. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/302\">#302</a>)</li>\n<li>Added a rwlock method to report if lock is held exclusively. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/303\">#303</a>)</li>\n<li>Use new <code>asm!</code> macro. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/304\">#304</a>)</li>\n<li>Use windows-rs instead of winapi for faster builds. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/311\">#311</a>)</li>\n<li>Moved hardware lock elision support to a separate Cargo feature. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/313\">#313</a>)</li>\n<li>Removed used of deprecated <code>spin_loop_hint</code>. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/314\">#314</a>)</li>\n</ul>\n<h2>parking_lot 0.11.2, parking_lot_core 0.8.4, lock_api 0.4.5 (2021-08-28)</h2>\n<ul>\n<li>Fixed incorrect memory orderings on <code>RwLock</code> and <code>WordLock</code>. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/294\">#294</a>, <a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/292\">#292</a>)</li>\n<li>Added <code>Arc</code>-based lock guards. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/291\">#291</a>)</li>\n<li>Added workaround for TSan's lack of support for <code>fence</code>. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/292\">#292</a>)</li>\n</ul>\n<h2>lock_api 0.4.4 (2021-05-01)</h2>\n<ul>\n<li>Update for latest nightly. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/281\">#281</a>)</li>\n</ul>\n<h2>lock_api 0.4.3 (2021-04-03)</h2>\n<ul>\n<li>Added <code>[Raw]ReentrantMutex::is_owned</code>. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/280\">#280</a>)</li>\n</ul>\n<h2>parking_lot_core 0.8.3 (2021-02-12)</h2>\n<ul>\n<li>Updated smallvec to 1.6. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/276\">#276</a>)</li>\n</ul>\n<h2>parking_lot_core 0.8.2 (2020-12-21)</h2>\n<ul>\n<li>Fixed assertion failure on OpenBSD. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/270\">#270</a>)</li>\n</ul>\n<h2>parking_lot_core 0.8.1 (2020-12-04)</h2>\n<ul>\n<li>Removed deprecated CloudABI support. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/263\">#263</a>)</li>\n<li>Fixed build on wasm32-unknown-unknown. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/265\">#265</a>)</li>\n<li>Relaxed dependency on <code>smallvec</code>. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/266\">#266</a>)</li>\n</ul>\n<h2>parking_lot 0.11.1, lock_api 0.4.2 (2020-11-18)</h2>\n<ul>\n<li>Fix bounds on Send and Sync impls for lock guards. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/262\">#262</a>)</li>\n<li>Fix incorrect memory ordering in <code>RwLock</code>. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/260\">#260</a>)</li>\n</ul>\n<h2>lock_api 0.4.1 (2020-07-06)</h2>\n<ul>\n<li>Add <code>data_ptr</code> method to lock types to allow unsafely accessing the inner data\nwithout a guard. (<a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/247\">#247</a>)</li>\n</ul>\n<h2>parking_lot 0.11.0, parking_lot_core 0.8.0, lock_api 0.4.0 (2020-06-23)</h2>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/Amanieu/parking_lot/commit/a75875b0bf904287a9749e8eabea919b5e9dd8a9\"><code>a75875b</code></a> Release parking_lot 0.12.0, parking_lot_core 0.9.0, lock_api 0.4.6</li>\n<li><a href=\"https://github.com/Amanieu/parking_lot/commit/78a16dd4d54cc4466c13f44b820eb3fff6ae7cfc\"><code>78a16dd</code></a> Minor fixes</li>\n<li><a href=\"https://github.com/Amanieu/parking_lot/commit/4d64bc6aac80bb997a995ee4efa2c7e096024b49\"><code>4d64bc6</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/314\">#314</a> from Amanieu/spin_loop</li>\n<li><a href=\"https://github.com/Amanieu/parking_lot/commit/a4e4a021dc4efe2c327777ef85c13f0716675766\"><code>a4e4a02</code></a> Only run CI for bors and pull requests</li>\n<li><a href=\"https://github.com/Amanieu/parking_lot/commit/930caab8f9857fd1965a6392378edc6967b5a355\"><code>930caab</code></a> Use core::hint::spin_loop instead of the deprecated spin_loop_hint.</li>\n<li><a href=\"https://github.com/Amanieu/parking_lot/commit/b3c929022ea4a535c67cede9d7ba54b72bfd6892\"><code>b3c9290</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/313\">#313</a> from Amanieu/hle_feature</li>\n<li><a href=\"https://github.com/Amanieu/parking_lot/commit/b271f842b9de134eaab748edd8bc4c553ee0fea1\"><code>b271f84</code></a> Move hardware lock elision support to a separate Cargo feature</li>\n<li><a href=\"https://github.com/Amanieu/parking_lot/commit/80194730f2104fa5ca92fe17a619b57d0677ece7\"><code>8019473</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/311\">#311</a> from clemenswasser/adopt-windows-rs</li>\n<li><a href=\"https://github.com/Amanieu/parking_lot/commit/1f942889c3df8d8007b3860d2bc2163575f1b520\"><code>1f94288</code></a> Adopt windows-rs</li>\n<li><a href=\"https://github.com/Amanieu/parking_lot/commit/c73dd439ce9031c1aa4b6d4e1fbe79e2b902367a\"><code>c73dd43</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/Amanieu/parking_lot/issues/309\">#309</a> from Amanieu/stable_asm</li>\n<li>Additional commits viewable in <a href=\"https://github.com/Amanieu/parking_lot/compare/0.11.0...0.12.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/268/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/268/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/266", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/266/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/266/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/266/events", "html_url": "https://github.com/metrics-rs/metrics/pull/266", "id": 1106324931, "node_id": "PR_kwDOCo2QLc4xLGV-", "number": 266, "title": "Update hashbrown requirement from 0.11 to 0.12", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-01-17T23:04:11Z", "updated_at": "2022-07-20T01:08:47Z", "closed_at": "2022-07-20T01:08:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/266", "html_url": "https://github.com/metrics-rs/metrics/pull/266", "diff_url": "https://github.com/metrics-rs/metrics/pull/266.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/266.patch", "merged_at": "2022-07-20T01:08:44Z"}, "body": "Updates the requirements on [hashbrown](https://github.com/rust-lang/hashbrown) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/rust-lang/hashbrown/blob/master/CHANGELOG.md\">hashbrown's changelog</a>.</em></p>\n<blockquote>\n<h2>[v0.12.0] - 2022-01-17</h2>\n<h2>Added</h2>\n<ul>\n<li>Added <code>From&lt;[T; N]&gt;</code> and <code>From&lt;[(K, V); N]&gt;</code> for <code>HashSet</code> and <code>HashMap</code> respectively. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/297\">#297</a>)</li>\n<li>Added an <code>allocator()</code> getter to HashMap and HashSet. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/257\">#257</a>)</li>\n<li>Added <code>insert_unique_unchecked</code> to <code>HashMap</code> and <code>HashSet</code>. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/293\">#293</a>)</li>\n<li>Added <code>into_keys</code> and <code>into_values</code> to HashMap. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/295\">#295</a>)</li>\n<li>Implement <code>From&lt;array&gt;</code> on <code>HashSet</code> and <code>HashMap</code>. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/298\">#298</a>)</li>\n<li>Added <code>entry_ref</code> API to <code>HashMap</code>. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/201\">#201</a>)</li>\n</ul>\n<h2>Changed</h2>\n<ul>\n<li>Bumped minimum Rust version to 1.56.1 and edition to 2021.</li>\n<li>Use u64 for the GroupWord on WebAssembly. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/271\">#271</a>)</li>\n<li>Optimized <code>find</code>. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/279\">#279</a>)</li>\n<li>Made rehashing and resizing less generic to reduce compilation time. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/282\">#282</a>)</li>\n<li>Inlined small functions. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/283\">#283</a>)</li>\n<li>Use <code>BuildHasher::hash_one</code> when <code>feature = &quot;nightly&quot;</code> is enabled. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/292\">#292</a>)</li>\n<li>Relaxed the bounds on <code>Debug</code> for <code>HashSet</code>. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/296\">#296</a>)</li>\n<li>Rename <code>get_each_mut</code> to <code>get_many_mut</code> and align API with the stdlib. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/291\">#291</a>)</li>\n<li>Don't hash the key when searching in an empty table. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/305\">#305</a>)</li>\n</ul>\n<h2>Fixed</h2>\n<ul>\n<li>Guard against allocations exceeding isize::MAX. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/268\">#268</a>)</li>\n<li>Made <code>RawTable::insert_no_grow</code> unsafe. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/254\">#254</a>)</li>\n<li>Inline <code>static_empty</code>. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/280\">#280</a>)</li>\n<li>Fixed trait bounds on Send/Sync impls. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/303\">#303</a>)</li>\n</ul>\n<h2>[v0.11.2] - 2021-03-25</h2>\n<h2>Fixed</h2>\n<ul>\n<li>Added missing allocator type parameter to <code>HashMap</code>'s and <code>HashSet</code>'s <code>Clone</code> impls. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/252\">#252</a>)</li>\n</ul>\n<h2>[v0.11.1] - 2021-03-20</h2>\n<h2>Fixed</h2>\n<ul>\n<li>Added missing <code>pub</code> modifier to <code>BumpWrapper</code>. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/251\">#251</a>)</li>\n</ul>\n<h2>[v0.11.0] - 2021-03-14</h2>\n<h2>Added</h2>\n<ul>\n<li>Added safe <code>try_insert_no_grow</code> method to <code>RawTable</code>. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/229\">#229</a>)</li>\n<li>Added support for <code>bumpalo</code> as an allocator without the <code>nightly</code> feature. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/231\">#231</a>)</li>\n<li>Implemented <code>Default</code> for <code>RawTable</code>. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/237\">#237</a>)</li>\n<li>Added new safe methods <code>RawTable::get_each_mut</code>, <code>HashMap::get_each_mut</code>, and\n<code>HashMap::get_each_key_value_mut</code>. (<a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/239\">#239</a>)</li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/rust-lang/hashbrown/commit/f3a242fb48e73df704d27c9722e30ebda5dd8e4f\"><code>f3a242f</code></a> Version 0.12.0</li>\n<li><a href=\"https://github.com/rust-lang/hashbrown/commit/61d70a16f87644b4efeefbbb7c83cb735fce317e\"><code>61d70a1</code></a> Auto merge of <a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/305\">#305</a> - nnethercote:add-is_empty-checks, r=Amanieu</li>\n<li><a href=\"https://github.com/rust-lang/hashbrown/commit/dec8e8cccbb6e2742b9f551bb9b95d4a8a9d0b63\"><code>dec8e8c</code></a> Don't hash the key when searching in an empty table.</li>\n<li><a href=\"https://github.com/rust-lang/hashbrown/commit/5590aeb945c7872fb786d75f5a49fbc2f68c00ca\"><code>5590aeb</code></a> Auto merge of <a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/303\">#303</a> - Amanieu:send_sync, r=Amanieu</li>\n<li><a href=\"https://github.com/rust-lang/hashbrown/commit/898a9fe9128aaaf7064696a064cea1b4cbc20262\"><code>898a9fe</code></a> Auto merge of <a href=\"https://github-redirect.dependabot.com/rust-lang/hashbrown/issues/301\">#301</a> - ajtribick:entry_ref, r=Amanieu</li>\n<li><a href=\"https://github.com/rust-lang/hashbrown/commit/7c545e1c4ac69241f4dc37bd544f5e7064eeb0e3\"><code>7c545e1</code></a> Add Send, Sync implementations for OccupiedEntryRef</li>\n<li><a href=\"https://github.com/rust-lang/hashbrown/commit/05ee33e9f0fa14bc869d120bcb8e2812d39574e3\"><code>05ee33e</code></a> Disable clippy::missing_safety_doc lint on Allocator trait</li>\n<li><a href=\"https://github.com/rust-lang/hashbrown/commit/4cae5d5068e64db47a9c695f588cf44648514b4c\"><code>4cae5d5</code></a> Fix trait bounds on Send/Sync impls</li>\n<li><a href=\"https://github.com/rust-lang/hashbrown/commit/f37c859bade936d5f3bf03b786c51305cad8f306\"><code>f37c859</code></a> Disable clippy::missing_safety_doc lint on Allocator trait</li>\n<li><a href=\"https://github.com/rust-lang/hashbrown/commit/c40058a7416e788015507947c3208e15c72675e6\"><code>c40058a</code></a> Add entry_ref API</li>\n<li>Additional commits viewable in <a href=\"https://github.com/rust-lang/hashbrown/compare/v0.11.0...v0.12.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/266/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/264", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/264/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/264/events", "html_url": "https://github.com/metrics-rs/metrics/pull/264", "id": 1093928610, "node_id": "PR_kwDOCo2QLc4wifuL", "number": 264, "title": "metrics-exporter-prometheus: fix recent metrics being removed by idle timeout logic", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2755168206, "node_id": "MDU6TGFiZWwyNzU1MTY4MjA2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-regression", "name": "T-regression", "color": "0052cc", "default": false, "description": "Type: regression."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-05T02:54:06Z", "updated_at": "2022-01-05T03:20:50Z", "closed_at": "2022-01-05T03:20:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/264", "html_url": "https://github.com/metrics-rs/metrics/pull/264", "diff_url": "https://github.com/metrics-rs/metrics/pull/264.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/264.patch", "merged_at": "2022-01-05T03:20:47Z"}, "body": "In #240, we switched over to a new trait, `Primitive`, in order to drive the behavior of `Registry`.  We use this in the Prometheus exporter to apply generational semantics to metric updates, which powers recency and idle timeout behavior.\r\n\r\nWhen we wrote the code, we inadvertently created metric handles which wrapped the inner atomic itself, instead of wrapping the `Generational<T>` wrapper.  Without proxying updates through `Generational`, we never update the generation.  This leads to idle timeout logic being broken.  Woops.\r\n\r\nThe actual change to fix it is simple: clone the `Generational<T>`, not the `T`.  We've also added a test that asserts that recent metrics live past the idle timeout based off their initial creation time.\r\n\r\nFixes #263.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/264/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/262", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/262/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/262/events", "html_url": "https://github.com/metrics-rs/metrics/pull/262", "id": 1093602237, "node_id": "PR_kwDOCo2QLc4whcad", "number": 262, "title": "metrics-macros: allow constants for label keys", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-04T17:30:35Z", "updated_at": "2022-01-04T17:53:58Z", "closed_at": "2022-01-04T17:53:55Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/262", "html_url": "https://github.com/metrics-rs/metrics/pull/262", "diff_url": "https://github.com/metrics-rs/metrics/pull/262.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/262.patch", "merged_at": "2022-01-04T17:53:55Z"}, "body": "This PR allows constants to be used for label keys, which allows users to deduplicate common label keys, as well allows centralization of those constants to allow for easier refactoring, etc.\r\n\r\nCloses #97.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/262/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/261", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/261/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/261/events", "html_url": "https://github.com/metrics-rs/metrics/pull/261", "id": 1092793621, "node_id": "PR_kwDOCo2QLc4we0w6", "number": 261, "title": "metrics-exporter-prometheus: histograms are now correctly removed when idle timeout is exceeded", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}, {"id": 2755168206, "node_id": "MDU6TGFiZWwyNzU1MTY4MjA2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-regression", "name": "T-regression", "color": "0052cc", "default": false, "description": "Type: regression."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-03T20:21:59Z", "updated_at": "2022-01-03T21:37:19Z", "closed_at": "2022-01-03T21:37:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/261", "html_url": "https://github.com/metrics-rs/metrics/pull/261", "diff_url": "https://github.com/metrics-rs/metrics/pull/261.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/261.patch", "merged_at": "2022-01-03T21:37:16Z"}, "body": "An issue was reported in #228 where histograms did not appear to be removed after they exceeded the configured idle timeout.\r\n\r\nThere were two bugs, one in the version the user reproduced the issue with and one in the current version of the code:\r\n- used wrong method to check for/delete idle histograms (current version)\r\n- did not remove aggregated distributions for histograms that were reported as inactive (both versions)\r\n\r\nPrimarily, the issue centered around the fact that the exporter aggregated histograms (distributions) internally every time something wants to render the metrics.  This provided bounded memory usage over time for a given metric, as well as tracking aggregated histograms/summaries in the way that Prometheus expects.\r\n\r\nHowever, even though we would correctly delete a histogram from the registry when we detected that it had been idle too long, we did not delete the internally aggregated version that the exporter also held... and since rendering works off of the internally aggregated data, it essentially ended up as the histogram continuing to be rendered/reported.\r\n\r\nFixes #228.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/261/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/260", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/260/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/260/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/260/events", "html_url": "https://github.com/metrics-rs/metrics/pull/260", "id": 1092731917, "node_id": "PR_kwDOCo2QLc4wen1k", "number": 260, "title": "Massive rework to make metric description more succinct.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354009486, "node_id": "MDU6TGFiZWwyMzU0MDA5NDg2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-complex", "name": "E-complex", "color": "fbca04", "default": false, "description": "Effort: complex."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}, {"id": 2354031456, "node_id": "MDU6TGFiZWwyMzU0MDMxNDU2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-refactor", "name": "T-refactor", "color": "0052cc", "default": false, "description": "Type: refactor."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-03T18:40:42Z", "updated_at": "2022-01-03T19:07:14Z", "closed_at": "2022-01-03T19:07:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/260", "html_url": "https://github.com/metrics-rs/metrics/pull/260", "diff_url": "https://github.com/metrics-rs/metrics/pull/260.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/260.patch", "merged_at": "2022-01-03T19:07:10Z"}, "body": "This PR is meant to address #244, but deals with a more wide-sweeping change to make metric description more succinct in practice.\r\n\r\nAs part of the work in #239 to support metric handles, we renamed the previous `register_*` macros to `describe_*`, to reflect a way to simply describe a metric, without registering it in the backend.  Metadata only, essentially.\r\n\r\nNow that those macros exist, the concept of using them to register a metric no longer exists, and so having an optional description doesn't make much sense.  As such, the macros now require a description to be passed, and we've tweaked the methods on `Recorder` to reflect this.  Units are still optional.\r\n\r\nAdditionally, we no longer support passing a full metric key (name + labels) as, again, these macros no longer need to support registering a specific metric in the backend, and defining a description for a specific name/labels combination is not something that comes up in practice.\r\n\r\nCloses #244.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/260/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/259", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/259/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/259/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/259/events", "html_url": "https://github.com/metrics-rs/metrics/pull/259", "id": 1088130806, "node_id": "PR_kwDOCo2QLc4wQEJt", "number": 259, "title": "chore: massive overhaul of prom exporter feature flags + builder + docs", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-24T04:02:37Z", "updated_at": "2021-12-24T20:13:17Z", "closed_at": "2021-12-24T20:13:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/259", "html_url": "https://github.com/metrics-rs/metrics/pull/259", "diff_url": "https://github.com/metrics-rs/metrics/pull/259.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/259.patch", "merged_at": "2021-12-24T20:13:14Z"}, "body": "This PR started off trying to address #223 but morphed into a bit more:\r\n- we did make the feature flag situation better (better names, flags show in docs.rs)\r\n- builder methods are named more appropriately for build only vs build/install\r\n- module-level docs!\r\n- cleaned up a bunch of code in various sections (although we made up for it, line count-wise, with all the `#[cfg]` statements we've added)\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>\r\n\r\nFixes #223.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/259/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/258", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/258/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/258/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/258/events", "html_url": "https://github.com/metrics-rs/metrics/pull/258", "id": 1087298773, "node_id": "PR_kwDOCo2QLc4wNWT2", "number": 258, "title": "metrics-exporter-prometheus: fix sanitization across the board", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354009066, "node_id": "MDU6TGFiZWwyMzU0MDA5MDY2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-intermediate", "name": "E-intermediate", "color": "fbca04", "default": false, "description": "Effort: intermediate."}, {"id": 2354011008, "node_id": "MDU6TGFiZWwyMzU0MDExMDA4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-bug", "name": "T-bug", "color": "0052cc", "default": false, "description": "Type: bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-23T01:29:47Z", "updated_at": "2021-12-23T01:52:42Z", "closed_at": "2021-12-23T01:52:22Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/258", "html_url": "https://github.com/metrics-rs/metrics/pull/258", "diff_url": "https://github.com/metrics-rs/metrics/pull/258.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/258.patch", "merged_at": "2021-12-23T01:52:22Z"}, "body": "This PR ensures that metric names, label keys and values, and metric descriptions are all correctly sanitized according to the Prometheus [data model](https://prometheus.io/docs/concepts/data_model/) and [exposition format](https://github.com/prometheus/docs/blob/main/content/docs/instrumenting/exposition_formats.md).\r\n\r\nAdditionally, we fixed a bug where metric descriptions were stored mapped to the original metric name, but searched for by the sanitized name, leading to not rendering the help text for metrics whose names were changed when sanitized.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>\r\n\r\nFixes #248.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/258/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/257", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/257/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/257/events", "html_url": "https://github.com/metrics-rs/metrics/pull/257", "id": 1087087498, "node_id": "PR_kwDOCo2QLc4wMqdC", "number": 257, "title": "chore: some release helper tooling + CHANGELOG updates galore", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-22T18:45:41Z", "updated_at": "2021-12-22T19:42:20Z", "closed_at": "2021-12-22T19:42:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/257", "html_url": "https://github.com/metrics-rs/metrics/pull/257", "diff_url": "https://github.com/metrics-rs/metrics/pull/257.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/257.patch", "merged_at": "2021-12-22T19:42:18Z"}, "body": "This PR started out as better/any tooling for trying to better sniff out changes to crates since their last released version, but turned into also updating changelogs and dependencies and fixing spelling errors and updating docs and what not.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/257/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/256", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/256/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/256/events", "html_url": "https://github.com/metrics-rs/metrics/pull/256", "id": 1085374672, "node_id": "PR_kwDOCo2QLc4wG_tL", "number": 256, "title": "chore: dependency cleanup", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354007536, "node_id": "MDU6TGFiZWwyMzU0MDA3NTM2", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-util", "name": "C-util", "color": "9ad7ed", "default": false, "description": "Component: utility classes and helpers."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-21T02:35:04Z", "updated_at": "2021-12-22T00:17:00Z", "closed_at": "2021-12-22T00:16:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/256", "html_url": "https://github.com/metrics-rs/metrics/pull/256", "diff_url": "https://github.com/metrics-rs/metrics/pull/256.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/256.patch", "merged_at": "2021-12-22T00:16:52Z"}, "body": "Trying to meaningfully shrink down the number of dependencies/features required to exactly what a given crate, or crate's feature, needs.\r\n\r\nThis has involved rewriting some tests to avoid feature-flagged self-dependencies, but I think it's for the better, all things considered.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/256/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/251", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/251/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/251/events", "html_url": "https://github.com/metrics-rs/metrics/pull/251", "id": 1077189222, "node_id": "PR_kwDOCo2QLc4vsjqC", "number": 251, "title": "metrics-exporter-prometheus: Single runtime install", "user": {"login": "lilymara-onesignal", "id": 54288692, "node_id": "MDQ6VXNlcjU0Mjg4Njky", "avatar_url": "https://avatars.githubusercontent.com/u/54288692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lilymara-onesignal", "html_url": "https://github.com/lilymara-onesignal", "followers_url": "https://api.github.com/users/lilymara-onesignal/followers", "following_url": "https://api.github.com/users/lilymara-onesignal/following{/other_user}", "gists_url": "https://api.github.com/users/lilymara-onesignal/gists{/gist_id}", "starred_url": "https://api.github.com/users/lilymara-onesignal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lilymara-onesignal/subscriptions", "organizations_url": "https://api.github.com/users/lilymara-onesignal/orgs", "repos_url": "https://api.github.com/users/lilymara-onesignal/repos", "events_url": "https://api.github.com/users/lilymara-onesignal/events{/privacy}", "received_events_url": "https://api.github.com/users/lilymara-onesignal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-12-10T20:07:18Z", "updated_at": "2022-01-26T21:26:20Z", "closed_at": "2021-12-13T22:09:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/251", "html_url": "https://github.com/metrics-rs/metrics/pull/251", "diff_url": "https://github.com/metrics-rs/metrics/pull/251.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/251.patch", "merged_at": "2021-12-13T22:09:26Z"}, "body": "Allow exporter to be installed on an existing tokio runtime when called form\r\nwithin that runtime.\r\n\r\nFixes #250 ", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/251/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/249", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/249/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/249/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/249/events", "html_url": "https://github.com/metrics-rs/metrics/pull/249", "id": 1072633569, "node_id": "PR_kwDOCo2QLc4vdpvE", "number": 249, "title": "Update tracing subscriber to 0.3", "user": {"login": "jszwedko", "id": 316880, "node_id": "MDQ6VXNlcjMxNjg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jszwedko", "html_url": "https://github.com/jszwedko", "followers_url": "https://api.github.com/users/jszwedko/followers", "following_url": "https://api.github.com/users/jszwedko/following{/other_user}", "gists_url": "https://api.github.com/users/jszwedko/gists{/gist_id}", "starred_url": "https://api.github.com/users/jszwedko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jszwedko/subscriptions", "organizations_url": "https://api.github.com/users/jszwedko/orgs", "repos_url": "https://api.github.com/users/jszwedko/repos", "events_url": "https://api.github.com/users/jszwedko/events{/privacy}", "received_events_url": "https://api.github.com/users/jszwedko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-06T21:26:26Z", "updated_at": "2021-12-20T16:19:47Z", "closed_at": "2021-12-11T17:39:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/249", "html_url": "https://github.com/metrics-rs/metrics/pull/249", "diff_url": "https://github.com/metrics-rs/metrics/pull/249.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/249.patch", "merged_at": "2021-12-11T17:39:32Z"}, "body": "Replaces https://github.com/metrics-rs/metrics/pull/237 . Includes the commit from there plus using the renamed `Layer` method `on_new_span`.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/249/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/247", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/247/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/247/events", "html_url": "https://github.com/metrics-rs/metrics/pull/247", "id": 1059390992, "node_id": "PR_kwDOCo2QLc4u0EZ4", "number": 247, "title": "drop `proc-macro-hack` dep", "user": {"login": "vilgotf", "id": 26655508, "node_id": "MDQ6VXNlcjI2NjU1NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/26655508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vilgotf", "html_url": "https://github.com/vilgotf", "followers_url": "https://api.github.com/users/vilgotf/followers", "following_url": "https://api.github.com/users/vilgotf/following{/other_user}", "gists_url": "https://api.github.com/users/vilgotf/gists{/gist_id}", "starred_url": "https://api.github.com/users/vilgotf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vilgotf/subscriptions", "organizations_url": "https://api.github.com/users/vilgotf/orgs", "repos_url": "https://api.github.com/users/vilgotf/repos", "events_url": "https://api.github.com/users/vilgotf/events{/privacy}", "received_events_url": "https://api.github.com/users/vilgotf/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006843, "node_id": "MDU6TGFiZWwyMzU0MDA2ODQz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-macros", "name": "C-macros", "color": "9ad7ed", "default": false, "description": "Component: macros."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011280, "node_id": "MDU6TGFiZWwyMzU0MDExMjgw", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-chore", "name": "T-chore", "color": "0052cc", "default": false, "description": "Type: chore."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-21T14:14:20Z", "updated_at": "2021-12-16T21:39:01Z", "closed_at": "2021-12-09T15:51:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/247", "html_url": "https://github.com/metrics-rs/metrics/pull/247", "diff_url": "https://github.com/metrics-rs/metrics/pull/247.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/247.patch", "merged_at": "2021-12-09T15:51:05Z"}, "body": "This dependency is unused", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/247/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/242", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/242/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/242/events", "html_url": "https://github.com/metrics-rs/metrics/pull/242", "id": 1042608261, "node_id": "PR_kwDOCo2QLc4t_qnY", "number": 242, "title": "metrics-tracing-context: remove unnecessary feature flags on deps", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354007798, "node_id": "MDU6TGFiZWwyMzU0MDA3Nzk4", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-core", "name": "C-core", "color": "9ad7ed", "default": false, "description": "Component: core functionality such as traits, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-02T17:02:24Z", "updated_at": "2021-11-02T17:27:25Z", "closed_at": "2021-11-02T17:27:22Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/242", "html_url": "https://github.com/metrics-rs/metrics/pull/242", "diff_url": "https://github.com/metrics-rs/metrics/pull/242.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/242.patch", "merged_at": "2021-11-02T17:27:22Z"}, "body": "Essentially, `metrics-tracing-context` didn't constrain its dependencies enough in terms of feature flags, so we pull in a lot of extra stuff.  This affects downstream consumers of the crate, polluting _their_ dependency graph.\r\n\r\nSigned-off-by: Toby Lawrence <toby@nuclearfurnace.com>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/242/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/240", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/240/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/240/events", "html_url": "https://github.com/metrics-rs/metrics/pull/240", "id": 1040631287, "node_id": "PR_kwDOCo2QLc4t5h9g", "number": 240, "title": "experimental: metric handles", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-01T00:38:42Z", "updated_at": "2021-12-18T22:36:47Z", "closed_at": "2021-12-18T22:36:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/240", "html_url": "https://github.com/metrics-rs/metrics/pull/240", "diff_url": "https://github.com/metrics-rs/metrics/pull/240.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/240.patch", "merged_at": "2021-12-18T22:36:42Z"}, "body": "### Context\r\nPrior to the current design, there used to be a crate called `metrics-runtime` which encapsulated essentially all of the functionality that we expose today via `metrics` and associated exporters.  Specifically, it provided a mechanism to get a \"handle\" to a metric: instead of blindly using the macros, you could hold a tangible object that gave you access to increment counters or set gauges, and so on.\r\n\r\nThis provided a meaningful performance boost when you could deal with the limitations of that -- can't have dynamic labels -- but was ultimately a little too coupled for my taste, and I wasn't yet a good enough developer to find a suitably decoupled design to continue providing it.\r\n\r\n### Present day\r\nThis PR explores a design that moves back towards what `metrics-runtime` provided -- metric handles -- while fitting into the current ecosystem in such a way that the handles can be decoupled and backed by an arbitrary implementation.\r\n\r\nThis shows up in a few ways:\r\n- `Recorder` now only hands back handles, it does not deal with updating a metric at all\r\n- there are three new types (`Counter`, `Gauge`, and `Histogram`) with concrete sets of methods specific to the metric\r\n- each of those types can be backed by an arbitrary value that implements a trait that fulfills the interface of the metric i.e. the `GaugeFn` trait requires a way to increment, decrement, or set the absolute value of the metric\r\n- we have new macros for defining a metric -- description/unit -- called `describe_*!` while `register_*` now create metric handles for a given metrics\r\n\r\nCrucially, the macros for updating a metric have not changed, so this change is backwards-compatible for many use cases where metrics were never being \"registered\".  For use cases where metrics were \"registered\" ahead of time, they'll now have to change to \"describing\" those metrics instead.\r\n\r\nFor static metrics -- no dynamic labels -- this represents a significant performance boost opportunity when the handles can be stored or held.  In cases where the macros are still used normally i.e. `counter!(...)`, there will be a slight performance decrease as we're creating a new handle just to perform the operation, as well looking up the metric in the registry.  There's a pathway to store the handle in a local static so that we can reduce the overhead to simply an atomic load, when compared to holding the handle and updating it directly.\r\n\r\nFor dynamic metrics, the performance should be on par.\r\n\r\n### Drawbacks\r\nIn some cases, using handles will provide a reduction/regression in behavior.  Take the `metrics-tracing-context` layer, for example: it grabs the fields of the current `tracing` span, if there is one, and augments the labels of the metric being emitted using those fields.\r\n\r\nWhen using metric handles, those fields would only be grabbed when the handle is created.  In cases where the tracing fields represented something dynamic, like the user ID for a given web request, or something else of that nature, the ability to implicitly capture that would be lost if the metric handle was held as a field on a struct that was created before the point where the metric was expected to be updated.\r\n\r\nIn most cases, stateless layers -- make all metrics start with a specific prefix, or don't emit metrics whose name matches a list of patterns, etc -- will experience no difference in behavior.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/240/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/231", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/231/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/231/events", "html_url": "https://github.com/metrics-rs/metrics/pull/231", "id": 995417071, "node_id": "MDExOlB1bGxSZXF1ZXN0NzMzMTgxNjA2", "number": 231, "title": "Update atomic-shim requirement from 0.1 to 0.2", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-09-13T23:06:14Z", "updated_at": "2021-12-13T22:10:21Z", "closed_at": "2021-12-12T18:23:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/231", "html_url": "https://github.com/metrics-rs/metrics/pull/231", "diff_url": "https://github.com/metrics-rs/metrics/pull/231.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/231.patch", "merged_at": "2021-12-12T18:23:59Z"}, "body": "Updates the requirements on [atomic-shim](https://github.com/bltavares/atomic-shim) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/bltavares/atomic-shim/blob/master/CHANGELOG.md\">atomic-shim's changelog</a>.</em></p>\n<blockquote>\n<h2>2021-09-12, Version v0.2.0</h2>\n<h3>Commits</h3>\n<ul>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/b8ae60b36902dac3c40b6afd3724aac9d5691bca\"><code>b8ae60b369</code></a>] (cargo-release) version 0.2.0 (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/740c4806fbae69e6dbd2919103f89768d5dc1acb\"><code>740c4806fb</code></a>] Add a changelog (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/7bb15a3acfd879a68a3c24124e911546691b4d33\"><code>7bb15a3acf</code></a>] Merge pull request <a href=\"https://github-redirect.dependabot.com/bltavares/atomic-shim/issues/1\">#1</a> from paolobarbolini/master (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/719ebb7d433b68df09a037da3bd4fd590dfd85d4\"><code>719ebb7d43</code></a>] Bump crossbeam and switch to crossbeam-utils (Paolo Barbolini)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/f9e277e90071213520deafb2f35d523249d1cec9\"><code>f9e277e900</code></a>] Fix urls (Bruno Tavares)</li>\n</ul>\n<h3>Stats</h3>\n<pre lang=\"diff\"><code> CHANGELOG.md | 27 +++++++++++++++++++++++++++\n Cargo.toml   | 12 ++++++------\n README.md    |  4 ++--\n src/shim.rs  |  2 +-\n 4 files changed, 36 insertions(+), 9 deletions(-)\n</code></pre>\n<h2>2020-05-20, Version 0.1.0</h2>\n<h3>Commits</h3>\n<ul>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/3a0fe4e1ec508cde094579a5c84f174d995c5bdb\"><code>3a0fe4e1ec</code></a>] Link things to their places (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/ed24aca2716d21bbb39b2eec7ecab45bd61bf530\"><code>ed24aca271</code></a>] Fix ci and add badge status (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/429b1558e7b712c801ce59d337db403ccbd24a06\"><code>429b1558e7</code></a>] Fix cargo clippy on ci (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/00e1c69a718b9c34fc3b493cec872659e97603d8\"><code>00e1c69a71</code></a>] Prepare for publication (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/dcdc35dd1b3bc345fb57ceab4c40b883565e5a7b\"><code>dcdc35dd1b</code></a>] Rename checks.yml to main.yml (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/70744ec58a4edd6c619b0c8ba8457b5bcbeef7b4\"><code>70744ec58a</code></a>] Document test and fix lints (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/91584c3174c68d45884312383d338e7090817135\"><code>91584c3174</code></a>] Document and setup (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/74eb0ec996b9bbee842c187b82e9279d370b606e\"><code>74eb0ec996</code></a>] Hold lock during operations (Bruno Tavares)</li>\n<li>[<a href=\"https://github.com/bltavares/atomic-shim/commit/66e70491256997303747f56cbee9c06b44efc58d\"><code>66e7049125</code></a>] Initial commit (Bruno Tavares)</li>\n</ul>\n<h3>Stats</h3>\n<pre lang=\"diff\"><code> .github/workflows/cross_compile.yml |  29 +-\n .github/workflows/main.yml          |  80 ++++-\n .gitignore                          |   2 +-\n Cargo.toml                          |  23 +-\n LICENSE-APACHE                      | 201 +++++++++-\n LICENSE-MIT                         |  21 +-\n README.md                           | 105 +++++-\n src/lib.rs                          |  62 +++-\n src/shim.rs                         | 828 +++++++++++++++++++++++++++++++++++++-\n 9 files changed, 1351 insertions(+)\n</code></pre>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/bltavares/atomic-shim/commit/b8ae60b36902dac3c40b6afd3724aac9d5691bca\"><code>b8ae60b</code></a> (cargo-release) version 0.2.0</li>\n<li><a href=\"https://github.com/bltavares/atomic-shim/commit/740c4806fbae69e6dbd2919103f89768d5dc1acb\"><code>740c480</code></a> Add a changelog</li>\n<li><a href=\"https://github.com/bltavares/atomic-shim/commit/7bb15a3acfd879a68a3c24124e911546691b4d33\"><code>7bb15a3</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/bltavares/atomic-shim/issues/1\">#1</a> from paolobarbolini/master</li>\n<li><a href=\"https://github.com/bltavares/atomic-shim/commit/719ebb7d433b68df09a037da3bd4fd590dfd85d4\"><code>719ebb7</code></a> Bump crossbeam and switch to crossbeam-utils</li>\n<li><a href=\"https://github.com/bltavares/atomic-shim/commit/f9e277e90071213520deafb2f35d523249d1cec9\"><code>f9e277e</code></a> Fix urls</li>\n<li>See full diff in <a href=\"https://github.com/bltavares/atomic-shim/compare/0.1.0...v0.2.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/224", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/224/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/224/events", "html_url": "https://github.com/metrics-rs/metrics/pull/224", "id": 947914346, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkyODI5MTIx", "number": 224, "title": "Improve performance of `metrics-tracing-context`.", "user": {"login": "tobz", "id": 222615, "node_id": "MDQ6VXNlcjIyMjYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/222615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobz", "html_url": "https://github.com/tobz", "followers_url": "https://api.github.com/users/tobz/followers", "following_url": "https://api.github.com/users/tobz/following{/other_user}", "gists_url": "https://api.github.com/users/tobz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobz/subscriptions", "organizations_url": "https://api.github.com/users/tobz/orgs", "repos_url": "https://api.github.com/users/tobz/repos", "events_url": "https://api.github.com/users/tobz/events{/privacy}", "received_events_url": "https://api.github.com/users/tobz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-07-19T18:26:58Z", "updated_at": "2021-07-19T18:48:46Z", "closed_at": "2021-07-19T18:48:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/224", "html_url": "https://github.com/metrics-rs/metrics/pull/224", "diff_url": "https://github.com/metrics-rs/metrics/pull/224.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/224.patch", "merged_at": "2021-07-19T18:48:41Z"}, "body": "Compared to the rest of the utilities in the `metrics` ecosystem, the `metrics`/`tracing` integration -- `metrics-tracing-context` -- is comparatively slow.  As we rebuild `Key`s on every metric emission, and shuffle around vectors of strings and so on, we generally perform a lot of extra work in the critical path of emitting metrics that readily shows up in profiling.\r\n\r\nAs a practical example, the usage of `metrics`, `tracing`, and `metrics-tracing-context` within a popular open-source observability project, [Vector](https://vector.dev), represents nearly 40-50% of all computation on certain workloads.  This is an untenable position for any project that is performance-conscious and goes against one of the core goals of `metrics` to be a zero-cost abstraction.\r\n\r\nIn this PR, we've significantly altered how the integration layer accomplishes its job.  In no specific order:\r\n- span fields are now denormalized amongst spans to avoid traversing span stacks every time we want to access them\r\n- the underlying field storage is now pooled so it can be re-used over time\r\n- we've reworked the way we enter the `tracing` codepath to avoid needlessly generating objects which involve expensive computation in their `Drop` implementations\r\n\r\nAs I work on Vector officially, we'll demonstrate the performance benefits of this PR using it as an example: with these changes, we see a roughly 17% improvement in performance on a representative workload that emits roughly 250K metrics/second, purely from reducing the overhead of emitting those metrics.", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/221", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/221/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/221/events", "html_url": "https://github.com/metrics-rs/metrics/pull/221", "id": 944858434, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkwMjc3NjU2", "number": 221, "title": "Update env_logger requirement from 0.8 to 0.9", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-07-14T23:03:49Z", "updated_at": "2021-07-15T13:43:44Z", "closed_at": "2021-07-15T13:43:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/221", "html_url": "https://github.com/metrics-rs/metrics/pull/221", "diff_url": "https://github.com/metrics-rs/metrics/pull/221.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/221.patch", "merged_at": "2021-07-15T13:43:41Z"}, "body": "Updates the requirements on [env_logger](https://github.com/env-logger-rs/env_logger) to permit the latest version.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/env-logger-rs/env_logger/releases\">env_logger's releases</a>.</em></p>\n<blockquote>\n<h2>v0.9.0</h2>\n<p>Breaking Changes:</p>\n<ul>\n<li>Default message format now prints the target instead of the module</li>\n</ul>\n<p>Improvements:</p>\n<ul>\n<li>Added a method to print the module instead of the target</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/04856ac38baf422baebb40729cf51127a75b82ed\"><code>04856ac</code></a> bump version to 0.9.0</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/e4744ff41a2e249bd94511c4689b4dbaa915841f\"><code>e4744ff</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/env-logger-rs/env_logger/issues/209\">#209</a> from gtsiam/main</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/c5fa7a2c2d9ad3f5d2da0581ede4ab2e8944e104\"><code>c5fa7a2</code></a> refactor: fix clippy warnings</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/34574dfa13e2c81bab007715c2f6faa4b94bb67f\"><code>34574df</code></a> Update link to examples</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/18884971d4eb1c268d61a4c37747de692bdd7124\"><code>1888497</code></a> Clarified documentation about log filtering</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/365ffafe45f615f65b88d67834aab16b132d9ecc\"><code>365ffaf</code></a> Show target instead of module path by default</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/d2998a6ec685051b97f5b5c97427a61593bc6581\"><code>d2998a6</code></a> Add option to print log target</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/13cafce572362582f57964eae6cb4a41f52fd04a\"><code>13cafce</code></a> Bump version to 0.8.4</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/090081156127dcd896b8b00837549cb4008c43d0\"><code>0900811</code></a> Ensure unique directive names when building filters</li>\n<li><a href=\"https://github.com/env-logger-rs/env_logger/commit/1a8379a533f043e623d5eb4a898d171927ad61c1\"><code>1a8379a</code></a> Allow writing logs to a custom output target (Target::Pipe)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/env-logger-rs/env_logger/compare/v0.8.0...v0.9.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/221/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/217", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/217/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/217/events", "html_url": "https://github.com/metrics-rs/metrics/pull/217", "id": 937663393, "node_id": "MDExOlB1bGxSZXF1ZXN0Njg0MTc4OTEx", "number": 217, "title": "feat: add support for prometheus push gateway", "user": {"login": "NOBLES5E", "id": 18649508, "node_id": "MDQ6VXNlcjE4NjQ5NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/18649508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NOBLES5E", "html_url": "https://github.com/NOBLES5E", "followers_url": "https://api.github.com/users/NOBLES5E/followers", "following_url": "https://api.github.com/users/NOBLES5E/following{/other_user}", "gists_url": "https://api.github.com/users/NOBLES5E/gists{/gist_id}", "starred_url": "https://api.github.com/users/NOBLES5E/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NOBLES5E/subscriptions", "organizations_url": "https://api.github.com/users/NOBLES5E/orgs", "repos_url": "https://api.github.com/users/NOBLES5E/repos", "events_url": "https://api.github.com/users/NOBLES5E/events{/privacy}", "received_events_url": "https://api.github.com/users/NOBLES5E/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2354006445, "node_id": "MDU6TGFiZWwyMzU0MDA2NDQ1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/C-exporter", "name": "C-exporter", "color": "9ad7ed", "default": false, "description": "Component: exporters such as Prometheus, TCP, etc."}, {"id": 2354008805, "node_id": "MDU6TGFiZWwyMzU0MDA4ODA1", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/E-simple", "name": "E-simple", "color": "fbca04", "default": false, "description": "Effort: simple."}, {"id": 2354011803, "node_id": "MDU6TGFiZWwyMzU0MDExODAz", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/T-enhancement", "name": "T-enhancement", "color": "0052cc", "default": false, "description": "Type: enhancement."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-07-06T08:46:30Z", "updated_at": "2021-07-15T13:41:18Z", "closed_at": "2021-07-15T13:30:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/217", "html_url": "https://github.com/metrics-rs/metrics/pull/217", "diff_url": "https://github.com/metrics-rs/metrics/pull/217.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/217.patch", "merged_at": "2021-07-15T13:30:21Z"}, "body": "close https://github.com/metrics-rs/metrics/issues/215", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/217/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/216", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/216/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/216/events", "html_url": "https://github.com/metrics-rs/metrics/pull/216", "id": 932061194, "node_id": "MDExOlB1bGxSZXF1ZXN0Njc5NDYyODI4", "number": 216, "title": "Update mockall requirement from 0.9 to 0.10", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-28T23:06:59Z", "updated_at": "2021-07-15T13:44:19Z", "closed_at": "2021-07-15T13:44:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/216", "html_url": "https://github.com/metrics-rs/metrics/pull/216", "diff_url": "https://github.com/metrics-rs/metrics/pull/216.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/216.patch", "merged_at": "2021-07-15T13:44:15Z"}, "body": "Updates the requirements on [mockall](https://github.com/asomers/mockall) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/asomers/mockall/blob/master/CHANGELOG.md\">mockall's changelog</a>.</em></p>\n<blockquote>\n<h2>[ 0.10.0 ] - 2021-06-27</h2>\n<h3>Added</h3>\n<ul>\n<li>\n<p><code>mock!</code> will now allow both methods and trait impls to be gated with\n<code>#[cfg()]]</code> attributes.  The attributes will be forwarded to all generated\ncode.  This allows for example only mocking certain traits on certain OSes.\n(<a href=\"https://github-redirect.dependabot.com/asomers/mockall/pull/297\">#297</a>)</p>\n</li>\n<li>\n<p>automock will now automatically generate Debug implementations for traits and\nstructs.  mock! will to, if you put <code>#[derive(Debug)]</code> above the struct's\nname.\n(<a href=\"https://github-redirect.dependabot.com/asomers/mockall/pull/289\">#289</a>)</p>\n</li>\n<li>\n<p>Added support for specific impls.  A specific impl is an implementation of a\ntrait on a generic struct with specified generic parameters.  For example,\n<code>impl Foo for Bar&lt;i32&gt;</code> as opposed to <code>impl&lt;T&gt; Foo for Bar&lt;T&gt;</code>.  Mockall does\nnot yet support generic methods in such traits.\n(<a href=\"https://github-redirect.dependabot.com/asomers/mockall/pull/274\">#274</a>)</p>\n</li>\n</ul>\n<h3>Changed</h3>\n<ul>\n<li>Mockall is pickier now about how you mock a trait on a generic struct.\nPreviously you could usually omit the generics.  Now, they're required.\ni.e.,\n<pre lang=\"rust\"><code>mock!{\n    MyStruct&lt;T: Bounds&gt; {...}\n    impl Foo for MyStruct {...}\n}\n</code></pre>\nshould now be written as\n<pre lang=\"rust\"><code>mock!{\n    MyStruct&lt;T: Bounds&gt; {...}\n    impl&lt;T: Bounds&gt; Foo for MyStruct&lt;T&gt; {...}\n}\n</code></pre>\n(<a href=\"https://github-redirect.dependabot.com/asomers/mockall/pull/274\">#274</a>)</li>\n</ul>\n<h3>Fixed</h3>\n<ul>\n<li>Fixed setting simultaneous expectations with different generic types on\ngeneric methods whose generic parameters appear in neither the arguments nor\nthe return type.\n(<a href=\"https://github-redirect.dependabot.com/asomers/mockall/pull/272\">#272</a>)</li>\n</ul>\n<h2>[0.9.1] - 2021-02-13</h2>\n<h3>Added</h3>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/asomers/mockall/commit/d8e2ec3eaf5fcef3c2375f10f7b2f99ac7be9743\"><code>d8e2ec3</code></a> Explicitly specify the path to the serde example</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/75b2bebb9d4be60e721d7b3ea29ece3617fa3cb9\"><code>75b2beb</code></a> (cargo-release) version 0.10.0</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/3228fb786be59d9fb71916a877fab6ff0abef3a8\"><code>3228fb7</code></a> (cargo-release) version 0.10.0</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/543eef9af304ca624f0106b66021f323dbd123e3\"><code>543eef9</code></a> [skip ci] remove &quot;upload-doc&quot; from release.toml</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/50e95a3f7cd714f60f48454ac47c942a8e7957f0\"><code>50e95a3</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/asomers/mockall/issues/297\">#297</a> from asomers/cfg</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/7ff1e038712388267fbdc9b1ac563e326d4f3b29\"><code>7ff1e03</code></a> Allow #[cfg()] attributes on trait impls in mock!</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/8076cd4e37f6c0ffdda3716438fbe4a79a353c76\"><code>8076cd4</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/asomers/mockall/issues/289\">#289</a> from asomers/autodebug</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/5b993d594f05f410fca6162da5cc97c2d93e85f4\"><code>5b993d5</code></a> fix a typo in an error message</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/f367875c5f82cb10dc07578950a167e975d057e1\"><code>f367875</code></a> Automatically generate Debug impls for mock structs</li>\n<li><a href=\"https://github.com/asomers/mockall/commit/066c04489068d75f9205982241a1ed4594031c2c\"><code>066c044</code></a> fix a typo in CHANGELOG</li>\n<li>Additional commits viewable in <a href=\"https://github.com/asomers/mockall/compare/v0.9.0...v0.10.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/216/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/213", "repository_url": "https://api.github.com/repos/metrics-rs/metrics", "labels_url": "https://api.github.com/repos/metrics-rs/metrics/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/metrics-rs/metrics/issues/213/comments", "events_url": "https://api.github.com/repos/metrics-rs/metrics/issues/213/events", "html_url": "https://github.com/metrics-rs/metrics/pull/213", "id": 924404667, "node_id": "MDExOlB1bGxSZXF1ZXN0NjczMDUxMDYy", "number": 213, "title": "Update quanta requirement from 0.7 to 0.9", "user": {"login": "dependabot[bot]", "id": 49699333, "node_id": "MDM6Qm90NDk2OTkzMzM=", "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dependabot%5Bbot%5D", "html_url": "https://github.com/apps/dependabot", "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers", "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos", "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2380064007, "node_id": "MDU6TGFiZWwyMzgwMDY0MDA3", "url": "https://api.github.com/repos/metrics-rs/metrics/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-06-17T23:05:50Z", "updated_at": "2021-09-16T19:38:43Z", "closed_at": "2021-09-13T19:45:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/metrics-rs/metrics/pulls/213", "html_url": "https://github.com/metrics-rs/metrics/pull/213", "diff_url": "https://github.com/metrics-rs/metrics/pull/213.diff", "patch_url": "https://github.com/metrics-rs/metrics/pull/213.patch", "merged_at": "2021-09-13T19:45:01Z"}, "body": "Updates the requirements on [quanta](https://github.com/nuclearfurnace/quanta) to permit the latest version.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/metrics-rs/quanta/blob/main/CHANGELOG.md\">quanta's changelog</a>.</em></p>\n<blockquote>\n<h2>[0.9.0] - 2021-06-17</h2>\n<h3>Added</h3>\n<ul>\n<li>Support for WASM/WASI targets. (<a href=\"https://github-redirect.dependabot.com/metrics-rs/quanta/pull/45\">#45</a>)</li>\n</ul>\n<h2>[0.8.0] - 2021-06-07</h2>\n<h3>Removed</h3>\n<ul>\n<li><code>Instant::as_unix_duration</code> as it was added in error.</li>\n<li><code>metrics</code> feature flag as <code>metrics-core</code> is no longer a relevant crate.</li>\n</ul>\n<h2>[0.7.2] - 2021-01-25</h2>\n<h3>Changed</h3>\n<ul>\n<li>Bumped dependency on <code>raw-cpuid</code> to <code>9.0</code> in order to deal with a <a href=\"https://rustsec.org/advisories/RUSTSEC-2021-0013\">RustSec\nadvisory</a>.</li>\n</ul>\n<h2>[0.7.1] - 2021-01-24</h2>\n<h3>Fixed</h3>\n<ul>\n<li>Incorrect method visibility for non-SSE2 implementation of <code>Counter</code>.\n(<a href=\"https://github-redirect.dependabot.com/metrics-rs/quanta/issues/38\">#38</a>)</li>\n</ul>\n<h2>[0.7.0] - 2021-01-03</h2>\n<h3>Changed</h3>\n<ul>\n<li>MSRV bumped to 1.45.0.</li>\n<li><code>Clock::now</code> takes <code>&amp;self</code> instead of <code>&amp;mut self</code>.</li>\n<li>Fixed a bug where a failure to spawn the upkeep thread would not allow subsequent attempts to\nspawn the upkeep thread to proceed.</li>\n</ul>\n<h3>Added</h3>\n<ul>\n<li>New methods --<code>Instant::now</code> and <code>Instant::recent</code> for getting the current and recent time,\nrespectively.</li>\n<li>New free function <code>quanta::with_clock</code> for setting an override on the current thread that affects\ncalls made to <code>Instant::now</code> and <code>Instant::recent</code>.</li>\n<li>New free function <code>quanta::set_recent</code> to allow customization of how global recent time is\nupdated.</li>\n</ul>\n<h2>[0.6.5] - 2020-09-16</h2>\n<h3>Changed</h3>\n<ul>\n<li>Fixed a bug with not being able to start the upkeep thread at all.\n(<a href=\"https://github-redirect.dependabot.com/metrics-rs/quanta/issues/29\">#29</a>)</li>\n</ul>\n<h2>[0.6.4] - 2020-08-27</h2>\n<h3>Added</h3>\n<ul>\n<li>Add <code>Instant::as_unix_duration</code> to get the duration of time since the Unix epoch from an\n<code>Instant</code>.\n<h3>Changed</h3>\n</li>\n<li>Remove <code>clocksource</code> from dependencies and tests as it no longer compiles on stable or nightly.</li>\n</ul>\n<h2>[0.6.3] - 2020-08-03</h2>\n<h3>Changed</h3>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/b8221cc5db6f27732dad958654f44f09c086b901\"><code>b8221cc</code></a> (cargo-release) version 0.9.0</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/8e133cfc0040d94e31945adf740ad94e923a9992\"><code>8e133cf</code></a> update changelog</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/7a5b1798968e18f3d75b9b8205b2d807364f3f31\"><code>7a5b179</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/nuclearfurnace/quanta/issues/45\">#45</a> from Luthaf/wasm-support</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/a09636af02a4e7591f3d0fce4c8e77db842c83b1\"><code>a09636a</code></a> Add testing on WASM targets</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/0cc95f88902d9b99511a6ad2a9a2b285541ac27d\"><code>0cc95f8</code></a> Add support for WASM targets</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/31a9e587d45773880a40ca0b2fbee1a3f119f02c\"><code>31a9e58</code></a> (cargo-release) version 0.8.0</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/4363b9f6549b3f2bd0ea758378b2ebe449c03dba\"><code>4363b9f</code></a> remove Instant::as_unix_duration and metrics feature flag</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/84c9ad956d0918dd269488d0b5fe1041f5bacb35\"><code>84c9ad9</code></a> Merge pull request <a href=\"https://github-redirect.dependabot.com/nuclearfurnace/quanta/issues/43\">#43</a> from metrics-rs/dependabot/cargo/average-0.12</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/86505188a86ad743e6ac858de6a2426d4dd79f59\"><code>8650518</code></a> Update average requirement from 0.10 to 0.12</li>\n<li><a href=\"https://github.com/metrics-rs/quanta/commit/4decb61f4969ee67545f2797c5773e480b7bd6d8\"><code>4decb61</code></a> (cargo-release) version 0.7.2</li>\n<li>Additional commits viewable in <a href=\"https://github.com/nuclearfurnace/quanta/compare/v0.7.0...v0.9.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>", "reactions": {"url": "https://api.github.com/repos/metrics-rs/metrics/issues/213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/metrics-rs/metrics/issues/213/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]