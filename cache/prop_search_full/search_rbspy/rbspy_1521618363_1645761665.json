[{"url": "https://api.github.com/repos/rbspy/rbspy/issues/352", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/352/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/352/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/352/events", "html_url": "https://github.com/rbspy/rbspy/pull/352", "id": 1106370129, "node_id": "PR_kwDOA38EDc4xLPmc", "number": 352, "title": "Update README.md", "user": {"login": "jacoblockard99", "id": 38223455, "node_id": "MDQ6VXNlcjM4MjIzNDU1", "avatar_url": "https://avatars.githubusercontent.com/u/38223455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacoblockard99", "html_url": "https://github.com/jacoblockard99", "followers_url": "https://api.github.com/users/jacoblockard99/followers", "following_url": "https://api.github.com/users/jacoblockard99/following{/other_user}", "gists_url": "https://api.github.com/users/jacoblockard99/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacoblockard99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacoblockard99/subscriptions", "organizations_url": "https://api.github.com/users/jacoblockard99/orgs", "repos_url": "https://api.github.com/users/jacoblockard99/repos", "events_url": "https://api.github.com/users/jacoblockard99/events{/privacy}", "received_events_url": "https://api.github.com/users/jacoblockard99/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-18T00:49:26Z", "updated_at": "2022-01-18T04:48:35Z", "closed_at": "2022-01-18T01:52:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/352", "html_url": "https://github.com/rbspy/rbspy/pull/352", "diff_url": "https://github.com/rbspy/rbspy/pull/352.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/352.patch", "merged_at": "2022-01-18T01:52:36Z"}, "body": "It looks like this link is broken. Should it be changed to this?", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/352/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/348", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/348/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/348/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/348/events", "html_url": "https://github.com/rbspy/rbspy/pull/348", "id": 1084274614, "node_id": "PR_kwDOA38EDc4wDafB", "number": 348, "title": "Enhance the user experience in pprof-consuming apps by adjusting units", "user": {"login": "saunderst", "id": 16967828, "node_id": "MDQ6VXNlcjE2OTY3ODI4", "avatar_url": "https://avatars.githubusercontent.com/u/16967828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saunderst", "html_url": "https://github.com/saunderst", "followers_url": "https://api.github.com/users/saunderst/followers", "following_url": "https://api.github.com/users/saunderst/following{/other_user}", "gists_url": "https://api.github.com/users/saunderst/gists{/gist_id}", "starred_url": "https://api.github.com/users/saunderst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saunderst/subscriptions", "organizations_url": "https://api.github.com/users/saunderst/orgs", "repos_url": "https://api.github.com/users/saunderst/repos", "events_url": "https://api.github.com/users/saunderst/events{/privacy}", "received_events_url": "https://api.github.com/users/saunderst/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-20T01:59:07Z", "updated_at": "2021-12-23T21:55:24Z", "closed_at": "2021-12-23T21:55:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/348", "html_url": "https://github.com/rbspy/rbspy/pull/348", "diff_url": "https://github.com/rbspy/rbspy/pull/348.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/348.patch", "merged_at": "2021-12-23T21:55:24Z"}, "body": "Although any arbitrary string can be used for `sample_type` units in pprof format, I've accidentally learned that the user experience in Google Cloud Profiler and Speedscope can be improved by specifying these units as \"nanoseconds\".  When using \"ns\" we see large numbers with a lot of commas everywhere, but by changing to \"nanoseconds\" we get automatically scaled display units like \"ms\" and \"s\".\r\n\r\nBefore and after (different samples):\r\n\r\n<img width=\"400\" alt=\"Screen Shot 2021-12-19 at 4 21 09 PM\" src=\"https://user-images.githubusercontent.com/16967828/146701417-1efe2d26-08e0-4b6b-b7d5-921a893f54ee.png\"><img width=\"400\" alt=\"Screen Shot 2021-12-19 at 4 20 25 PM\" src=\"https://user-images.githubusercontent.com/16967828/146701403-5a18c597-4124-479a-987c-7e77838af049.png\">\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/348/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/348/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/344", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/344/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/344/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/344/events", "html_url": "https://github.com/rbspy/rbspy/pull/344", "id": 1060732948, "node_id": "PR_kwDOA38EDc4u4a6A", "number": 344, "title": "Add pprof output format", "user": {"login": "saunderst", "id": 16967828, "node_id": "MDQ6VXNlcjE2OTY3ODI4", "avatar_url": "https://avatars.githubusercontent.com/u/16967828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saunderst", "html_url": "https://github.com/saunderst", "followers_url": "https://api.github.com/users/saunderst/followers", "following_url": "https://api.github.com/users/saunderst/following{/other_user}", "gists_url": "https://api.github.com/users/saunderst/gists{/gist_id}", "starred_url": "https://api.github.com/users/saunderst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saunderst/subscriptions", "organizations_url": "https://api.github.com/users/saunderst/orgs", "repos_url": "https://api.github.com/users/saunderst/repos", "events_url": "https://api.github.com/users/saunderst/events{/privacy}", "received_events_url": "https://api.github.com/users/saunderst/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-11-23T00:50:05Z", "updated_at": "2021-11-26T13:09:11Z", "closed_at": "2021-11-26T13:09:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/344", "html_url": "https://github.com/rbspy/rbspy/pull/344", "diff_url": "https://github.com/rbspy/rbspy/pull/344.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/344.patch", "merged_at": "2021-11-26T13:09:11Z"}, "body": "This adds a new outputter to support the trace output format described here: https://github.com/google/pprof/tree/master/proto.  This is a format typically used to profile golang programs.  It can be used to upload traces to [Google Cloud Profiler](https://cloud.google.com/profiler), and [Speedscope also supports it](https://github.com/jlfwong/speedscope/wiki/Importing-from-pprof-(go)).\r\n\r\nI've closely followed the approach used to add Speedscope support, so most of it should be fairly self-explanatory.\r\n\r\n~In the first commit, I've also done some refactoring in `Recorder::record()` to expand the API a bit without changing functionality.  This was helpful in implementing an additional `Recorder` trait for another project I'm working on.  If this change is undesirable, the `pprof`-related code should work the same without it.~ (See comment below)", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/344/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/342", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/342/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/342/events", "html_url": "https://github.com/rbspy/rbspy/pull/342", "id": 1047677127, "node_id": "PR_kwDOA38EDc4uPQLL", "number": 342, "title": ".gitignore: flamegraph.svg, rbspy-out.svg, rbspy-raw.txt", "user": {"login": "Horki", "id": 1398263, "node_id": "MDQ6VXNlcjEzOTgyNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1398263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Horki", "html_url": "https://github.com/Horki", "followers_url": "https://api.github.com/users/Horki/followers", "following_url": "https://api.github.com/users/Horki/following{/other_user}", "gists_url": "https://api.github.com/users/Horki/gists{/gist_id}", "starred_url": "https://api.github.com/users/Horki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Horki/subscriptions", "organizations_url": "https://api.github.com/users/Horki/orgs", "repos_url": "https://api.github.com/users/Horki/repos", "events_url": "https://api.github.com/users/Horki/events{/privacy}", "received_events_url": "https://api.github.com/users/Horki/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-08T16:49:14Z", "updated_at": "2021-11-09T02:34:19Z", "closed_at": "2021-11-09T02:34:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/342", "html_url": "https://github.com/rbspy/rbspy/pull/342", "diff_url": "https://github.com/rbspy/rbspy/pull/342.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/342.patch", "merged_at": "2021-11-09T02:34:19Z"}, "body": "Hi @acj add 'examples' generated file into .gitignore", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/342/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/331", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/331/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/331/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/331/events", "html_url": "https://github.com/rbspy/rbspy/pull/331", "id": 942452657, "node_id": "MDExOlB1bGxSZXF1ZXN0Njg4MTgwMjE3", "number": 331, "title": "Add support for ruby 2.6.8, 2.7.4, and 3.0.2", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-07-12T21:11:53Z", "updated_at": "2021-07-12T21:53:31Z", "closed_at": "2021-07-12T21:53:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/331", "html_url": "https://github.com/rbspy/rbspy/pull/331", "diff_url": "https://github.com/rbspy/rbspy/pull/331.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/331.patch", "merged_at": "2021-07-12T21:53:30Z"}, "body": "Resolves #330", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/331/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/329", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/329/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/329/events", "html_url": "https://github.com/rbspy/rbspy/pull/329", "id": 937327847, "node_id": "MDExOlB1bGxSZXF1ZXN0NjgzOTAyMzc1", "number": 329, "title": "Introduce library crate", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-07-05T19:41:27Z", "updated_at": "2021-08-22T19:29:16Z", "closed_at": "2021-08-22T19:29:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/329", "html_url": "https://github.com/rbspy/rbspy/pull/329", "diff_url": "https://github.com/rbspy/rbspy/pull/329.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/329.patch", "merged_at": "2021-08-22T19:29:15Z"}, "body": "While rbspy is very useful as a standalone binary, there are use cases that would benefit from using it as a library instead. For example, Pyroscope has been building a statically linked version of rbspy with a simple snapshot interface and calling it from Go code. It's also been suggested that rbspy could be wrapped in a ruby gem to make it easier for ruby programs to profile themselves, e.g. in response to interesting events at runtime.\r\n\r\nThis PR introduces a small library crate with just enough API surface for the the `main` module to work. Most of the work was moving code from the main module into the library and then cleaning up the module imports. Instead of keeping the long list of recording options as parameters, I introduced a `RecordConfig` struct to hold them. Behind the public API (for now), the core sampling code has been moved to its own module to make the code easier to understand and test.\r\n\r\nThere are cargo \"example\" programs for each key feature, which are a good way to see the library API in action.\r\n\r\nWith a bit more effort, it will be possible to interact with the library from languages like C and Go. (cc @petethepig)\r\n\r\nResolves #320", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/329/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/329/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/326", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/326/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/326/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/326/events", "html_url": "https://github.com/rbspy/rbspy/pull/326", "id": 908458598, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU5MTQ2ODU3", "number": 326, "title": "Collapsed format", "user": {"login": "michelhe", "id": 2903914, "node_id": "MDQ6VXNlcjI5MDM5MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2903914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michelhe", "html_url": "https://github.com/michelhe", "followers_url": "https://api.github.com/users/michelhe/followers", "following_url": "https://api.github.com/users/michelhe/following{/other_user}", "gists_url": "https://api.github.com/users/michelhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/michelhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michelhe/subscriptions", "organizations_url": "https://api.github.com/users/michelhe/orgs", "repos_url": "https://api.github.com/users/michelhe/repos", "events_url": "https://api.github.com/users/michelhe/events{/privacy}", "received_events_url": "https://api.github.com/users/michelhe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rbspy/rbspy/milestones/3", "html_url": "https://github.com/rbspy/rbspy/milestone/3", "labels_url": "https://api.github.com/repos/rbspy/rbspy/milestones/3/labels", "id": 6740722, "node_id": "MDk6TWlsZXN0b25lNjc0MDcyMg==", "number": 3, "title": "v0.7", "description": "", "creator": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2021-05-09T16:04:46Z", "updated_at": "2021-06-18T20:11:30Z", "due_on": null, "closed_at": "2021-06-18T20:11:30Z"}, "comments": 2, "created_at": "2021-06-01T16:05:23Z", "updated_at": "2021-06-02T16:36:57Z", "closed_at": "2021-06-02T16:36:56Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/326", "html_url": "https://github.com/rbspy/rbspy/pull/326", "diff_url": "https://github.com/rbspy/rbspy/pull/326.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/326.patch", "merged_at": "2021-06-02T16:36:56Z"}, "body": "Resolves conflicts for #264, cleanups,  renaming & tests", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/326/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/326/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/321", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/321/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/321/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/321/events", "html_url": "https://github.com/rbspy/rbspy/pull/321", "id": 882642058, "node_id": "MDExOlB1bGxSZXF1ZXN0NjM2MTY1MTAy", "number": 321, "title": "CI: Publish Docker images for new releases", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-09T18:29:35Z", "updated_at": "2021-05-15T21:45:35Z", "closed_at": "2021-05-15T21:45:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/321", "html_url": "https://github.com/rbspy/rbspy/pull/321", "diff_url": "https://github.com/rbspy/rbspy/pull/321.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/321.patch", "merged_at": "2021-05-15T21:45:34Z"}, "body": "Resolves #304. Publishing Docker images should make it easier for folks to incorporate rbspy into their container build pipelines.\r\n\r\nThis workflow is triggered by new published releases, so it'll run alongside the workflow that publishes to crates.io. It packages the same binaries that are distributed on the releases page. It also syncs the readme to Docker Hub.\r\n\r\nI'm currently tagging the Ubuntu image as the canonical (no pun intended) one, so pulling `rbspy/rbspy:0.5.0` or `rbspy/rbspy:0.5.0-gnu` will get you an Ubuntu-based image. The static musl build is available as `rbspy/rbspy:0.5.0-musl`. I'm open to suggestions if that doesn't feel right.\r\n\r\nTest images for 0.5.0 on x86_64 and aarch64 are published on [Docker Hub](https://hub.docker.com/r/rbspy/rbspy) if anyone wants to try them out.\r\n\r\ncc @rbspy/maintainers ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/321/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/316", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/316/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/316/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/316/events", "html_url": "https://github.com/rbspy/rbspy/pull/316", "id": 860647939, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE3NDczMTM5", "number": 316, "title": "Pause target process when retrieving stack frames", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-04-18T12:07:15Z", "updated_at": "2021-11-09T16:20:05Z", "closed_at": "2021-04-19T20:51:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/316", "html_url": "https://github.com/rbspy/rbspy/pull/316", "diff_url": "https://github.com/rbspy/rbspy/pull/316.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/316.patch", "merged_at": "2021-04-19T20:51:20Z"}, "body": "We don't currently pause the target process when calling `get_stack_frame`, which results in incorrect and misleading profiler output like we see in #315. The `remoteprocess` crate has support for pausing processes on each platform. The output seems much more accurate in my testing, so I'm going to enable it.\r\n\r\nUsing higher sampling frequencies will degrade performance of the target process while rbspy is running, but 1) this is already true, at least on some systems, because of higher CPU usage, and 2) it feels like a reasonable tradeoff for the sake of correctness. If we find that it's a problem, we could consider adding a flag to disable pausing.\r\n\r\nFixes #153. Fixes #315.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/316/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/311", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/311/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/311/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/311/events", "html_url": "https://github.com/rbspy/rbspy/pull/311", "id": 857099119, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE0NTc2MjQy", "number": 311, "title": "Fix subprocess exit bug", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-04-13T15:51:49Z", "updated_at": "2021-04-13T22:17:58Z", "closed_at": "2021-04-13T20:38:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/311", "html_url": "https://github.com/rbspy/rbspy/pull/311", "diff_url": "https://github.com/rbspy/rbspy/pull/311.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/311.patch", "merged_at": "2021-04-13T20:38:16Z"}, "body": "rbspy currently stops profiling when any one of the processes it's tracking exits. This creates a subtle race condition for the subprocess test, which has been very flaky on macOS and Windows, and also seems like undesirable behavior since subprocesses are expected to come and go in many applications. There may also be use cases where the root process is expected to exit before its subprocesses, but I think this change will cover the 99% case pretty well.\r\n\r\nI realized this while experimenting with `--test-threads` for an unrelated issue. When I limited the threads to one or two (which is close to CI worker specs), the subprocess test consistently failed.\r\n\r\n@jvns, when you have a moment could you please take a peek at this? I'm curious if there's a historical reason why we were exiting as soon as the first process ended.\r\n\r\nFixes #287", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/311/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/311/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/310", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/310/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/310/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/310/events", "html_url": "https://github.com/rbspy/rbspy/pull/310", "id": 855390918, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEzMTM1ODc0", "number": 310, "title": "Add workflow for generating ruby bindings", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-11T19:41:52Z", "updated_at": "2021-04-12T11:06:13Z", "closed_at": "2021-04-12T11:06:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/310", "html_url": "https://github.com/rbspy/rbspy/pull/310", "diff_url": "https://github.com/rbspy/rbspy/pull/310.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/310.patch", "merged_at": "2021-04-12T11:06:13Z"}, "body": "It's currently a tedious manual process to generate bindings for new (or existing) ruby versions. The process is predictable, though, and I wondered if it could be fully automated. Happily, the answer is yes.\r\n\r\nThis PR adds a new GitHub Actions workflow that generates the bindings for (almost) all of our supported rubies from 1.9.3 through 3.0.1. The workflow currently needs to be triggered manually in the Actions tab. Assuming the builds succeed, it will gather the generated source files and create a new branch that contains any changes or additions. We could eventually have it open a PR if we wanted.\r\n\r\nThe bindgen script can still be run in isolation just as before, but I'm hoping that we won't need to do that very often.\r\n\r\nIf we ever need to generate separate bindings for each platform (like I almost needed to for ruby 3.x), this should make the process a lot more scalable.\r\n\r\nSamples:\r\n- [Workflow](https://github.com/acj/rbspy/actions/runs/738911100)\r\n- [Branch diff](https://github.com/rbspy/rbspy/compare/master...acj:generate-ruby-bindings-38)\r\n\r\ncc @rbspy/maintainers @daniellockyer @igorwwwwwwwwwwwwwwwwwwww @liaden ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/310/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 3, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/310/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/309", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/309/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/309/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/309/events", "html_url": "https://github.com/rbspy/rbspy/pull/309", "id": 855372974, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEzMTIyNDE1", "number": 309, "title": "Add support for ruby 3.0.1", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-11T18:17:33Z", "updated_at": "2021-04-11T18:35:24Z", "closed_at": "2021-04-11T18:35:16Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/309", "html_url": "https://github.com/rbspy/rbspy/pull/309", "diff_url": "https://github.com/rbspy/rbspy/pull/309.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/309.patch", "merged_at": "2021-04-11T18:35:16Z"}, "body": "Fixes #308 ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/309/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/306", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/306/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/306/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/306/events", "html_url": "https://github.com/rbspy/rbspy/pull/306", "id": 854455347, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEyMzk3NjE4", "number": 306, "title": "Add support for ruby 2.7.3", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-09T11:55:48Z", "updated_at": "2021-04-10T19:55:28Z", "closed_at": "2021-04-10T19:55:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/306", "html_url": "https://github.com/rbspy/rbspy/pull/306", "diff_url": "https://github.com/rbspy/rbspy/pull/306.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/306.patch", "merged_at": "2021-04-10T19:55:19Z"}, "body": "Fixes #305 ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/306/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/301", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/301/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/301/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/301/events", "html_url": "https://github.com/rbspy/rbspy/pull/301", "id": 843434890, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAyODE2NTkz", "number": 301, "title": "Move contributors list to CONTRIBUTORS.md", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-29T14:34:49Z", "updated_at": "2021-03-29T16:26:50Z", "closed_at": "2021-03-29T16:26:47Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/301", "html_url": "https://github.com/rbspy/rbspy/pull/301", "diff_url": "https://github.com/rbspy/rbspy/pull/301.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/301.patch", "merged_at": "2021-03-29T16:26:47Z"}, "body": "The contributors list was incredibly out of date, so this replaces it with a new CONTRIBUTORS.md file with the goal of recognizing contributors who helped make rbspy possible but aren't in the commit log.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/301/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/301/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/300", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/300/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/300/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/300/events", "html_url": "https://github.com/rbspy/rbspy/pull/300", "id": 843400547, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAyNzg4MDQy", "number": 300, "title": "Add @acj as an author to Cargo.toml", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-29T14:00:45Z", "updated_at": "2021-03-29T16:26:53Z", "closed_at": "2021-03-29T16:26:39Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/300", "html_url": "https://github.com/rbspy/rbspy/pull/300", "diff_url": "https://github.com/rbspy/rbspy/pull/300.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/300.patch", "merged_at": "2021-03-29T16:26:39Z"}, "body": "I asked @acj if he'd be willing to be rbspy's lead maintainer since he's already been doing the work of adding support for new Ruby versions, implementing new features, fixing bugs, and improving the CI for the last couple of months, and he agreed!\r\n\r\nThis change to Cargo.toml is just symbolic: I've already given him all the GitHub/Cargo permissions he needs.\r\n\r\nI'm extremely excited to have someone who's actually using rbspy as the maintainer.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/300/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/300/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/299", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/299/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/299/events", "html_url": "https://github.com/rbspy/rbspy/pull/299", "id": 842787986, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAyMjc4MTUx", "number": 299, "title": "Gracefully handle invalid pointers to absolute path strings", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-28T17:35:32Z", "updated_at": "2021-03-29T00:53:37Z", "closed_at": "2021-03-29T00:53:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/299", "html_url": "https://github.com/rbspy/rbspy/pull/299", "diff_url": "https://github.com/rbspy/rbspy/pull/299.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/299.patch", "merged_at": "2021-03-29T00:53:31Z"}, "body": "This is a workaround for the \"early exit\" bug. I was able to consistently repro this bug by running rbspy against rspec while it was running the test suite for a decent-sized Rails app. The proximate cause here is that we're trying to dereference a pointer to a memory address like `8`, which isn't valid (might be a length), and remoteprocess returns an error (code 60) that we map to `ProcessEnded` when we try to copy the memory. Maybe that error code covers more scenarios than process exit.\r\n\r\nIn my testing, we only seem to go down the RArray code path for strings like `<internal:gc>`. I suspect that those are encoded differently than normal strings. We have an implementation of ruby's `string2cstring` GDB macro in the C symbol resolution code that might be useful here -- it has two code paths depending on how a string is encoded.\r\n\r\nMore to do here, but I'm hoping this will be a decent workaround for folks who want to run rbspy for longer periods of time.\r\n\r\nFixes #190, fixes #221, fixes #243. Possibly also fixes #158, fixes #160, fixes #263.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/299/reactions", "total_count": 3, "+1": 1, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/299/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/298", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/298/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/298/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/298/events", "html_url": "https://github.com/rbspy/rbspy/pull/298", "id": 842644158, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAyMTcxNzgx", "number": 298, "title": "Fix build warnings", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-28T02:22:27Z", "updated_at": "2021-03-29T00:44:44Z", "closed_at": "2021-03-29T00:44:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/298", "html_url": "https://github.com/rbspy/rbspy/pull/298", "diff_url": "https://github.com/rbspy/rbspy/pull/298.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/298.patch", "merged_at": "2021-03-29T00:44:39Z"}, "body": "Building on #235. Fixes #234, closes #235.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/298/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/297", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/297/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/297/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/297/events", "html_url": "https://github.com/rbspy/rbspy/pull/297", "id": 839267895, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk5MzEwMjk2", "number": 297, "title": "Migrate remaining builds to GitHub Actions", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-24T01:57:14Z", "updated_at": "2021-03-26T00:59:56Z", "closed_at": "2021-03-26T00:59:32Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/297", "html_url": "https://github.com/rbspy/rbspy/pull/297", "diff_url": "https://github.com/rbspy/rbspy/pull/297.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/297.patch", "merged_at": "2021-03-26T00:59:31Z"}, "body": "~The Windows tests may not complete until something like #296 goes in, so I've set a low-ish job timeout.~ Still need to migrate the Travis release task.\r\n\r\nMakes progress towards #293.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/297/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/296", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/296/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/296/events", "html_url": "https://github.com/rbspy/rbspy/pull/296", "id": 839254511, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk5Mjk5MjE1", "number": 296, "title": "Synchronous subprocess test", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-24T01:24:05Z", "updated_at": "2021-04-11T15:51:20Z", "closed_at": "2021-03-25T00:41:04Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/296", "html_url": "https://github.com/rbspy/rbspy/pull/296", "diff_url": "https://github.com/rbspy/rbspy/pull/296.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/296.patch", "merged_at": "2021-03-25T00:41:04Z"}, "body": "We've still been seeing subprocess test failures in CI, especially on Windows. This PR refactors the subprocess test to coordinate with ruby_forks.rb using the filesystem instead of depending on the ruby processes' startup speed. The last commit is an ugly workaround for process exit behavior that hopefully can be fixed (maybe by #295).", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/296/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/295", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/295/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/295/events", "html_url": "https://github.com/rbspy/rbspy/pull/295", "id": 837302732, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk3NjU2MDcw", "number": 295, "title": "Update the remoteprocess/proc-maps crates", "user": {"login": "benfred", "id": 69536, "node_id": "MDQ6VXNlcjY5NTM2", "avatar_url": "https://avatars.githubusercontent.com/u/69536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benfred", "html_url": "https://github.com/benfred", "followers_url": "https://api.github.com/users/benfred/followers", "following_url": "https://api.github.com/users/benfred/following{/other_user}", "gists_url": "https://api.github.com/users/benfred/gists{/gist_id}", "starred_url": "https://api.github.com/users/benfred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benfred/subscriptions", "organizations_url": "https://api.github.com/users/benfred/orgs", "repos_url": "https://api.github.com/users/benfred/repos", "events_url": "https://api.github.com/users/benfred/events{/privacy}", "received_events_url": "https://api.github.com/users/benfred/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-03-22T04:28:38Z", "updated_at": "2021-03-28T00:04:45Z", "closed_at": "2021-03-24T10:57:42Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/295", "html_url": "https://github.com/rbspy/rbspy/pull/295", "diff_url": "https://github.com/rbspy/rbspy/pull/295.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/295.patch", "merged_at": "2021-03-24T10:57:41Z"}, "body": "The latest remoteprocess code includes a workaround for the case where the linux kernel\r\nwas compiled without process_vm_readv support (by falling back to /proc/PID/mem:\r\nhttps://github.com/benfred/read-process-memory/pull/4).\r\n\r\nCloses #196", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/295/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/291", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/291/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/291/events", "html_url": "https://github.com/rbspy/rbspy/pull/291", "id": 830956005, "node_id": "MDExOlB1bGxSZXF1ZXN0NTkyNDAzNDg1", "number": 291, "title": "Fix special variable handling when resolving C functions", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-13T18:14:40Z", "updated_at": "2021-03-14T01:54:22Z", "closed_at": "2021-03-14T01:54:08Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/291", "html_url": "https://github.com/rbspy/rbspy/pull/291", "diff_url": "https://github.com/rbspy/rbspy/pull/291.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/291.patch", "merged_at": "2021-03-14T01:54:08Z"}, "body": "Fixes #289. This crash seems to be fairly common on busy production systems but is hard to reproduce otherwise. I've tried a few small programs that use [special variables](https://ruby.fandom.com/wiki/Special_variable) in different ways without seeing them show up in a stack frame. So, no unit test for now.\r\n\r\nI've run this for over an hour on a busy service without any issue, whereas it would crash reliably within ~5 minutes before.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/291/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/290", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/290/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/290/events", "html_url": "https://github.com/rbspy/rbspy/pull/290", "id": 823961103, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg2Mjg0NzU5", "number": 290, "title": "Fix flaky subprocess handling and tests", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-03-07T16:47:31Z", "updated_at": "2021-03-09T01:45:46Z", "closed_at": "2021-03-08T03:17:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/290", "html_url": "https://github.com/rbspy/rbspy/pull/290", "diff_url": "https://github.com/rbspy/rbspy/pull/290.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/290.patch", "merged_at": "2021-03-08T03:17:28Z"}, "body": "(... hopefully.)\r\n\r\nThe `test_spawn_record_children_subprocesses` has been failing consistently for me locally (macOS 11.2.1, 2019 MBP). I noticed that the test process was returning an error immediately -- before ruby_forks.rb had exited, and maybe before it had even started -- which made me wonder whether there was a startup delay that we weren't accounting for. Indeed, it seems to take a few hundred milliseconds before we can get a handle on the process. If we wait for that handle before spawning the recorders, it works consistently for me.\r\n\r\nAfter fixing that, I noticed an intermittent related issue where the trace sender channel was filling up. I think that's the reason for the timeouts we've seen in CI recently -- the sender channel fills up, which blocks some recorders from exiting, which in turn blocks the subprocess test from collecting the results.\r\n\r\nThere is similar retry logic elsewhere (e.g. get_ruby_version_retry) that may explain why we don't see this behavior outside of the tests.\r\n\r\ncc @igorwwwwwwwwwwwwwwwwwwww -- thanks for your earlier work on this \ud83d\udc4d", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/290/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/288", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/288/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/288/events", "html_url": "https://github.com/rbspy/rbspy/pull/288", "id": 812107102, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc2NTI3ODM2", "number": 288, "title": "Add GitHub action to publish to crates.io on release", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-19T15:17:58Z", "updated_at": "2022-07-04T19:58:05Z", "closed_at": "2021-02-19T15:18:47Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/288", "html_url": "https://github.com/rbspy/rbspy/pull/288", "diff_url": "https://github.com/rbspy/rbspy/pull/288.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/288.patch", "merged_at": "2021-02-19T15:18:46Z"}, "body": "This aims to fix #277 \r\n\r\nI don't know how to test this, so I'm just going to merge it, create a release, and see if it publishes a crate. I copied this from https://github.com/rillrate/rillrate-js/blob/ab5b83d1ea50d1673cbcbb8f5cf75ece7966f24c/.github/workflows/release-crates.yaml. ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/288/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/285", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/285/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/285/events", "html_url": "https://github.com/rbspy/rbspy/pull/285", "id": 807850947, "node_id": "MDExOlB1bGxSZXF1ZXN0NTczMDA5OTQw", "number": 285, "title": "Add support for ruby 3.0.0", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-02-13T23:34:42Z", "updated_at": "2021-03-22T00:03:35Z", "closed_at": "2021-03-22T00:03:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/285", "html_url": "https://github.com/rbspy/rbspy/pull/285", "diff_url": "https://github.com/rbspy/rbspy/pull/285.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/285.patch", "merged_at": "2021-03-22T00:03:30Z"}, "body": "I'm splitting this out of #282 as it may take a bit of spelunking. I've run bindgen and updated the usual places, but it doesn't currently work on 3.0.0:\r\n\r\nLinux:\r\n```\r\n$ ruby -v\r\nruby 3.0.0p0 (2020-12-25 revision 95aff21468) [x86_64-linux]\r\n$ ruby ci/ruby-programs/infinite.rb &\r\n$ sudo env RUST_LOG=debug cargo run -- record --pid $(pgrep ruby)\r\nPress Ctrl+C to stop\r\n[2021-02-13T23:21:34Z DEBUG rbspy::core::address_finder::os_impl] symbol: Symbol: Value: 0x00317ac9 Size: 0x0006 Type: data object Bind: global Vis: default Section: 14 Name: ruby_version\r\n[2021-02-13T23:21:34Z DEBUG rbspy::core::address_finder::os_impl] load header: Program Header: Type: LOAD Offset: 0x00030000 VirtAddr: 0x00030000 PhysAddr: 0x00030000 FileSize: 0x2a42a1 MemSize: 0x2a42a1 Flags: R E Align: 0x1000\r\n[2021-02-13T23:21:34Z DEBUG rbspy::core::initialize] version: 3.0.0\r\n[2021-02-13T23:21:34Z DEBUG rbspy::core::address_finder::os_impl] Trying to find address location another way\r\n[2021-02-13T23:21:34Z DEBUG rbspy::core::address_finder::os_impl] bss_section header: SectionHeader { name: \".bss\", shtype: 0x8, flags: 0x3, addr: 4095616, offset: 4091516, size: 67656, link: 0, info: 0, addralign: 32, entsize: 0 }\r\n[2021-02-13T23:21:34Z DEBUG rbspy::core::address_finder::os_impl] read_addr: 7f9f675bde80\r\n[2021-02-13T23:21:34Z DEBUG rbspy::core::address_finder::os_impl] successfully read data\r\nWrote raw data to /root/.cache/rbspy/records/rbspy-2021-02-13-KdNndnPMno.raw.gz\r\nWriting formatted output to /root/.cache/rbspy/records/rbspy-2021-02-13-pxa4oxdRyE.flamegraph.svg\r\n[2021-02-13T23:21:34Z ERROR inferno::flamegraph] No stack counts found\r\nthread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Io(Custom { kind: InvalidData, error: \"No stack counts found\" })', src/ui/flamegraph.rs:38:89\r\n```\r\n\r\nmacOS:\r\n```\r\n$ ruby -v\r\nruby 3.0.0p0 (2020-12-25 revision 95aff21468) [x86_64-darwin20]\r\n$ ruby ci/ruby-programs/infinite.rb &\r\n$ sudo env RUST_LOG=debug cargo run -- record --pid $(pgrep ruby)\r\nPress Ctrl+C to stop\r\n[2021-02-13T23:23:52Z DEBUG rbspy::core::initialize] version: 3.0.0\r\nWrote raw data to /Users/acj/.cache/rbspy/records/rbspy-2021-02-13-jqQNIRXiW6.raw.gz\r\nWriting formatted output to /Users/acj/.cache/rbspy/records/rbspy-2021-02-13-cDlx202Und.flamegraph.svg\r\n[2021-02-13T23:23:52Z ERROR inferno::flamegraph] No stack counts found\r\nthread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Io(Custom { kind: InvalidData, error: \"No stack counts found\" })', src/ui/flamegraph.rs:38:9\r\n```\r\n\r\nIf someone is interested in working on this, please feel free to jump in. Maybe it's something simple. I'm happy to help with testing but won't have time to investigate further until the C symbols work is done.\r\n\r\nResolves #278 (eventually)", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/285/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 2, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/285/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/284", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/284/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/284/events", "html_url": "https://github.com/rbspy/rbspy/pull/284", "id": 805141447, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcwNzk0NTMy", "number": 284, "title": "Add linux cross compile code", "user": {"login": "benfred", "id": 69536, "node_id": "MDQ6VXNlcjY5NTM2", "avatar_url": "https://avatars.githubusercontent.com/u/69536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benfred", "html_url": "https://github.com/benfred", "followers_url": "https://api.github.com/users/benfred/followers", "following_url": "https://api.github.com/users/benfred/following{/other_user}", "gists_url": "https://api.github.com/users/benfred/gists{/gist_id}", "starred_url": "https://api.github.com/users/benfred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benfred/subscriptions", "organizations_url": "https://api.github.com/users/benfred/orgs", "repos_url": "https://api.github.com/users/benfred/repos", "events_url": "https://api.github.com/users/benfred/events{/privacy}", "received_events_url": "https://api.github.com/users/benfred/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-10T03:58:58Z", "updated_at": "2021-02-10T04:30:44Z", "closed_at": "2021-02-10T04:30:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/284", "html_url": "https://github.com/rbspy/rbspy/pull/284", "diff_url": "https://github.com/rbspy/rbspy/pull/284.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/284.patch", "merged_at": "2021-02-10T04:30:44Z"}, "body": "Also try running mac tests as root", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/284/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/283", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/283/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/283/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/283/events", "html_url": "https://github.com/rbspy/rbspy/pull/283", "id": 804915868, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcwNjA2MDI5", "number": 283, "title": "Try out using github actions for CI", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-02-09T20:52:54Z", "updated_at": "2021-02-10T19:39:55Z", "closed_at": "2021-02-10T19:39:51Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/283", "html_url": "https://github.com/rbspy/rbspy/pull/283", "diff_url": "https://github.com/rbspy/rbspy/pull/283.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/283.patch", "merged_at": "2021-02-10T19:39:51Z"}, "body": "Going to push a billion changes to this branch", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/283/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/282", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/282/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/282/events", "html_url": "https://github.com/rbspy/rbspy/pull/282", "id": 804140950, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY5OTU4NjI1", "number": 282, "title": "Resolve C function names when sampling", "user": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2021-02-09T02:36:49Z", "updated_at": "2021-02-19T15:33:54Z", "closed_at": "2021-02-19T14:58:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/282", "html_url": "https://github.com/rbspy/rbspy/pull/282", "diff_url": "https://github.com/rbspy/rbspy/pull/282.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/282.patch", "merged_at": "2021-02-19T14:58:30Z"}, "body": "As noted in #110, rbspy currently lumps all C functions into a single bucket. It would be very useful to separate them so that we can understand which C functions are consuming the most time.\r\n\r\nThis PR is mostly a port of the [print_id function](https://github.com/ruby/ruby/blob/e0c100ec96810b999c704fc73d60255484b63844/.gdbinit#L1073-L1113) from ruby's .gdbinit script, which takes a ruby method ID and returns the corresponding name as a string. The memory-walking logic is complex but has been very reliable in my testing so far. \r\n\r\nI wasn't able to locate the global symbol table for 2.6 or older, so support is currently limited to 2.7.x (and newer, hopefully). It may be possible to expand this with more investigation -- I probably missed something. I haven't tried rubies newer than 2.7.2 yet.\r\n\r\nHere's a sample from tracing a simple puma server when it's under load:\r\n\r\n```\r\nSummary of profiling data so far:\r\n% self  % total  name\r\n 25.45    25.45  <c function> - sleep\r\n 13.64    13.64  <c function> - expand_path\r\n 11.82    49.09  <c function> - unknown\r\n  3.64    20.91  block in <class:Base> - /Users/acj/.asdf/installs/ruby/2.7.1/lib/ruby/gems/2.7.0/gems/sinatra-2.1.0/lib/sinatra/base.rb\r\n  3.64     4.55  <c function> - select\r\n  3.64     3.64  <c function> - syswrite\r\n  2.73     2.73  <c function> - write\r\n  2.73     2.73  <c function> - peeraddr\r\n  1.82    74.55  block in spawn_thread - /Users/acj/.asdf/installs/ruby/2.7.1/lib/ruby/gems/2.7.0/gems/puma-5.2.1/lib/puma/thread_pool.rb\r\n  1.82    43.64  call - /Users/acj/.asdf/installs/ruby/2.7.1/lib/ruby/gems/2.7.0/gems/sinatra-2.1.0/lib/sinatra/base.rb\r\n  1.82    41.82  call - /Users/acj/.asdf/installs/ruby/2.7.1/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/logger.rb\r\n  1.82    30.91  call! - /Users/acj/.asdf/installs/ruby/2.7.1/lib/ruby/gems/2.7.0/gems/sinatra-2.1.0/lib/sinatra/base.rb\r\n  1.82     2.73  append - /Users/acj/.asdf/installs/ruby/2.7.1/lib/ruby/gems/2.7.0/gems/puma-5.2.1/lib/puma/io_buffer.rb\r\n  1.82     2.73  <c function> - each\r\n  1.82     1.82  <c function> - exist?\r\n  1.82     1.82  <c function> - close\r\n  0.91    48.18  block in handle_request - /Users/acj/.asdf/installs/ruby/2.7.1/lib/ruby/gems/2.7.0/gems/puma-5.2.1/lib/puma/request.rb\r\n  0.91    46.36  with_force_shutdown - /Users/acj/.asdf/installs/ruby/2.7.1/lib/ruby/gems/2.7.0/gems/puma-5.2.1/lib/puma/thread_pool.rb\r\n  0.91    43.64  call - /Users/acj/.asdf/installs/ruby/2.7.1/lib/ruby/gems/2.7.0/gems/rack-2.2.3/lib/rack/head.rb\r\n  0.91    37.27  call - /Users/acj/.asdf/installs/ruby/2.7.1/lib/ruby/gems/2.7.0/gems/rack-protection-2.1.0/lib/rack/protection/frame_options.rb\r\n```\r\n\r\nand when running `infinite.rb`:\r\n\r\n```\r\nSummary of profiling data so far:\r\n% self  % total  name\r\n100.00   100.00  <c function> - sleep\r\n  0.00   100.00  ccc - ci/ruby-programs/infinite.rb\r\n  0.00   100.00  block in <main> - ci/ruby-programs/infinite.rb\r\n  0.00   100.00  bbb - ci/ruby-programs/infinite.rb\r\n  0.00   100.00  aaa - ci/ruby-programs/infinite.rb\r\n  0.00   100.00  <main> - ci/ruby-programs/infinite.rb\r\n  0.00   100.00  <c function> - loop\r\n```\r\n\r\nI noticed that gdb is also able to print the raw C symbol name and its location in the source file. I don't know whether it's possible for rbspy to get that info, but it would be nice to have. Maybe the `remoteprocess` crate can do the symbol resolution part since we have the memory address.\r\n\r\n## TODO\r\n\r\n- [x] Clean up confusing variable names in memory-walking code\r\n- [x] Clean up duplicated logic\r\n- [x] Add support for older ruby versions where possible\r\n- [x] Try newer ruby versions (e.g. 3.x) -- blocked by #285 \r\n- [x] Add tests\r\n- [x] Add Windows support, if possible\r\n- [x] Address CI failures on cross builds\r\n\r\nFixes #110", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/282/reactions", "total_count": 19, "+1": 0, "-1": 0, "laugh": 1, "hooray": 10, "confused": 0, "heart": 0, "rocket": 8, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/282/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/281", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/281/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/281/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/281/events", "html_url": "https://github.com/rbspy/rbspy/pull/281", "id": 802590167, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4NzA1NTY1", "number": 281, "title": "Adds support for linux arm builds", "user": {"login": "petethepig", "id": 662636, "node_id": "MDQ6VXNlcjY2MjYzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/662636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petethepig", "html_url": "https://github.com/petethepig", "followers_url": "https://api.github.com/users/petethepig/followers", "following_url": "https://api.github.com/users/petethepig/following{/other_user}", "gists_url": "https://api.github.com/users/petethepig/gists{/gist_id}", "starred_url": "https://api.github.com/users/petethepig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petethepig/subscriptions", "organizations_url": "https://api.github.com/users/petethepig/orgs", "repos_url": "https://api.github.com/users/petethepig/repos", "events_url": "https://api.github.com/users/petethepig/events{/privacy}", "received_events_url": "https://api.github.com/users/petethepig/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-06T02:42:10Z", "updated_at": "2021-02-09T13:24:49Z", "closed_at": "2021-02-09T13:24:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/281", "html_url": "https://github.com/rbspy/rbspy/pull/281", "diff_url": "https://github.com/rbspy/rbspy/pull/281.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/281.patch", "merged_at": "2021-02-09T13:24:49Z"}, "body": "### Summary of the issue\r\n\r\nit looks like on linux arm `libc::char` is `u8`, not `i8`, so I just replace `i8` with `libc::char` to make this code more portable.\r\n\r\n### Tests I did\r\n\r\nTo test it I used the following Dockerfile:\r\n\r\n```Dockerfile\r\nFROM alpine:3.12 as rust-builder\r\n\r\nRUN apk update &&\\\r\n    apk add git gcc g++ make build-base openssl-dev musl musl-dev \\\r\n    rust cargo curl\r\n\r\nRUN curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y\r\nRUN /root/.cargo/bin/rustup target add $(uname -m)-unknown-linux-musl\r\n\r\nRUN wget https://github.com/libunwind/libunwind/releases/download/v1.3.1/libunwind-1.3.1.tar.gz\r\nRUN tar -zxvf libunwind-1.3.1.tar.gz\r\nRUN cd libunwind-1.3.1/ && ./configure --disable-minidebuginfo --enable-ptrace --disable-tests --disable-documentation && make && make install\r\n\r\nCOPY . /opt/rbspy\r\n\r\nWORKDIR /opt/rbspy\r\n\r\nENV RUSTFLAGS=\"-C target-feature=+crt-static\"\r\nRUN /root/.cargo/bin/cargo build --release --target $(uname -m)-unknown-linux-musl\r\n\r\n\r\nFROM ruby:2.7.2-alpine3.12\r\n\r\nCOPY --from=rust-builder /opt/rbspy /opt/rbspy\r\n\r\nRUN echo \"puts Process.pid; start_time = Time.new; i = 0; while Time.new < start_time + 30; i+=1; end; puts i\" > /example.rb\r\nCMD [\"/opt/rbspy/target/aarch64-unknown-linux-musl/release/rbspy\", \"record\", \"ruby\", \"/example.rb\"]\r\n\r\n```\r\n\r\nand I ran this on an M1 macbook:\r\n```shell\r\ndocker build -t rbspy-test .\r\ndocker run --cap-add SYS_PTRACE -it rbspy-test\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/281/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/280", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/280/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/280/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/280/events", "html_url": "https://github.com/rbspy/rbspy/pull/280", "id": 802558612, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4NjgxNDY5", "number": 280, "title": "macOS M1 support - get_dyld_info works better than get_process_maps", "user": {"login": "petethepig", "id": 662636, "node_id": "MDQ6VXNlcjY2MjYzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/662636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petethepig", "html_url": "https://github.com/petethepig", "followers_url": "https://api.github.com/users/petethepig/followers", "following_url": "https://api.github.com/users/petethepig/following{/other_user}", "gists_url": "https://api.github.com/users/petethepig/gists{/gist_id}", "starred_url": "https://api.github.com/users/petethepig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petethepig/subscriptions", "organizations_url": "https://api.github.com/users/petethepig/orgs", "repos_url": "https://api.github.com/users/petethepig/repos", "events_url": "https://api.github.com/users/petethepig/events{/privacy}", "received_events_url": "https://api.github.com/users/petethepig/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-06T00:23:39Z", "updated_at": "2021-02-09T13:29:04Z", "closed_at": "2021-02-09T13:29:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/280", "html_url": "https://github.com/rbspy/rbspy/pull/280", "diff_url": "https://github.com/rbspy/rbspy/pull/280.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/280.patch", "merged_at": "2021-02-09T13:29:04Z"}, "body": "Adds macOS M1 support, fixes #279, there's more context in the issue.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/280/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/276", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/276/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/276/events", "html_url": "https://github.com/rbspy/rbspy/pull/276", "id": 755667637, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMxMzM2ODg5", "number": 276, "title": "Add flamegraph precision option to control min_width", "user": {"login": "jarthod", "id": 201687, "node_id": "MDQ6VXNlcjIwMTY4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/201687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jarthod", "html_url": "https://github.com/jarthod", "followers_url": "https://api.github.com/users/jarthod/followers", "following_url": "https://api.github.com/users/jarthod/following{/other_user}", "gists_url": "https://api.github.com/users/jarthod/gists{/gist_id}", "starred_url": "https://api.github.com/users/jarthod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jarthod/subscriptions", "organizations_url": "https://api.github.com/users/jarthod/orgs", "repos_url": "https://api.github.com/users/jarthod/repos", "events_url": "https://api.github.com/users/jarthod/events{/privacy}", "received_events_url": "https://api.github.com/users/jarthod/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rbspy/rbspy/milestones/1", "html_url": "https://github.com/rbspy/rbspy/milestone/1", "labels_url": "https://api.github.com/repos/rbspy/rbspy/milestones/1/labels", "id": 6647541, "node_id": "MDk6TWlsZXN0b25lNjY0NzU0MQ==", "number": 1, "title": "v0.5", "description": null, "creator": {"login": "acj", "id": 27923, "node_id": "MDQ6VXNlcjI3OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/27923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acj", "html_url": "https://github.com/acj", "followers_url": "https://api.github.com/users/acj/followers", "following_url": "https://api.github.com/users/acj/following{/other_user}", "gists_url": "https://api.github.com/users/acj/gists{/gist_id}", "starred_url": "https://api.github.com/users/acj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acj/subscriptions", "organizations_url": "https://api.github.com/users/acj/orgs", "repos_url": "https://api.github.com/users/acj/repos", "events_url": "https://api.github.com/users/acj/events{/privacy}", "received_events_url": "https://api.github.com/users/acj/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2021-04-11T00:38:42Z", "updated_at": "2021-04-17T23:06:27Z", "due_on": null, "closed_at": "2021-04-17T23:06:27Z"}, "comments": 6, "created_at": "2020-12-02T22:48:38Z", "updated_at": "2021-04-12T19:19:59Z", "closed_at": "2021-04-12T19:17:57Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/276", "html_url": "https://github.com/rbspy/rbspy/pull/276", "diff_url": "https://github.com/rbspy/rbspy/pull/276.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/276.patch", "merged_at": "2021-04-12T19:17:57Z"}, "body": "Following suggestion #275, here is my first rust PR :tada: \r\n\r\nOk so the idea is to be able to control the `min_width` [option from inferno](https://docs.rs/inferno/0.10.1/inferno/flamegraph/struct.Options.html#structfield.min_width) which is currently kept to the default of `0.1%`. It could be useful for people like me who run long profiling (and so have many sample so good precision) to be able to decrease this number to have more details in smaller flames.\r\n\r\nSo in this PR I tried to add a `flamegraph-precision` option, which is an integer (I couldn't manage to put a float in the `Record` struct), defined as:\r\n\r\n```\r\n> rbspy record --help\r\n...\r\nOPTIONS:\r\n...\r\n        --flamegraph-precision <PRECISION>    Minimum flame width = 1/PRECISION % [default: 10]\r\n```\r\n\r\nSo default value of 10 = 0.1%, setting 1 would give 1% (lower precision) and setting 100 would give 0.01% (higher precision) for example.\r\n\r\nI tested this locally and was able to successfully generate more or less detailed flamegraphs. I added an automated test for the parameter parsing which passes:\r\n\r\n```\r\n> cargo test test_arg_parsing\r\n\r\n... skipping all warning ...\r\n\r\n    Finished test [unoptimized + debuginfo] target(s) in 0.05s\r\n     Running target/debug/deps/rbspy-57c9c1ccd82df402\r\n\r\nrunning 1 test\r\ntest tests::test_arg_parsing ... ok\r\n\r\ntest result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 18 filtered out\r\n```\r\n\r\nThe other tests are not all running on my machine (Ubuntu 20.04) and one hangs the suite (with master) but that is an unrelated matter. The test suite is green on Travis :+1: \r\n\r\nI am not sure if I passed the argument the right way, let me know if you think I should rewrite this another way.\r\nI let the default value of 0.1% for the `report` command, let me know if I should also add the parameter to this command too!\r\n\r\nThanks :bow: and sorry in advance if I wrote any rust monstrosity :see_no_evil: ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/276/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/274", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/274/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/274/events", "html_url": "https://github.com/rbspy/rbspy/pull/274", "id": 740611552, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE5MDY5NjYw", "number": 274, "title": "reduce sensitivity of flaky test", "user": {"login": "igorwwwwwwwwwwwwwwwwwwww", "id": 11158255, "node_id": "MDQ6VXNlcjExMTU4MjU1", "avatar_url": "https://avatars.githubusercontent.com/u/11158255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww", "html_url": "https://github.com/igorwwwwwwwwwwwwwwwwwwww", "followers_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/followers", "following_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/following{/other_user}", "gists_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/gists{/gist_id}", "starred_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/subscriptions", "organizations_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/orgs", "repos_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/repos", "events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/events{/privacy}", "received_events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-11T09:28:47Z", "updated_at": "2021-02-20T14:02:04Z", "closed_at": "2021-02-20T14:02:01Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/274", "html_url": "https://github.com/rbspy/rbspy/pull/274", "diff_url": "https://github.com/rbspy/rbspy/pull/274.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/274.patch", "merged_at": "2021-02-20T14:02:01Z"}, "body": "This is my attempt to address https://github.com/rbspy/rbspy/pull/273#issuecomment-724801951.\r\n\r\n`test_spawn_record_children_subprocesses` has been quite flaky, frequently reporting 3 processes instead of the expected 4. by increasing the sample rate from 10hz we can hopefully get enough samples to consistently see all processes.\r\n\r\n\ud83e\udd1e ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/274/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/273", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/273/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/273/events", "html_url": "https://github.com/rbspy/rbspy/pull/273", "id": 739803057, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE4Mzk5OTIx", "number": 273, "title": "Prepare v0.3.11 release", "user": {"login": "igorwwwwwwwwwwwwwwwwwwww", "id": 11158255, "node_id": "MDQ6VXNlcjExMTU4MjU1", "avatar_url": "https://avatars.githubusercontent.com/u/11158255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww", "html_url": "https://github.com/igorwwwwwwwwwwwwwwwwwwww", "followers_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/followers", "following_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/following{/other_user}", "gists_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/gists{/gist_id}", "starred_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/subscriptions", "organizations_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/orgs", "repos_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/repos", "events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/events{/privacy}", "received_events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-10T10:53:14Z", "updated_at": "2020-11-11T08:02:55Z", "closed_at": "2020-11-11T08:02:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/273", "html_url": "https://github.com/rbspy/rbspy/pull/273", "diff_url": "https://github.com/rbspy/rbspy/pull/273.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/273.patch", "merged_at": "2020-11-11T08:02:48Z"}, "body": "Changelog:\r\n\r\n- add support for ruby 2.4.10 and 2.5.2 (#272)\r\n- add support for ruby 2.7.2, (#271)\r\n- add timestamp weights to speedscope output format (#253)\r\n- say that rbspy isn't an on-CPU profiler\r\n\r\nI also added documentation for the release process, as per https://github.com/rbspy/rbspy/pull/272#issuecomment-723440469.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/273/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/272", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/272/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/272/events", "html_url": "https://github.com/rbspy/rbspy/pull/272", "id": 738068249, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE3MDAwMzA0", "number": 272, "title": "add support for ruby 2.4.10 and 2.5.2", "user": {"login": "igorwwwwwwwwwwwwwwwwwwww", "id": 11158255, "node_id": "MDQ6VXNlcjExMTU4MjU1", "avatar_url": "https://avatars.githubusercontent.com/u/11158255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww", "html_url": "https://github.com/igorwwwwwwwwwwwwwwwwwwww", "followers_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/followers", "following_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/following{/other_user}", "gists_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/gists{/gist_id}", "starred_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/subscriptions", "organizations_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/orgs", "repos_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/repos", "events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/events{/privacy}", "received_events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-06T22:02:15Z", "updated_at": "2020-11-07T13:52:13Z", "closed_at": "2020-11-07T13:52:09Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/272", "html_url": "https://github.com/rbspy/rbspy/pull/272", "diff_url": "https://github.com/rbspy/rbspy/pull/272.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/272.patch", "merged_at": "2020-11-07T13:52:09Z"}, "body": "Both of these were tested against `./ci/ruby-programs/infinite.rb` on macOS and are working.\r\n\r\nBoth were generated via the bindgen Dockerfile from https://github.com/rbspy/rbspy/pull/270.\r\n\r\ncloses #258, #267", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/272/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/271", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/271/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/271/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/271/events", "html_url": "https://github.com/rbspy/rbspy/pull/271", "id": 737338465, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE2Mzk4OTE2", "number": 271, "title": "add support for ruby 2.7.2", "user": {"login": "igorwwwwwwwwwwwwwwwwwwww", "id": 11158255, "node_id": "MDQ6VXNlcjExMTU4MjU1", "avatar_url": "https://avatars.githubusercontent.com/u/11158255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww", "html_url": "https://github.com/igorwwwwwwwwwwwwwwwwwwww", "followers_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/followers", "following_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/following{/other_user}", "gists_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/gists{/gist_id}", "starred_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/subscriptions", "organizations_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/orgs", "repos_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/repos", "events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/events{/privacy}", "received_events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-05T23:24:36Z", "updated_at": "2020-11-07T13:52:05Z", "closed_at": "2020-11-07T13:51:52Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/271", "html_url": "https://github.com/rbspy/rbspy/pull/271", "diff_url": "https://github.com/rbspy/rbspy/pull/271.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/271.patch", "merged_at": "2020-11-07T13:51:52Z"}, "body": "This still requires a bunch of testing.\r\n\r\nIt was generated via the Dockerfile from https://github.com/rbspy/rbspy/pull/270.\r\n\r\nfixes #269 \r\n", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/271/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/270", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/270/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/270/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/270/events", "html_url": "https://github.com/rbspy/rbspy/pull/270", "id": 737337449, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE2Mzk4MDY2", "number": 270, "title": "add Dockerfile for use with bindgen.sh", "user": {"login": "igorwwwwwwwwwwwwwwwwwwww", "id": 11158255, "node_id": "MDQ6VXNlcjExMTU4MjU1", "avatar_url": "https://avatars.githubusercontent.com/u/11158255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww", "html_url": "https://github.com/igorwwwwwwwwwwwwwwwwwwww", "followers_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/followers", "following_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/following{/other_user}", "gists_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/gists{/gist_id}", "starred_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/subscriptions", "organizations_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/orgs", "repos_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/repos", "events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/events{/privacy}", "received_events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-11-05T23:22:11Z", "updated_at": "2020-11-10T16:09:18Z", "closed_at": "2020-11-10T16:08:31Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/270", "html_url": "https://github.com/rbspy/rbspy/pull/270", "diff_url": "https://github.com/rbspy/rbspy/pull/270.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/270.patch", "merged_at": "2020-11-10T16:08:31Z"}, "body": "This allows you to run a bindgen in a relatively self-contained environment. Some hackery was needed to get it working, and it doesn't generate exactly the same files that exist in the repo, at least not yet. This is quite possibly due to differing bindgen versions, and possibly other updates in rust packages.\r\n\r\nI had to go with an older debian version because older rubies require an older version of bison (https://bugs.ruby-lang.org/issues/17106).\r\n\r\nI've opened a separate MR for `2_7_2`, which we don't have support for yet: https://github.com/rbspy/rbspy/pull/271.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/270/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/261", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/261/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/261/events", "html_url": "https://github.com/rbspy/rbspy/pull/261", "id": 629454979, "node_id": "MDExOlB1bGxSZXF1ZXN0NDI2NzgzNjk4", "number": 261, "title": "(ISSUE-257) Add 2.5.8 ruby version", "user": {"login": "donoghuc", "id": 15354214, "node_id": "MDQ6VXNlcjE1MzU0MjE0", "avatar_url": "https://avatars.githubusercontent.com/u/15354214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/donoghuc", "html_url": "https://github.com/donoghuc", "followers_url": "https://api.github.com/users/donoghuc/followers", "following_url": "https://api.github.com/users/donoghuc/following{/other_user}", "gists_url": "https://api.github.com/users/donoghuc/gists{/gist_id}", "starred_url": "https://api.github.com/users/donoghuc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/donoghuc/subscriptions", "organizations_url": "https://api.github.com/users/donoghuc/orgs", "repos_url": "https://api.github.com/users/donoghuc/repos", "events_url": "https://api.github.com/users/donoghuc/events{/privacy}", "received_events_url": "https://api.github.com/users/donoghuc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-06-02T19:24:35Z", "updated_at": "2020-06-03T00:05:13Z", "closed_at": "2020-06-03T00:03:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/261", "html_url": "https://github.com/rbspy/rbspy/pull/261", "diff_url": "https://github.com/rbspy/rbspy/pull/261.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/261.patch", "merged_at": "2020-06-03T00:03:46Z"}, "body": "This commit adds support for ruby 2.5.8. Note there appear to be subtle differences between 2.5.7 and 2.5.8.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/261/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/256", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/256/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/256/events", "html_url": "https://github.com/rbspy/rbspy/pull/256", "id": 601361707, "node_id": "MDExOlB1bGxSZXF1ZXN0NDA0NjMxNzIw", "number": 256, "title": "Add support for 2.6.6, 2.7.0 and 2.7.1", "user": {"login": "gmcabrita", "id": 957820, "node_id": "MDQ6VXNlcjk1NzgyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/957820?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmcabrita", "html_url": "https://github.com/gmcabrita", "followers_url": "https://api.github.com/users/gmcabrita/followers", "following_url": "https://api.github.com/users/gmcabrita/following{/other_user}", "gists_url": "https://api.github.com/users/gmcabrita/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmcabrita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmcabrita/subscriptions", "organizations_url": "https://api.github.com/users/gmcabrita/orgs", "repos_url": "https://api.github.com/users/gmcabrita/repos", "events_url": "https://api.github.com/users/gmcabrita/events{/privacy}", "received_events_url": "https://api.github.com/users/gmcabrita/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-16T19:15:56Z", "updated_at": "2020-04-16T19:59:04Z", "closed_at": "2020-04-16T19:50:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/256", "html_url": "https://github.com/rbspy/rbspy/pull/256", "diff_url": "https://github.com/rbspy/rbspy/pull/256.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/256.patch", "merged_at": "2020-04-16T19:50:08Z"}, "body": "This closes #244 and closes #254.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/256/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/256/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/253", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/253/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/253/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/253/events", "html_url": "https://github.com/rbspy/rbspy/pull/253", "id": 594954121, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzk5NTA4MDQy", "number": 253, "title": "add timestamp weights to speedscope output format", "user": {"login": "igorwwwwwwwwwwwwwwwwwwww", "id": 11158255, "node_id": "MDQ6VXNlcjExMTU4MjU1", "avatar_url": "https://avatars.githubusercontent.com/u/11158255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww", "html_url": "https://github.com/igorwwwwwwwwwwwwwwwwwwww", "followers_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/followers", "following_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/following{/other_user}", "gists_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/gists{/gist_id}", "starred_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/subscriptions", "organizations_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/orgs", "repos_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/repos", "events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/events{/privacy}", "received_events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-06T09:31:51Z", "updated_at": "2020-11-05T12:53:27Z", "closed_at": "2020-11-05T12:53:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/253", "html_url": "https://github.com/rbspy/rbspy/pull/253", "diff_url": "https://github.com/rbspy/rbspy/pull/253.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/253.patch", "merged_at": "2020-11-05T12:53:17Z"}, "body": "This patch adds weights to the speedscope profile as proposed by @jlfwong.\r\n\r\nIt drops the first sample by assigning a weight of 0 (since we have no delta to compare to) and then assigns weights by comparing the timestamp to the previous one.\r\n\r\nI don't have much experience with rust, so if there's any hints on how to make some of this nicer, I'd love to get some pointers!\r\n\r\nCloses #252.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/253/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/251", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/251/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/251/events", "html_url": "https://github.com/rbspy/rbspy/pull/251", "id": 593518732, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzk4Mjg1NzA2", "number": 251, "title": "add header line to storage format, storing sample rate", "user": {"login": "igorwwwwwwwwwwwwwwwwwwww", "id": 11158255, "node_id": "MDQ6VXNlcjExMTU4MjU1", "avatar_url": "https://avatars.githubusercontent.com/u/11158255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww", "html_url": "https://github.com/igorwwwwwwwwwwwwwwwwwwww", "followers_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/followers", "following_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/following{/other_user}", "gists_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/gists{/gist_id}", "starred_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/subscriptions", "organizations_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/orgs", "repos_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/repos", "events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/events{/privacy}", "received_events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-03T17:01:36Z", "updated_at": "2020-04-10T13:59:53Z", "closed_at": "2020-04-10T13:59:53Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/251", "html_url": "https://github.com/rbspy/rbspy/pull/251", "diff_url": "https://github.com/rbspy/rbspy/pull/251.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/251.patch", "merged_at": "2020-04-10T13:59:53Z"}, "body": "This is another approach to addressing https://github.com/rbspy/rbspy/issues/162. Potentially it would be useful to have both.\r\n\r\nBy storing the sample frequency, it's possible to infer approximately how much time a function spent on the stack.\r\n\r\nThis change requires a bump in the format version, since there is now a \"header\" line after the `rbspy02\\n` line.\r\n\r\nSample output:\r\n\r\n```\r\nrbspy02\r\n{\"sample_rate\":100,\"rbspy_version\":\"0.3.8\",\"start_time\":{\"secs_since_epoch\":1586161110,\"nanos_since_epoch\":410485101}}\r\n{\"trace\":[{\"name\":\"<c function>\",\"relative_path\":\"unknown\",\"absolute_path\":null,\"lineno\":0},{\"name\":\"handle_servers\",\"relative_path\":\"/opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.3.gitlab.2/lib/puma/server.rb\",\"absolute_path\":\"/opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.3.gitlab.2/lib/puma/server.rb\",\"lineno\":445},{\"name\":\"block in run\",\"relative_path\":\"/opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.3.gitlab.2/lib/puma/server.rb\",\"absolute_path\":\"/opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.3.gitlab.2/lib/puma/server.rb\",\"lineno\":364}],\"pid\":23071,\"thread_id\":140428353464064}\r\n...\r\n```\r\n\r\nHeader line:\r\n\r\n```\r\n{\"sample_rate\":100,\"rbspy_version\":\"0.3.8\",\"start_time\":{\"secs_since_epoch\":1586161110,\"nanos_since_epoch\":410485101}}\r\n```\r\n\r\nIt's intentionally using `Option` so that new header fields can be added in the future without having to change the format.\r\n\r\nSome useful things that could be added:\r\n\r\n* cli args\r\n* ruby version\r\n* hostname", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/251/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/250", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/250/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/250/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/250/events", "html_url": "https://github.com/rbspy/rbspy/pull/250", "id": 592801784, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzk3NzE0NTc2", "number": 250, "title": "Include sample timestamps in file format", "user": {"login": "igorwwwwwwwwwwwwwwwwwwww", "id": 11158255, "node_id": "MDQ6VXNlcjExMTU4MjU1", "avatar_url": "https://avatars.githubusercontent.com/u/11158255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww", "html_url": "https://github.com/igorwwwwwwwwwwwwwwwwwwww", "followers_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/followers", "following_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/following{/other_user}", "gists_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/gists{/gist_id}", "starred_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/subscriptions", "organizations_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/orgs", "repos_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/repos", "events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/events{/privacy}", "received_events_url": "https://api.github.com/users/igorwwwwwwwwwwwwwwwwwwww/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-02T17:24:30Z", "updated_at": "2020-04-03T17:02:55Z", "closed_at": "2020-04-03T17:02:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/250", "html_url": "https://github.com/rbspy/rbspy/pull/250", "diff_url": "https://github.com/rbspy/rbspy/pull/250.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/250.patch", "merged_at": "2020-04-03T17:02:54Z"}, "body": "This patch adds timestamps to the ndjson file format emitted by rbspy.\r\n\r\nThis is useful for tools that take time into account, including speedscope (https://github.com/rbspy/rbspy/pull/161), google [cloud profiler](https://cloud.google.com/profiler/) (for continuous profiling), and [flamescope](https://github.com/Netflix/flamescope).\r\n\r\nA sample line:\r\n\r\n```\r\n{\"trace\":[{\"name\":\"<c function>\",\"relative_path\":\"unknown\",\"absolute_path\":null,\"lineno\":0},{\"name\":\"<c function>\",\"relative_path\":\"unknown\",\"absolute_path\":null,\"lineno\":0},{\"name\":\"block (2 levels) in spawn_thread\",\"relative_path\":\"/opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.3.gitlab.2/lib/puma/thread_pool.rb\",\"absolute_path\":\"/opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.3.gitlab.2/lib/puma/thread_pool.rb\",\"lineno\":129},{\"name\":\"<c function>\",\"relative_path\":\"unknown\",\"absolute_path\":null,\"lineno\":0},{\"name\":\"block in spawn_thread\",\"relative_path\":\"/opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.3.gitlab.2/lib/puma/thread_pool.rb\",\"absolute_path\":\"/opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.3.gitlab.2/lib/puma/thread_pool.rb\",\"lineno\":148}],\"pid\":3881,\"thread_id\":140651886802688,\"time\":{\"secs_since_epoch\":1585847714,\"nanos_since_epoch\":884414700}}\r\n```\r\n\r\nNew addition:\r\n\r\n```\r\n\"time\":{\"secs_since_epoch\":1585847714,\"nanos_since_epoch\":884414700}\r\n```\r\n\r\nIt currently emits `secs_since_epoch` and `nanos_since_epoch` fields from rust's [`std::time:SystemTime`](https://doc.rust-lang.org/std/time/struct.SystemTime.html). Though I'd be happy to make adjustments if needed!\r\n\r\nI didn't bump the file format version, since this addition of a new key is backwards-compatible as far as I can tell.\r\n\r\nfixes #162", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/250/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/245", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/245/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/245/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/245/events", "html_url": "https://github.com/rbspy/rbspy/pull/245", "id": 555212703, "node_id": "MDExOlB1bGxSZXF1ZXN0MzY3MjA2NTA3", "number": 245, "title": "Update cargo lock file", "user": {"login": "akhramov", "id": 5289700, "node_id": "MDQ6VXNlcjUyODk3MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5289700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhramov", "html_url": "https://github.com/akhramov", "followers_url": "https://api.github.com/users/akhramov/followers", "following_url": "https://api.github.com/users/akhramov/following{/other_user}", "gists_url": "https://api.github.com/users/akhramov/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhramov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhramov/subscriptions", "organizations_url": "https://api.github.com/users/akhramov/orgs", "repos_url": "https://api.github.com/users/akhramov/repos", "events_url": "https://api.github.com/users/akhramov/events{/privacy}", "received_events_url": "https://api.github.com/users/akhramov/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-26T11:05:08Z", "updated_at": "2020-01-26T16:07:20Z", "closed_at": "2020-01-26T16:07:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/245", "html_url": "https://github.com/rbspy/rbspy/pull/245", "diff_url": "https://github.com/rbspy/rbspy/pull/245.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/245.patch", "merged_at": "2020-01-26T16:07:20Z"}, "body": "PR adding FreeBSD support misses the lock file update (#238).\r\n\r\nThis change basically updates Cargo.lock", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/245/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/240", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/240/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/240/events", "html_url": "https://github.com/rbspy/rbspy/pull/240", "id": 528772844, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQ1NzcyMTk2", "number": 240, "title": "Fix fidelity of flamegraph SVGs", "user": {"login": "liaden", "id": 444656, "node_id": "MDQ6VXNlcjQ0NDY1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/444656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liaden", "html_url": "https://github.com/liaden", "followers_url": "https://api.github.com/users/liaden/followers", "following_url": "https://api.github.com/users/liaden/following{/other_user}", "gists_url": "https://api.github.com/users/liaden/gists{/gist_id}", "starred_url": "https://api.github.com/users/liaden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liaden/subscriptions", "organizations_url": "https://api.github.com/users/liaden/orgs", "repos_url": "https://api.github.com/users/liaden/repos", "events_url": "https://api.github.com/users/liaden/events{/privacy}", "received_events_url": "https://api.github.com/users/liaden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-26T14:46:49Z", "updated_at": "2019-11-26T22:06:57Z", "closed_at": "2019-11-26T22:06:51Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/240", "html_url": "https://github.com/rbspy/rbspy/pull/240", "diff_url": "https://github.com/rbspy/rbspy/pull/240.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/240.patch", "merged_at": "2019-11-26T22:06:51Z"}, "body": "The `min_width` went from being minimum pixels to percent of the graph width sometime from 0.7 -> 0.9.  Currently, using the default of 0.1% seems reasonable.\r\n\r\nIt think it would be worthwhile to consider allowing this and other options to be set from the CLI. Optionally, I think supporting a config file might be worthwhile too.\r\n\r\nFixes https://github.com/rbspy/rbspy/issues/239", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/240/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/238", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/238/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/238/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/238/events", "html_url": "https://github.com/rbspy/rbspy/pull/238", "id": 520926168, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM5NDA1MjYx", "number": 238, "title": "#230 FreeBSD support.", "user": {"login": "akhramov", "id": 5289700, "node_id": "MDQ6VXNlcjUyODk3MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5289700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhramov", "html_url": "https://github.com/akhramov", "followers_url": "https://api.github.com/users/akhramov/followers", "following_url": "https://api.github.com/users/akhramov/following{/other_user}", "gists_url": "https://api.github.com/users/akhramov/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhramov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhramov/subscriptions", "organizations_url": "https://api.github.com/users/akhramov/orgs", "repos_url": "https://api.github.com/users/akhramov/repos", "events_url": "https://api.github.com/users/akhramov/events{/privacy}", "received_events_url": "https://api.github.com/users/akhramov/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-11-11T12:16:38Z", "updated_at": "2020-01-25T18:39:31Z", "closed_at": "2020-01-25T18:39:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/238", "html_url": "https://github.com/rbspy/rbspy/pull/238", "diff_url": "https://github.com/rbspy/rbspy/pull/238.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/238.patch", "merged_at": "2020-01-25T18:39:30Z"}, "body": "Now that py-spy supports FreeBSD we can leverage its internal\r\n`remoteprocess` Crate, which does everything related to obtaining\r\ninformation about remote processes: memory reading, obtaining threads\r\ninfo and native stack traces etc.\r\n\r\nThis change\r\n\r\n* Refactors rbspy to use py-spy's remoteprocess crate\r\n* Tweaks Linux's address finder code to support FreeBSD as well.\r\n* Adds Cirrus CI (a FreeBSD CI) config.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/238/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/236", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/236/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/236/events", "html_url": "https://github.com/rbspy/rbspy/pull/236", "id": 510810744, "node_id": "MDExOlB1bGxSZXF1ZXN0MzMxMTE5Mjkw", "number": 236, "title": "Bump version for new release", "user": {"login": "liaden", "id": 444656, "node_id": "MDQ6VXNlcjQ0NDY1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/444656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liaden", "html_url": "https://github.com/liaden", "followers_url": "https://api.github.com/users/liaden/followers", "following_url": "https://api.github.com/users/liaden/following{/other_user}", "gists_url": "https://api.github.com/users/liaden/gists{/gist_id}", "starred_url": "https://api.github.com/users/liaden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liaden/subscriptions", "organizations_url": "https://api.github.com/users/liaden/orgs", "repos_url": "https://api.github.com/users/liaden/repos", "events_url": "https://api.github.com/users/liaden/events{/privacy}", "received_events_url": "https://api.github.com/users/liaden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-22T17:48:43Z", "updated_at": "2019-12-04T18:39:19Z", "closed_at": "2019-12-04T18:37:10Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/236", "html_url": "https://github.com/rbspy/rbspy/pull/236", "diff_url": "https://github.com/rbspy/rbspy/pull/236.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/236.patch", "merged_at": "2019-12-04T18:37:10Z"}, "body": "@jvns Is there anything else needed other than this and creating a new release for it to create the new release artifacts?", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/236/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/233", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/233/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/233/events", "html_url": "https://github.com/rbspy/rbspy/pull/233", "id": 509901621, "node_id": "MDExOlB1bGxSZXF1ZXN0MzMwMzU1OTI0", "number": 233, "title": "Bump inferno dep", "user": {"login": "daniellockyer", "id": 964245, "node_id": "MDQ6VXNlcjk2NDI0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/964245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniellockyer", "html_url": "https://github.com/daniellockyer", "followers_url": "https://api.github.com/users/daniellockyer/followers", "following_url": "https://api.github.com/users/daniellockyer/following{/other_user}", "gists_url": "https://api.github.com/users/daniellockyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniellockyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniellockyer/subscriptions", "organizations_url": "https://api.github.com/users/daniellockyer/orgs", "repos_url": "https://api.github.com/users/daniellockyer/repos", "events_url": "https://api.github.com/users/daniellockyer/events{/privacy}", "received_events_url": "https://api.github.com/users/daniellockyer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-21T11:27:35Z", "updated_at": "2019-10-22T10:11:03Z", "closed_at": "2019-10-22T10:10:59Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/233", "html_url": "https://github.com/rbspy/rbspy/pull/233", "diff_url": "https://github.com/rbspy/rbspy/pull/233.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/233.patch", "merged_at": "2019-10-22T10:10:59Z"}, "body": "Amongst other things, we get multi-core stack collapsing for a nice speedup", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/233/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/232", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/232/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/232/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/232/events", "html_url": "https://github.com/rbspy/rbspy/pull/232", "id": 509871714, "node_id": "MDExOlB1bGxSZXF1ZXN0MzMwMzMxMTU1", "number": 232, "title": "Add support for Ruby 2.4.8, 2.4.9, 2.5.7 and 2.6.5", "user": {"login": "daniellockyer", "id": 964245, "node_id": "MDQ6VXNlcjk2NDI0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/964245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniellockyer", "html_url": "https://github.com/daniellockyer", "followers_url": "https://api.github.com/users/daniellockyer/followers", "following_url": "https://api.github.com/users/daniellockyer/following{/other_user}", "gists_url": "https://api.github.com/users/daniellockyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniellockyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniellockyer/subscriptions", "organizations_url": "https://api.github.com/users/daniellockyer/orgs", "repos_url": "https://api.github.com/users/daniellockyer/repos", "events_url": "https://api.github.com/users/daniellockyer/events{/privacy}", "received_events_url": "https://api.github.com/users/daniellockyer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-21T10:24:39Z", "updated_at": "2019-10-22T09:58:02Z", "closed_at": "2019-10-22T09:57:59Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/232", "html_url": "https://github.com/rbspy/rbspy/pull/232", "diff_url": "https://github.com/rbspy/rbspy/pull/232.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/232.patch", "merged_at": "2019-10-22T09:57:59Z"}, "body": "Closes #231.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/232/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/229", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/229/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/229/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/229/events", "html_url": "https://github.com/rbspy/rbspy/pull/229", "id": 500805960, "node_id": "MDExOlB1bGxSZXF1ZXN0MzIzMTk4NzQy", "number": 229, "title": "Add support for Ruby 2.4.7, 2.5.6 and 2.6.4", "user": {"login": "daniellockyer", "id": 964245, "node_id": "MDQ6VXNlcjk2NDI0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/964245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniellockyer", "html_url": "https://github.com/daniellockyer", "followers_url": "https://api.github.com/users/daniellockyer/followers", "following_url": "https://api.github.com/users/daniellockyer/following{/other_user}", "gists_url": "https://api.github.com/users/daniellockyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniellockyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniellockyer/subscriptions", "organizations_url": "https://api.github.com/users/daniellockyer/orgs", "repos_url": "https://api.github.com/users/daniellockyer/repos", "events_url": "https://api.github.com/users/daniellockyer/events{/privacy}", "received_events_url": "https://api.github.com/users/daniellockyer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-01T10:28:33Z", "updated_at": "2019-10-01T11:43:48Z", "closed_at": "2019-10-01T11:43:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/229", "html_url": "https://github.com/rbspy/rbspy/pull/229", "diff_url": "https://github.com/rbspy/rbspy/pull/229.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/229.patch", "merged_at": "2019-10-01T11:43:44Z"}, "body": "Fixes #228 and #227.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/229/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/229/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/224", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/224/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/224/events", "html_url": "https://github.com/rbspy/rbspy/pull/224", "id": 484835038, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEwNjIyNjE4", "number": 224, "title": "[#189] Implement --subprocesses on Windows", "user": {"login": "akhramov", "id": 5289700, "node_id": "MDQ6VXNlcjUyODk3MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5289700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhramov", "html_url": "https://github.com/akhramov", "followers_url": "https://api.github.com/users/akhramov/followers", "following_url": "https://api.github.com/users/akhramov/following{/other_user}", "gists_url": "https://api.github.com/users/akhramov/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhramov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhramov/subscriptions", "organizations_url": "https://api.github.com/users/akhramov/orgs", "repos_url": "https://api.github.com/users/akhramov/repos", "events_url": "https://api.github.com/users/akhramov/events{/privacy}", "received_events_url": "https://api.github.com/users/akhramov/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-08-24T15:36:54Z", "updated_at": "2019-10-12T20:06:40Z", "closed_at": "2019-10-12T20:06:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/224", "html_url": "https://github.com/rbspy/rbspy/pull/224", "diff_url": "https://github.com/rbspy/rbspy/pull/224.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/224.patch", "merged_at": "2019-10-12T20:06:40Z"}, "body": "Tracing subprocesses is not possible on Microsoft Windows, yet.\r\n\r\nThis change\r\n* Implements `get_proc_children()` function for Windows, using\r\n  `NtGetNextProcess` function. `NtGetNextProcess` is an undocumented\r\n  routine of ntdll, but this approach is said to perform better than\r\n  Process32First/Process32Next.\r\n* Enables `--subprocesses` option for Windows.\r\n* Refactors ruby_forks testing script to use `Kernel#spawn` instead of\r\n  `#Kernel#fork`, because the latter isn't supported in Windows'\r\n  Ruby.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/219", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/219/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/219/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/219/events", "html_url": "https://github.com/rbspy/rbspy/pull/219", "id": 458690436, "node_id": "MDExOlB1bGxSZXF1ZXN0MjkwMjQwODM1", "number": 219, "title": "Downgrade nix", "user": {"login": "daniellockyer", "id": 964245, "node_id": "MDQ6VXNlcjk2NDI0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/964245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniellockyer", "html_url": "https://github.com/daniellockyer", "followers_url": "https://api.github.com/users/daniellockyer/followers", "following_url": "https://api.github.com/users/daniellockyer/following{/other_user}", "gists_url": "https://api.github.com/users/daniellockyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniellockyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniellockyer/subscriptions", "organizations_url": "https://api.github.com/users/daniellockyer/orgs", "repos_url": "https://api.github.com/users/daniellockyer/repos", "events_url": "https://api.github.com/users/daniellockyer/events{/privacy}", "received_events_url": "https://api.github.com/users/daniellockyer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-20T14:25:07Z", "updated_at": "2019-06-22T03:29:08Z", "closed_at": "2019-06-22T03:29:04Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/219", "html_url": "https://github.com/rbspy/rbspy/pull/219", "diff_url": "https://github.com/rbspy/rbspy/pull/219.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/219.patch", "merged_at": "2019-06-22T03:29:04Z"}, "body": "Downgrade Nix to fix build ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/219/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/218", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/218/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/218/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/218/events", "html_url": "https://github.com/rbspy/rbspy/pull/218", "id": 458383857, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjg5OTk5OTgz", "number": 218, "title": "Code updates", "user": {"login": "daniellockyer", "id": 964245, "node_id": "MDQ6VXNlcjk2NDI0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/964245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniellockyer", "html_url": "https://github.com/daniellockyer", "followers_url": "https://api.github.com/users/daniellockyer/followers", "following_url": "https://api.github.com/users/daniellockyer/following{/other_user}", "gists_url": "https://api.github.com/users/daniellockyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniellockyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniellockyer/subscriptions", "organizations_url": "https://api.github.com/users/daniellockyer/orgs", "repos_url": "https://api.github.com/users/daniellockyer/repos", "events_url": "https://api.github.com/users/daniellockyer/events{/privacy}", "received_events_url": "https://api.github.com/users/daniellockyer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-20T06:57:51Z", "updated_at": "2019-06-20T07:37:03Z", "closed_at": "2019-06-20T07:36:58Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/218", "html_url": "https://github.com/rbspy/rbspy/pull/218", "diff_url": "https://github.com/rbspy/rbspy/pull/218.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/218.patch", "merged_at": "2019-06-20T07:36:58Z"}, "body": "* switch to Rust 2018\r\n* clippy suggestions\r\n* dependency update", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/218/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/217", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/217/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/217/events", "html_url": "https://github.com/rbspy/rbspy/pull/217", "id": 454080775, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjg2NjA0NjI2", "number": 217, "title": "Add support for Ruby 2.4.6", "user": {"login": "daniellockyer", "id": 964245, "node_id": "MDQ6VXNlcjk2NDI0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/964245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniellockyer", "html_url": "https://github.com/daniellockyer", "followers_url": "https://api.github.com/users/daniellockyer/followers", "following_url": "https://api.github.com/users/daniellockyer/following{/other_user}", "gists_url": "https://api.github.com/users/daniellockyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniellockyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniellockyer/subscriptions", "organizations_url": "https://api.github.com/users/daniellockyer/orgs", "repos_url": "https://api.github.com/users/daniellockyer/repos", "events_url": "https://api.github.com/users/daniellockyer/events{/privacy}", "received_events_url": "https://api.github.com/users/daniellockyer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-10T09:33:24Z", "updated_at": "2019-06-10T16:29:58Z", "closed_at": "2019-06-10T16:29:51Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/217", "html_url": "https://github.com/rbspy/rbspy/pull/217", "diff_url": "https://github.com/rbspy/rbspy/pull/217.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/217.patch", "merged_at": "2019-06-10T16:29:51Z"}, "body": "This fixes #216.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/217/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/215", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/215/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/215/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/215/events", "html_url": "https://github.com/rbspy/rbspy/pull/215", "id": 447141106, "node_id": "MDExOlB1bGxSZXF1ZXN0MjgxMTk3ODcx", "number": 215, "title": "Fix broken Linux tests", "user": {"login": "daniellockyer", "id": 964245, "node_id": "MDQ6VXNlcjk2NDI0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/964245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniellockyer", "html_url": "https://github.com/daniellockyer", "followers_url": "https://api.github.com/users/daniellockyer/followers", "following_url": "https://api.github.com/users/daniellockyer/following{/other_user}", "gists_url": "https://api.github.com/users/daniellockyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniellockyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniellockyer/subscriptions", "organizations_url": "https://api.github.com/users/daniellockyer/orgs", "repos_url": "https://api.github.com/users/daniellockyer/repos", "events_url": "https://api.github.com/users/daniellockyer/events{/privacy}", "received_events_url": "https://api.github.com/users/daniellockyer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-22T13:35:46Z", "updated_at": "2019-06-10T05:02:44Z", "closed_at": "2019-06-10T05:02:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/215", "html_url": "https://github.com/rbspy/rbspy/pull/215", "diff_url": "https://github.com/rbspy/rbspy/pull/215.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/215.patch", "merged_at": "2019-06-10T05:02:41Z"}, "body": "I use `rvm` so my `ruby` binary isn't at the hardcoded location. Therefore, certain tests fail.\r\n This PR changes to just using the `ruby` name.\r\n\r\nThere is also a MacOS test which references a specific path but I don't use it so I can't verify if it'd be correct.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/215/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/214", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/214/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/214/events", "html_url": "https://github.com/rbspy/rbspy/pull/214", "id": 447037136, "node_id": "MDExOlB1bGxSZXF1ZXN0MjgxMTE0NDgw", "number": 214, "title": "Small fixes", "user": {"login": "daniellockyer", "id": 964245, "node_id": "MDQ6VXNlcjk2NDI0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/964245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniellockyer", "html_url": "https://github.com/daniellockyer", "followers_url": "https://api.github.com/users/daniellockyer/followers", "following_url": "https://api.github.com/users/daniellockyer/following{/other_user}", "gists_url": "https://api.github.com/users/daniellockyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniellockyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniellockyer/subscriptions", "organizations_url": "https://api.github.com/users/daniellockyer/orgs", "repos_url": "https://api.github.com/users/daniellockyer/repos", "events_url": "https://api.github.com/users/daniellockyer/events{/privacy}", "received_events_url": "https://api.github.com/users/daniellockyer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-22T09:46:47Z", "updated_at": "2019-05-22T12:34:27Z", "closed_at": "2019-05-22T12:33:39Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/214", "html_url": "https://github.com/rbspy/rbspy/pull/214", "diff_url": "https://github.com/rbspy/rbspy/pull/214.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/214.patch", "merged_at": "2019-05-22T12:33:39Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/214/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/212", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/212/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/212/events", "html_url": "https://github.com/rbspy/rbspy/pull/212", "id": 445250002, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjc5NzQwMTE1", "number": 212, "title": "Dependency updates and clippy fixes", "user": {"login": "daniellockyer", "id": 964245, "node_id": "MDQ6VXNlcjk2NDI0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/964245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniellockyer", "html_url": "https://github.com/daniellockyer", "followers_url": "https://api.github.com/users/daniellockyer/followers", "following_url": "https://api.github.com/users/daniellockyer/following{/other_user}", "gists_url": "https://api.github.com/users/daniellockyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniellockyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniellockyer/subscriptions", "organizations_url": "https://api.github.com/users/daniellockyer/orgs", "repos_url": "https://api.github.com/users/daniellockyer/repos", "events_url": "https://api.github.com/users/daniellockyer/events{/privacy}", "received_events_url": "https://api.github.com/users/daniellockyer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-17T03:36:51Z", "updated_at": "2019-05-19T22:59:00Z", "closed_at": "2019-05-19T15:34:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/212", "html_url": "https://github.com/rbspy/rbspy/pull/212", "diff_url": "https://github.com/rbspy/rbspy/pull/212.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/212.patch", "merged_at": "2019-05-19T15:34:34Z"}, "body": "This PR updates all the dependencies to the latest version.\r\n\r\nIt also applies all suitable fixes from clippy. (There are quite a few but relatively simple.)", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/212/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/211", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/211/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/211/events", "html_url": "https://github.com/rbspy/rbspy/pull/211", "id": 445249178, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjc5NzM5NDc4", "number": 211, "title": "Replace original FlameGraph with Rust port", "user": {"login": "daniellockyer", "id": 964245, "node_id": "MDQ6VXNlcjk2NDI0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/964245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniellockyer", "html_url": "https://github.com/daniellockyer", "followers_url": "https://api.github.com/users/daniellockyer/followers", "following_url": "https://api.github.com/users/daniellockyer/following{/other_user}", "gists_url": "https://api.github.com/users/daniellockyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniellockyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniellockyer/subscriptions", "organizations_url": "https://api.github.com/users/daniellockyer/orgs", "repos_url": "https://api.github.com/users/daniellockyer/repos", "events_url": "https://api.github.com/users/daniellockyer/events{/privacy}", "received_events_url": "https://api.github.com/users/daniellockyer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-05-17T03:32:11Z", "updated_at": "2019-05-28T09:29:26Z", "closed_at": "2019-05-20T01:43:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/211", "html_url": "https://github.com/rbspy/rbspy/pull/211", "diff_url": "https://github.com/rbspy/rbspy/pull/211.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/211.patch", "merged_at": "2019-05-20T01:43:16Z"}, "body": "[Inferno](https://github.com/jonhoo/inferno) is a Rust port of the original FlameGraph, mainly focussing on performance.\r\n\r\nThe conversion to using Inferno was super easy and provides the same functionality. This would get rid of the requirement for perl to be installed and means we can get rid of the vendored code.\r\n\r\nHowever, there currently seems to be a bug where an extra stack line is added. I'm not sure why but I'm looking into it when I get a chance.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/211/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/210", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/210/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/210/events", "html_url": "https://github.com/rbspy/rbspy/pull/210", "id": 445247349, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjc5NzM4MDc5", "number": 210, "title": "Add support for Ruby 2.5.4, 2.5.5, 2.6.0, 2.6.1, 2.6.2, 2.6.3", "user": {"login": "daniellockyer", "id": 964245, "node_id": "MDQ6VXNlcjk2NDI0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/964245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniellockyer", "html_url": "https://github.com/daniellockyer", "followers_url": "https://api.github.com/users/daniellockyer/followers", "following_url": "https://api.github.com/users/daniellockyer/following{/other_user}", "gists_url": "https://api.github.com/users/daniellockyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniellockyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniellockyer/subscriptions", "organizations_url": "https://api.github.com/users/daniellockyer/orgs", "repos_url": "https://api.github.com/users/daniellockyer/repos", "events_url": "https://api.github.com/users/daniellockyer/events{/privacy}", "received_events_url": "https://api.github.com/users/daniellockyer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-05-17T03:22:48Z", "updated_at": "2019-06-14T06:41:56Z", "closed_at": "2019-05-19T15:36:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/210", "html_url": "https://github.com/rbspy/rbspy/pull/210", "diff_url": "https://github.com/rbspy/rbspy/pull/210.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/210.patch", "merged_at": "2019-05-19T15:36:57Z"}, "body": "This fixes #207 and #159.\r\n\r\nNote: line numbers do not work correctly in 2.6.x. Several things changed in the internals and I can't figure out why my code doesn't work. Still, they're only a guide and the flamegraphs seem to be generated correctly otherwise so I figured it's probably better to get this pushed so people can use it.\r\n", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/210/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/210/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/209", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/209/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/209/events", "html_url": "https://github.com/rbspy/rbspy/pull/209", "id": 431326926, "node_id": "MDExOlB1bGxSZXF1ZXN0MjY5MDI0ODI2", "number": 209, "title": "Fix few typos and 404 link in README.md", "user": {"login": "JuanitoFatas", "id": 1000669, "node_id": "MDQ6VXNlcjEwMDA2Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/1000669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JuanitoFatas", "html_url": "https://github.com/JuanitoFatas", "followers_url": "https://api.github.com/users/JuanitoFatas/followers", "following_url": "https://api.github.com/users/JuanitoFatas/following{/other_user}", "gists_url": "https://api.github.com/users/JuanitoFatas/gists{/gist_id}", "starred_url": "https://api.github.com/users/JuanitoFatas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JuanitoFatas/subscriptions", "organizations_url": "https://api.github.com/users/JuanitoFatas/orgs", "repos_url": "https://api.github.com/users/JuanitoFatas/repos", "events_url": "https://api.github.com/users/JuanitoFatas/events{/privacy}", "received_events_url": "https://api.github.com/users/JuanitoFatas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-04-10T06:33:24Z", "updated_at": "2019-05-20T02:16:59Z", "closed_at": "2019-05-20T02:00:22Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/209", "html_url": "https://github.com/rbspy/rbspy/pull/209", "diff_url": "https://github.com/rbspy/rbspy/pull/209.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/209.patch", "merged_at": "2019-05-20T02:00:22Z"}, "body": "Hello,\r\n\r\nI saw https://www.rust-lang.org/en-US/ is now 404 so tried to fix it, and could not resist to fix the spelling of GitHub, too.\r\n\r\nCheers.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/209/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/206", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/206/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/206/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/206/events", "html_url": "https://github.com/rbspy/rbspy/pull/206", "id": 425230844, "node_id": "MDExOlB1bGxSZXF1ZXN0MjY0Mzc2Mjkx", "number": 206, "title": "Small fixes for scripts/bindgen.sh", "user": {"login": "kzys", "id": 19111, "node_id": "MDQ6VXNlcjE5MTEx", "avatar_url": "https://avatars.githubusercontent.com/u/19111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kzys", "html_url": "https://github.com/kzys", "followers_url": "https://api.github.com/users/kzys/followers", "following_url": "https://api.github.com/users/kzys/following{/other_user}", "gists_url": "https://api.github.com/users/kzys/gists{/gist_id}", "starred_url": "https://api.github.com/users/kzys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kzys/subscriptions", "organizations_url": "https://api.github.com/users/kzys/orgs", "repos_url": "https://api.github.com/users/kzys/repos", "events_url": "https://api.github.com/users/kzys/events{/privacy}", "received_events_url": "https://api.github.com/users/kzys/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-26T05:14:40Z", "updated_at": "2019-03-27T01:53:32Z", "closed_at": "2019-03-27T00:01:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/206", "html_url": "https://github.com/rbspy/rbspy/pull/206", "diff_url": "https://github.com/rbspy/rbspy/pull/206.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/206.patch", "merged_at": "2019-03-27T00:01:15Z"}, "body": "I was able to run `sh ./scripts/bindgen.sh 2_6_2` on my MacBook, then realized that all bindgen-generated files were apparently generated on Linux (my ruby_2_6_2.rs mentions \"darwin\" here and there...). So, I don't include the .rs file on this pull request.\r\n", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/206/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/205", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/205/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/205/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/205/events", "html_url": "https://github.com/rbspy/rbspy/pull/205", "id": 425220047, "node_id": "MDExOlB1bGxSZXF1ZXN0MjY0MzY3OTk1", "number": 205, "title": "Less hard-coding on scripts/bindgen.sh", "user": {"login": "kzys", "id": 19111, "node_id": "MDQ6VXNlcjE5MTEx", "avatar_url": "https://avatars.githubusercontent.com/u/19111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kzys", "html_url": "https://github.com/kzys", "followers_url": "https://api.github.com/users/kzys/followers", "following_url": "https://api.github.com/users/kzys/following{/other_user}", "gists_url": "https://api.github.com/users/kzys/gists{/gist_id}", "starred_url": "https://api.github.com/users/kzys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kzys/subscriptions", "organizations_url": "https://api.github.com/users/kzys/orgs", "repos_url": "https://api.github.com/users/kzys/repos", "events_url": "https://api.github.com/users/kzys/events{/privacy}", "received_events_url": "https://api.github.com/users/kzys/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-26T04:20:15Z", "updated_at": "2019-03-26T04:21:36Z", "closed_at": "2019-03-26T04:21:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/205", "html_url": "https://github.com/rbspy/rbspy/pull/205", "diff_url": "https://github.com/rbspy/rbspy/pull/205.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/205.patch", "merged_at": "2019-03-26T04:21:36Z"}, "body": "Still ruby has to be cloned as ~/clones/ruby, but rbspy doesn't have\r\nto cloned as ~/work/rbspy.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/205/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/204", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/204/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/204/events", "html_url": "https://github.com/rbspy/rbspy/pull/204", "id": 425199472, "node_id": "MDExOlB1bGxSZXF1ZXN0MjY0MzUzMDAy", "number": 204, "title": "Fix \"warning: unused `std::result::Result` that must be used\"", "user": {"login": "kzys", "id": 19111, "node_id": "MDQ6VXNlcjE5MTEx", "avatar_url": "https://avatars.githubusercontent.com/u/19111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kzys", "html_url": "https://github.com/kzys", "followers_url": "https://api.github.com/users/kzys/followers", "following_url": "https://api.github.com/users/kzys/following{/other_user}", "gists_url": "https://api.github.com/users/kzys/gists{/gist_id}", "starred_url": "https://api.github.com/users/kzys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kzys/subscriptions", "organizations_url": "https://api.github.com/users/kzys/orgs", "repos_url": "https://api.github.com/users/kzys/repos", "events_url": "https://api.github.com/users/kzys/events{/privacy}", "received_events_url": "https://api.github.com/users/kzys/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-26T02:39:12Z", "updated_at": "2019-03-26T03:15:38Z", "closed_at": "2019-03-26T03:15:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/204", "html_url": "https://github.com/rbspy/rbspy/pull/204", "diff_url": "https://github.com/rbspy/rbspy/pull/204.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/204.patch", "merged_at": "2019-03-26T03:15:38Z"}, "body": "Since Rust 1.28.0, unit tests can return Result.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/203", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/203/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/203/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/203/events", "html_url": "https://github.com/rbspy/rbspy/pull/203", "id": 425195556, "node_id": "MDExOlB1bGxSZXF1ZXN0MjY0MzUwMTQy", "number": 203, "title": "Upgrade crates to fix #198", "user": {"login": "kzys", "id": 19111, "node_id": "MDQ6VXNlcjE5MTEx", "avatar_url": "https://avatars.githubusercontent.com/u/19111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kzys", "html_url": "https://github.com/kzys", "followers_url": "https://api.github.com/users/kzys/followers", "following_url": "https://api.github.com/users/kzys/following{/other_user}", "gists_url": "https://api.github.com/users/kzys/gists{/gist_id}", "starred_url": "https://api.github.com/users/kzys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kzys/subscriptions", "organizations_url": "https://api.github.com/users/kzys/orgs", "repos_url": "https://api.github.com/users/kzys/repos", "events_url": "https://api.github.com/users/kzys/events{/privacy}", "received_events_url": "https://api.github.com/users/kzys/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-26T02:20:43Z", "updated_at": "2019-03-26T02:21:48Z", "closed_at": "2019-03-26T02:21:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/203", "html_url": "https://github.com/rbspy/rbspy/pull/203", "diff_url": "https://github.com/rbspy/rbspy/pull/203.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/203.patch", "merged_at": "2019-03-26T02:21:48Z"}, "body": "The warning is coming from clap's `arg_enum!` macro, which has been\r\nfixed already.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/203/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/200", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/200/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/200/events", "html_url": "https://github.com/rbspy/rbspy/pull/200", "id": 408902140, "node_id": "MDExOlB1bGxSZXF1ZXN0MjUyMDA2ODU4", "number": 200, "title": "Add --silent flag, which allows to cancel every second logging", "user": {"login": "viuginick1", "id": 6137315, "node_id": "MDQ6VXNlcjYxMzczMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6137315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viuginick1", "html_url": "https://github.com/viuginick1", "followers_url": "https://api.github.com/users/viuginick1/followers", "following_url": "https://api.github.com/users/viuginick1/following{/other_user}", "gists_url": "https://api.github.com/users/viuginick1/gists{/gist_id}", "starred_url": "https://api.github.com/users/viuginick1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viuginick1/subscriptions", "organizations_url": "https://api.github.com/users/viuginick1/orgs", "repos_url": "https://api.github.com/users/viuginick1/repos", "events_url": "https://api.github.com/users/viuginick1/events{/privacy}", "received_events_url": "https://api.github.com/users/viuginick1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-02-11T17:51:20Z", "updated_at": "2019-03-14T17:08:15Z", "closed_at": "2019-02-17T15:25:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/200", "html_url": "https://github.com/rbspy/rbspy/pull/200", "diff_url": "https://github.com/rbspy/rbspy/pull/200.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/200.patch", "merged_at": "2019-02-17T15:25:44Z"}, "body": "As we discussed in https://github.com/rbspy/rbspy/pull/199, sometimes it is needed to turn off the logging of the profiler's summary data.\r\n\r\nP.S Can you please release the latest rpspy version, so we can share a link to it?", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/200/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/199", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/199/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/199/events", "html_url": "https://github.com/rbspy/rbspy/pull/199", "id": 406477529, "node_id": "MDExOlB1bGxSZXF1ZXN0MjUwMTY2NDY0", "number": 199, "title": "Sample thread_ids", "user": {"login": "viuginick1", "id": 6137315, "node_id": "MDQ6VXNlcjYxMzczMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6137315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viuginick1", "html_url": "https://github.com/viuginick1", "followers_url": "https://api.github.com/users/viuginick1/followers", "following_url": "https://api.github.com/users/viuginick1/following{/other_user}", "gists_url": "https://api.github.com/users/viuginick1/gists{/gist_id}", "starred_url": "https://api.github.com/users/viuginick1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viuginick1/subscriptions", "organizations_url": "https://api.github.com/users/viuginick1/orgs", "repos_url": "https://api.github.com/users/viuginick1/repos", "events_url": "https://api.github.com/users/viuginick1/events{/privacy}", "received_events_url": "https://api.github.com/users/viuginick1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-02-04T19:16:10Z", "updated_at": "2019-02-05T02:49:18Z", "closed_at": "2019-02-05T00:25:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/199", "html_url": "https://github.com/rbspy/rbspy/pull/199", "diff_url": "https://github.com/rbspy/rbspy/pull/199.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/199.patch", "merged_at": "2019-02-05T00:25:45Z"}, "body": "We want to use `rbspy` as a profiler engine for RubyMine. It turned out it turned out that dividing samples not only by pids but by thread_id quite usefull. As in the case of rails for example some threads are always loop some library code, such threads add some noise to a flame graph with mixed thread. In addition, it allows user to better localize the problem, as only the flamegraph of the desired thread is considered (with the needed method, for example)\r\n\r\n![screenshot from 2019-02-04 22-15-37](https://user-images.githubusercontent.com/6137315/52231230-769cc080-28ca-11e9-87cf-565e3d6e9c13.png)\r\n", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/199/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/197", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/197/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/197/events", "html_url": "https://github.com/rbspy/rbspy/pull/197", "id": 380273760, "node_id": "MDExOlB1bGxSZXF1ZXN0MjMwNTExNjU4", "number": 197, "title": "Add 2.3.8 and 2.5.3 to #is_maybe_thread_function", "user": {"login": "alexcameron89", "id": 5634381, "node_id": "MDQ6VXNlcjU2MzQzODE=", "avatar_url": "https://avatars.githubusercontent.com/u/5634381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcameron89", "html_url": "https://github.com/alexcameron89", "followers_url": "https://api.github.com/users/alexcameron89/followers", "following_url": "https://api.github.com/users/alexcameron89/following{/other_user}", "gists_url": "https://api.github.com/users/alexcameron89/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcameron89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcameron89/subscriptions", "organizations_url": "https://api.github.com/users/alexcameron89/orgs", "repos_url": "https://api.github.com/users/alexcameron89/repos", "events_url": "https://api.github.com/users/alexcameron89/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcameron89/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-13T15:15:15Z", "updated_at": "2018-11-17T03:13:41Z", "closed_at": "2018-11-17T03:13:41Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/197", "html_url": "https://github.com/rbspy/rbspy/pull/197", "diff_url": "https://github.com/rbspy/rbspy/pull/197.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/197.patch", "merged_at": "2018-11-17T03:13:41Z"}, "body": "**Note: This is a PR to fix a PR (#195)** \ud83d\ude04 \r\n\r\nThis fixes the following error on the `support-ruby-versions` branch:\r\n```\r\nthread '<unnamed>' panicked at 'Ruby version not supported yet: 2.5.3. Please create a GitHub issue and we'll fix it!', src/core/initialize.rs:252:14\r\n```\r\n\r\nI tested it out locally on 2.5.3 and it worked for me \ud83d\udc4d .", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/197/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/195", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/195/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/195/events", "html_url": "https://github.com/rbspy/rbspy/pull/195", "id": 376989657, "node_id": "MDExOlB1bGxSZXF1ZXN0MjI4MDc2MDAx", "number": 195, "title": "Add support for Ruby 2.3.8, 2.4.5, 2.5.3", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-02T22:41:59Z", "updated_at": "2018-11-17T21:41:36Z", "closed_at": "2018-11-17T21:41:33Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/195", "html_url": "https://github.com/rbspy/rbspy/pull/195", "diff_url": "https://github.com/rbspy/rbspy/pull/195.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/195.patch", "merged_at": "2018-11-17T21:41:33Z"}, "body": "Fixes #193 ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/195/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/191", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/191/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/191/events", "html_url": "https://github.com/rbspy/rbspy/pull/191", "id": 368345839, "node_id": "MDExOlB1bGxSZXF1ZXN0MjIxNTQ1NDIx", "number": 191, "title": "Add current sample rate to print summary", "user": {"login": "at1as", "id": 5544031, "node_id": "MDQ6VXNlcjU1NDQwMzE=", "avatar_url": "https://avatars.githubusercontent.com/u/5544031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/at1as", "html_url": "https://github.com/at1as", "followers_url": "https://api.github.com/users/at1as/followers", "following_url": "https://api.github.com/users/at1as/following{/other_user}", "gists_url": "https://api.github.com/users/at1as/gists{/gist_id}", "starred_url": "https://api.github.com/users/at1as/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/at1as/subscriptions", "organizations_url": "https://api.github.com/users/at1as/orgs", "repos_url": "https://api.github.com/users/at1as/repos", "events_url": "https://api.github.com/users/at1as/events{/privacy}", "received_events_url": "https://api.github.com/users/at1as/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-09T18:46:50Z", "updated_at": "2018-10-18T01:49:26Z", "closed_at": "2018-10-18T01:49:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/191", "html_url": "https://github.com/rbspy/rbspy/pull/191", "diff_url": "https://github.com/rbspy/rbspy/pull/191.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/191.patch", "merged_at": "2018-10-18T01:49:17Z"}, "body": "This PR adds the `sample rate` to the print summary when the current rate is lower than the setting. \r\n\r\nThis is in response to: https://github.com/rbspy/rbspy/issues/188\r\n\r\nLet me know if the verbiage should be changed, or if there's anything else I've missed. I'm a complete beginner with Rust \ud83d\ude05", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/191/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/191/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/182", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/182/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/182/events", "html_url": "https://github.com/rbspy/rbspy/pull/182", "id": 363675445, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE4MDUyMTMy", "number": 182, "title": "Improve README", "user": {"login": "janpio", "id": 183673, "node_id": "MDQ6VXNlcjE4MzY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/183673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janpio", "html_url": "https://github.com/janpio", "followers_url": "https://api.github.com/users/janpio/followers", "following_url": "https://api.github.com/users/janpio/following{/other_user}", "gists_url": "https://api.github.com/users/janpio/gists{/gist_id}", "starred_url": "https://api.github.com/users/janpio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janpio/subscriptions", "organizations_url": "https://api.github.com/users/janpio/orgs", "repos_url": "https://api.github.com/users/janpio/repos", "events_url": "https://api.github.com/users/janpio/events{/privacy}", "received_events_url": "https://api.github.com/users/janpio/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-25T16:58:43Z", "updated_at": "2018-09-26T20:46:31Z", "closed_at": "2018-09-26T16:30:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/182", "html_url": "https://github.com/rbspy/rbspy/pull/182", "diff_url": "https://github.com/rbspy/rbspy/pull/182.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/182.patch", "merged_at": "2018-09-26T16:30:35Z"}, "body": "The documentation link was so big, prominent and in the headline - that I missed it the first time \ud83e\udd37\u200d\u2640\ufe0f I restructured that part a bit so that the \"intro\" is below the main headline and logo. Only then follows \"Documentation\" with a unmissable link to the docs website.\r\n\r\nI added a second documentation link down at the installation section (maybe this could be removed completely here with that link?).\r\n\r\nI also added a link to create new issues.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/182/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/179", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/179/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/179/events", "html_url": "https://github.com/rbspy/rbspy/pull/179", "id": 356990003, "node_id": "MDExOlB1bGxSZXF1ZXN0MjEzMTE0Njkx", "number": 179, "title": "Handle process exitting on Windows", "user": {"login": "benfred", "id": 69536, "node_id": "MDQ6VXNlcjY5NTM2", "avatar_url": "https://avatars.githubusercontent.com/u/69536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benfred", "html_url": "https://github.com/benfred", "followers_url": "https://api.github.com/users/benfred/followers", "following_url": "https://api.github.com/users/benfred/following{/other_user}", "gists_url": "https://api.github.com/users/benfred/gists{/gist_id}", "starred_url": "https://api.github.com/users/benfred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benfred/subscriptions", "organizations_url": "https://api.github.com/users/benfred/orgs", "repos_url": "https://api.github.com/users/benfred/repos", "events_url": "https://api.github.com/users/benfred/events{/privacy}", "received_events_url": "https://api.github.com/users/benfred/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-04T21:54:41Z", "updated_at": "2018-09-25T17:50:56Z", "closed_at": "2018-09-08T18:17:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/179", "html_url": "https://github.com/rbspy/rbspy/pull/179", "diff_url": "https://github.com/rbspy/rbspy/pull/179.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/179.patch", "merged_at": "2018-09-08T18:17:18Z"}, "body": "When the profiled process on Windows exits, there is usually a [299 error code returned](https://docs.microsoft.com/en-us/windows/desktop/debug/system-error-codes--0-499-#error_partial_copy)\r\nfrom the read_process_memory call. Treat this like the process exitted.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/179/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/178", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/178/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/178/events", "html_url": "https://github.com/rbspy/rbspy/pull/178", "id": 356983816, "node_id": "MDExOlB1bGxSZXF1ZXN0MjEzMTA5ODI2", "number": 178, "title": "Fix Windows sleep time", "user": {"login": "benfred", "id": 69536, "node_id": "MDQ6VXNlcjY5NTM2", "avatar_url": "https://avatars.githubusercontent.com/u/69536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benfred", "html_url": "https://github.com/benfred", "followers_url": "https://api.github.com/users/benfred/followers", "following_url": "https://api.github.com/users/benfred/following{/other_user}", "gists_url": "https://api.github.com/users/benfred/gists{/gist_id}", "starred_url": "https://api.github.com/users/benfred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benfred/subscriptions", "organizations_url": "https://api.github.com/users/benfred/orgs", "repos_url": "https://api.github.com/users/benfred/repos", "events_url": "https://api.github.com/users/benfred/events{/privacy}", "received_events_url": "https://api.github.com/users/benfred/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-04T21:31:49Z", "updated_at": "2018-09-11T19:57:16Z", "closed_at": "2018-09-08T18:18:31Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/178", "html_url": "https://github.com/rbspy/rbspy/pull/178", "diff_url": "https://github.com/rbspy/rbspy/pull/178.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/178.patch", "merged_at": "2018-09-08T18:18:31Z"}, "body": "On windows, the sleep call could take up to 15ms irregardless of the amount of\r\ntime asked for. On my system without the sleep call, I can get about 14K stack\r\ntraces a second - but with the sleep call we were limited to 64 causing an\r\nerror message to display when sampling.\r\n\r\nFix by using timeBeginPeriod call to make the OS to wake up every 1ms. This lets\r\nus sample up with rates up to 500hz without errors.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/178/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/177", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/177/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/177/events", "html_url": "https://github.com/rbspy/rbspy/pull/177", "id": 356641681, "node_id": "MDExOlB1bGxSZXF1ZXN0MjEyODQ3Njc3", "number": 177, "title": "Handle execve's on Linux", "user": {"login": "wabain", "id": 7651435, "node_id": "MDQ6VXNlcjc2NTE0MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/7651435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wabain", "html_url": "https://github.com/wabain", "followers_url": "https://api.github.com/users/wabain/followers", "following_url": "https://api.github.com/users/wabain/following{/other_user}", "gists_url": "https://api.github.com/users/wabain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wabain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wabain/subscriptions", "organizations_url": "https://api.github.com/users/wabain/orgs", "repos_url": "https://api.github.com/users/wabain/repos", "events_url": "https://api.github.com/users/wabain/events{/privacy}", "received_events_url": "https://api.github.com/users/wabain/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-04T03:35:48Z", "updated_at": "2019-05-20T07:34:31Z", "closed_at": "2019-05-20T07:34:30Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/177", "html_url": "https://github.com/rbspy/rbspy/pull/177", "diff_url": "https://github.com/rbspy/rbspy/pull/177.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/177.patch", "merged_at": "2019-05-20T07:34:30Z"}, "body": "This is a fix for #145, handling `exec` calls, for Linux. While the same approach should work for MacOS, extra work would be needed to distinguish between invalid reads and process exit and since I've already let this sit for many months, I'd prefer to land Linux support.\r\n\r\nThe idea here is to check the result returned when getting the stack trace from the target process to detect the error that the pointer to the ruby thread state, specifically, has become invalid. If it has, we then reinitialize StackTraceGetter on the basis that if we've lost the thread the whole process is invalid.\r\n\r\nIn the test case I added I'm polling until the reinitialization happens. I did this because when I used a fixed timeout I was sometimes getting the trace before reinitialization (one every 500 test runs or so), and I didn't want to play the timeout tweaking game. With the current polling I still get the error \"stack base and cfp address out of sync\" once every few thousand test runs but I think that error should be transient and shouldn't impact real usage.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/177/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/173", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/173/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/173/events", "html_url": "https://github.com/rbspy/rbspy/pull/173", "id": 356150102, "node_id": "MDExOlB1bGxSZXF1ZXN0MjEyNTE0MTYx", "number": 173, "title": "Build fixes for 32 bit windows", "user": {"login": "benfred", "id": 69536, "node_id": "MDQ6VXNlcjY5NTM2", "avatar_url": "https://avatars.githubusercontent.com/u/69536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benfred", "html_url": "https://github.com/benfred", "followers_url": "https://api.github.com/users/benfred/followers", "following_url": "https://api.github.com/users/benfred/following{/other_user}", "gists_url": "https://api.github.com/users/benfred/gists{/gist_id}", "starred_url": "https://api.github.com/users/benfred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benfred/subscriptions", "organizations_url": "https://api.github.com/users/benfred/orgs", "repos_url": "https://api.github.com/users/benfred/repos", "events_url": "https://api.github.com/users/benfred/events{/privacy}", "received_events_url": "https://api.github.com/users/benfred/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-31T23:35:12Z", "updated_at": "2018-09-04T21:19:28Z", "closed_at": "2018-09-02T03:20:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/173", "html_url": "https://github.com/rbspy/rbspy/pull/173", "diff_url": "https://github.com/rbspy/rbspy/pull/173.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/173.patch", "merged_at": "2018-09-02T03:20:36Z"}, "body": "This changes the generated ruby-structs so that they compile on 32 bit toolchains.\r\nThis lets rbspy build on the i686-pc-windows-msvc toolchain and profile 32 bit Ruby\r\nversions on windows. ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/173/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/170", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/170/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/170/events", "html_url": "https://github.com/rbspy/rbspy/pull/170", "id": 354142265, "node_id": "MDExOlB1bGxSZXF1ZXN0MjEwOTc5Njcw", "number": 170, "title": "Omit MacOS root warning for rbspy report", "user": {"login": "wabain", "id": 7651435, "node_id": "MDQ6VXNlcjc2NTE0MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/7651435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wabain", "html_url": "https://github.com/wabain", "followers_url": "https://api.github.com/users/wabain/followers", "following_url": "https://api.github.com/users/wabain/following{/other_user}", "gists_url": "https://api.github.com/users/wabain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wabain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wabain/subscriptions", "organizations_url": "https://api.github.com/users/wabain/orgs", "repos_url": "https://api.github.com/users/wabain/repos", "events_url": "https://api.github.com/users/wabain/events{/privacy}", "received_events_url": "https://api.github.com/users/wabain/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-27T00:16:59Z", "updated_at": "2018-08-27T02:00:08Z", "closed_at": "2018-08-27T01:59:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/170", "html_url": "https://github.com/rbspy/rbspy/pull/170", "diff_url": "https://github.com/rbspy/rbspy/pull/170.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/170.patch", "merged_at": "2018-08-27T01:59:19Z"}, "body": "This PR contains a few distinct changes, bundled together because the code they touch overlaps. (I can break things out/back parts out if needed.)\r\n\r\n* Remove some unused dependencies\r\n* Don't require the nix package on Windows (all uses are already in `cfg(unix)` blocks)\r\n* More substantively: previously, a warning was printed on MacOS if `rbspy report` was invoked by a non-root user, even though that command doesn't actually require root and works without it. Reorder things so that the test for root is only executed when needed.\r\n* Finally, print the non-root warning to stderr instead of stdout", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/169", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/169/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/169/events", "html_url": "https://github.com/rbspy/rbspy/pull/169", "id": 354141432, "node_id": "MDExOlB1bGxSZXF1ZXN0MjEwOTc5MDQz", "number": 169, "title": "Make the --input and --output arguments to rbspy report mandatory", "user": {"login": "wabain", "id": 7651435, "node_id": "MDQ6VXNlcjc2NTE0MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/7651435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wabain", "html_url": "https://github.com/wabain", "followers_url": "https://api.github.com/users/wabain/followers", "following_url": "https://api.github.com/users/wabain/following{/other_user}", "gists_url": "https://api.github.com/users/wabain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wabain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wabain/subscriptions", "organizations_url": "https://api.github.com/users/wabain/orgs", "repos_url": "https://api.github.com/users/wabain/repos", "events_url": "https://api.github.com/users/wabain/events{/privacy}", "received_events_url": "https://api.github.com/users/wabain/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-27T00:07:45Z", "updated_at": "2018-08-27T01:56:00Z", "closed_at": "2018-08-27T01:56:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/169", "html_url": "https://github.com/rbspy/rbspy/pull/169", "diff_url": "https://github.com/rbspy/rbspy/pull/169.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/169.patch", "merged_at": "2018-08-27T01:56:00Z"}, "body": "Since there are no defaults for the `--input` and `--output` arguments of `rbspy report`, an error was returned when accessing them through `value_t!`, which was then unwrapped:\r\n\r\n    thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: \"\\u{1b}[1;31merror:\\u{1b}[0m The argument \\'output\\' wasn\\'t found\", kind: ArgumentNotFound, info: Some([\"output\"]) }', libcore/result.rs:945:5\r\n\r\nMaking them mandatory causes clap to exit when first parsing the arguments, which aligns with how other mandatory arguments are being handled. I tried to add a test for the error handling, but since currently `Args::from` exits the process when it can't parse the arguments it would have taken more refactoring. I think there's a pretty low chance of regression here anyway, so I've just added a basic CLI parsing test for the report subcommand. ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/169/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/165", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/165/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/165/events", "html_url": "https://github.com/rbspy/rbspy/pull/165", "id": 346344038, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA1MjMxMzA5", "number": 165, "title": "Add Windows Support", "user": {"login": "benfred", "id": 69536, "node_id": "MDQ6VXNlcjY5NTM2", "avatar_url": "https://avatars.githubusercontent.com/u/69536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benfred", "html_url": "https://github.com/benfred", "followers_url": "https://api.github.com/users/benfred/followers", "following_url": "https://api.github.com/users/benfred/following{/other_user}", "gists_url": "https://api.github.com/users/benfred/gists{/gist_id}", "starred_url": "https://api.github.com/users/benfred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benfred/subscriptions", "organizations_url": "https://api.github.com/users/benfred/orgs", "repos_url": "https://api.github.com/users/benfred/repos", "events_url": "https://api.github.com/users/benfred/events{/privacy}", "received_events_url": "https://api.github.com/users/benfred/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-07-31T20:23:11Z", "updated_at": "2018-08-11T13:40:20Z", "closed_at": "2018-08-11T12:57:05Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/165", "html_url": "https://github.com/rbspy/rbspy/pull/165", "diff_url": "https://github.com/rbspy/rbspy/pull/165.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/165.patch", "merged_at": "2018-08-11T12:57:05Z"}, "body": "Thanks for this project! I\u2019ve found the code and blog posts on developing rbspy incredibly useful and inspiring.\r\n\r\nThis PR attempts to get rbspy working on Windows. It doesn\u2019t totally work just yet, but I thought I would share where I\u2019m at anyways.\r\n\r\nIn particular this PR:\r\n\r\n* makes rbspy build on windows\r\n* adds code to read virtual memory maps on windows and load symbols from windows processes\r\n* Provides windows implementations of the address_finder::get_ruby_version_address and current_thread_address functions\r\n* refactors proc_maps/mac_maps/win_maps into a subcrate, and has all OS implementations expose a common interface (get_process_maps/MapRange)\r\n\r\nWith these changes rbspy can connect up to a process on windows, and correctly determine the version of ruby running. \r\n\r\nUnfortunately when trying to copy the stack traces it fails with an error like:\r\n\r\n\tCopy error: stack base and cfp address out of sync. stack base: 28ce010, cfp address: 294df20\r\n\r\nI'm a little stuck on exactly what is going wrong here to be honest. I was hoping someone here might have any ideas of where I'm going wrong here =)\r\n\r\nAlso, I'm interested in using the proc-maps code in another project I'm working on - and I was wondering if we could extract to a standalone crate? I think moving the proc-maps folder to its own repo and then updating the Cargo.toml file here should be sufficient. I'm willing to set this up, but wanted to make sure that this is something you'd be interested in first. This can be done independently of the rest of the windows changes here, since you probably don't merge this just yet.\r\n", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/165/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/161", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/161/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/161/events", "html_url": "https://github.com/rbspy/rbspy/pull/161", "id": 342012843, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAyMDEzNjAy", "number": 161, "title": "Include an output format for speedscope", "user": {"login": "jlfwong", "id": 150329, "node_id": "MDQ6VXNlcjE1MDMyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/150329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlfwong", "html_url": "https://github.com/jlfwong", "followers_url": "https://api.github.com/users/jlfwong/followers", "following_url": "https://api.github.com/users/jlfwong/following{/other_user}", "gists_url": "https://api.github.com/users/jlfwong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlfwong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlfwong/subscriptions", "organizations_url": "https://api.github.com/users/jlfwong/orgs", "repos_url": "https://api.github.com/users/jlfwong/repos", "events_url": "https://api.github.com/users/jlfwong/events{/privacy}", "received_events_url": "https://api.github.com/users/jlfwong/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-07-17T17:25:44Z", "updated_at": "2018-08-21T05:30:33Z", "closed_at": "2018-08-20T03:28:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/161", "html_url": "https://github.com/rbspy/rbspy/pull/161", "diff_url": "https://github.com/rbspy/rbspy/pull/161.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/161.patch", "merged_at": "2018-08-20T03:28:26Z"}, "body": "Hi! This is a PR to generate output from rbspy that can be consumed by https://www.speedscope.app/ for fast interactive flamechart visualization & exploration in-browser.\r\n\r\nTo test this out, generate a profile, then convert it to a speedscope json file like so:\r\n\r\n```\r\nrbspy report -i /Users/jlfwong/.cache/rbspy/records/rbspy-2018-07-12-4h5BlXOheu.raw.gz -f speedscope -o ~/Downloads/foo.speedscope.json\r\n```\r\n\r\nThen drop the resulting `.speedscope.json` file into https://www.speedscope.app/\r\n\r\nThis is my first ever PR in Rust, so I expect there to be a lot of changes needed before this can plausibly land.\r\n\r\nMy eventual plan is to make this integration even more seamless, so you don't even need to find the json file output and drag it into browser. Ideally you'd be able to do something like `rbspy view /path/to/profile`, and it would open the profile in-browser automatically using a checked-in copy of speedscope. That was the approach I proposed in https://github.com/tmm1/stackprof/pull/100. This PR is just the first step to generate a form that speedscope can consume.\r\n\r\nI first asked about potential integration with rbspy in this tweet :) https://twitter.com/jlfwong/status/1015844929027780608\r\n\r\nFixes jlfwong/speedscope#31", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/161/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/154", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/154/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/154/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/154/events", "html_url": "https://github.com/rbspy/rbspy/pull/154", "id": 324669686, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg5MjEyMTUx", "number": 154, "title": "[Closes #148] Support --subprocesses flag on Mac", "user": {"login": "akhramov", "id": 5289700, "node_id": "MDQ6VXNlcjUyODk3MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5289700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhramov", "html_url": "https://github.com/akhramov", "followers_url": "https://api.github.com/users/akhramov/followers", "following_url": "https://api.github.com/users/akhramov/following{/other_user}", "gists_url": "https://api.github.com/users/akhramov/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhramov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhramov/subscriptions", "organizations_url": "https://api.github.com/users/akhramov/orgs", "repos_url": "https://api.github.com/users/akhramov/repos", "events_url": "https://api.github.com/users/akhramov/events{/privacy}", "received_events_url": "https://api.github.com/users/akhramov/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-19T23:55:54Z", "updated_at": "2018-06-07T05:18:00Z", "closed_at": "2018-06-07T01:47:17Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/154", "html_url": "https://github.com/rbspy/rbspy/pull/154", "diff_url": "https://github.com/rbspy/rbspy/pull/154.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/154.patch", "merged_at": "2018-06-07T01:47:17Z"}, "body": "Currently --subprocesses flag is not available on darwin platform,\r\nbecause subprocess retrieving logic is Linux-specific.\r\n\r\nThis change\r\n* Bumps `libproc` version to \"0.3.1\", because the new version\r\n  introduces `proc_pid::pidinfo` function, useful for retrieving\r\n  PPIDs.\r\n* Implements darwin-specific `ui::descendents::descendents_of` based\r\n  on the new `libproc` functionality.\r\n* Enables `test_spawn_record_children_subprocesses` test for darwin\r\n  and tweaks it not to use system Ruby for reasons described in #69", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/154/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/149", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/149/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/149/events", "html_url": "https://github.com/rbspy/rbspy/pull/149", "id": 319402905, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg1MzMwMjA4", "number": 149, "title": "Suggest reporting a GitHub issue if there are an abnormally high number of errors", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-02T04:02:35Z", "updated_at": "2018-05-02T04:03:11Z", "closed_at": "2018-05-02T04:03:08Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/149", "html_url": "https://github.com/rbspy/rbspy/pull/149", "diff_url": "https://github.com/rbspy/rbspy/pull/149.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/149.patch", "merged_at": "2018-05-02T04:03:08Z"}, "body": "Fixes #54 ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/149/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/147", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/147/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/147/events", "html_url": "https://github.com/rbspy/rbspy/pull/147", "id": 319399261, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg1MzI3NTM3", "number": 147, "title": "Fix MacPermissionDenied compile warning", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-02T03:34:45Z", "updated_at": "2018-05-02T04:00:09Z", "closed_at": "2018-05-02T04:00:06Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/147", "html_url": "https://github.com/rbspy/rbspy/pull/147", "diff_url": "https://github.com/rbspy/rbspy/pull/147.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/147.patch", "merged_at": "2018-05-02T04:00:06Z"}, "body": "Previously we were getting this compile warning on Linux\r\n\r\n```\r\nwarning: variant is never constructed: `MacPermissionDenied`\r\n  --> src/core/address_finder.rs:18:5\r\n   |\r\n18 |     MacPermissionDenied(pid_t),\r\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n   |\r\n   = note: #[warn(dead_code)] on by default\r\n```\r\n\r\nThis fixes it by only including the variant on Mac.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/147/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/144", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/144/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/144/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/144/events", "html_url": "https://github.com/rbspy/rbspy/pull/144", "id": 317664912, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg0MDY0MTYx", "number": 144, "title": "Explain how to add SYS_PTRACE capability to Docker in error message", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-25T14:54:08Z", "updated_at": "2018-05-02T03:59:56Z", "closed_at": "2018-05-02T03:59:53Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/144", "html_url": "https://github.com/rbspy/rbspy/pull/144", "diff_url": "https://github.com/rbspy/rbspy/pull/144.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/144.patch", "merged_at": "2018-05-02T03:59:53Z"}, "body": "People get tripped up by this pretty frequently, so let's make the error message more helpful :)", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/144/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/142", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/142/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/142/events", "html_url": "https://github.com/rbspy/rbspy/pull/142", "id": 315877128, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgyNzc1Nzk1", "number": 142, "title": "Skip summarizing traces with length 0", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-19T13:26:42Z", "updated_at": "2018-04-19T22:27:03Z", "closed_at": "2018-04-19T22:23:04Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/142", "html_url": "https://github.com/rbspy/rbspy/pull/142", "diff_url": "https://github.com/rbspy/rbspy/pull/142.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/142.patch", "merged_at": "2018-04-19T22:23:04Z"}, "body": "Hopefully fixes https://github.com/rbspy/rbspy/issues/141\r\n\r\nIt looks like sometimes we're getting stack traces with length 0. I'm not sure yet why this would be happening, but checking for that and not including them in the summary might resolve it.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/142/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/142/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/139", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/139/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/139/events", "html_url": "https://github.com/rbspy/rbspy/pull/139", "id": 312369152, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgwMTk2NTkx", "number": 139, "title": "Add missing entries for ruby 2.3.7 and 2.4.4", "user": {"login": "jasonhl", "id": 7451862, "node_id": "MDQ6VXNlcjc0NTE4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/7451862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonhl", "html_url": "https://github.com/jasonhl", "followers_url": "https://api.github.com/users/jasonhl/followers", "following_url": "https://api.github.com/users/jasonhl/following{/other_user}", "gists_url": "https://api.github.com/users/jasonhl/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonhl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonhl/subscriptions", "organizations_url": "https://api.github.com/users/jasonhl/orgs", "repos_url": "https://api.github.com/users/jasonhl/repos", "events_url": "https://api.github.com/users/jasonhl/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonhl/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-09T02:17:03Z", "updated_at": "2018-04-09T15:16:35Z", "closed_at": "2018-04-09T03:13:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/139", "html_url": "https://github.com/rbspy/rbspy/pull/139", "diff_url": "https://github.com/rbspy/rbspy/pull/139.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/139.patch", "merged_at": "2018-04-09T03:13:20Z"}, "body": "I wanted to try out `rbspy` on a rails app, so I downloaded the latest version and ran it. Unfortunately...\r\n\r\n```\r\njasonhl:~ 1$ sudo rbspy record --pid 24699\r\nPress Ctrl+C to stop\r\nthread '<unnamed>' panicked at 'Ruby version not supported yet: 2.4.4. Please create a GitHub issue and we'll fix it!', src/core/initialize.rs:299:14\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n...\r\n```\r\n\r\nI think #137 might have just forgotten a couple lines. FWIW, I didn't build and test this -- was just looking at previous commits to support new versions and they do include modifying this function. ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/139/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/137", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/137/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/137/events", "html_url": "https://github.com/rbspy/rbspy/pull/137", "id": 311961243, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc5OTM3NTMx", "number": 137, "title": "Add Ruby 2.4.4 and 2.3.7 support", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-06T12:42:06Z", "updated_at": "2018-04-06T12:42:38Z", "closed_at": "2018-04-06T12:42:35Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/137", "html_url": "https://github.com/rbspy/rbspy/pull/137", "diff_url": "https://github.com/rbspy/rbspy/pull/137.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/137.patch", "merged_at": "2018-04-06T12:42:34Z"}, "body": "Fixes #136 ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/137/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/135", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/135/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/135/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/135/events", "html_url": "https://github.com/rbspy/rbspy/pull/135", "id": 311007020, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc5MjI2NDA4", "number": 135, "title": "Add Ruby 2.5.1 support", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-03T21:34:52Z", "updated_at": "2018-04-03T22:05:35Z", "closed_at": "2018-04-03T22:05:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/135", "html_url": "https://github.com/rbspy/rbspy/pull/135", "diff_url": "https://github.com/rbspy/rbspy/pull/135.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/135.patch", "merged_at": "2018-04-03T22:05:31Z"}, "body": "Fixes #134 \r\n\r\nThis adds support for Ruby 2.5.1, which was released last week. We can't really reasonably support new Ruby versions before they come out (because we need to generate new code for their internals after the release), but adding support is at least easy.\r\n\r\nThis also improves the error message from \"oh no\" :)", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/135/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/131", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/131/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/131/events", "html_url": "https://github.com/rbspy/rbspy/pull/131", "id": 309435804, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc4MDkwOTk3", "number": 131, "title": "Make rbspy -V report the version", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-03-28T16:15:24Z", "updated_at": "2018-03-28T18:03:58Z", "closed_at": "2018-03-28T18:03:55Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/131", "html_url": "https://github.com/rbspy/rbspy/pull/131", "diff_url": "https://github.com/rbspy/rbspy/pull/131.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/131.patch", "merged_at": "2018-03-28T18:03:55Z"}, "body": "Fixes https://github.com/rbspy/rbspy/issues/130. This will automatically get the version from the Cargo.toml configuration file.\r\n\r\nAlso the version in the Cargo.toml file wasn't up to date.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/131/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/131/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/129", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/129/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/129/events", "html_url": "https://github.com/rbspy/rbspy/pull/129", "id": 309118276, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc3ODUzNTc1", "number": 129, "title": "Report \"trace late\" errors in a more understandable way", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-03-27T20:19:07Z", "updated_at": "2018-03-27T21:58:10Z", "closed_at": "2018-03-27T21:58:07Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/129", "html_url": "https://github.com/rbspy/rbspy/pull/129", "diff_url": "https://github.com/rbspy/rbspy/pull/129.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/129.patch", "merged_at": "2018-03-27T21:58:07Z"}, "body": "If you ask rbspy to sample at too high of a rate, it'll start spitting out errors like:\r\n\r\n```\r\nBehind expected sample time by 25982 nanoseconds, results may be inaccurate. Try sampling at a lower rate with `--rate`. Current rate: 3000.\r\n```\r\n\r\nThe issue with these errors right now is that it doesn't tell you the *magnitude* of the problem -- if 1 stack trace is late, it's not a big deal, but if 50% of stack traces are late then that means our results could be pretty inaccurate.\r\n\r\nThis PR changes the reporting to report the *percentage* of stack traces that were collected late. We only print out a percentage if it's more than 0.5%. ", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/129/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/125", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/125/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/125/events", "html_url": "https://github.com/rbspy/rbspy/pull/125", "id": 307397011, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc2NTkzNDY5", "number": 125, "title": "Filter out 'unknown C function' functions when generating callgrind summary", "user": {"login": "jvns", "id": 817739, "node_id": "MDQ6VXNlcjgxNzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/817739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvns", "html_url": "https://github.com/jvns", "followers_url": "https://api.github.com/users/jvns/followers", "following_url": "https://api.github.com/users/jvns/following{/other_user}", "gists_url": "https://api.github.com/users/jvns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvns/subscriptions", "organizations_url": "https://api.github.com/users/jvns/orgs", "repos_url": "https://api.github.com/users/jvns/repos", "events_url": "https://api.github.com/users/jvns/events{/privacy}", "received_events_url": "https://api.github.com/users/jvns/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-03-21T19:59:34Z", "updated_at": "2018-03-22T20:25:28Z", "closed_at": "2018-03-22T20:25:25Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/125", "html_url": "https://github.com/rbspy/rbspy/pull/125", "diff_url": "https://github.com/rbspy/rbspy/pull/125.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/125.patch", "merged_at": "2018-03-22T20:25:25Z"}, "body": "Since different instances of 'unknown C function' may refer to totally different functions, it confuses the callgrind output and doesn't really help you figure out what's going on at all.\r\n\r\nWe leave in \"unknown C function\" if it's the only function on the stack.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/125/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/rbspy/rbspy/issues/120", "repository_url": "https://api.github.com/repos/rbspy/rbspy", "labels_url": "https://api.github.com/repos/rbspy/rbspy/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/rbspy/rbspy/issues/120/comments", "events_url": "https://api.github.com/repos/rbspy/rbspy/issues/120/events", "html_url": "https://github.com/rbspy/rbspy/pull/120", "id": 300045286, "node_id": "MDExOlB1bGxSZXF1ZXN0MTcxMjQxNzA2", "number": 120, "title": "Add test to verify unicode support", "user": {"login": "liaden", "id": 444656, "node_id": "MDQ6VXNlcjQ0NDY1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/444656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liaden", "html_url": "https://github.com/liaden", "followers_url": "https://api.github.com/users/liaden/followers", "following_url": "https://api.github.com/users/liaden/following{/other_user}", "gists_url": "https://api.github.com/users/liaden/gists{/gist_id}", "starred_url": "https://api.github.com/users/liaden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liaden/subscriptions", "organizations_url": "https://api.github.com/users/liaden/orgs", "repos_url": "https://api.github.com/users/liaden/repos", "events_url": "https://api.github.com/users/liaden/events{/privacy}", "received_events_url": "https://api.github.com/users/liaden/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-02-25T17:40:38Z", "updated_at": "2019-06-20T07:36:43Z", "closed_at": "2019-06-20T07:36:43Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rbspy/rbspy/pulls/120", "html_url": "https://github.com/rbspy/rbspy/pull/120", "diff_url": "https://github.com/rbspy/rbspy/pull/120.diff", "patch_url": "https://github.com/rbspy/rbspy/pull/120.patch", "merged_at": "2019-06-20T07:36:43Z"}, "body": "Not every method in the stack trace will be ASCII so add an explicit test to handle potential regressions.", "reactions": {"url": "https://api.github.com/repos/rbspy/rbspy/issues/120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rbspy/rbspy/issues/120/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]