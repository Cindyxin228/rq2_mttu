[{"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/66", "repository_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs", "labels_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/66/comments", "events_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/66/events", "html_url": "https://github.com/gwihlidal/vk-mem-rs/pull/66", "id": 2110017908, "node_id": "PR_kwDOCZpz7s5lkQPM", "number": 66, "title": "Pull in various changes from fork", "user": {"login": "PixelDust22", "id": 8980455, "node_id": "MDQ6VXNlcjg5ODA0NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/8980455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PixelDust22", "html_url": "https://github.com/PixelDust22", "followers_url": "https://api.github.com/users/PixelDust22/followers", "following_url": "https://api.github.com/users/PixelDust22/following{/other_user}", "gists_url": "https://api.github.com/users/PixelDust22/gists{/gist_id}", "starred_url": "https://api.github.com/users/PixelDust22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PixelDust22/subscriptions", "organizations_url": "https://api.github.com/users/PixelDust22/orgs", "repos_url": "https://api.github.com/users/PixelDust22/repos", "events_url": "https://api.github.com/users/PixelDust22/events{/privacy}", "received_events_url": "https://api.github.com/users/PixelDust22/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-31T12:44:46Z", "updated_at": "2024-01-31T16:25:18Z", "closed_at": "2024-01-31T14:35:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/pulls/66", "html_url": "https://github.com/gwihlidal/vk-mem-rs/pull/66", "diff_url": "https://github.com/gwihlidal/vk-mem-rs/pull/66.diff", "patch_url": "https://github.com/gwihlidal/vk-mem-rs/pull/66.patch", "merged_at": "2024-01-31T14:35:12Z"}, "body": "Now that @gwihlidal has given maintainer permissions to me, there is no longer a need to maintain a fork of this repository.\r\nThis PR pulls in various changes from the fork.\r\n- Add setter for VirtualBlockInfo::flag\r\n- Indicate that VirtualBlock is not thread safe\r\n- destroy_image to take an Allocation ref\r\n- Mark get_allocation_info as safe\r\n- Fix tests", "reactions": {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/66/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/66/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/63", "repository_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs", "labels_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/63/comments", "events_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/63/events", "html_url": "https://github.com/gwihlidal/vk-mem-rs/pull/63", "id": 1586605463, "node_id": "PR_kwDOCZpz7s5KEuYt", "number": 63, "title": "Update to VMA 3.0.1, update crate version to 0.3.0", "user": {"login": "joshuagiles", "id": 43313474, "node_id": "MDQ6VXNlcjQzMzEzNDc0", "avatar_url": "https://avatars.githubusercontent.com/u/43313474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshuagiles", "html_url": "https://github.com/joshuagiles", "followers_url": "https://api.github.com/users/joshuagiles/followers", "following_url": "https://api.github.com/users/joshuagiles/following{/other_user}", "gists_url": "https://api.github.com/users/joshuagiles/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshuagiles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshuagiles/subscriptions", "organizations_url": "https://api.github.com/users/joshuagiles/orgs", "repos_url": "https://api.github.com/users/joshuagiles/repos", "events_url": "https://api.github.com/users/joshuagiles/events{/privacy}", "received_events_url": "https://api.github.com/users/joshuagiles/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-02-15T21:41:17Z", "updated_at": "2023-06-22T02:51:57Z", "closed_at": "2023-06-22T02:51:57Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/pulls/63", "html_url": "https://github.com/gwihlidal/vk-mem-rs/pull/63", "diff_url": "https://github.com/gwihlidal/vk-mem-rs/pull/63.diff", "patch_url": "https://github.com/gwihlidal/vk-mem-rs/pull/63.patch", "merged_at": "2023-06-22T02:51:57Z"}, "body": "Hi,\r\n\r\nThis crate merged a PR recently which made the project point to a custom (outdated) fork of VMA with unreviewed changes in the API. As a step in updating to the latest tagged release of VMA, that change has been reverted.\r\n\r\nThe same PR included another commit (\"Foo bar\") which changed AllocatorCreateInfo::new to take Rc<Deref<Target=Instance|Device>> instead of simply Deref. This change broke the tests, and also eliminated the benefit of taking references to Instance and Device in the first place, because a clone now must be made to place in the Rc. That change has also been reverted (which greened the existing tests).\r\n\r\nSeveral other commits were included in the PR from another github user @Neo-Zhixing who rightfully protested that their changes were merged without review and without informing them. After reviewing the remaining changes after the above reversions, I opted not to revert all of those changes as they seem rather benign and/or desirable, like correctly tagging deprecated enum variants and replacing magic numbers with constants from the FFI binding. I hope they will provide a comment noting that this is alright with them, and noting any changes I might have missed that should still be reverted, before this PR is merged.\r\n\r\nVMA 3.0.0 added a new feature: a virtual allocator for using the same VMA algorithms without allocating actual backing memory. It doesn't require an Allocator to be created, just a VmaVirtualBlock object which takes a capacity value, then multiple VmaVirtualAllocation of any size may be allocated and freed from the VmaVirtualBlock, to obtain allocated offsets. Possible use cases include allocating sub-regions of a buffer, managing allocations of non-GPU memory, or even non-graphics related block allocation purposes.\r\n\r\nThis PR adds wrapping for the new VmaVirtualBlock and VmaVirtualAllocation objects, and tests for the newly added wrappers, to maintain feature parity with the VMA version used for the binding. I needed this particular feature for my own purposes and I'm sure other vk_mem users will be happy to have access to it as well.\r\n\r\nThanks,\r\n    Josh", "reactions": {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/63/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/63/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/62", "repository_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs", "labels_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/62/comments", "events_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/62/events", "html_url": "https://github.com/gwihlidal/vk-mem-rs/pull/62", "id": 1327564668, "node_id": "PR_kwDOCZpz7s48mGC4", "number": 62, "title": "Be more generic, for `Rc` and `Arc` to replace `&`.", "user": {"login": "cheako", "id": 1366303, "node_id": "MDQ6VXNlcjEzNjYzMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1366303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cheako", "html_url": "https://github.com/cheako", "followers_url": "https://api.github.com/users/cheako/followers", "following_url": "https://api.github.com/users/cheako/following{/other_user}", "gists_url": "https://api.github.com/users/cheako/gists{/gist_id}", "starred_url": "https://api.github.com/users/cheako/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cheako/subscriptions", "organizations_url": "https://api.github.com/users/cheako/orgs", "repos_url": "https://api.github.com/users/cheako/repos", "events_url": "https://api.github.com/users/cheako/events{/privacy}", "received_events_url": "https://api.github.com/users/cheako/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-03T17:23:19Z", "updated_at": "2023-01-11T22:20:17Z", "closed_at": "2022-12-06T21:33:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/pulls/62", "html_url": "https://github.com/gwihlidal/vk-mem-rs/pull/62", "diff_url": "https://github.com/gwihlidal/vk-mem-rs/pull/62.diff", "patch_url": "https://github.com/gwihlidal/vk-mem-rs/pull/62.patch", "merged_at": "2022-12-06T21:33:42Z"}, "body": "This wasn't useful for me, perhaps it'll be useful for some?", "reactions": {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/62/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/62/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/59", "repository_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs", "labels_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/59/comments", "events_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/59/events", "html_url": "https://github.com/gwihlidal/vk-mem-rs/pull/59", "id": 1125421853, "node_id": "PR_kwDOCZpz7s4yJE_o", "number": 59, "title": "feature: refactor/update newer vulkan memory allocator", "user": {"login": "pollend", "id": 854359, "node_id": "MDQ6VXNlcjg1NDM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/854359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pollend", "html_url": "https://github.com/pollend", "followers_url": "https://api.github.com/users/pollend/followers", "following_url": "https://api.github.com/users/pollend/following{/other_user}", "gists_url": "https://api.github.com/users/pollend/gists{/gist_id}", "starred_url": "https://api.github.com/users/pollend/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pollend/subscriptions", "organizations_url": "https://api.github.com/users/pollend/orgs", "repos_url": "https://api.github.com/users/pollend/repos", "events_url": "https://api.github.com/users/pollend/events{/privacy}", "received_events_url": "https://api.github.com/users/pollend/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-07T02:08:27Z", "updated_at": "2022-04-12T18:30:04Z", "closed_at": "2022-04-12T18:30:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/pulls/59", "html_url": "https://github.com/gwihlidal/vk-mem-rs/pull/59", "diff_url": "https://github.com/gwihlidal/vk-mem-rs/pull/59.diff", "patch_url": "https://github.com/gwihlidal/vk-mem-rs/pull/59.patch", "merged_at": "2022-04-12T18:30:03Z"}, "body": "I ended up moving things into wrappers so it was easier to update the api without updating fields and having to map those values in the binding and passing them over the foreign function interface. should make the process of updating the API easier in the future. I also fixed the unit test but I think I'm probably missing functions from the VulkanMemoryAllocator but this is still a bit of a wip. \r\n\r\n\r\nexamples: \r\n```\r\n let create_info = vk_mem::AllocatorCreateInfo::new(&self.instance, &self.device, &self.physical_device);\r\n let allocator = vk_mem::Allocator::new(create_info).unwrap()\r\n\r\n---\r\n\r\n let mut allocation_info = vk_mem::AllocationCreateInfo::new()\r\n        .required_flags(ash::vk::MemoryPropertyFlags::HOST_VISIBLE)\r\n        .preferred_flags(ash::vk::MemoryPropertyFlags::HOST_COHERENT\r\n            | ash::vk::MemoryPropertyFlags::HOST_CACHED)\r\n        .flags(vk_mem::AllocationCreateFlags::MAPPED);\r\n```", "reactions": {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/59/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/59/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/58", "repository_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs", "labels_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/58/comments", "events_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/58/events", "html_url": "https://github.com/gwihlidal/vk-mem-rs/pull/58", "id": 1007010310, "node_id": "PR_kwDOCZpz7s4sQ83n", "number": 58, "title": "Lots of cleanup and optimizations", "user": {"login": "mxpv", "id": 865334, "node_id": "MDQ6VXNlcjg2NTMzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/865334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mxpv", "html_url": "https://github.com/mxpv", "followers_url": "https://api.github.com/users/mxpv/followers", "following_url": "https://api.github.com/users/mxpv/following{/other_user}", "gists_url": "https://api.github.com/users/mxpv/gists{/gist_id}", "starred_url": "https://api.github.com/users/mxpv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mxpv/subscriptions", "organizations_url": "https://api.github.com/users/mxpv/orgs", "repos_url": "https://api.github.com/users/mxpv/repos", "events_url": "https://api.github.com/users/mxpv/events{/privacy}", "received_events_url": "https://api.github.com/users/mxpv/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-25T07:35:34Z", "updated_at": "2022-01-22T01:26:22Z", "closed_at": "2022-01-22T01:24:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/pulls/58", "html_url": "https://github.com/gwihlidal/vk-mem-rs/pull/58", "diff_url": "https://github.com/gwihlidal/vk-mem-rs/pull/58.diff", "patch_url": "https://github.com/gwihlidal/vk-mem-rs/pull/58.patch", "merged_at": "2022-01-22T01:24:23Z"}, "body": "I keep a fork ([here](https://github.com/mxpv/vk-mem-rs)) with lots of changes and would like to align these with upstream repo if possible.\r\nThis PR includes lots of cleanup. Here is quick recap (it's probably easier to review commit by commit):\r\n- Reworks error handling and removes dependency on `failure` crate. Because VMA lib originally doesn't introduces new error types, but rather relies on Vulkan error codes, there is no reasons to add extra error types. So https://github.com/gwihlidal/vk-mem-rs/commit/4bc0771d448a42d7597a3fd0e162b7d4321afab5 uses `VkResult` from `ash` crate instead.\r\n- https://github.com/gwihlidal/vk-mem-rs/commit/5802337678ff83ecbc70cb0aef347d8c9603194d does a few tweaks to `bindgen`, so the generated code uses `ash` types instead of generating duplicates. This allows to remove loooots of transmute functions and keep things a lot cleaner.\r\n- https://github.com/gwihlidal/vk-mem-rs/commit/d86930e789e7b7a4a9ae0356d61a4a66883e10b9 marks all API calls as `unsafe` to be consistent with `ash` crate and offer same level of APIs.\r\n- https://github.com/gwihlidal/vk-mem-rs/commit/869e532ca0ec70a99e3463141c354759d99e1e74 removes a few `Vec` operations to avoid unneeded allocations.", "reactions": {"url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/58/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/gwihlidal/vk-mem-rs/issues/58/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]