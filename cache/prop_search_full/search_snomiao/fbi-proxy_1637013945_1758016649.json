[{"url": "https://api.github.com/repos/snomiao/fbi-proxy/issues/2", "repository_url": "https://api.github.com/repos/snomiao/fbi-proxy", "labels_url": "https://api.github.com/repos/snomiao/fbi-proxy/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/snomiao/fbi-proxy/issues/2/comments", "events_url": "https://api.github.com/repos/snomiao/fbi-proxy/issues/2/events", "html_url": "https://github.com/snomiao/fbi-proxy/pull/2", "id": 3262750199, "node_id": "PR_kwDOL8mOEs6gm2jA", "number": 2, "title": "Fix ARM64 cross-compilation linking error by configuring correct linker", "user": {"login": "Copilot", "id": 198982749, "node_id": "BOT_kgDOC9w8XQ", "avatar_url": "https://avatars.githubusercontent.com/in/1143301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Copilot", "html_url": "https://github.com/apps/copilot-swe-agent", "followers_url": "https://api.github.com/users/Copilot/followers", "following_url": "https://api.github.com/users/Copilot/following{/other_user}", "gists_url": "https://api.github.com/users/Copilot/gists{/gist_id}", "starred_url": "https://api.github.com/users/Copilot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Copilot/subscriptions", "organizations_url": "https://api.github.com/users/Copilot/orgs", "repos_url": "https://api.github.com/users/Copilot/repos", "events_url": "https://api.github.com/users/Copilot/events{/privacy}", "received_events_url": "https://api.github.com/users/Copilot/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [{"login": "snomiao", "id": 7323030, "node_id": "MDQ6VXNlcjczMjMwMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/7323030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snomiao", "html_url": "https://github.com/snomiao", "followers_url": "https://api.github.com/users/snomiao/followers", "following_url": "https://api.github.com/users/snomiao/following{/other_user}", "gists_url": "https://api.github.com/users/snomiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/snomiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snomiao/subscriptions", "organizations_url": "https://api.github.com/users/snomiao/orgs", "repos_url": "https://api.github.com/users/snomiao/repos", "events_url": "https://api.github.com/users/snomiao/events{/privacy}", "received_events_url": "https://api.github.com/users/snomiao/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, {"login": "Copilot", "id": 198982749, "node_id": "BOT_kgDOC9w8XQ", "avatar_url": "https://avatars.githubusercontent.com/in/1143301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Copilot", "html_url": "https://github.com/apps/copilot-swe-agent", "followers_url": "https://api.github.com/users/Copilot/followers", "following_url": "https://api.github.com/users/Copilot/following{/other_user}", "gists_url": "https://api.github.com/users/Copilot/gists{/gist_id}", "starred_url": "https://api.github.com/users/Copilot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Copilot/subscriptions", "organizations_url": "https://api.github.com/users/Copilot/orgs", "repos_url": "https://api.github.com/users/Copilot/repos", "events_url": "https://api.github.com/users/Copilot/events{/privacy}", "received_events_url": "https://api.github.com/users/Copilot/received_events", "type": "Bot", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2025-07-25T10:26:55Z", "updated_at": "2025-07-25T11:40:43Z", "closed_at": "2025-07-25T11:40:43Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/snomiao/fbi-proxy/pulls/2", "html_url": "https://github.com/snomiao/fbi-proxy/pull/2", "diff_url": "https://github.com/snomiao/fbi-proxy/pull/2.diff", "patch_url": "https://github.com/snomiao/fbi-proxy/pull/2.patch", "merged_at": "2025-07-25T11:40:43Z"}, "body": "## Problem\n\nThe GitHub Actions build was failing for the `aarch64-unknown-linux-gnu` (ARM64 Linux) target with a linking error:\n\n```\nerror: linking with `cc` failed: exit status: 1\n/usr/bin/ld: /home/runner/work/fbi-proxy/fbi-proxy/rs/target/aarch64-unknown-linux-gnu/release/deps/proxy-a0be287de4689f81.proxy.343cf8c43010a107-cgu.00.rcgu.o: Relocations in generic ELF (EM: 183)\n```\n\nThis error occurred because the default linker (`cc`, which is x86_64 gcc) was trying to handle ARM64 object files during cross-compilation, resulting in incompatible ELF format errors.\n\n## Solution\n\nCreated `rs/.cargo/config.toml` to configure the correct cross-compilation linkers:\n\n```toml\n[target.aarch64-unknown-linux-gnu]\nlinker = \"aarch64-linux-gnu-gcc\"\n\n[target.x86_64-unknown-linux-gnu]\nlinker = \"gcc\"\n```\n\nThis ensures that:\n- ARM64 builds use the `aarch64-linux-gnu-gcc` cross-compiler linker\n- x86_64 builds continue using the standard `gcc` linker\n\n## Testing\n\nVerified the fix works by successfully building both targets:\n- \u2705 `cargo build --release --target aarch64-unknown-linux-gnu` \n- \u2705 `cargo build --release --target x86_64-unknown-linux-gnu`\n\nThe generated binaries are correctly formatted for their respective architectures:\n- `target/aarch64-unknown-linux-gnu/release/proxy`: ARM aarch64 executable\n- `target/x86_64-unknown-linux-gnu/release/proxy`: x86-64 executable\n\nThis minimal configuration change resolves the GitHub Actions build failure without affecting any existing functionality.\n\nFixes #1.\n\n> [!WARNING]\n>\n> <details>\n> <summary>Firewall rules blocked me from connecting to one or more addresses</summary>\n>\n> #### I tried to connect to the following addresses, but was blocked by firewall rules:\n>\n> - `esm.ubuntu.com`\n>   - Triggering command: `/usr/lib/apt/methods/https` (dns block)\n>\n> If you need me to access, download, or install something from one of these locations, you can either:\n>\n> - Configure [Actions setup steps](https://gh.io/copilot/actions-setup-steps) to set up my environment, which run before the firewall is enabled\n> - Add the appropriate URLs or hosts to the custom allowlist in this repository's [Copilot coding agent settings](https://github.com/snomiao/fbi-proxy/settings/copilot/coding_agent) (admins only)\n>\n> </details>\n\n\n\n<!-- START COPILOT CODING AGENT TIPS -->\n---\n\n\ud83d\udca1 You can make Copilot smarter by setting up custom instructions, customizing its development environment and configuring Model Context Protocol (MCP) servers. Learn more [Copilot coding agent tips](https://gh.io/copilot-coding-agent-tips) in the docs.", "reactions": {"url": "https://api.github.com/repos/snomiao/fbi-proxy/issues/2/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/snomiao/fbi-proxy/issues/2/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]