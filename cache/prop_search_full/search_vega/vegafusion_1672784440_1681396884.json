[{"url": "https://api.github.com/repos/vega/vegafusion/issues/301", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/301/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/301/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/301/events", "html_url": "https://github.com/vega/vegafusion/pull/301", "id": 1666284826, "node_id": "PR_kwDOGJTEcc5OOYMr", "number": 301, "title": "Release 1.2.1", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-13T12:03:29Z", "updated_at": "2023-04-13T13:37:26Z", "closed_at": "2023-04-13T13:37:25Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/301", "html_url": "https://github.com/vega/vegafusion/pull/301", "diff_url": "https://github.com/vega/vegafusion/pull/301.diff", "patch_url": "https://github.com/vega/vegafusion/pull/301.patch", "merged_at": "2023-04-13T13:37:25Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/301/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/300", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/300/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/300/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/300/events", "html_url": "https://github.com/vega/vegafusion/pull/300", "id": 1665348487, "node_id": "PR_kwDOGJTEcc5OLPqK", "number": 300, "title": "Only set DuckDB pandas_analyze_sample when creating connection internally", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-12T22:26:33Z", "updated_at": "2023-04-13T00:13:56Z", "closed_at": "2023-04-13T00:13:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/300", "html_url": "https://github.com/vega/vegafusion/pull/300", "diff_url": "https://github.com/vega/vegafusion/pull/300.diff", "patch_url": "https://github.com/vega/vegafusion/pull/300.patch", "merged_at": "2023-04-13T00:13:56Z"}, "body": "If accepting an external connection, don't change it", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/300/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/299", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/299/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/299/events", "html_url": "https://github.com/vega/vegafusion/pull/299", "id": 1665160792, "node_id": "PR_kwDOGJTEcc5OKm1i", "number": 299, "title": "Update tonic/tonic-web and other dependencies", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-12T19:55:28Z", "updated_at": "2023-04-12T22:26:02Z", "closed_at": "2023-04-12T22:26:01Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/299", "html_url": "https://github.com/vega/vegafusion/pull/299", "diff_url": "https://github.com/vega/vegafusion/pull/299.diff", "patch_url": "https://github.com/vega/vegafusion/pull/299.patch", "merged_at": "2023-04-12T22:26:01Z"}, "body": "Updates tonic/tonic-web to 0.9.1 to no longer depend on git revision. This means we'll be able to publish vegafusion-server to crates.io again.\r\n\r\nAlso updates other Rust and JS dependencies", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/299/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/298", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/298/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/298/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/298/events", "html_url": "https://github.com/vega/vegafusion/pull/298", "id": 1665120642, "node_id": "PR_kwDOGJTEcc5OKeEc", "number": 298, "title": "Support Date32 and Date64 in timeunit transform", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-12T19:26:54Z", "updated_at": "2023-04-12T21:13:46Z", "closed_at": "2023-04-12T21:13:45Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/298", "html_url": "https://github.com/vega/vegafusion/pull/298", "diff_url": "https://github.com/vega/vegafusion/pull/298.diff", "patch_url": "https://github.com/vega/vegafusion/pull/298.patch", "merged_at": "2023-04-12T21:13:45Z"}, "body": "Fix to support Arrow `Date32` and `Date64` columns in the timeunit transform. This is only an issue for the DuckDB connection as the DataFusion connection converts these to `Timestamp` columns on import.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/298/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/296", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/296/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/296/events", "html_url": "https://github.com/vega/vegafusion/pull/296", "id": 1663157408, "node_id": "PR_kwDOGJTEcc5ODzsM", "number": 296, "title": "Release 1.2.0", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-11T20:20:48Z", "updated_at": "2023-04-12T11:50:29Z", "closed_at": "2023-04-12T11:50:29Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/296", "html_url": "https://github.com/vega/vegafusion/pull/296", "diff_url": "https://github.com/vega/vegafusion/pull/296.diff", "patch_url": "https://github.com/vega/vegafusion/pull/296.patch", "merged_at": "2023-04-12T11:50:29Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/296/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/295", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/295/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/295/events", "html_url": "https://github.com/vega/vegafusion/pull/295", "id": 1662847293, "node_id": "PR_kwDOGJTEcc5OCxNt", "number": 295, "title": "Update to DataFusion 22 and Arrow 36", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-11T16:21:12Z", "updated_at": "2023-04-11T18:27:19Z", "closed_at": "2023-04-11T18:27:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/295", "html_url": "https://github.com/vega/vegafusion/pull/295", "diff_url": "https://github.com/vega/vegafusion/pull/295.diff", "patch_url": "https://github.com/vega/vegafusion/pull/295.patch", "merged_at": "2023-04-11T18:27:19Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/295/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/294", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/294/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/294/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/294/events", "html_url": "https://github.com/vega/vegafusion/pull/294", "id": 1662423891, "node_id": "PR_kwDOGJTEcc5OBUMG", "number": 294, "title": "Handle categorical columns with DuckDB connection", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-11T12:56:35Z", "updated_at": "2023-04-11T15:21:46Z", "closed_at": "2023-04-11T15:21:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/294", "html_url": "https://github.com/vega/vegafusion/pull/294", "diff_url": "https://github.com/vega/vegafusion/pull/294.diff", "patch_url": "https://github.com/vega/vegafusion/pull/294.patch", "merged_at": "2023-04-11T15:21:46Z"}, "body": "This PR updates the DuckDB connection to convert categorical columns to strings rather than ignoring them.  The new test in `python/vegafusion/tests/test_transformed_data.py` now works.\r\n\r\n```python\r\n@pytest.mark.parametrize(\"connection\", get_connections())\r\ndef test_categorical_columns(connection):\r\n    vf.runtime.set_connection(connection)\r\n\r\n    df = pd.DataFrame({\r\n        \"a\": [0, 1, 2, 3, 4, 5],\r\n        \"categorical\": pd.Categorical.from_codes([0, 1, 0, 1, 1, 0], [\"A\", \"BB\"])\r\n    })\r\n\r\n    chart = alt.Chart(df).mark_bar().encode(\r\n        alt.X(\"categorical:N\"), alt.Y(\"sum(a):Q\")\r\n    )\r\n    transformed = vf.transformed_data(chart)\r\n    expected = pd.DataFrame({\"categorical\": [\"A\", \"BB\"], \"sum_a\": [7, 8]})\r\n    pd.testing.assert_frame_equal(transformed, expected)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/294/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/293", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/293/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/293/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/293/events", "html_url": "https://github.com/vega/vegafusion/pull/293", "id": 1659543977, "node_id": "PR_kwDOGJTEcc5N38j1", "number": 293, "title": "Add save functions", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-08T14:43:03Z", "updated_at": "2023-04-08T18:18:47Z", "closed_at": "2023-04-08T18:18:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/293", "html_url": "https://github.com/vega/vegafusion/pull/293", "diff_url": "https://github.com/vega/vegafusion/pull/293.diff", "patch_url": "https://github.com/vega/vegafusion/pull/293.patch", "merged_at": "2023-04-08T18:18:46Z"}, "body": "Closes https://github.com/hex-inc/vegafusion/issues/292\r\n\r\n## Overview\r\nThis PR adds a set of new top-level functions for saving Altair charts to files after applying VegaFusion's `pre_transform_spec` logic. This is the exact same logic that is applied in the [Mime Renderer](https://vegafusion.io/mime_renderer.html) before charts are displayed in a notebook environment.  The functions are:\r\n\r\n - save_html\r\n - save_vega\r\n - save_png\r\n - save_svg\r\n\r\n### Example with Aggregation\r\n\r\nHere's an example of saving a 1 million row histogram to HTML with Altair directly (using the `Chart.save` function):\r\n```python\r\nimport pandas as pd\r\nimport altair as alt\r\nimport vegafusion as vf\r\nvf.enable()\r\n\r\nflights = pd.read_parquet(\r\n    \"https://vegafusion-datasets.s3.amazonaws.com/vega/flights_1m.parquet\"\r\n)\r\n\r\ndelay_hist = alt.Chart(flights).mark_bar().encode(\r\n    alt.X(\"delay\", bin=alt.Bin(maxbins=30)),\r\n    alt.Y(\"count()\")\r\n)\r\ndelay_hist\r\n```\r\n![visualization](https://user-images.githubusercontent.com/15064365/230728055-64b05777-9925-4711-b7c4-3e4cc52e1c83.png)\r\n\r\n```python\r\ndelay_hist.save(\"delay_hist.html\")\r\n```\r\n\r\nThis results in a 116MB file, as all columns from the entire million row dataset are included in the HTML file.  Now use the new `vf.save_html` function from this PR.\r\n\r\n```python\r\nvf.save_html(delay_hist, \"delay_hist.html\")\r\n```\r\n\r\nThe resulting file is now only 5KB, because only ~30 rows have been included (one per histogram bin).\r\n\r\n\r\n### Example without Aggregation\r\nThe benefit of this approach is most dramatic when the chart uses aggregations. But `pre_transform_spec` also trims out unused columns and so there can still be substantial benefit even for unaggregated charts, especially when the input dataset has lots of unused columns.\r\n\r\nHere's an example scatter chart using the Movies dataset:\r\n\r\n```python\r\nimport vegafusion as vf\r\nvf.disable()\r\n\r\nimport altair as alt\r\nfrom vega_datasets import data\r\n\r\nsource = data.movies()\r\n\r\nscatter_chart = alt.Chart(source).mark_point().encode(\r\n    alt.X(\"IMDB_Rating:Q\"),\r\n    alt.Y(\"Rotten_Tomatoes_Rating:Q\"),\r\n)\r\nscatter_chart\r\n```\r\n![visualization (1)](https://user-images.githubusercontent.com/15064365/230728307-6d8a2c6c-e45e-483b-a207-3abf0c26449b.png)\r\n\r\nSaving the chart to an HTML file with the standard Altair approach results in a 1.4 MB file.\r\n```python\r\nscatter_chart.save(\"scatter_full.html\")\r\n```\r\n\r\nSaving with the approach in this PR results in a 125K file:\r\n\r\n```python\r\nvf.save_html(scatter_chart, \"scatter_vegafusion.html\")\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/293/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/291", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/291/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/291/events", "html_url": "https://github.com/vega/vegafusion/pull/291", "id": 1657848977, "node_id": "PR_kwDOGJTEcc5NymJ-", "number": 291, "title": "Don't error on unsupported DuckDB data types, update to 1.1.3", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-06T18:11:22Z", "updated_at": "2023-04-06T19:19:17Z", "closed_at": "2023-04-06T19:19:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/291", "html_url": "https://github.com/vega/vegafusion/pull/291", "diff_url": "https://github.com/vega/vegafusion/pull/291.diff", "patch_url": "https://github.com/vega/vegafusion/pull/291.patch", "merged_at": "2023-04-06T19:19:17Z"}, "body": "Small fix to avoid erroring when unsupported DuckDB column types are encountered (e.g. INTERVAL). These columns now get skipped so that VegaFusion doesn't attempt to pull them in, which may result in an Arrow error.\r\n\r\nWill release this as 1.1.3.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/291/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/290", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/290/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/290/events", "html_url": "https://github.com/vega/vegafusion/pull/290", "id": 1652493193, "node_id": "PR_kwDOGJTEcc5NgzHO", "number": 290, "title": "Update DataFusion to 21.1.0", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-03T17:40:48Z", "updated_at": "2023-04-03T22:58:33Z", "closed_at": "2023-04-03T22:58:33Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/290", "html_url": "https://github.com/vega/vegafusion/pull/290", "diff_url": "https://github.com/vega/vegafusion/pull/290.diff", "patch_url": "https://github.com/vega/vegafusion/pull/290.patch", "merged_at": "2023-04-03T22:58:32Z"}, "body": "Updates DataFusion to 21.1.0 (Arrow stays at 34) and various other library updates", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/290/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/289", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/289/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/289/events", "html_url": "https://github.com/vega/vegafusion/pull/289", "id": 1648119160, "node_id": "PR_kwDOGJTEcc5NSc1m", "number": 289, "title": "Bump version to 1.1.2", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-30T18:32:39Z", "updated_at": "2023-03-30T20:21:13Z", "closed_at": "2023-03-30T20:21:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/289", "html_url": "https://github.com/vega/vegafusion/pull/289", "diff_url": "https://github.com/vega/vegafusion/pull/289.diff", "patch_url": "https://github.com/vega/vegafusion/pull/289.patch", "merged_at": "2023-03-30T20:21:13Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/289/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/288", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/288/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/288/events", "html_url": "https://github.com/vega/vegafusion/pull/288", "id": 1648011035, "node_id": "PR_kwDOGJTEcc5NSFXF", "number": 288, "title": "Work around LargeUtf8 to Utf8 comparison error", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-30T17:17:36Z", "updated_at": "2023-03-30T18:28:38Z", "closed_at": "2023-03-30T18:28:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/288", "html_url": "https://github.com/vega/vegafusion/pull/288", "diff_url": "https://github.com/vega/vegafusion/pull/288.diff", "patch_url": "https://github.com/vega/vegafusion/pull/288.patch", "merged_at": "2023-03-30T18:28:38Z"}, "body": "Closes #286 by casting LargeUtf8 to Utf8. This change can be reverted if/when https://github.com/apache/arrow-rs/issues/2654 is fixed/\r\n\r\nAlso threw in a fix for pre_transform_dataset when inputting and Arrow table", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/288/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/287", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/287/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/287/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/287/events", "html_url": "https://github.com/vega/vegafusion/pull/287", "id": 1646672857, "node_id": "PR_kwDOGJTEcc5NNlie", "number": 287, "title": "Update to DataFusion 20 and Arrow 34", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-29T23:25:30Z", "updated_at": "2023-04-02T22:52:46Z", "closed_at": "2023-04-02T22:52:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/287", "html_url": "https://github.com/vega/vegafusion/pull/287", "diff_url": "https://github.com/vega/vegafusion/pull/287.diff", "patch_url": "https://github.com/vega/vegafusion/pull/287.patch", "merged_at": "2023-04-02T22:52:46Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/287/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/285", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/285/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/285/events", "html_url": "https://github.com/vega/vegafusion/pull/285", "id": 1643848004, "node_id": "PR_kwDOGJTEcc5NEEyN", "number": 285, "title": "Add pre_transform_extract low-level API", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-28T12:28:54Z", "updated_at": "2023-03-28T13:28:34Z", "closed_at": "2023-03-28T13:28:34Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/285", "html_url": "https://github.com/vega/vegafusion/pull/285", "diff_url": "https://github.com/vega/vegafusion/pull/285.diff", "patch_url": "https://github.com/vega/vegafusion/pull/285.patch", "merged_at": "2023-03-28T13:28:34Z"}, "body": "This PR adds a new low-level api (alongside `pre_transform_spec` and `pre_transform_dataset`) called `pre_transform_extract`.  \r\n\r\nThe `pre_transform_spec` function evaluates the transforms in an input spec and inlines the results into the resulting transformed JSON specification. This makes the resulting spec self-contained (able to be rendered directly by the Vega JavaScript library) , but for non-aggregated charts this can result in a really large JSON spec and cost a lot in terms of serialization.\r\n\r\nThe new `pre_transform_extract` function works like `pre_transform_spec`, but only datasets of under 21 rows are inlined into the resulting transformed JSON spec. Larger datasets are returned separately in arrow format.  Each extracted dataset is a tuple of `(name, scope, table)`.\r\n\r\nThe motivation for this function is to improve efficiency in rendering pipelines that are capable of transferring binary data from server to client separately from a JSON bundle. Two such systems I'm aware of are Panel and Streamlit. The client would then be responsible for inlining the extracted datasets prior to rendering with Vega. I haven't tested this yet, but it should be possible to serialize the pyarrow tables into arrow ipc format on the server and then deserialize them into the [arrow JavaScript library](https://arrow.apache.org/docs/js/) on the client and inline the arrow tables directly into the Vega spec.\r\n\r\nAPI:\r\n```python\r\n(transformed, datasets, warnings) = vf.runtime.pre_transform_extract(spec, \"UTC\", inline_datasets=dict(...))\r\n```\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/285/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/283", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/283/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/283/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/283/events", "html_url": "https://github.com/vega/vegafusion/pull/283", "id": 1640569233, "node_id": "PR_kwDOGJTEcc5M5PYq", "number": 283, "title": "Support TIMESTAMP WITH TIMEZONE and DECIMAL types with DuckDB connection", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-25T16:10:31Z", "updated_at": "2023-03-25T18:00:00Z", "closed_at": "2023-03-25T17:59:59Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/283", "html_url": "https://github.com/vega/vegafusion/pull/283", "diff_url": "https://github.com/vega/vegafusion/pull/283.diff", "patch_url": "https://github.com/vega/vegafusion/pull/283.patch", "merged_at": "2023-03-25T17:59:59Z"}, "body": "Trying again. GitHub action's caching was getting in the way\r\n\r\n----\r\n\r\nAdds support for TIMESTAMP WITH TIMEZONE and DECIMAL types with DuckDB connection.\r\n\r\nBumps version to 1.1.1", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/283/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/279", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/279/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/279/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/279/events", "html_url": "https://github.com/vega/vegafusion/pull/279", "id": 1640130970, "node_id": "PR_kwDOGJTEcc5M31vo", "number": 279, "title": "Release 1.1.0", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-24T22:26:31Z", "updated_at": "2023-03-24T23:41:05Z", "closed_at": "2023-03-24T23:41:05Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/279", "html_url": "https://github.com/vega/vegafusion/pull/279", "diff_url": "https://github.com/vega/vegafusion/pull/279.diff", "patch_url": "https://github.com/vega/vegafusion/pull/279.patch", "merged_at": "2023-03-24T23:41:05Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/279/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/278", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/278/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/278/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/278/events", "html_url": "https://github.com/vega/vegafusion/pull/278", "id": 1639630607, "node_id": "PR_kwDOGJTEcc5M2J0U", "number": 278, "title": "Fix path to apple silicon build of vegafusion-server", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-24T15:44:49Z", "updated_at": "2023-03-24T17:02:33Z", "closed_at": "2023-03-24T17:02:33Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/278", "html_url": "https://github.com/vega/vegafusion/pull/278", "diff_url": "https://github.com/vega/vegafusion/pull/278.diff", "patch_url": "https://github.com/vega/vegafusion/pull/278.patch", "merged_at": "2023-03-24T17:02:33Z"}, "body": "Merged https://github.com/hex-inc/vegafusion/pull/277 too quickly.  The path of the apple silicon build is under a different release directory.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/278/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/277", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/277/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/277/events", "html_url": "https://github.com/vega/vegafusion/pull/277", "id": 1639417068, "node_id": "PR_kwDOGJTEcc5M1cZC", "number": 277, "title": "Add Apple Silicon build of vegafusion-server", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-24T13:41:02Z", "updated_at": "2023-03-24T14:51:41Z", "closed_at": "2023-03-24T14:51:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/277", "html_url": "https://github.com/vega/vegafusion/pull/277", "diff_url": "https://github.com/vega/vegafusion/pull/277.diff", "patch_url": "https://github.com/vega/vegafusion/pull/277.patch", "merged_at": "2023-03-24T14:51:41Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/277/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/276", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/276/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/276/events", "html_url": "https://github.com/vega/vegafusion/pull/276", "id": 1638533307, "node_id": "PR_kwDOGJTEcc5Mydjg", "number": 276, "title": "Fix chart editor demo project", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-24T00:33:17Z", "updated_at": "2023-03-24T12:36:48Z", "closed_at": "2023-03-24T12:36:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/276", "html_url": "https://github.com/vega/vegafusion/pull/276", "diff_url": "https://github.com/vega/vegafusion/pull/276.diff", "patch_url": "https://github.com/vega/vegafusion/pull/276.patch", "merged_at": "2023-03-24T12:36:48Z"}, "body": "This PR fixes the chart editor demo in `javascript/vegafusion-chart-editor`\r\n\r\nThis is a simple example of a Vega chart editor that uses `vegafusion-embed` in the client to display the Vega chart, [perform planning](https://vegafusion.io/how_it_works.html#planner), and communicate with an instance of the [vegafusion-server](https://github.com/hex-inc/vegafusion/tree/main/vegafusion-server) over gRPC-Web.\r\n\r\nI needed to update tonic-web to the latest git revision to fix a CORS issue. I also needed to update the `getrandom` crate to fix an annoying webpack warning.\r\n\r\n\r\nhttps://user-images.githubusercontent.com/15064365/227393558-f6418de2-3633-46a6-b2e6-a9552964245f.mov\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/276/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/276/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/275", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/275/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/275/events", "html_url": "https://github.com/vega/vegafusion/pull/275", "id": 1638115272, "node_id": "PR_kwDOGJTEcc5MxCsy", "number": 275, "title": "Make add_signal_listener and add_data_listener public on MsgReceiver", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-23T18:51:02Z", "updated_at": "2023-03-23T20:32:30Z", "closed_at": "2023-03-23T20:32:30Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/275", "html_url": "https://github.com/vega/vegafusion/pull/275", "diff_url": "https://github.com/vega/vegafusion/pull/275.diff", "patch_url": "https://github.com/vega/vegafusion/pull/275.patch", "merged_at": "2023-03-23T20:32:30Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/275/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/274", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/274/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/274/events", "html_url": "https://github.com/vega/vegafusion/pull/274", "id": 1638102018, "node_id": "PR_kwDOGJTEcc5Mw_yu", "number": 274, "title": "Fix crash when initial selection contains mix of string and bool", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-23T18:42:44Z", "updated_at": "2023-03-23T21:27:38Z", "closed_at": "2023-03-23T21:27:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/274", "html_url": "https://github.com/vega/vegafusion/pull/274", "diff_url": "https://github.com/vega/vegafusion/pull/274.diff", "patch_url": "https://github.com/vega/vegafusion/pull/274.patch", "merged_at": "2023-03-23T21:27:38Z"}, "body": "Fix a crash when a Vega spec contains an initial selection like this:\r\n\r\n```json\r\n        [\r\n            {\r\n              \"unit\": \"\",\r\n              \"fields\": [\r\n                {\"field\": \"Major Genre\", \"channel\": \"x\", \"type\": \"E\"},\r\n                {\"field\": \"is_pg\", \"channel\": \"color\", \"type\": \"E\"}\r\n              ],\r\n              \"values\": [\"Adventure\", true]\r\n            },\r\n            {\r\n              \"unit\": \"\",\r\n              \"fields\": [\r\n                {\"field\": \"Major Genre\", \"channel\": \"x\", \"type\": \"E\"},\r\n                {\"field\": \"is_pg\", \"channel\": \"color\", \"type\": \"E\"}\r\n              ],\r\n              \"values\": [\"Comedy\", false]\r\n            }\r\n        ]\r\n```\r\n\r\nWhen converting to arrow, the `true` and `false` scalars get converted to the string `\"true\"` and `\"false\"`, which resulted in the following error in `vlSelectionTest`.\r\n\r\n```\r\n'Boolean = Utf8' can't be evaluated because there isn't a common type to coerce the types to\r\n```\r\n\r\nThis fixes the crash, by converting the strings \"true\" and \"false\" back to booleans when a string is compared to a boolean.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/274/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/273", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/273/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/273/events", "html_url": "https://github.com/vega/vegafusion/pull/273", "id": 1633642446, "node_id": "PR_kwDOGJTEcc5MiBVi", "number": 273, "title": "Release 1.1.0-rc5", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-21T10:46:42Z", "updated_at": "2023-03-21T15:02:28Z", "closed_at": "2023-03-21T15:02:28Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/273", "html_url": "https://github.com/vega/vegafusion/pull/273", "diff_url": "https://github.com/vega/vegafusion/pull/273.diff", "patch_url": "https://github.com/vega/vegafusion/pull/273.patch", "merged_at": "2023-03-21T15:02:28Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/273/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/272", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/272/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/272/events", "html_url": "https://github.com/vega/vegafusion/pull/272", "id": 1633010706, "node_id": "PR_kwDOGJTEcc5Mf5cx", "number": 272, "title": "Expose WASM methods for getting and setting signal and data values", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-20T23:23:53Z", "updated_at": "2023-03-21T10:45:13Z", "closed_at": "2023-03-21T10:45:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/272", "html_url": "https://github.com/vega/vegafusion/pull/272", "diff_url": "https://github.com/vega/vegafusion/pull/272.diff", "patch_url": "https://github.com/vega/vegafusion/pull/272.patch", "merged_at": "2023-03-21T10:45:13Z"}, "body": "Adds several public Vega View methods to the `MsgReceiver` WASM struct:\r\n\r\n```\r\npub fn get_signal(&self, name: &str, scope: &[u32]) -> JsValue ;\r\n\r\npub fn get_data(&self, name: &str, scope: &[u32]) -> JsValue;\r\n\r\npub fn set_signal(&self, name: &str, scope: &[u32], value: JsValue);\r\n\r\npub fn set_data(&self, name: &str, scope: &[u32], value: JsValue);\r\n\r\npub fn get_state(&self) -> JsValue;\r\n\r\npub fn set_state(&self, state: JsValue);\r\n\r\npub fn run(&self);\r\n\r\npub fn run_async(&self) -> Promise;\r\n```\r\nThese are to make it easier to introspect and manipulate the view from outside.\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/272/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/271", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/271/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/271/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/271/events", "html_url": "https://github.com/vega/vegafusion/pull/271", "id": 1632957330, "node_id": "PR_kwDOGJTEcc5Mft64", "number": 271, "title": "Support names with periods in formula output field", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-20T22:25:39Z", "updated_at": "2023-03-21T01:21:53Z", "closed_at": "2023-03-21T01:21:52Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/271", "html_url": "https://github.com/vega/vegafusion/pull/271", "diff_url": "https://github.com/vega/vegafusion/pull/271.diff", "patch_url": "https://github.com/vega/vegafusion/pull/271.patch", "merged_at": "2023-03-21T01:21:52Z"}, "body": "This removes a restriction on the formula transform that I put in early in VegaFusion's development, to prohibit it from outputting fields with periods in their names.\r\n\r\nI seem to recall that I thought there was some special behavior here around creating nested object properties (which VegaFusion doesn't support), but I don't see any documentation for in in the Vega [formula transform](https://vega.github.io/vega/docs/transforms/formula/), and Vega seems to simply output a column name with a period in it. See:\r\n\r\n[Open the Chart in the Vega Editor](https://vega.github.io/editor/#/url/vega-lite/N4IgJAzgxgFgpgWwIYgFwhgF0wBwqgegIDc4BzJAOjIEtMYBXAI0poHsDp5kTykBaADZ04JAKyUAVhDYA7EABoQgpAE84AJzQBtUABMkmFKlCykCOGhA4ksgxAD6BowDMN5y0uJJBDOBB1QAFkAeQA5ABUACUpQyKirACYABkSAZn5kgEZMrIACZOTUQuLkxRA46IdKhPQU9NzcgqKSwvKAZQBBABkAUXa0ADYsrIBfBWDw6Nip2pB6jOymrMTS0vKa6tmk1MWc7LyVtbalLr6B1DSATivxyfiZ+J2GpdTm47KlTZrnvczE96tT4gM79NBiAAciTuFVmj2iv0abyOQI2sy2TzquyRAJRLWBoIuAHZBjCavC5gskWlAfi0fEMQisS99jSgetTj0wagACxZCFkuE-Zl-ZI0vEc2EM4XzbGvcWrVGc85DCECiZS6YyqmvHm0yXfbYipF69knEFc4krQUPbVy-Z6iXmw2Y2UszKOxV05XcwaJMYa8l293JMT653o4OisNmgmWtDpAP3LVGt3Rw5eg2R1M6-Zhp1xlWoRIQ5I2lOu3OZQbh4EuplppE12MdeOoYbQwNCnP26sZj70qpRpv9pUWos3MTlmLD15E2uDqKMym95Lzls+i5ZHlTru2nsh+cFxfLxFz0fe8fciE80kAXXGIA0-jYglIaFA0B8lhMICgr7YLR0BoOw4BwOBQNkTBylUKwIBgJBnz0EBRkfFR1CA3QQEwdxZAgFxAIQQIQBcGhBEwTQrBoCAADUfBoPQAApnAYBBtAAHU1KJ2PYilOLvABKFC7yUdDKNQLDkA0ABrD9sNUcCrCYRDyigYQcDQHC-CUUjBEEOBkNQLS4EfCD-z0ECyDktgbCgOhYN-bxfB-ANsLYV9MBoDSJNAUi4EEQyuJ4ilykwBSf2wxAcEAnxQpoCwAFVZDoKx1EQhA5HoZxLBhPyAqsQlQvCqwAEcGFsTyjE898lCQMgyGfCgKLg1i4swfSCtYvI2BcPJCtGB8BqUMy2As2QrN-AAPOS8sCmpgp+JQwsU9AKIQaL3EENqOvQINZjyRi0o0fgMqgmB+GyoSlC-HbgEfJBJuouSGoYzSNG07CaCgaSAiM964FEpAmH837jMB4HBAAMV8eC0BcHwIBMpb4rgJKUvQI7TqywwcqUBzfJofzAsKpbivQMqKroQwaBqkA6oavhmvQCBWuR9qIvaLqer6+Nrqgb8P3ux7ftAF7DLBz7vtB-7wZBt6PpUCHoYYWHUHhwREdQpR-0EQC5KcvwrAAYh5ABhIkIU6CEUNQh8RKfF83x-T9+durWQGcJBEcwEXlDUTQ2h8kAzAsKw9FYhBYK8HxDeKAbH3-WRSIm0B9LICDDNAQDCagqwNBoMgsBtpQVc0CwjDkxH9KgTy5FNuRk5F1DRiAA)\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/271/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/270", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/270/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/270/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/270/events", "html_url": "https://github.com/vega/vegafusion/pull/270", "id": 1632602585, "node_id": "PR_kwDOGJTEcc5MehSM", "number": 270, "title": "Output polars/arrow from pre_transform_datasets/transformed_data", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-20T17:56:54Z", "updated_at": "2023-03-20T22:20:56Z", "closed_at": "2023-03-20T22:20:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/270", "html_url": "https://github.com/vega/vegafusion/pull/270", "diff_url": "https://github.com/vega/vegafusion/pull/270.diff", "patch_url": "https://github.com/vega/vegafusion/pull/270.patch", "merged_at": "2023-03-20T22:20:56Z"}, "body": "Updates `pre_transform_datasets` (and thereby `vf.transformed_data`) to output polars DataFrame(s) if:\r\n - There is at least one inline dataset\r\n - all of the inline datasets are polars DataFrames\r\n\r\nThis way a polars user can create a chart from a polars DataFrame and retrieve a polars DataFrame with `vf.transformed_data` all without any pandas conversions.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/270/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/269", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/269/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/269/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/269/events", "html_url": "https://github.com/vega/vegafusion/pull/269", "id": 1632479335, "node_id": "PR_kwDOGJTEcc5MeG-N", "number": 269, "title": "Fix 1.1.0rc4 hang in pre_transform_dataset", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-20T16:34:57Z", "updated_at": "2023-03-20T17:52:12Z", "closed_at": "2023-03-20T17:52:12Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/269", "html_url": "https://github.com/vega/vegafusion/pull/269", "diff_url": "https://github.com/vega/vegafusion/pull/269.diff", "patch_url": "https://github.com/vega/vegafusion/pull/269.patch", "merged_at": "2023-03-20T17:52:12Z"}, "body": "Closes https://github.com/hex-inc/vegafusion/issues/268\r\n\r\nThis fixes / works around the hang reported in #268. I don't understand the full cause, but it's mitigated by copying the input Arrow table through the IPC format.  We lose zero copy, but it should still be an improvement over prior versions as the IPC clone is happening all in Rust. Also important, this approach allows us to compute an accurate hash for the input table (rather than using the Python `id` of the PyArrow table), so it improves cacheing.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/269/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/265", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/265/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/265/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/265/events", "html_url": "https://github.com/vega/vegafusion/pull/265", "id": 1630903870, "node_id": "PR_kwDOGJTEcc5MY3F9", "number": 265, "title": "Release 1.1.0rc4", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-19T11:47:01Z", "updated_at": "2023-03-19T19:07:57Z", "closed_at": "2023-03-19T19:07:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/265", "html_url": "https://github.com/vega/vegafusion/pull/265", "diff_url": "https://github.com/vega/vegafusion/pull/265.diff", "patch_url": "https://github.com/vega/vegafusion/pull/265.patch", "merged_at": "2023-03-19T19:07:56Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/265/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/264", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/264/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/264/events", "html_url": "https://github.com/vega/vegafusion/pull/264", "id": 1630439138, "node_id": "PR_kwDOGJTEcc5MXUGf", "number": 264, "title": "Re-enable zero copy from pyarrow to arrow-rs", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-18T17:10:05Z", "updated_at": "2023-03-18T19:48:16Z", "closed_at": "2023-03-18T19:48:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/264", "html_url": "https://github.com/vega/vegafusion/pull/264", "diff_url": "https://github.com/vega/vegafusion/pull/264.diff", "patch_url": "https://github.com/vega/vegafusion/pull/264.patch", "merged_at": "2023-03-18T19:48:16Z"}, "body": "This PR re-enables the use of the zero-copy interface between pyarrow and arrow-rs.\r\n\r\nThe test that was added previously that failed with the use of the zero-copy interface is now passing, and everything worked fine when using it for the DuckDB integration.\r\n\r\nCloses #125 ", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/264/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/263", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/263/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/263/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/263/events", "html_url": "https://github.com/vega/vegafusion/pull/263", "id": 1630393884, "node_id": "PR_kwDOGJTEcc5MXKIG", "number": 263, "title": "Update Vega and Vega-Lite in VegaFusionWidget", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-18T16:08:52Z", "updated_at": "2023-03-18T20:05:44Z", "closed_at": "2023-03-18T20:05:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/263", "html_url": "https://github.com/vega/vegafusion/pull/263", "diff_url": "https://github.com/vega/vegafusion/pull/263.diff", "patch_url": "https://github.com/vega/vegafusion/pull/263.patch", "merged_at": "2023-03-18T20:05:44Z"}, "body": "Updates the version of Vega-Lite that's bundled with VegaFusionWidget to 4.6.1, which matches Altair 5.0.0rc1.  Use Altair 5.0.0rc1 in tests.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/263/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/262", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/262/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/262/events", "html_url": "https://github.com/vega/vegafusion/pull/262", "id": 1630381794, "node_id": "PR_kwDOGJTEcc5MXHhz", "number": 262, "title": "Various fixes to support updated Taxi Dashboard example", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-18T15:51:09Z", "updated_at": "2023-03-18T19:47:51Z", "closed_at": "2023-03-18T19:47:51Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/262", "html_url": "https://github.com/vega/vegafusion/pull/262", "diff_url": "https://github.com/vega/vegafusion/pull/262.diff", "patch_url": "https://github.com/vega/vegafusion/pull/262.patch", "merged_at": "2023-03-18T19:47:51Z"}, "body": "I'm working on a new version of the [NYC Taxi Dashboard](https://vegafusion.io/example_nyc_taxi.html) example.  To improve the experience of zooming in on the pickup location view, I want to bind the bin extent to the axis scale. e.g.\r\n\r\n```python\r\npickup_chart = base.mark_rect().encode(\r\n    x=alt.X(\r\n        \"pickup_x:Q\",\r\n        bin=alt.Bin(maxbins=width_bins, extent=scales),\r\n        scale=alt.Scale(domain=x_domain),\r\n    ),\r\n    ...\r\n)\r\n```\r\nThis small change uncovered a whole slew of issues, mostly related to signals that have an initial state of `undefined`.\r\n\r\nHere's a full example, based on the new DuckDB connection with an external DuckDB table:\r\n\r\n```python\r\nimport duckdb\r\nimport vegafusion as vf\r\nimport altair as alt\r\n\r\n# Create DuckDB connection and set as the acive VegaFusion connection\r\nconn = duckdb.connect()\r\nvf.runtime.set_connection(conn)\r\n\r\n# Read parquet file\r\nrel = conn.read_parquet(\"./nyc_taxi.parquet\")\r\n\r\n# Clean data and build view named \"taxi\"\r\nrel.query(\"tbl\", \"\"\"\r\n    select * from tbl where tip_amount < 100\r\n\"\"\").to_view(\"taxi\")\r\n\r\n# Build data URL referncing the taxi DuckDB table\r\nsource = \"table://taxi\"\r\n\r\n# Initial domain values for the pickup heatmap\r\nx_domain = [-8.243204e+06, -8.226511e+06]\r\ny_domain = [4.968192e+06, 4.982886e+06]\r\n\r\nwidth_bins = 180\r\nheight_bins = 180\r\n\r\nwidth = 400\r\nheight = 400\r\n\r\n# Build chart\r\nbase = alt.Chart(source, width=width, height=height).transform_calculate(\r\n    pickup_hour=\"utchours(datum.tpep_pickup_datetime)\",\r\n    pickup_day=\"day(datum.tpep_pickup_datetime)\",\r\n    tip_perc=\"datum.tip_amount\",\r\n).transform_filter(\r\n    \"datum.tip_perc < 100\"\r\n)\r\n\r\nscales = alt.selection_interval(\r\n    name=\"pickup_scales\",\r\n    bind='scales',\r\n    # fields=[\"pickup_x\", \"pickup_y\"],\r\n    on=\"[mousedown[event.altKey], window:mouseup] > window:mousemove![event.altKey]\",\r\n    translate=\"[mousedown[event.altKey], window:mouseup] > window:mousemove![event.altKey]\",\r\n    zoom=\"wheel![event.altKey]\"\r\n)\r\n\r\npickup_selection = alt.selection_interval(\r\n    on=\"[mousedown[!event.altKey], window:mouseup] > window:mousemove![!event.altKey]\",\r\n    translate=\"[mousedown[!event.altKey], window:mouseup] > window:mousemove![!event.altKey]\",\r\n    zoom=\"wheel![!event.altKey]\",\r\n)\r\n\r\ndistance_selection = alt.selection_interval(encodings=[\"x\"])\r\nday_hour_selection = alt.selection_interval()\r\n\r\n# Distance\r\ndistance_chart = base.mark_bar().encode(\r\n    x=alt.X(\"trip_distance:Q\", bin=alt.Bin(maxbins=20, extent=[0, 12])),\r\n    y=\"count()\"\r\n).add_selection(\r\n    distance_selection\r\n).transform_filter(\r\n    {\"and\": [\r\n        pickup_selection,\r\n        day_hour_selection\r\n    ]}\r\n)\r\n\r\n# Pickup\r\npickup_chart = base.mark_rect().encode(\r\n    x=alt.X(\r\n        \"pickup_x:Q\",\r\n        bin=alt.Bin(maxbins=width_bins, extent=scales),\r\n        scale=alt.Scale(domain=x_domain),\r\n        axis=alt.Axis(labels=False, ticks=False)\r\n    ),\r\n    y=alt.Y(\r\n        \"pickup_y:Q\",\r\n        bin=alt.Bin(maxbins=height_bins, extent=scales),\r\n        scale=alt.Scale(domain=y_domain),\r\n        axis=alt.Axis(labels=False, ticks=False),\r\n    ),\r\n    opacity=alt.Opacity(\"count():Q\", scale=alt.Scale(type=\"log\", range=[0.5, 1.0]), legend=None),\r\n    # color=alt.value(\"steelblue\")\r\n    color=alt.Color(\"count():Q\", scale=alt.Scale(type=\"log\", scheme=\"purpleblue\", reverse=False), legend=None)\r\n).add_selection(\r\n    scales\r\n).add_selection(\r\n    pickup_selection\r\n).transform_filter(\r\n    {\"and\": [\r\n        scales,\r\n        distance_selection,\r\n        day_hour_selection\r\n    ]}\r\n)\r\n\r\n# Tip percentage\r\ntip_perc_chart = base.mark_rect().encode(\r\n    x=alt.X(\r\n        \"pickup_day:O\", \r\n        scale=alt.Scale(domain=[1, 2, 3, 4, 5, 6, 0]),\r\n        axis=alt.Axis(labelExpr=\"datum.label==1 ? 'Mon': datum.label==0? 'Sun': ''\")\r\n    ),\r\n    y=alt.Y(\"pickup_hour:O\"),\r\n    color=alt.Color(\r\n        'mean(tip_perc):Q', \r\n        scale=alt.Scale(type=\"linear\"),\r\n        legend=alt.Legend(title=\"Tip Ratio\")\r\n    ),\r\n    opacity=alt.condition(day_hour_selection, alt.value(1.0), alt.value(0.3))\r\n).properties(\r\n    width=120\r\n).add_selection(\r\n    day_hour_selection\r\n).transform_filter(\r\n    {\"and\": [\r\n        pickup_selection,\r\n        distance_selection\r\n    ]}\r\n)\r\n\r\nlayout = (\r\n    distance_chart \r\n    | pickup_chart \r\n    | tip_perc_chart\r\n).resolve_scale(\r\n    color=\"independent\"\r\n)\r\n\r\nwidget = vf.jupyter.VegaFusionWidget(\r\n    layout, \r\n    debounce_max_wait=400,\r\n    debounce_wait=200,\r\n)\r\nwidget\r\n```\r\n\r\nhttps://user-images.githubusercontent.com/15064365/226116151-9ba18654-5a15-4e28-90f2-2f151578270b.mov\r\n\r\nThe parquet file is available from https://vegafusion-datasets.s3.amazonaws.com/datashader/nyc_taxi.parquet\r\n\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/262/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/261", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/261/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/261/events", "html_url": "https://github.com/vega/vegafusion/pull/261", "id": 1630317344, "node_id": "PR_kwDOGJTEcc5MW6j1", "number": 261, "title": "Don't cache DuckDB schema of externally registered tables", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-18T13:07:49Z", "updated_at": "2023-03-18T14:41:45Z", "closed_at": "2023-03-18T14:41:45Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/261", "html_url": "https://github.com/vega/vegafusion/pull/261", "diff_url": "https://github.com/vega/vegafusion/pull/261.diff", "patch_url": "https://github.com/vega/vegafusion/pull/261.patch", "merged_at": "2023-03-18T14:41:45Z"}, "body": "Follow up to https://github.com/hex-inc/vegafusion/pull/252.\r\n\r\nWhen a chart references an external duckdb table (using a \"table://{name}\" URL string), we were caching the table's schema the first time it was accessed. But when working interactively, this table's schema may change.\r\n\r\nAfter this PR, we only cache the schema of tables directly registered with the VegaFusion DuckDBConnection.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/261/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/258", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/258/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/258/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/258/events", "html_url": "https://github.com/vega/vegafusion/pull/258", "id": 1629953294, "node_id": "PR_kwDOGJTEcc5MVxmk", "number": 258, "title": "Release 1.1.0-rc3", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-17T21:39:33Z", "updated_at": "2023-03-17T23:20:29Z", "closed_at": "2023-03-17T23:20:29Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/258", "html_url": "https://github.com/vega/vegafusion/pull/258", "diff_url": "https://github.com/vega/vegafusion/pull/258.diff", "patch_url": "https://github.com/vega/vegafusion/pull/258.patch", "merged_at": "2023-03-17T23:20:29Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/258/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/257", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/257/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/257/events", "html_url": "https://github.com/vega/vegafusion/pull/257", "id": 1629824598, "node_id": "PR_kwDOGJTEcc5MVWc3", "number": 257, "title": "All timestamp UDFs should accept nanoseconds / Date32 / Date64", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-17T19:16:50Z", "updated_at": "2023-03-17T21:37:22Z", "closed_at": "2023-03-17T21:37:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/257", "html_url": "https://github.com/vega/vegafusion/pull/257", "diff_url": "https://github.com/vega/vegafusion/pull/257.diff", "patch_url": "https://github.com/vega/vegafusion/pull/257.patch", "merged_at": "2023-03-17T21:37:22Z"}, "body": "DataFusion won't automatically cast from timestamp nanos to timestamp millis due to precision loss. Therefore all of our timestamp UDFs should accept timestamp nanos, and perform the conversion internally if necessary.\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/257/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/256", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/256/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/256/events", "html_url": "https://github.com/vega/vegafusion/pull/256", "id": 1629449694, "node_id": "PR_kwDOGJTEcc5MUE9y", "number": 256, "title": "Improve DuckDB connection consistency", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-17T14:51:47Z", "updated_at": "2023-03-17T17:52:53Z", "closed_at": "2023-03-17T17:52:53Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/256", "html_url": "https://github.com/vega/vegafusion/pull/256", "diff_url": "https://github.com/vega/vegafusion/pull/256.diff", "patch_url": "https://github.com/vega/vegafusion/pull/256.patch", "merged_at": "2023-03-17T17:52:53Z"}, "body": "This PR improves the consistency of the DuckDB connection with the default DataFusion connection:\r\n 1. CSV columns are parsed as strings unless column parse types are provided\r\n 2. When the connection has `fallback=True`, timestamp string parsing is performed by the default DataFusion connection.\r\n\r\nAs a result, many addition pre_transform_spec tests now pass", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/256/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/255", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/255/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/255/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/255/events", "html_url": "https://github.com/vega/vegafusion/pull/255", "id": 1628161172, "node_id": "PR_kwDOGJTEcc5MPwW3", "number": 255, "title": "Fixes for 1.1.0rc2", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-16T19:49:52Z", "updated_at": "2023-03-16T23:08:17Z", "closed_at": "2023-03-16T23:08:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/255", "html_url": "https://github.com/vega/vegafusion/pull/255", "diff_url": "https://github.com/vega/vegafusion/pull/255.diff", "patch_url": "https://github.com/vega/vegafusion/pull/255.patch", "merged_at": "2023-03-16T23:08:16Z"}, "body": "Misc fixes to 1.1.0rc1:\r\n\r\nDuckDB extension refinements:\r\n - icu is bundled with the Python duckdb library, so it doesn't need to be installed\r\n - Only install and load httpfs when constructing the duckdb connection internalls (not when the connection is passed in), and convert extension install/load exceptions into a warning.\r\n\r\nActually fix #250 by handling geo interface objects before checking if they are Pandas DataFrames.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/255/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/253", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/253/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/253/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/253/events", "html_url": "https://github.com/vega/vegafusion/pull/253", "id": 1626439974, "node_id": "PR_kwDOGJTEcc5MJ6tb", "number": 253, "title": "Release 1.1.0-rc1", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-15T23:50:51Z", "updated_at": "2023-03-16T12:08:07Z", "closed_at": "2023-03-16T12:08:07Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/253", "html_url": "https://github.com/vega/vegafusion/pull/253", "diff_url": "https://github.com/vega/vegafusion/pull/253.diff", "patch_url": "https://github.com/vega/vegafusion/pull/253.patch", "merged_at": "2023-03-16T12:08:07Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/253/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/252", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/252/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/252/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/252/events", "html_url": "https://github.com/vega/vegafusion/pull/252", "id": 1626158273, "node_id": "PR_kwDOGJTEcc5MI9Wu", "number": 252, "title": "Support external DuckDB connections", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-15T19:31:44Z", "updated_at": "2023-03-15T23:48:50Z", "closed_at": "2023-03-15T23:48:50Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/252", "html_url": "https://github.com/vega/vegafusion/pull/252", "diff_url": "https://github.com/vega/vegafusion/pull/252.diff", "patch_url": "https://github.com/vega/vegafusion/pull/252.patch", "merged_at": "2023-03-15T23:48:50Z"}, "body": "This PR is a follow up to https://github.com/hex-inc/vegafusion/pull/249 that makes it easier to integrate VegaFusion into existing DuckDB workflows.  Now, a VegaFusion connection may be created from an existing DuckDB connection, and data URLs in charts may reference tables that are registered with the connection.\r\n\r\nHere's an example:\r\n\r\n```python\r\nimport altair as alt\r\nimport vegafusion as vf\r\nimport duckdb\r\n\r\nvf.enable()\r\n\r\nconn = duckdb.connect()\r\nvf.runtime.set_connection(conn)\r\n\r\nmovies_rel = conn.read_parquet(\"https://vegafusion-datasets.s3.amazonaws.com/vega/movies_1m.parquet\")\r\nmovies_rel.to_view(\"movies\")\r\n\r\nchart = alt.Chart(\"table://movies\").mark_bar().encode(\r\n    alt.X(\"IMDB_Rating:Q\", bin=True),\r\n    alt.Y(\"count()\")\r\n)\r\nchart\r\n``` \r\n![visualization (2)](https://user-images.githubusercontent.com/15064365/225432098-febfd62f-dbde-4def-ac1f-f6f52b6f8f58.png)\r\n\r\nTo make it easier to type out, this PR adds support for referencing inline datasets with a \"table://...\" prefix as an alternative to \"vegafusion+dataset://\"", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/252/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/251", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/251/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/251/events", "html_url": "https://github.com/vega/vegafusion/pull/251", "id": 1625988461, "node_id": "PR_kwDOGJTEcc5MIYA7", "number": 251, "title": "Support DataFrame Interchange Protocol", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-15T17:46:21Z", "updated_at": "2023-03-15T19:08:05Z", "closed_at": "2023-03-15T19:08:04Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/251", "html_url": "https://github.com/vega/vegafusion/pull/251", "diff_url": "https://github.com/vega/vegafusion/pull/251.diff", "patch_url": "https://github.com/vega/vegafusion/pull/251.patch", "merged_at": "2023-03-15T19:08:04Z"}, "body": "Closes https://github.com/hex-inc/vegafusion/issues/243\r\n\r\nThis PR adds support for Python objects that implement the [DataFrame Interchange Protocol](https://data-apis.org/dataframe-protocol/latest/index.html). Altair is adding support for this protocol in version 5.\r\n\r\nHere is an example with polars (and Altair 5 and pyarrow 11.0.0)\r\n\r\n```python\r\nimport vegafusion as vf\r\nimport altair as alt\r\nimport polars as pl\r\n\r\nvf.enable()\r\npl_df = pl.read_parquet(\"https://vegafusion-datasets.s3.amazonaws.com/vega/movies_1m.parquet\")\r\n\r\nchart = alt.Chart(pl_df).mark_bar().encode(\r\n    alt.X(\"IMDB_Rating:Q\", bin=True),\r\n    alt.Y(\"count()\")\r\n)\r\nchart\r\n```\r\n![visualization (1)](https://user-images.githubusercontent.com/15064365/225399312-45597a71-1201-41ae-a6ba-be939368b3ab.png)\r\n\r\nInternally, the polars DataFrame is zero-copy converted into a PyArrow table, which is then processed by DataFusion. No conversion to/from pandas is involved, so it's really fast.  Here's a speed comparison\r\n\r\n### Polars\r\n\r\n```python\r\n%%time\r\npl_df = pl.read_parquet(\"https://vegafusion-datasets.s3.amazonaws.com/vega/movies_1m.parquet\")\r\n```\r\n```\r\nCPU times: user 297 ms, sys: 136 ms, total: 433 ms\r\nWall time: 1.2 s\r\n```\r\n```python\r\n%%time\r\nchart = alt.Chart(pl_df).mark_bar().encode(\r\n    alt.X(\"IMDB_Rating:Q\", bin=True),\r\n    alt.Y(\"count()\")\r\n)\r\nvf.transformed_data(chart)\r\n```\r\n```\r\nCPU times: user 231 ms, sys: 69.5 ms, total: 301 ms\r\nWall time: 223 ms\r\n```\r\n\r\n### pandas\r\n```python\r\n%%time\r\npd_df = pd.read_parquet(\"https://vegafusion-datasets.s3.amazonaws.com/vega/movies_1m.parquet\")\r\n```\r\n```\r\nCPU times: user 454 ms, sys: 203 ms, total: 657 ms\r\nWall time: 3.2 s\r\n```\r\n\r\n```python\r\n%%time\r\nchart = alt.Chart(pd_df).mark_bar().encode(\r\n    alt.X(\"IMDB_Rating:Q\", bin=True),\r\n    alt.Y(\"count()\")\r\n)\r\nvf.transformed_data(chart)\r\n```\r\n```\r\nCPU times: user 558 ms, sys: 101 ms, total: 659 ms\r\nWall time: 601 ms\r\n```\r\n\r\n## Geo Interface\r\nBy being more careful about the input data types, this PR also closes https://github.com/hex-inc/vegafusion/issues/250", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/251/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/249", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/249/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/249/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/249/events", "html_url": "https://github.com/vega/vegafusion/pull/249", "id": 1623517281, "node_id": "PR_kwDOGJTEcc5MACVv", "number": 249, "title": "Add support for Python SQL connections and Python DuckDB implementation", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-14T13:47:02Z", "updated_at": "2023-03-16T19:20:30Z", "closed_at": "2023-03-15T14:16:40Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/249", "html_url": "https://github.com/vega/vegafusion/pull/249", "diff_url": "https://github.com/vega/vegafusion/pull/249.diff", "patch_url": "https://github.com/vega/vegafusion/pull/249.patch", "merged_at": "2023-03-15T14:16:40Z"}, "body": "## Overview\r\nThis PR introduces the ability to define SQL connections in Python. To prove out the idea, a Python DuckDB connection is implemented.\r\n\r\n## Implementation\r\n\r\n### Python SqlConnection\r\nAn `SqlConnection` Python abstract class is defined in `python/vegafusion/vegafusion/connection/__init__.py`. Subclasses are required to implement three methods:\r\n - `tables(self) -> Dict[str, pa.Schema]` to return a dict from registered table names to pyarrow schemas.\r\n - `dialect(cls) -> str` to return the name of the SQL dialect that the connection expects. These correspond to the dialects defined in the `vegafusion-sql` crate.\r\n - `fetch_query(self, query: str, schema: pa.Schema) -> pa.Table` to evaluate the requested SQL query and return the result as a pyarrow Table.  The requested query may reference named tables returned by the `tables` method. The expected result schema is provided.\r\n\r\nSQL connections to read-only databases would typically implement only these three methods (Though we don't have an example of this yet).  Additional optional methods may be overridden by connections (like duckdb) that support dynamic registration of tables from in-memory data structures.\r\n\r\nFor example:\r\n - `register_arrow(self, name: str, table: pa.Table, temporary: bool = False)` may be implemented to support the dynamic registration of a pyarrow Table for use in `fetch_query`. \r\n\r\nIn `vegafusion-python-embed/src/connection.rs`, a Rust `PySqlConnection` struct is defined that implements the Rust `Connection` and `SqlConnection` traits. `PySqlConnection` wraps a Python object (through PyO3) that is a subclass of the Python `SqlConnection` abstract class.\r\n\r\n### Fallback\r\nPython SQL connections may optionally declare that they should fall back to the built-in DataFusion connection when SQL is encountered that is not supported by the connection's dialect. Fallback defaults to True.\r\n\r\n### Multi-threading\r\nTo work around deadlocking the Python interpreter, it was necessary to configure the tokio runtime in single-threaded mode when a Python SqlConnection is registered with the VegaFusion runtime.  We still use a multi-threaded tokio runtime for the pure Rust DataFusion connection.\r\n\r\n## Usage\r\nHere is an example of using the DuckDB connection from Python\r\n\r\n```python\r\nimport vegafusion as vf\r\nimport pandas as pd\r\nvf.runtime.set_connection(\"duckdb\")\r\nvf.enable()\r\n```\r\n```python\r\nimport pandas as pd\r\nimport altair as alt\r\n\r\nflights = pd.read_parquet(\r\n    \"https://vegafusion-datasets.s3.amazonaws.com/vega/flights_1m.parquet\"\r\n)\r\n\r\ndelay_hist = alt.Chart(flights).mark_bar().encode(\r\n    alt.X(\"delay\", bin=alt.Bin(maxbins=30)),\r\n    alt.Y(\"count()\")\r\n)\r\ndelay_hist\r\n```\r\n![visualization](https://user-images.githubusercontent.com/15064365/225320926-00182080-b402-4f44-974c-c7fa480623e8.png)\r\n\r\n## Performance\r\nMost significant benefit of the DuckDB connection is its ability to bind tables directly to Pandas DataFrames without serialization to arrow.  This results in significant speedups with the mime renderer and the `vf.transformed_data` function. I have not seen much benefit in the widget renderer, since in this case the DataFrame is always serialized to arrow and written to disk.  In this case, my anecdotal observation is that the DuckDB and DataFusion connections have very similar performance.\r\n\r\nHere's an example of the speedup when calling `transformed_data` on a histogram chart of a 1 million row movies dataset.\r\n\r\n```python\r\nimport vegafusion as vf\r\nimport pandas as pd\r\nimport altair as alt\r\n\r\n# Load large movies dataset\r\nsource = \"https://vegafusion-datasets.s3.amazonaws.com/vega/movies_1m.parquet\"\r\nmovies = pd.read_parquet(source)\r\n\r\nchart = alt.Chart(movies).mark_bar().encode(\r\n    alt.X(\"IMDB_Rating\", bin=True),\r\n    alt.Y(\"count()\")\r\n)\r\n``` \r\nFirst with the DataFusion connection\r\n```\r\nvf.runtime.set_connection(\"datafusion\")\r\n%time vf.transformed_data(chart)\r\n```\r\n```\r\nCPU times: user 656 ms, sys: 136 ms, total: 792 ms\r\nWall time: 731 ms\r\n```\r\n\r\nNow with the DuckDB connection\r\n```python\r\nvf.runtime.set_connection(\"duckdb\")\r\n%time vf.transformed_data(chart)\r\n```\r\n```\r\nCPU times: user 265 ms, sys: 8.81 ms, total: 274 ms\r\nWall time: 62.5 ms\r\n```\r\nOver 10x faster! \ud83c\udf89 \r\n\r\n## Limitations\r\nThe DuckDB connection does have some limitations\r\n\r\n - The DuckDB CSV reader sometimes has trouble loading CSV files from the jsdelivr URLs in the vega datases package. Sometimes it results in an error complaining that the response does not include Content Length. It's working on the moment so I don't have the exact error at hand. This PR changes some of these URLs to equivalent URLs that pull files from GitHub where there is no issue.\r\n - DuckDB doesn't have a function to automatically parse a wide variety of timestamp formats. Vega relies on the browser's `Date` class to parse a variety of date formats, and DataFusion defines a custom UDF to match this behavior. Because of this, the DuckDB connection will fail with date parsing errors when non ISO-8601 timestamp strings are used as timestamps.\r\n - Relatedly, DataFusion follows an idiosyncrasy of the browser's timestamp parsing logic. timestamp strings are always parsed in the local timezone unless they are of the form YYYY-MM-DD, in which case they are parsed in UTC. The DuckDB connection will consistently parse all supported timestamp strings in the local timezone. \r\n\r\nNone of these limitations are relevant when using a Pandas DataFrame as the data source for a chart (as long as timestamp strings are already converted to timestamps), but they come up when loading data from external URLs, as is the case in a lot of the Altair gallery examples.  This is why I don't foresee changing the default connection to DuckDB in the near future.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/249/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/248", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/248/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/248/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/248/events", "html_url": "https://github.com/vega/vegafusion/pull/248", "id": 1612123934, "node_id": "PR_kwDOGJTEcc5LZ_FP", "number": 248, "title": "Forward port 1.0.4 fixes to main", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-06T20:06:59Z", "updated_at": "2023-03-06T23:37:56Z", "closed_at": "2023-03-06T23:37:55Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/248", "html_url": "https://github.com/vega/vegafusion/pull/248", "diff_url": "https://github.com/vega/vegafusion/pull/248.diff", "patch_url": "https://github.com/vega/vegafusion/pull/248.patch", "merged_at": "2023-03-06T23:37:55Z"}, "body": "Forward parts the 1.0.4 fixes from https://github.com/hex-inc/vegafusion/pull/246 into main", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/248/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/244", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/244/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/244/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/244/events", "html_url": "https://github.com/vega/vegafusion/pull/244", "id": 1607314713, "node_id": "PR_kwDOGJTEcc5LJ-o6", "number": 244, "title": "Add initial SQL generation dialect tests", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-02T18:44:55Z", "updated_at": "2023-03-03T16:48:41Z", "closed_at": "2023-03-03T16:48:41Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/244", "html_url": "https://github.com/vega/vegafusion/pull/244", "diff_url": "https://github.com/vega/vegafusion/pull/244.diff", "patch_url": "https://github.com/vega/vegafusion/pull/244.patch", "merged_at": "2023-03-03T16:48:41Z"}, "body": "This PR adds a collection of tests for SQL generation across a range of SQL dialects.  This is a foundational PR toward the larger project of giving VegaFusion the ability to dispatch computation to external databases.\r\n\r\nExpected queries across dialects were validated by hand and then save in `toml` files for comparison, so this work does not introduce live connections to any external database systems. We may still choose to do that in the future, but this was the fastest way to achieve good test coverage across a wide set of dialects.\r\n\r\nThis PR also includes a variety of refactors of our DataFusion UDFs to make them map more cleanly to concepts across dialects.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/244/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/242", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/242/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/242/events", "html_url": "https://github.com/vega/vegafusion/pull/242", "id": 1588581696, "node_id": "PR_kwDOGJTEcc5KLYmx", "number": 242, "title": "Update to DataFusion 18 and Arrow 32", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-17T00:36:38Z", "updated_at": "2023-02-17T13:55:38Z", "closed_at": "2023-02-17T13:44:47Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/242", "html_url": "https://github.com/vega/vegafusion/pull/242", "diff_url": "https://github.com/vega/vegafusion/pull/242.diff", "patch_url": "https://github.com/vega/vegafusion/pull/242.patch", "merged_at": "2023-02-17T13:44:47Z"}, "body": "This PR updates DataFusion to 18 and Arrow to 32.  All of our fixes have been merged upstream, so for the first time in a while, we can pull these dependencies off of crates.io instead of from custom git branches! \ud83c\udf89 ", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/242/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/241", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/241/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/241/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/241/events", "html_url": "https://github.com/vega/vegafusion/pull/241", "id": 1579969437, "node_id": "PR_kwDOGJTEcc5JumBK", "number": 241, "title": "Refactor crate structure", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-10T16:08:50Z", "updated_at": "2023-02-10T19:58:59Z", "closed_at": "2023-02-10T19:58:59Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/241", "html_url": "https://github.com/vega/vegafusion/pull/241", "diff_url": "https://github.com/vega/vegafusion/pull/241.diff", "patch_url": "https://github.com/vega/vegafusion/pull/241.patch", "merged_at": "2023-02-10T19:58:59Z"}, "body": "This PR includes a significant refactor of the VegaFusion crate structure. Here are the new crates:\r\n\r\n## Crates \r\n\r\n### vegafusion-common\r\nA subset of the functionality of `vegafusion-core` was extracted into `vegafusion-common`. This includes the error struct and base data structures. This is now a dependency of `vegafusion-core` and the new `vegafusion-dataframe` crates.\r\n\r\n### vegafusion-dataframe\r\nThe `DataFrame` and `Connection` traits have been pulled out into a `vegafusion-dataframe` crate.  This is used as the dependency of `vegafusion-runtime`, this way there is no hard dependency on `SqlDataFrame` and `SqlConnection`.\r\n\r\n### vegafusion-sql\r\nThis crate provides the `SqlConnection` and `SqlDataFrame` structs with implement the `Connection` and `DataFrame` traits from the `vegafusion-dataframe` crate using SQL.  The functionality for generating SQL string across dialects is always available in the crate. Optional support for evaluating the queries is enabled by feature flags with a `-conn` suffix.\r\n\r\nThe `datafusion-conn` and `sqlite-conn` feature flags are currently supported.\r\n\r\n### vegafusion-datafusion-udfs\r\nThis crate contains the definitions of the DataFusion UDFs that are used to implement select Vega expression functions and transforms. These UDFs are used in two places.\r\n - The `DataFusionConnection` provided by `vegafusion-sql` adds these UDFs to its `SessionContext` so that they are available for use in SQL querires.\r\n - The `vegafusion-runtime` crate uses these UDFs for the evaluation of signal expressions and for simplifying expressions passed to the `filter` and `formula` transforms. Note: Even when a non-DataFusion Connection is used, DataFusion is still used for signal evaluation and expression simplification.\r\n\r\n### vegafusion-runtime\r\nThis crate was renamed from `vegafusion-rt-datafusion` to `vegafusion-runtime`.  Along with this, the `TaskGraphRuntime`  struct was renamed to `VegaFusionRuntime`.\r\n\r\n### Other refactoring\r\nThe `VegaFusionRuntime` struct now accepts a `Arc<dyn Connection>` in the constructor. This defines the connection that the runtime uses by default. Currently `vegafusion-python-embed` sets this to `DataFusionConnection`.\r\n\r\nThis change made it possible to remove the dependency on `datafusion-core` from `vegafusion-runtime`.  Now, the only time we depend on all of datafusion is when the `datafusion-conn` feature flag is enabled on the `vegafusion-sql` crate.\r\n\r\n## Motivation\r\nThis work lays the foundation for several exciting possibilities:\r\n\r\n - Non-datafusion SQL dialects and execution connections can be added to `vegafusion-sql`, and then used in `vegafusion-runtime` with no changes to that crate.\r\n - vegafusion-runtime should now compile to WASM (since there is no top-level datafusion dependency, which was a difficulty in the past). Once the DuckDB SQL dialect is supported, it should be possible to compile the runtime to WASM and use DuckDB WASM for execution.\r\n - Non-SQL implementations of the `DataFrame` and `Connection` traits can be developed. e.g. `vegafusion-polars`, `vegafusion-substrait`, etc.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/241/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/239", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/239/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/239/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/239/events", "html_url": "https://github.com/vega/vegafusion/pull/239", "id": 1566845757, "node_id": "PR_kwDOGJTEcc5JC_aP", "number": 239, "title": "SQL refactoring", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-01T21:17:24Z", "updated_at": "2023-02-02T12:37:16Z", "closed_at": "2023-02-02T12:37:15Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/239", "html_url": "https://github.com/vega/vegafusion/pull/239", "diff_url": "https://github.com/vega/vegafusion/pull/239.diff", "patch_url": "https://github.com/vega/vegafusion/pull/239.patch", "merged_at": "2023-02-02T12:37:15Z"}, "body": "## Overview\r\nThis PR includes various refactors that are important foundations for later adding support for evaluating VegaFusion's implementation of Vega transforms on alternative (other than DataFusion) execution backends.\r\n\r\nThis PR should result in no changes to VegaFusion's behavior, public interfaces, or crate layout.\r\n\r\n## Changes\r\n\r\nCommits [81c0fc0](https://github.com/hex-inc/vegafusion/pull/239/commits/81c0fc0c9d74bb0e79786916d312420274ab03b1), [4625877](https://github.com/hex-inc/vegafusion/pull/239/commits/46258772fdd5ce03fb2a1b45962c0bc9f14d3c25), [11e8a52](https://github.com/hex-inc/vegafusion/pull/239/commits/11e8a52cbc8fd0d0b653955a1a50468a779cecf0), [23dde46](https://github.com/hex-inc/vegafusion/pull/239/commits/23dde46d30f069639a7ef9ea96ce608347df03fe), [ab4b320](https://github.com/hex-inc/vegafusion/pull/239/commits/ab4b3203c3d1238a4215e0188127d5768852cfc8), [ab4b320](https://github.com/hex-inc/vegafusion/pull/239/commits/ab4b3203c3d1238a4215e0188127d5768852cfc8) and [6b89419](https://github.com/hex-inc/vegafusion/pull/239/commits/6b89419b1319d070c106b8ca54d9ee917990cb3d) move all of the direct SQL string manipulation logic out of the transform implementations and into `SqlDataFrame` methods. This results in the creation of three new `SqlDataFrame` methods: `fold`, `impute`, and `joinaggregate`.  The `chain_query_*` methods can then be made private. The result is that transform implementations only deal with DataFusion expressions and the `SqlDataFrame` interface. They no longer care about the dialect of SQL that's used (or whether SQL is used at all) to evaluate these data frame methods.\r\n\r\nPreviously, the schema of an `SqlDataFrame` was computed by converting the data frame's SQL into DataFusion's dialect of SQL and then using DataFusion to infer the result type of the query.  This resulted in a dependency on DataFusion's SQL dialect.  Commit [f738fc9](https://github.com/hex-inc/vegafusion/pull/239/commits/f738fc9c9de763919fb5d8a5e283916e29f4021b) removes the dependency by manually propagating the SqlDataFrame's schema all of it's methods.  This opens the door to having SqlDataFrame generate dialect dependent SQL.\r\n\r\n[70cca4b](https://github.com/hex-inc/vegafusion/pull/239/commits/70cca4b3a9886af71fd054fcb16694a45257222a) extracts the `SqlDataFrame` methods required by the VegaFusion transform implementation into a new `DataFusion` trait.  The transform implementations now input and output `Arc<dyn DataFrame>` instances rather than `&SqlDataFrame` instances.  `SqlDataFrame` is currently the only implementation of this trait, but this refactor opens the door to supporting non-SQL backends (e.g. like [polars](https://github.com/pola-rs/polars)) in the future.\r\n\r\n[383b571](https://github.com/hex-inc/vegafusion/pull/239/commits/383b5712bf970fbd979c79e9ae90bf46b796b8ce) extracts a `Connection` trait from the `SqlConnection` struct. The `DataFrame` trait now has an associated `Connection` trait.  The existing logic creating `SqlDataFrame` instances from CSV files and `VegaFusionTable` instances is moved into methods on the `Connection` trait. the `DataFusionConnection` struct implements both `Connection` and `SqlConnection`.  This opens the door for using other execution backends for csv parsing and for initializing DataFrame's from inline datasets.\r\n\r\n[855224a](https://github.com/hex-inc/vegafusion/pull/239/commits/855224a2313b1be80415a83029e458f5ba84c510) adds a top-level `Connection` instance to the `TaskGraphRuntime`.  Right now this value is hard-coded to an instance of `DataFusionConnection`, but eventually we'll make this connection configurable.\r\n\r\nFinally, [44f5c5f](https://github.com/hex-inc/vegafusion/pull/239/commits/44f5c5f5fd5b79dff9b3dc3bd42125c066e8f9b6) removes the dependency on sqlgen.  `sqlgen` is a fork of sqlparser-rs I was experimenting with. My prior plan was to have VegaFusion generate a simple dialect of SQL. sqlgen would parse this simple dialect and then translate it to other dialects.  This has proven to be a much more complex problem than having the `SqlDataFrame` methods generate dialect-specialized SQL directly. This commit replaces `sqlgen` with the upstream `sqlparser-rs` crate. A `Dialect` configuration struct is added that specializes the translation of DataFusion expressions to SqlParser AST nodes.\r\n\r\n\r\n \r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/239/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/238", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/238/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/238/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/238/events", "html_url": "https://github.com/vega/vegafusion/pull/238", "id": 1562966253, "node_id": "PR_kwDOGJTEcc5I18DR", "number": 238, "title": "Release 1.0.3", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-30T18:23:52Z", "updated_at": "2023-01-30T21:08:45Z", "closed_at": "2023-01-30T21:08:45Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/238", "html_url": "https://github.com/vega/vegafusion/pull/238", "diff_url": "https://github.com/vega/vegafusion/pull/238.diff", "patch_url": "https://github.com/vega/vegafusion/pull/238.patch", "merged_at": "2023-01-30T21:08:45Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/238/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/237", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/237/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/237/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/237/events", "html_url": "https://github.com/vega/vegafusion/pull/237", "id": 1562705382, "node_id": "PR_kwDOGJTEcc5I1D2P", "number": 237, "title": "Updates for clippy v1.67.0", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-30T15:52:49Z", "updated_at": "2023-01-30T16:03:02Z", "closed_at": "2023-01-30T16:03:02Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/237", "html_url": "https://github.com/vega/vegafusion/pull/237", "diff_url": "https://github.com/vega/vegafusion/pull/237.diff", "patch_url": "https://github.com/vega/vegafusion/pull/237.patch", "merged_at": "2023-01-30T16:03:02Z"}, "body": "Various updates to comply with the newly released clippy 1.67.0", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/237/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/236", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/236/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/236/events", "html_url": "https://github.com/vega/vegafusion/pull/236", "id": 1562544626, "node_id": "PR_kwDOGJTEcc5I0hOA", "number": 236, "title": "Handle special characters in projection pushdown", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-30T14:23:24Z", "updated_at": "2023-01-30T18:07:19Z", "closed_at": "2023-01-30T18:07:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/236", "html_url": "https://github.com/vega/vegafusion/pull/236", "diff_url": "https://github.com/vega/vegafusion/pull/236.diff", "patch_url": "https://github.com/vega/vegafusion/pull/236.patch", "merged_at": "2023-01-30T18:07:19Z"}, "body": "This PR adds a previously failing test in e7e8d2ad7170237654630c925a429f5fdde59045. The issue is that projection pushdown was creating a transform that looked like this:\r\n\r\n```json\r\n{\r\n  \"type\": \"project\",\r\n  \"fields\": [\"pe.riod\", \"pe\\\\.riod\"]\r\n}\r\n```\r\n\r\nThe resulting error was:\r\n```\r\nProjections require unique expression names but the expression \\\"tbl_1.pe.riods\\\" at position 1 and \\\"tbl_1.pe.riods\\\" at position 2 have the same name\r\n```\r\n\r\nTo fix the issue, 81f5aef85c61b4967e64945ddd2d62978b46cb0d updates the `transform_columns` transform spec implementations to unescape fields before including them in `ColumnUsage` sets. \r\n\r\n4794951e007565ef1e39c404361992a5ad760f59 updates the (un)escape logic to handle periods and brackets.\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/236/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/235", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/235/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/235/events", "html_url": "https://github.com/vega/vegafusion/pull/235", "id": 1556926668, "node_id": "PR_kwDOGJTEcc5Ihx4x", "number": 235, "title": "Release version 1.0.2", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-25T16:22:39Z", "updated_at": "2023-01-25T19:46:21Z", "closed_at": "2023-01-25T19:46:20Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/235", "html_url": "https://github.com/vega/vegafusion/pull/235", "diff_url": "https://github.com/vega/vegafusion/pull/235.diff", "patch_url": "https://github.com/vega/vegafusion/pull/235.patch", "merged_at": "2023-01-25T19:46:20Z"}, "body": "Bump version to 1.0.2. This is a patch release to include https://github.com/hex-inc/vegafusion/pull/234", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/235/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/234", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/234/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/234/events", "html_url": "https://github.com/vega/vegafusion/pull/234", "id": 1556743829, "node_id": "PR_kwDOGJTEcc5IhKi7", "number": 234, "title": "Improve fidelity of distinct aggregate and pivot transform", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-25T14:23:35Z", "updated_at": "2023-01-25T16:18:57Z", "closed_at": "2023-01-25T16:18:56Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/234", "html_url": "https://github.com/vega/vegafusion/pull/234", "diff_url": "https://github.com/vega/vegafusion/pull/234.diff", "patch_url": "https://github.com/vega/vegafusion/pull/234.patch", "merged_at": "2023-01-25T16:18:56Z"}, "body": "This PR includes a few fixes to improve the fidelity (the match with stock Vega) of the `distinct` aggregate function and the `pivot`. It also works around the DataFusion error reported in https://github.com/apache/arrow-datafusion/issues/5034.\r\n\r\nChanges:\r\nVega's implementation of `distinct` considers NULL to be a distinct value whereas SQL ignores NULL values before counting distinct values. To align our implementation with Vega's, 40098407a361902636c52ba33330dd1a86695c2b updates the `distinct` aggregation function to add one if the column contains any NULL values.  \r\n\r\nd876d0b19057bc12c048450ca250c9248529a1e2 and e13402cf8782d1a01c98fb1041fd598c7389ab84 update DataFusion to 16.1.0 with backports as described in https://github.com/jonmmease/arrow-datafusion/pull/139.\r\n\r\n455201fd830c50fb862ab9ed2fcfc7b118fa376d Adds a custom spec that previously triggers the error reported in https://github.com/apache/arrow-datafusion/issues/5034.\r\n\r\n3fd34c62249909ffb6d23533fd3b899385bbb617 makes two updates to the pivot transform:\r\n 1. The implementation no longer performs a join per pivoted value and instead uses SQL `CASE` statements inside the aggregation functions to filter down to the values the pivot value.  This avoids https://github.com/apache/arrow-datafusion/issues/5034, and should improve performance for pivots that introduce many columns as we're no longer performing a join per added column.\r\n 2. If the pivoted column includes NULL values, then a column named \"null\" will be generated. This. matches Vega. There was some additional work required to make sure the NULL column sorts as the first column for the purpose of limiting.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/234/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/233", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/233/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/233/events", "html_url": "https://github.com/vega/vegafusion/pull/233", "id": 1551929996, "node_id": "PR_kwDOGJTEcc5IRJki", "number": 233, "title": "1.0.1 Fixes", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-21T22:36:14Z", "updated_at": "2023-01-22T19:25:32Z", "closed_at": "2023-01-22T19:25:31Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/233", "html_url": "https://github.com/vega/vegafusion/pull/233", "diff_url": "https://github.com/vega/vegafusion/pull/233.diff", "patch_url": "https://github.com/vega/vegafusion/pull/233.patch", "merged_at": "2023-01-22T19:25:31Z"}, "body": "A few fixes for 1.0.1. The [conda package build](https://github.com/conda-forge/vegafusion-python-embed-feedstock/pull/22#issuecomment-1399470649) uncovered a few things:\r\n\r\n - For some reason, [protobuf-src](https://crates.io/crates/protobuf-src) isn't building successfully with conda-build.  We had configured things to always get protoc from `protobuf-src` on Mac/Linux, and rely on an external protoc install on Windows. This PR adds a `--features=protobuf-src` flag to all of the packages to configure whether to build protoc from source or rely on an external installation. All of the GitHub actions CI jobs set `protobuf-src` for Mac/Linux, but for the conda build we'll rely on the `protobuf` conda package.\r\n - It seems the top-level `[patch.crates-io]` configuration isn't applied when the `vegafusion-python-embed` is rebuilt from the sdist package.  So this PR moves the specification of the DataFusion branch to the dependency locations.\r\n- Altair imports are updated based on suggestions from @binste in https://github.com/hex-inc/vegafusion/pull/230.\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/233/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/231", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/231/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/231/events", "html_url": "https://github.com/vega/vegafusion/pull/231", "id": 1551823773, "node_id": "PR_kwDOGJTEcc5IQ12S", "number": 231, "title": "Release 1.0.0", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-21T15:02:59Z", "updated_at": "2023-01-21T16:51:40Z", "closed_at": "2023-01-21T16:51:40Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/231", "html_url": "https://github.com/vega/vegafusion/pull/231", "diff_url": "https://github.com/vega/vegafusion/pull/231.diff", "patch_url": "https://github.com/vega/vegafusion/pull/231.patch", "merged_at": "2023-01-21T16:51:40Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/230", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/230/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/230/events", "html_url": "https://github.com/vega/vegafusion/pull/230", "id": 1551796706, "node_id": "PR_kwDOGJTEcc5IQw15", "number": 230, "title": "Add forward compatibility with Altair 5", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-21T13:09:13Z", "updated_at": "2023-01-22T12:08:35Z", "closed_at": "2023-01-21T15:02:18Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/230", "html_url": "https://github.com/vega/vegafusion/pull/230", "diff_url": "https://github.com/vega/vegafusion/pull/230.diff", "patch_url": "https://github.com/vega/vegafusion/pull/230.patch", "merged_at": "2023-01-21T15:02:18Z"}, "body": "Adds forward compatibility with Altair 5 (which is not yet released)", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/230/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/229", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/229/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/229/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/229/events", "html_url": "https://github.com/vega/vegafusion/pull/229", "id": 1551374094, "node_id": "PR_kwDOGJTEcc5IPa09", "number": 229, "title": "Update repo links for move to hex-inc org", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-20T20:00:10Z", "updated_at": "2023-01-20T20:35:44Z", "closed_at": "2023-01-20T20:35:44Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/229", "html_url": "https://github.com/vega/vegafusion/pull/229", "diff_url": "https://github.com/vega/vegafusion/pull/229.diff", "patch_url": "https://github.com/vega/vegafusion/pull/229.patch", "merged_at": "2023-01-20T20:35:43Z"}, "body": "Updates various project links now that the VegaFusion repos have moved under the `hex-inc` GitHub org", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/229/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/229/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/228", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/228/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/228/events", "html_url": "https://github.com/vega/vegafusion/pull/228", "id": 1549173053, "node_id": "PR_kwDOGJTEcc5IIBjc", "number": 228, "title": "Add preserve_interactivity option to pre_transform_spec", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-19T13:34:56Z", "updated_at": "2023-01-19T16:42:53Z", "closed_at": "2023-01-19T16:42:53Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/228", "html_url": "https://github.com/vega/vegafusion/pull/228", "diff_url": "https://github.com/vega/vegafusion/pull/228.diff", "patch_url": "https://github.com/vega/vegafusion/pull/228.patch", "merged_at": "2023-01-19T16:42:53Z"}, "body": "Setting preserve_interactivity=False restores the pre-1.0 default behavior of performing all supported transforms even if they break interactivity.\r\n\r\nThis mode is still desirable for cases like static image export where interactivity is not required and it is preferable to perform all supported data transforms", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/228/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/227", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/227/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/227/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/227/events", "html_url": "https://github.com/vega/vegafusion/pull/227", "id": 1536789374, "node_id": "PR_kwDOGJTEcc5HkDS9", "number": 227, "title": "Fix regression in length function", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-17T17:44:52Z", "updated_at": "2023-01-17T22:37:27Z", "closed_at": "2023-01-17T22:37:26Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/227", "html_url": "https://github.com/vega/vegafusion/pull/227", "diff_url": "https://github.com/vega/vegafusion/pull/227.diff", "patch_url": "https://github.com/vega/vegafusion/pull/227.patch", "merged_at": "2023-01-17T22:37:26Z"}, "body": "This fixes a 1.0.0rc1 regression related to type inference / coercion.  The workaround here is to have the length function return f64 values instead of i32.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/227/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/226", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/226/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/226/events", "html_url": "https://github.com/vega/vegafusion/pull/226", "id": 1533962565, "node_id": "PR_kwDOGJTEcc5HalVX", "number": 226, "title": "Update fold transform to use UNION ALL instead of UNION for efficiency", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-15T19:14:47Z", "updated_at": "2023-01-16T11:44:01Z", "closed_at": "2023-01-16T11:44:01Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/226", "html_url": "https://github.com/vega/vegafusion/pull/226", "diff_url": "https://github.com/vega/vegafusion/pull/226.diff", "patch_url": "https://github.com/vega/vegafusion/pull/226.patch", "merged_at": "2023-01-16T11:44:01Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/226/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/224", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/224/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/224/events", "html_url": "https://github.com/vega/vegafusion/pull/224", "id": 1532325379, "node_id": "PR_kwDOGJTEcc5HVNSO", "number": 224, "title": "Add fold and sequence transforms", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-13T13:42:52Z", "updated_at": "2023-01-13T17:58:36Z", "closed_at": "2023-01-13T17:58:36Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/224", "html_url": "https://github.com/vega/vegafusion/pull/224", "diff_url": "https://github.com/vega/vegafusion/pull/224.diff", "patch_url": "https://github.com/vega/vegafusion/pull/224.patch", "merged_at": "2023-01-13T17:58:36Z"}, "body": "This PR adds support for evaluating the [fold](https://vega.github.io/vega/docs/transforms/fold/) and [sequence](https://vega.github.io/vega/docs/transforms/sequence/) transforms in VegaFusion.\r\n\r\nTests are updated to take advantage of these transforms being supported.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/223", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/223/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/223/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/223/events", "html_url": "https://github.com/vega/vegafusion/pull/223", "id": 1530750122, "node_id": "PR_kwDOGJTEcc5HP4N9", "number": 223, "title": "Support impute with multiple groupby fields and match Vega's output ordering", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-12T13:51:58Z", "updated_at": "2023-01-12T18:53:23Z", "closed_at": "2023-01-12T18:53:22Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/223", "html_url": "https://github.com/vega/vegafusion/pull/223", "diff_url": "https://github.com/vega/vegafusion/pull/223.diff", "patch_url": "https://github.com/vega/vegafusion/pull/223.patch", "merged_at": "2023-01-12T18:53:22Z"}, "body": "This PR adds support for the `impute` transform with more than one `groupby` field.  It also updates the `transfored_data` Python function to handle `FacetChart` instances", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/223/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/222", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/222/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/222/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/222/events", "html_url": "https://github.com/vega/vegafusion/pull/222", "id": 1527768552, "node_id": "PR_kwDOGJTEcc5HFz0u", "number": 222, "title": "Improve transform ordering using explicit ordering column", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-10T17:34:54Z", "updated_at": "2023-01-12T00:51:32Z", "closed_at": "2023-01-12T00:51:32Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/222", "html_url": "https://github.com/vega/vegafusion/pull/222", "diff_url": "https://github.com/vega/vegafusion/pull/222.diff", "patch_url": "https://github.com/vega/vegafusion/pull/222.patch", "merged_at": "2023-01-12T00:51:31Z"}, "body": "## Background\r\nUnlike SQL, The row order of the result of Vega transforms is deterministic based on the transform specification and the order of the input rows.  For example, the rows that result from the `aggregate` transform are ordered according to first appearance of a row in each group.\r\n\r\nPrior to this PR, we attempted to match Vega's ordering by having individual transforms use a ROW_NUMBER() window function on their input, and the resort their output based on this ROW_NUMBER().  This worked most of the time, but it was a bit of a hack since creating a new column using a ROW_NUMBER window function, and no ordering specification, isn't guaranteed to be sorted with the input rows.\r\n\r\nHere is one example where this approach goes wrong: https://github.com/apache/arrow-datafusion/issues/4673.\r\n\r\n## Overview\r\n\r\nThis PR introduces an explicit ordering column named `_vf_order`. This column is added to every input dataset, and every transforms inputs and outputs the column.  The final dataset is sorted by `_vf_order` after all of the transforms in the pipeline have been applied.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/222/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/221", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/221/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/221/events", "html_url": "https://github.com/vega/vegafusion/pull/221", "id": 1526448635, "node_id": "PR_kwDOGJTEcc5HBcCy", "number": 221, "title": "Window frame support and DataFusion 16", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-09T22:42:46Z", "updated_at": "2023-01-10T17:30:17Z", "closed_at": "2023-01-10T17:30:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/221", "html_url": "https://github.com/vega/vegafusion/pull/221", "diff_url": "https://github.com/vega/vegafusion/pull/221.diff", "patch_url": "https://github.com/vega/vegafusion/pull/221.patch", "merged_at": "2023-01-10T17:30:17Z"}, "body": "This PR updates to DataFusion a custom branch based on DataFusion 16 and a custom branch of Arrow based on version 29.  These updates make it possible to support the `frame` argument to the window transform.\r\n\r\nCloses https://github.com/vegafusion/vegafusion/issues/161\r\n\r\n### Custom branches\r\n - https://github.com/jonmmease/arrow-datafusion/pull/126\r\n - https://github.com/jonmmease/arrow-rs/pull/3\r\n\r\n### New features\r\n - Support the `frame` and `ignore_peers` parameters of the window transform.\r\n - Support the `variance`, `variancep`, `stdev`, and `stdevp` aggregations functions in window transform.\r\n - Adds support for the `millisecond` and `utcmillisecond` expression functions.\r\n - (on hold) ~Support for `null` values in the `impute` transform.~", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/221/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/220", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/220/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/220/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/220/events", "html_url": "https://github.com/vega/vegafusion/pull/220", "id": 1522579598, "node_id": "PR_kwDOGJTEcc5G0dmv", "number": 220, "title": "Fix distinct aggregation with nulls", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-06T13:19:18Z", "updated_at": "2023-01-06T16:51:20Z", "closed_at": "2023-01-06T16:51:19Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/220", "html_url": "https://github.com/vega/vegafusion/pull/220", "diff_url": "https://github.com/vega/vegafusion/pull/220.diff", "patch_url": "https://github.com/vega/vegafusion/pull/220.patch", "merged_at": "2023-01-06T16:51:19Z"}, "body": "This fixes PR fixes the following errors with aggregating a column with nulls using the `distinct` aggregation operation\r\n\r\n```\r\nPanicException: Failed to get node value: DataFusionError(ArrowError(ExternalError(ArrowError(ExternalError(Internal(\"Unexpected accumulator state List([NULL])\"))))), ErrorContext { contexts: [] })\r\n```\r\n\r\n```\r\nInvalidArgumentError(\"Column 'COUNT(DISTINCT tbl.col2)[count distinct]' is declared as non-nullable but contains null values\")\r\n```\r\n\r\nThe root cause was an issue in `arrow-rs`: https://github.com/apache/arrow-rs/issues/3471. Also, see the DataFusion issue: https://github.com/apache/arrow-datafusion/issues/4828.\r\n\r\nProposed fix in arrow was opened in https://github.com/apache/arrow-rs/pull/3473.\r\n\r\nTo take advantage of the fix immediately, I created a custom branch based on arrow 28.0 (The version that DataFusion 15.0 depends on) and cherry picked these commits onto it. This custom branch is at https://github.com/jonmmease/arrow-rs/pull/1. The Custom DataFusion branch we're currently using is at https://github.com/jonmmease/arrow-datafusion/pull/124.\r\n\r\nThis PR also switches to using cargo's [patch](https://doc.rust-lang.org/cargo/reference/overriding-dependencies.html) capability to override both the Arrow and DataFusion dependencies.  This way all of the git info for the custom branches is in one place.", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/220/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/219", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/219/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/219/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/219/events", "html_url": "https://github.com/vega/vegafusion/pull/219", "id": 1521110404, "node_id": "PR_kwDOGJTEcc5GvabF", "number": 219, "title": "Add 1.0.0rc1 lower version bounds between python packages", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-05T17:29:57Z", "updated_at": "2023-01-05T20:04:50Z", "closed_at": "2023-01-05T20:04:50Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/219", "html_url": "https://github.com/vega/vegafusion/pull/219", "diff_url": "https://github.com/vega/vegafusion/pull/219.diff", "patch_url": "https://github.com/vega/vegafusion/pull/219.patch", "merged_at": "2023-01-05T20:04:50Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/219/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/218", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/218/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/218/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/218/events", "html_url": "https://github.com/vega/vegafusion/pull/218", "id": 1520753081, "node_id": "PR_kwDOGJTEcc5GuMBQ", "number": 218, "title": "Relicense to BSD-3", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-05T13:30:29Z", "updated_at": "2023-01-05T15:48:16Z", "closed_at": "2023-01-05T15:48:16Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/218", "html_url": "https://github.com/vega/vegafusion/pull/218", "diff_url": "https://github.com/vega/vegafusion/pull/218.diff", "patch_url": "https://github.com/vega/vegafusion/pull/218.patch", "merged_at": "2023-01-05T15:48:16Z"}, "body": "1.0+ will be released under BSD-3 \ud83c\udf89 ", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/218/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/217", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/217/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/217/events", "html_url": "https://github.com/vega/vegafusion/pull/217", "id": 1520659927, "node_id": "PR_kwDOGJTEcc5Gt3Pk", "number": 217, "title": "Add new 1.0 quickstart examples to the README.md", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-05T12:23:38Z", "updated_at": "2023-01-05T14:43:59Z", "closed_at": "2023-01-05T14:43:59Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/217", "html_url": "https://github.com/vega/vegafusion/pull/217", "diff_url": "https://github.com/vega/vegafusion/pull/217.diff", "patch_url": "https://github.com/vega/vegafusion/pull/217.patch", "merged_at": "2023-01-05T14:43:59Z"}, "body": "Includes new quickstart examples for 1.0", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/217/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/216", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/216/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/216/events", "html_url": "https://github.com/vega/vegafusion/pull/216", "id": 1519336774, "node_id": "PR_kwDOGJTEcc5GpRh_", "number": 216, "title": "1.0 Widget updates", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-04T17:29:13Z", "updated_at": "2023-01-05T11:25:57Z", "closed_at": "2023-01-05T11:25:57Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/216", "html_url": "https://github.com/vega/vegafusion/pull/216", "diff_url": "https://github.com/vega/vegafusion/pull/216.diff", "patch_url": "https://github.com/vega/vegafusion/pull/216.patch", "merged_at": "2023-01-05T11:25:57Z"}, "body": "Widget updates for 1.0\r\n - Add support for Vega Embed themes\r\n - Remove AGPL license from dropdown\r\n - Remove download_source_link from widget and Vega-Embed\r\n - npm audit fix\r\n - Update to ipywidgets 8\r\n\r\n### Screenshot\r\n![Screen Shot 2023-01-04 at 2 15 16 PM](https://user-images.githubusercontent.com/15064365/210631908-82c08802-83a6-452d-895d-dee9e654c424.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/216/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/vega/vegafusion/issues/215", "repository_url": "https://api.github.com/repos/vega/vegafusion", "labels_url": "https://api.github.com/repos/vega/vegafusion/issues/215/labels{/name}", "comments_url": "https://api.github.com/repos/vega/vegafusion/issues/215/comments", "events_url": "https://api.github.com/repos/vega/vegafusion/issues/215/events", "html_url": "https://github.com/vega/vegafusion/pull/215", "id": 1519244795, "node_id": "PR_kwDOGJTEcc5Go-Lo", "number": 215, "title": "Version 1.0.0", "user": {"login": "jonmmease", "id": 15064365, "node_id": "MDQ6VXNlcjE1MDY0MzY1", "avatar_url": "https://avatars.githubusercontent.com/u/15064365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonmmease", "html_url": "https://github.com/jonmmease", "followers_url": "https://api.github.com/users/jonmmease/followers", "following_url": "https://api.github.com/users/jonmmease/following{/other_user}", "gists_url": "https://api.github.com/users/jonmmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonmmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonmmease/subscriptions", "organizations_url": "https://api.github.com/users/jonmmease/orgs", "repos_url": "https://api.github.com/users/jonmmease/repos", "events_url": "https://api.github.com/users/jonmmease/events{/privacy}", "received_events_url": "https://api.github.com/users/jonmmease/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-04T16:18:35Z", "updated_at": "2023-01-20T00:36:18Z", "closed_at": "2023-01-20T00:36:17Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/vega/vegafusion/pulls/215", "html_url": "https://github.com/vega/vegafusion/pull/215", "diff_url": "https://github.com/vega/vegafusion/pull/215.diff", "patch_url": "https://github.com/vega/vegafusion/pull/215.patch", "merged_at": "2023-01-20T00:36:17Z"}, "body": "Branch that will become version 1.0:\r\n - #216\r\n - #217 \r\n - #218\r\n - #221\r\n - #222\r\n - #223\r\n - #224\r\n - #226\r\n - #227\r\n - #228\r\n", "reactions": {"url": "https://api.github.com/repos/vega/vegafusion/issues/215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vega/vegafusion/issues/215/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]