[{"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5658", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5658/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5658/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5658/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5658", "id": 1684510799, "node_id": "PR_kwDOBAsbdc5PLG5n", "number": 5658, "title": "chore: prepare tokio-stream v0.1.14", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2583818939, "node_id": "MDU6TGFiZWwyNTgzODE4OTM5", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-stream", "name": "A-tokio-stream", "color": "f7e101", "default": false, "description": "Area: The tokio-stream crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-26T08:17:29Z", "updated_at": "2023-04-26T08:47:44Z", "closed_at": "2023-04-26T08:47:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5658", "html_url": "https://github.com/tokio-rs/tokio/pull/5658", "diff_url": "https://github.com/tokio-rs/tokio/pull/5658.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5658.patch", "merged_at": "2023-04-26T08:47:43Z"}, "body": "# 0.1.14 (April 26th, 2023)\r\n\r\nThis bugfix release bumps the minimum version of Tokio to 1.15, which is necessary for `timeout_repeating` to compile. ([#5657])\r\n\r\n[#5657]: https://github.com/tokio-rs/tokio/pull/5657", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5658/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5657", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5657/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5657/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5657/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5657", "id": 1683758274, "node_id": "PR_kwDOBAsbdc5PInTI", "number": 5657, "title": "stream: fix minimum Tokio dependency", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2583818939, "node_id": "MDU6TGFiZWwyNTgzODE4OTM5", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-stream", "name": "A-tokio-stream", "color": "f7e101", "default": false, "description": "Area: The tokio-stream crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-25T19:43:22Z", "updated_at": "2023-04-26T08:13:37Z", "closed_at": "2023-04-26T08:13:36Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5657", "html_url": "https://github.com/tokio-rs/tokio/pull/5657", "diff_url": "https://github.com/tokio-rs/tokio/pull/5657.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5657.patch", "merged_at": "2023-04-26T08:13:36Z"}, "body": "Closes: #5655", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5657/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5652", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5652/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5652/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5652/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5652", "id": 1682832283, "node_id": "PR_kwDOBAsbdc5PFfPm", "number": 5652, "title": "chore: prepare tokio-stream v0.1.13", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2583818939, "node_id": "MDU6TGFiZWwyNTgzODE4OTM5", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-stream", "name": "A-tokio-stream", "color": "f7e101", "default": false, "description": "Area: The tokio-stream crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-25T09:53:22Z", "updated_at": "2023-04-25T18:21:34Z", "closed_at": "2023-04-25T18:21:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5652", "html_url": "https://github.com/tokio-rs/tokio/pull/5652", "diff_url": "https://github.com/tokio-rs/tokio/pull/5652.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5652.patch", "merged_at": "2023-04-25T18:21:33Z"}, "body": "# 0.1.13 (April 25th, 2023)\r\n\r\nThis release bumps the MSRV of tokio-stream to 1.56.\r\n\r\n- stream: add \"full\" feature flag ([#5639])\r\n- stream: add `StreamExt::timeout_repeating` ([#5577])\r\n- stream: add `StreamNotifyClose` ([#4851])\r\n\r\n[#4851]: https://github.com/tokio-rs/tokio/pull/4851\r\n[#5577]: https://github.com/tokio-rs/tokio/pull/5577\r\n[#5639]: https://github.com/tokio-rs/tokio/pull/5639", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5652/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5651", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5651/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5651/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5651/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5651", "id": 1682827283, "node_id": "PR_kwDOBAsbdc5PFeLO", "number": 5651, "title": "chore: prepare tokio-util v0.7.8", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 930277298, "node_id": "MDU6TGFiZWw5MzAyNzcyOTg=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-util", "name": "A-tokio-util", "color": "f7e101", "default": false, "description": "Area: The tokio-util crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-25T09:50:16Z", "updated_at": "2023-04-25T18:21:22Z", "closed_at": "2023-04-25T18:21:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5651", "html_url": "https://github.com/tokio-rs/tokio/pull/5651", "diff_url": "https://github.com/tokio-rs/tokio/pull/5651.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5651.patch", "merged_at": "2023-04-25T18:21:21Z"}, "body": "# 0.7.8 (April 25th, 2023)\r\n\r\nThis release bumps the MSRV of tokio-util to 1.56.\r\n\r\n### Added\r\n\r\n- time: add `DelayQueue::peek` ([#5569])\r\n\r\n### Changed\r\n\r\nThis release contains one performance improvement:\r\n\r\n- sync: try to lock the parent first in `CancellationToken` ([#5561])\r\n\r\n### Fixed\r\n\r\n- time: fix panic in `DelayQueue` ([#5630])\r\n\r\n### Documented\r\n\r\n- sync: improve `CancellationToken` doc on child tokens ([#5632])\r\n\r\n[#5561]: https://github.com/tokio-rs/tokio/pull/5561\r\n[#5569]: https://github.com/tokio-rs/tokio/pull/5569\r\n[#5630]: https://github.com/tokio-rs/tokio/pull/5630\r\n[#5632]: https://github.com/tokio-rs/tokio/pull/5632", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5651/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5650", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5650/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5650/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5650/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5650", "id": 1682817750, "node_id": "PR_kwDOBAsbdc5PFcF-", "number": 5650, "title": "chore: prepare Tokio v1.28.0", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-25T09:44:40Z", "updated_at": "2023-04-25T18:21:02Z", "closed_at": "2023-04-25T18:21:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5650", "html_url": "https://github.com/tokio-rs/tokio/pull/5650", "diff_url": "https://github.com/tokio-rs/tokio/pull/5650.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5650.patch", "merged_at": "2023-04-25T18:21:00Z"}, "body": "Depends on #5649.\r\n\r\n# 1.28.0 (April 25th, 2023)\r\n\r\n### Added\r\n\r\n- io: add `AsyncFd::async_io` ([#5542])\r\n- io: impl BufMut for ReadBuf ([#5590])\r\n- net: add `recv_buf` for `UdpSocket` and `UnixDatagram` ([#5583])\r\n- sync: add `OwnedSemaphorePermit::semaphore` ([#5618])\r\n- sync: add `same_channel` to broadcast channel ([#5607])\r\n- sync: add `watch::Receiver::wait_for` ([#5611])\r\n- task: add `JoinSet::spawn_blocking` ([#5612])\r\n\r\n### Changed\r\n\r\n- deps: update windows-sys to 0.48 ([#5591])\r\n- io: make `read_to_end` not grow unnecessarily ([#5610])\r\n- macros: make entrypoints more efficient ([#5621])\r\n- sync: improve Debug impl for `RwLock` ([#5647])\r\n- sync: reduce contention in `Notify` ([#5503])\r\n\r\n### Fixed\r\n\r\n- net: support `get_peer_cred` on AIX ([#5065])\r\n- sync: avoid deadlocks in `broadcast` with custom wakers ([#5578])\r\n\r\n### Documented\r\n\r\n- sync: fix typo in `Semaphore::MAX_PERMITS` ([#5645])\r\n- sync: fix typo in `tokio::sync::watch::Sender` docs ([#5587])\r\n\r\n[#5065]: https://github.com/tokio-rs/tokio/pull/5065\r\n[#5503]: https://github.com/tokio-rs/tokio/pull/5503\r\n[#5542]: https://github.com/tokio-rs/tokio/pull/5542\r\n[#5578]: https://github.com/tokio-rs/tokio/pull/5578\r\n[#5583]: https://github.com/tokio-rs/tokio/pull/5583\r\n[#5587]: https://github.com/tokio-rs/tokio/pull/5587\r\n[#5590]: https://github.com/tokio-rs/tokio/pull/5590\r\n[#5591]: https://github.com/tokio-rs/tokio/pull/5591\r\n[#5607]: https://github.com/tokio-rs/tokio/pull/5607\r\n[#5610]: https://github.com/tokio-rs/tokio/pull/5610\r\n[#5611]: https://github.com/tokio-rs/tokio/pull/5611\r\n[#5612]: https://github.com/tokio-rs/tokio/pull/5612\r\n[#5618]: https://github.com/tokio-rs/tokio/pull/5618\r\n[#5621]: https://github.com/tokio-rs/tokio/pull/5621\r\n[#5645]: https://github.com/tokio-rs/tokio/pull/5645\r\n[#5647]: https://github.com/tokio-rs/tokio/pull/5647\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5650/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5649", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5649/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5649/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5649/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5649", "id": 1682807821, "node_id": "PR_kwDOBAsbdc5PFZ96", "number": 5649, "title": "chore: prepare tokio-macros v2.1.0", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1436302597, "node_id": "MDU6TGFiZWwxNDM2MzAyNTk3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-macros", "name": "A-tokio-macros", "color": "f7e101", "default": false, "description": "Area: The tokio-macros crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-25T09:38:22Z", "updated_at": "2023-04-25T15:07:10Z", "closed_at": "2023-04-25T15:07:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5649", "html_url": "https://github.com/tokio-rs/tokio/pull/5649", "diff_url": "https://github.com/tokio-rs/tokio/pull/5649.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5649.patch", "merged_at": "2023-04-25T15:07:09Z"}, "body": "# 2.1.0 (April 25th, 2023)\r\n\r\n- macros: fix typo in `#[tokio::test]` docs ([#5636])\r\n- macros: make entrypoints more efficient ([#5621])\r\n\r\n[#5621]: https://github.com/tokio-rs/tokio/pull/5621\r\n[#5636]: https://github.com/tokio-rs/tokio/pull/5636", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5649/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5648", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5648/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5648/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5648/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5648", "id": 1681561042, "node_id": "PR_kwDOBAsbdc5PBM83", "number": 5648, "title": "Use the cargo-semver-checks GitHub Action for semver-checking", "user": {"login": "obi1kenobi", "id": 2348618, "node_id": "MDQ6VXNlcjIzNDg2MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/2348618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/obi1kenobi", "html_url": "https://github.com/obi1kenobi", "followers_url": "https://api.github.com/users/obi1kenobi/followers", "following_url": "https://api.github.com/users/obi1kenobi/following{/other_user}", "gists_url": "https://api.github.com/users/obi1kenobi/gists{/gist_id}", "starred_url": "https://api.github.com/users/obi1kenobi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/obi1kenobi/subscriptions", "organizations_url": "https://api.github.com/users/obi1kenobi/orgs", "repos_url": "https://api.github.com/users/obi1kenobi/repos", "events_url": "https://api.github.com/users/obi1kenobi/events{/privacy}", "received_events_url": "https://api.github.com/users/obi1kenobi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2119690410, "node_id": "MDU6TGFiZWwyMTE5NjkwNDEw", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-ci", "name": "A-ci", "color": "f7e101", "default": false, "description": "Area: The continuous integration setup"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-04-24T15:38:23Z", "updated_at": "2023-04-25T04:24:17Z", "closed_at": "2023-04-24T22:17:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5648", "html_url": "https://github.com/tokio-rs/tokio/pull/5648", "diff_url": "https://github.com/tokio-rs/tokio/pull/5648.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5648.patch", "merged_at": "2023-04-24T22:17:18Z"}, "body": "## Motivation\r\n\r\nWill provide a substantial performance improvement:\r\n- cargo-semver-checks v0.20 is orders of magnitude faster at checking large crates \u2014 2354x faster on `aws-sdk-ec2`\r\n- the GitHub Action caches baseline rustdoc JSON files which is worth another ~2x speedup.\r\n\r\nAs discussed here: https://github.com/tokio-rs/tokio/pull/5437#issuecomment-1520366922\r\n\r\n## Solution\r\n\r\nSwitch to using the `cargo-semver-checks` GitHub Action which handles all of the above correctly and automatically. It also automatically downloads a prebuilt binary for the latest release of `cargo-semver-checks` so it should essentially run on autopilot from here on.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5648/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5648/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5647", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5647/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5647/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5647/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5647", "id": 1680834238, "node_id": "PR_kwDOBAsbdc5O-tqm", "number": 5647, "title": "sync: useful Debug impl for RwLock ", "user": {"login": "FHTMitchell", "id": 24977101, "node_id": "MDQ6VXNlcjI0OTc3MTAx", "avatar_url": "https://avatars.githubusercontent.com/u/24977101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FHTMitchell", "html_url": "https://github.com/FHTMitchell", "followers_url": "https://api.github.com/users/FHTMitchell/followers", "following_url": "https://api.github.com/users/FHTMitchell/following{/other_user}", "gists_url": "https://api.github.com/users/FHTMitchell/gists{/gist_id}", "starred_url": "https://api.github.com/users/FHTMitchell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FHTMitchell/subscriptions", "organizations_url": "https://api.github.com/users/FHTMitchell/orgs", "repos_url": "https://api.github.com/users/FHTMitchell/repos", "events_url": "https://api.github.com/users/FHTMitchell/events{/privacy}", "received_events_url": "https://api.github.com/users/FHTMitchell/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-24T09:28:58Z", "updated_at": "2023-04-24T13:39:43Z", "closed_at": "2023-04-24T13:39:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5647", "html_url": "https://github.com/tokio-rs/tokio/pull/5647", "diff_url": "https://github.com/tokio-rs/tokio/pull/5647.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5647.patch", "merged_at": "2023-04-24T13:39:42Z"}, "body": "## Motivation\r\n\r\nCurrently the `std::fmt::Debug` impl for `tokio::sync::RwLock` is just what `#[derive(Debug)]` provides and looks like\r\n\r\n```\r\nRwLock { mr: 536870911, s: Semaphore { permits: 536870911 }, c: UnsafeCell { .. } }\r\n```\r\n\r\nwhich isn't very useful. Instead we can show the data *if* no thread currently holds the write lock. This matches what is done in `std::sync::RwLock` and in `tokio::sync::Mutex`.\r\n\r\n## Solution\r\n\r\nThe updated code is basically a 1 to 1 mapping from the tokio [Mutex implementation](https://docs.rs/tokio/latest/src/tokio/sync/mutex.rs.html#787-799). \r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5647/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5645", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5645/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5645/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5645/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5645", "id": 1679587867, "node_id": "PR_kwDOBAsbdc5O6uvy", "number": 5645, "title": "docs: Fix typo in `Semaphore::MAX_PERMITS`", "user": {"login": "topenkoff", "id": 28741645, "node_id": "MDQ6VXNlcjI4NzQxNjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/28741645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topenkoff", "html_url": "https://github.com/topenkoff", "followers_url": "https://api.github.com/users/topenkoff/followers", "following_url": "https://api.github.com/users/topenkoff/following{/other_user}", "gists_url": "https://api.github.com/users/topenkoff/gists{/gist_id}", "starred_url": "https://api.github.com/users/topenkoff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topenkoff/subscriptions", "organizations_url": "https://api.github.com/users/topenkoff/orgs", "repos_url": "https://api.github.com/users/topenkoff/repos", "events_url": "https://api.github.com/users/topenkoff/events{/privacy}", "received_events_url": "https://api.github.com/users/topenkoff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-22T15:32:14Z", "updated_at": "2023-04-22T16:52:08Z", "closed_at": "2023-04-22T16:52:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5645", "html_url": "https://github.com/tokio-rs/tokio/pull/5645", "diff_url": "https://github.com/tokio-rs/tokio/pull/5645.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5645.patch", "merged_at": "2023-04-22T16:52:08Z"}, "body": "Remove the extra angle bracket", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5645/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5643", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5643/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5643/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5643/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5643", "id": 1677931720, "node_id": "PR_kwDOBAsbdc5O1MZF", "number": 5643, "title": "chore: fix compiler output changes in rustc 1.69", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1436302597, "node_id": "MDU6TGFiZWwxNDM2MzAyNTk3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-macros", "name": "A-tokio-macros", "color": "f7e101", "default": false, "description": "Area: The tokio-macros crate"}, {"id": 2119690410, "node_id": "MDU6TGFiZWwyMTE5NjkwNDEw", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-ci", "name": "A-ci", "color": "f7e101", "default": false, "description": "Area: The continuous integration setup"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-21T06:45:58Z", "updated_at": "2023-04-21T07:10:56Z", "closed_at": "2023-04-21T07:10:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5643", "html_url": "https://github.com/tokio-rs/tokio/pull/5643", "diff_url": "https://github.com/tokio-rs/tokio/pull/5643.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5643.patch", "merged_at": "2023-04-21T07:10:55Z"}, "body": "This fixes a change to the compiler output in rustc 1.69, that causes our macro tests to fail.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5643/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5642", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5642/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5642/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5642/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5642", "id": 1677468415, "node_id": "PR_kwDOBAsbdc5Ozp6P", "number": 5642, "title": "Remove ntapi dev-dependency", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-20T21:42:55Z", "updated_at": "2023-04-21T06:41:20Z", "closed_at": "2023-04-21T06:40:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5642", "html_url": "https://github.com/tokio-rs/tokio/pull/5642", "diff_url": "https://github.com/tokio-rs/tokio/pull/5642.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5642.patch", "merged_at": "2023-04-21T06:40:02Z"}, "body": "We have a dev-dependency on ntapi for a single test. This dependency keeps causing problems, so I think we should drop it.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5642/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5639", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5639/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5639/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5639/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5639", "id": 1677318729, "node_id": "PR_kwDOBAsbdc5OzItl", "number": 5639, "title": "stream: add \"full\" feature flag", "user": {"login": "Wasabi375", "id": 18382611, "node_id": "MDQ6VXNlcjE4MzgyNjEx", "avatar_url": "https://avatars.githubusercontent.com/u/18382611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wasabi375", "html_url": "https://github.com/Wasabi375", "followers_url": "https://api.github.com/users/Wasabi375/followers", "following_url": "https://api.github.com/users/Wasabi375/following{/other_user}", "gists_url": "https://api.github.com/users/Wasabi375/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wasabi375/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wasabi375/subscriptions", "organizations_url": "https://api.github.com/users/Wasabi375/orgs", "repos_url": "https://api.github.com/users/Wasabi375/repos", "events_url": "https://api.github.com/users/Wasabi375/events{/privacy}", "received_events_url": "https://api.github.com/users/Wasabi375/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2583818939, "node_id": "MDU6TGFiZWwyNTgzODE4OTM5", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-stream", "name": "A-tokio-stream", "color": "f7e101", "default": false, "description": "Area: The tokio-stream crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-20T19:48:43Z", "updated_at": "2023-04-23T11:59:50Z", "closed_at": "2023-04-23T11:59:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5639", "html_url": "https://github.com/tokio-rs/tokio/pull/5639", "diff_url": "https://github.com/tokio-rs/tokio/pull/5639.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5639.patch", "merged_at": "2023-04-23T11:59:49Z"}, "body": "Add \"full\" feature flag, that enables all other features. This is analog to tokio's \"full\" feature flag.\r\n\r\n## Motivation\r\n\r\nI often use tokio's \"full\" feature flag during early development and for hobby projects. That way I don't have to manage \r\nfeatures early on and can just use everything and changing to specific features once a project is further developed.\r\n\r\nI'd like to be able to do the same with tokio-stream. \r\n\r\nI was thinking about creating an issue for this first, but I decided that creating a PR is not that much slower so here it is.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5639/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5637", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5637/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5637/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5637/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5637", "id": 1676989706, "node_id": "PR_kwDOBAsbdc5OyDO4", "number": 5637, "title": "Revert \"macros: hide internal constant in select! macro (#5617)\"", "user": {"login": "taiki-e", "id": 43724913, "node_id": "MDQ6VXNlcjQzNzI0OTEz", "avatar_url": "https://avatars.githubusercontent.com/u/43724913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taiki-e", "html_url": "https://github.com/taiki-e", "followers_url": "https://api.github.com/users/taiki-e/followers", "following_url": "https://api.github.com/users/taiki-e/following{/other_user}", "gists_url": "https://api.github.com/users/taiki-e/gists{/gist_id}", "starred_url": "https://api.github.com/users/taiki-e/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taiki-e/subscriptions", "organizations_url": "https://api.github.com/users/taiki-e/orgs", "repos_url": "https://api.github.com/users/taiki-e/repos", "events_url": "https://api.github.com/users/taiki-e/events{/privacy}", "received_events_url": "https://api.github.com/users/taiki-e/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 2216880757, "node_id": "MDU6TGFiZWwyMjE2ODgwNzU3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-macros", "name": "M-macros", "color": "f7b101", "default": false, "description": "Module: macros in the main Tokio crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-20T15:48:18Z", "updated_at": "2023-04-23T11:38:51Z", "closed_at": "2023-04-23T11:38:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5637", "html_url": "https://github.com/tokio-rs/tokio/pull/5637", "diff_url": "https://github.com/tokio-rs/tokio/pull/5637.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5637.patch", "merged_at": "2023-04-23T11:38:50Z"}, "body": "This reverts commit cf9a03c107ea523480e03234aff422905abaf8d7.\r\n\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\nThe underlying rustdoc bug has been fixed in https://github.com/rust-lang/rust/pull/110450.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5637/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5636", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5636/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5636/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5636/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5636", "id": 1676748249, "node_id": "PR_kwDOBAsbdc5OxO4d", "number": 5636, "title": "docs: Fix typo in #[tokio::test] docs", "user": {"login": "adamchalmers", "id": 5407457, "node_id": "MDQ6VXNlcjU0MDc0NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5407457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamchalmers", "html_url": "https://github.com/adamchalmers", "followers_url": "https://api.github.com/users/adamchalmers/followers", "following_url": "https://api.github.com/users/adamchalmers/following{/other_user}", "gists_url": "https://api.github.com/users/adamchalmers/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamchalmers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamchalmers/subscriptions", "organizations_url": "https://api.github.com/users/adamchalmers/orgs", "repos_url": "https://api.github.com/users/adamchalmers/repos", "events_url": "https://api.github.com/users/adamchalmers/events{/privacy}", "received_events_url": "https://api.github.com/users/adamchalmers/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1436302597, "node_id": "MDU6TGFiZWwxNDM2MzAyNTk3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-macros", "name": "A-tokio-macros", "color": "f7e101", "default": false, "description": "Area: The tokio-macros crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-20T13:38:55Z", "updated_at": "2023-04-20T14:12:44Z", "closed_at": "2023-04-20T14:12:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5636", "html_url": "https://github.com/tokio-rs/tokio/pull/5636", "diff_url": "https://github.com/tokio-rs/tokio/pull/5636.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5636.patch", "merged_at": "2023-04-20T14:12:43Z"}, "body": "Both current- and multi-thread runtime claimed to be the default, but only current thread actually is.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5636/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5634", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5634/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5634/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5634/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5634", "id": 1676613728, "node_id": "PR_kwDOBAsbdc5OwyLD", "number": 5634, "title": "Fix spurious `yield_defers_until_park` test", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993510878, "node_id": "MDU6TGFiZWwxOTkzNTEwODc4", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-runtime", "name": "M-runtime", "color": "f7b101", "default": false, "description": "Module: tokio/runtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-20T12:20:57Z", "updated_at": "2023-04-20T16:00:35Z", "closed_at": "2023-04-20T16:00:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5634", "html_url": "https://github.com/tokio-rs/tokio/pull/5634", "diff_url": "https://github.com/tokio-rs/tokio/pull/5634.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5634.patch", "merged_at": "2023-04-20T16:00:33Z"}, "body": "This test is flaky. Only fail it if it is failing consistently.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5634/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5634/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5632", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5632/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5632/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5632/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5632", "id": 1675109764, "node_id": "PR_kwDOBAsbdc5OrvaI", "number": 5632, "title": "Cancellation token docs", "user": {"login": "DonSheddow", "id": 7872006, "node_id": "MDQ6VXNlcjc4NzIwMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/7872006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DonSheddow", "html_url": "https://github.com/DonSheddow", "followers_url": "https://api.github.com/users/DonSheddow/followers", "following_url": "https://api.github.com/users/DonSheddow/following{/other_user}", "gists_url": "https://api.github.com/users/DonSheddow/gists{/gist_id}", "starred_url": "https://api.github.com/users/DonSheddow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DonSheddow/subscriptions", "organizations_url": "https://api.github.com/users/DonSheddow/orgs", "repos_url": "https://api.github.com/users/DonSheddow/repos", "events_url": "https://api.github.com/users/DonSheddow/events{/privacy}", "received_events_url": "https://api.github.com/users/DonSheddow/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 930277298, "node_id": "MDU6TGFiZWw5MzAyNzcyOTg=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-util", "name": "A-tokio-util", "color": "f7e101", "default": false, "description": "Area: The tokio-util crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-19T15:03:59Z", "updated_at": "2023-04-19T15:45:13Z", "closed_at": "2023-04-19T15:42:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5632", "html_url": "https://github.com/tokio-rs/tokio/pull/5632", "diff_url": "https://github.com/tokio-rs/tokio/pull/5632.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5632.patch", "merged_at": "2023-04-19T15:42:32Z"}, "body": "This clarifies the difference between `clone()` and `child_token()` on `CancellationToken`.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5632/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5630", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5630/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5630/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5630/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5630", "id": 1671277477, "node_id": "PR_kwDOBAsbdc5Oe49u", "number": 5630, "title": "[#5536] tokio-util: fix panic in DelayQueue", "user": {"login": "isabelleatkins", "id": 73671620, "node_id": "MDQ6VXNlcjczNjcxNjIw", "avatar_url": "https://avatars.githubusercontent.com/u/73671620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isabelleatkins", "html_url": "https://github.com/isabelleatkins", "followers_url": "https://api.github.com/users/isabelleatkins/followers", "following_url": "https://api.github.com/users/isabelleatkins/following{/other_user}", "gists_url": "https://api.github.com/users/isabelleatkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/isabelleatkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isabelleatkins/subscriptions", "organizations_url": "https://api.github.com/users/isabelleatkins/orgs", "repos_url": "https://api.github.com/users/isabelleatkins/repos", "events_url": "https://api.github.com/users/isabelleatkins/events{/privacy}", "received_events_url": "https://api.github.com/users/isabelleatkins/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 930277298, "node_id": "MDU6TGFiZWw5MzAyNzcyOTg=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-util", "name": "A-tokio-util", "color": "f7e101", "default": false, "description": "Area: The tokio-util crate"}, {"id": 1993513841, "node_id": "MDU6TGFiZWwxOTkzNTEzODQx", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-time", "name": "M-time", "color": "f7b101", "default": false, "description": "Module: tokio/time"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-04-17T14:10:27Z", "updated_at": "2023-04-20T10:08:51Z", "closed_at": "2023-04-17T20:51:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5630", "html_url": "https://github.com/tokio-rs/tokio/pull/5630", "diff_url": "https://github.com/tokio-rs/tokio/pull/5630.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5630.patch", "merged_at": "2023-04-17T20:51:43Z"}, "body": "Fixes: https://github.com/tokio-rs/tokio/issues/5536\r\n\r\n\r\n## Motivation\r\n\r\nExperienced an upstream service which had been running for over 2 years to have an outage due to this bug.\r\nThis was also a bug in tokio up to and including version 0.3.4.\r\n\r\n\r\n## Solution\r\n\r\nI copied the fix in tokio, which fudges any items which have timers which would logically go into the top+1 level into the top level. \r\n\r\nThis means that you can insert an item into \"the past\" (if the time since the queue has been alive is in the top most level, and the item has been fudged into the top level too, and occupies an earlier slot). We handle this by bumping up the corresponding timer by the level range.\r\n\r\n\r\n- Added test to check that inserting to a delayqueue that has existed for more than the 2^36 ms doesn't panic.\r\n\r\n- Cargo fmt ran.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5630/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5623", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5623/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5623/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5623/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5623", "id": 1666366691, "node_id": "PR_kwDOBAsbdc5OOp7f", "number": 5623, "title": "doc: Update Clippy version in contrib guide", "user": {"login": "hds", "id": 89589, "node_id": "MDQ6VXNlcjg5NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/89589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hds", "html_url": "https://github.com/hds", "followers_url": "https://api.github.com/users/hds/followers", "following_url": "https://api.github.com/users/hds/following{/other_user}", "gists_url": "https://api.github.com/users/hds/gists{/gist_id}", "starred_url": "https://api.github.com/users/hds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hds/subscriptions", "organizations_url": "https://api.github.com/users/hds/orgs", "repos_url": "https://api.github.com/users/hds/repos", "events_url": "https://api.github.com/users/hds/events{/privacy}", "received_events_url": "https://api.github.com/users/hds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4419404792, "node_id": "LA_kwDOBAsbdc8AAAABB2rD-A", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-readme", "name": "A-readme", "color": "f7e101", "default": false, "description": "Area: Documentation that isn't part of any crate such as README.md or CONTRIBUTING.md"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-13T12:54:51Z", "updated_at": "2025-01-15T14:54:14Z", "closed_at": "2023-04-16T13:46:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5623", "html_url": "https://github.com/tokio-rs/tokio/pull/5623", "diff_url": "https://github.com/tokio-rs/tokio/pull/5623.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5623.patch", "merged_at": "2023-04-16T13:46:01Z"}, "body": "## Motivation\r\n\r\nIn CI, we are using a newer version of Clippy than what is stated in the\r\ncontributions guide.\r\n\r\nAdditionally, it is no longer necessary to use Clippy from the MSRV. As\r\nof Clippy 1.64, the `rust-version` field in Cargo.toml is respected.\r\n\r\n## Solution\r\n\r\nThe text and the command have been updated to reflect the current state\r\nof CI and best practices.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5623/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5622", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5622/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5622/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5622/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5622", "id": 1665816270, "node_id": "PR_kwDOBAsbdc5OM0Qr", "number": 5622, "title": "ci: Gate costly checks behind basic ones", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 439897190, "node_id": "MDU6TGFiZWw0Mzk4OTcxOTA=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: A PR with an enhancement or bugfix."}, {"id": 2119690410, "node_id": "MDU6TGFiZWwyMTE5NjkwNDEw", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-ci", "name": "A-ci", "color": "f7e101", "default": false, "description": "Area: The continuous integration setup"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-13T06:42:21Z", "updated_at": "2023-04-15T19:16:29Z", "closed_at": "2023-04-15T18:16:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5622", "html_url": "https://github.com/tokio-rs/tokio/pull/5622", "diff_url": "https://github.com/tokio-rs/tokio/pull/5622.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5622.patch", "merged_at": "2023-04-15T18:16:43Z"}, "body": "A common source for iterating over a PR is to fail a basic test, this causes a lot of builds to fire off needlessly.\r\n\r\nThis defines a `basics` job which depends on jobs we want to pass before firing off more expensive ones, it has been added to other jobs as a dependency. In principle I think we could also add a fairly simple `cargo check --all-targets --workspace` for better feedback here.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5622/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5621", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5621/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5621/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5621/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5621", "id": 1665772698, "node_id": "PR_kwDOBAsbdc5OMq7b", "number": 5621, "title": "Make entrypoints more efficient part 2", "user": {"login": "udoprog", "id": 111092, "node_id": "MDQ6VXNlcjExMTA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/111092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udoprog", "html_url": "https://github.com/udoprog", "followers_url": "https://api.github.com/users/udoprog/followers", "following_url": "https://api.github.com/users/udoprog/following{/other_user}", "gists_url": "https://api.github.com/users/udoprog/gists{/gist_id}", "starred_url": "https://api.github.com/users/udoprog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udoprog/subscriptions", "organizations_url": "https://api.github.com/users/udoprog/orgs", "repos_url": "https://api.github.com/users/udoprog/repos", "events_url": "https://api.github.com/users/udoprog/events{/privacy}", "received_events_url": "https://api.github.com/users/udoprog/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 439897190, "node_id": "MDU6TGFiZWw0Mzk4OTcxOTA=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: A PR with an enhancement or bugfix."}, {"id": 1436302597, "node_id": "MDU6TGFiZWwxNDM2MzAyNTk3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-macros", "name": "A-tokio-macros", "color": "f7e101", "default": false, "description": "Area: The tokio-macros crate"}, {"id": 2216880757, "node_id": "MDU6TGFiZWwyMjE2ODgwNzU3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-macros", "name": "M-macros", "color": "f7b101", "default": false, "description": "Module: macros in the main Tokio crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-13T06:05:49Z", "updated_at": "2023-04-15T20:11:23Z", "closed_at": "2023-04-15T18:55:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5621", "html_url": "https://github.com/tokio-rs/tokio/pull/5621", "diff_url": "https://github.com/tokio-rs/tokio/pull/5621.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5621.patch", "merged_at": "2023-04-15T18:55:00Z"}, "body": "This is a different stab at #4513.\r\n\r\nWe use syn to parse the signature into our own `ItemFn`, maintaining most of the existing API but avoiding parsing (and reparsing) all statements except the parts we are interested in.\r\n\r\nFor signature parsing, we rely almost entirely on `syn`. The only notable trouble is the parsing of inner attributes, for which I believe I've matched `syn`'s behavior: The inner attributes are expanded as outer attributes instead. In theory we could expand them as inner attributes to the newly generated function but that doesn't seem to be necessary and I did it like this to match the previous expansion more precisely.\r\n\r\nAs a basic test, [I modified the tinyhttp example](https://github.com/udoprog/tokio/commit/8f621c862e991f9abcb367a287d1bd065c7aa638) and put everything in the main function, these were the timing differences I got for the macro:\r\n\r\nBefore:\r\n\r\n```\r\n[tokio-macros/src/entry.rs:466] std::time::Instant::now().duration_since(start) = 13.318901ms\r\n```\r\n\r\nAfter:\r\n\r\n```\r\n[tokio-macros/src/entry.rs:447] std::time::Instant::now().duration_since(start) = 1.075437ms\r\n```\r\n\r\nNote: We're still not down to microseconds like the other parsing method, but now at least we don't have to worry about signatures and [how to remove `syn` as a direct dependency](https://github.com/tokio-rs/tokio/pull/4513#issuecomment-1090872775) without msrv stuff breaking :smile:\r\n\r\nAs before, this is most notable for me when I was working on large entrypoints in rust-analyzer, for which large kinds of input latency caused diagnostics to be noticeably delayed. I've since refactored all of my entrpoints to quickly call another function to avoid this, but this should still be valuable for the future.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5621/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5618", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5618/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5618/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5618/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5618", "id": 1665096115, "node_id": "PR_kwDOBAsbdc5OKY3Z", "number": 5618, "title": "Allow getting the `Semaphore` from a `OwnedSemaphorePermit`.", "user": {"login": "alvra", "id": 470642, "node_id": "MDQ6VXNlcjQ3MDY0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/470642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvra", "html_url": "https://github.com/alvra", "followers_url": "https://api.github.com/users/alvra/followers", "following_url": "https://api.github.com/users/alvra/following{/other_user}", "gists_url": "https://api.github.com/users/alvra/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvra/subscriptions", "organizations_url": "https://api.github.com/users/alvra/orgs", "repos_url": "https://api.github.com/users/alvra/repos", "events_url": "https://api.github.com/users/alvra/events{/privacy}", "received_events_url": "https://api.github.com/users/alvra/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-12T19:06:19Z", "updated_at": "2023-04-15T18:56:59Z", "closed_at": "2023-04-15T18:55:40Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5618", "html_url": "https://github.com/tokio-rs/tokio/pull/5618", "diff_url": "https://github.com/tokio-rs/tokio/pull/5618.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5618.patch", "merged_at": "2023-04-15T18:55:39Z"}, "body": "The `OwnedSemaphorePermit` tracks the `Semaphore` from which it was acquired, but does not allow users to access it.\r\n\r\nWith this change I don't have to store both, saving some space.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5618/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5617", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5617/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5617/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5617/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5617", "id": 1664399152, "node_id": "PR_kwDOBAsbdc5OICPl", "number": 5617, "title": "Hide constant in select! macro for docs", "user": {"login": "mTsBucy1", "id": 85930053, "node_id": "MDQ6VXNlcjg1OTMwMDUz", "avatar_url": "https://avatars.githubusercontent.com/u/85930053?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mTsBucy1", "html_url": "https://github.com/mTsBucy1", "followers_url": "https://api.github.com/users/mTsBucy1/followers", "following_url": "https://api.github.com/users/mTsBucy1/following{/other_user}", "gists_url": "https://api.github.com/users/mTsBucy1/gists{/gist_id}", "starred_url": "https://api.github.com/users/mTsBucy1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mTsBucy1/subscriptions", "organizations_url": "https://api.github.com/users/mTsBucy1/orgs", "repos_url": "https://api.github.com/users/mTsBucy1/repos", "events_url": "https://api.github.com/users/mTsBucy1/events{/privacy}", "received_events_url": "https://api.github.com/users/mTsBucy1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 2216880757, "node_id": "MDU6TGFiZWwyMjE2ODgwNzU3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-macros", "name": "M-macros", "color": "f7b101", "default": false, "description": "Module: macros in the main Tokio crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-12T11:43:18Z", "updated_at": "2023-04-12T18:05:17Z", "closed_at": "2023-04-12T12:32:38Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5617", "html_url": "https://github.com/tokio-rs/tokio/pull/5617", "diff_url": "https://github.com/tokio-rs/tokio/pull/5617.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5617.patch", "merged_at": "2023-04-12T12:32:38Z"}, "body": "Using a nighly rustdoc the internal `BRANCHES` constant may leak into private documentation.\r\nFor background see https://github.com/serde-rs/serde/pull/2426.\r\n\r\nUsing the example from `select!` ([src](https://github.com/tokio-rs/tokio/blob/3b45e8614d45a44ebe6edf7b7939805f692f90ec/tokio/src/macros/select.rs#L151-L169)) and using `RUSTDOCFLAGS=\"--enable-index-page -Zunstable-options\" cargo +nightly doc --no-deps --document-private-items` show the problem:\r\n- Before the change:\r\n![image](https://user-images.githubusercontent.com/85930053/231444184-1eced8e3-d2a5-4af1-bdf5-d75a987705f7.png)\r\n- After the change:\r\n![image](https://user-images.githubusercontent.com/85930053/231444688-9f5622c7-b9a4-4c15-8264-867ed14aeec5.png)\r\n\r\nOf course there may be other such instances, I haven't exhaustively searched for them.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5617/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5614", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5614/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5614/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5614/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5614", "id": 1660720682, "node_id": "PR_kwDOBAsbdc5N7mq5", "number": 5614, "title": "Fix fuzz warnings", "user": {"login": "amab8901", "id": 83634595, "node_id": "MDQ6VXNlcjgzNjM0NTk1", "avatar_url": "https://avatars.githubusercontent.com/u/83634595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amab8901", "html_url": "https://github.com/amab8901", "followers_url": "https://api.github.com/users/amab8901/followers", "following_url": "https://api.github.com/users/amab8901/following{/other_user}", "gists_url": "https://api.github.com/users/amab8901/gists{/gist_id}", "starred_url": "https://api.github.com/users/amab8901/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amab8901/subscriptions", "organizations_url": "https://api.github.com/users/amab8901/orgs", "repos_url": "https://api.github.com/users/amab8901/repos", "events_url": "https://api.github.com/users/amab8901/events{/privacy}", "received_events_url": "https://api.github.com/users/amab8901/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-10T12:29:24Z", "updated_at": "2023-04-13T14:07:13Z", "closed_at": "2023-04-13T14:07:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5614", "html_url": "https://github.com/tokio-rs/tokio/pull/5614", "diff_url": "https://github.com/tokio-rs/tokio/pull/5614.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5614.patch", "merged_at": "2023-04-13T14:07:13Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\nFix the warnings you get when you run `cargo fuzz run fuzz_linked_list` in `/tokio/` directory\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? In some cases there is not a problem and this can be\r\nthought of as being the motivation for your change.\r\n-->\r\npreparation for solving https://github.com/tokio-rs/tokio/issues/5601\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\nI added documentation to solve `missing_docs` lint (I think that's what the lint was called). I also added `#[allow(unused_macros)]` to a couple of macros that were used inside unsafe block (clippy apparently can't see inside unsafe blocks).", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5614/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5613", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5613/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5613/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5613/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5613", "id": 1660577397, "node_id": "PR_kwDOBAsbdc5N7HOT", "number": 5613, "title": "Fix FreeBSD ci", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2119690410, "node_id": "MDU6TGFiZWwyMTE5NjkwNDEw", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-ci", "name": "A-ci", "color": "f7e101", "default": false, "description": "Area: The continuous integration setup"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-10T10:24:33Z", "updated_at": "2023-04-10T13:27:01Z", "closed_at": "2023-04-10T13:26:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5613", "html_url": "https://github.com/tokio-rs/tokio/pull/5613", "diff_url": "https://github.com/tokio-rs/tokio/pull/5613.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5613.patch", "merged_at": "2023-04-10T13:26:59Z"}, "body": "CI is failing:\r\n```\r\npkg install -y bash curl\r\nUpdating FreeBSD repository catalogue...\r\nFreeBSD repository is up to date.\r\nAll repositories are up to date.\r\nUpdating database digests format: . done\r\nThe following 2 package(s) will be affected (of 0 checked):\r\n\r\nNew packages to be INSTALLED:\r\n\tbash: 5.2.15\r\n\r\nInstalled packages to be UPGRADED:\r\n\tcurl: 7.85.0 -> 7.88.1\r\n\r\nNumber of packages to be installed: 1\r\nNumber of packages to be upgraded: 1\r\n\r\nThe process will require 9 MiB more space.\r\n3 MiB to be downloaded.\r\n[1/2] Fetching curl-7.88.1.pkg: .......... done\r\n[2/2] Fetching bash-5.2.15.pkg: .......... done\r\nChecking integrity... done (0 conflicting)\r\n[1/2] Upgrading curl from 7.85.0 to 7.88.1...\r\n[1/2] Extracting curl-7.88.1: .......... done\r\n[2/2] Installing bash-5.2.15...\r\n[2/2] Extracting bash-5.2.15: .......... done\r\ncurl https://sh.rustup.rs -sSf --output rustup.sh\r\nld-elf.so.1: /usr/local/lib/libcurl.so.4: Undefined symbol \"nghttp2_option_set_no_rfc9113_leading_and_trailing_ws_validation\"\r\n```", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5613/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5612", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5612/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5612/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5612/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5612", "id": 1660074575, "node_id": "PR_kwDOBAsbdc5N5b-P", "number": 5612, "title": "Add `JoinSet::spawn_blocking`", "user": {"login": "shepmaster", "id": 174509, "node_id": "MDQ6VXNlcjE3NDUwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shepmaster", "html_url": "https://github.com/shepmaster", "followers_url": "https://api.github.com/users/shepmaster/followers", "following_url": "https://api.github.com/users/shepmaster/following{/other_user}", "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions", "organizations_url": "https://api.github.com/users/shepmaster/orgs", "repos_url": "https://api.github.com/users/shepmaster/repos", "events_url": "https://api.github.com/users/shepmaster/events{/privacy}", "received_events_url": "https://api.github.com/users/shepmaster/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993512328, "node_id": "MDU6TGFiZWwxOTkzNTEyMzI4", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-task", "name": "M-task", "color": "f7b101", "default": false, "description": "Module: tokio/task"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-10T01:06:33Z", "updated_at": "2023-04-17T11:39:08Z", "closed_at": "2023-04-17T08:20:27Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5612", "html_url": "https://github.com/tokio-rs/tokio/pull/5612", "diff_url": "https://github.com/tokio-rs/tokio/pull/5612.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5612.patch", "merged_at": "2023-04-17T08:20:27Z"}, "body": "## Motivation\r\n\r\nI recently wrote some code that boiled down to spawning a blocking task inside of an async task, which has undesired indentation and `unwrap`ping:\r\n\r\n```rust\r\njoinset.spawn(async move {\r\n    tokio::task::spawn_blocking(move || {\r\n        // blocking work\r\n    })\r\n        .await\r\n        .unwrap(/* Panic occurred; re-raising */)\r\n});\r\n```\r\n\r\n## Solution\r\n\r\nThis is better expressed as spawning the blocking task directly on the `JoinSet`. The above code can now be written as:\r\n\r\n```rust\r\njoinset.spawn_blocking(move || {\r\n    // blocking work\r\n});\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5612/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5611", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5611/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5611/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5611/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5611", "id": 1659830655, "node_id": "PR_kwDOBAsbdc5N4uQW", "number": 5611, "title": "sync: implement watch::Receiver::wait_for method", "user": {"login": "debadree25", "id": 20257253, "node_id": "MDQ6VXNlcjIwMjU3MjUz", "avatar_url": "https://avatars.githubusercontent.com/u/20257253?v=4", "gravatar_id": "", "url": "https://api.github.com/users/debadree25", "html_url": "https://github.com/debadree25", "followers_url": "https://api.github.com/users/debadree25/followers", "following_url": "https://api.github.com/users/debadree25/following{/other_user}", "gists_url": "https://api.github.com/users/debadree25/gists{/gist_id}", "starred_url": "https://api.github.com/users/debadree25/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/debadree25/subscriptions", "organizations_url": "https://api.github.com/users/debadree25/orgs", "repos_url": "https://api.github.com/users/debadree25/repos", "events_url": "https://api.github.com/users/debadree25/events{/privacy}", "received_events_url": "https://api.github.com/users/debadree25/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-04-09T10:39:09Z", "updated_at": "2023-04-25T23:45:34Z", "closed_at": "2023-04-24T13:48:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5611", "html_url": "https://github.com/tokio-rs/tokio/pull/5611", "diff_url": "https://github.com/tokio-rs/tokio/pull/5611.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5611.patch", "merged_at": "2023-04-24T13:48:08Z"}, "body": "Hey! attempting my first contribution here! confused about whether tests would be required here!\r\n\r\nThank You!\r\n\r\nFixes: https://github.com/tokio-rs/tokio/issues/5606\r\n\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\nThe motivation for this API is that in the case of using the `changed()` API it is required that the receiver first check for changes and then wait for further changes failing to do so would result in race conditions.\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\nWe have solved the stated issue with `changed()` by adding a `watch_for` API which takes in a closure and continuously passes the present value on changes to the closure and returns once the closure returns true \r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5611/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5610", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5610/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5610/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5610/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5610", "id": 1659339076, "node_id": "PR_kwDOBAsbdc5N3WwT", "number": 5610, "title": "io: make read_to_end not grow unnecessarily", "user": {"login": "tzx", "id": 34635512, "node_id": "MDQ6VXNlcjM0NjM1NTEy", "avatar_url": "https://avatars.githubusercontent.com/u/34635512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tzx", "html_url": "https://github.com/tzx", "followers_url": "https://api.github.com/users/tzx/followers", "following_url": "https://api.github.com/users/tzx/following{/other_user}", "gists_url": "https://api.github.com/users/tzx/gists{/gist_id}", "starred_url": "https://api.github.com/users/tzx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tzx/subscriptions", "organizations_url": "https://api.github.com/users/tzx/orgs", "repos_url": "https://api.github.com/users/tzx/repos", "events_url": "https://api.github.com/users/tzx/events{/privacy}", "received_events_url": "https://api.github.com/users/tzx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508195, "node_id": "MDU6TGFiZWwxOTkzNTA4MTk1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-io", "name": "M-io", "color": "f7b101", "default": false, "description": "Module: tokio/io"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-08T02:12:55Z", "updated_at": "2023-04-16T18:23:54Z", "closed_at": "2023-04-16T18:23:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5610", "html_url": "https://github.com/tokio-rs/tokio/pull/5610", "diff_url": "https://github.com/tokio-rs/tokio/pull/5610.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5610.patch", "merged_at": "2023-04-16T18:23:53Z"}, "body": "Fixes: #5594\r\n\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? In some cases there is not a problem and this can be\r\nthought of as being the motivation for your change.\r\n-->\r\n\r\nExplained in #5594\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\nMake `buf.reserve(32)` do an additional check with our original capacity, so we can tell read_to_end to allocate a small buffer to read before reading into the main buffer. Doing so allows us to not allocate again when we reach capacity at an EOF, since we don't allocate with the check and read nothing into the small buffer. If we do not have reach an EOF however, we append out read data and continue as normal.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5610/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5610/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5607", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5607/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5607/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5607/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5607", "id": 1658651199, "node_id": "PR_kwDOBAsbdc5N1I8d", "number": 5607, "title": "sync: add same_channel to broadcast channel", "user": {"login": "oddgrd", "id": 29732646, "node_id": "MDQ6VXNlcjI5NzMyNjQ2", "avatar_url": "https://avatars.githubusercontent.com/u/29732646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oddgrd", "html_url": "https://github.com/oddgrd", "followers_url": "https://api.github.com/users/oddgrd/followers", "following_url": "https://api.github.com/users/oddgrd/following{/other_user}", "gists_url": "https://api.github.com/users/oddgrd/gists{/gist_id}", "starred_url": "https://api.github.com/users/oddgrd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oddgrd/subscriptions", "organizations_url": "https://api.github.com/users/oddgrd/orgs", "repos_url": "https://api.github.com/users/oddgrd/repos", "events_url": "https://api.github.com/users/oddgrd/events{/privacy}", "received_events_url": "https://api.github.com/users/oddgrd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-07T10:32:07Z", "updated_at": "2023-04-10T20:25:04Z", "closed_at": "2023-04-07T12:18:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5607", "html_url": "https://github.com/tokio-rs/tokio/pull/5607", "diff_url": "https://github.com/tokio-rs/tokio/pull/5607.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5607.patch", "merged_at": "2023-04-07T12:18:48Z"}, "body": "Hey! This issue looked like a good place to get started contributing to Tokio. I think I've followed the contributing doc correctly, but let me know if anything is missing and I'll add it. :slightly_smiling_face: \r\n\r\nThis PR implements a `same_channel` method for the broadcast channel senders and receivers, this method checks if two senders/receivers belong to the same channel.\r\n\r\nCloses #5602\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\nThis method exists for Tokio's other channel types, but it's missing for the broadcast channel.\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? In some cases there is not a problem and this can be\r\nthought of as being the motivation for your change.\r\n-->\r\n\r\n## Solution\r\n\r\nAdded a `same_channel` method to both receivers and senders for the `sync::broadcast` channel, with a doc test for each.\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5607/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5604", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5604/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5604/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5604/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5604", "id": 1656929341, "node_id": "PR_kwDOBAsbdc5NvoxO", "number": 5604, "title": "Fix typos", "user": {"login": "wutchzone", "id": 21202801, "node_id": "MDQ6VXNlcjIxMjAyODAx", "avatar_url": "https://avatars.githubusercontent.com/u/21202801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wutchzone", "html_url": "https://github.com/wutchzone", "followers_url": "https://api.github.com/users/wutchzone/followers", "following_url": "https://api.github.com/users/wutchzone/following{/other_user}", "gists_url": "https://api.github.com/users/wutchzone/gists{/gist_id}", "starred_url": "https://api.github.com/users/wutchzone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wutchzone/subscriptions", "organizations_url": "https://api.github.com/users/wutchzone/orgs", "repos_url": "https://api.github.com/users/wutchzone/repos", "events_url": "https://api.github.com/users/wutchzone/events{/privacy}", "received_events_url": "https://api.github.com/users/wutchzone/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 930277298, "node_id": "MDU6TGFiZWw5MzAyNzcyOTg=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-util", "name": "A-tokio-util", "color": "f7e101", "default": false, "description": "Area: The tokio-util crate"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-06T08:37:26Z", "updated_at": "2023-04-06T12:29:13Z", "closed_at": "2023-04-06T12:29:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5604", "html_url": "https://github.com/tokio-rs/tokio/pull/5604", "diff_url": "https://github.com/tokio-rs/tokio/pull/5604.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5604.patch", "merged_at": "2023-04-06T12:29:13Z"}, "body": "Hello,\r\nI have managed to find out some typos in the doc comments.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5604/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5604/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5600", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5600/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5600/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5600/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5600", "id": 1655807887, "node_id": "PR_kwDOBAsbdc5Nr9B4", "number": 5600, "title": "stream: update StreamMap fuzz test", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2583818939, "node_id": "MDU6TGFiZWwyNTgzODE4OTM5", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-stream", "name": "A-tokio-stream", "color": "f7e101", "default": false, "description": "Area: The tokio-stream crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-05T15:06:55Z", "updated_at": "2023-04-11T08:40:14Z", "closed_at": "2023-04-11T08:40:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5600", "html_url": "https://github.com/tokio-rs/tokio/pull/5600", "diff_url": "https://github.com/tokio-rs/tokio/pull/5600.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5600.patch", "merged_at": "2023-04-11T08:40:10Z"}, "body": "This fuzz test touches some quadratic time code paths. This changes the test to limit the test size so that the test doesn't time out.\r\n\r\ncc @silvergasp", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5600/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5599", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5599/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5599/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5599/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5599", "id": 1655219158, "node_id": "PR_kwDOBAsbdc5Np85a", "number": 5599, "title": "Update ci.yml", "user": {"login": "DanielNetzer", "id": 14941988, "node_id": "MDQ6VXNlcjE0OTQxOTg4", "avatar_url": "https://avatars.githubusercontent.com/u/14941988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DanielNetzer", "html_url": "https://github.com/DanielNetzer", "followers_url": "https://api.github.com/users/DanielNetzer/followers", "following_url": "https://api.github.com/users/DanielNetzer/following{/other_user}", "gists_url": "https://api.github.com/users/DanielNetzer/gists{/gist_id}", "starred_url": "https://api.github.com/users/DanielNetzer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DanielNetzer/subscriptions", "organizations_url": "https://api.github.com/users/DanielNetzer/orgs", "repos_url": "https://api.github.com/users/DanielNetzer/repos", "events_url": "https://api.github.com/users/DanielNetzer/events{/privacy}", "received_events_url": "https://api.github.com/users/DanielNetzer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2119690410, "node_id": "MDU6TGFiZWwyMTE5NjkwNDEw", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-ci", "name": "A-ci", "color": "f7e101", "default": false, "description": "Area: The continuous integration setup"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-05T09:00:59Z", "updated_at": "2023-04-05T09:35:48Z", "closed_at": "2023-04-05T09:35:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5599", "html_url": "https://github.com/tokio-rs/tokio/pull/5599", "diff_url": "https://github.com/tokio-rs/tokio/pull/5599.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5599.patch", "merged_at": "2023-04-05T09:35:47Z"}, "body": "fixed typo\r\n\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? In some cases there is not a problem and this can be\r\nthought of as being the motivation for your change.\r\n-->\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5599/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5591", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5591/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5591/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5591/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5591", "id": 1650351746, "node_id": "PR_kwDOBAsbdc5NZz7r", "number": 5591, "title": "Update windows-sys to 0.48", "user": {"login": "taiki-e", "id": 43724913, "node_id": "MDQ6VXNlcjQzNzI0OTEz", "avatar_url": "https://avatars.githubusercontent.com/u/43724913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taiki-e", "html_url": "https://github.com/taiki-e", "followers_url": "https://api.github.com/users/taiki-e/followers", "following_url": "https://api.github.com/users/taiki-e/following{/other_user}", "gists_url": "https://api.github.com/users/taiki-e/gists{/gist_id}", "starred_url": "https://api.github.com/users/taiki-e/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taiki-e/subscriptions", "organizations_url": "https://api.github.com/users/taiki-e/orgs", "repos_url": "https://api.github.com/users/taiki-e/repos", "events_url": "https://api.github.com/users/taiki-e/events{/privacy}", "received_events_url": "https://api.github.com/users/taiki-e/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 2607559888, "node_id": "MDU6TGFiZWwyNjA3NTU5ODg4", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-examples", "name": "A-examples", "color": "f7e101", "default": false, "description": "Area: The examples"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-01T07:53:14Z", "updated_at": "2023-04-02T07:31:29Z", "closed_at": "2023-04-02T07:31:28Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5591", "html_url": "https://github.com/tokio-rs/tokio/pull/5591", "diff_url": "https://github.com/tokio-rs/tokio/pull/5591.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5591.patch", "merged_at": "2023-04-02T07:31:28Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5591/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5590", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5590/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5590/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5590/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5590", "id": 1649197954, "node_id": "PR_kwDOBAsbdc5NWAUX", "number": 5590, "title": "unsafe impl<'a> BufMut for ReadBuf<'a>", "user": {"login": "amab8901", "id": 83634595, "node_id": "MDQ6VXNlcjgzNjM0NTk1", "avatar_url": "https://avatars.githubusercontent.com/u/83634595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amab8901", "html_url": "https://github.com/amab8901", "followers_url": "https://api.github.com/users/amab8901/followers", "following_url": "https://api.github.com/users/amab8901/following{/other_user}", "gists_url": "https://api.github.com/users/amab8901/gists{/gist_id}", "starred_url": "https://api.github.com/users/amab8901/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amab8901/subscriptions", "organizations_url": "https://api.github.com/users/amab8901/orgs", "repos_url": "https://api.github.com/users/amab8901/repos", "events_url": "https://api.github.com/users/amab8901/events{/privacy}", "received_events_url": "https://api.github.com/users/amab8901/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508195, "node_id": "MDU6TGFiZWwxOTkzNTA4MTk1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-io", "name": "M-io", "color": "f7b101", "default": false, "description": "Module: tokio/io"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-31T11:32:10Z", "updated_at": "2023-04-04T20:00:42Z", "closed_at": "2023-04-04T20:00:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5590", "html_url": "https://github.com/tokio-rs/tokio/pull/5590", "diff_url": "https://github.com/tokio-rs/tokio/pull/5590.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5590.patch", "merged_at": "2023-04-04T20:00:41Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\nSolves https://github.com/tokio-rs/tokio/issues/5588\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? In some cases there is not a problem and this can be\r\nthought of as being the motivation for your change.\r\n-->\r\nExplained in https://github.com/tokio-rs/tokio/issues/5588\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\n`unsafe impl<'a> BufMut for ReadBuf<'a>`", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5590/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5590/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5589", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5589/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5589/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5589/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5589", "id": 1646721792, "node_id": "PR_kwDOBAsbdc5NNwN2", "number": 5589, "title": "Fix typo in private poll_proceed() doc comment", "user": {"login": "teor2345", "id": 8951843, "node_id": "MDQ6VXNlcjg5NTE4NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/8951843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teor2345", "html_url": "https://github.com/teor2345", "followers_url": "https://api.github.com/users/teor2345/followers", "following_url": "https://api.github.com/users/teor2345/following{/other_user}", "gists_url": "https://api.github.com/users/teor2345/gists{/gist_id}", "starred_url": "https://api.github.com/users/teor2345/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teor2345/subscriptions", "organizations_url": "https://api.github.com/users/teor2345/orgs", "repos_url": "https://api.github.com/users/teor2345/repos", "events_url": "https://api.github.com/users/teor2345/events{/privacy}", "received_events_url": "https://api.github.com/users/teor2345/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 2025338308, "node_id": "MDU6TGFiZWwyMDI1MzM4MzA4", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-coop", "name": "M-coop", "color": "f7b101", "default": false, "description": "Module: tokio/coop"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-30T00:23:42Z", "updated_at": "2023-03-30T11:25:06Z", "closed_at": "2023-03-30T11:25:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5589", "html_url": "https://github.com/tokio-rs/tokio/pull/5589", "diff_url": "https://github.com/tokio-rs/tokio/pull/5589.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5589.patch", "merged_at": "2023-03-30T11:25:06Z"}, "body": "## Motivation\r\n\r\nIt looks like there's a spurious `CURRENT.with` autocompletion in the middle of the poll_proceed() doc comment.\r\n\r\n## Solution\r\n\r\nRemove the typo.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5589/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5587", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5587/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5587/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5587/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5587", "id": 1646123300, "node_id": "PR_kwDOBAsbdc5NLvcY", "number": 5587, "title": "fix typo in `tokio::sync::watch::Sender` docs", "user": {"login": "LizardWizzard", "id": 19991702, "node_id": "MDQ6VXNlcjE5OTkxNzAy", "avatar_url": "https://avatars.githubusercontent.com/u/19991702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LizardWizzard", "html_url": "https://github.com/LizardWizzard", "followers_url": "https://api.github.com/users/LizardWizzard/followers", "following_url": "https://api.github.com/users/LizardWizzard/following{/other_user}", "gists_url": "https://api.github.com/users/LizardWizzard/gists{/gist_id}", "starred_url": "https://api.github.com/users/LizardWizzard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LizardWizzard/subscriptions", "organizations_url": "https://api.github.com/users/LizardWizzard/orgs", "repos_url": "https://api.github.com/users/LizardWizzard/repos", "events_url": "https://api.github.com/users/LizardWizzard/events{/privacy}", "received_events_url": "https://api.github.com/users/LizardWizzard/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-29T16:11:13Z", "updated_at": "2023-03-29T20:04:49Z", "closed_at": "2023-03-29T18:05:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5587", "html_url": "https://github.com/tokio-rs/tokio/pull/5587", "diff_url": "https://github.com/tokio-rs/tokio/pull/5587.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5587.patch", "merged_at": "2023-03-29T18:05:24Z"}, "body": "## Motivation\r\n\r\nSpotted a typo :)\r\n\r\n## Solution\r\n\r\nFixed it\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5587/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5584", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5584/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5584/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5584/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5584", "id": 1642804499, "node_id": "PR_kwDOBAsbdc5NAjhV", "number": 5584, "title": "chore: prepare Tokio v1.27.0", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-27T21:00:02Z", "updated_at": "2023-03-27T21:55:50Z", "closed_at": "2023-03-27T21:55:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5584", "html_url": "https://github.com/tokio-rs/tokio/pull/5584", "diff_url": "https://github.com/tokio-rs/tokio/pull/5584.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5584.patch", "merged_at": "2023-03-27T21:55:48Z"}, "body": "# 1.27.0 (March 27th, 2023)\r\n\r\nThis release bumps the MSRV of Tokio to 1.56. ([#5559])\r\n\r\n### Added\r\n\r\n- io: add `async_io` helper method to sockets ([#5512])\r\n- io: add implementations of `AsFd`/`AsHandle`/`AsSocket` ([#5514], [#5540])\r\n- net: add `UdpSocket::peek_sender()` ([#5520])\r\n- sync: add `RwLockWriteGuard::{downgrade_map, try_downgrade_map}` ([#5527])\r\n- task: add `JoinHandle::abort_handle` ([#5543])\r\n\r\n### Changed\r\n\r\n- io: use `memchr` from `libc` ([#5558])\r\n- macros: accept path as crate rename in `#[tokio::main]` ([#5557])\r\n- macros: update to syn 2.0.0 ([#5572])\r\n- time: don't register for a wakeup when `Interval` returns `Ready` ([#5553])\r\n\r\n### Fixed\r\n\r\n- fs: fuse std iterator in `ReadDir` ([#5555])\r\n- tracing: fix `spawn_blocking` location fields ([#5573])\r\n- time: clean up redundant check in `Wheel::poll()` ([#5574])\r\n\r\n### Documented\r\n\r\n- macros: define cancellation safety ([#5525])\r\n- io: add details to docs of `tokio::io::copy[_buf]` ([#5575])\r\n- io: refer to `ReaderStream` and `StreamReader` in module docs ([#5576])\r\n\r\n[#5512]: https://github.com/tokio-rs/tokio/pull/5512\r\n[#5514]: https://github.com/tokio-rs/tokio/pull/5514\r\n[#5520]: https://github.com/tokio-rs/tokio/pull/5520\r\n[#5525]: https://github.com/tokio-rs/tokio/pull/5525\r\n[#5527]: https://github.com/tokio-rs/tokio/pull/5527\r\n[#5540]: https://github.com/tokio-rs/tokio/pull/5540\r\n[#5543]: https://github.com/tokio-rs/tokio/pull/5543\r\n[#5553]: https://github.com/tokio-rs/tokio/pull/5553\r\n[#5555]: https://github.com/tokio-rs/tokio/pull/5555\r\n[#5557]: https://github.com/tokio-rs/tokio/pull/5557\r\n[#5558]: https://github.com/tokio-rs/tokio/pull/5558\r\n[#5559]: https://github.com/tokio-rs/tokio/pull/5559\r\n[#5572]: https://github.com/tokio-rs/tokio/pull/5572\r\n[#5573]: https://github.com/tokio-rs/tokio/pull/5573\r\n[#5574]: https://github.com/tokio-rs/tokio/pull/5574\r\n[#5575]: https://github.com/tokio-rs/tokio/pull/5575\r\n[#5576]: https://github.com/tokio-rs/tokio/pull/5576", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5584/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5583", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5583/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5583/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5583/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5583", "id": 1642401755, "node_id": "PR_kwDOBAsbdc5M_Mpx", "number": 5583, "title": "net: Add recv_buf for UdpSocket and UnixDatagram", "user": {"login": "newfla", "id": 33379291, "node_id": "MDQ6VXNlcjMzMzc5Mjkx", "avatar_url": "https://avatars.githubusercontent.com/u/33379291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/newfla", "html_url": "https://github.com/newfla", "followers_url": "https://api.github.com/users/newfla/followers", "following_url": "https://api.github.com/users/newfla/following{/other_user}", "gists_url": "https://api.github.com/users/newfla/gists{/gist_id}", "starred_url": "https://api.github.com/users/newfla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/newfla/subscriptions", "organizations_url": "https://api.github.com/users/newfla/orgs", "repos_url": "https://api.github.com/users/newfla/repos", "events_url": "https://api.github.com/users/newfla/events{/privacy}", "received_events_url": "https://api.github.com/users/newfla/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508926, "node_id": "MDU6TGFiZWwxOTkzNTA4OTI2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-net", "name": "M-net", "color": "f7b101", "default": false, "description": "Module: tokio/net"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-27T16:12:25Z", "updated_at": "2023-03-28T18:17:23Z", "closed_at": "2023-03-28T18:17:22Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5583", "html_url": "https://github.com/tokio-rs/tokio/pull/5583", "diff_url": "https://github.com/tokio-rs/tokio/pull/5583.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5583.patch", "merged_at": "2023-03-28T18:17:22Z"}, "body": "## Motivation\r\n\r\nCloses  #5563.\r\n\r\nIn order to supplies buffer with `length=0` to receive data on `UdpSocket` and `UnixDatagram`, `try_recv_buf_from` and `try_recv_buf` should be used.\r\nUnfortunately, they require additional care compared to `standard recv` variants.\r\n\r\n## Solution\r\nTwo new methods `recv_buf` and `recv_buf_from` have been added to `UdpSocket` and `UnixDatagram`.\r\nThese provide the same ergonomic of `recv` and `recv_from`, without the constraint `buf.length > 0`.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5583/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5582", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5582/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5582/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5582/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5582", "id": 1640590873, "node_id": "PR_kwDOBAsbdc5M5Thq", "number": 5582, "title": "sync: fix `Semaphore::MAX_PERMITS` test", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-25T17:16:36Z", "updated_at": "2023-03-25T18:09:07Z", "closed_at": "2023-03-25T18:09:06Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5582", "html_url": "https://github.com/tokio-rs/tokio/pull/5582", "diff_url": "https://github.com/tokio-rs/tokio/pull/5582.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5582.patch", "merged_at": "2023-03-25T18:09:06Z"}, "body": "The maximum number of permits is `(usize::MAX >> 3)`, not `(usize::MAX >> 2)`.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5582/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5580", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5580/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5580/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5580/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5580", "id": 1639257192, "node_id": "PR_kwDOBAsbdc5M05Wn", "number": 5580, "title": "chore: prepare tokio-macros v2.0.0", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1436302597, "node_id": "MDU6TGFiZWwxNDM2MzAyNTk3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-macros", "name": "A-tokio-macros", "color": "f7e101", "default": false, "description": "Area: The tokio-macros crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2023-03-24T11:55:38Z", "updated_at": "2023-03-27T20:45:56Z", "closed_at": "2023-03-27T20:45:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5580", "html_url": "https://github.com/tokio-rs/tokio/pull/5580", "diff_url": "https://github.com/tokio-rs/tokio/pull/5580.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5580.patch", "merged_at": "2023-03-27T20:45:54Z"}, "body": "# 2.0.0 (March 24th, 2023)\r\n\r\nThis major release updates the dependency on the syn crate to 2.0.0, and increases the MSRV to 1.56.\r\n\r\nAs part of this release, we are adopting a policy of incrementing the tokio-macros major version more often. This reduces the chance of issues where people are confused about the same version of Tokio not behaving in the same way, if you happen to be using two different versions of tokio-macros.\r\n\r\n- macros: update `syn` ([#5572])\r\n- macros: accept path as crate rename ([#5557])\r\n\r\n[#5572]: https://github.com/tokio-rs/tokio/pull/5572\r\n[#5557]: https://github.com/tokio-rs/tokio/pull/5557", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5580/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5578", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5578/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5578/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5578/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5578", "id": 1638363290, "node_id": "PR_kwDOBAsbdc5Mx4m-", "number": 5578, "title": "sync: avoid deadlocks in `broadcast` with custom wakers", "user": {"login": "satakuma", "id": 46168631, "node_id": "MDQ6VXNlcjQ2MTY4NjMx", "avatar_url": "https://avatars.githubusercontent.com/u/46168631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satakuma", "html_url": "https://github.com/satakuma", "followers_url": "https://api.github.com/users/satakuma/followers", "following_url": "https://api.github.com/users/satakuma/following{/other_user}", "gists_url": "https://api.github.com/users/satakuma/gists{/gist_id}", "starred_url": "https://api.github.com/users/satakuma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satakuma/subscriptions", "organizations_url": "https://api.github.com/users/satakuma/orgs", "repos_url": "https://api.github.com/users/satakuma/repos", "events_url": "https://api.github.com/users/satakuma/events{/privacy}", "received_events_url": "https://api.github.com/users/satakuma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-23T21:31:08Z", "updated_at": "2023-04-25T13:58:14Z", "closed_at": "2023-04-16T14:22:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5578", "html_url": "https://github.com/tokio-rs/tokio/pull/5578", "diff_url": "https://github.com/tokio-rs/tokio/pull/5578.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5578.patch", "merged_at": "2023-04-16T14:22:38Z"}, "body": "## Motivation\r\n\r\nCurrently, the `broadcast` channel drops wakers while holding the lock to the internal state. This can lead to a deadlock if a user provides a custom waker implementation, see #5429.\r\n\r\n## Solution\r\n\r\n* If the old waker for a future has to be replaced, store the old waker on the side and drop it after releasing the lock,\r\n* Notify waiting futures in batches, similarly to `Notify` and the IO driver.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5578/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5577", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5577/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5577/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5577/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5577", "id": 1638199986, "node_id": "PR_kwDOBAsbdc5MxVMk", "number": 5577, "title": "stream: add StreamExt::timeout_repeating", "user": {"login": "jrray", "id": 3501, "node_id": "MDQ6VXNlcjM1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrray", "html_url": "https://github.com/jrray", "followers_url": "https://api.github.com/users/jrray/followers", "following_url": "https://api.github.com/users/jrray/following{/other_user}", "gists_url": "https://api.github.com/users/jrray/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrray/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrray/subscriptions", "organizations_url": "https://api.github.com/users/jrray/orgs", "repos_url": "https://api.github.com/users/jrray/repos", "events_url": "https://api.github.com/users/jrray/events{/privacy}", "received_events_url": "https://api.github.com/users/jrray/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993513841, "node_id": "MDU6TGFiZWwxOTkzNTEzODQx", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-time", "name": "M-time", "color": "f7b101", "default": false, "description": "Module: tokio/time"}, {"id": 2583818939, "node_id": "MDU6TGFiZWwyNTgzODE4OTM5", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-stream", "name": "A-tokio-stream", "color": "f7e101", "default": false, "description": "Area: The tokio-stream crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-23T19:50:05Z", "updated_at": "2023-04-24T07:27:25Z", "closed_at": "2023-04-24T07:27:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5577", "html_url": "https://github.com/tokio-rs/tokio/pull/5577", "diff_url": "https://github.com/tokio-rs/tokio/pull/5577.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5577.patch", "merged_at": "2023-04-24T07:27:25Z"}, "body": "## Motivation\r\n\r\nThe behavior of `StreamExt::timeout` is it only fires the timeout once (per value produced from the wrapped stream) and while this behavior is documented it is easy to overlook and assume that timeouts are generated repeatedly. I had made use of `timeout` in a project assuming that timeouts did repeat and it led to a subtle bug. It is useful for my use case for timeouts to fire repeatedly, so this change adds that in `timeout_repeating` as an alternative to `timeout`. For example, one might want to log a message at a fixed interval while no messages are being produced from a stream.\r\n\r\n## Solution\r\n\r\nThe non-repeating timeout behavior of `timeout` was not tested or demonstrated by the doc test, so first this was added.\r\n\r\nA new `enum TimeoutMode` has been added to describe the two possible behaviors. `stream_ext::Timeout` was modified with a new `timeout_mode: TimeoutMode` field to share an implementation between the two behaviors.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5577/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5577/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5576", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5576/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5576/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5576/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5576", "id": 1636738878, "node_id": "PR_kwDOBAsbdc5MsaDP", "number": 5576, "title": "cite `ReaderStream` and `StreamReader` in `tokio::io` docs", "user": {"login": "marcospb19", "id": 38900226, "node_id": "MDQ6VXNlcjM4OTAwMjI2", "avatar_url": "https://avatars.githubusercontent.com/u/38900226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcospb19", "html_url": "https://github.com/marcospb19", "followers_url": "https://api.github.com/users/marcospb19/followers", "following_url": "https://api.github.com/users/marcospb19/following{/other_user}", "gists_url": "https://api.github.com/users/marcospb19/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcospb19/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcospb19/subscriptions", "organizations_url": "https://api.github.com/users/marcospb19/orgs", "repos_url": "https://api.github.com/users/marcospb19/repos", "events_url": "https://api.github.com/users/marcospb19/events{/privacy}", "received_events_url": "https://api.github.com/users/marcospb19/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508195, "node_id": "MDU6TGFiZWwxOTkzNTA4MTk1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-io", "name": "M-io", "color": "f7b101", "default": false, "description": "Module: tokio/io"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-23T02:12:20Z", "updated_at": "2023-03-23T15:54:26Z", "closed_at": "2023-03-23T15:31:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5576", "html_url": "https://github.com/tokio-rs/tokio/pull/5576", "diff_url": "https://github.com/tokio-rs/tokio/pull/5576.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5576.patch", "merged_at": "2023-03-23T15:31:41Z"}, "body": "## Motivation\r\n\r\n`ReaderStream` and `StreamReader` from the crate `tokio_util` are\r\nthe simplest and most convenient adaptors for creating a `Stream`\r\nout of `AsyncRead`, I overlooked it at first, because `tokio::io`\r\ndocs point to the `tokio_util::codec` module, which seemed\r\noverkill at first sigh.\r\n\r\nSo I think it would be cool to also recommend `ReaderStream` and\r\n`StreamReader`, because they are, IMO, the simplest answer for\r\nthe most general (and basic) use case.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5576/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5576/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5575", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5575/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5575/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5575/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5575", "id": 1636515335, "node_id": "PR_kwDOBAsbdc5Mrqo5", "number": 5575, "title": "add details to docs of `tokio::io::copy[_buf]`", "user": {"login": "marcospb19", "id": 38900226, "node_id": "MDQ6VXNlcjM4OTAwMjI2", "avatar_url": "https://avatars.githubusercontent.com/u/38900226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcospb19", "html_url": "https://github.com/marcospb19", "followers_url": "https://api.github.com/users/marcospb19/followers", "following_url": "https://api.github.com/users/marcospb19/following{/other_user}", "gists_url": "https://api.github.com/users/marcospb19/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcospb19/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcospb19/subscriptions", "organizations_url": "https://api.github.com/users/marcospb19/orgs", "repos_url": "https://api.github.com/users/marcospb19/repos", "events_url": "https://api.github.com/users/marcospb19/events{/privacy}", "received_events_url": "https://api.github.com/users/marcospb19/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508195, "node_id": "MDU6TGFiZWwxOTkzNTA4MTk1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-io", "name": "M-io", "color": "f7b101", "default": false, "description": "Module: tokio/io"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-22T21:23:20Z", "updated_at": "2023-03-23T15:54:28Z", "closed_at": "2023-03-23T15:19:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5575", "html_url": "https://github.com/tokio-rs/tokio/pull/5575", "diff_url": "https://github.com/tokio-rs/tokio/pull/5575.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5575.patch", "merged_at": "2023-03-23T15:19:51Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\nTo explain differences between `tokio::io` functions `copy` and `copy_buf`\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5575/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5574", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5574/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5574/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5574/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5574", "id": 1636506419, "node_id": "PR_kwDOBAsbdc5Mros1", "number": 5574, "title": "time: clean up redundant check in Wheel::poll()", "user": {"login": "marcelo-gonzalez", "id": 37846884, "node_id": "MDQ6VXNlcjM3ODQ2ODg0", "avatar_url": "https://avatars.githubusercontent.com/u/37846884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcelo-gonzalez", "html_url": "https://github.com/marcelo-gonzalez", "followers_url": "https://api.github.com/users/marcelo-gonzalez/followers", "following_url": "https://api.github.com/users/marcelo-gonzalez/following{/other_user}", "gists_url": "https://api.github.com/users/marcelo-gonzalez/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcelo-gonzalez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcelo-gonzalez/subscriptions", "organizations_url": "https://api.github.com/users/marcelo-gonzalez/orgs", "repos_url": "https://api.github.com/users/marcelo-gonzalez/repos", "events_url": "https://api.github.com/users/marcelo-gonzalez/events{/privacy}", "received_events_url": "https://api.github.com/users/marcelo-gonzalez/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993513841, "node_id": "MDU6TGFiZWwxOTkzNTEzODQx", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-time", "name": "M-time", "color": "f7b101", "default": false, "description": "Module: tokio/time"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2023-03-22T21:15:11Z", "updated_at": "2023-03-23T16:53:55Z", "closed_at": "2023-03-23T16:53:55Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5574", "html_url": "https://github.com/tokio-rs/tokio/pull/5574", "diff_url": "https://github.com/tokio-rs/tokio/pull/5574.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5574.patch", "merged_at": "2023-03-23T16:53:55Z"}, "body": "The condition checked in the and_then() call is the same as is checked in the match below, so we can clean it up by just matching on next_expiration() directly.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5574/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5573", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5573/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5573/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5573/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5573", "id": 1636100047, "node_id": "PR_kwDOBAsbdc5MqRaa", "number": 5573, "title": "tracing: fix `spawn_blocking` location fields", "user": {"login": "hds", "id": 89589, "node_id": "MDQ6VXNlcjg5NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/89589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hds", "html_url": "https://github.com/hds", "followers_url": "https://api.github.com/users/hds/followers", "following_url": "https://api.github.com/users/hds/following{/other_user}", "gists_url": "https://api.github.com/users/hds/gists{/gist_id}", "starred_url": "https://api.github.com/users/hds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hds/subscriptions", "organizations_url": "https://api.github.com/users/hds/orgs", "repos_url": "https://api.github.com/users/hds/repos", "events_url": "https://api.github.com/users/hds/events{/privacy}", "received_events_url": "https://api.github.com/users/hds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 2229248027, "node_id": "MDU6TGFiZWwyMjI5MjQ4MDI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-tracing", "name": "M-tracing", "color": "f7b101", "default": false, "description": "Tracing support in Tokio"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-22T16:16:21Z", "updated_at": "2023-03-22T21:08:03Z", "closed_at": "2023-03-22T21:08:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5573", "html_url": "https://github.com/tokio-rs/tokio/pull/5573", "diff_url": "https://github.com/tokio-rs/tokio/pull/5573.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5573.patch", "merged_at": "2023-03-22T21:08:01Z"}, "body": "## Motivation\r\n\r\nIn a previous PR (#4128), the `spawn.location` field on task spans was\r\nstructured into 3 separate fields for the `file`, `line`, and `col`.\r\nThere is a separately created span for blocking tasks which was missed.\r\n\r\nThis caused tasks created with `spawn_blocking` to appear in\r\n`tokio-console` without a location, but with an additional \"free form\"\r\nfield containing the formatted source code location.\r\n\r\n## Solution\r\n\r\nThis change modifies this span to use the same format. The span creation\r\nneeds to be separate from the other task spans because it records the\r\nfunction name. This information is useful in the `spawn_blocking` case,\r\nbut can be \"catastrophically long\" in the `async fn` case and was\r\nremoved in #3074.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5573/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5573/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5572", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5572/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5572/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5572/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5572", "id": 1634693972, "node_id": "PR_kwDOBAsbdc5Mlk4o", "number": 5572, "title": "macros: update syn", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1436302597, "node_id": "MDU6TGFiZWwxNDM2MzAyNTk3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-macros", "name": "A-tokio-macros", "color": "f7e101", "default": false, "description": "Area: The tokio-macros crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-21T21:11:06Z", "updated_at": "2023-03-23T22:39:04Z", "closed_at": "2023-03-23T22:39:00Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5572", "html_url": "https://github.com/tokio-rs/tokio/pull/5572", "diff_url": "https://github.com/tokio-rs/tokio/pull/5572.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5572.patch", "merged_at": "2023-03-23T22:39:00Z"}, "body": "## Motivation\r\n\r\nsyn 2.0 has been released.\r\n\r\n## Solution\r\n\r\nUpdate tokio-macros to syn 2.0. Required first [bumping tokio's MSRV](https://github.com/tokio-rs/tokio/pull/5559).", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5572/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5572/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5571", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5571/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5571/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5571/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5571", "id": 1634317302, "node_id": "PR_kwDOBAsbdc5MkUU9", "number": 5571, "title": "Update stream, util, test to 2021 edition", "user": {"login": "tzx", "id": 34635512, "node_id": "MDQ6VXNlcjM0NjM1NTEy", "avatar_url": "https://avatars.githubusercontent.com/u/34635512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tzx", "html_url": "https://github.com/tzx", "followers_url": "https://api.github.com/users/tzx/followers", "following_url": "https://api.github.com/users/tzx/following{/other_user}", "gists_url": "https://api.github.com/users/tzx/gists{/gist_id}", "starred_url": "https://api.github.com/users/tzx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tzx/subscriptions", "organizations_url": "https://api.github.com/users/tzx/orgs", "repos_url": "https://api.github.com/users/tzx/repos", "events_url": "https://api.github.com/users/tzx/events{/privacy}", "received_events_url": "https://api.github.com/users/tzx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 930277298, "node_id": "MDU6TGFiZWw5MzAyNzcyOTg=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-util", "name": "A-tokio-util", "color": "f7e101", "default": false, "description": "Area: The tokio-util crate"}, {"id": 1436305752, "node_id": "MDU6TGFiZWwxNDM2MzA1NzUy", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-test", "name": "A-tokio-test", "color": "f7e101", "default": false, "description": "Area: The tokio-test crate"}, {"id": 2583818939, "node_id": "MDU6TGFiZWwyNTgzODE4OTM5", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-stream", "name": "A-tokio-stream", "color": "f7e101", "default": false, "description": "Area: The tokio-stream crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-21T16:41:14Z", "updated_at": "2023-03-25T16:43:54Z", "closed_at": "2023-03-21T17:36:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5571", "html_url": "https://github.com/tokio-rs/tokio/pull/5571", "diff_url": "https://github.com/tokio-rs/tokio/pull/5571.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5571.patch", "merged_at": "2023-03-21T17:36:40Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? In some cases there is not a problem and this can be\r\nthought of as being the motivation for your change.\r\n-->\r\n\r\nI want to close #5560, so tokio-stream, tokio-util, and tokio-test can be updated to the 2021 edition.\r\n\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n1. I grepped for traits that are already included in the Prelude (TryInto, TryFrom and FromIterator) and removed shortened paths. There weren't any imports that had those traits. \r\n2. I ran `cargo fix --edition` on the mentioned crates. I did see a disjoint capture change in the closure here: https://github.com/tokio-rs/tokio/blob/b489acb46cb7e932808a1e9c8a4655089375d53c/tokio-util/src/sync/reusable_box.rs#L65 but I changed it back since it seems fine (I'm not entirely sure though). Other than that, I didn't see any more changes.\r\n\r\nI'm not sure if there are more things to do. I would be happy to work on them.\r\n\r\nCloses #5560", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5571/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5570", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5570/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5570/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5570/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5570", "id": 1634200912, "node_id": "PR_kwDOBAsbdc5Mj7J9", "number": 5570, "title": "time: fix repeatedly_reset_entry_inserted_as_expired test", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 930277298, "node_id": "MDU6TGFiZWw5MzAyNzcyOTg=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-util", "name": "A-tokio-util", "color": "f7e101", "default": false, "description": "Area: The tokio-util crate"}, {"id": 1993513841, "node_id": "MDU6TGFiZWwxOTkzNTEzODQx", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-time", "name": "M-time", "color": "f7b101", "default": false, "description": "Module: tokio/time"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-21T15:47:49Z", "updated_at": "2023-03-21T17:06:25Z", "closed_at": "2023-03-21T17:06:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5570", "html_url": "https://github.com/tokio-rs/tokio/pull/5570", "diff_url": "https://github.com/tokio-rs/tokio/pull/5570.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5570.patch", "merged_at": "2023-03-21T17:06:23Z"}, "body": "There's a new CI failure on master.\r\n\r\n<details>\r\n  <summary>CI Output</summary>\r\n  \r\n```\r\n     Running tests/time_delay_queue.rs (target/wasm32-wasi/debug/deps/time_delay_queue-f0c21ef322a44873.wasm)\r\n\r\nrunning 30 tests\r\ntest compact_change_deadline ... ok\r\ntest compact_expire_empty ... ok\r\ntest compact_remove_empty ... ok\r\ntest compact_remove_remapped_keys ... ok\r\ntest delay_queue_poll_expired_when_empty ... ok\r\ntest expire_first_key_when_reset_to_expire_earlier ... ok\r\ntest expire_second_key_when_reset_to_expire_earlier ... ok\r\ntest expires_before_last_insert ... ok\r\ntest insert_after_ready_poll ... ok\r\ntest insert_before_first_after_poll ... ok\r\ntest insert_in_past_after_poll_fires_immediately ... ok\r\ntest insert_in_past_fires_immediately ... ok\r\ntest multi_delay_at_start ... ok\r\ntest multi_immediate_delays ... ok\r\ntest multi_reset ... ok\r\ntest remove_after_compact ... ignored, FIXME: Does not seem to work with WASI\r\ntest remove_after_compact_poll ... ignored, FIXME: Does not seem to work with WASI\r\ntest remove_at_timer_wheel_threshold ... ok\r\ntest remove_entry ... ok\r\ntest remove_expired_item ... ok\r\nError: failed to run main module `/home/runner/work/tokio/tokio/target/wasm32-wasi/debug/deps/time_delay_queue-f0c21ef322a44873.wasm`\r\n\r\nCaused by:\r\n    0: failed to invoke command default\r\n    1: error while executing at wasm backtrace:\r\n           0: 0x14360f - <unknown>!__rust_start_panic\r\n           1: 0x142f1d - <unknown>!rust_panic\r\n           2: 0x142ee4 - <unknown>!std::panicking::rust_panic_with_hook::hd6f3df478dab5dc5\r\n           3: 0x1419aa - <unknown>!std::panicking::begin_panic_handler::{{closure}}::h7be61ca999d17a10\r\n           4: 0x1418d4 - <unknown>!std::sys_common::backtrace::__rust_end_short_backtrace::h1c7217a99e6903e8\r\n           5: 0x142552 - <unknown>!rust_begin_unwind\r\n           6: 0x149a0d - <unknown>!core::panicking::panic_fmt::h86214d64a55c1d57\r\n           7: 0x15016d - <unknown>!core::panicking::panic_display::h58fb45e5567db9b3\r\n           8: 0x14fd1d - <unknown>!core::panicking::panic_str::hef6f4fea2c6da56a\r\n           9: 0x14fceb - <unknown>!core::option::expect_failed::he9c7eebda4091106\r\n          10: 0x140db4 - <unknown>!<std::time::Instant as core::ops::arith::Sub<core::time::Duration>>::sub::h9d1ea7149970c4f4\r\n          11: 0xb656b - <unknown>!<tokio::time::instant::Instant as core::ops::arith::Sub<core::time::Duration>>::sub::h8709be5f2824f4d8\r\n          12: 0x1423c - <unknown>!time_delay_queue::repeatedly_reset_entry_inserted_as_expired::{{closure}}::h5113477f19ab55d3\r\n          13: 0x3e836 - <unknown>!<core::pin::Pin<P> as core::future::future::Future>::poll::h4fa8cd4e55f21ac9\r\n          14: 0x3e8ce - <unknown>!<core::pin::Pin<P> as core::future::future::Future>::poll::h642aec97e6dd8367\r\n          15: 0x3c5c7 - <unknown>!tokio::runtime::scheduler::current_thread::CoreGuard::block_on::{{closure}}::{{closure}}::{{closure}}::h1e04fe847e0eed21\r\n          16: 0x3b926 - <unknown>!tokio::runtime::scheduler::current_thread::CoreGuard::block_on::{{closure}}::{{closure}}::hda5894a20edb5dea\r\n          17: 0x3b74d - <unknown>!tokio::runtime::scheduler::current_thread::Context::enter::h0551c0eeeb75cb0b\r\n          18: 0x3bfd4 - <unknown>!tokio::runtime::scheduler::current_thread::CoreGuard::block_on::{{closure}}::h04e2d857a61424cc\r\n          19: 0x3ad99 - <unknown>!tokio::runtime::scheduler::current_thread::CoreGuard::enter::{{closure}}::hefeb9ef4b490f0b0\r\n          20: 0x3aceb - <unknown>!tokio::macros::scoped_tls::ScopedKey<T>::set::h768b6b08d5c1ff74\r\n          21: 0x3bd7c - <unknown>!tokio::runtime::scheduler::current_thread::CoreGuard::enter::h3549fc9053a672ee\r\n          22: 0x3b4a4 - <unknown>!tokio::runtime::scheduler::current_thread::CoreGuard::block_on::h29331f6bd3fa002f\r\n          23: 0x3b0df - <unknown>!tokio::runtime::scheduler::current_thread::CurrentThread::block_on::h252f5d42c4325f40\r\n          24: 0x3aeb2 - <unknown>!tokio::runtime::runtime::Runtime::block_on::hd567519e6c4ccdf2\r\n          25: 0x14000 - <unknown>!time_delay_queue::repeatedly_reset_entry_inserted_as_expired::h2e8d9e0d39e801f8\r\n          26: 0x13e64 - <unknown>!time_delay_queue::repeatedly_reset_entry_inserted_as_expired::{{closure}}::hba3d5e0e60e4e59f\r\n          27: 0x40eae - <unknown>!core::ops::function::FnOnce::call_once::h21770440c4a77129\r\n          28: 0x78844 - <unknown>!test::__rust_begin_short_backtrace::h2f7251cabac8cc17\r\n          29: 0x78824 - <unknown>!core::ops::function::FnOnce::call_once{{vtable.shim}}::h98ae03618d6ef851\r\n          30: 0xa0133 - <unknown>!test::run_test::run_test_inner::hcac225d7d620b63b\r\n          31: 0x8b209 - <unknown>!test::run_test::h2db965a4129a3fb3\r\n          32: 0x871c7 - <unknown>!test::console::run_tests_console::h58c4d5717b25d8bf\r\n          33: 0x9f467 - <unknown>!test::test_main::hc2411b2d7bc2431a\r\n          34: 0x9f6b3 - <unknown>!test::test_main_static::hd744aa7211882b13\r\n          35: 0x2c72f - <unknown>!time_delay_queue::main::h41b7fb16cef306a9\r\n          36: 0x4107d - <unknown>!core::ops::function::FnOnce::call_once::h3c9e1736a43e028c\r\n          37: 0x6f4ba - <unknown>!std::sys_common::backtrace::__rust_begin_short_backtrace::h47e6361a0d37dfca\r\n          38: 0x3a287 - <unknown>!std::rt::lang_start::{{closure}}::h20bb17588a43137f\r\n          39: 0x13a6bf - <unknown>!std::rt::lang_start_internal::h83cbd77d07ad3a3a\r\n          40: 0x3a224 - <unknown>!std::rt::lang_start::h6ec71f408c08c5b2\r\n          41: 0x2c753 - <unknown>!__main_void\r\n          42: 0x1bfa - <unknown>!_start\r\n       note: using the `WASMTIME_BACKTRACE_DETAILS=1` environment variable may show more debugging information\r\n    2: wasm trap: wasm `unreachable` instruction executed\r\n\r\nStack backtrace:\r\n   0: anyhow::error::<impl core::convert::From<E> for anyhow::Error>::from\r\n   1: wasmtime::trap::from_runtime_box\r\n   2: wasmtime::func::Func::call_impl\r\n   3: wasmtime::linker::Linker<T>::module::{{closure}}::{{closure}}\r\n   4: wasmtime::func::Func::invoke\r\n   5: wasmtime::func::Caller<T>::with\r\n   6: wasmtime::trampoline::func::stub_fn\r\n   7: <unknown>\r\n   8: <unknown>\r\n   9: wasmtime_setjmp\r\n  10: wasmtime_runtime::traphandlers::<impl wasmtime_runtime::traphandlers::call_thread_state::CallThreadState>::with\r\n  11: wasmtime_runtime::traphandlers::catch_traps\r\n  12: wasmtime::func::Func::call_impl\r\n  13: wasmtime_cli::commands::run::RunCommand::invoke_func\r\n  14: wasmtime_cli::commands::run::RunCommand::load_main_module\r\n  15: wasmtime_cli::commands::run::RunCommand::execute\r\n  16: wasmtime::main\r\n  17: std::sys_common::backtrace::__rust_begin_short_backtrace\r\n  18: std::rt::lang_start::{{closure}}\r\n  19: core::ops::function::impls::<impl core::ops::function::FnOnce<A> for &F>::call_once\r\n             at /rustc/001a77fac33f6560ff361ff38f661ff5f1c6bf85/library/core/src/ops/function.rs:287:13\r\n  20: std::panicking::try::do_call\r\n             at /rustc/001a77fac33f6560ff361ff38f661ff5f1c6bf85/library/std/src/panicking.rs:483:40\r\n  21: std::panicking::try\r\n             at /rustc/001a77fac33f6560ff361ff38f661ff5f1c6bf85/library/std/src/panicking.rs:447:19\r\n  22: std::panic::catch_unwind\r\n             at /rustc/001a77fac33f6560ff361ff38f661ff5f1c6bf85/library/std/src/panic.rs:140:14\r\n  23: std::rt::lang_start_internal::{{closure}}\r\n             at /rustc/001a77fac33f6560ff361ff38f661ff5f1c6bf85/library/std/src/rt.rs:148:48\r\n  24: std::panicking::try::do_call\r\n             at /rustc/001a77fac33f6560ff361ff38f661ff5f1c6bf85/library/std/src/panicking.rs:483:40\r\n  25: std::panicking::try\r\n             at /rustc/001a77fac33f6560ff361ff38f661ff5f1c6bf85/library/std/src/panicking.rs:447:19\r\n  26: std::panic::catch_unwind\r\n             at /rustc/001a77fac33f6560ff361ff38f661ff5f1c6bf85/library/std/src/panic.rs:140:14\r\n  27: std::rt::lang_start_internal\r\n             at /rustc/001a77fac33f6560ff361ff38f661ff5f1c6bf85/library/std/src/rt.rs:148:20\r\n  28: main\r\n  29: <unknown>\r\n  30: __libc_start_main\r\n  31: <unknown>\r\nerror: test failed, to rerun pass `-p tokio-util --test time_delay_queue`\r\n```\r\n</details>\r\n\r\nThis PR is an attempt to fix it.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5570/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5569", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5569/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5569/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5569/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5569", "id": 1634126586, "node_id": "PR_kwDOBAsbdc5MjrIh", "number": 5569, "title": "tokio-util: time: add `DelayQueue::peek`", "user": {"login": "Gelbpunkt", "id": 38864617, "node_id": "MDQ6VXNlcjM4ODY0NjE3", "avatar_url": "https://avatars.githubusercontent.com/u/38864617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gelbpunkt", "html_url": "https://github.com/Gelbpunkt", "followers_url": "https://api.github.com/users/Gelbpunkt/followers", "following_url": "https://api.github.com/users/Gelbpunkt/following{/other_user}", "gists_url": "https://api.github.com/users/Gelbpunkt/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gelbpunkt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gelbpunkt/subscriptions", "organizations_url": "https://api.github.com/users/Gelbpunkt/orgs", "repos_url": "https://api.github.com/users/Gelbpunkt/repos", "events_url": "https://api.github.com/users/Gelbpunkt/events{/privacy}", "received_events_url": "https://api.github.com/users/Gelbpunkt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 930277298, "node_id": "MDU6TGFiZWw5MzAyNzcyOTg=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-util", "name": "A-tokio-util", "color": "f7e101", "default": false, "description": "Area: The tokio-util crate"}, {"id": 1993513841, "node_id": "MDU6TGFiZWwxOTkzNTEzODQx", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-time", "name": "M-time", "color": "f7b101", "default": false, "description": "Module: tokio/time"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2023-03-21T15:08:10Z", "updated_at": "2023-04-16T13:58:22Z", "closed_at": "2023-04-16T07:43:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5569", "html_url": "https://github.com/tokio-rs/tokio/pull/5569", "diff_url": "https://github.com/tokio-rs/tokio/pull/5569.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5569.patch", "merged_at": "2023-04-16T07:43:04Z"}, "body": "## Motivation\r\n\r\nMy goal is to implement an expiring LRU cache that uses a `DashMap` + `DelayQueue` with an optional maximum capacity. On capacity overflow, I want to remove the item that would've been next to expire. I described this issue in #5279.\r\n\r\n## Solution\r\n\r\nAdding `DelayQueue::peek` allows for getting the `Key` that will expire next. In my usecase, a `DelayQueue<K>` + `DashMap<K, V>` is used, so after removing the next expiring key from the queue, it can also be used to remove it from the map because `K` is now known. I made an implementation that showcases this [here](https://github.com/Gelbpunkt/http-proxy/blob/delay-queue/src/expiring_lru.rs).\r\n\r\nThis implementation is based on `pop_entry_slot` and uses `peek` methods instead which don't touch the contents of the stack and levels.\r\n\r\nCloses: #5279", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5569/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5561", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5561/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5561/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5561/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5561", "id": 1630970807, "node_id": "PR_kwDOBAsbdc5MZEkT", "number": 5561, "title": "sync: try to lock the parent first in CancellationToken", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 930277298, "node_id": "MDU6TGFiZWw5MzAyNzcyOTg=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-util", "name": "A-tokio-util", "color": "f7e101", "default": false, "description": "Area: The tokio-util crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-19T14:44:45Z", "updated_at": "2023-03-21T13:20:36Z", "closed_at": "2023-03-21T13:20:34Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5561", "html_url": "https://github.com/tokio-rs/tokio/pull/5561", "diff_url": "https://github.com/tokio-rs/tokio/pull/5561.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5561.patch", "merged_at": "2023-03-21T13:20:34Z"}, "body": "Deadlock safety requires that the parent is locked before the child, but we can still use `try_lock` to attempt to lock the parent without releasing the child.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5561/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5559", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5559/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5559/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5559/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5559", "id": 1630884491, "node_id": "PR_kwDOBAsbdc5MYzIx", "number": 5559, "title": "tokio: bump MSRV to 1.56", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 930277298, "node_id": "MDU6TGFiZWw5MzAyNzcyOTg=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-util", "name": "A-tokio-util", "color": "f7e101", "default": false, "description": "Area: The tokio-util crate"}, {"id": 1436302597, "node_id": "MDU6TGFiZWwxNDM2MzAyNTk3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-macros", "name": "A-tokio-macros", "color": "f7e101", "default": false, "description": "Area: The tokio-macros crate"}, {"id": 1436305752, "node_id": "MDU6TGFiZWwxNDM2MzA1NzUy", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-test", "name": "A-tokio-test", "color": "f7e101", "default": false, "description": "Area: The tokio-test crate"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 2583818939, "node_id": "MDU6TGFiZWwyNTgzODE4OTM5", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-stream", "name": "A-tokio-stream", "color": "f7e101", "default": false, "description": "Area: The tokio-stream crate"}, {"id": 4419404792, "node_id": "LA_kwDOBAsbdc8AAAABB2rD-A", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-readme", "name": "A-readme", "color": "f7e101", "default": false, "description": "Area: Documentation that isn't part of any crate such as README.md or CONTRIBUTING.md"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-19T10:51:54Z", "updated_at": "2023-03-21T17:06:49Z", "closed_at": "2023-03-21T17:06:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5559", "html_url": "https://github.com/tokio-rs/tokio/pull/5559", "diff_url": "https://github.com/tokio-rs/tokio/pull/5559.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5559.patch", "merged_at": "2023-03-21T17:06:48Z"}, "body": "This bumps the MSRV to 1.56. The bump is motivated by the syn 2.0.0 release, and by the fact that no Linux distributions ship an rustc between 1.49 and 1.56 (to my knowledge).\r\n\r\nUsually, I try to add the latest version before an MSRV bump as an LTS, but we just added a new LTS a few weeks ago. If this causes issues for you, let us know about your use-case, and we can consider making 1.26 an LTS.\r\n\r\nNote that this bump lets us use the 2021 edition.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5559/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 2, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5559/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5558", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5558/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5558/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5558/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5558", "id": 1630720167, "node_id": "PR_kwDOBAsbdc5MYR_k", "number": 5558, "title": "io: use memchr from libc", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508195, "node_id": "MDU6TGFiZWwxOTkzNTA4MTk1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-io", "name": "M-io", "color": "f7b101", "default": false, "description": "Module: tokio/io"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-19T00:42:25Z", "updated_at": "2023-03-19T10:49:21Z", "closed_at": "2023-03-19T10:49:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5558", "html_url": "https://github.com/tokio-rs/tokio/pull/5558", "diff_url": "https://github.com/tokio-rs/tokio/pull/5558.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5558.patch", "merged_at": "2023-03-19T10:49:20Z"}, "body": "We have a general policy of biasing towards fewer dependencies. Therefore, I think it makes sense to just use the libc implementation of `memchr` rather than pulling in an entire crate just for the implementation of `AsyncRead::read_until`.\r\n\r\nI added a simple wrapper around the libc memchr function and a few tests to sanity check the wrapper. ", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5558/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5557", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5557/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5557/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5557/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5557", "id": 1630593370, "node_id": "PR_kwDOBAsbdc5MX2KC", "number": 5557, "title": "Accept path as crate rename as well", "user": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1436302597, "node_id": "MDU6TGFiZWwxNDM2MzAyNTk3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-macros", "name": "A-tokio-macros", "color": "f7e101", "default": false, "description": "Area: The tokio-macros crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-18T20:48:09Z", "updated_at": "2023-03-19T11:28:44Z", "closed_at": "2023-03-19T11:28:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5557", "html_url": "https://github.com/tokio-rs/tokio/pull/5557", "diff_url": "https://github.com/tokio-rs/tokio/pull/5557.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5557.patch", "merged_at": "2023-03-19T11:28:44Z"}, "body": "## Motivation\r\n\r\nCurrently Tokio supports renaming the crate inside the macro with the `crate` attribute. I was playing around with a personal library that simplifies some stuff around multiple macros, including the Tokio macro.\r\nTo implement this with macro hygiene in mind I was re-exporting Tokio, but turns out Tokio only accepts idents, not full paths.\r\n\r\n## Solution\r\n\r\nThe solution was quite simple, just let Tokio accept paths, by using `syn::Path`, instead of only accepting an ident. There should be no functional change, as idents can also be parsed as paths.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5557/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5555", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5555/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5555/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5555/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5555", "id": 1629918206, "node_id": "PR_kwDOBAsbdc5MVqGg", "number": 5555, "title": "fs: fuse std iterator in `ReadDir`", "user": {"login": "satakuma", "id": 46168631, "node_id": "MDQ6VXNlcjQ2MTY4NjMx", "avatar_url": "https://avatars.githubusercontent.com/u/46168631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satakuma", "html_url": "https://github.com/satakuma", "followers_url": "https://api.github.com/users/satakuma/followers", "following_url": "https://api.github.com/users/satakuma/following{/other_user}", "gists_url": "https://api.github.com/users/satakuma/gists{/gist_id}", "starred_url": "https://api.github.com/users/satakuma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satakuma/subscriptions", "organizations_url": "https://api.github.com/users/satakuma/orgs", "repos_url": "https://api.github.com/users/satakuma/repos", "events_url": "https://api.github.com/users/satakuma/events{/privacy}", "received_events_url": "https://api.github.com/users/satakuma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993507783, "node_id": "MDU6TGFiZWwxOTkzNTA3Nzgz", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-fs", "name": "M-fs", "color": "f7b101", "default": false, "description": "Module: tokio/fs"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-17T20:52:55Z", "updated_at": "2023-03-18T13:31:51Z", "closed_at": "2023-03-18T13:07:40Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5555", "html_url": "https://github.com/tokio-rs/tokio/pull/5555", "diff_url": "https://github.com/tokio-rs/tokio/pull/5555.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5555.patch", "merged_at": "2023-03-18T13:07:40Z"}, "body": "The implementation of Tokio's ReadDir assumes that ReadDir from std is fused, but that's not the case on Windows. This change wraps the std iterator in `std::iter::Fuse` to make its usage correct.\r\n\r\nI don't know how to write a reliable test for it, but I have verified that the example from #5473 does not run indefinitely after this change.\r\n\r\nFixes: #5473\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5555/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5554", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5554/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5554/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5554/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5554", "id": 1629634699, "node_id": "PR_kwDOBAsbdc5MUs4M", "number": 5554, "title": "Tokio test mock wait", "user": {"login": "devensiv", "id": 35898914, "node_id": "MDQ6VXNlcjM1ODk4OTE0", "avatar_url": "https://avatars.githubusercontent.com/u/35898914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devensiv", "html_url": "https://github.com/devensiv", "followers_url": "https://api.github.com/users/devensiv/followers", "following_url": "https://api.github.com/users/devensiv/following{/other_user}", "gists_url": "https://api.github.com/users/devensiv/gists{/gist_id}", "starred_url": "https://api.github.com/users/devensiv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devensiv/subscriptions", "organizations_url": "https://api.github.com/users/devensiv/orgs", "repos_url": "https://api.github.com/users/devensiv/repos", "events_url": "https://api.github.com/users/devensiv/events{/privacy}", "received_events_url": "https://api.github.com/users/devensiv/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1436305752, "node_id": "MDU6TGFiZWwxNDM2MzA1NzUy", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-test", "name": "A-tokio-test", "color": "f7e101", "default": false, "description": "Area: The tokio-test crate"}, {"id": 1993513841, "node_id": "MDU6TGFiZWwxOTkzNTEzODQx", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-time", "name": "M-time", "color": "f7b101", "default": false, "description": "Module: tokio/time"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-17T16:55:44Z", "updated_at": "2023-03-19T12:35:40Z", "closed_at": "2023-03-19T12:35:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5554", "html_url": "https://github.com/tokio-rs/tokio/pull/5554", "diff_url": "https://github.com/tokio-rs/tokio/pull/5554.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5554.patch", "merged_at": "2023-03-19T12:35:39Z"}, "body": "Clear `waiting` after completion of the current wait allowing subsequent waits to be registered instead of being discarded.\r\n\r\n## Motivation\r\n\r\nThe `Mock` in `tokio-test::io` won't work properly with multiple `Action::Wait()` actions.\r\n\r\nExample using `Builder::wait()` \r\n```rust\r\n    let mut mock = Builder::new()\r\n        .wait(Duration::from_secs(10))\r\n        .read(b\"hello \")\r\n        .wait(Duration::from_secs(10))\r\n        .read(b\"world!\")\r\n        .build();\r\n\r\n    let mut buf = [0; 256];\r\n\r\n    let start = Instant::now();\r\n\r\n    let n = mock.read(&mut buf).await.expect(\"read 1\");\r\n    let n = mock.read(&mut buf).await.expect(\"read 2\");\r\n\r\n    // `start.elapsed()` will be something around 10s instead of the expected 20s\r\n```\r\n\r\nThe first commit in this PR includes two tests regarding the `wait` issue, one of which `multiple_wait` is equivalent to the example above and fails without the fix introduced in the second commit of this PR\r\n\r\n## Solution\r\n\r\nThe `waiting` option on `Inner` was set on the first `Action::Wait()` but never cleared, causing subsequent `Action::Wait()` to be discarded because the value of `waiting` was already in the past.\r\n\r\nThe fix clears `self.waiting` when the wait has finished", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5554/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5553", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5553/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5553/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5553/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5553", "id": 1629040249, "node_id": "PR_kwDOBAsbdc5MSs7N", "number": 5553, "title": "time: fix wake-up with interval on `Ready`", "user": {"login": "sgasse", "id": 47532708, "node_id": "MDQ6VXNlcjQ3NTMyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/47532708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgasse", "html_url": "https://github.com/sgasse", "followers_url": "https://api.github.com/users/sgasse/followers", "following_url": "https://api.github.com/users/sgasse/following{/other_user}", "gists_url": "https://api.github.com/users/sgasse/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgasse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgasse/subscriptions", "organizations_url": "https://api.github.com/users/sgasse/orgs", "repos_url": "https://api.github.com/users/sgasse/repos", "events_url": "https://api.github.com/users/sgasse/events{/privacy}", "received_events_url": "https://api.github.com/users/sgasse/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993513841, "node_id": "MDU6TGFiZWwxOTkzNTEzODQx", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-time", "name": "M-time", "color": "f7b101", "default": false, "description": "Module: tokio/time"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-03-17T10:07:40Z", "updated_at": "2023-06-26T13:45:25Z", "closed_at": "2023-03-27T15:39:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5553", "html_url": "https://github.com/tokio-rs/tokio/pull/5553", "diff_url": "https://github.com/tokio-rs/tokio/pull/5553.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5553.patch", "merged_at": "2023-03-27T15:39:53Z"}, "body": "## Motivation\r\n\r\nWhen `tokio::time::Interval::poll_tick()` returns `Poll::Pending`, it schedules itself for being woken up again through the waker of the passed context, which is correct behavior. However when `Poll::Ready(_)` is returned, the interval timer should be reset but not scheduled to be woken up again as this is up to the caller.\r\n\r\nCurrently, resetting the timer always involves reregistering the last waker which polled the internal `Sleep` to be woken up on completion.\r\n\r\n## Solution\r\n\r\nThis PR fixes the bug by introducing a `reset_without_reregister` method on `TimerEntry` which is called by `Intervall::poll_tick(cx)` in case the delay poll returns `Poll::Ready(_)`.\r\n\r\nCloses: #5551", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5553/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5553/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5543", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5543/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5543/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5543/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5543", "id": 1621550580, "node_id": "PR_kwDOBAsbdc5L5boy", "number": 5543, "title": "task: make `JoinHandle::abort_handle` public", "user": {"login": "SparkyPotato", "id": 64652557, "node_id": "MDQ6VXNlcjY0NjUyNTU3", "avatar_url": "https://avatars.githubusercontent.com/u/64652557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SparkyPotato", "html_url": "https://github.com/SparkyPotato", "followers_url": "https://api.github.com/users/SparkyPotato/followers", "following_url": "https://api.github.com/users/SparkyPotato/following{/other_user}", "gists_url": "https://api.github.com/users/SparkyPotato/gists{/gist_id}", "starred_url": "https://api.github.com/users/SparkyPotato/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SparkyPotato/subscriptions", "organizations_url": "https://api.github.com/users/SparkyPotato/orgs", "repos_url": "https://api.github.com/users/SparkyPotato/repos", "events_url": "https://api.github.com/users/SparkyPotato/events{/privacy}", "received_events_url": "https://api.github.com/users/SparkyPotato/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993512328, "node_id": "MDU6TGFiZWwxOTkzNTEyMzI4", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-task", "name": "M-task", "color": "f7b101", "default": false, "description": "Module: tokio/task"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-13T14:01:32Z", "updated_at": "2023-05-16T14:19:14Z", "closed_at": "2023-03-16T13:02:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5543", "html_url": "https://github.com/tokio-rs/tokio/pull/5543", "diff_url": "https://github.com/tokio-rs/tokio/pull/5543.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5543.patch", "merged_at": "2023-03-16T13:02:49Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\nThe `AbortHandle` API is currently only exposed through `JoinSet`. This makes custom, user-defined implementations of `JoinSet`-like wrappers impossible.\r\n\r\n## Solution\r\n\r\nAs mentioned in #4530, the `abort_handle` method is simply made public.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5543/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5542", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5542/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5542/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5542/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5542", "id": 1621293467, "node_id": "PR_kwDOBAsbdc5L4kHU", "number": 5542, "title": "add async_io for AsyncFd", "user": {"login": "folkertdev", "id": 7949978, "node_id": "MDQ6VXNlcjc5NDk5Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/7949978?v=4", "gravatar_id": "", "url": "https://api.github.com/users/folkertdev", "html_url": "https://github.com/folkertdev", "followers_url": "https://api.github.com/users/folkertdev/followers", "following_url": "https://api.github.com/users/folkertdev/following{/other_user}", "gists_url": "https://api.github.com/users/folkertdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/folkertdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/folkertdev/subscriptions", "organizations_url": "https://api.github.com/users/folkertdev/orgs", "repos_url": "https://api.github.com/users/folkertdev/repos", "events_url": "https://api.github.com/users/folkertdev/events{/privacy}", "received_events_url": "https://api.github.com/users/folkertdev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508195, "node_id": "MDU6TGFiZWwxOTkzNTA4MTk1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-io", "name": "M-io", "color": "f7b101", "default": false, "description": "Module: tokio/io"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-03-13T11:25:32Z", "updated_at": "2023-04-16T14:27:59Z", "closed_at": "2023-04-16T14:27:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5542", "html_url": "https://github.com/tokio-rs/tokio/pull/5542", "diff_url": "https://github.com/tokio-rs/tokio/pull/5542.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5542.patch", "merged_at": "2023-04-16T14:27:59Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\nIn #5512, `async_io` was exposed on various socket types. However, for our work on [ntpd-rs](https://github.com/pendulum-project/ntpd-rs) we would like this function to also be available on `AsyncFd`. We do some low-level epoll configuration there (specifically, listening for `libc::EPOLLPRI` on a separate file descriptor), so all we have is a file descriptor.\r\n\r\n## Solution\r\n\r\nExpose the `registration`'s `async_io`. The implementation is a single line. I believe that the implementation of `Registration::async_io` correctly clears the readiness flag, and that therefore use of `AsyncFdReadyGuard` is not needed here. ", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5542/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5542/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5540", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5540/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5540/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5540/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5540", "id": 1620396876, "node_id": "PR_kwDOBAsbdc5L1np9", "number": 5540, "title": "io: add missing AsFd/AsHandle impls", "user": {"login": "satakuma", "id": 46168631, "node_id": "MDQ6VXNlcjQ2MTY4NjMx", "avatar_url": "https://avatars.githubusercontent.com/u/46168631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satakuma", "html_url": "https://github.com/satakuma", "followers_url": "https://api.github.com/users/satakuma/followers", "following_url": "https://api.github.com/users/satakuma/following{/other_user}", "gists_url": "https://api.github.com/users/satakuma/gists{/gist_id}", "starred_url": "https://api.github.com/users/satakuma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satakuma/subscriptions", "organizations_url": "https://api.github.com/users/satakuma/orgs", "repos_url": "https://api.github.com/users/satakuma/repos", "events_url": "https://api.github.com/users/satakuma/events{/privacy}", "received_events_url": "https://api.github.com/users/satakuma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508926, "node_id": "MDU6TGFiZWwxOTkzNTA4OTI2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-net", "name": "M-net", "color": "f7b101", "default": false, "description": "Module: tokio/net"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-12T15:01:48Z", "updated_at": "2023-03-12T19:01:23Z", "closed_at": "2023-03-12T19:01:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5540", "html_url": "https://github.com/tokio-rs/tokio/pull/5540", "diff_url": "https://github.com/tokio-rs/tokio/pull/5540.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5540.patch", "merged_at": "2023-03-12T19:01:19Z"}, "body": "Since Tokio added implementations of the new IO-safety traits to some types such as `TcpStream`, I think it makes sense to add implementations of these traits to all types which currently implement `AsRawFd`/`AsRawHandle`.\r\n\r\nThis PR adds those implementations to `tokio::io::{Stderr,Stdin,Stdout}`, `NamedPipeClient`, `NamedPipeServer` and `AsyncFd`. \r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5540/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5538", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5538/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5538/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5538/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5538", "id": 1619886284, "node_id": "PR_kwDOBAsbdc5L0IBj", "number": 5538, "title": "time: fix typo", "user": {"login": "andrewhalle", "id": 16718686, "node_id": "MDQ6VXNlcjE2NzE4Njg2", "avatar_url": "https://avatars.githubusercontent.com/u/16718686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewhalle", "html_url": "https://github.com/andrewhalle", "followers_url": "https://api.github.com/users/andrewhalle/followers", "following_url": "https://api.github.com/users/andrewhalle/following{/other_user}", "gists_url": "https://api.github.com/users/andrewhalle/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewhalle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewhalle/subscriptions", "organizations_url": "https://api.github.com/users/andrewhalle/orgs", "repos_url": "https://api.github.com/users/andrewhalle/repos", "events_url": "https://api.github.com/users/andrewhalle/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewhalle/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993513841, "node_id": "MDU6TGFiZWwxOTkzNTEzODQx", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-time", "name": "M-time", "color": "f7b101", "default": false, "description": "Module: tokio/time"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-11T05:09:51Z", "updated_at": "2023-03-11T18:23:25Z", "closed_at": "2023-03-11T09:40:20Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5538", "html_url": "https://github.com/tokio-rs/tokio/pull/5538", "diff_url": "https://github.com/tokio-rs/tokio/pull/5538.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5538.patch", "merged_at": "2023-03-11T09:40:20Z"}, "body": "**This commit**\r\n- Replace instances of \"immediatelly\" with \"immediately\".", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5538/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5538/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5537", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5537/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5537/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5537/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5537", "id": 1619495084, "node_id": "PR_kwDOBAsbdc5Ly2Tp", "number": 5537, "title": "Make Contributing guide more newbie friendly", "user": {"login": "matildasmeds", "id": 13105375, "node_id": "MDQ6VXNlcjEzMTA1Mzc1", "avatar_url": "https://avatars.githubusercontent.com/u/13105375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matildasmeds", "html_url": "https://github.com/matildasmeds", "followers_url": "https://api.github.com/users/matildasmeds/followers", "following_url": "https://api.github.com/users/matildasmeds/following{/other_user}", "gists_url": "https://api.github.com/users/matildasmeds/gists{/gist_id}", "starred_url": "https://api.github.com/users/matildasmeds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matildasmeds/subscriptions", "organizations_url": "https://api.github.com/users/matildasmeds/orgs", "repos_url": "https://api.github.com/users/matildasmeds/repos", "events_url": "https://api.github.com/users/matildasmeds/events{/privacy}", "received_events_url": "https://api.github.com/users/matildasmeds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4419404792, "node_id": "LA_kwDOBAsbdc8AAAABB2rD-A", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-readme", "name": "A-readme", "color": "f7e101", "default": false, "description": "Area: Documentation that isn't part of any crate such as README.md or CONTRIBUTING.md"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-10T19:14:49Z", "updated_at": "2023-03-12T20:01:59Z", "closed_at": "2023-03-12T20:01:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5537", "html_url": "https://github.com/tokio-rs/tokio/pull/5537", "diff_url": "https://github.com/tokio-rs/tokio/pull/5537.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5537.patch", "merged_at": "2023-03-12T20:01:59Z"}, "body": "## Motivation\r\n\r\nOne of the first things a new contributor will want to do, is to execute the tests for the project. We can make tokio more accessible to newbies, by making running tests as simple as possible. \r\n\r\n## Solution\r\n\r\nThis PR amends the existing Contributing guide, by adding links to fundamental testing concepts in Rust, and information about conditional compilation attributes and how to use them to run tests with cargo.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5537/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5530", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5530/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5530/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5530/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5530", "id": 1610278839, "node_id": "PR_kwDOBAsbdc5LTxi2", "number": 5530, "title": "tokio: make all windows docs visible in unix builds", "user": {"login": "satakuma", "id": 46168631, "node_id": "MDQ6VXNlcjQ2MTY4NjMx", "avatar_url": "https://avatars.githubusercontent.com/u/46168631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satakuma", "html_url": "https://github.com/satakuma", "followers_url": "https://api.github.com/users/satakuma/followers", "following_url": "https://api.github.com/users/satakuma/following{/other_user}", "gists_url": "https://api.github.com/users/satakuma/gists{/gist_id}", "starred_url": "https://api.github.com/users/satakuma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satakuma/subscriptions", "organizations_url": "https://api.github.com/users/satakuma/orgs", "repos_url": "https://api.github.com/users/satakuma/repos", "events_url": "https://api.github.com/users/satakuma/events{/privacy}", "received_events_url": "https://api.github.com/users/satakuma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-05T17:03:18Z", "updated_at": "2023-03-14T22:33:36Z", "closed_at": "2023-03-14T22:33:31Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5530", "html_url": "https://github.com/tokio-rs/tokio/pull/5530", "diff_url": "https://github.com/tokio-rs/tokio/pull/5530.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5530.patch", "merged_at": "2023-03-14T22:33:31Z"}, "body": "This PR makes all Windows-specific documentation visible in Unix builds similarly to the docs for named pipes.\r\n\r\nItems which should be now visible:\r\n- `tokio::fs::symlink_dir`\r\n- `tokio::fs::symlink_file`\r\n- `tokio::fs::OpenOptions` methods (custom_flags, access_mode, share_mode, attributes, security_qos_flags)\r\n- `{AsRawHandle, FromRawHandle}` impls for `tokio::fs::File`\r\n- `AsRawHandle` impl for `tokio::io::{Stdin, Stdout, Stderr}`\r\n- `AsRawSocket` impl for `tokio::net::{TcpListener, TcpStream, UdpSocket}`\r\n- `{AsRawSocket, FromRawSocket, IntoRawSocket}` for `tokio::net::TcpSocket`\r\n- `AsRawHandle` impl for `tokio::process::{ChildStdin, ChildStdout, ChildStderr}`\r\n- `tokio::process::Command::creation_flags`\r\n- `tokio::process::Child::raw_handle`\r\n\r\n[View rendered docs](https://deploy-preview-5530--tokio-rs.netlify.app/tokio/)\r\n\r\nResolves #5499", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5530/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5529", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5529/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5529/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5529/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5529", "id": 1609691103, "node_id": "PR_kwDOBAsbdc5LSAuV", "number": 5529, "title": "Fix typo in doc: \"with regards\"", "user": {"login": "AaronChen0", "id": 18425462, "node_id": "MDQ6VXNlcjE4NDI1NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/18425462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AaronChen0", "html_url": "https://github.com/AaronChen0", "followers_url": "https://api.github.com/users/AaronChen0/followers", "following_url": "https://api.github.com/users/AaronChen0/following{/other_user}", "gists_url": "https://api.github.com/users/AaronChen0/gists{/gist_id}", "starred_url": "https://api.github.com/users/AaronChen0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AaronChen0/subscriptions", "organizations_url": "https://api.github.com/users/AaronChen0/orgs", "repos_url": "https://api.github.com/users/AaronChen0/repos", "events_url": "https://api.github.com/users/AaronChen0/events{/privacy}", "received_events_url": "https://api.github.com/users/AaronChen0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993510355, "node_id": "MDU6TGFiZWwxOTkzNTEwMzU1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-process", "name": "M-process", "color": "f7b101", "default": false, "description": "Module: tokio/process"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-04T09:20:56Z", "updated_at": "2023-03-04T09:48:29Z", "closed_at": "2023-03-04T09:48:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5529", "html_url": "https://github.com/tokio-rs/tokio/pull/5529", "diff_url": "https://github.com/tokio-rs/tokio/pull/5529.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5529.patch", "merged_at": "2023-03-04T09:48:29Z"}, "body": "## Motivation\r\n\r\nThe noun `regard` means \"respect\" or \"relation\", so saying `with regard to` is like saying \"with respect to\" or \"with relation to\". The plural form of this noun, `regards`, means \"good wishes\" or \"affection\", which is significantly different from the meaning of the singular form.\r\n\r\n## Solution\r\n`with regards` => `with regard to`.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5529/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5528", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5528/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5528/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5528/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5528", "id": 1609686509, "node_id": "PR_kwDOBAsbdc5LR_2D", "number": 5528, "title": "fs: fix `File::from_raw_fd` test", "user": {"login": "satakuma", "id": 46168631, "node_id": "MDQ6VXNlcjQ2MTY4NjMx", "avatar_url": "https://avatars.githubusercontent.com/u/46168631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satakuma", "html_url": "https://github.com/satakuma", "followers_url": "https://api.github.com/users/satakuma/followers", "following_url": "https://api.github.com/users/satakuma/following{/other_user}", "gists_url": "https://api.github.com/users/satakuma/gists{/gist_id}", "starred_url": "https://api.github.com/users/satakuma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satakuma/subscriptions", "organizations_url": "https://api.github.com/users/satakuma/orgs", "repos_url": "https://api.github.com/users/satakuma/repos", "events_url": "https://api.github.com/users/satakuma/events{/privacy}", "received_events_url": "https://api.github.com/users/satakuma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993507783, "node_id": "MDU6TGFiZWwxOTkzNTA3Nzgz", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-fs", "name": "M-fs", "color": "f7b101", "default": false, "description": "Module: tokio/fs"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-04T09:05:31Z", "updated_at": "2023-03-04T10:45:47Z", "closed_at": "2023-03-04T10:45:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5528", "html_url": "https://github.com/tokio-rs/tokio/pull/5528", "diff_url": "https://github.com/tokio-rs/tokio/pull/5528.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5528.patch", "merged_at": "2023-03-04T10:45:43Z"}, "body": "One of the `tokio::fs` tests began to spuriously fail in the CI after #5493 was merged. I believe it comes from dropping `File` with the same fd twice. This PR should fix this.\r\n\r\ncc @brodybits", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5528/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5527", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5527/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5527/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5527/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5527", "id": 1609364936, "node_id": "PR_kwDOBAsbdc5LQ52m", "number": 5527, "title": "Add `RwLockWriteGuard::{downgrade_map, try_downgrade_map}`.", "user": {"login": "Zenithsiz", "id": 34359769, "node_id": "MDQ6VXNlcjM0MzU5NzY5", "avatar_url": "https://avatars.githubusercontent.com/u/34359769?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zenithsiz", "html_url": "https://github.com/Zenithsiz", "followers_url": "https://api.github.com/users/Zenithsiz/followers", "following_url": "https://api.github.com/users/Zenithsiz/following{/other_user}", "gists_url": "https://api.github.com/users/Zenithsiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zenithsiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zenithsiz/subscriptions", "organizations_url": "https://api.github.com/users/Zenithsiz/orgs", "repos_url": "https://api.github.com/users/Zenithsiz/repos", "events_url": "https://api.github.com/users/Zenithsiz/events{/privacy}", "received_events_url": "https://api.github.com/users/Zenithsiz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-03-03T22:57:14Z", "updated_at": "2023-03-08T16:06:09Z", "closed_at": "2023-03-08T16:06:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5527", "html_url": "https://github.com/tokio-rs/tokio/pull/5527", "diff_url": "https://github.com/tokio-rs/tokio/pull/5527.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5527.patch", "merged_at": "2023-03-08T16:06:09Z"}, "body": "Adds `RwLockWriteGuard::{downgrade_map, try_downgrade_map}`.\r\n\r\n## Motivation\r\n\r\nThese functions allow the following code to work:\r\n\r\n```rust\r\nimpl T {\r\n    fn try_get(&self) -> Option<&U> { ... }\r\n}\r\n\r\npub async fn foo(lock: RwLock<T>) -> RwLockReadGuard<U> {\r\n    // Check with a read lock\r\n    if let Ok(value) = RwLockReadGuard::try_map(lock.read().await, |value| value.try_get()) {\r\n        return value;\r\n    }\r\n\r\n    // Else \"upgrade\" and check if it was changed in the meantime\r\n    let guard = lock.write().await;\r\n    if let Ok(value) = RwLockWriteGuard::try_downgrade_map(guard, |value| value.try_get()) {\r\n        return value;\r\n    }\r\n\r\n    // Use `guard` mutably\r\n    // ...\r\n}\r\n```\r\n\r\nThe code uses a double-checked lock on a `RwLock` to do some action, and then returns a mapped read guard to the inner data.\r\n\r\nWith the current suite of functions, we can't easily perform the second check efficiently. We need to not unlock the rwlock, which means we'd need to first call `try_get` to check if it's available, then perform a downgrade and map it with `try_get().unwrap()` to get the value again. This involves calling `try_get` twice, which isn't desirable.\r\n\r\nThese function are `Fn(&T) -> &U`, so I don't believe there are any soundness issues (I made a [stack overflow question](https://stackoverflow.com/questions/75631336) to check if it was sound, and someone suggested that if it was, this could be a good API to add, so I made this PR).\r\n\r\n## Solution\r\n\r\nWe simply add the functions on `RwLockWriteGuard`. `RwLockMappedWriteGuard` can't have them, due to unsoundness, but a non-mapped `RwLockWriteGuard` is fine.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5527/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5525", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5525/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5525/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5525/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5525", "id": 1608767552, "node_id": "PR_kwDOBAsbdc5LO6a8", "number": 5525, "title": "macros: define cancellation safety", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 2216880757, "node_id": "MDU6TGFiZWwyMjE2ODgwNzU3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-macros", "name": "M-macros", "color": "f7b101", "default": false, "description": "Module: macros in the main Tokio crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-03T14:45:46Z", "updated_at": "2023-03-18T21:25:25Z", "closed_at": "2023-03-18T21:25:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5525", "html_url": "https://github.com/tokio-rs/tokio/pull/5525", "diff_url": "https://github.com/tokio-rs/tokio/pull/5525.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5525.patch", "merged_at": "2023-03-18T21:25:23Z"}, "body": "This adds a precise definition of cancellation safety to the docs of `select!`.\r\n\r\ncc @yoshuawuyts", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5525/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5525/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5524", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5524/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5524/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5524/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5524", "id": 1605763553, "node_id": "PR_kwDOBAsbdc5LEuLZ", "number": 5524, "title": "chore: list 1.25.x as LTS release", "user": {"login": "Noah-Kennedy", "id": 9875622, "node_id": "MDQ6VXNlcjk4NzU2MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/9875622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Noah-Kennedy", "html_url": "https://github.com/Noah-Kennedy", "followers_url": "https://api.github.com/users/Noah-Kennedy/followers", "following_url": "https://api.github.com/users/Noah-Kennedy/following{/other_user}", "gists_url": "https://api.github.com/users/Noah-Kennedy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Noah-Kennedy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Noah-Kennedy/subscriptions", "organizations_url": "https://api.github.com/users/Noah-Kennedy/orgs", "repos_url": "https://api.github.com/users/Noah-Kennedy/repos", "events_url": "https://api.github.com/users/Noah-Kennedy/events{/privacy}", "received_events_url": "https://api.github.com/users/Noah-Kennedy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 4419404792, "node_id": "LA_kwDOBAsbdc8AAAABB2rD-A", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-readme", "name": "A-readme", "color": "f7e101", "default": false, "description": "Area: Documentation that isn't part of any crate such as README.md or CONTRIBUTING.md"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-01T22:31:45Z", "updated_at": "2023-03-01T23:42:20Z", "closed_at": "2023-03-01T23:42:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5524", "html_url": "https://github.com/tokio-rs/tokio/pull/5524", "diff_url": "https://github.com/tokio-rs/tokio/pull/5524.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5524.patch", "merged_at": "2023-03-01T23:42:18Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5524/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5521", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5521/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5521/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5521/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5521", "id": 1605679110, "node_id": "PR_kwDOBAsbdc5LEbxb", "number": 5521, "title": "chore: prepare for Tokio v1.26.0 release", "user": {"login": "Noah-Kennedy", "id": 9875622, "node_id": "MDQ6VXNlcjk4NzU2MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/9875622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Noah-Kennedy", "html_url": "https://github.com/Noah-Kennedy", "followers_url": "https://api.github.com/users/Noah-Kennedy/followers", "following_url": "https://api.github.com/users/Noah-Kennedy/following{/other_user}", "gists_url": "https://api.github.com/users/Noah-Kennedy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Noah-Kennedy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Noah-Kennedy/subscriptions", "organizations_url": "https://api.github.com/users/Noah-Kennedy/orgs", "repos_url": "https://api.github.com/users/Noah-Kennedy/repos", "events_url": "https://api.github.com/users/Noah-Kennedy/events{/privacy}", "received_events_url": "https://api.github.com/users/Noah-Kennedy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-01T21:16:58Z", "updated_at": "2023-03-01T22:09:51Z", "closed_at": "2023-03-01T22:09:49Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5521", "html_url": "https://github.com/tokio-rs/tokio/pull/5521", "diff_url": "https://github.com/tokio-rs/tokio/pull/5521.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5521.patch", "merged_at": "2023-03-01T22:09:49Z"}, "body": "# 1.26.0 (March 1st, 2023)\r\n\r\n### Fixed\r\n\r\n- macros: fix empty `join!` and `try_join!` ([#5504])\r\n- sync: don't leak tracing spans in mutex guards ([#5469])\r\n- sync: drop wakers after unlocking the mutex in Notify ([#5471])\r\n- sync: drop wakers outside lock in semaphore ([#5475])\r\n\r\n### Added\r\n\r\n- fs: add `fs::try_exists` ([#4299])\r\n- net: add types for named unix pipes ([#5351])\r\n- sync: add `MappedOwnedMutexGuard` ([#5474])\r\n\r\n### Changed\r\n\r\n- chore: update windows-sys to 0.45 ([#5386])\r\n- net: use Message Read Mode for named pipes ([#5350])\r\n- sync: mark lock guards with `#[clippy::has_significant_drop]` ([#5422])\r\n- sync: reduce contention in watch channel ([#5464])\r\n- time: remove cache padding in timer entries ([#5468])\r\n- time: Improve `Instant::now()` perf with test-util ([#5513])\r\n\r\n### Internal Changes\r\n\r\n- io: use `poll_fn` in `copy_bidirectional` ([#5486])\r\n- net: refactor named pipe builders to not use bitfields ([#5477])\r\n- rt: remove Arc from Clock ([#5434])\r\n- sync: make `notify_waiters` calls atomic ([#5458])\r\n- time: don't store deadline twice in sleep entries ([#5410])\r\n\r\n### Unstable\r\n\r\n- metrics: add a new metric for budget exhaustion yields ([#5517])\r\n\r\n### Documented\r\n\r\n- io: improve AsyncFd example ([#5481])\r\n- runtime: document the nature of the main future ([#5494])\r\n- runtime: remove extra period in docs ([#5511])\r\n- signal: updated Documentation for Signals ([#5459])\r\n- sync: add doc aliases for `blocking_*` methods ([#5448])\r\n- sync: fix docs for Send/Sync bounds in broadcast ([#5480])\r\n- sync: document drop behavior for channels ([#5497])\r\n- task: clarify what happens to spawned work during runtime shutdown ([#5394])\r\n- task: clarify `process::Command` docs ([#5413])\r\n- task: fix wording with 'unsend' ([#5452])\r\n- time: document immediate completion guarantee for timeouts ([#5509])\r\n- tokio: document supported platforms ([#5483])\r\n\r\n[#4299]: https://github.com/tokio-rs/tokio/pull/4299\r\n[#5350]: https://github.com/tokio-rs/tokio/pull/5350\r\n[#5351]: https://github.com/tokio-rs/tokio/pull/5351\r\n[#5386]: https://github.com/tokio-rs/tokio/pull/5386\r\n[#5394]: https://github.com/tokio-rs/tokio/pull/5394\r\n[#5410]: https://github.com/tokio-rs/tokio/pull/5410\r\n[#5413]: https://github.com/tokio-rs/tokio/pull/5413\r\n[#5422]: https://github.com/tokio-rs/tokio/pull/5422\r\n[#5434]: https://github.com/tokio-rs/tokio/pull/5434\r\n[#5448]: https://github.com/tokio-rs/tokio/pull/5448\r\n[#5452]: https://github.com/tokio-rs/tokio/pull/5452\r\n[#5458]: https://github.com/tokio-rs/tokio/pull/5458\r\n[#5459]: https://github.com/tokio-rs/tokio/pull/5459\r\n[#5464]: https://github.com/tokio-rs/tokio/pull/5464\r\n[#5468]: https://github.com/tokio-rs/tokio/pull/5468\r\n[#5469]: https://github.com/tokio-rs/tokio/pull/5469\r\n[#5471]: https://github.com/tokio-rs/tokio/pull/5471\r\n[#5474]: https://github.com/tokio-rs/tokio/pull/5474\r\n[#5475]: https://github.com/tokio-rs/tokio/pull/5475\r\n[#5477]: https://github.com/tokio-rs/tokio/pull/5477\r\n[#5480]: https://github.com/tokio-rs/tokio/pull/5480\r\n[#5481]: https://github.com/tokio-rs/tokio/pull/5481\r\n[#5483]: https://github.com/tokio-rs/tokio/pull/5483\r\n[#5486]: https://github.com/tokio-rs/tokio/pull/5486\r\n[#5494]: https://github.com/tokio-rs/tokio/pull/5494\r\n[#5497]: https://github.com/tokio-rs/tokio/pull/5497\r\n[#5504]: https://github.com/tokio-rs/tokio/pull/5504\r\n[#5509]: https://github.com/tokio-rs/tokio/pull/5509\r\n[#5511]: https://github.com/tokio-rs/tokio/pull/5511\r\n[#5513]: https://github.com/tokio-rs/tokio/pull/5513\r\n[#5517]: https://github.com/tokio-rs/tokio/pull/5517", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5521/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5520", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5520/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5520/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5520/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5520", "id": 1605660094, "node_id": "PR_kwDOBAsbdc5LEXmp", "number": 5520, "title": "net: add `UdpSocket::peek_sender()`", "user": {"login": "abonander", "id": 3198595, "node_id": "MDQ6VXNlcjMxOTg1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3198595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abonander", "html_url": "https://github.com/abonander", "followers_url": "https://api.github.com/users/abonander/followers", "following_url": "https://api.github.com/users/abonander/following{/other_user}", "gists_url": "https://api.github.com/users/abonander/gists{/gist_id}", "starred_url": "https://api.github.com/users/abonander/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abonander/subscriptions", "organizations_url": "https://api.github.com/users/abonander/orgs", "repos_url": "https://api.github.com/users/abonander/repos", "events_url": "https://api.github.com/users/abonander/events{/privacy}", "received_events_url": "https://api.github.com/users/abonander/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508926, "node_id": "MDU6TGFiZWwxOTkzNTA4OTI2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-net", "name": "M-net", "color": "f7b101", "default": false, "description": "Module: tokio/net"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-01T21:01:17Z", "updated_at": "2023-03-17T09:22:43Z", "closed_at": "2023-03-17T09:22:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5520", "html_url": "https://github.com/tokio-rs/tokio/pull/5520", "diff_url": "https://github.com/tokio-rs/tokio/pull/5520.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5520.patch", "merged_at": "2023-03-17T09:22:43Z"}, "body": "closes #5491\r\n\r\nUpdate: amended to add `try_peek_from()` as discussed on Discord.\r\n\r\n~The prerequesite addition to `socket2` has landed on their `v0.4.x` branch but, as of writing, has not been released yet. This will remain a draft until that is released, but the API and documentation is ready for review.~\r\n\r\nRunning Clippy as instructed by `CONTRIBUTING.md` gives the following error:  \r\n```\r\n> cargo +1.49.0 clippy --all --tests --all-features\r\nwarning: /home/abonander/rust/tokio/tokio-test/Cargo.toml: unused manifest key: package.rust-version\r\nwarning: /home/abonander/rust/tokio/tokio-macros/Cargo.toml: unused manifest key: package.rust-version\r\nwarning: /home/abonander/rust/tokio/tokio/Cargo.toml: unused manifest key: package.rust-version\r\nwarning: /home/abonander/rust/tokio/tokio-util/Cargo.toml: unused manifest key: package.rust-version\r\nwarning: /home/abonander/rust/tokio/tokio-stream/Cargo.toml: unused manifest key: package.rust-version\r\n    Updating crates.io index\r\nerror: failed to select a version for the requirement `predicates = \"=2.1.5\"`\r\ncandidate versions found which didn't match: 2.1.1, 2.1.0, 2.0.3, ...\r\nlocation searched: crates.io index\r\nrequired by package `mockall v0.11.3`\r\n    ... which is depended on by `tokio v1.25.0 (/home/abonander/rust/tokio/tokio)`\r\n```\r\n\r\nThis is baffling because `predicates 2.1.5` definitely exists: https://crates.io/crates/predicates/2.1.5\r\n\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\nDiscussed in #5491.\r\n\r\n## Solution\r\n\r\nDiscussed in #5491.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5520/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5517", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5517/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5517/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5517/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5517", "id": 1603975628, "node_id": "PR_kwDOBAsbdc5K-qaC", "number": 5517, "title": "metrics: add a new metric for budget exhaustion yields", "user": {"login": "Noah-Kennedy", "id": 9875622, "node_id": "MDQ6VXNlcjk4NzU2MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/9875622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Noah-Kennedy", "html_url": "https://github.com/Noah-Kennedy", "followers_url": "https://api.github.com/users/Noah-Kennedy/followers", "following_url": "https://api.github.com/users/Noah-Kennedy/following{/other_user}", "gists_url": "https://api.github.com/users/Noah-Kennedy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Noah-Kennedy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Noah-Kennedy/subscriptions", "organizations_url": "https://api.github.com/users/Noah-Kennedy/orgs", "repos_url": "https://api.github.com/users/Noah-Kennedy/repos", "events_url": "https://api.github.com/users/Noah-Kennedy/events{/privacy}", "received_events_url": "https://api.github.com/users/Noah-Kennedy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 3299450450, "node_id": "MDU6TGFiZWwzMjk5NDUwNDUw", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-metrics", "name": "M-metrics", "color": "f7b101", "default": false, "description": "Module: tokio/runtime/metrics"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-28T23:33:05Z", "updated_at": "2023-03-01T20:25:37Z", "closed_at": "2023-03-01T20:25:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5517", "html_url": "https://github.com/tokio-rs/tokio/pull/5517", "diff_url": "https://github.com/tokio-rs/tokio/pull/5517.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5517.patch", "merged_at": "2023-03-01T20:25:35Z"}, "body": "This change adds a new runtime metric which counts the number of times that tasks exhaust their budgets and are forced to yield back to the runtime.\r\n\r\nThis metric is useful for debugging performance issues in many types of applications.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5517/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5517/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5515", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5515/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5515/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5515/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5515", "id": 1603005396, "node_id": "PR_kwDOBAsbdc5K7XNN", "number": 5515, "title": "net: document usage of `ready` with stream halves", "user": {"login": "satakuma", "id": 46168631, "node_id": "MDQ6VXNlcjQ2MTY4NjMx", "avatar_url": "https://avatars.githubusercontent.com/u/46168631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satakuma", "html_url": "https://github.com/satakuma", "followers_url": "https://api.github.com/users/satakuma/followers", "following_url": "https://api.github.com/users/satakuma/following{/other_user}", "gists_url": "https://api.github.com/users/satakuma/gists{/gist_id}", "starred_url": "https://api.github.com/users/satakuma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satakuma/subscriptions", "organizations_url": "https://api.github.com/users/satakuma/orgs", "repos_url": "https://api.github.com/users/satakuma/repos", "events_url": "https://api.github.com/users/satakuma/events{/privacy}", "received_events_url": "https://api.github.com/users/satakuma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508926, "node_id": "MDU6TGFiZWwxOTkzNTA4OTI2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-net", "name": "M-net", "color": "f7b101", "default": false, "description": "Module: tokio/net"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-28T12:46:22Z", "updated_at": "2023-03-03T11:21:31Z", "closed_at": "2023-03-03T11:21:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5515", "html_url": "https://github.com/tokio-rs/tokio/pull/5515", "diff_url": "https://github.com/tokio-rs/tokio/pull/5515.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5515.patch", "merged_at": "2023-03-03T11:21:30Z"}, "body": "Currently, the docs for the `ready` method on read/write halves of TcpStream/UnixStream suggest using this method to avoid splitting a socket, which is already split. This PR changes the docs to better explain the usage of this method.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5515/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5515/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5514", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5514/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5514/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5514/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5514", "id": 1602134245, "node_id": "PR_kwDOBAsbdc5K4b3R", "number": 5514, "title": "Add implementations of AsFd/AsHandle/AsSocket", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508195, "node_id": "MDU6TGFiZWwxOTkzNTA4MTk1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-io", "name": "M-io", "color": "f7b101", "default": false, "description": "Module: tokio/io"}, {"id": 1993508926, "node_id": "MDU6TGFiZWwxOTkzNTA4OTI2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-net", "name": "M-net", "color": "f7b101", "default": false, "description": "Module: tokio/net"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-27T23:55:10Z", "updated_at": "2023-08-08T15:46:55Z", "closed_at": "2023-03-11T16:04:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5514", "html_url": "https://github.com/tokio-rs/tokio/pull/5514", "diff_url": "https://github.com/tokio-rs/tokio/pull/5514.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5514.patch", "merged_at": "2023-03-11T16:04:02Z"}, "body": "The new release of socket2 works with these traits rather than the old `AsRaw*` ones.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5514/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5513", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5513/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5513/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5513/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5513", "id": 1601620309, "node_id": "PR_kwDOBAsbdc5K2uBR", "number": 5513, "title": "time: Improve `Instant::now()` perf with test-util", "user": {"login": "carllerche", "id": 6180, "node_id": "MDQ6VXNlcjYxODA=", "avatar_url": "https://avatars.githubusercontent.com/u/6180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carllerche", "html_url": "https://github.com/carllerche", "followers_url": "https://api.github.com/users/carllerche/followers", "following_url": "https://api.github.com/users/carllerche/following{/other_user}", "gists_url": "https://api.github.com/users/carllerche/gists{/gist_id}", "starred_url": "https://api.github.com/users/carllerche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carllerche/subscriptions", "organizations_url": "https://api.github.com/users/carllerche/orgs", "repos_url": "https://api.github.com/users/carllerche/repos", "events_url": "https://api.github.com/users/carllerche/events{/privacy}", "received_events_url": "https://api.github.com/users/carllerche/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 439897190, "node_id": "MDU6TGFiZWw0Mzk4OTcxOTA=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: A PR with an enhancement or bugfix."}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993513841, "node_id": "MDU6TGFiZWwxOTkzNTEzODQx", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-time", "name": "M-time", "color": "f7b101", "default": false, "description": "Module: tokio/time"}, {"id": 1995611125, "node_id": "MDU6TGFiZWwxOTk1NjExMTI1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-performance", "name": "T-performance", "color": "bfd4f2", "default": false, "description": "Topic: performance and benchmarks"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-27T17:26:40Z", "updated_at": "2023-02-27T18:21:44Z", "closed_at": "2023-02-27T18:21:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5513", "html_url": "https://github.com/tokio-rs/tokio/pull/5513", "diff_url": "https://github.com/tokio-rs/tokio/pull/5513.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5513.patch", "merged_at": "2023-02-27T18:21:43Z"}, "body": "The test-util feature flag is only intended to be used with tests. However, it is possible to enable it in release mode accidentally. This patch reduces the overhead of `Instant::now()` when the `test-util` feature flag is enabled but `time::pause()` is not called.\r\n\r\nThe optimization is implemented by adding a static atomic flag that tracks if `time::pause()` has ever been called. In `Instant::now()`, the atomic flag is first checked before the thread-local and mutex are accessed.\r\n\r\nOn my dev box, the patch reduces the benchmark from ~175ns/iteration to ~145ns/iteration, which is in line with running the benchmark without `test-util`.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5513/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5512", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5512/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5512/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5512/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5512", "id": 1601466148, "node_id": "PR_kwDOBAsbdc5K2Mxu", "number": 5512, "title": "5417 expose async io", "user": {"login": "amab8901", "id": 83634595, "node_id": "MDQ6VXNlcjgzNjM0NTk1", "avatar_url": "https://avatars.githubusercontent.com/u/83634595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amab8901", "html_url": "https://github.com/amab8901", "followers_url": "https://api.github.com/users/amab8901/followers", "following_url": "https://api.github.com/users/amab8901/following{/other_user}", "gists_url": "https://api.github.com/users/amab8901/gists{/gist_id}", "starred_url": "https://api.github.com/users/amab8901/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amab8901/subscriptions", "organizations_url": "https://api.github.com/users/amab8901/orgs", "repos_url": "https://api.github.com/users/amab8901/repos", "events_url": "https://api.github.com/users/amab8901/events{/privacy}", "received_events_url": "https://api.github.com/users/amab8901/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508926, "node_id": "MDU6TGFiZWwxOTkzNTA4OTI2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-net", "name": "M-net", "color": "f7b101", "default": false, "description": "Module: tokio/net"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-27T15:59:13Z", "updated_at": "2023-03-09T10:24:06Z", "closed_at": "2023-03-09T10:12:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5512", "html_url": "https://github.com/tokio-rs/tokio/pull/5512", "diff_url": "https://github.com/tokio-rs/tokio/pull/5512.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5512.patch", "merged_at": "2023-03-09T10:12:56Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\nI'm solving this https://github.com/tokio-rs/tokio/issues/5417 problem\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\nI exposed async_io to the front or something like that. I basically took this solution (https://github.com/tokio-rs/tokio/pull/5416) and copy+pasted it to all the other structs that utilize the `try_io` method (except the ready guards). I also solved the Clippy lints. Idk if the documentation is accurate when copy+pasting like that, so you might want to double check it\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5512/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5512/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5511", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5511/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5511/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5511/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5511", "id": 1601261595, "node_id": "PR_kwDOBAsbdc5K1g0b", "number": 5511, "title": "chore: remove unnecessary dot in comment", "user": {"login": "mgrachev", "id": 700998, "node_id": "MDQ6VXNlcjcwMDk5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/700998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgrachev", "html_url": "https://github.com/mgrachev", "followers_url": "https://api.github.com/users/mgrachev/followers", "following_url": "https://api.github.com/users/mgrachev/following{/other_user}", "gists_url": "https://api.github.com/users/mgrachev/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgrachev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgrachev/subscriptions", "organizations_url": "https://api.github.com/users/mgrachev/orgs", "repos_url": "https://api.github.com/users/mgrachev/repos", "events_url": "https://api.github.com/users/mgrachev/events{/privacy}", "received_events_url": "https://api.github.com/users/mgrachev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993510878, "node_id": "MDU6TGFiZWwxOTkzNTEwODc4", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-runtime", "name": "M-runtime", "color": "f7b101", "default": false, "description": "Module: tokio/runtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-27T14:09:37Z", "updated_at": "2023-02-27T16:39:20Z", "closed_at": "2023-02-27T14:41:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5511", "html_url": "https://github.com/tokio-rs/tokio/pull/5511", "diff_url": "https://github.com/tokio-rs/tokio/pull/5511.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5511.patch", "merged_at": "2023-02-27T14:41:18Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5511/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5511/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5509", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5509/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5509/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5509/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5509", "id": 1601057737, "node_id": "PR_kwDOBAsbdc5K00VE", "number": 5509, "title": "time: document immediate completion guarantee for timeouts", "user": {"login": "zetanumbers", "id": 53300196, "node_id": "MDQ6VXNlcjUzMzAwMTk2", "avatar_url": "https://avatars.githubusercontent.com/u/53300196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zetanumbers", "html_url": "https://github.com/zetanumbers", "followers_url": "https://api.github.com/users/zetanumbers/followers", "following_url": "https://api.github.com/users/zetanumbers/following{/other_user}", "gists_url": "https://api.github.com/users/zetanumbers/gists{/gist_id}", "starred_url": "https://api.github.com/users/zetanumbers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zetanumbers/subscriptions", "organizations_url": "https://api.github.com/users/zetanumbers/orgs", "repos_url": "https://api.github.com/users/zetanumbers/repos", "events_url": "https://api.github.com/users/zetanumbers/events{/privacy}", "received_events_url": "https://api.github.com/users/zetanumbers/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993513841, "node_id": "MDU6TGFiZWwxOTkzNTEzODQx", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-time", "name": "M-time", "color": "f7b101", "default": false, "description": "Module: tokio/time"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-27T12:07:27Z", "updated_at": "2023-02-27T15:14:23Z", "closed_at": "2023-02-27T14:17:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5509", "html_url": "https://github.com/tokio-rs/tokio/pull/5509", "diff_url": "https://github.com/tokio-rs/tokio/pull/5509.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5509.patch", "merged_at": "2023-02-27T14:17:32Z"}, "body": "Add documentation to `tokio::time::{timeout, timeout_at}`\r\n\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\nCloses #5495\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? In some cases there is not a problem and this can be\r\nthought of as being the motivation for your change.\r\n-->\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\nAdd to documentation the guarantee that future returned from `tokio::time::{timeout, timeout_at}` will complete immediatelly with `Ok` value if provided future completes immediatelly.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5509/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5509/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5507", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5507/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5507/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5507/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5507", "id": 1600205843, "node_id": "PR_kwDOBAsbdc5Kx8rq", "number": 5507, "title": "io: ignore SplitByUtf8BoundaryIfWindows test on miri", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508195, "node_id": "MDU6TGFiZWwxOTkzNTA4MTk1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-io", "name": "M-io", "color": "f7b101", "default": false, "description": "Module: tokio/io"}, {"id": 2119690410, "node_id": "MDU6TGFiZWwyMTE5NjkwNDEw", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-ci", "name": "A-ci", "color": "f7e101", "default": false, "description": "Area: The continuous integration setup"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-26T21:19:52Z", "updated_at": "2023-02-26T22:12:49Z", "closed_at": "2023-02-26T21:44:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5507", "html_url": "https://github.com/tokio-rs/tokio/pull/5507", "diff_url": "https://github.com/tokio-rs/tokio/pull/5507.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5507.patch", "merged_at": "2023-02-26T21:44:44Z"}, "body": "These tests take a very long time under miri, but the code they're testing isn't unsafe, so there isn't any reason to run them under miri.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5507/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5506", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5506/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5506/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5506/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5506", "id": 1600121269, "node_id": "PR_kwDOBAsbdc5KxsYb", "number": 5506, "title": "net: fix test compilation failure", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508926, "node_id": "MDU6TGFiZWwxOTkzNTA4OTI2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-net", "name": "M-net", "color": "f7b101", "default": false, "description": "Module: tokio/net"}, {"id": 2119690410, "node_id": "MDU6TGFiZWwyMTE5NjkwNDEw", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-ci", "name": "A-ci", "color": "f7e101", "default": false, "description": "Area: The continuous integration setup"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-26T16:44:15Z", "updated_at": "2023-02-26T19:06:10Z", "closed_at": "2023-02-26T19:06:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5506", "html_url": "https://github.com/tokio-rs/tokio/pull/5506", "diff_url": "https://github.com/tokio-rs/tokio/pull/5506.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5506.patch", "merged_at": "2023-02-26T19:06:08Z"}, "body": "This fixes a compile failure in our test suite where there is a mismatch between two versions of the c_void type.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5506/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5504", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5504/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5504/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5504/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5504", "id": 1599723920, "node_id": "PR_kwDOBAsbdc5KwfES", "number": 5504, "title": "fix empty `join!` and `try_join!`", "user": {"login": "adrianheine", "id": 139208, "node_id": "MDQ6VXNlcjEzOTIwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/139208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianheine", "html_url": "https://github.com/adrianheine", "followers_url": "https://api.github.com/users/adrianheine/followers", "following_url": "https://api.github.com/users/adrianheine/following{/other_user}", "gists_url": "https://api.github.com/users/adrianheine/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianheine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianheine/subscriptions", "organizations_url": "https://api.github.com/users/adrianheine/orgs", "repos_url": "https://api.github.com/users/adrianheine/repos", "events_url": "https://api.github.com/users/adrianheine/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianheine/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 2216880757, "node_id": "MDU6TGFiZWwyMjE2ODgwNzU3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-macros", "name": "M-macros", "color": "f7b101", "default": false, "description": "Module: macros in the main Tokio crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-25T14:22:50Z", "updated_at": "2023-02-25T17:06:19Z", "closed_at": "2023-02-25T17:06:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5504", "html_url": "https://github.com/tokio-rs/tokio/pull/5504", "diff_url": "https://github.com/tokio-rs/tokio/pull/5504.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5504.patch", "merged_at": "2023-02-25T17:06:18Z"}, "body": "This fixes #5502, i. e. `join!()` and `try_join!()` emitting `loop {}`. It does so in two ways:\r\n1. The current macro implemention entry points are changed to not accept empty invocations\r\n2. New entry points for empty invocations are added", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5504/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5503", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5503/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5503/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5503/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5503", "id": 1599709229, "node_id": "PR_kwDOBAsbdc5KwcO2", "number": 5503, "title": "sync: reduce contention in `Notify`", "user": {"login": "satakuma", "id": 46168631, "node_id": "MDQ6VXNlcjQ2MTY4NjMx", "avatar_url": "https://avatars.githubusercontent.com/u/46168631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satakuma", "html_url": "https://github.com/satakuma", "followers_url": "https://api.github.com/users/satakuma/followers", "following_url": "https://api.github.com/users/satakuma/following{/other_user}", "gists_url": "https://api.github.com/users/satakuma/gists{/gist_id}", "starred_url": "https://api.github.com/users/satakuma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satakuma/subscriptions", "organizations_url": "https://api.github.com/users/satakuma/orgs", "repos_url": "https://api.github.com/users/satakuma/repos", "events_url": "https://api.github.com/users/satakuma/events{/privacy}", "received_events_url": "https://api.github.com/users/satakuma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-25T13:27:51Z", "updated_at": "2023-04-19T11:07:13Z", "closed_at": "2023-04-19T11:07:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5503", "html_url": "https://github.com/tokio-rs/tokio/pull/5503", "diff_url": "https://github.com/tokio-rs/tokio/pull/5503.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5503.patch", "merged_at": "2023-04-19T11:07:11Z"}, "body": "This PR replaces the notification field used by waiters in `Notify` with an atomic variable to reduce lock contention when multiple pending `Notified` futures are completing.\r\n\r\n## Motivation\r\n\r\nThe typical lifecycle of a `Notified` future looks like this:\r\n1. It gets polled for the first time, and it is inserted into the waiting list.\r\n2. It receives a notification from a `notify_one` or `notify_waiters` call and is removed from the waiting list.\r\n3. The notifying function calls `wake()` on the future's waker.\r\n4. The future gets polled again by the executor, consumes the notification and returns `Ready`.\r\n\r\nCurrently, step 4 requires acquiring the lock to read the notification field and the lock is released immediately after. Using an atomic variable here should significantly reduce lock contention, especially when multiple futures get notified at once by a `notify_waiters` call.\r\n\r\n## Benchmarks\r\n\r\nSimple benchmarks on my machine (Linux 6.1.11, 4-core x86_64 developer laptop) show improved performance by 15-35%.\r\n<details>\r\n<summary>Click to expand results</summary>\r\n\r\nmaster (`c894069`)\r\n```\r\ntest notify_one<10>      ... bench:     128,130 ns/iter (+/- 18,168)\r\ntest notify_one<50>      ... bench:     226,002 ns/iter (+/- 20,095)\r\ntest notify_one<100>     ... bench:     199,244 ns/iter (+/- 18,873)\r\ntest notify_one<200>     ... bench:     210,647 ns/iter (+/- 28,222)\r\ntest notify_one<500>     ... bench:     218,932 ns/iter (+/- 29,464)\r\n\r\ntest notify_waiters<10>  ... bench:     289,161 ns/iter (+/- 25,546)\r\ntest notify_waiters<50>  ... bench:     248,969 ns/iter (+/- 47,217)\r\ntest notify_waiters<100> ... bench:     246,124 ns/iter (+/- 51,925)\r\ntest notify_waiters<200> ... bench:     250,637 ns/iter (+/- 44,959)\r\ntest notify_waiters<500> ... bench:     245,787 ns/iter (+/- 62,522)\r\n```\r\n\r\nwith atomic notification:\r\n```\r\ntest notify_one<10>      ... bench:     112,035 ns/iter (+/- 18,930)\r\ntest notify_one<50>      ... bench:     153,866 ns/iter (+/- 21,207)\r\ntest notify_one<100>     ... bench:     150,171 ns/iter (+/- 36,634)\r\ntest notify_one<200>     ... bench:     154,960 ns/iter (+/- 12,386)\r\ntest notify_one<500>     ... bench:     152,904 ns/iter (+/- 17,885)\r\n\r\ntest notify_waiters<10>  ... bench:     210,752 ns/iter (+/- 23,719)\r\ntest notify_waiters<50>  ... bench:     161,876 ns/iter (+/- 7,037)\r\ntest notify_waiters<100> ... bench:     157,448 ns/iter (+/- 25,909)\r\ntest notify_waiters<200> ... bench:     167,677 ns/iter (+/- 22,640)\r\ntest notify_waiters<500> ... bench:     290,953 ns/iter (+/- 39,285)\r\n```\r\n\r\n</details>\r\n\r\nWith many contending waiters (>500) benchmarks show degraded performance, but I did some profiling and the bottleneck seems to be somewhere in the scheduler.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5503/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5497", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5497/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5497/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5497/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5497", "id": 1595960722, "node_id": "PR_kwDOBAsbdc5KjxmS", "number": 5497, "title": "sync: document drop behavior for channels", "user": {"login": "hds", "id": 89589, "node_id": "MDQ6VXNlcjg5NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/89589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hds", "html_url": "https://github.com/hds", "followers_url": "https://api.github.com/users/hds/followers", "following_url": "https://api.github.com/users/hds/following{/other_user}", "gists_url": "https://api.github.com/users/hds/gists{/gist_id}", "starred_url": "https://api.github.com/users/hds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hds/subscriptions", "organizations_url": "https://api.github.com/users/hds/orgs", "repos_url": "https://api.github.com/users/hds/repos", "events_url": "https://api.github.com/users/hds/events{/privacy}", "received_events_url": "https://api.github.com/users/hds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-22T22:54:44Z", "updated_at": "2023-02-23T10:04:15Z", "closed_at": "2023-02-23T10:04:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5497", "html_url": "https://github.com/tokio-rs/tokio/pull/5497", "diff_url": "https://github.com/tokio-rs/tokio/pull/5497.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5497.patch", "merged_at": "2023-02-23T10:04:13Z"}, "body": "## Motivation\r\n\r\nSome users mentioned that the behavior of a channel when the receivers\r\nand/or senders are dropped isn't explicitly documented.\r\n\r\n## Solution\r\n\r\nThis change adds wording to the documentation for each channel in the\r\nsync module, explaining under which conditions messages in a channel are\r\ndropped with respect to dropping the senders and the receivers.\r\n\r\nRefs: #5490\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5497/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5496", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5496/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5496/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5496/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5496", "id": 1595600308, "node_id": "PR_kwDOBAsbdc5Kijfa", "number": 5496, "title": "Remove no-longer-necessary cargo-semver-checks flags.", "user": {"login": "obi1kenobi", "id": 2348618, "node_id": "MDQ6VXNlcjIzNDg2MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/2348618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/obi1kenobi", "html_url": "https://github.com/obi1kenobi", "followers_url": "https://api.github.com/users/obi1kenobi/followers", "following_url": "https://api.github.com/users/obi1kenobi/following{/other_user}", "gists_url": "https://api.github.com/users/obi1kenobi/gists{/gist_id}", "starred_url": "https://api.github.com/users/obi1kenobi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/obi1kenobi/subscriptions", "organizations_url": "https://api.github.com/users/obi1kenobi/orgs", "repos_url": "https://api.github.com/users/obi1kenobi/repos", "events_url": "https://api.github.com/users/obi1kenobi/events{/privacy}", "received_events_url": "https://api.github.com/users/obi1kenobi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2119690410, "node_id": "MDU6TGFiZWwyMTE5NjkwNDEw", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-ci", "name": "A-ci", "color": "f7e101", "default": false, "description": "Area: The continuous integration setup"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-22T18:29:31Z", "updated_at": "2023-02-22T19:53:16Z", "closed_at": "2023-02-22T18:54:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5496", "html_url": "https://github.com/tokio-rs/tokio/pull/5496", "diff_url": "https://github.com/tokio-rs/tokio/pull/5496.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5496.patch", "merged_at": "2023-02-22T18:54:18Z"}, "body": "## Motivation\r\n\r\nThe `--exclude` flags for `cargo-semver-checks` here were previously only needed due to a bug in the `cargo-semver-checks` CLI logic.\r\n\r\nThe correct behavior (available as of v0.18.3) for `cargo-semver-checks` is to ignore `publish = false` crates when scanning a workspace, *unless* those crates are specifically selected for checking.\r\n\r\nAll the crates being excluded here are `publish = false`. That makes them excluded by default, so all `--exclude` flags are no-ops.\r\n\r\n## Solution\r\n\r\nRemove the unnecessary `--exclude` flags.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5496/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5494", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5494/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5494/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5494/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5494", "id": 1594383320, "node_id": "PR_kwDOBAsbdc5KefUv", "number": 5494, "title": "Document the nature of the main future", "user": {"login": "huntc", "id": 694893, "node_id": "MDQ6VXNlcjY5NDg5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/694893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huntc", "html_url": "https://github.com/huntc", "followers_url": "https://api.github.com/users/huntc/followers", "following_url": "https://api.github.com/users/huntc/following{/other_user}", "gists_url": "https://api.github.com/users/huntc/gists{/gist_id}", "starred_url": "https://api.github.com/users/huntc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huntc/subscriptions", "organizations_url": "https://api.github.com/users/huntc/orgs", "repos_url": "https://api.github.com/users/huntc/repos", "events_url": "https://api.github.com/users/huntc/events{/privacy}", "received_events_url": "https://api.github.com/users/huntc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993510878, "node_id": "MDU6TGFiZWwxOTkzNTEwODc4", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-runtime", "name": "M-runtime", "color": "f7b101", "default": false, "description": "Module: tokio/runtime"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-22T03:08:54Z", "updated_at": "2023-02-26T15:49:06Z", "closed_at": "2023-02-26T15:48:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5494", "html_url": "https://github.com/tokio-rs/tokio/pull/5494", "diff_url": "https://github.com/tokio-rs/tokio/pull/5494.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5494.patch", "merged_at": "2023-02-26T15:48:56Z"}, "body": "Fixes https://github.com/tokio-rs/tokio/issues/5446", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5494/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5493", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5493/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5493/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5493/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5493", "id": 1594382686, "node_id": "PR_kwDOBAsbdc5KefMk", "number": 5493, "title": "add some missing `tokio::fs` function tests etc.", "user": {"login": "brody4hire", "id": 1559888, "node_id": "MDQ6VXNlcjE1NTk4ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1559888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brody4hire", "html_url": "https://github.com/brody4hire", "followers_url": "https://api.github.com/users/brody4hire/followers", "following_url": "https://api.github.com/users/brody4hire/following{/other_user}", "gists_url": "https://api.github.com/users/brody4hire/gists{/gist_id}", "starred_url": "https://api.github.com/users/brody4hire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brody4hire/subscriptions", "organizations_url": "https://api.github.com/users/brody4hire/orgs", "repos_url": "https://api.github.com/users/brody4hire/repos", "events_url": "https://api.github.com/users/brody4hire/events{/privacy}", "received_events_url": "https://api.github.com/users/brody4hire/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993507783, "node_id": "MDU6TGFiZWwxOTkzNTA3Nzgz", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-fs", "name": "M-fs", "color": "f7b101", "default": false, "description": "Module: tokio/fs"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-22T03:07:54Z", "updated_at": "2023-02-26T16:41:17Z", "closed_at": "2023-02-26T15:48:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5493", "html_url": "https://github.com/tokio-rs/tokio/pull/5493", "diff_url": "https://github.com/tokio-rs/tokio/pull/5493.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5493.patch", "merged_at": "2023-02-26T15:48:09Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\nI tried experimenting with `no-panic` (long story) and discovered that a number of the functions in `tokio/src/fs` are not really tested. I was able to stick `panic!()` calls into over 30 of these functions without causing any test failures.\r\n\r\nI hope to improve the test coverage as discussed further below.\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? In some cases there is not a problem and this can be\r\nthought of as being the motivation for your change.\r\n-->\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\nI started by injecting lines of code like this into `tokio/src/fs` to help keep track of what is and is not tested:\r\n\r\n```rs\r\nassert!(std::env::var(\"XXX_KEEP_UNTESTED_XXX\").is_ok());\r\n```\r\n\r\nto cause the untested `tokio::fs` functions to panic without triggering any build issues.\r\n\r\nI have been able to add most of the missing test coverage in my own workspace. I _started_ this PR with test coverage of `tokio::fs::canonicalize()` and _have pushed all of the changes to start testing the previously untested `tokio::fs` functions_.\r\n\r\n__other testing enhancements:__\r\n\r\n- improve testing & simplify test code in `tokio/tests/fs_link.rs`\r\n- update WASI comments in fs tests\r\n\r\n~~__TODO items - done \u2705__~~\r\n\r\n- [x] ~~finish the missing test coverage for `tokio::fs`~~\r\n- [x] ~~ensure that all injected panicking code is removed~~\r\n- [x] ~~revert 258278e101d5caaef9147388954fada7d93d2695~~\r\n- [x] ~~ensure that there are no remaining XXX todo items~~\r\n\r\n---\r\n\r\nFuture work ideas time permitting _beyond this PR - updated_:\r\n\r\n- improve test coverage in some other places such as `tokio::io`, `tokio::net`, etc.\r\n- explore & propose alternative ideas for code coverage - I already found `cargo-llvm-cov` with permissive licensing and design to work with faster nexte.st for testing\r\n- look into mutation testing\r\n- _investigate if there could be any way to get some of the fs operations working together with WASI / WASM_\r\n- _review source & generated documentation for tokio::fs & Tokio in general_", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5493/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5493/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5488", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5488/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5488/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5488/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5488", "id": 1591981438, "node_id": "PR_kwDOBAsbdc5KWguh", "number": 5488, "title": "stream: fix changelog date", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2583818939, "node_id": "MDU6TGFiZWwyNTgzODE4OTM5", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-stream", "name": "A-tokio-stream", "color": "f7e101", "default": false, "description": "Area: The tokio-stream crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-20T14:35:37Z", "updated_at": "2023-02-20T16:19:58Z", "closed_at": "2023-02-20T16:19:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5488", "html_url": "https://github.com/tokio-rs/tokio/pull/5488", "diff_url": "https://github.com/tokio-rs/tokio/pull/5488.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5488.patch", "merged_at": "2023-02-20T16:19:57Z"}, "body": "Oops.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5488/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5488/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5486", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5486/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5486/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5486/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5486", "id": 1591507021, "node_id": "PR_kwDOBAsbdc5KU6rk", "number": 5486, "title": "Use poll_fn in copy_bidirectional", "user": {"login": "sugar700", "id": 1297598, "node_id": "MDQ6VXNlcjEyOTc1OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sugar700", "html_url": "https://github.com/sugar700", "followers_url": "https://api.github.com/users/sugar700/followers", "following_url": "https://api.github.com/users/sugar700/following{/other_user}", "gists_url": "https://api.github.com/users/sugar700/gists{/gist_id}", "starred_url": "https://api.github.com/users/sugar700/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sugar700/subscriptions", "organizations_url": "https://api.github.com/users/sugar700/orgs", "repos_url": "https://api.github.com/users/sugar700/repos", "events_url": "https://api.github.com/users/sugar700/events{/privacy}", "received_events_url": "https://api.github.com/users/sugar700/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508195, "node_id": "MDU6TGFiZWwxOTkzNTA4MTk1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-io", "name": "M-io", "color": "f7b101", "default": false, "description": "Module: tokio/io"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-20T09:50:50Z", "updated_at": "2023-02-20T14:38:41Z", "closed_at": "2023-02-20T14:38:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5486", "html_url": "https://github.com/tokio-rs/tokio/pull/5486", "diff_url": "https://github.com/tokio-rs/tokio/pull/5486.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5486.patch", "merged_at": "2023-02-20T14:38:41Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? In some cases there is not a problem and this can be\r\nthought of as being the motivation for your change.\r\n-->\r\n\r\nI didn't particularly like putting an artificial structure just to convert `Poll` into a `Future`. I think it's clearer with `poll_fn`.\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\nUse `poll_fn` rather than a manual `Future` implementation.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5486/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5484", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5484/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5484/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5484/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5484", "id": 1590760740, "node_id": "PR_kwDOBAsbdc5KSdn6", "number": 5484, "title": "Prepare tokio-stream 0.1.12", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2583818939, "node_id": "MDU6TGFiZWwyNTgzODE4OTM5", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio-stream", "name": "A-tokio-stream", "color": "f7e101", "default": false, "description": "Area: The tokio-stream crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-19T16:48:57Z", "updated_at": "2023-02-20T14:35:53Z", "closed_at": "2023-02-20T09:18:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5484", "html_url": "https://github.com/tokio-rs/tokio/pull/5484", "diff_url": "https://github.com/tokio-rs/tokio/pull/5484.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5484.patch", "merged_at": "2023-02-20T09:18:19Z"}, "body": "# 0.1.12 (January 20, 2022)\r\n\r\n- time: remove `Unpin` bound on `Throttle` methods ([#5105])\r\n- time: document that `throttle` operates on ms granularity ([#5101])\r\n\r\n[#5105]: https://github.com/tokio-rs/tokio/pull/5105\r\n[#5101]: https://github.com/tokio-rs/tokio/pull/5101", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5484/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5484/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5483", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5483/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5483/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5483/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5483", "id": 1590734243, "node_id": "PR_kwDOBAsbdc5KSYXL", "number": 5483, "title": "Document supported platforms", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-02-19T15:37:55Z", "updated_at": "2023-03-11T16:08:00Z", "closed_at": "2023-02-21T18:57:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5483", "html_url": "https://github.com/tokio-rs/tokio/pull/5483", "diff_url": "https://github.com/tokio-rs/tokio/pull/5483.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5483.patch", "merged_at": "2023-02-21T18:57:19Z"}, "body": "Document which platforms are supported.\r\n\r\n@Thomasdezeeuw Are there any nuances here that we should be careful about?\r\n\r\n[View rendered version](https://deploy-preview-5483--tokio-rs.netlify.app/tokio/#supported-platforms)", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5483/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 1}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5483/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5481", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5481/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5481/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5481/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5481", "id": 1590679518, "node_id": "PR_kwDOBAsbdc5KSNci", "number": 5481, "title": "io: improve AsyncFd example", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508195, "node_id": "MDU6TGFiZWwxOTkzNTA4MTk1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-io", "name": "M-io", "color": "f7b101", "default": false, "description": "Module: tokio/io"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-19T13:00:37Z", "updated_at": "2023-02-19T22:40:58Z", "closed_at": "2023-02-19T22:40:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5481", "html_url": "https://github.com/tokio-rs/tokio/pull/5481", "diff_url": "https://github.com/tokio-rs/tokio/pull/5481.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5481.patch", "merged_at": "2023-02-19T22:40:56Z"}, "body": "Someone mentioned that it would be nice if the example included an `AsyncRead` impl.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5481/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5480", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5480/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5480/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5480/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5480", "id": 1590647798, "node_id": "PR_kwDOBAsbdc5KSHeT", "number": 5480, "title": "sync: fix docs for Send/Sync bounds in broadcast", "user": {"login": "satakuma", "id": 46168631, "node_id": "MDQ6VXNlcjQ2MTY4NjMx", "avatar_url": "https://avatars.githubusercontent.com/u/46168631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satakuma", "html_url": "https://github.com/satakuma", "followers_url": "https://api.github.com/users/satakuma/followers", "following_url": "https://api.github.com/users/satakuma/following{/other_user}", "gists_url": "https://api.github.com/users/satakuma/gists{/gist_id}", "starred_url": "https://api.github.com/users/satakuma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satakuma/subscriptions", "organizations_url": "https://api.github.com/users/satakuma/orgs", "repos_url": "https://api.github.com/users/satakuma/repos", "events_url": "https://api.github.com/users/satakuma/events{/privacy}", "received_events_url": "https://api.github.com/users/satakuma/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-19T11:09:04Z", "updated_at": "2023-02-19T13:11:43Z", "closed_at": "2023-02-19T13:11:43Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5480", "html_url": "https://github.com/tokio-rs/tokio/pull/5480", "diff_url": "https://github.com/tokio-rs/tokio/pull/5480.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5480.patch", "merged_at": "2023-02-19T13:11:43Z"}, "body": "`broadcast` channel does not require sent values to be `Sync`.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5480/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5480/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5478", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5478/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5478/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5478/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5478", "id": 1590639509, "node_id": "PR_kwDOBAsbdc5KSF2A", "number": 5478, "title": "ci: remove PROPTEST_CASES from miri", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2119690410, "node_id": "MDU6TGFiZWwyMTE5NjkwNDEw", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-ci", "name": "A-ci", "color": "f7e101", "default": false, "description": "Area: The continuous integration setup"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-19T10:38:38Z", "updated_at": "2023-02-19T11:11:24Z", "closed_at": "2023-02-19T11:11:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5478", "html_url": "https://github.com/tokio-rs/tokio/pull/5478", "diff_url": "https://github.com/tokio-rs/tokio/pull/5478.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5478.patch", "merged_at": "2023-02-19T11:11:23Z"}, "body": "This option doesn't do anything anymore after #5392.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5478/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5478/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5477", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5477/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5477/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5477/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5477", "id": 1590617318, "node_id": "PR_kwDOBAsbdc5KSBlG", "number": 5477, "title": "net: refactor named pipe builders to not use bitfields", "user": {"login": "mhils", "id": 1019198, "node_id": "MDQ6VXNlcjEwMTkxOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1019198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mhils", "html_url": "https://github.com/mhils", "followers_url": "https://api.github.com/users/mhils/followers", "following_url": "https://api.github.com/users/mhils/following{/other_user}", "gists_url": "https://api.github.com/users/mhils/gists{/gist_id}", "starred_url": "https://api.github.com/users/mhils/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mhils/subscriptions", "organizations_url": "https://api.github.com/users/mhils/orgs", "repos_url": "https://api.github.com/users/mhils/repos", "events_url": "https://api.github.com/users/mhils/events{/privacy}", "received_events_url": "https://api.github.com/users/mhils/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993508926, "node_id": "MDU6TGFiZWwxOTkzNTA4OTI2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-net", "name": "M-net", "color": "f7b101", "default": false, "description": "Module: tokio/net"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-19T09:14:31Z", "updated_at": "2023-02-19T11:00:20Z", "closed_at": "2023-02-19T10:59:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5477", "html_url": "https://github.com/tokio-rs/tokio/pull/5477", "diff_url": "https://github.com/tokio-rs/tokio/pull/5477.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5477.patch", "merged_at": "2023-02-19T10:59:28Z"}, "body": "This fixes #5359.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5477/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5477/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5475", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5475/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5475/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5475/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5475", "id": 1590456139, "node_id": "PR_kwDOBAsbdc5KRkUW", "number": 5475, "title": "Solve deadlock in Semaphore", "user": {"login": "amab8901", "id": 83634595, "node_id": "MDQ6VXNlcjgzNjM0NTk1", "avatar_url": "https://avatars.githubusercontent.com/u/83634595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amab8901", "html_url": "https://github.com/amab8901", "followers_url": "https://api.github.com/users/amab8901/followers", "following_url": "https://api.github.com/users/amab8901/following{/other_user}", "gists_url": "https://api.github.com/users/amab8901/gists{/gist_id}", "starred_url": "https://api.github.com/users/amab8901/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amab8901/subscriptions", "organizations_url": "https://api.github.com/users/amab8901/orgs", "repos_url": "https://api.github.com/users/amab8901/repos", "events_url": "https://api.github.com/users/amab8901/events{/privacy}", "received_events_url": "https://api.github.com/users/amab8901/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-18T20:05:57Z", "updated_at": "2023-02-19T10:17:00Z", "closed_at": "2023-02-19T10:16:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5475", "html_url": "https://github.com/tokio-rs/tokio/pull/5475", "diff_url": "https://github.com/tokio-rs/tokio/pull/5475.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5475.patch", "merged_at": "2023-02-19T10:16:59Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tokio/blob/master/CONTRIBUTING.md\r\n\r\nThe contributors guide includes instructions for running rustfmt and building the\r\ndocumentation, which requires special commands beyond `cargo fmt` and `cargo doc`.\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? In some cases there is not a problem and this can be\r\nthought of as being the motivation for your change.\r\n\r\n\r\n-->\r\nhttps://github.com/tokio-rs/tokio/issues/5429\r\n\r\nsolving the semaphore deadlock\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n\r\n\r\n-->\r\ncreate a test to check for deadlock. Then save old value of waker when updating the waker value. Then drop the waiters before dropping the old waker inside the waiter (this is how I understood it). \r\nPS: I'm kinda new to this so may be good for a pro to double check if I used the right approach", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5475/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5474", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5474/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5474/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5474/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5474", "id": 1590432567, "node_id": "PR_kwDOBAsbdc5KRf-0", "number": 5474, "title": "Add MappedOwnedMutexGuard", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-18T18:37:16Z", "updated_at": "2023-02-19T13:12:34Z", "closed_at": "2023-02-19T13:12:33Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5474", "html_url": "https://github.com/tokio-rs/tokio/pull/5474", "diff_url": "https://github.com/tokio-rs/tokio/pull/5474.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5474.patch", "merged_at": "2023-02-19T13:12:33Z"}, "body": "This also adds a tracing resource span to MappedMutexGuard.\r\n\r\nCloses:  #5414", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5474/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5474/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5472", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5472/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5472/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5472/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5472", "id": 1590361248, "node_id": "PR_kwDOBAsbdc5KRSzK", "number": 5472, "title": "Add a new benchmark to test mutex contention in `watch::Receiver`.", "user": {"login": "tijsvd", "id": 34085809, "node_id": "MDQ6VXNlcjM0MDg1ODA5", "avatar_url": "https://avatars.githubusercontent.com/u/34085809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tijsvd", "html_url": "https://github.com/tijsvd", "followers_url": "https://api.github.com/users/tijsvd/followers", "following_url": "https://api.github.com/users/tijsvd/following{/other_user}", "gists_url": "https://api.github.com/users/tijsvd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tijsvd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tijsvd/subscriptions", "organizations_url": "https://api.github.com/users/tijsvd/orgs", "repos_url": "https://api.github.com/users/tijsvd/repos", "events_url": "https://api.github.com/users/tijsvd/events{/privacy}", "received_events_url": "https://api.github.com/users/tijsvd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}, {"id": 3129061578, "node_id": "MDU6TGFiZWwzMTI5MDYxNTc4", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-benches", "name": "A-benches", "color": "f7e101", "default": false, "description": "Area: Benchmarks"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-18T14:27:52Z", "updated_at": "2023-02-18T14:51:09Z", "closed_at": "2023-02-18T14:51:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5472", "html_url": "https://github.com/tokio-rs/tokio/pull/5472", "diff_url": "https://github.com/tokio-rs/tokio/pull/5472.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5472.patch", "merged_at": "2023-02-18T14:51:08Z"}, "body": "Benchmark related to PR #5464.\r\n\r\nSee issue #5403.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5472/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5472/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5471", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5471/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5471/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5471/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5471", "id": 1590288616, "node_id": "PR_kwDOBAsbdc5KREwC", "number": 5471, "title": "Drop wakers after unlocking the mutex in Notify", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-18T10:19:00Z", "updated_at": "2023-02-19T21:16:25Z", "closed_at": "2023-02-19T21:16:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5471", "html_url": "https://github.com/tokio-rs/tokio/pull/5471", "diff_url": "https://github.com/tokio-rs/tokio/pull/5471.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5471.patch", "merged_at": "2023-02-19T21:16:24Z"}, "body": "Partially resolves #5429.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5471/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5471/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5469", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5469/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5469/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5469/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5469", "id": 1589992291, "node_id": "PR_kwDOBAsbdc5KQIeQ", "number": 5469, "title": "sync: don't leak tracing spans in mutex guards", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-17T21:40:42Z", "updated_at": "2023-02-18T09:39:30Z", "closed_at": "2023-02-18T09:39:25Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5469", "html_url": "https://github.com/tokio-rs/tokio/pull/5469", "diff_url": "https://github.com/tokio-rs/tokio/pull/5469.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5469.patch", "merged_at": "2023-02-18T09:39:25Z"}, "body": "Currently, `MappedMutexGuard::map` can leak a tracing span, which can lead to a memory leak. This PR fixes that.\r\n\r\nI'd also like to add a tracing span to the other guards and add a mapped owned guard, but that can happen in a follow-up PR.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5469/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5468", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5468/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5468/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5468/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5468", "id": 1589975915, "node_id": "PR_kwDOBAsbdc5KQFDg", "number": 5468, "title": "time: remove cache padding in timer entries", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993513841, "node_id": "MDU6TGFiZWwxOTkzNTEzODQx", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-time", "name": "M-time", "color": "f7b101", "default": false, "description": "Module: tokio/time"}, {"id": 1995611125, "node_id": "MDU6TGFiZWwxOTk1NjExMTI1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-performance", "name": "T-performance", "color": "bfd4f2", "default": false, "description": "Topic: performance and benchmarks"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-17T21:20:12Z", "updated_at": "2023-02-17T21:49:47Z", "closed_at": "2023-02-17T21:49:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5468", "html_url": "https://github.com/tokio-rs/tokio/pull/5468", "diff_url": "https://github.com/tokio-rs/tokio/pull/5468.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5468.patch", "merged_at": "2023-02-17T21:49:46Z"}, "body": "Cache padding the timer entries was originally done when the timer entries were heap allocated, but since they are now allocated on the stack, it doesn't make as much sense, and can hurt performance in some cases.\r\n\r\nCloses: #5348", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5468/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5464", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5464/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5464/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5464/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5464", "id": 1589588322, "node_id": "PR_kwDOBAsbdc5KOxIe", "number": 5464, "title": "Reduce contention in watch channel", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511927, "node_id": "MDU6TGFiZWwxOTkzNTExOTI3", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-sync", "name": "M-sync", "color": "f7b101", "default": false, "description": "Module: tokio/sync"}, {"id": 1995611125, "node_id": "MDU6TGFiZWwxOTk1NjExMTI1", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-performance", "name": "T-performance", "color": "bfd4f2", "default": false, "description": "Topic: performance and benchmarks"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-17T16:06:38Z", "updated_at": "2023-02-18T14:32:17Z", "closed_at": "2023-02-17T22:56:57Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5464", "html_url": "https://github.com/tokio-rs/tokio/pull/5464", "diff_url": "https://github.com/tokio-rs/tokio/pull/5464.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5464.patch", "merged_at": "2023-02-17T22:56:57Z"}, "body": "See discussion in #5403 for context.\r\n\r\ncc @tijsvd\r\n\r\nCloses: #5403", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5464/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5459", "repository_url": "https://api.github.com/repos/tokio-rs/tokio", "labels_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5459/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5459/comments", "events_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5459/events", "html_url": "https://github.com/tokio-rs/tokio/pull/5459", "id": 1586868356, "node_id": "PR_kwDOBAsbdc5KFmZe", "number": 5459, "title": "Updated Documentation for Signals", "user": {"login": "ericmcbride", "id": 9321550, "node_id": "MDQ6VXNlcjkzMjE1NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/9321550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ericmcbride", "html_url": "https://github.com/ericmcbride", "followers_url": "https://api.github.com/users/ericmcbride/followers", "following_url": "https://api.github.com/users/ericmcbride/following{/other_user}", "gists_url": "https://api.github.com/users/ericmcbride/gists{/gist_id}", "starred_url": "https://api.github.com/users/ericmcbride/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ericmcbride/subscriptions", "organizations_url": "https://api.github.com/users/ericmcbride/orgs", "repos_url": "https://api.github.com/users/ericmcbride/repos", "events_url": "https://api.github.com/users/ericmcbride/events{/privacy}", "received_events_url": "https://api.github.com/users/ericmcbride/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 830340165, "node_id": "MDU6TGFiZWw4MzAzNDAxNjU=", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/T-docs", "name": "T-docs", "color": "bfd4f2", "default": false, "description": "Topic: documentation"}, {"id": 1993501286, "node_id": "MDU6TGFiZWwxOTkzNTAxMjg2", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/A-tokio", "name": "A-tokio", "color": "f7e101", "default": false, "description": "Area: The main tokio crate"}, {"id": 1993511454, "node_id": "MDU6TGFiZWwxOTkzNTExNDU0", "url": "https://api.github.com/repos/tokio-rs/tokio/labels/M-signal", "name": "M-signal", "color": "f7b101", "default": false, "description": "Module: tokio/signal"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-16T01:54:20Z", "updated_at": "2023-02-26T19:43:41Z", "closed_at": "2023-02-26T19:43:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tokio/pulls/5459", "html_url": "https://github.com/tokio-rs/tokio/pull/5459", "diff_url": "https://github.com/tokio-rs/tokio/pull/5459.diff", "patch_url": "https://github.com/tokio-rs/tokio/pull/5459.patch", "merged_at": "2023-02-26T19:43:41Z"}, "body": "\r\n## Motivation\r\nResolve Issue #5430 and to update the documentation to point to how to create Streams, using the Tokio-stream crate\r\n\r\n## Solution\r\nUpdate documentation for Windows + Unix signals to not include \"streams\" since they do not implement the Stream Trait, and give a link to the acceptable Tokio-stream wrapper.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tokio/issues/5459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tokio/issues/5459/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]