[{"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2571", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2571/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2571/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2571/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2571", "id": 1679264375, "node_id": "PR_kwDOCdoc185O5sXb", "number": 2571, "title": "subscriber: prepare to release v0.3.17", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-22T01:45:58Z", "updated_at": "2023-04-22T01:57:00Z", "closed_at": "2023-04-22T01:56:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2571", "html_url": "https://github.com/tokio-rs/tracing/pull/2571", "diff_url": "https://github.com/tokio-rs/tracing/pull/2571.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2571.patch", "merged_at": "2023-04-22T01:56:59Z"}, "body": "# 0.3.17 (April 21, 2023)\r\n\r\nThis release of `tracing-subscriber` fixes a build error when using `env-filter` with recent versions of the `regex` crate. It also introduces several minor API improvements.\r\n\r\n### Fixed\r\n\r\n- **env-filter**: Add \"unicode-case\" and \"unicode-perl\" to the `regex` dependency, fixing a build error with recent versions of `regex` (#2566)\r\n- A number of minor documentation typos and other fixes (#2384, #2378, #2368, #2548)\r\n\r\n### Added\r\n\r\n- **filter**: Add `fmt::Display` impl for `filter::Targets` (#2343)\r\n- **fmt**: Made `with_ansi(false)` no longer require the \"ansi\" feature, so that ANSI formatting escapes can be disabled without requiring ANSI-specific dependencies (#2532)\r\n\r\n### Changed\r\n\r\n- **fmt**: Dim targets in the `Compact` formatter, matching the default formatter (#2409)\r\n\r\nThanks to @keepsimple1, @andrewhalle, @LeoniePhiline, @LukeMathWalker, @howardjohn, @daxpedda, and @dbidwell94 for contributing to this release!", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2571/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2571/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2570", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2570/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2570/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2570/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2570", "id": 1679212114, "node_id": "PR_kwDOCdoc185O5hqa", "number": 2570, "title": "backport a gigantic pile of stuff", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-21T23:26:02Z", "updated_at": "2023-04-21T23:59:53Z", "closed_at": "2023-04-21T23:59:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2570", "html_url": "https://github.com/tokio-rs/tracing/pull/2570", "diff_url": "https://github.com/tokio-rs/tracing/pull/2570.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2570.patch", "merged_at": "2023-04-21T23:59:52Z"}, "body": "* 05aae84b subscriber: add \"unicode-case\" and \"unicode-perl\" features to `regex` dependency (#2566)\r\n* a00a4e94 attributes: update UI tests with the latest stable version of Rust (#2568)\r\n* 97c15b00 tracing, tracing-futures: instrument `Future` inside `Drop` (#2562)\r\n* cf94f915 mock: move subscriber mock from tracing-subscriber tests (#2369)\r\n* 192921cb subscriber: add ability to disable ANSI without crate feature (#2532)\r\n* 83cc0b04 attributes: update to syn 2.0 (#2516)\r\n* 6feda044 attributes: remove unused syn's feature visit (#2530)\r\n* b5f63178 Remove dep `cfg-if` from tracing (#2553)\r\n* 334bee71 tracing: `inline`  methods to make macro-generated code smaller (#2555)\r\n* fd17727f chore: fix `clippy::needless_borrow` lint in journald tests (#2547)\r\n* 0192304b subscriber: dim `Compact` targets, matching the default formatter (#2409)\r\n* c71fb142 chore: move tracing-opentelemetry to its own repo (#2523)\r\n* 59d9ae3d attributes: document default level for `err` (#2433)\r\n* 0328b5f2 chore: fix new clippy lints from 1.67.0 (#2451)\r\n* 191cdc59 attributes: add compile error on const fn instrumentation (#2418)\r\n* 38c1d8b2 subscriber: dim `Compact` targets, matching the default formatter (#2409)\r\n* ac8ddf4c chore: Remove `doc(html_root_url)` attribute from all crates. (#2384)\r\n* 40b576f7 fix(docs): Remove accidentally duplicated words (#2378)\r\n* f0242bda appender: Fix typo in RollingFileAppender docs (#2375)\r\n* 099f1334 attributes: allow `clippy::unreachable` warning (#2356)\r\n* 018ded8a appender: allow worker thread name to be configured (#2365)\r\n* b7c5609c subscriber: fix wrong `doc_cfg` attribute (#2368)\r\n* 17c1c647 chore: track Rust 1.65 clippy lints (#2366)\r\n* 8cc41bf9 attributes: improve docs; tests for using Levels in `#[instrument]` (#2350)\r\n* 528e6331 attributes: support custom levels for `ret` and `err` (#2335)\r\n* 81f94fe0 subscriber: impl `fmt::Display` for `filter::Targets` (#2343)\r\n* 7c09e575 chore: allow renamed and removed lints on docs build (#2344)", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2570/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2568", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2568/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2568/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2568/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2568", "id": 1679030198, "node_id": "PR_kwDOCdoc185O45ju", "number": 2568, "title": "updated UI tests using TRYBUILD=overwrite with the latest stable vers\u2026", "user": {"login": "dbidwell94", "id": 25497078, "node_id": "MDQ6VXNlcjI1NDk3MDc4", "avatar_url": "https://avatars.githubusercontent.com/u/25497078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbidwell94", "html_url": "https://github.com/dbidwell94", "followers_url": "https://api.github.com/users/dbidwell94/followers", "following_url": "https://api.github.com/users/dbidwell94/following{/other_user}", "gists_url": "https://api.github.com/users/dbidwell94/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbidwell94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbidwell94/subscriptions", "organizations_url": "https://api.github.com/users/dbidwell94/orgs", "repos_url": "https://api.github.com/users/dbidwell94/repos", "events_url": "https://api.github.com/users/dbidwell94/events{/privacy}", "received_events_url": "https://api.github.com/users/dbidwell94/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-21T20:11:27Z", "updated_at": "2023-04-21T20:47:45Z", "closed_at": "2023-04-21T20:47:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2568", "html_url": "https://github.com/tokio-rs/tracing/pull/2568", "diff_url": "https://github.com/tokio-rs/tracing/pull/2568.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2568.patch", "merged_at": "2023-04-21T20:47:45Z"}, "body": "updated UI tests using TRYBUILD=overwrite with the latest stable version of Rust\r\n\r\n## Motivation\r\n\r\nUI tests are failing on the latest stable version of Rust\r\n\r\n## Solution\r\n\r\nRun `TRYBUILD=overwrite cargo test` to update the effected files.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2568/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2566", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2566/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2566/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2566/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2566", "id": 1677986424, "node_id": "PR_kwDOCdoc185O1YZ3", "number": 2566, "title": "Add unicode-case and unicode-perl features to the regex dependency", "user": {"login": "dbidwell94", "id": 25497078, "node_id": "MDQ6VXNlcjI1NDk3MDc4", "avatar_url": "https://avatars.githubusercontent.com/u/25497078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbidwell94", "html_url": "https://github.com/dbidwell94", "followers_url": "https://api.github.com/users/dbidwell94/followers", "following_url": "https://api.github.com/users/dbidwell94/following{/other_user}", "gists_url": "https://api.github.com/users/dbidwell94/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbidwell94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbidwell94/subscriptions", "organizations_url": "https://api.github.com/users/dbidwell94/orgs", "repos_url": "https://api.github.com/users/dbidwell94/repos", "events_url": "https://api.github.com/users/dbidwell94/events{/privacy}", "received_events_url": "https://api.github.com/users/dbidwell94/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2023-04-21T07:18:48Z", "updated_at": "2023-04-21T20:59:26Z", "closed_at": "2023-04-21T20:59:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2566", "html_url": "https://github.com/tokio-rs/tracing/pull/2566", "diff_url": "https://github.com/tokio-rs/tracing/pull/2566.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2566.patch", "merged_at": "2023-04-21T20:59:26Z"}, "body": "[Regex parse error](https://github.com/tokio-rs/tracing/issues/2565)\r\n\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\n`tracing-subscriber-0.3.16\\src\\filter\\env\\directive.rs:140:10` fails to parse regex in certain cases\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\nRefactor referenced regex so that `unicode-case` and `unicode-perl` is not required.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2566/reactions", "total_count": 9, "+1": 9, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2566/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2562", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2562/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2562/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2562/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2562", "id": 1667647802, "node_id": "PR_kwDOCdoc185OS73J", "number": 2562, "title": "tracing, tracing-futures: instrument `Future` inside `Drop`", "user": {"login": "ilslv", "id": 47687266, "node_id": "MDQ6VXNlcjQ3Njg3MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/47687266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilslv", "html_url": "https://github.com/ilslv", "followers_url": "https://api.github.com/users/ilslv/followers", "following_url": "https://api.github.com/users/ilslv/following{/other_user}", "gists_url": "https://api.github.com/users/ilslv/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilslv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilslv/subscriptions", "organizations_url": "https://api.github.com/users/ilslv/orgs", "repos_url": "https://api.github.com/users/ilslv/repos", "events_url": "https://api.github.com/users/ilslv/events{/privacy}", "received_events_url": "https://api.github.com/users/ilslv/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-14T07:07:34Z", "updated_at": "2023-04-18T22:55:47Z", "closed_at": "2023-04-18T22:55:47Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2562", "html_url": "https://github.com/tokio-rs/tracing/pull/2562", "diff_url": "https://github.com/tokio-rs/tracing/pull/2562.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2562.patch", "merged_at": "2023-04-18T22:55:47Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\nhttps://github.com/tokio-rs/tracing/issues/2541\r\n\r\n## Solution\r\n\r\nWrap inner `Future` of `Instrumented` in `ManuallyDrop` to execute inner `Drop` with entered `Span`. \r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2562/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2555", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2555/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2555/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2555/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2555", "id": 1662978653, "node_id": "PR_kwDOCdoc185ODNP4", "number": 2555, "title": "`inline` several methods to make `tracing::event!` smaller", "user": {"login": "ldm0", "id": 31354274, "node_id": "MDQ6VXNlcjMxMzU0Mjc0", "avatar_url": "https://avatars.githubusercontent.com/u/31354274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ldm0", "html_url": "https://github.com/ldm0", "followers_url": "https://api.github.com/users/ldm0/followers", "following_url": "https://api.github.com/users/ldm0/following{/other_user}", "gists_url": "https://api.github.com/users/ldm0/gists{/gist_id}", "starred_url": "https://api.github.com/users/ldm0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ldm0/subscriptions", "organizations_url": "https://api.github.com/users/ldm0/orgs", "repos_url": "https://api.github.com/users/ldm0/repos", "events_url": "https://api.github.com/users/ldm0/events{/privacy}", "received_events_url": "https://api.github.com/users/ldm0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-11T18:03:25Z", "updated_at": "2023-04-12T05:33:06Z", "closed_at": "2023-04-11T22:43:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2555", "html_url": "https://github.com/tokio-rs/tracing/pull/2555", "diff_url": "https://github.com/tokio-rs/tracing/pull/2555.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2555.patch", "merged_at": "2023-04-11T22:43:23Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\nMake `tracing::event!` codegen smaller\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\nAdd `inline` to several functions called by `tracing::event!`.\r\n\r\nSimple example: https://github.com/ldm0/tracing_test\r\n\r\nAfter inlining, executable size drops from 746kb to 697kb(`cargo build --release + strip`), saves 50 bytes per `event!`.\r\n\r\nTest environment:\r\n```\r\ntoolchain: nightly-aarch64-apple-darwin\r\nrustc-version: rustc 1.70.0-nightly (88fb1b922 2023-04-10)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2555/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2553", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2553/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2553/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2553/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2553", "id": 1662121732, "node_id": "PR_kwDOCdoc185OASkE", "number": 2553, "title": "Remove dep `cfg-if` from tracing", "user": {"login": "NobodyXu", "id": 30436523, "node_id": "MDQ6VXNlcjMwNDM2NTIz", "avatar_url": "https://avatars.githubusercontent.com/u/30436523?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NobodyXu", "html_url": "https://github.com/NobodyXu", "followers_url": "https://api.github.com/users/NobodyXu/followers", "following_url": "https://api.github.com/users/NobodyXu/following{/other_user}", "gists_url": "https://api.github.com/users/NobodyXu/gists{/gist_id}", "starred_url": "https://api.github.com/users/NobodyXu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NobodyXu/subscriptions", "organizations_url": "https://api.github.com/users/NobodyXu/orgs", "repos_url": "https://api.github.com/users/NobodyXu/repos", "events_url": "https://api.github.com/users/NobodyXu/events{/privacy}", "received_events_url": "https://api.github.com/users/NobodyXu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-11T09:43:47Z", "updated_at": "2025-09-06T14:43:18Z", "closed_at": "2023-04-12T21:06:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2553", "html_url": "https://github.com/tokio-rs/tracing/pull/2553", "diff_url": "https://github.com/tokio-rs/tracing/pull/2553.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2553.patch", "merged_at": "2023-04-12T21:06:59Z"}, "body": "## Motivation\r\n\r\nSame reason as https://github.com/rust-lang/log/pull/536 :\r\n\r\n`cfg_if` is only used in a single place and `tracing` is used by many other crates, so even removing one dependency will be beneficial.\r\n\r\n## Solution\r\n\r\nRemove dependency `cfg-if` and replace `cfg_if::cfg_if!` with a `const fn get_max_level_inner() -> LevelFilter` and uses `if cfg!(...)` inside.\r\n\r\nUsing if in const function is stablised in [1.46](https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-1460-2020-08-27) so this should work fine in msrv 1.56", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2553/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2553/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2552", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2552/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2552/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2552/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2552", "id": 1659598482, "node_id": "PR_kwDOCdoc185N4F5n", "number": 2552, "title": "CI: fix clippy warnings for v0.1.x", "user": {"login": "keepsimple1", "id": 7699244, "node_id": "MDQ6VXNlcjc2OTkyNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7699244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keepsimple1", "html_url": "https://github.com/keepsimple1", "followers_url": "https://api.github.com/users/keepsimple1/followers", "following_url": "https://api.github.com/users/keepsimple1/following{/other_user}", "gists_url": "https://api.github.com/users/keepsimple1/gists{/gist_id}", "starred_url": "https://api.github.com/users/keepsimple1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keepsimple1/subscriptions", "organizations_url": "https://api.github.com/users/keepsimple1/orgs", "repos_url": "https://api.github.com/users/keepsimple1/repos", "events_url": "https://api.github.com/users/keepsimple1/events{/privacy}", "received_events_url": "https://api.github.com/users/keepsimple1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-08T18:00:28Z", "updated_at": "2023-04-12T21:22:45Z", "closed_at": "2023-04-12T21:22:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2552", "html_url": "https://github.com/tokio-rs/tracing/pull/2552", "diff_url": "https://github.com/tokio-rs/tracing/pull/2552.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2552.patch", "merged_at": "2023-04-12T21:22:44Z"}, "body": "## Motivation\r\n\r\nClippy check fails in recent CI runs in v0.1.x branch PRs, for example this run: https://github.com/tokio-rs/tracing/actions/runs/4641107803/jobs/8215263838 .\r\n\r\nRelevant error logs:\r\n```\r\nerror: lint `const_err` has been removed: converted into hard error, see issue #71800 <https://github.com/rust-lang/rust/issues/71800> for more information\r\n   --> tracing-core/src/lib.rs:132:5\r\n    |\r\n132 |     const_err,\r\n    |     ^^^^^^^^^\r\n    |\r\n    = note: `-D renamed-and-removed-lints` implied by `-D warnings`\r\n\r\n\r\nerror: deref which would be done by auto-deref\r\n   --> tracing-core/src/dispatcher.rs:371:26\r\n    |\r\n371 |                 return f(&*entered.current());\r\n    |                          ^^^^^^^^^^^^^^^^^^^ help: try this: `&entered.current()`\r\n    |\r\n    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_auto_deref\r\n    = note: `-D clippy::explicit-auto-deref` implied by `-D warnings`\r\n\r\n\r\nerror: deref which would be done by auto-deref\r\n   --> tracing-core/src/dispatcher.rs:393:20\r\n    |\r\n393 |             Some(f(&*entered.current()))\r\n    |                    ^^^^^^^^^^^^^^^^^^^ help: try this: `&entered.current()`\r\n    |\r\n    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_auto_deref\r\n```\r\n\r\n## Solution\r\n\r\nFix the warnings based on the suggestions for Clippy.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2552/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2550", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2550/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2550/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2550/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2550", "id": 1659033190, "node_id": "PR_kwDOCdoc185N2XlH", "number": 2550, "title": "subscriber: update time crate to 0.3.18", "user": {"login": "keepsimple1", "id": 7699244, "node_id": "MDQ6VXNlcjc2OTkyNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7699244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keepsimple1", "html_url": "https://github.com/keepsimple1", "followers_url": "https://api.github.com/users/keepsimple1/followers", "following_url": "https://api.github.com/users/keepsimple1/following{/other_user}", "gists_url": "https://api.github.com/users/keepsimple1/gists{/gist_id}", "starred_url": "https://api.github.com/users/keepsimple1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keepsimple1/subscriptions", "organizations_url": "https://api.github.com/users/keepsimple1/orgs", "repos_url": "https://api.github.com/users/keepsimple1/repos", "events_url": "https://api.github.com/users/keepsimple1/events{/privacy}", "received_events_url": "https://api.github.com/users/keepsimple1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2023-04-07T17:36:22Z", "updated_at": "2023-04-13T23:07:23Z", "closed_at": "2023-04-13T20:24:52Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2550", "html_url": "https://github.com/tokio-rs/tracing/pull/2550", "diff_url": "https://github.com/tokio-rs/tracing/pull/2550.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2550.patch", "merged_at": "2023-04-13T20:24:51Z"}, "body": "## Motivation\r\n\r\nAs I asked earlier in [discussions](https://github.com/tokio-rs/tracing/discussions/2545), I'm trying to use `LocalTime` in `tracing-subscriber::fmt`, i.e. something like this: \r\n```\r\ntracing_subscriber::fmt()\r\n        .with_timer(tracing_subscriber::fmt::time::LocalTime::rfc_3339())\r\n```\r\n\r\nHowever, with the `time` crate 0.3.2, I need to build with `--cfg unsound_local_offset`, which is not desirable. In fact, `time` crate has removed this requirement since v0.3.18. Hence I propose to update `time` crate version in this branch.\r\n\r\n## Solution\r\n\r\nUpdate `time` crate to version `0.3.18`. I tried locally to use `LocalTime` after updating, there is no problem without `--cfg unsound_local_offset`.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2550/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2550/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2548", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2548/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2548/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2548/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2548", "id": 1656474354, "node_id": "PR_kwDOCdoc185NuKfx", "number": 2548, "title": "subscriber: fix doc typo", "user": {"login": "andrewhalle", "id": 16718686, "node_id": "MDQ6VXNlcjE2NzE4Njg2", "avatar_url": "https://avatars.githubusercontent.com/u/16718686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewhalle", "html_url": "https://github.com/andrewhalle", "followers_url": "https://api.github.com/users/andrewhalle/followers", "following_url": "https://api.github.com/users/andrewhalle/following{/other_user}", "gists_url": "https://api.github.com/users/andrewhalle/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewhalle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewhalle/subscriptions", "organizations_url": "https://api.github.com/users/andrewhalle/orgs", "repos_url": "https://api.github.com/users/andrewhalle/repos", "events_url": "https://api.github.com/users/andrewhalle/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewhalle/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-06T00:04:55Z", "updated_at": "2023-04-13T22:01:12Z", "closed_at": "2023-04-13T22:01:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2548", "html_url": "https://github.com/tokio-rs/tracing/pull/2548", "diff_url": "https://github.com/tokio-rs/tracing/pull/2548.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2548.patch", "merged_at": "2023-04-13T22:01:11Z"}, "body": "**This commit**\r\n- tyoe -> type.\r\n\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\nA doc typo.\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\n## Solution\r\n\r\nFix.\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2548/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2547", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2547/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2547/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2547/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2547", "id": 1656133466, "node_id": "PR_kwDOCdoc185NtBMd", "number": 2547, "title": "chore: fix `clippy::needless_borrow` lint in journald tests", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-05T18:57:26Z", "updated_at": "2023-04-05T19:19:22Z", "closed_at": "2023-04-05T19:19:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2547", "html_url": "https://github.com/tokio-rs/tracing/pull/2547", "diff_url": "https://github.com/tokio-rs/tracing/pull/2547.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2547.patch", "merged_at": "2023-04-05T19:19:20Z"}, "body": "This fixes a Clippy lint that a borrow is not needed. Totally trivial but will make clippy happier.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2547/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2546", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2546/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2546/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2546/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2546", "id": 1655752277, "node_id": "PR_kwDOCdoc185Nrw2D", "number": 2546, "title": "chore: bump MSRV to 1.56", "user": {"login": "davidbarsky", "id": 2067774, "node_id": "MDQ6VXNlcjIwNjc3NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2067774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidbarsky", "html_url": "https://github.com/davidbarsky", "followers_url": "https://api.github.com/users/davidbarsky/followers", "following_url": "https://api.github.com/users/davidbarsky/following{/other_user}", "gists_url": "https://api.github.com/users/davidbarsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidbarsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidbarsky/subscriptions", "organizations_url": "https://api.github.com/users/davidbarsky/orgs", "repos_url": "https://api.github.com/users/davidbarsky/repos", "events_url": "https://api.github.com/users/davidbarsky/events{/privacy}", "received_events_url": "https://api.github.com/users/davidbarsky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-05T14:35:57Z", "updated_at": "2023-04-05T18:19:57Z", "closed_at": "2023-04-05T18:19:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2546", "html_url": "https://github.com/tokio-rs/tracing/pull/2546", "diff_url": "https://github.com/tokio-rs/tracing/pull/2546.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2546.patch", "merged_at": "2023-04-05T18:19:56Z"}, "body": "As part of upgrading syn to 2.0 (e.g., https://github.com/tokio-rs/tracing/pull/2516), we need to bump the MSRV to 1.56. As part of this PR, I've:\r\n- Updated the text descriptions of what would be an in-policy MSRV bump to use more recent versions of rustc. The _niceness_ of said version numbers are purely coincidental.\r\n- I've removed some of the exceptions made in CI.yml in order to support some crates with a higher MSRV.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2546/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 1, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2546/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2532", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2532/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2532/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2532/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2532", "id": 1641023851, "node_id": "PR_kwDOCdoc185M6n2O", "number": 2532, "title": "subscriber: add ability to disable ANSI without crate feature", "user": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-26T18:28:48Z", "updated_at": "2023-04-14T19:38:48Z", "closed_at": "2023-04-14T19:38:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2532", "html_url": "https://github.com/tokio-rs/tracing/pull/2532", "diff_url": "https://github.com/tokio-rs/tracing/pull/2532.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2532.patch", "merged_at": "2023-04-14T19:38:48Z"}, "body": "## Motivation\r\n\r\nCurrently it is not possible to disable ANSI in `fmt::Subscriber` without enabling the `ansi` crate feature. This makes it difficult for users to implement interoperable settings that are controllable with crate features without having to pull in the dependencies `ansi` does.\r\n\r\nI hit this while writing an application with multiple logging options set during compile-time and I wanted to cut down on dependencies if possible.\r\n\r\n## Solution\r\n\r\nThis adds a simple `fmt::Subscriber::disable_ansi()` that is available even without the `ansi` crate feature.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2532/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2530", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2530/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2530/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2530/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2530", "id": 1639372283, "node_id": "PR_kwDOCdoc185M1SkP", "number": 2530, "title": "tracing-attributes: remove unused syn's feature visit", "user": {"login": "klensy", "id": 1782831, "node_id": "MDQ6VXNlcjE3ODI4MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1782831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klensy", "html_url": "https://github.com/klensy", "followers_url": "https://api.github.com/users/klensy/followers", "following_url": "https://api.github.com/users/klensy/following{/other_user}", "gists_url": "https://api.github.com/users/klensy/gists{/gist_id}", "starred_url": "https://api.github.com/users/klensy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klensy/subscriptions", "organizations_url": "https://api.github.com/users/klensy/orgs", "repos_url": "https://api.github.com/users/klensy/repos", "events_url": "https://api.github.com/users/klensy/events{/privacy}", "received_events_url": "https://api.github.com/users/klensy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-24T13:14:43Z", "updated_at": "2023-04-13T21:12:54Z", "closed_at": "2023-04-13T21:12:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2530", "html_url": "https://github.com/tokio-rs/tracing/pull/2530", "diff_url": "https://github.com/tokio-rs/tracing/pull/2530.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2530.patch", "merged_at": "2023-04-13T21:12:54Z"}, "body": "Remove unused `syn`s feature `visit`", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2530/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2523", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2523/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2523/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2523/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2523", "id": 1633077137, "node_id": "PR_kwDOCdoc185MgHrn", "number": 2523, "title": "chore: move tracing-opentelemetry from the master branch", "user": {"login": "davidbarsky", "id": 2067774, "node_id": "MDQ6VXNlcjIwNjc3NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2067774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidbarsky", "html_url": "https://github.com/davidbarsky", "followers_url": "https://api.github.com/users/davidbarsky/followers", "following_url": "https://api.github.com/users/davidbarsky/following{/other_user}", "gists_url": "https://api.github.com/users/davidbarsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidbarsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidbarsky/subscriptions", "organizations_url": "https://api.github.com/users/davidbarsky/orgs", "repos_url": "https://api.github.com/users/davidbarsky/repos", "events_url": "https://api.github.com/users/davidbarsky/events{/privacy}", "received_events_url": "https://api.github.com/users/davidbarsky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-03-21T01:01:37Z", "updated_at": "2023-04-04T23:18:55Z", "closed_at": "2023-04-04T23:18:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2523", "html_url": "https://github.com/tokio-rs/tracing/pull/2523", "diff_url": "https://github.com/tokio-rs/tracing/pull/2523.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2523.patch", "merged_at": "2023-04-04T23:18:53Z"}, "body": "This PR removes tracing-opentelemetry to a dedicated repo located at https://github.com/tokio-rs/tracing-opentelemetry. (Note that at time of writing this PR, the new repo has not be made public). We're moving tracing-opentelemetry to a dedicated repository for the following reasons:\r\n1. opentelemetry's MSRV is higher than that of `tracing`'s.\r\n2. more importantly, the main `tracing` repo is getting a bit unweildy and it feels unreasonable to maintain backports for crates that integrate with the larger tracing ecosystem.\r\n\r\n(https://github.com/tokio-rs/tracing-opentelemetry does not have the examples present in this repo; this will occur in a PR that will be linked from _this_ PR.)", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2523/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2516", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2516/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2516/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2516/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2516", "id": 1630414911, "node_id": "PR_kwDOCdoc185MXOzi", "number": 2516, "title": "attributes: update to syn 2.0", "user": {"login": "davidpdrsn", "id": 718941, "node_id": "MDQ6VXNlcjcxODk0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/718941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidpdrsn", "html_url": "https://github.com/davidpdrsn", "followers_url": "https://api.github.com/users/davidpdrsn/followers", "following_url": "https://api.github.com/users/davidpdrsn/following{/other_user}", "gists_url": "https://api.github.com/users/davidpdrsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidpdrsn/subscriptions", "organizations_url": "https://api.github.com/users/davidpdrsn/orgs", "repos_url": "https://api.github.com/users/davidpdrsn/repos", "events_url": "https://api.github.com/users/davidpdrsn/events{/privacy}", "received_events_url": "https://api.github.com/users/davidpdrsn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-03-18T16:34:23Z", "updated_at": "2023-04-13T21:29:36Z", "closed_at": "2023-04-13T21:29:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2516", "html_url": "https://github.com/tokio-rs/tracing/pull/2516", "diff_url": "https://github.com/tokio-rs/tracing/pull/2516.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2516.patch", "merged_at": "2023-04-13T21:29:33Z"}, "body": "## Motivation\r\n\r\nsyn 2.0 is out!\r\n\r\n## Solution\r\n\r\nUpdate to syn 2.0 :rocket:\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2516/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2516/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2453", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2453/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2453/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2453/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2453", "id": 1561659695, "node_id": "PR_kwDOCdoc185Ixhrv", "number": 2453, "title": "fix typo", "user": {"login": "arifd", "id": 2345750, "node_id": "MDQ6VXNlcjIzNDU3NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/2345750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arifd", "html_url": "https://github.com/arifd", "followers_url": "https://api.github.com/users/arifd/followers", "following_url": "https://api.github.com/users/arifd/following{/other_user}", "gists_url": "https://api.github.com/users/arifd/gists{/gist_id}", "starred_url": "https://api.github.com/users/arifd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arifd/subscriptions", "organizations_url": "https://api.github.com/users/arifd/orgs", "repos_url": "https://api.github.com/users/arifd/repos", "events_url": "https://api.github.com/users/arifd/events{/privacy}", "received_events_url": "https://api.github.com/users/arifd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-30T03:08:30Z", "updated_at": "2023-02-08T18:26:52Z", "closed_at": "2023-02-08T18:26:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2453", "html_url": "https://github.com/tokio-rs/tracing/pull/2453", "diff_url": "https://github.com/tokio-rs/tracing/pull/2453.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2453.patch", "merged_at": "2023-02-08T18:26:51Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2453/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2451", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2451/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2451/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2451/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2451", "id": 1560363638, "node_id": "PR_kwDOCdoc185ItYlk", "number": 2451, "title": "fix new clippy lints from 1.67.0", "user": {"login": "hds", "id": 89589, "node_id": "MDQ6VXNlcjg5NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/89589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hds", "html_url": "https://github.com/hds", "followers_url": "https://api.github.com/users/hds/followers", "following_url": "https://api.github.com/users/hds/following{/other_user}", "gists_url": "https://api.github.com/users/hds/gists{/gist_id}", "starred_url": "https://api.github.com/users/hds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hds/subscriptions", "organizations_url": "https://api.github.com/users/hds/orgs", "repos_url": "https://api.github.com/users/hds/repos", "events_url": "https://api.github.com/users/hds/events{/privacy}", "received_events_url": "https://api.github.com/users/hds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-27T20:05:27Z", "updated_at": "2023-01-28T00:44:11Z", "closed_at": "2023-01-28T00:44:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2451", "html_url": "https://github.com/tokio-rs/tracing/pull/2451", "diff_url": "https://github.com/tokio-rs/tracing/pull/2451.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2451.patch", "merged_at": "2023-01-28T00:44:10Z"}, "body": "## Motivation\r\n\r\nNew clippy lints in Rust 1.67.0 are causing pipelines to fail with\r\nexisting code, this should be fixed so that pipelines pass again.\r\n\r\n## Solution\r\n\r\nThere are new warnings as errors reported by clippy in Rust 1.67.0.\r\n\r\nThis are causing builds to fail, e.g.:\r\nhttps://github.com/tokio-rs/tracing/actions/runs/4027112923/jobs/6922513360\r\n\r\nIn both cases they are reports of lifetimes that can be elided. This\r\nchange removes the unnecessary lifetime annotations to make clippy\r\nhappy.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2451/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2449", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2449/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2449/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2449/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2449", "id": 1555675269, "node_id": "PR_kwDOCdoc185IdmLJ", "number": 2449, "title": "fix(doc): warning styles in html-in-header", "user": {"login": "rwakulszowa", "id": 10756296, "node_id": "MDQ6VXNlcjEwNzU2Mjk2", "avatar_url": "https://avatars.githubusercontent.com/u/10756296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rwakulszowa", "html_url": "https://github.com/rwakulszowa", "followers_url": "https://api.github.com/users/rwakulszowa/followers", "following_url": "https://api.github.com/users/rwakulszowa/following{/other_user}", "gists_url": "https://api.github.com/users/rwakulszowa/gists{/gist_id}", "starred_url": "https://api.github.com/users/rwakulszowa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rwakulszowa/subscriptions", "organizations_url": "https://api.github.com/users/rwakulszowa/orgs", "repos_url": "https://api.github.com/users/rwakulszowa/repos", "events_url": "https://api.github.com/users/rwakulszowa/events{/privacy}", "received_events_url": "https://api.github.com/users/rwakulszowa/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-24T21:13:33Z", "updated_at": "2023-02-09T07:57:14Z", "closed_at": "2023-02-08T18:25:23Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2449", "html_url": "https://github.com/tokio-rs/tracing/pull/2449", "diff_url": "https://github.com/tokio-rs/tracing/pull/2449.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2449.patch", "merged_at": "2023-02-08T18:25:22Z"}, "body": "## Motivation\r\n\r\nThe documentation under https://tracing.rs/tracing/ is missing CSS styles.\r\nFixes #2444 \r\n\r\n## Solution\r\n\r\nUsed the `--html-in-header` rustdoc flag instead of `--extend-css`. Converted the css file into an html file.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2449/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2449/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2446", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2446/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2446/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2446/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2446", "id": 1537080470, "node_id": "PR_kwDOCdoc185HlAyH", "number": 2446, "title": "mock: document public APIs in `subscriber` module", "user": {"login": "hds", "id": 89589, "node_id": "MDQ6VXNlcjg5NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/89589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hds", "html_url": "https://github.com/hds", "followers_url": "https://api.github.com/users/hds/followers", "following_url": "https://api.github.com/users/hds/following{/other_user}", "gists_url": "https://api.github.com/users/hds/gists{/gist_id}", "starred_url": "https://api.github.com/users/hds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hds/subscriptions", "organizations_url": "https://api.github.com/users/hds/orgs", "repos_url": "https://api.github.com/users/hds/repos", "events_url": "https://api.github.com/users/hds/events{/privacy}", "received_events_url": "https://api.github.com/users/hds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-17T21:50:42Z", "updated_at": "2023-01-26T23:50:55Z", "closed_at": "2023-01-26T23:50:54Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2446", "html_url": "https://github.com/tokio-rs/tracing/pull/2446", "diff_url": "https://github.com/tokio-rs/tracing/pull/2446.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2446.patch", "merged_at": "2023-01-26T23:50:54Z"}, "body": "## Motivation\r\n\r\nThere has been interest around publishing `tracing-mock` to crates.io\r\nfor some time. In order to make this possible, documentation and some\r\ncode clean up is needed.\r\n\r\nThe `subscriber` module needs documentation and examples.\r\n\r\n## Solution\r\n\r\nThis change adds documentation to the `subscriber` module and all the public\r\nAPIs within it. This includes doctests on all the methods which serve as\r\nexamples.\r\n\r\nThe `MockSubscriberBuilder::record` method was removed as its\r\nfunctionality is not implemented.\r\n\r\nPreviously, the `MockSubscriber` would verify the scope of an\r\n`ExpectedEvent`, even if `in_scope` hadn't been called. In this case,\r\nthat would check that an event was not in a span if `in_scope` had not\r\nbeen called. `tracing-subscriber` all adhere to this pattern. However it\r\nis different to the behavior of all other expectation methods, where an\r\nexplicit call is needed to expect something, otherwise nothing is\r\nchecked. As such, the behavior has been modified to align with the rest\r\nof the crate. The previous behavior can be achieved by calling\r\n`in_scope(None)` to verify that an event has no scope. The documentation\r\nfor `in_scope` has been updated with an example for this case.\r\n\r\nThe tests in `tracing-subscriber` which previously verified *implicitly*\r\nthat an event had no scope (by not calling `in_scope` at all) have *not*\r\nbeen modified. It is my opinion that this implicit behavior was never\r\nrequired.\r\n\r\nRefs: #539", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2446/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2433", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2433/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2433/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2433/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2433", "id": 1518378121, "node_id": "PR_kwDOCdoc185Gl_DX", "number": 2433, "title": "attributes: document default level for `err`", "user": {"login": "quad", "id": 24025, "node_id": "MDQ6VXNlcjI0MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/24025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quad", "html_url": "https://github.com/quad", "followers_url": "https://api.github.com/users/quad/followers", "following_url": "https://api.github.com/users/quad/following{/other_user}", "gists_url": "https://api.github.com/users/quad/gists{/gist_id}", "starred_url": "https://api.github.com/users/quad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quad/subscriptions", "organizations_url": "https://api.github.com/users/quad/orgs", "repos_url": "https://api.github.com/users/quad/repos", "events_url": "https://api.github.com/users/quad/events{/privacy}", "received_events_url": "https://api.github.com/users/quad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-04T06:08:31Z", "updated_at": "2023-02-08T18:26:14Z", "closed_at": "2023-02-08T18:26:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2433", "html_url": "https://github.com/tokio-rs/tracing/pull/2433", "diff_url": "https://github.com/tokio-rs/tracing/pull/2433.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2433.patch", "merged_at": "2023-02-08T18:26:13Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\nThe current description for the default level of the `err` return value event _strongly implies_ it's the same as the span. However, the implementation actually defaults to `ERROR`.\r\n\r\n## Solution\r\n\r\nThis PR documents that, so future generations don't have to chase down the truth, like I did. \ud83d\ude09 ", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2433/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2433/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2427", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2427/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2427/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2427/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2427", "id": 1512021474, "node_id": "PR_kwDOCdoc185GQjEW", "number": 2427, "title": "attributes: update `async_instrument` error text for Rust 1.66", "user": {"login": "hds", "id": 89589, "node_id": "MDQ6VXNlcjg5NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/89589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hds", "html_url": "https://github.com/hds", "followers_url": "https://api.github.com/users/hds/followers", "following_url": "https://api.github.com/users/hds/following{/other_user}", "gists_url": "https://api.github.com/users/hds/gists{/gist_id}", "starred_url": "https://api.github.com/users/hds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hds/subscriptions", "organizations_url": "https://api.github.com/users/hds/orgs", "repos_url": "https://api.github.com/users/hds/repos", "events_url": "https://api.github.com/users/hds/events{/privacy}", "received_events_url": "https://api.github.com/users/hds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-27T17:37:00Z", "updated_at": "2022-12-27T18:38:27Z", "closed_at": "2022-12-27T18:38:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2427", "html_url": "https://github.com/tokio-rs/tracing/pull/2427", "diff_url": "https://github.com/tokio-rs/tracing/pull/2427.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2427.patch", "merged_at": "2022-12-27T18:38:26Z"}, "body": "## Motivation\r\n\r\nThere is a broken test in `tracing-attributes/tests/ui/async_instrument.rs`\r\ncaused by a change in an error message in `rustc`.\r\n\r\n## Solution\r\n\r\nThe error message suggesting that you remove a semicolon to return a\r\nvalue (instead of unit) was updated slightly in rust-lang/rust#102650,\r\nwhich was included in Rust 1.66.0.\r\n\r\nThis causes one of the tests in tracing-attributes to fail. We fix it by\r\nusing the updated error message.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2427/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2426", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2426/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2426/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2426/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2426", "id": 1511848435, "node_id": "PR_kwDOCdoc185GP9UV", "number": 2426, "title": "mock: document public APIs in `event` module", "user": {"login": "hds", "id": 89589, "node_id": "MDQ6VXNlcjg5NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/89589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hds", "html_url": "https://github.com/hds", "followers_url": "https://api.github.com/users/hds/followers", "following_url": "https://api.github.com/users/hds/following{/other_user}", "gists_url": "https://api.github.com/users/hds/gists{/gist_id}", "starred_url": "https://api.github.com/users/hds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hds/subscriptions", "organizations_url": "https://api.github.com/users/hds/orgs", "repos_url": "https://api.github.com/users/hds/repos", "events_url": "https://api.github.com/users/hds/events{/privacy}", "received_events_url": "https://api.github.com/users/hds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-12-27T14:21:21Z", "updated_at": "2023-01-05T20:14:20Z", "closed_at": "2023-01-05T18:36:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2426", "html_url": "https://github.com/tokio-rs/tracing/pull/2426", "diff_url": "https://github.com/tokio-rs/tracing/pull/2426.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2426.patch", "merged_at": "2023-01-05T18:36:51Z"}, "body": "## Motivation\r\n\r\nThere has been interest around publishing tracing-mock to crates.io\r\nfor some time. In order to make this possible, documentation and some\r\ncode clean up is needed.\r\n\r\nThe `event` module needs documentation and examples.\r\n\r\n## Solution\r\n\r\nThis change adds documentation to the event module and all the public\r\nAPIs within it. This includes doctests on all the methods which serve as\r\nexamples.\r\n\r\nThe following pattern was applied to the description of most methods:\r\n- Short description of expectation\r\n- Additional clarification (where needed)\r\n- Description of cases that cause the expectation to fail\r\n- Examples\r\n  - Successful validation\r\n  - Unsuccesful validation\r\n\r\nTwo changes were also made in the text provided to the user when an\r\nassertion fails for `with_explicit_parent` or `with_contextual_parent`.\r\n\r\nOne small API changes is also included:\r\n\r\nThe method `in_scope` has been placed behind the `tracing-subscriber`\r\nfeature flag as it currently only works with the `MockSubscriber`, not\r\nwith the `MockCollector`. If the feature flag is active and it is used\r\nto set a non-empty scope, the `MockCollector` will panic with\r\n`unimplemented` during validation.\r\n\r\nRefs: #539", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2426/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2418", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2418/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2418/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2418/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2418", "id": 1502225396, "node_id": "PR_kwDOCdoc185FvpXQ", "number": 2418, "title": "Add compile error on const fn instrumentation", "user": {"login": "andrewpollack", "id": 24868505, "node_id": "MDQ6VXNlcjI0ODY4NTA1", "avatar_url": "https://avatars.githubusercontent.com/u/24868505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewpollack", "html_url": "https://github.com/andrewpollack", "followers_url": "https://api.github.com/users/andrewpollack/followers", "following_url": "https://api.github.com/users/andrewpollack/following{/other_user}", "gists_url": "https://api.github.com/users/andrewpollack/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewpollack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewpollack/subscriptions", "organizations_url": "https://api.github.com/users/andrewpollack/orgs", "repos_url": "https://api.github.com/users/andrewpollack/repos", "events_url": "https://api.github.com/users/andrewpollack/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewpollack/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-19T03:18:02Z", "updated_at": "2022-12-31T19:59:44Z", "closed_at": "2022-12-31T19:59:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2418", "html_url": "https://github.com/tokio-rs/tracing/pull/2418", "diff_url": "https://github.com/tokio-rs/tracing/pull/2418.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2418.patch", "merged_at": "2022-12-31T19:59:44Z"}, "body": "Fixes: #2414\r\n\r\nI'm newer to using macro expansions to enforce `compile_error!` calls, and this is my interpretation on how to approach it.  Unfortunately, the `compile_error!` is triggering regardless of whether I'm instrumenting a function or not, which makes me think I'm not approaching the code generation portion correctly.\r\n\r\nShould I be forming this as a `proc_macro` instead of a `macro_rules`?", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2418/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2409", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2409/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2409/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2409/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2409", "id": 1485476836, "node_id": "PR_kwDOCdoc185E1fjk", "number": 2409, "title": "format: dim compact targets, matching the default formatter", "user": {"login": "howardjohn", "id": 623453, "node_id": "MDQ6VXNlcjYyMzQ1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/623453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/howardjohn", "html_url": "https://github.com/howardjohn", "followers_url": "https://api.github.com/users/howardjohn/followers", "following_url": "https://api.github.com/users/howardjohn/following{/other_user}", "gists_url": "https://api.github.com/users/howardjohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/howardjohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/howardjohn/subscriptions", "organizations_url": "https://api.github.com/users/howardjohn/orgs", "repos_url": "https://api.github.com/users/howardjohn/repos", "events_url": "https://api.github.com/users/howardjohn/events{/privacy}", "received_events_url": "https://api.github.com/users/howardjohn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-08T21:59:26Z", "updated_at": "2022-12-08T22:25:28Z", "closed_at": "2022-12-08T22:25:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2409", "html_url": "https://github.com/tokio-rs/tracing/pull/2409", "diff_url": "https://github.com/tokio-rs/tracing/pull/2409.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2409.patch", "merged_at": "2022-12-08T22:25:28Z"}, "body": "Fixes https://github.com/tokio-rs/tracing/issues/2408\r\n\r\n\r\n\r\n## Motivation\r\n\r\nFixes https://github.com/tokio-rs/tracing/issues/2408\r\n\r\n## Solution\r\n\r\nJust switch to use `dim`\r\n\r\nBefore:\r\n![2022-12-08_13-58-40](https://user-images.githubusercontent.com/623453/206576169-63ee4e20-b56f-4c63-a9b3-80ba2e97eec9.png)\r\nAfter:\r\n![2022-12-08_13-55-36](https://user-images.githubusercontent.com/623453/206576055-878d360f-7b95-4e18-bc31-4fb6f1b71a3a.png)\r\nFull mode for comparison:\r\n![2022-12-08_13-55-48](https://user-images.githubusercontent.com/623453/206576054-6e38852c-cb3a-4b84-98e5-50463cdb5073.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2409/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2384", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2384/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2384/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2384/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2384", "id": 1451233098, "node_id": "PR_kwDOCdoc185DATuh", "number": 2384, "title": "Remove `doc(html_root_url)` attribute from all crates.", "user": {"login": "LukeMathWalker", "id": 20745048, "node_id": "MDQ6VXNlcjIwNzQ1MDQ4", "avatar_url": "https://avatars.githubusercontent.com/u/20745048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LukeMathWalker", "html_url": "https://github.com/LukeMathWalker", "followers_url": "https://api.github.com/users/LukeMathWalker/followers", "following_url": "https://api.github.com/users/LukeMathWalker/following{/other_user}", "gists_url": "https://api.github.com/users/LukeMathWalker/gists{/gist_id}", "starred_url": "https://api.github.com/users/LukeMathWalker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LukeMathWalker/subscriptions", "organizations_url": "https://api.github.com/users/LukeMathWalker/orgs", "repos_url": "https://api.github.com/users/LukeMathWalker/repos", "events_url": "https://api.github.com/users/LukeMathWalker/events{/privacy}", "received_events_url": "https://api.github.com/users/LukeMathWalker/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-16T09:36:44Z", "updated_at": "2024-12-23T21:13:07Z", "closed_at": "2022-11-16T18:09:24Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2384", "html_url": "https://github.com/tokio-rs/tracing/pull/2384", "diff_url": "https://github.com/tokio-rs/tracing/pull/2384.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2384.patch", "merged_at": "2022-11-16T18:09:24Z"}, "body": "Fixes #2383 \r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2384/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2378", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2378/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2378/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2378/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2378", "id": 1445900697, "node_id": "PR_kwDOCdoc185CuchP", "number": 2378, "title": "fix(docs): Remove accidentally duplicated words", "user": {"login": "LeoniePhiline", "id": 22329650, "node_id": "MDQ6VXNlcjIyMzI5NjUw", "avatar_url": "https://avatars.githubusercontent.com/u/22329650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LeoniePhiline", "html_url": "https://github.com/LeoniePhiline", "followers_url": "https://api.github.com/users/LeoniePhiline/followers", "following_url": "https://api.github.com/users/LeoniePhiline/following{/other_user}", "gists_url": "https://api.github.com/users/LeoniePhiline/gists{/gist_id}", "starred_url": "https://api.github.com/users/LeoniePhiline/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LeoniePhiline/subscriptions", "organizations_url": "https://api.github.com/users/LeoniePhiline/orgs", "repos_url": "https://api.github.com/users/LeoniePhiline/repos", "events_url": "https://api.github.com/users/LeoniePhiline/events{/privacy}", "received_events_url": "https://api.github.com/users/LeoniePhiline/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-11T19:11:30Z", "updated_at": "2022-11-11T20:00:15Z", "closed_at": "2022-11-11T20:00:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2378", "html_url": "https://github.com/tokio-rs/tracing/pull/2378", "diff_url": "https://github.com/tokio-rs/tracing/pull/2378.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2378.patch", "merged_at": "2022-11-11T20:00:14Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\nThere is a small wording mistake in the tracing-subscriber docs that can be fixed quickly and easily.\r\n\r\n## Solution\r\n\r\nTwo duplicate words were removed.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2378/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2377", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2377/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2377/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2377/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2377", "id": 1445743906, "node_id": "PR_kwDOCdoc185Ct6Sk", "number": 2377, "title": "mock: change helper functions to `expect::<thing>`", "user": {"login": "hds", "id": 89589, "node_id": "MDQ6VXNlcjg5NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/89589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hds", "html_url": "https://github.com/hds", "followers_url": "https://api.github.com/users/hds/followers", "following_url": "https://api.github.com/users/hds/following{/other_user}", "gists_url": "https://api.github.com/users/hds/gists{/gist_id}", "starred_url": "https://api.github.com/users/hds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hds/subscriptions", "organizations_url": "https://api.github.com/users/hds/orgs", "repos_url": "https://api.github.com/users/hds/repos", "events_url": "https://api.github.com/users/hds/events{/privacy}", "received_events_url": "https://api.github.com/users/hds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-11T16:49:28Z", "updated_at": "2022-11-11T17:53:08Z", "closed_at": "2022-11-11T17:53:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2377", "html_url": "https://github.com/tokio-rs/tracing/pull/2377", "diff_url": "https://github.com/tokio-rs/tracing/pull/2377.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2377.patch", "merged_at": "2022-11-11T17:53:07Z"}, "body": "## Motivation\r\n\r\nThe current format of test expectations in `tracing-mock` isn't ideal. The format `span::expect` requires importing `tracing_mock::<thing>` which may conflict with imports from other tracing crates, especially `tracing-core`.\r\n\r\n## Solution\r\n\r\nSo we change the order and move the functions into a module called `expect` so that:\r\n* `event::expect` becomes `expect::event`\r\n* `span::expect` becomes `expect::span`\r\n* `field::expect` becomes `expect::field`\r\n\r\nThis format has two advantages.\r\n1. It reads as natural English, e.g \"expect span\"\r\n2. It is no longer common to import the modules directly.\r\n\r\nRegarding point (2), the following format was previously common:\r\n\r\n```rust\r\nuse tracing_mock::field;\r\n\r\nfield::expect();\r\n```\r\n\r\nThis import of the `field` module may then conflict with importing the same from `tracing_core`, making it necessary to rename one of the imports.\r\n\r\nThe same code would now be written:\r\n\r\n```rust\r\nuse tracing_mock::expect;\r\n\r\nexpect::field();\r\n```\r\n\r\nWhich is less likely to conflict.\r\n\r\nThis change also fixes an unused warning on `MockHandle::new` when the `tracing-subscriber` feature is not enabled.\r\n\r\nRefs: #539", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2377/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2375", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2375/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2375/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2375/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2375", "id": 1443701604, "node_id": "PR_kwDOCdoc185CnCiI", "number": 2375, "title": "Fix typo in RollingFileAppender docs", "user": {"login": "yotamofek", "id": 1835307, "node_id": "MDQ6VXNlcjE4MzUzMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1835307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yotamofek", "html_url": "https://github.com/yotamofek", "followers_url": "https://api.github.com/users/yotamofek/followers", "following_url": "https://api.github.com/users/yotamofek/following{/other_user}", "gists_url": "https://api.github.com/users/yotamofek/gists{/gist_id}", "starred_url": "https://api.github.com/users/yotamofek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yotamofek/subscriptions", "organizations_url": "https://api.github.com/users/yotamofek/orgs", "repos_url": "https://api.github.com/users/yotamofek/repos", "events_url": "https://api.github.com/users/yotamofek/events{/privacy}", "received_events_url": "https://api.github.com/users/yotamofek/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-10T11:10:25Z", "updated_at": "2022-11-10T20:31:09Z", "closed_at": "2022-11-10T20:31:09Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2375", "html_url": "https://github.com/tokio-rs/tracing/pull/2375", "diff_url": "https://github.com/tokio-rs/tracing/pull/2375.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2375.patch", "merged_at": "2022-11-10T20:31:09Z"}, "body": "The `MakeWriter` trait comes from the `tracing-subscriber` crate, not `tracing-appender`.\r\n\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2375/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2373", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2373/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2373/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2373/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2373", "id": 1442783369, "node_id": "PR_kwDOCdoc185Cj5W0", "number": 2373, "title": "mock: differentiate between mocks and expectations", "user": {"login": "hds", "id": 89589, "node_id": "MDQ6VXNlcjg5NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/89589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hds", "html_url": "https://github.com/hds", "followers_url": "https://api.github.com/users/hds/followers", "following_url": "https://api.github.com/users/hds/following{/other_user}", "gists_url": "https://api.github.com/users/hds/gists{/gist_id}", "starred_url": "https://api.github.com/users/hds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hds/subscriptions", "organizations_url": "https://api.github.com/users/hds/orgs", "repos_url": "https://api.github.com/users/hds/repos", "events_url": "https://api.github.com/users/hds/events{/privacy}", "received_events_url": "https://api.github.com/users/hds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-09T21:42:51Z", "updated_at": "2022-11-10T21:39:42Z", "closed_at": "2022-11-10T21:39:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2373", "html_url": "https://github.com/tokio-rs/tracing/pull/2373", "diff_url": "https://github.com/tokio-rs/tracing/pull/2373.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2373.patch", "merged_at": "2022-11-10T21:39:41Z"}, "body": "## Motivation\r\n\r\nThe `tracing-mock` crate provides a mock collector (and a subscriber for\r\nuse by the tests in the `tracing-subscriber` crate) which is able to\r\nmake assertions about what diagnostics are emitted.\r\n\r\nThese assertions are defined by structs that match on events, span, and\r\ntheir fields and metadata. The structs that matched these objects have\r\nbeen called, up until now, mocks, however this terminology may be\r\nmisleading, as the created objects don't mock anything.\r\n\r\nThere were two different names for similar functionality with `only()`\r\nand `done()` on fields and collectors/subscribers respectively. Using a\r\nsingle name for these may make it easier to onboard onto `tracing-mock`.\r\n\r\n## Solution\r\n\r\nTo reduce confusion, these structs have been split into two categories:\r\nmocks and expectations.\r\n\r\nAdditionally, the `done()` function on the `Collector` and `Subscriber`\r\nmocks has been replaced with `only()`. This matches the similar function\r\nfor `ExpectedField`, and may be more intuitive.\r\n\r\nThe mocks replace some component in the tracing ecosystem when a library\r\nis under test. The expectations define the assertions we wish to make\r\nabout traces received by the mocks.\r\n\r\nMocks (per module):\r\n* collector - `MockCollector`, no change\r\n* subscriber - `MockSubscriber`, renamed from `ExpectSubscriber`\r\n\r\nExpectations (per module):\r\n* event - `ExpectedEvent`, renamed from `MockEvent`\r\n* span - `ExpectedSpan`, renamed from `MockSpan`\r\n* field - `ExpectedField` and `ExpectedFields`, renamed from `MockField`\r\n  and `Expected`. Also `ExpectedValue` renamed from `MockValue`.\r\n* metadata - `ExpectedMetadata`, renamed from `Expected`\r\n\r\nRefs: https://github.com/tokio-rs/tracing/issues/539", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2373/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2373/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2369", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2369/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2369/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2369/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2369", "id": 1436703339, "node_id": "PR_kwDOCdoc185CPkJs", "number": 2369, "title": "mock: move subscriber mock from tracing-subscriber tests", "user": {"login": "hds", "id": 89589, "node_id": "MDQ6VXNlcjg5NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/89589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hds", "html_url": "https://github.com/hds", "followers_url": "https://api.github.com/users/hds/followers", "following_url": "https://api.github.com/users/hds/following{/other_user}", "gists_url": "https://api.github.com/users/hds/gists{/gist_id}", "starred_url": "https://api.github.com/users/hds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hds/subscriptions", "organizations_url": "https://api.github.com/users/hds/orgs", "repos_url": "https://api.github.com/users/hds/repos", "events_url": "https://api.github.com/users/hds/events{/privacy}", "received_events_url": "https://api.github.com/users/hds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-04T22:36:17Z", "updated_at": "2022-11-08T18:14:51Z", "closed_at": "2022-11-08T18:14:50Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2369", "html_url": "https://github.com/tokio-rs/tracing/pull/2369", "diff_url": "https://github.com/tokio-rs/tracing/pull/2369.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2369.patch", "merged_at": "2022-11-08T18:14:50Z"}, "body": "## Motivation\r\n\r\nThe `tracing-subscriber` module `tests::support` included functionality to mock a subscriber (via the `Subscribe` trait). This code depends on some items from `tracing_mock::collector` which should otherwise not be public.\r\n\r\n## Solution\r\n\r\nThis change moves the mocking functionality inside `tracing-mock` behind a feature flag. Allowing the `Expect` enum and `MockHandle::new` from `tracing_mock::collector` to be made `pub(crate)` instead of `pub`. Since it's now used from two different modules, the `Expect` enum has been moved to its own module.\r\n\r\nThis requires a lot of modifications to imports so that we're not doing wildcard imports from another crate (i.e. in `tracing-subscriber` importing wildcards from `tracing-mock`).\r\n\r\nCloses: #2359", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2369/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2368", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2368/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2368/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2368/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2368", "id": 1436463464, "node_id": "PR_kwDOCdoc185COxF9", "number": 2368, "title": "subscriber: fix wrong `doc_cfg` attribute", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-04T18:11:22Z", "updated_at": "2022-11-04T18:37:43Z", "closed_at": "2022-11-04T18:37:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2368", "html_url": "https://github.com/tokio-rs/tracing/pull/2368", "diff_url": "https://github.com/tokio-rs/tracing/pull/2368.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2368.patch", "merged_at": "2022-11-04T18:37:42Z"}, "body": "This `doc_cfg` attribute's `cfg` part has multiple predicates without an `all`, which iis what's breaking the netlify build. I'm...kind of surprised this ever succeeded, since the cfg is malformed...", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2368/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2366", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2366/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2366/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2366/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2366", "id": 1435368886, "node_id": "PR_kwDOCdoc185CLIeA", "number": 2366, "title": "chore: track Rust 1.65 clippy lints", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-03T23:29:13Z", "updated_at": "2022-11-04T02:13:19Z", "closed_at": "2022-11-04T02:13:18Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2366", "html_url": "https://github.com/tokio-rs/tracing/pull/2366", "diff_url": "https://github.com/tokio-rs/tracing/pull/2366.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2366.patch", "merged_at": "2022-11-04T02:13:18Z"}, "body": "This commit fixes some new Clippy lints that landed in Rust 1.65.0, and removes a deprecated config key in `clippy.toml` in favor of its new name.\r\n\r\nThis should fix warnings on CI.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2366/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2365", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2365/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2365/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2365/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2365", "id": 1435199523, "node_id": "PR_kwDOCdoc185CKksf", "number": 2365, "title": "appender: allow worker thread name to be configured (#2364)", "user": {"login": "nstinus", "id": 217075, "node_id": "MDQ6VXNlcjIxNzA3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/217075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nstinus", "html_url": "https://github.com/nstinus", "followers_url": "https://api.github.com/users/nstinus/followers", "following_url": "https://api.github.com/users/nstinus/following{/other_user}", "gists_url": "https://api.github.com/users/nstinus/gists{/gist_id}", "starred_url": "https://api.github.com/users/nstinus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nstinus/subscriptions", "organizations_url": "https://api.github.com/users/nstinus/orgs", "repos_url": "https://api.github.com/users/nstinus/repos", "events_url": "https://api.github.com/users/nstinus/events{/privacy}", "received_events_url": "https://api.github.com/users/nstinus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-03T20:06:38Z", "updated_at": "2023-07-31T21:21:15Z", "closed_at": "2022-11-04T18:54:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2365", "html_url": "https://github.com/tokio-rs/tracing/pull/2365", "diff_url": "https://github.com/tokio-rs/tracing/pull/2365.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2365.patch", "merged_at": "2022-11-04T18:54:21Z"}, "body": "## Motivation\r\n\r\nThe worker thread name in non blocking mode is always \"tracing-appender\".\r\nIt can be convenient to quickly identify the appender threads for\r\naudit reasons or affinity pinning.\r\n\r\n## Solution\r\n\r\nThis patch adds a new setter to the builder and propagates the info to\r\nthe thread initialization.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2365/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2362", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2362/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2362/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2362/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2362", "id": 1433268273, "node_id": "PR_kwDOCdoc185CEFCH", "number": 2362, "title": "mock: add README to tracing-mock", "user": {"login": "hds", "id": 89589, "node_id": "MDQ6VXNlcjg5NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/89589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hds", "html_url": "https://github.com/hds", "followers_url": "https://api.github.com/users/hds/followers", "following_url": "https://api.github.com/users/hds/following{/other_user}", "gists_url": "https://api.github.com/users/hds/gists{/gist_id}", "starred_url": "https://api.github.com/users/hds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hds/subscriptions", "organizations_url": "https://api.github.com/users/hds/orgs", "repos_url": "https://api.github.com/users/hds/repos", "events_url": "https://api.github.com/users/hds/events{/privacy}", "received_events_url": "https://api.github.com/users/hds/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-02T14:40:31Z", "updated_at": "2022-11-15T22:18:14Z", "closed_at": "2022-11-15T22:18:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2362", "html_url": "https://github.com/tokio-rs/tracing/pull/2362", "diff_url": "https://github.com/tokio-rs/tracing/pull/2362.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2362.patch", "merged_at": "2022-11-15T22:18:13Z"}, "body": "## Motivation\r\n\r\nThere has been interest around publishing `tracing-mock` to crates.io for some time. In order to make this possible, documentation and some code clean up is needed.\r\n\r\nSpecifically **I** want to have access to `tracing-mock` within parts of `tokio` to write tests that ensure that the correct calling location is picked up for all `spawn*` functions when the `tracing` feature is enabled.\r\n\r\n## Solution\r\n\r\nThis change starts that process by adding a README for `tracing-mock`. The README follows the standard format for all `tracing` crates and includes 2 examples. Additionally an integration test has been added for each example.\r\n\r\nThe README describes steps when using the `tracing` 1.0 from crates.io and `tracing-mock` from the `v0.1.x` branch. The tests target the current branch.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2362/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2356", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2356/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2356/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2356/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2356", "id": 1421723622, "node_id": "PR_kwDOCdoc185Bdi3b", "number": 2356, "title": "tracing-attributes: allow warning clippy unreachable", "user": {"login": "Abhicodes-crypto", "id": 68317979, "node_id": "MDQ6VXNlcjY4MzE3OTc5", "avatar_url": "https://avatars.githubusercontent.com/u/68317979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Abhicodes-crypto", "html_url": "https://github.com/Abhicodes-crypto", "followers_url": "https://api.github.com/users/Abhicodes-crypto/followers", "following_url": "https://api.github.com/users/Abhicodes-crypto/following{/other_user}", "gists_url": "https://api.github.com/users/Abhicodes-crypto/gists{/gist_id}", "starred_url": "https://api.github.com/users/Abhicodes-crypto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Abhicodes-crypto/subscriptions", "organizations_url": "https://api.github.com/users/Abhicodes-crypto/orgs", "repos_url": "https://api.github.com/users/Abhicodes-crypto/repos", "events_url": "https://api.github.com/users/Abhicodes-crypto/events{/privacy}", "received_events_url": "https://api.github.com/users/Abhicodes-crypto/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-25T02:04:23Z", "updated_at": "2022-11-04T19:38:29Z", "closed_at": "2022-11-04T19:38:28Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2356", "html_url": "https://github.com/tokio-rs/tracing/pull/2356", "diff_url": "https://github.com/tokio-rs/tracing/pull/2356.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2356.patch", "merged_at": "2022-11-04T19:38:28Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\nGetting clippy warnings when using the macro https://github.com/tokio-rs/tracing/pull/2270#issuecomment-1282881008\r\n \r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\n## Solution\r\n\r\nAdding the clippy lint warning as discussed here https://github.com/tokio-rs/tracing/pull/2270#issuecomment-1282887973\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2356/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2350", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2350/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2350/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2350/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2350", "id": 1412019524, "node_id": "PR_kwDOCdoc185A9Blz", "number": 2350, "title": "Better documentation & tests for using `Level` constants for `#[instrument(level = X)]`", "user": {"login": "jsgf", "id": 147966, "node_id": "MDQ6VXNlcjE0Nzk2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/147966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsgf", "html_url": "https://github.com/jsgf", "followers_url": "https://api.github.com/users/jsgf/followers", "following_url": "https://api.github.com/users/jsgf/following{/other_user}", "gists_url": "https://api.github.com/users/jsgf/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsgf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsgf/subscriptions", "organizations_url": "https://api.github.com/users/jsgf/orgs", "repos_url": "https://api.github.com/users/jsgf/repos", "events_url": "https://api.github.com/users/jsgf/events{/privacy}", "received_events_url": "https://api.github.com/users/jsgf/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-17T18:23:25Z", "updated_at": "2022-10-28T07:32:39Z", "closed_at": "2022-10-27T19:20:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2350", "html_url": "https://github.com/tokio-rs/tracing/pull/2350", "diff_url": "https://github.com/tokio-rs/tracing/pull/2350.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2350.patch", "merged_at": "2022-10-27T19:20:11Z"}, "body": "## Motivation\r\n\r\nThe `#[instrument(level = X)]` parameter accepts `Level::DEBUG` (etc) constants, which seems like the most natural way to\r\nspecify it, and more consistent with the other `event!`/`span!` macros.\r\n\r\n## Solution\r\nThis PR:\r\n- adds tests for specifying level with `Level` constants\r\n- updates the documentation to use Level constants as the preferred/default usage\r\n\r\nThere are no functional changes to the macros themselves.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2350/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2344", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2344/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2344/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2344/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2344", "id": 1402341090, "node_id": "PR_kwDOCdoc185Ac6hZ", "number": 2344, "title": "chore: allow renamed and removed lints on docs build", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-09T17:24:59Z", "updated_at": "2022-10-10T18:58:22Z", "closed_at": "2022-10-10T18:58:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2344", "html_url": "https://github.com/tokio-rs/tracing/pull/2344", "diff_url": "https://github.com/tokio-rs/tracing/pull/2344.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2344.patch", "merged_at": "2022-10-10T18:58:21Z"}, "body": "Currently, the Netlify docs are failing because of a warning that one of the lints we explicitly enable is no longer a warning on nightly but becoming a hard error. This is because the docs are built on nightly with `-D warnings`, which denies all warnings...which seems not ideal.\r\n\r\nFor now, let's not remove that lint from the `deny` list, as it's still a valid lint on stable. Instead, this PR explicitly allows that lint on the docs build.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2344/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2343", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2343/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2343/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2343/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2343", "id": 1402339116, "node_id": "PR_kwDOCdoc185Ac6JZ", "number": 2343, "title": "subscriber: impl `fmt::Display` for `filter::Targets`", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-09T17:17:31Z", "updated_at": "2022-10-10T19:10:59Z", "closed_at": "2022-10-10T19:10:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2343", "html_url": "https://github.com/tokio-rs/tracing/pull/2343", "diff_url": "https://github.com/tokio-rs/tracing/pull/2343.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2343.patch", "merged_at": "2022-10-10T19:10:58Z"}, "body": "## Motivation\r\n\r\nThere's currently a `fmt::Display` impl for `EnvFilter` that emits an\r\nequiovalent filter string that can be parsed back into an `EnvFilter`,\r\nbut the `Targets` filter does not have a `fmt::Display` impl. We ought\r\nto have one, especially to make using `Targets` with `clap` v4.0 easier.\r\n \r\n## Solution\r\n\r\nThis branch adds a `fmt::Display` impl for `filter::Targets`. The\r\nimplementation is pretty straightforward.\r\n\r\nI also added tests that a `Targets`' `fmt::Display` output can be parsed\r\nback into a filter that's equivalent to the original.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2343/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2342", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2342/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2342/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2342/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2342", "id": 1400339787, "node_id": "PR_kwDOCdoc185AWeED", "number": 2342, "title": "subscriber: prepare to release v0.3.16", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-06T21:50:44Z", "updated_at": "2022-10-06T22:25:40Z", "closed_at": "2022-10-06T22:25:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2342", "html_url": "https://github.com/tokio-rs/tracing/pull/2342", "diff_url": "https://github.com/tokio-rs/tracing/pull/2342.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2342.patch", "merged_at": "2022-10-06T22:25:39Z"}, "body": "# 0.3.16 (October 6, 2022)\r\n\r\nThis release of `tracing-subscriber` fixes a regression introduced in\r\n[v0.3.15][subscriber-0.3.15] where `Option::None`'s `Layer`\r\nimplementation would set the max level hint to `OFF`. In addition, it\r\nadds several new APIs, including the `Filter::event_enabled` method for\r\nfiltering events based on fields values, and the ability to log internal\r\nerrors that occur when writing a log line.\r\n\r\nThis release also replaces the dependency on the unmaintained\r\n[`ansi-term`] crate with the [`nu-ansi-term`] crate, resolving an\r\n*informational* security advisory ([RUSTSEC-2021-0139] for\r\n[`ansi-term`]'s maintainance status. This increases the minimum\r\nsupported Rust version (MSRV) to Rust 1.50+, although the crate should\r\nstill compile for the previous MSRV of Rust 1.49+ when the `ansi`\r\nfeature is not enabled.\r\n\r\n### Fixed\r\n\r\n- **layer**: `Option::None`'s `Layer` impl always setting the\r\n  `max_level_hint` to `LevelFilter::OFF` (#2321)\r\n- Compilation with `-Z minimal versions` (#2246)\r\n- **env-filter**: Clarify that disabled level warnings are emitted by\r\n  `tracing-subscriber` (#2285)\r\n\r\n### Added\r\n\r\n- **fmt**: Log internal errors to `stderr` if writing a log line fails\r\n  (#2102)\r\n- **fmt**: `FmtLayer::log_internal_errors` and\r\n  `FmtSubscriber::log_internal_errors` methods for configuring whether\r\n  internal writer errors are printed to `stderr` (#2102)\r\n- **fmt**: `#[must_use]` attributes on builders to warn if a\r\n  `Subscriber` is configured but not set as the default subscriber\r\n  (#2239)\r\n- **filter**: `Filter::event_enabled` method for filtering an event\r\n  based on its fields (#2245, #2251)\r\n- **filter**: `Targets::default_level` accessor (#2242)\r\n\r\n### Changed\r\n\r\n- **ansi**: Replaced dependency on unmaintained `ansi-term` crate with\r\n  `nu-ansi-term` ((#2287, fixes informational advisory\r\n  [RUSTSEC-2021-0139])\r\n- `tracing-core`: updated to [0.1.30][core-0.1.30]\r\n- Minimum Supported Rust Version (MSRV) increased to Rust 1.50+ (when\r\n  the `ansi`) feature flag is enabled (#2287)\r\n\r\n### Documented\r\n\r\n- **fmt**: Correct inaccuracies in `fmt::init` documentation (#2224)\r\n- **filter**: Fix incorrect doc link in `filter::Not` combinator\r\n  (#2249)\r\n\r\nThanks to new contributors @cgbur, @DesmondWillowbrook, @RalfJung, and\r\n@poliorcetics, as well as returning contributors @CAD97, @connec,\r\n@jswrenn, @guswynn, and @bryangarza, for contributing to this release!\r\n\r\n\r\n[nu-ansi-term]: https://github.com/nushell/nu-ansi-term\r\n[ansi_term]: https://github.com/ogham/rust-ansi-term\r\n[RUSTSEC-2021-0139]: https://rustsec.org/advisories/RUSTSEC-2021-0139.html\r\n[core-0.1.30]: https://github.com/tokio-rs/tracing/releases/tag/tracing-core-0.1.30\r\n[subscriber-0.3.15]: https://github.com/tokio-rs/tracing/releases/tag/tracing-subscriber-0.3.15", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2342/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 2, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2342/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2341", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2341/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2341/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2341/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2341", "id": 1400186296, "node_id": "PR_kwDOCdoc185AV8lr", "number": 2341, "title": "tracing: prepare to release v0.1.37", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-06T19:20:18Z", "updated_at": "2022-10-06T19:38:40Z", "closed_at": "2022-10-06T19:38:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2341", "html_url": "https://github.com/tokio-rs/tracing/pull/2341", "diff_url": "https://github.com/tokio-rs/tracing/pull/2341.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2341.patch", "merged_at": "2022-10-06T19:38:39Z"}, "body": "# 0.1.37 (October 6, 2022)\r\n\r\nThis release of `tracing` incorporates changes from `tracing-core`\r\n[v0.1.30][core-0.1.30] and `tracing-attributes` [v0.1.23][attrs-0.1.23],\r\nincluding the new `Subscriber::on_register_dispatch` method for\r\nperforming late initialization after a `Subscriber` is registered as a\r\n`Dispatch`, and bugfixes for the `#[instrument]` attribute.\r\nAdditionally, it fixes instances of the `bare_trait_objects` lint, which\r\nis now a warning on `tracing`'s MSRV and will become an error in the\r\nnext edition.\r\n\r\n### Fixed\r\n\r\n- **attributes**: Incorrect handling of inner attributes in\r\n  `#[instrument]`ed functions (https://github.com/tokio-rs/tracing/pull/2307)\r\n- **attributes**: Incorrect location of compiler diagnostic spans\r\n  generated for type errors in `#[instrument]`ed `async fn`s (https://github.com/tokio-rs/tracing/pull/2270)\r\n- **attributes**: Updated `syn` dependency to fix compilation with `-Z\r\n  minimal-versions` (https://github.com/tokio-rs/tracing/pull/2246)\r\n- `bare_trait_objects` warning in `valueset!` macro expansion (https://github.com/tokio-rs/tracing/pull/2308)\r\n\r\n### Added\r\n\r\n- **core**: `Subscriber::on_register_dispatch` method (https://github.com/tokio-rs/tracing/pull/2269)\r\n- **core**: `WeakDispatch` type and `Dispatch::downgrade()` function\r\n  (https://github.com/tokio-rs/tracing/pull/2293)\r\n\r\n### Changed\r\n\r\n- `tracing-core`: updated to [0.1.30][core-0.1.30]\r\n- `tracing-attributes`: updated to [0.1.23][attrs-0.1.23]\r\n\r\n### Documented\r\n\r\n- Added [`tracing-web`] and [`reqwest-tracing`] to related crates\r\n  (#2283, #2331)\r\n\r\nThanks to new contributors @compiler-errors, @e-nomem, @WorldSEnder,\r\n@Xiami2012, and @tl-rodrigo-gryzinski, as well as @jswrenn and @CAD97,\r\nfor contributing to this release!\r\n\r\n[core-0.1.30]:\r\n    https://github.com/tokio-rs/tracing/releases/tag/tracing-core-0.1.30\r\n[attrs-0.1.23]:\r\n    https://github.com/tokio-rs/tracing/releases/tag/tracing-attributes-0.1.23\r\n[`tracing-web`]: https://crates.io/crates/tracing-web/\r\n[`reqwest-tracing`]: https://crates.io/crates/reqwest-tracing/", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2341/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2340", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2340/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2340/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2340/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2340", "id": 1400123473, "node_id": "PR_kwDOCdoc185AVu--", "number": 2340, "title": "attributes: prepare to release v0.1.23", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-06T18:27:03Z", "updated_at": "2022-10-06T19:00:49Z", "closed_at": "2022-10-06T19:00:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2340", "html_url": "https://github.com/tokio-rs/tracing/pull/2340", "diff_url": "https://github.com/tokio-rs/tracing/pull/2340.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2340.patch", "merged_at": "2022-10-06T19:00:48Z"}, "body": "# 0.1.23 (October 6, 2022)\r\n\r\nThis release of `tracing-attributes` fixes a bug where compiler diagnostic spans for type error sin `#[instrument]`ed `async fn`s have the location of the `#[instrument]` attribute rather than the location of the actual error, and a bug where inner attributes in `#[instrument]`ed functions would cause a compiler error. ### Fixed\r\n\r\n- Fix incorrect handling of inner attributes in `#[instrument]`ed functions ([#2307])\r\n- Add fake return to improve spans generated for type errors in `async fn`s ([#2270])\r\n- Updated `syn` dependency to fix compilation with `-Z minimal-versions` ([#2246])\r\n\r\nThanks to new contributors @compiler-errors and @e-nomem, as well as @CAD97, for contributing to this release!\r\n\r\n[#2307]: https://github.com/tokio-rs/tracing/pull/2307\r\n[#2270]: https://github.com/tokio-rs/tracing/pull/2270\r\n[#2246]: https://github.com/tokio-rs/tracing/pull/2246", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2340/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2340/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2339", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2339/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2339/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2339/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2339", "id": 1400056277, "node_id": "PR_kwDOCdoc185AVgbD", "number": 2339, "title": "core: prepare to release v0.1.30", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-06T17:27:47Z", "updated_at": "2022-10-06T17:52:02Z", "closed_at": "2022-10-06T17:52:01Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2339", "html_url": "https://github.com/tokio-rs/tracing/pull/2339", "diff_url": "https://github.com/tokio-rs/tracing/pull/2339.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2339.patch", "merged_at": "2022-10-06T17:52:01Z"}, "body": "# 0.1.30 (October 6, 2022)\r\n\r\nThis release of `tracing-core` adds a new `on_register_dispatch` method to the `Subscriber` trait to allow the `Subscriber` to perform initialization after being registered as a `Dispatch`, and a `WeakDispatch` type to allow a `Subscriber` to store its own `Dispatch` without creating reference count cycles.\r\n\r\n### Added\r\n\r\n- `Subscriber::on_register_dispatch` method ([#2269])\r\n- `WeakDispatch` type and `Dispatch::downgrade()` function ([#2293])\r\n\r\nThanks to @jswrenn for contributing to this release!\r\n\r\n[#2269]: https://github.com/tokio-rs/tracing/pull/2269\r\n[#2293]: https://github.com/tokio-rs/tracing/pull/2293", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2339/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2335", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2335/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2335/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2335/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2335", "id": 1396021401, "node_id": "PR_kwDOCdoc185AH1aA", "number": 2335, "title": "attributes: add support for custom levels for `ret` and `err` (#2330)", "user": {"login": "nitnelave", "id": 796633, "node_id": "MDQ6VXNlcjc5NjYzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/796633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nitnelave", "html_url": "https://github.com/nitnelave", "followers_url": "https://api.github.com/users/nitnelave/followers", "following_url": "https://api.github.com/users/nitnelave/following{/other_user}", "gists_url": "https://api.github.com/users/nitnelave/gists{/gist_id}", "starred_url": "https://api.github.com/users/nitnelave/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nitnelave/subscriptions", "organizations_url": "https://api.github.com/users/nitnelave/orgs", "repos_url": "https://api.github.com/users/nitnelave/repos", "events_url": "https://api.github.com/users/nitnelave/events{/privacy}", "received_events_url": "https://api.github.com/users/nitnelave/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-10-04T10:28:17Z", "updated_at": "2022-10-10T21:51:59Z", "closed_at": "2022-10-10T21:51:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2335", "html_url": "https://github.com/tokio-rs/tracing/pull/2335", "diff_url": "https://github.com/tokio-rs/tracing/pull/2335.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2335.patch", "merged_at": "2022-10-10T21:51:59Z"}, "body": "Fixes #2330 \r\n\r\nThe change is fairly straightforward, just adding support for customizable levels for `ret` and `err` in a fully backward-compatible way.\r\n\r\nI made `Level` `pub(crate)` to be able to expose `level_to_tokens`, there may be a better way of doing it but it seemed simple enough and anyway it doesn't escape the crate.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2335/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2335/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2331", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2331/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2331/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2331/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2331", "id": 1392418762, "node_id": "PR_kwDOCdoc184_7_dP", "number": 2331, "title": "docs: Add reqwest-tracing to related crates in README", "user": {"login": "tl-rodrigo-gryzinski", "id": 73602926, "node_id": "MDQ6VXNlcjczNjAyOTI2", "avatar_url": "https://avatars.githubusercontent.com/u/73602926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tl-rodrigo-gryzinski", "html_url": "https://github.com/tl-rodrigo-gryzinski", "followers_url": "https://api.github.com/users/tl-rodrigo-gryzinski/followers", "following_url": "https://api.github.com/users/tl-rodrigo-gryzinski/following{/other_user}", "gists_url": "https://api.github.com/users/tl-rodrigo-gryzinski/gists{/gist_id}", "starred_url": "https://api.github.com/users/tl-rodrigo-gryzinski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tl-rodrigo-gryzinski/subscriptions", "organizations_url": "https://api.github.com/users/tl-rodrigo-gryzinski/orgs", "repos_url": "https://api.github.com/users/tl-rodrigo-gryzinski/repos", "events_url": "https://api.github.com/users/tl-rodrigo-gryzinski/events{/privacy}", "received_events_url": "https://api.github.com/users/tl-rodrigo-gryzinski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-30T13:09:16Z", "updated_at": "2022-10-03T17:01:11Z", "closed_at": "2022-10-03T17:01:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2331", "html_url": "https://github.com/tokio-rs/tracing/pull/2331", "diff_url": "https://github.com/tokio-rs/tracing/pull/2331.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2331.patch", "merged_at": "2022-10-03T17:01:11Z"}, "body": "Add [`reqwest-tracing`](https://crates.io/crates/reqwest-tracing) to the list of related crates.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2331/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2326", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2326/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2326/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2326/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2326", "id": 1387724231, "node_id": "PR_kwDOCdoc184_sW_l", "number": 2326, "title": "doc(opentelemetry): use histogram for metrics", "user": {"login": "nmoutschen", "id": 15308855, "node_id": "MDQ6VXNlcjE1MzA4ODU1", "avatar_url": "https://avatars.githubusercontent.com/u/15308855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nmoutschen", "html_url": "https://github.com/nmoutschen", "followers_url": "https://api.github.com/users/nmoutschen/followers", "following_url": "https://api.github.com/users/nmoutschen/following{/other_user}", "gists_url": "https://api.github.com/users/nmoutschen/gists{/gist_id}", "starred_url": "https://api.github.com/users/nmoutschen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nmoutschen/subscriptions", "organizations_url": "https://api.github.com/users/nmoutschen/orgs", "repos_url": "https://api.github.com/users/nmoutschen/repos", "events_url": "https://api.github.com/users/nmoutschen/events{/privacy}", "received_events_url": "https://api.github.com/users/nmoutschen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2083026338, "node_id": "MDU6TGFiZWwyMDgzMDI2MzM4", "url": "https://api.github.com/repos/tokio-rs/tracing/labels/crate/opentelemetry", "name": "crate/opentelemetry", "color": "2de595", "default": false, "description": "Related to the `tracing-opentelemetry` crate."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-27T13:01:30Z", "updated_at": "2022-10-04T07:34:12Z", "closed_at": "2022-09-30T18:34:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2326", "html_url": "https://github.com/tokio-rs/tracing/pull/2326", "diff_url": "https://github.com/tokio-rs/tracing/pull/2326.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2326.patch", "merged_at": "2022-09-30T18:34:02Z"}, "body": "## Motivation\r\n\r\nThis fixes a discrepancy in the `tracing-opentelemetry` docs for the new MetricsLayer. The docs refer to `value.` as a way to collect discrete data point, but this doesn't match any of the prefix constant mentioned in the same file.\r\n\r\n```rust\r\nconst METRIC_PREFIX_MONOTONIC_COUNTER: &str = \"monotonic_counter.\";\r\nconst METRIC_PREFIX_COUNTER: &str = \"counter.\";\r\nconst METRIC_PREFIX_HISTOGRAM: &str = \"histogram.\";\r\n```\r\n\r\n## Solution\r\n\r\nThis fixes the documentation and test by referring to `histogram.` instead of `value.`.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2326/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2324", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2324/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2324/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2324/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2324", "id": 1384818826, "node_id": "PR_kwDOCdoc184_jDur", "number": 2324, "title": "backport recent changes from master", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-24T21:34:00Z", "updated_at": "2022-09-30T20:22:19Z", "closed_at": "2022-09-30T20:22:19Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2324", "html_url": "https://github.com/tokio-rs/tracing/pull/2324", "diff_url": "https://github.com/tokio-rs/tracing/pull/2324.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2324.patch", "merged_at": "2022-09-30T20:22:19Z"}, "body": "This backports the following PRs from `master`:\r\n\r\n* 341d88f0 appender: add option to automatically delete old log files (#2323)\r\n* 4811e935 core: add `Dispatch::downgrade()` and `WeakDispatch` (#2293)\r\n* b740179f attributes: suppress dead code warnings for compile tests (#2322)\r\n* 640cd3f3 attributes: update trybuild output for Rust 1.64.0 (#2322)", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2324/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2323", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2323/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2323/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2323/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2323", "id": 1384805979, "node_id": "PR_kwDOCdoc184_jBZm", "number": 2323, "title": "max_log_files_feature", "user": {"login": "ozgunozerk", "id": 32795992, "node_id": "MDQ6VXNlcjMyNzk1OTky", "avatar_url": "https://avatars.githubusercontent.com/u/32795992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ozgunozerk", "html_url": "https://github.com/ozgunozerk", "followers_url": "https://api.github.com/users/ozgunozerk/followers", "following_url": "https://api.github.com/users/ozgunozerk/following{/other_user}", "gists_url": "https://api.github.com/users/ozgunozerk/gists{/gist_id}", "starred_url": "https://api.github.com/users/ozgunozerk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ozgunozerk/subscriptions", "organizations_url": "https://api.github.com/users/ozgunozerk/orgs", "repos_url": "https://api.github.com/users/ozgunozerk/repos", "events_url": "https://api.github.com/users/ozgunozerk/events{/privacy}", "received_events_url": "https://api.github.com/users/ozgunozerk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-09-24T20:34:08Z", "updated_at": "2023-08-14T12:13:11Z", "closed_at": "2022-09-24T20:57:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2323", "html_url": "https://github.com/tokio-rs/tracing/pull/2323", "diff_url": "https://github.com/tokio-rs/tracing/pull/2323.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2323.patch", "merged_at": "2022-09-24T20:57:02Z"}, "body": "## Motivation\r\n\r\n`tracing-appender` does not have `Rotation` based on size yet.\r\nAlso, it doesn't have the feature of **keeping the most recent `N` log files**\r\n\r\nI believe the second feature is more easy to implement, and also will partially solve the `Rotation` based on size problem. Because people may choose `hourly` or `daily` rotation based on their needs, and put an extra boundary of `keep the last 5 files` for example. Of course it won't handle all the edge cases for `Rotation` based on size. But it will cover most of the scenarios. And also, it is a good feature to have on its own :)\r\n\r\n## Solution\r\n\r\nIntroduce another field called `keep_last: Option<usize>` to the `Inner` of `RollingFileAppender` struct.\r\nI managed to did not touch any of the existing functions, so it **WON'T BE A BREAKING CHANGE**. Yay :)\r\n\r\nThe solution is, whenever the rotation should happen, the `refresh_writer()` is called. So I embed the following logic into that function:\r\n\r\n1- check the log folder and detect the log files\r\n2- if there are more log files than the `last_keep` amount\r\n3- store the filenames in a vector, and sort them by their dates (dates are already present in the filename)\r\n4- keep deleting the oldest ones, till we have desired amount of log files in the log folder\r\n\r\nP.S. this PR was opened before, but got closed since it would be easier for the maintainers to target `master` branch instead of `v0.1.x`\r\nAlso, @CBenoit contributed to this PR, it would be great to give credit to him :)\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2323/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 3, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2323/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2322", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2322/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2322/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2322/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2322", "id": 1384332551, "node_id": "PR_kwDOCdoc184_hnS0", "number": 2322, "title": "attributes: update trybuild, fix warnings", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-23T21:44:40Z", "updated_at": "2022-09-23T22:58:37Z", "closed_at": "2022-09-23T22:58:36Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2322", "html_url": "https://github.com/tokio-rs/tracing/pull/2322", "diff_url": "https://github.com/tokio-rs/tracing/pull/2322.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2322.patch", "merged_at": "2022-09-23T22:58:36Z"}, "body": "* **attributes: suppress dead code warnings for compile tests**\r\n\r\n  The `async_fn` test file in `tracing-attributes` contains several\r\n  functions that exist just to test whether they _compile_, rather than\r\n  make assertions about their behavior. Because these functions are never\r\n  called, they (naturally) emit dead code warnings.\r\n  \r\n  This commit adds `#[allow(dead_code)]` to the compilation tests, plus a\r\ncomment explaining why we do this.\r\n\r\n* **attributes: update trybuild output for Rust 1.64.0**\r\n\r\n  The error messages for these tests appear to have changed a bit with\r\n  Rust 1.64. This branch runs the tests with `TRYBUILD=overwrite` to\r\n  update for the latest Rust.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2322/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2321", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2321/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2321/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2321/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2321", "id": 1384146117, "node_id": "PR_kwDOCdoc184_hAuf", "number": 2321, "title": "ensure the None-layer doesn't override the max-level erroneously", "user": {"login": "guswynn", "id": 5404303, "node_id": "MDQ6VXNlcjU0MDQzMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/5404303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guswynn", "html_url": "https://github.com/guswynn", "followers_url": "https://api.github.com/users/guswynn/followers", "following_url": "https://api.github.com/users/guswynn/following{/other_user}", "gists_url": "https://api.github.com/users/guswynn/gists{/gist_id}", "starred_url": "https://api.github.com/users/guswynn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guswynn/subscriptions", "organizations_url": "https://api.github.com/users/guswynn/orgs", "repos_url": "https://api.github.com/users/guswynn/repos", "events_url": "https://api.github.com/users/guswynn/events{/privacy}", "received_events_url": "https://api.github.com/users/guswynn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-23T18:07:45Z", "updated_at": "2022-09-27T18:12:53Z", "closed_at": "2022-09-27T17:52:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2321", "html_url": "https://github.com/tokio-rs/tracing/pull/2321", "diff_url": "https://github.com/tokio-rs/tracing/pull/2321.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2321.patch", "merged_at": "2022-09-27T17:52:26Z"}, "body": "## Motivation\r\n\r\nFixes https://github.com/tokio-rs/tracing/issues/2265\r\n\r\n## Solution\r\n\r\nMake a special downcast that marks when the layer is a `None`, which allows us to do the short-circuit we want. The tests I added should be pretty thorough!\r\n\r\nAdditionally, make sure this downcast works through the `reload subscriber`\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2321/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2321/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2312", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2312/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2312/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2312/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2312", "id": 1377123551, "node_id": "PR_kwDOCdoc184_KBDW", "number": 2312, "title": "opentelemetry: prepare for v0.18.0 release", "user": {"login": "jtescher", "id": 175237, "node_id": "MDQ6VXNlcjE3NTIzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/175237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtescher", "html_url": "https://github.com/jtescher", "followers_url": "https://api.github.com/users/jtescher/followers", "following_url": "https://api.github.com/users/jtescher/following{/other_user}", "gists_url": "https://api.github.com/users/jtescher/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtescher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtescher/subscriptions", "organizations_url": "https://api.github.com/users/jtescher/orgs", "repos_url": "https://api.github.com/users/jtescher/repos", "events_url": "https://api.github.com/users/jtescher/events{/privacy}", "received_events_url": "https://api.github.com/users/jtescher/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2083026338, "node_id": "MDU6TGFiZWwyMDgzMDI2MzM4", "url": "https://api.github.com/repos/tokio-rs/tracing/labels/crate/opentelemetry", "name": "crate/opentelemetry", "color": "2de595", "default": false, "description": "Related to the `tracing-opentelemetry` crate."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-18T17:20:25Z", "updated_at": "2022-09-19T18:51:34Z", "closed_at": "2022-09-19T18:51:33Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2312", "html_url": "https://github.com/tokio-rs/tracing/pull/2312", "diff_url": "https://github.com/tokio-rs/tracing/pull/2312.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2312.patch", "merged_at": "2022-09-19T18:51:33Z"}, "body": "Changelog:\r\n\r\n### Breaking Changes\r\n\r\n- Upgrade to `v0.18.0` of `opentelemetry` ([#2303])\r\n  For list of breaking changes in OpenTelemetry, see the\r\n  [v0.18.0 changelog](https://github.com/open-telemetry/opentelemetry-rust/blob/main/opentelemetry/CHANGELOG.md#v0180).\r\n\r\n### Fixed\r\n\r\n- `on_event` respects event's explicit parent ([#2296])\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2312/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2310", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2310/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2310/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2310/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2310", "id": 1376368330, "node_id": "PR_kwDOCdoc184_HzCi", "number": 2310, "title": "opentelemetry: add semconv exception fields", "user": {"login": "jtescher", "id": 175237, "node_id": "MDQ6VXNlcjE3NTIzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/175237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtescher", "html_url": "https://github.com/jtescher", "followers_url": "https://api.github.com/users/jtescher/followers", "following_url": "https://api.github.com/users/jtescher/following{/other_user}", "gists_url": "https://api.github.com/users/jtescher/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtescher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtescher/subscriptions", "organizations_url": "https://api.github.com/users/jtescher/orgs", "repos_url": "https://api.github.com/users/jtescher/repos", "events_url": "https://api.github.com/users/jtescher/events{/privacy}", "received_events_url": "https://api.github.com/users/jtescher/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2083026338, "node_id": "MDU6TGFiZWwyMDgzMDI2MzM4", "url": "https://api.github.com/repos/tokio-rs/tracing/labels/crate/opentelemetry", "name": "crate/opentelemetry", "color": "2de595", "default": false, "description": "Related to the `tracing-opentelemetry` crate."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-16T19:10:56Z", "updated_at": "2022-09-16T20:09:38Z", "closed_at": "2022-09-16T20:09:38Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2310", "html_url": "https://github.com/tokio-rs/tracing/pull/2310", "diff_url": "https://github.com/tokio-rs/tracing/pull/2310.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2310.patch", "merged_at": "2022-09-16T20:09:37Z"}, "body": "Port #2135 to `master` branch", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2310/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2310/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2309", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2309/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2309/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2309/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2309", "id": 1376255632, "node_id": "PR_kwDOCdoc184_HZ0h", "number": 2309, "title": "opentelemetry: backport update otel to 0.18.0", "user": {"login": "jtescher", "id": 175237, "node_id": "MDQ6VXNlcjE3NTIzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/175237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtescher", "html_url": "https://github.com/jtescher", "followers_url": "https://api.github.com/users/jtescher/followers", "following_url": "https://api.github.com/users/jtescher/following{/other_user}", "gists_url": "https://api.github.com/users/jtescher/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtescher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtescher/subscriptions", "organizations_url": "https://api.github.com/users/jtescher/orgs", "repos_url": "https://api.github.com/users/jtescher/repos", "events_url": "https://api.github.com/users/jtescher/events{/privacy}", "received_events_url": "https://api.github.com/users/jtescher/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2083026338, "node_id": "MDU6TGFiZWwyMDgzMDI2MzM4", "url": "https://api.github.com/repos/tokio-rs/tracing/labels/crate/opentelemetry", "name": "crate/opentelemetry", "color": "2de595", "default": false, "description": "Related to the `tracing-opentelemetry` crate."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-16T17:53:57Z", "updated_at": "2022-09-16T20:29:36Z", "closed_at": "2022-09-16T20:29:35Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2309", "html_url": "https://github.com/tokio-rs/tracing/pull/2309", "diff_url": "https://github.com/tokio-rs/tracing/pull/2309.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2309.patch", "merged_at": "2022-09-16T20:29:35Z"}, "body": "Backport #2303 into `v0.1.x`", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2309/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2308", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2308/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2308/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2308/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2308", "id": 1375837633, "node_id": "PR_kwDOCdoc184_GA-P", "number": 2308, "title": "macros: Add dyn keyword for trait objects in valueset! expansion", "user": {"login": "Xiami2012", "id": 1927254, "node_id": "MDQ6VXNlcjE5MjcyNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1927254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Xiami2012", "html_url": "https://github.com/Xiami2012", "followers_url": "https://api.github.com/users/Xiami2012/followers", "following_url": "https://api.github.com/users/Xiami2012/following{/other_user}", "gists_url": "https://api.github.com/users/Xiami2012/gists{/gist_id}", "starred_url": "https://api.github.com/users/Xiami2012/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Xiami2012/subscriptions", "organizations_url": "https://api.github.com/users/Xiami2012/orgs", "repos_url": "https://api.github.com/users/Xiami2012/repos", "events_url": "https://api.github.com/users/Xiami2012/events{/privacy}", "received_events_url": "https://api.github.com/users/Xiami2012/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-16T11:48:55Z", "updated_at": "2022-09-16T20:39:09Z", "closed_at": "2022-09-16T20:39:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2308", "html_url": "https://github.com/tokio-rs/tracing/pull/2308", "diff_url": "https://github.com/tokio-rs/tracing/pull/2308.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2308.patch", "merged_at": "2022-09-16T20:39:08Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n`bare_trait_objects` lint will become a hard error in Rust 2021.\r\n\r\nWhile tracing is still using Rust 2018, `bare_trait_objects` is a warning in the MSRV and `dyn` keyword is recommended.\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\n## Solution\r\n\r\nReplace all `&Value` with `&dyn Value` in macro expansions.\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2308/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2307", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2307/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2307/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2307/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2307", "id": 1375742397, "node_id": "PR_kwDOCdoc184_FsZ0", "number": 2307, "title": "attributes: fix handling of inner attributes", "user": {"login": "e-nomem", "id": 716896, "node_id": "MDQ6VXNlcjcxNjg5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/716896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/e-nomem", "html_url": "https://github.com/e-nomem", "followers_url": "https://api.github.com/users/e-nomem/followers", "following_url": "https://api.github.com/users/e-nomem/following{/other_user}", "gists_url": "https://api.github.com/users/e-nomem/gists{/gist_id}", "starred_url": "https://api.github.com/users/e-nomem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/e-nomem/subscriptions", "organizations_url": "https://api.github.com/users/e-nomem/orgs", "repos_url": "https://api.github.com/users/e-nomem/repos", "events_url": "https://api.github.com/users/e-nomem/events{/privacy}", "received_events_url": "https://api.github.com/users/e-nomem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-09-16T10:19:22Z", "updated_at": "2022-10-06T18:01:43Z", "closed_at": "2022-10-06T18:01:43Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2307", "html_url": "https://github.com/tokio-rs/tracing/pull/2307", "diff_url": "https://github.com/tokio-rs/tracing/pull/2307.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2307.patch", "merged_at": "2022-10-06T18:01:43Z"}, "body": "## Motivation\r\nWhen the `instrument` attribute is used on a function with inner attributes, the proc macro generates code above the attributes within the function block that causes compilation errors. These should be parsed out separately and handled.\r\n\r\nFixes: #2294\r\n\r\n## Solution\r\nI updated `MaybeItemFn` and `MaybeItemFnRef` to so they hold both the outer and inner attributes for the instrumented function and updated the codegen to inlcude them in the appropriate locations.\r\n\r\nI couldn't preserve the existing `impl From<&'_ ItemFn> for MaybeItemFnRef<'_, Box<Block>>` due to lifetime issues and error handling (converting the `ItemFn` requires me to parse the `item.block` for inner attributes which is a local that I can't return, and the parsing could fail), so instead we now have an `impl From<ItemFn> for MaybeItemFn`. I can't think of any way around this without removing the usages of `ItemFn` entirely though.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2307/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2303", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2303/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2303/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2303/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2303", "id": 1370803757, "node_id": "PR_kwDOCdoc184-1Mk2", "number": 2303, "title": "opentelemetry: Update otel to 0.18.0", "user": {"login": "jtescher", "id": 175237, "node_id": "MDQ6VXNlcjE3NTIzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/175237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtescher", "html_url": "https://github.com/jtescher", "followers_url": "https://api.github.com/users/jtescher/followers", "following_url": "https://api.github.com/users/jtescher/following{/other_user}", "gists_url": "https://api.github.com/users/jtescher/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtescher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtescher/subscriptions", "organizations_url": "https://api.github.com/users/jtescher/orgs", "repos_url": "https://api.github.com/users/jtescher/repos", "events_url": "https://api.github.com/users/jtescher/events{/privacy}", "received_events_url": "https://api.github.com/users/jtescher/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2083026338, "node_id": "MDU6TGFiZWwyMDgzMDI2MzM4", "url": "https://api.github.com/repos/tokio-rs/tracing/labels/crate/opentelemetry", "name": "crate/opentelemetry", "color": "2de595", "default": false, "description": "Related to the `tracing-opentelemetry` crate."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-09-13T03:36:36Z", "updated_at": "2022-09-16T15:18:37Z", "closed_at": "2022-09-15T23:54:08Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2303", "html_url": "https://github.com/tokio-rs/tracing/pull/2303", "diff_url": "https://github.com/tokio-rs/tracing/pull/2303.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2303.patch", "merged_at": "2022-09-15T23:54:08Z"}, "body": "## Motivation\r\n\r\nSupport the latest OpenTelemetry specification.\r\n\r\n## Solution\r\n\r\nUpdate `opentelemetry` to the latest `0.18.x` release. Breaking changes in the metrics spec have removed value recorders and added histograms so the metrics layer's `value.` prefix has been changed to `histogram.` and behaves accordingly. Additionally the `PushController` configuration for the metrics layer has been simplified to accept a [`BasicController`](https://docs.rs/opentelemetry/0.18.0/opentelemetry/sdk/metrics/controllers/struct.BasicController.html) that can act in either push or pull modes. Finally trace sampling in the sdk's `PreSampledTracer` impl has been updated to match the sampling logic in https://github.com/open-telemetry/opentelemetry-rust/pull/839.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2303/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2303/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2298", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2298/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2298/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2298/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2298", "id": 1366765548, "node_id": "PR_kwDOCdoc184-n49t", "number": 2298, "title": "chore: Backports to v0.1.x", "user": {"login": "davidbarsky", "id": 2067774, "node_id": "MDQ6VXNlcjIwNjc3NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2067774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidbarsky", "html_url": "https://github.com/davidbarsky", "followers_url": "https://api.github.com/users/davidbarsky/followers", "following_url": "https://api.github.com/users/davidbarsky/following{/other_user}", "gists_url": "https://api.github.com/users/davidbarsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidbarsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidbarsky/subscriptions", "organizations_url": "https://api.github.com/users/davidbarsky/orgs", "repos_url": "https://api.github.com/users/davidbarsky/repos", "events_url": "https://api.github.com/users/davidbarsky/events{/privacy}", "received_events_url": "https://api.github.com/users/davidbarsky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-09-08T17:55:51Z", "updated_at": "2022-09-19T23:59:06Z", "closed_at": "2022-09-19T18:47:55Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2298", "html_url": "https://github.com/tokio-rs/tracing/pull/2298", "diff_url": "https://github.com/tokio-rs/tracing/pull/2298.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2298.patch", "merged_at": "2022-09-19T18:47:55Z"}, "body": "Some additional backports.\r\n\r\n(Let's see if CI passes first\u2014I suspect that it won't...)", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2298/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2296", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2296/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2296/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2296/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2296", "id": 1359928528, "node_id": "PR_kwDOCdoc184-RKV7", "number": 2296, "title": "opentelemetry: on_event respects event's explicit parent", "user": {"login": "wprzytula", "id": 59482568, "node_id": "MDQ6VXNlcjU5NDgyNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/59482568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wprzytula", "html_url": "https://github.com/wprzytula", "followers_url": "https://api.github.com/users/wprzytula/followers", "following_url": "https://api.github.com/users/wprzytula/following{/other_user}", "gists_url": "https://api.github.com/users/wprzytula/gists{/gist_id}", "starred_url": "https://api.github.com/users/wprzytula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wprzytula/subscriptions", "organizations_url": "https://api.github.com/users/wprzytula/orgs", "repos_url": "https://api.github.com/users/wprzytula/repos", "events_url": "https://api.github.com/users/wprzytula/events{/privacy}", "received_events_url": "https://api.github.com/users/wprzytula/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2083026338, "node_id": "MDU6TGFiZWwyMDgzMDI2MzM4", "url": "https://api.github.com/repos/tokio-rs/tracing/labels/crate/opentelemetry", "name": "crate/opentelemetry", "color": "2de595", "default": false, "description": "Related to the `tracing-opentelemetry` crate."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-02T09:18:38Z", "updated_at": "2022-09-08T16:42:05Z", "closed_at": "2022-09-07T22:55:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2296", "html_url": "https://github.com/tokio-rs/tracing/pull/2296", "diff_url": "https://github.com/tokio-rs/tracing/pull/2296.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2296.patch", "merged_at": "2022-09-07T22:55:19Z"}, "body": "One can want to have an event added from outside context of a span,\r\nespecially in an async code (e.g. between polls of the future, or\r\nbetween polling multiple futures instrumented with that span). Then it\r\nis expected that the event will be attached indeed to the span specified\r\nas the parent and not the contextual one.\r\nFixes: #2295 \r\n\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\nsee #2295 \r\n\r\n## Solution\r\nsee #2295 \r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2296/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2293", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2293/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2293/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2293/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2293", "id": 1356207776, "node_id": "PR_kwDOCdoc184-EipM", "number": 2293, "title": "tracing-core: Add `Dispatch::downgrade()` and `WeakDispatch`", "user": {"login": "jswrenn", "id": 3820879, "node_id": "MDQ6VXNlcjM4MjA4Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3820879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jswrenn", "html_url": "https://github.com/jswrenn", "followers_url": "https://api.github.com/users/jswrenn/followers", "following_url": "https://api.github.com/users/jswrenn/following{/other_user}", "gists_url": "https://api.github.com/users/jswrenn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jswrenn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jswrenn/subscriptions", "organizations_url": "https://api.github.com/users/jswrenn/orgs", "repos_url": "https://api.github.com/users/jswrenn/repos", "events_url": "https://api.github.com/users/jswrenn/events{/privacy}", "received_events_url": "https://api.github.com/users/jswrenn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-08-30T19:29:39Z", "updated_at": "2024-04-01T10:30:19Z", "closed_at": "2022-09-24T20:18:03Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2293", "html_url": "https://github.com/tokio-rs/tracing/pull/2293", "diff_url": "https://github.com/tokio-rs/tracing/pull/2293.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2293.patch", "merged_at": "2022-09-24T20:18:03Z"}, "body": "Allows collectors and subscribers to stash their own `Dispatch` without causing a memory leak.\r\n\r\n## Motivation\r\nResolves a shortcoming of https://github.com/tokio-rs/tracing/pull/2269: that it's impossible for collectors or subscribers to stash a copy of their own `Dispatch` without creating a reference cycle that would prevent them from being dropped. \r\n\r\n## Solution\r\nIntroduces `WeakDispatch` (analogous to `std::sync::Weak`) that holds a weak pointer to a collector. `WeakDispatch` can be created via `Dispatch::downgrade`, and can be transformed into a `Dispatch` via `WeakDispatch::upgrade`. \r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2293/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2288", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2288/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2288/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2288/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2288", "id": 1349971513, "node_id": "PR_kwDOCdoc1849v0gS", "number": 2288, "title": "chore: port PRs pointed at v0.1.x to master", "user": {"login": "davidbarsky", "id": 2067774, "node_id": "MDQ6VXNlcjIwNjc3NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2067774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidbarsky", "html_url": "https://github.com/davidbarsky", "followers_url": "https://api.github.com/users/davidbarsky/followers", "following_url": "https://api.github.com/users/davidbarsky/following{/other_user}", "gists_url": "https://api.github.com/users/davidbarsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidbarsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidbarsky/subscriptions", "organizations_url": "https://api.github.com/users/davidbarsky/orgs", "repos_url": "https://api.github.com/users/davidbarsky/repos", "events_url": "https://api.github.com/users/davidbarsky/events{/privacy}", "received_events_url": "https://api.github.com/users/davidbarsky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-24T20:11:24Z", "updated_at": "2022-08-24T21:09:13Z", "closed_at": "2022-08-24T21:09:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2288", "html_url": "https://github.com/tokio-rs/tracing/pull/2288", "diff_url": "https://github.com/tokio-rs/tracing/pull/2288.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2288.patch", "merged_at": "2022-08-24T21:09:12Z"}, "body": "I noticed that #1871 and #2102 targeted the `v0.1.x` branch and they were never ported to master. This branch fixes that.\r\n\r\n(On an aside, I discovered the `-Xfind-renames` flag on `git cherry-pick`, which makes handling the layer -> subscriber rename much easier.)", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2288/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2287", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2287/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2287/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2287/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2287", "id": 1349039090, "node_id": "PR_kwDOCdoc1849sry_", "number": 2287, "title": "deps: Use `nu-ansi-term` to replace unmaintained `ansi_term`", "user": {"login": "poliorcetics", "id": 7951708, "node_id": "MDQ6VXNlcjc5NTE3MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/7951708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poliorcetics", "html_url": "https://github.com/poliorcetics", "followers_url": "https://api.github.com/users/poliorcetics/followers", "following_url": "https://api.github.com/users/poliorcetics/following{/other_user}", "gists_url": "https://api.github.com/users/poliorcetics/gists{/gist_id}", "starred_url": "https://api.github.com/users/poliorcetics/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poliorcetics/subscriptions", "organizations_url": "https://api.github.com/users/poliorcetics/orgs", "repos_url": "https://api.github.com/users/poliorcetics/repos", "events_url": "https://api.github.com/users/poliorcetics/events{/privacy}", "received_events_url": "https://api.github.com/users/poliorcetics/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 4512526289, "node_id": "LA_kwDOCdoc188AAAABDPev0Q", "url": "https://api.github.com/repos/tokio-rs/tracing/labels/needs-backport", "name": "needs-backport", "color": "E406DF", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-08-24T08:06:31Z", "updated_at": "2022-09-08T19:55:50Z", "closed_at": "2022-08-29T21:11:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2287", "html_url": "https://github.com/tokio-rs/tracing/pull/2287", "diff_url": "https://github.com/tokio-rs/tracing/pull/2287.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2287.patch", "merged_at": "2022-08-29T21:11:12Z"}, "body": "This increases the MSRV of `tracing-subscriber` to 1.50+.\n\n<!--\nThank you for your Pull Request. Please provide a description above and review\nthe requirements below.\n\nBug fixes and new features should include tests.\n\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\n-->\n\nSee also: #2040\n\n## Motivation\n\n[ansi_term](https://github.com/ogham/rust-ansi-term) last time update is over 2 years ago, use \nnushell team forked [nu-ansi-term](https://github.com/nushell/nu-ansi-term) instead\n\n<!--\nExplain the context and why you're making that change. What is the problem\nyou're trying to solve? If a new feature is being added, describe the intended\nuse case that feature fulfills.\n-->\n\n## Solution\n\nUse [nu-ansi-term](https://github.com/nushell/nu-ansi-term)\n\n\n<!--\nSummarize the solution and provide any necessary context needed to understand\nthe code change.\n-->\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2287/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2287/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2285", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2285/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2285/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2285/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2285", "id": 1346652465, "node_id": "PR_kwDOCdoc1849kx-T", "number": 2285, "title": "disabled level warning: say which create the message refers to", "user": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-22T16:08:06Z", "updated_at": "2022-08-22T16:31:21Z", "closed_at": "2022-08-22T16:31:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2285", "html_url": "https://github.com/tokio-rs/tracing/pull/2285", "diff_url": "https://github.com/tokio-rs/tracing/pull/2285.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2285.patch", "merged_at": "2022-08-22T16:31:21Z"}, "body": "I just saw this warning when trying to debug something in Miri:\r\n```\r\nwarning: some trace filter directives would enable traces that are disabled statically\r\n | `miri::tls=trace` would enable the TRACE level for the `miri::tls` target\r\n = note: the static max level is `info`\r\n = help: to enable DEBUG logging, remove the `max_level_info` feature\r\n```\r\nI spent 10min figuring out why the `log` crate is doing this (Miri is using env-logger for logging), until I realized that this error actually originates from inside rustc, which I guess uses `tracing`. It would have helped if the error message would say which crate is even talking to me here. :)", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2285/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2283", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2283/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2283/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2283/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2283", "id": 1345514995, "node_id": "PR_kwDOCdoc1849hBV2", "number": 2283, "title": "Add tracing-web to the list of related crates", "user": {"login": "WorldSEnder", "id": 6527051, "node_id": "MDQ6VXNlcjY1MjcwNTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6527051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WorldSEnder", "html_url": "https://github.com/WorldSEnder", "followers_url": "https://api.github.com/users/WorldSEnder/followers", "following_url": "https://api.github.com/users/WorldSEnder/following{/other_user}", "gists_url": "https://api.github.com/users/WorldSEnder/gists{/gist_id}", "starred_url": "https://api.github.com/users/WorldSEnder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WorldSEnder/subscriptions", "organizations_url": "https://api.github.com/users/WorldSEnder/orgs", "repos_url": "https://api.github.com/users/WorldSEnder/repos", "events_url": "https://api.github.com/users/WorldSEnder/events{/privacy}", "received_events_url": "https://api.github.com/users/WorldSEnder/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-21T15:15:18Z", "updated_at": "2022-08-25T17:17:17Z", "closed_at": "2022-08-25T17:17:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2283", "html_url": "https://github.com/tokio-rs/tracing/pull/2283", "diff_url": "https://github.com/tokio-rs/tracing/pull/2283.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2283.patch", "merged_at": "2022-08-25T17:17:16Z"}, "body": "Fixes #2280 \r\n\r\n## Motivation\r\n\r\nI've implemented an alternative to [`tracing-wasm`](https://github.com/storyai/tracing-wasm) to fix some issues that I had when using it (most are open as longer time bug reports, no need to recount them here). It should be more up to date with the current tracing framework and, being layer based, is easier to compose with other subscribers, e.g. supports formatting and timing on event logs out of the box.\r\n\r\n## Solution\r\n\r\nAdd the [`tracing-web`](https://crates.io/crates/tracing-web/) crate to the list of related crates.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2283/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2277", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2277/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2277/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2277/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2277", "id": 1339493526, "node_id": "PR_kwDOCdoc1849NNaS", "number": 2277, "title": "chore: fix `clippy::borrow_deref_ref` lints", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-15T20:48:26Z", "updated_at": "2022-08-15T21:04:21Z", "closed_at": "2022-08-15T21:04:20Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2277", "html_url": "https://github.com/tokio-rs/tracing/pull/2277", "diff_url": "https://github.com/tokio-rs/tracing/pull/2277.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2277.patch", "merged_at": "2022-08-15T21:04:20Z"}, "body": "This fixes some new Clippy lints introduced in the latest Rust version.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2277/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2275", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2275/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2275/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2275/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2275", "id": 1338029197, "node_id": "PR_kwDOCdoc1849Ihmr", "number": 2275, "title": "Add tracing-chrome to list of related crates", "user": {"login": "thoren-d", "id": 3453006, "node_id": "MDQ6VXNlcjM0NTMwMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/3453006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thoren-d", "html_url": "https://github.com/thoren-d", "followers_url": "https://api.github.com/users/thoren-d/followers", "following_url": "https://api.github.com/users/thoren-d/following{/other_user}", "gists_url": "https://api.github.com/users/thoren-d/gists{/gist_id}", "starred_url": "https://api.github.com/users/thoren-d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thoren-d/subscriptions", "organizations_url": "https://api.github.com/users/thoren-d/orgs", "repos_url": "https://api.github.com/users/thoren-d/repos", "events_url": "https://api.github.com/users/thoren-d/events{/privacy}", "received_events_url": "https://api.github.com/users/thoren-d/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-13T18:42:21Z", "updated_at": "2022-08-15T22:59:06Z", "closed_at": "2022-08-15T21:25:59Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2275", "html_url": "https://github.com/tokio-rs/tracing/pull/2275", "diff_url": "https://github.com/tokio-rs/tracing/pull/2275.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2275.patch", "merged_at": "2022-08-15T21:25:59Z"}, "body": "This PR is my response to\r\n\r\n> if you're the maintainer of a tracing ecosystem crate not in this list, please let us know!\r\n\r\nI have such a crate, `tracing-chrome`, which writes traces in the format used by `chrome://tracing`, which makes for a handy trace viewer that I usually already have installed.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2275/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2273", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2273/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2273/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2273/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2273", "id": 1336501808, "node_id": "PR_kwDOCdoc1849DhOb", "number": 2273, "title": "Update tracing-subscriber version in README", "user": {"login": "hobofan", "id": 601283, "node_id": "MDQ6VXNlcjYwMTI4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/601283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobofan", "html_url": "https://github.com/hobofan", "followers_url": "https://api.github.com/users/hobofan/followers", "following_url": "https://api.github.com/users/hobofan/following{/other_user}", "gists_url": "https://api.github.com/users/hobofan/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobofan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobofan/subscriptions", "organizations_url": "https://api.github.com/users/hobofan/orgs", "repos_url": "https://api.github.com/users/hobofan/repos", "events_url": "https://api.github.com/users/hobofan/events{/privacy}", "received_events_url": "https://api.github.com/users/hobofan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-11T21:17:45Z", "updated_at": "2022-08-15T22:59:27Z", "closed_at": "2022-08-15T21:53:32Z", "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2273", "html_url": "https://github.com/tokio-rs/tracing/pull/2273", "diff_url": "https://github.com/tokio-rs/tracing/pull/2273.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2273.patch", "merged_at": "2022-08-15T21:53:32Z"}, "body": "`tracing-subscriber` has been on `0.3` for almost a year now.\r\n\r\nI naively copied the versions from the README, and when trying to use the library with the current versions of e.g. `tracing-opentelemetry`, I ran into the same error message as seen in this issue: https://github.com/tokio-rs/tracing/issues/852", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2273/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2271", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2271/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2271/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2271/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2271", "id": 1332886679, "node_id": "PR_kwDOCdoc18483iZu", "number": 2271, "title": "add must_use for CollectorBuilder::finish", "user": {"login": "kartva", "id": 51814158, "node_id": "MDQ6VXNlcjUxODE0MTU4", "avatar_url": "https://avatars.githubusercontent.com/u/51814158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kartva", "html_url": "https://github.com/kartva", "followers_url": "https://api.github.com/users/kartva/followers", "following_url": "https://api.github.com/users/kartva/following{/other_user}", "gists_url": "https://api.github.com/users/kartva/gists{/gist_id}", "starred_url": "https://api.github.com/users/kartva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kartva/subscriptions", "organizations_url": "https://api.github.com/users/kartva/orgs", "repos_url": "https://api.github.com/users/kartva/repos", "events_url": "https://api.github.com/users/kartva/events{/privacy}", "received_events_url": "https://api.github.com/users/kartva/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-09T08:14:40Z", "updated_at": "2022-08-10T23:54:37Z", "closed_at": "2022-08-10T23:54:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2271", "html_url": "https://github.com/tokio-rs/tracing/pull/2271", "diff_url": "https://github.com/tokio-rs/tracing/pull/2271.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2271.patch", "merged_at": "2022-08-10T23:54:37Z"}, "body": "<!--\nThank you for your Pull Request. Please provide a description above and review\nthe requirements below.\n\nBug fixes and new features should include tests.\n\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\n-->\n\n## Motivation\n\n<!--\nExplain the context and why you're making that change. What is the problem\nyou're trying to solve? If a new feature is being added, describe the intended\nuse case that feature fulfills.\n-->\n\nFollow up to #2239\nDiscovered that \n\n```rust\n    tracing_subscriber::fmt().with_ansi(false).finish();\n    tracing::info!(\"hello\");\n```\ndoesn't actually do anything, because `finish` returns a `Collector` and `init` is the thing that actually installs the collector.\n\n## Solution\n\n<!--\nSummarize the solution and provide any necessary context needed to understand\nthe code change.\n-->\n\nAdded `#[must_use]` which suggests using `try_init` instead.\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2271/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2270", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2270/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2270/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2270/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2270", "id": 1332459062, "node_id": "PR_kwDOCdoc18482Gg9", "number": 2270, "title": "Add fake return to improve span on type error in `tracing::instrument`", "user": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2022-08-08T22:14:43Z", "updated_at": "2022-10-18T19:16:21Z", "closed_at": "2022-08-19T23:00:56Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2270", "html_url": "https://github.com/tokio-rs/tracing/pull/2270", "diff_url": "https://github.com/tokio-rs/tracing/pull/2270.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2270.patch", "merged_at": "2022-08-19T23:00:56Z"}, "body": "## Motivation\r\n\r\nReturn type errors on instrumented async functions are a bit vague, since the type error originates within the macro itself due to the indirection of additional `async {}` blocks generated in the proc-macro (and due to the way that inference propagates around in Rust). \r\n\r\nThis leads to a pretty difficult to understand error. For example:\r\n\r\n```rust\r\n#[instrument]\r\nasync fn foo() -> String {\r\n  \"\"\r\n}\r\n```\r\n\r\nresults in...\r\n\r\n```\r\nerror[E0308]: mismatched types\r\n --> src/main.rs:1:1\r\n  |\r\n1 | #[tracing::instrument]\r\n  | ^^^^^^^^^^^^^^^^^^^^^^- help: try using a conversion method: `.to_string()`\r\n  | |\r\n  | expected struct `String`, found `&str`\r\n```\r\n\r\n## Solution\r\n\r\nInstalls a fake `return` statement as the first thing that happens in the auto-generated block of an instrumented async function. \r\n\r\nThis causes the coercion machinery within rustc to infer the right return type (matching the the outer function) eagerly, as opposed to after the `async {}` block has been type-checked. \r\n\r\nThis will cause us to both be able to point out the return type span correctly, and properly suggest fixes on the expressions that cause the type mismatch. \r\n\r\nAfter this change, the example code above compiles to:\r\n\r\n```\r\nerror[E0308]: mismatched types\r\n  --> src/main.rs:3:5\r\n   |\r\n3  |     \"\"\r\n   |     ^^- help: try using a conversion method: `.to_string()`\r\n   |     |\r\n   |     expected struct `String`, found `&str`\r\n   |\r\nnote: return type inferred to be `String` here\r\n  --> src/main.rs:2:20\r\n   |\r\n2  | async fn foo() -> String {\r\n   |                   ^^^^^^\r\n```", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2270/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2270/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2269", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2269/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2269/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2269/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2269", "id": 1332410016, "node_id": "PR_kwDOCdoc184817v0", "number": 2269, "title": "tracing-core, tracing-subscriber: Add `{Collect,Subscriber}::on_register_dispatch`", "user": {"login": "jswrenn", "id": 3820879, "node_id": "MDQ6VXNlcjM4MjA4Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3820879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jswrenn", "html_url": "https://github.com/jswrenn", "followers_url": "https://api.github.com/users/jswrenn/followers", "following_url": "https://api.github.com/users/jswrenn/following{/other_user}", "gists_url": "https://api.github.com/users/jswrenn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jswrenn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jswrenn/subscriptions", "organizations_url": "https://api.github.com/users/jswrenn/orgs", "repos_url": "https://api.github.com/users/jswrenn/repos", "events_url": "https://api.github.com/users/jswrenn/events{/privacy}", "received_events_url": "https://api.github.com/users/jswrenn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-08-08T21:19:17Z", "updated_at": "2022-08-23T16:54:12Z", "closed_at": "2022-08-23T16:54:12Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2269", "html_url": "https://github.com/tokio-rs/tracing/pull/2269", "diff_url": "https://github.com/tokio-rs/tracing/pull/2269.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2269.patch", "merged_at": "2022-08-23T16:54:12Z"}, "body": "The `on_register_dispatch` method is invoked when a `Collect` is registered as a `Dispatch`. This method can be overridden to perform actions upon the installation of a collector/subscriber; for instance, to send a copy of the collector's `Dispatch` to a worker thread.\r\n\r\nUnresolved questions:\r\n- [ ] Is the signature of `on_register_dispatch` correct?\r\n  - Should it take `&self`, or `&mut self`?\r\n  - Should it take `&self`, or _only_ the `&Dispatch` parameter (which can then, if desired, be downcasted to `&self`)? ", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2269/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2260", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2260/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2260/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2260/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2260", "id": 1327094958, "node_id": "PR_kwDOCdoc1848kgZx", "number": 2260, "title": "Correct grammar in README", "user": {"login": "kellytk", "id": 6405109, "node_id": "MDQ6VXNlcjY0MDUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6405109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kellytk", "html_url": "https://github.com/kellytk", "followers_url": "https://api.github.com/users/kellytk/followers", "following_url": "https://api.github.com/users/kellytk/following{/other_user}", "gists_url": "https://api.github.com/users/kellytk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kellytk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kellytk/subscriptions", "organizations_url": "https://api.github.com/users/kellytk/orgs", "repos_url": "https://api.github.com/users/kellytk/repos", "events_url": "https://api.github.com/users/kellytk/events{/privacy}", "received_events_url": "https://api.github.com/users/kellytk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-03T11:43:38Z", "updated_at": "2022-08-18T23:56:45Z", "closed_at": "2022-08-15T23:12:01Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2260", "html_url": "https://github.com/tokio-rs/tracing/pull/2260", "diff_url": "https://github.com/tokio-rs/tracing/pull/2260.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2260.patch", "merged_at": "2022-08-15T23:12:01Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2260/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2259", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2259/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2259/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2259/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2259", "id": 1326568203, "node_id": "PR_kwDOCdoc1848iwGz", "number": 2259, "title": "core: update ValueSet and FieldSet to use Valuable", "user": {"login": "bryangarza", "id": 1396101, "node_id": "MDQ6VXNlcjEzOTYxMDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1396101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryangarza", "html_url": "https://github.com/bryangarza", "followers_url": "https://api.github.com/users/bryangarza/followers", "following_url": "https://api.github.com/users/bryangarza/following{/other_user}", "gists_url": "https://api.github.com/users/bryangarza/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryangarza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryangarza/subscriptions", "organizations_url": "https://api.github.com/users/bryangarza/orgs", "repos_url": "https://api.github.com/users/bryangarza/repos", "events_url": "https://api.github.com/users/bryangarza/events{/privacy}", "received_events_url": "https://api.github.com/users/bryangarza/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-08-03T01:32:17Z", "updated_at": "2022-08-17T18:32:44Z", "closed_at": "2022-08-16T21:42:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2259", "html_url": "https://github.com/tokio-rs/tracing/pull/2259", "diff_url": "https://github.com/tokio-rs/tracing/pull/2259.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2259.patch", "merged_at": "2022-08-16T21:42:21Z"}, "body": "## Motivation\r\n\r\nTo release `tracing 0.2` from `master`, we need to stabilize `tracing-core`. That includes introducing `valuable`.\r\n\r\n## Solution\r\n\r\nIntegrate `valuable` types into the `ValueSet` and `FieldSet` structs. Follow-up PRs will clean up and remove more code.\r\n\r\n## Notes\r\n\r\nThis is for `tracing-core` only, we'll have separate PRs for the rest of the `tracing` crates, once this is merged. Eventually, the `valuable` branch will itself go into `master`.\r\n\r\nAlso, this won't pass CI because the rest of the codebase has to be updated.\r\n\r\nDepends on: https://github.com/tokio-rs/valuable/pull/99", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2259/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2257", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2257/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2257/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2257/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2257", "id": 1322659217, "node_id": "PR_kwDOCdoc1848Vv2e", "number": 2257, "title": "tracing: prepare to release v0.1.36", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-29T20:39:35Z", "updated_at": "2022-07-29T21:17:48Z", "closed_at": "2022-07-29T21:17:47Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2257", "html_url": "https://github.com/tokio-rs/tracing/pull/2257", "diff_url": "https://github.com/tokio-rs/tracing/pull/2257.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2257.patch", "merged_at": "2022-07-29T21:17:47Z"}, "body": "# 0.1.36 (July 29, 2022)\r\n\r\nThis release adds support for owned values and fat pointers as arguments\r\nto the `Span::record` method, as well as updating the minimum\r\n`tracing-core` version and several documentation improvements.\r\n\r\n### Fixed\r\n\r\n- Incorrect docs in `dispatcher::set_default` ([#2220])\r\n- Compilation with `-Z minimal-versions` ([#2246])\r\n\r\n### Added\r\n\r\n- Support for owned values and fat pointers in `Span::record` ([#2212])\r\n- Documentation improvements ([#2208], [#2163])\r\n\r\n### Changed\r\n\r\n- `tracing-core`: updated to [0.1.29][core-0.1.29]\r\n\r\nThanks to @fredr, @cgbur, @jyn514, @matklad, and @CAD97 for contributing\r\nto this release!\r\n\r\n[core-0.1.29]: https://github.com/tokio-rs/tracing/releases/tag/tracing-core-0.1.29\r\n[#2220]: https://github.com/tokio-rs/tracing/pull/2220\r\n[#2246]: https://github.com/tokio-rs/tracing/pull/2246\r\n[#2212]: https://github.com/tokio-rs/tracing/pull/2212\r\n[#2208]: https://github.com/tokio-rs/tracing/pull/2208\r\n[#2163]: https://github.com/tokio-rs/tracing/pull/2163", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2257/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2256", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2256/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2256/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2256/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2256", "id": 1322604212, "node_id": "PR_kwDOCdoc1848VkFD", "number": 2256, "title": "core: prepare to release v0.1.29", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-29T19:25:26Z", "updated_at": "2022-07-29T19:45:10Z", "closed_at": "2022-07-29T19:45:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2256", "html_url": "https://github.com/tokio-rs/tracing/pull/2256", "diff_url": "https://github.com/tokio-rs/tracing/pull/2256.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2256.patch", "merged_at": "2022-07-29T19:45:10Z"}, "body": "# 0.1.29 (July 29, 2022)\r\n\r\nThis release of `tracing-core` adds `PartialEq` and `Eq` implementations\r\nfor metadata types, and improves error messages when setting the global\r\ndefault subscriber fails.\r\n\r\n### Added\r\n\r\n- `PartialEq` and `Eq` implementations for `Metadata` ([#2229])\r\n- `PartialEq` and `Eq` implementations for `FieldSet` ([#2229])\r\n\r\n### Fixed\r\n\r\n- Fixed unhelpful `fmt::Debug` output for\r\n  `dispatcher::SetGlobalDefaultError` ([#2250])\r\n- Fixed compilation with `-Z minimal-versions` ([#2246])\r\n\r\nThanks to @jswrenn and @CAD97 for contributing to this release!\r\n\r\n[#2229]: https://github.com/tokio-rs/tracing/pull/2229\r\n[#2246]: https://github.com/tokio-rs/tracing/pull/2246\r\n[#2250]: https://github.com/tokio-rs/tracing/pull/2250\r\n\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2256/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2255", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2255/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2255/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2255/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2255", "id": 1321607006, "node_id": "PR_kwDOCdoc1848SQc5", "number": 2255, "title": "backport a bunch of stuff", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-29T00:02:59Z", "updated_at": "2022-07-29T00:13:56Z", "closed_at": "2022-07-29T00:13:54Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2255", "html_url": "https://github.com/tokio-rs/tracing/pull/2255", "diff_url": "https://github.com/tokio-rs/tracing/pull/2255.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2255.patch", "merged_at": "2022-07-29T00:13:54Z"}, "body": "* 9f8c020f subscriber: clarify `filter.not()` docs w.r.t. event_enabled (#2251)\r\n* 5dd00487 core: give `SetGlobalDefaultError` a useful `Debug` impl (#2250)\r\n* 403d506c subscriber: `Not` is `not`, not `or` (#2249)\r\n* f0663e81 subscriber: add `Filter::event_enabled` (#2245)\r\n* 1dbd6689 serde: implement `AsSerde` for `FieldSet` (#2241)\r\n* 64f20f97 subscriber: impl `LookupSpan` for `Box<LS>` and `Arc<LS>` (#2247)\r\n* dc6c1813 subscriber: add `Targets::default_level` method (#2242)\r\n* 63914b6e opentelemetry: feature-flag `MetricsLayer` (#2234)\r\n* 9099a696 opentelemetry: support publishing metrics (#2185)\r\n* af5a800a subscriber: mark builders as must_use (#2239)\r\n* 1f9dad1b appender: add `Builder::filename_suffix` parameter (#2225)****", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2255/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2251", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2251/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2251/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2251/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2251", "id": 1320147700, "node_id": "PR_kwDOCdoc1848NZ7o", "number": 2251, "title": "Clarify `filter.not()` w.r.t. event_enabled", "user": {"login": "CAD97", "id": 5992217, "node_id": "MDQ6VXNlcjU5OTIyMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5992217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CAD97", "html_url": "https://github.com/CAD97", "followers_url": "https://api.github.com/users/CAD97/followers", "following_url": "https://api.github.com/users/CAD97/following{/other_user}", "gists_url": "https://api.github.com/users/CAD97/gists{/gist_id}", "starred_url": "https://api.github.com/users/CAD97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CAD97/subscriptions", "organizations_url": "https://api.github.com/users/CAD97/orgs", "repos_url": "https://api.github.com/users/CAD97/repos", "events_url": "https://api.github.com/users/CAD97/events{/privacy}", "received_events_url": "https://api.github.com/users/CAD97/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-27T21:38:53Z", "updated_at": "2022-07-29T00:14:21Z", "closed_at": "2022-07-28T21:50:41Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2251", "html_url": "https://github.com/tokio-rs/tracing/pull/2251", "diff_url": "https://github.com/tokio-rs/tracing/pull/2251.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2251.patch", "merged_at": "2022-07-28T21:50:41Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\n## Motivation\r\n\r\nI'm not completely happy with the explanation as-is.\r\n\r\n## Solution\r\n\r\nTry clarifying both the what and the why.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2251/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2250", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2250/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2250/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2250/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2250", "id": 1320101905, "node_id": "PR_kwDOCdoc1848NQPy", "number": 2250, "title": "core: give `SetGlobalDefaultError` a useful `Debug` impl", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-27T20:43:12Z", "updated_at": "2022-07-27T21:52:54Z", "closed_at": "2022-07-27T21:52:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2250", "html_url": "https://github.com/tokio-rs/tracing/pull/2250", "diff_url": "https://github.com/tokio-rs/tracing/pull/2250.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2250.patch", "merged_at": "2022-07-27T21:52:53Z"}, "body": "## Motivation\r\n\r\nWhen a global default dispatcher has already been set, the\r\n`dispatch::set_global_default` function fails with a\r\n`SetGlobalDefaultError`. The `fmt::Display` impl for this type includes\r\na message explaining that the error indicates that a global default has\r\nalready been set, but the `fmt::Debug` impl is derived, and just looks\r\nlike this:\r\n```\r\nSetGlobalDefaultError { _no_construct: () }\r\n```\r\nwhich isn't particularly helpful.\r\n\r\nUnfortunately, when `unwrap()`ping or `expect()`ing a `Result`, the\r\n`fmt::Debug` implementation for the error type is used, rather than\r\n`fmt::Display`. This means that the error message will not explain to\r\nthe user why setting the global default dispatcher failed, which is a\r\nbummer.\r\n\r\n## Solution\r\n\r\nThis branch replaces the derived `Debug` impl with a manually\r\nimplemented one that prints the same message as the `Display` impl, but\r\nformatted like a tuple struct with a single string field. This avoids\r\nemitting `Debug` output that's *just* a textual human-readable message,\r\nrather than looking like Rust code, but ensures the message is visible\r\nto the user when writing code like\r\n```rust\r\ntracing::dispatch::set_global_default(foo).unwrap();\r\n```\r\n\r\nThe mesasge now looks like:\r\n```\r\nSetGlobalDefaultError(\"a global default trace dispatcher has already been set\")\r\n```\r\nwhich should be a bit easier to debug.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2250/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2249", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2249/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2249/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2249/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2249", "id": 1320081443, "node_id": "PR_kwDOCdoc1848NL3J", "number": 2249, "title": "`Not` is `not`, not `or`", "user": {"login": "CAD97", "id": 5992217, "node_id": "MDQ6VXNlcjU5OTIyMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5992217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CAD97", "html_url": "https://github.com/CAD97", "followers_url": "https://api.github.com/users/CAD97/followers", "following_url": "https://api.github.com/users/CAD97/following{/other_user}", "gists_url": "https://api.github.com/users/CAD97/gists{/gist_id}", "starred_url": "https://api.github.com/users/CAD97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CAD97/subscriptions", "organizations_url": "https://api.github.com/users/CAD97/orgs", "repos_url": "https://api.github.com/users/CAD97/repos", "events_url": "https://api.github.com/users/CAD97/events{/privacy}", "received_events_url": "https://api.github.com/users/CAD97/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-27T20:20:13Z", "updated_at": "2022-07-27T20:50:57Z", "closed_at": "2022-07-27T20:46:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2249", "html_url": "https://github.com/tokio-rs/tracing/pull/2249", "diff_url": "https://github.com/tokio-rs/tracing/pull/2249.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2249.patch", "merged_at": "2022-07-27T20:46:11Z"}, "body": "## Motivation\r\n\r\nDoc typo.\r\n\r\n## Solution\r\n\r\nFix.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2249/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2247", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2247/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2247/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2247/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2247", "id": 1318785474, "node_id": "PR_kwDOCdoc1848JAJ9", "number": 2247, "title": "tracing-subscriber: impl `LookupSpan` for `Box<LS>` and `Arc<LS>`", "user": {"login": "jswrenn", "id": 3820879, "node_id": "MDQ6VXNlcjM4MjA4Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3820879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jswrenn", "html_url": "https://github.com/jswrenn", "followers_url": "https://api.github.com/users/jswrenn/followers", "following_url": "https://api.github.com/users/jswrenn/following{/other_user}", "gists_url": "https://api.github.com/users/jswrenn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jswrenn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jswrenn/subscriptions", "organizations_url": "https://api.github.com/users/jswrenn/orgs", "repos_url": "https://api.github.com/users/jswrenn/repos", "events_url": "https://api.github.com/users/jswrenn/events{/privacy}", "received_events_url": "https://api.github.com/users/jswrenn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-26T21:48:19Z", "updated_at": "2022-07-29T20:31:29Z", "closed_at": "2022-07-26T22:24:02Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2247", "html_url": "https://github.com/tokio-rs/tracing/pull/2247", "diff_url": "https://github.com/tokio-rs/tracing/pull/2247.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2247.patch", "merged_at": "2022-07-26T22:24:02Z"}, "body": "These implementations mirror those provided by tracing-core for `Collect` on `Box<C>` and `Arc<C>`.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2247/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2246", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2246/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2246/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2246/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2246", "id": 1318485027, "node_id": "PR_kwDOCdoc1848IArC", "number": 2246, "title": "fix minimal-versions correctness (v0.1.x)", "user": {"login": "CAD97", "id": 5992217, "node_id": "MDQ6VXNlcjU5OTIyMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5992217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CAD97", "html_url": "https://github.com/CAD97", "followers_url": "https://api.github.com/users/CAD97/followers", "following_url": "https://api.github.com/users/CAD97/following{/other_user}", "gists_url": "https://api.github.com/users/CAD97/gists{/gist_id}", "starred_url": "https://api.github.com/users/CAD97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CAD97/subscriptions", "organizations_url": "https://api.github.com/users/CAD97/orgs", "repos_url": "https://api.github.com/users/CAD97/repos", "events_url": "https://api.github.com/users/CAD97/events{/privacy}", "received_events_url": "https://api.github.com/users/CAD97/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-26T16:23:55Z", "updated_at": "2022-07-26T23:32:51Z", "closed_at": "2022-07-26T22:27:58Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2246", "html_url": "https://github.com/tokio-rs/tracing/pull/2246", "diff_url": "https://github.com/tokio-rs/tracing/pull/2246.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2246.patch", "merged_at": "2022-07-26T22:27:58Z"}, "body": "Essentially a cherry-pick of #2231, but redone by hand.\r\n\r\n## Tests\r\n\r\n- `cargo minimal-versions msrv verify -- cargo check --all-features`\r\n- `cargo minimal-versions msrv verify -- cargo check --no-default-features`\r\n\r\n## Methodology\r\n\r\n- `cargo update && cargo upgrade --to-lockfile`\r\n  - Identify [a bug](https://github.com/killercup/cargo-edit/issues/750) and manually resolve it\r\n- loop; upgrade transitive deps\r\n  - `cargo minimal-versions check --all-features`\r\n  - Identify failing dep\r\n  - `cargo minimal-versions tree -i dep --all-features`\r\n  - Find the closest dependency leading to pulling in `dep`\r\n  - `cargo add fixdep --optional` to force a more recent more-minimal-versions-correct version\r\n- loop; downgrade to msrv\r\n  - `cargo minimal-versions msrv verify -- cargo check --all-features`\r\n  - Identify failing dep\r\n  - `cargo minimal-versions tree -i dep --all-features`\r\n  - Find the version that supports MSRV from lib.rs\r\n  - `cargo upgrade dep@msrv`", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2246/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2245", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2245/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2245/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2245/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2245", "id": 1317681053, "node_id": "PR_kwDOCdoc1848FWnc", "number": 2245, "title": "Add `Filter::event_enabled`", "user": {"login": "CAD97", "id": 5992217, "node_id": "MDQ6VXNlcjU5OTIyMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5992217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CAD97", "html_url": "https://github.com/CAD97", "followers_url": "https://api.github.com/users/CAD97/followers", "following_url": "https://api.github.com/users/CAD97/following{/other_user}", "gists_url": "https://api.github.com/users/CAD97/gists{/gist_id}", "starred_url": "https://api.github.com/users/CAD97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CAD97/subscriptions", "organizations_url": "https://api.github.com/users/CAD97/orgs", "repos_url": "https://api.github.com/users/CAD97/repos", "events_url": "https://api.github.com/users/CAD97/events{/privacy}", "received_events_url": "https://api.github.com/users/CAD97/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-26T04:29:31Z", "updated_at": "2022-07-27T19:51:48Z", "closed_at": "2022-07-27T19:17:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2245", "html_url": "https://github.com/tokio-rs/tracing/pull/2245", "diff_url": "https://github.com/tokio-rs/tracing/pull/2245.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2245.patch", "merged_at": "2022-07-27T19:17:45Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\nLike for `Collect` and `Subscribe`, allow per-layer `Filter`s to filter based on event fields.\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\nAdd `Filter::event_enabled`, plumb it through the combinator implementations, and call it from `Filtered`.\r\n\r\nThe bit I'm the least confident about is the check in `Registry`'s implementation, but I *think* it matches what `event` is doing and everything seems to function correctly.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2245/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2242", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2242/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2242/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2242/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2242", "id": 1315713061, "node_id": "PR_kwDOCdoc1847_F7e", "number": 2242, "title": "Add a method to `Targets` to get the default level", "user": {"login": "connec", "id": 160652, "node_id": "MDQ6VXNlcjE2MDY1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/160652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/connec", "html_url": "https://github.com/connec", "followers_url": "https://api.github.com/users/connec/followers", "following_url": "https://api.github.com/users/connec/following{/other_user}", "gists_url": "https://api.github.com/users/connec/gists{/gist_id}", "starred_url": "https://api.github.com/users/connec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/connec/subscriptions", "organizations_url": "https://api.github.com/users/connec/orgs", "repos_url": "https://api.github.com/users/connec/repos", "events_url": "https://api.github.com/users/connec/events{/privacy}", "received_events_url": "https://api.github.com/users/connec/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-23T17:56:17Z", "updated_at": "2022-07-25T19:02:41Z", "closed_at": "2022-07-25T17:08:05Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2242", "html_url": "https://github.com/tokio-rs/tracing/pull/2242", "diff_url": "https://github.com/tokio-rs/tracing/pull/2242.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2242.patch", "merged_at": "2022-07-25T17:08:05Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\nThis makes it possible to fully \"override\" some base `Targets` filter with another (e.g. user-supplied) filter. Without some way to obtain the default, only explicit targets can be overridden (via `IntoIter` and friends).\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\nWe can add a method to `Targets` that filters the underlying `DirectiveSet` for the default directive. This works because `DirectiveSet::add` will replace directives with the same `target`/`field_names`, which is always `None`/`vec![]` for the directive added by `with_default` (and in fact we are only concerned with `target`, since no other `Targets` API allows adding directives with a `None` target).\r\n\r\nIdeally the method would be named `default`, corresponding to `with_default`, however this conflicts with `Default::default` and so would be a breaking change (and harm ergonomics). `default_level` seemed a better name than `get_default`, since \"getters\" of this style are generally considered unidiomatic<sup>[citation needed]</sup>.\r\n\r\nExample usage:\r\n\r\n```rust\r\nlet mut filter = Targets::new().with_target(\"some_module\", LevelFilter::INFO);\r\n\r\n// imagine this came from `RUST_LOG` or similar\r\nlet override: Targets = \"trace\".parse().unwrap();\r\n\r\n// merge the override\r\nif let Some(default) = override.default_level() {\r\n    filter = filter.with_default(default);\r\n}\r\nfor (target, level) in override.iter() {\r\n    filter = filter.with_target(target, level);\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2242/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2241", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2241/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2241/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2241/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2241", "id": 1315696448, "node_id": "PR_kwDOCdoc1847_CxW", "number": 2241, "title": "Make FieldSet implement AsSerde", "user": {"login": "iliakonnov", "id": 9402179, "node_id": "MDQ6VXNlcjk0MDIxNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/9402179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliakonnov", "html_url": "https://github.com/iliakonnov", "followers_url": "https://api.github.com/users/iliakonnov/followers", "following_url": "https://api.github.com/users/iliakonnov/following{/other_user}", "gists_url": "https://api.github.com/users/iliakonnov/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliakonnov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliakonnov/subscriptions", "organizations_url": "https://api.github.com/users/iliakonnov/orgs", "repos_url": "https://api.github.com/users/iliakonnov/repos", "events_url": "https://api.github.com/users/iliakonnov/events{/privacy}", "received_events_url": "https://api.github.com/users/iliakonnov/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-23T16:28:26Z", "updated_at": "2022-07-26T23:02:45Z", "closed_at": "2022-07-26T23:02:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2241", "html_url": "https://github.com/tokio-rs/tracing/pull/2241", "diff_url": "https://github.com/tokio-rs/tracing/pull/2241.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2241.patch", "merged_at": "2022-07-26T23:02:45Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\nI've wanted to serialize fieldset of current span.\r\n\r\n## Solution\r\n\r\nExpose already existing `SerializeFieldSet` for users by implementing `AsSerde` for `FieldSet`.\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2241/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2239", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2239/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2239/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2239/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2239", "id": 1313507420, "node_id": "PR_kwDOCdoc18473jk9", "number": 2239, "title": "feat: mark builders as must_use", "user": {"login": "kartva", "id": 51814158, "node_id": "MDQ6VXNlcjUxODE0MTU4", "avatar_url": "https://avatars.githubusercontent.com/u/51814158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kartva", "html_url": "https://github.com/kartva", "followers_url": "https://api.github.com/users/kartva/followers", "following_url": "https://api.github.com/users/kartva/following{/other_user}", "gists_url": "https://api.github.com/users/kartva/gists{/gist_id}", "starred_url": "https://api.github.com/users/kartva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kartva/subscriptions", "organizations_url": "https://api.github.com/users/kartva/orgs", "repos_url": "https://api.github.com/users/kartva/repos", "events_url": "https://api.github.com/users/kartva/events{/privacy}", "received_events_url": "https://api.github.com/users/kartva/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-21T16:21:23Z", "updated_at": "2022-07-21T18:38:11Z", "closed_at": "2022-07-21T18:38:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2239", "html_url": "https://github.com/tokio-rs/tracing/pull/2239", "diff_url": "https://github.com/tokio-rs/tracing/pull/2239.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2239.patch", "merged_at": "2022-07-21T18:38:11Z"}, "body": "<!--\nThank you for your Pull Request. Please provide a description above and review\nthe requirements below.\n\nBug fixes and new features should include tests.\n\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\n-->\n\n## Motivation\n\n<!--\nExplain the context and why you're making that change. What is the problem\nyou're trying to solve? If a new feature is being added, describe the intended\nuse case that feature fulfills.\n-->\n\nBuilders not marked `#[must_use]` can not be initialized sometimes, causing silent failures.\nEg.\n```rust\nfn main() {\n    tracing_subscriber::fmt();\n    tracing::info!(\"hello\");\n}\n```\nwon't print anything.\n\n## Solution\n\n<!--\nSummarize the solution and provide any necessary context needed to understand\nthe code change.\n-->\n\nAdded `#[must_use]` to builder types in the tracing-subscriber crate.\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2239/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2238", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2238/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2238/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2238/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2238", "id": 1311803107, "node_id": "PR_kwDOCdoc1847xkmr", "number": 2238, "title": "Refactor CI msrv & minver checks", "user": {"login": "CAD97", "id": 5992217, "node_id": "MDQ6VXNlcjU5OTIyMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5992217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CAD97", "html_url": "https://github.com/CAD97", "followers_url": "https://api.github.com/users/CAD97/followers", "following_url": "https://api.github.com/users/CAD97/following{/other_user}", "gists_url": "https://api.github.com/users/CAD97/gists{/gist_id}", "starred_url": "https://api.github.com/users/CAD97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CAD97/subscriptions", "organizations_url": "https://api.github.com/users/CAD97/orgs", "repos_url": "https://api.github.com/users/CAD97/repos", "events_url": "https://api.github.com/users/CAD97/events{/privacy}", "received_events_url": "https://api.github.com/users/CAD97/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-07-20T19:53:44Z", "updated_at": "2022-07-27T23:44:46Z", "closed_at": "2022-07-27T23:23:15Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2238", "html_url": "https://github.com/tokio-rs/tracing/pull/2238", "diff_url": "https://github.com/tokio-rs/tracing/pull/2238.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2238.patch", "merged_at": "2022-07-27T23:23:15Z"}, "body": "## Motivation\r\n\r\nTest msrv and minimal-versions compliance in the currently best-known fashion.\r\n\r\n## Solution\r\n\r\n- Use cargo-hack and cargo-minimal-versions\r\n- Also I replaced uses of actions-rs (abandoned) while I was passing by", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2238/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2237", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2237/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2237/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2237/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2237", "id": 1311733132, "node_id": "PR_kwDOCdoc1847xUq8", "number": 2237, "title": "subscriber: prepare to release v0.3.15", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-20T19:11:50Z", "updated_at": "2022-07-20T19:36:22Z", "closed_at": "2022-07-20T19:36:21Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2237", "html_url": "https://github.com/tokio-rs/tracing/pull/2237", "diff_url": "https://github.com/tokio-rs/tracing/pull/2237.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2237.patch", "merged_at": "2022-07-20T19:36:21Z"}, "body": "# 0.3.15 (Jul 20, 2022)\r\n\r\nThis release fixes a bug where the `reload` layer would fail to pass\r\nthrough  `max_level_hint` to the underlying layer, potentially breaking\r\nfiltering.\r\n\r\n### Fixed\r\n\r\n- **reload**: pass through `max_level_hint` to the inner `Layer`\r\n  ([#2204])\r\n\r\nThanks to @guswynn for contributing to this release!\r\n\r\n[#2204]: https://github.com/tokio-rs/tracing/pull/2204", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2237/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2234", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2234/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2234/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2234/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2234", "id": 1311640236, "node_id": "PR_kwDOCdoc1847w_fh", "number": 2234, "title": "opentelemetry: feature-flag `MetricsSubscriber`", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2083026338, "node_id": "MDU6TGFiZWwyMDgzMDI2MzM4", "url": "https://api.github.com/repos/tokio-rs/tracing/labels/crate/opentelemetry", "name": "crate/opentelemetry", "color": "2de595", "default": false, "description": "Related to the `tracing-opentelemetry` crate."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-20T18:14:35Z", "updated_at": "2022-09-18T17:07:23Z", "closed_at": "2022-07-21T22:46:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2234", "html_url": "https://github.com/tokio-rs/tracing/pull/2234", "diff_url": "https://github.com/tokio-rs/tracing/pull/2234.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2234.patch", "merged_at": "2022-07-21T22:46:13Z"}, "body": "In the upstream `opentelemetry` crate, the `trace` and `metrics`\r\nfeatures are gated by separate feature flags. This allows users who are\r\nonly using OpenTelemetry for tracing, or who are only using it for\r\nmetrics, to pick and choose what they depend on.\r\n\r\nCurrently, the release version of `tracing-opentelemetry` only provides\r\ntracing functionality, and therefore, it only depends on `opentelemetry`\r\nwith the `trace` feature enabled. However, the metrics support added in\r\n#2185 adds a dependency on the `opentelemetry/metrics` feature. This is\r\ncurrently always enabled. We should probably follow the same approach as\r\nupstream `opentelemetry`, and allow enabling/disabling metrics and\r\ntracing separately.\r\n\r\nThis branch adds a `metrics` feature to `tracing-opentelemetry`, and\r\nmakes the `MetricsSubscriber` from #2185 gated on the `metrics` feature.\r\nThis feature flag is on by default, like the upstream\r\n`opentelemetry/metrics` feature, but it can be disabled using\r\n`default-features = false`.\r\n\r\nWe should probably do something similar for the tracing components of\r\nthe crate, and make them gated on a `trace` feature flag, but adding a\r\nfeature flag to released APIs is not semver-compatible, so we should\r\nsave that until the next breaking release.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2234/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2233", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2233/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2233/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2233/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2233", "id": 1311607153, "node_id": "PR_kwDOCdoc1847w393", "number": 2233, "title": "backport commits from `master` to v0.1.x", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-20T17:54:39Z", "updated_at": "2022-07-20T19:00:00Z", "closed_at": "2022-07-20T18:59:59Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2233", "html_url": "https://github.com/tokio-rs/tracing/pull/2233", "diff_url": "https://github.com/tokio-rs/tracing/pull/2233.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2233.patch", "merged_at": "2022-07-20T18:59:59Z"}, "body": "This backports the following commits from `master` to `v0.1.x`:\r\n\r\n* cf3ab0e2 core: implement `PartialEq`, `Eq` for `Metadata`, `FieldSet` (#2229)\r\n* 7f70dc6d appender: add a builder for constructing `RollingFileAppender`s (#2227)\r\n* 9b9e6a55 core: remove misleading dispatcher docs (#2220)\r\n* b2501d5b tracing: allow owned values and fat pointers in `Span::record` (#2212)\r\n* 2c39b609 appender: name spawned thread (#2219)\r\n* c09a660d docs: remove hard coded version link from readme (#2208)\r\n* 7f90b545 chore(ci): update actions/checkout action to v3 (#2213)\r\n* e73747fe subscriber: pass through `max_level_hint` in `reload` (#2204)", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2233/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2231", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2231/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2231/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2231/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2231", "id": 1310393682, "node_id": "PR_kwDOCdoc1847sppp", "number": 2231, "title": "Fix minimal-versions", "user": {"login": "CAD97", "id": 5992217, "node_id": "MDQ6VXNlcjU5OTIyMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5992217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CAD97", "html_url": "https://github.com/CAD97", "followers_url": "https://api.github.com/users/CAD97/followers", "following_url": "https://api.github.com/users/CAD97/following{/other_user}", "gists_url": "https://api.github.com/users/CAD97/gists{/gist_id}", "starred_url": "https://api.github.com/users/CAD97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CAD97/subscriptions", "organizations_url": "https://api.github.com/users/CAD97/orgs", "repos_url": "https://api.github.com/users/CAD97/repos", "events_url": "https://api.github.com/users/CAD97/events{/privacy}", "received_events_url": "https://api.github.com/users/CAD97/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-07-20T04:00:58Z", "updated_at": "2022-07-20T18:25:11Z", "closed_at": "2022-07-20T18:19:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2231", "html_url": "https://github.com/tokio-rs/tracing/pull/2231", "diff_url": "https://github.com/tokio-rs/tracing/pull/2231.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2231.patch", "merged_at": "2022-07-20T18:19:39Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\nFix minimal-versions failure.\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\n## Solution\r\n\r\nUpgrade all the dependencies to their most recent semver-compatible version, adjusting back down as necessary for MSRV.\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\n## Context\r\n\r\n[cargo-minimal-versions](https://lib.rs/crates/cargo-minimal-versions) is wonderful. With this PR, the full repo passes under all of\r\n\r\n- `cargo hack --workspace minimal-versions check --all-features`\r\n- `cargo +1.49 hack --workspace --exclude tracing-appender minimal-versions check --all-features`\r\n- `cargo +1.53 hack -p tracing-appender minimal-versions check --all-features`\r\n- All of CI \ud83d\ude07", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2229", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2229/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2229/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2229/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2229", "id": 1309717176, "node_id": "PR_kwDOCdoc1847qU5E", "number": 2229, "title": "tracing-core: implement `PartialEq`, `Eq` for `Metadata`, `FieldSet`", "user": {"login": "jswrenn", "id": 3820879, "node_id": "MDQ6VXNlcjM4MjA4Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3820879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jswrenn", "html_url": "https://github.com/jswrenn", "followers_url": "https://api.github.com/users/jswrenn/followers", "following_url": "https://api.github.com/users/jswrenn/following{/other_user}", "gists_url": "https://api.github.com/users/jswrenn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jswrenn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jswrenn/subscriptions", "organizations_url": "https://api.github.com/users/jswrenn/orgs", "repos_url": "https://api.github.com/users/jswrenn/repos", "events_url": "https://api.github.com/users/jswrenn/events{/privacy}", "received_events_url": "https://api.github.com/users/jswrenn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-19T15:45:34Z", "updated_at": "2022-07-19T22:37:00Z", "closed_at": "2022-07-19T22:37:00Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2229", "html_url": "https://github.com/tokio-rs/tracing/pull/2229", "diff_url": "https://github.com/tokio-rs/tracing/pull/2229.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2229.patch", "merged_at": "2022-07-19T22:37:00Z"}, "body": "This change manually re-implements `PartialEq` and `Eq` for\r\n`Metadata` and `FieldSet` to define their equality strictly in\r\nterms of callsite equality. In debug builds, the equality of\r\nthese types' other fields is also checked.\r\n\r\nDocumentation is added to both `Metadata` and `FieldSet`\r\nexplaining this behavior. The expectation that, in a well-behaving\r\napplication, `Metadata`and `FieldSet`s with equal callsites will be\r\notherwise equal is documented on `Callsite::metadata`. This is not\r\na breaking change, as previous releases did not define equality for\r\n`Metadata` or `FieldSet`. The `Callsite` trait remains safe, as this\r\nexpectation is not (yet) a safety-critical property.\r\n\r\nThis change improves the ergonomics of comparing `Metadata`, which\r\nis very useful for testing and user-facing examples.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2229/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2229/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2227", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2227/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2227/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2227/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2227", "id": 1308282896, "node_id": "PR_kwDOCdoc1847lfcl", "number": 2227, "title": "appender: add a builder for constructing `RollingFileAppender`s", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "assignees": [{"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-07-18T17:27:27Z", "updated_at": "2022-07-18T19:21:27Z", "closed_at": "2022-07-18T19:21:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2227", "html_url": "https://github.com/tokio-rs/tracing/pull/2227", "diff_url": "https://github.com/tokio-rs/tracing/pull/2227.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2227.patch", "merged_at": "2022-07-18T19:21:26Z"}, "body": "## Motivation\r\n\r\nSeveral currently open PRs, such as #2225 and #2221, add new\r\nconfiguration parameters to the rolling file appender in\r\n`tracing-appender`. The best way to add new optional configuration\r\nsettings without breaking existing APIs or creating a very large number\r\nof new constructors is to add a builder interface.\r\n\r\n## Solution\r\n\r\nSince a number of PRs would all need to add the builder API, introducing\r\npotential conflicts, this branch _just_ adds the builder interface\r\nwithout adding any new configuration options. Once this merges, the\r\nexisting in-flight PRs can be rebased onto this branch to use the\r\nbuilder interface without conflicting with each other.\r\n\r\nAlso, the `Builder::build` method is fallible and returns a `Result`,\r\nrather than panicking. This is a relatively common pattern in Rust ---\r\nfor example, `std::thread::Builder::spawn` returns a `Result` if a new\r\nthread cannot be spawned, while `std::thread::spawn` simply panics. This\r\nallows users to handle appender initialization errors gracefully without\r\nbreaking the API of the existing `new` constructor.\r\n\r\nFixes #1953", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2227/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2225", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2225/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2225/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2225/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2225", "id": 1307179980, "node_id": "PR_kwDOCdoc1847hw9e", "number": 2225, "title": "appender: add file name suffix parameter", "user": {"login": "IceSentry", "id": 8348954, "node_id": "MDQ6VXNlcjgzNDg5NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8348954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IceSentry", "html_url": "https://github.com/IceSentry", "followers_url": "https://api.github.com/users/IceSentry/followers", "following_url": "https://api.github.com/users/IceSentry/following{/other_user}", "gists_url": "https://api.github.com/users/IceSentry/gists{/gist_id}", "starred_url": "https://api.github.com/users/IceSentry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IceSentry/subscriptions", "organizations_url": "https://api.github.com/users/IceSentry/orgs", "repos_url": "https://api.github.com/users/IceSentry/repos", "events_url": "https://api.github.com/users/IceSentry/events{/privacy}", "received_events_url": "https://api.github.com/users/IceSentry/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-07-17T18:46:40Z", "updated_at": "2023-09-01T03:50:59Z", "closed_at": "2022-07-21T18:18:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2225", "html_url": "https://github.com/tokio-rs/tracing/pull/2225", "diff_url": "https://github.com/tokio-rs/tracing/pull/2225.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2225.patch", "merged_at": "2022-07-21T18:18:23Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\nThe `RollingAppender` currently only supports a filename suffix. A lot of editor have support for log files using the `.log` extension. It would be nice to be able to configure what gets added after the date.\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\n- Add a file_name_suffix string parameter that gets appended after the date.\r\n  - This isn't an `AsRef<Path>` because it's not supposed to be a `Path`\r\n- Update the date appending logic to handle cases when the suffix or prefix is empty\r\n  - Split each part with a `.` so the final output would be `prefix.date.suffix`\r\n  - Make sure to remove unnecessary `.` when a prefix or suffix is empty\r\n-  Add tests related to those changes\r\n\r\n## Notes\r\n\r\nIt would probably be nicer to simply have a completely configurable file name format, but I went with the easiest approach that achieved what I needed.\r\n\r\nCloses #1477", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2225/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2224", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2224/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2224/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2224/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2224", "id": 1306871259, "node_id": "PR_kwDOCdoc1847g4Ql", "number": 2224, "title": "tracing-subscriber: correct fmt::init() documentation", "user": {"login": "cgbur", "id": 9002722, "node_id": "MDQ6VXNlcjkwMDI3MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/9002722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgbur", "html_url": "https://github.com/cgbur", "followers_url": "https://api.github.com/users/cgbur/followers", "following_url": "https://api.github.com/users/cgbur/following{/other_user}", "gists_url": "https://api.github.com/users/cgbur/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgbur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgbur/subscriptions", "organizations_url": "https://api.github.com/users/cgbur/orgs", "repos_url": "https://api.github.com/users/cgbur/repos", "events_url": "https://api.github.com/users/cgbur/events{/privacy}", "received_events_url": "https://api.github.com/users/cgbur/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-16T18:15:49Z", "updated_at": "2022-07-28T18:56:04Z", "closed_at": "2022-07-28T18:56:04Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2224", "html_url": "https://github.com/tokio-rs/tracing/pull/2224", "diff_url": "https://github.com/tokio-rs/tracing/pull/2224.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2224.patch", "merged_at": "2022-07-28T18:56:03Z"}, "body": "# correct fmt::init() documentation\r\n\r\nPreviously the documentation for `fmt::init()` was misleading. It stated that it was shorthand for `fmt().init()`. This lead to confusion as users would expect the same behavior from both. However `fmt::init()` would, whether you used the env-filter feature or not, rely on RUST_LOG to set the tracing level. `fmt().init()` does not do this and it must be set with a specific configuration via `with_env_filter`.\r\n\r\nThe documentation has been updated to no longer state that it is 1:1 shorthand for the other. The documentation now specifically points out that you must be using the `env-filter` feature and gives a correct example to mimic the `fmt::init()` behavior using `fmt().init()`.\r\n\r\nfixes: #2217 #1329 ", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2224/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2220", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2220/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2220/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2220/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2220", "id": 1305165558, "node_id": "PR_kwDOCdoc1847bTCF", "number": 2220, "title": "doc: remove misleading doc", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-14T18:47:33Z", "updated_at": "2022-07-15T16:55:35Z", "closed_at": "2022-07-14T19:50:42Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2220", "html_url": "https://github.com/tokio-rs/tracing/pull/2220", "diff_url": "https://github.com/tokio-rs/tracing/pull/2220.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2220.patch", "merged_at": "2022-07-14T19:50:42Z"}, "body": "There's no automated propagation of subscrbibers between spans, you have\r\nto do this manually.\r\n\r\nhttps://discord.com/channels/500028886025895936/997201342596657232/997210656677830778", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2220/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2219", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2219/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2219/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2219/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2219", "id": 1303390952, "node_id": "PR_kwDOCdoc1847VX58", "number": 2219, "title": "appender: name spawned thread", "user": {"login": "gdesmott", "id": 1379524, "node_id": "MDQ6VXNlcjEzNzk1MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1379524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gdesmott", "html_url": "https://github.com/gdesmott", "followers_url": "https://api.github.com/users/gdesmott/followers", "following_url": "https://api.github.com/users/gdesmott/following{/other_user}", "gists_url": "https://api.github.com/users/gdesmott/gists{/gist_id}", "starred_url": "https://api.github.com/users/gdesmott/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gdesmott/subscriptions", "organizations_url": "https://api.github.com/users/gdesmott/orgs", "repos_url": "https://api.github.com/users/gdesmott/repos", "events_url": "https://api.github.com/users/gdesmott/events{/privacy}", "received_events_url": "https://api.github.com/users/gdesmott/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-13T12:49:25Z", "updated_at": "2022-07-13T19:13:14Z", "closed_at": "2022-07-13T19:13:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2219", "html_url": "https://github.com/tokio-rs/tracing/pull/2219", "diff_url": "https://github.com/tokio-rs/tracing/pull/2219.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2219.patch", "merged_at": "2022-07-13T19:13:14Z"}, "body": "\r\n\r\n## Motivation\r\n\r\nI find it useful when debugging applications with lots of threads to\r\neasily identity them by their names.\r\n\r\n## Solution\r\n\r\nJust name the thread as other crates such as `sentry-rust` are doing.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2219/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2213", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2213/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2213/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2213/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2213", "id": 1299595356, "node_id": "PR_kwDOCdoc1847I0Jk", "number": 2213, "title": "chore(ci): update actions/checkout action to v3", "user": {"login": "taiki-e", "id": 43724913, "node_id": "MDQ6VXNlcjQzNzI0OTEz", "avatar_url": "https://avatars.githubusercontent.com/u/43724913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taiki-e", "html_url": "https://github.com/taiki-e", "followers_url": "https://api.github.com/users/taiki-e/followers", "following_url": "https://api.github.com/users/taiki-e/following{/other_user}", "gists_url": "https://api.github.com/users/taiki-e/gists{/gist_id}", "starred_url": "https://api.github.com/users/taiki-e/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taiki-e/subscriptions", "organizations_url": "https://api.github.com/users/taiki-e/orgs", "repos_url": "https://api.github.com/users/taiki-e/repos", "events_url": "https://api.github.com/users/taiki-e/events{/privacy}", "received_events_url": "https://api.github.com/users/taiki-e/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-09T07:21:24Z", "updated_at": "2022-07-12T04:01:24Z", "closed_at": "2022-07-12T04:01:23Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2213", "html_url": "https://github.com/tokio-rs/tracing/pull/2213", "diff_url": "https://github.com/tokio-rs/tracing/pull/2213.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2213.patch", "merged_at": "2022-07-12T04:01:23Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\nOlder versions use node 12 which is no longer supported (end-of-life on April 30, 2022). Also, `@main`/`@master` is not very good as they may run into unreleased breaking changes.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2213/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2212", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2212/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2212/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2212/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2212", "id": 1299240672, "node_id": "PR_kwDOCdoc1847HpYO", "number": 2212, "title": "Allow owned values and fat pointers in `Span::record`", "user": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-08T16:42:50Z", "updated_at": "2022-07-13T23:31:22Z", "closed_at": "2022-07-13T23:27:16Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2212", "html_url": "https://github.com/tokio-rs/tracing/pull/2212", "diff_url": "https://github.com/tokio-rs/tracing/pull/2212.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2212.patch", "merged_at": "2022-07-13T23:27:16Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\nPreviously, using `record(\"x\", \"y\")` would give an error:\r\n```\r\nerror[E0277]: the size for values of type `str` cannot be known at compilation time\r\n    --> src/main.rs:3:22\r\n     |\r\n243  |                 span.record(\"x\", \"y\");\r\n     |                      ^^^^^^ doesn't have a size known at compile-time\r\n     |\r\n     = help: the trait `Sized` is not implemented for `str`\r\nnote: required by a bound in `Span::record`\r\n    --> /home/jnelson/.local/lib/cargo/registry/src/github.com-1ecc6299db9ec823/tracing-0.1.32/src/span.rs:1184:30\r\n     |\r\n1184 |     pub fn record<Q: ?Sized, V>(&self, field: &Q, value: &V) -> &Self\r\n     |                              ^ required by this bound in `Span::record`\r\n```\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\nTake `Q: Value` directly instead of `Q: &Value`. This doesn't break any existing code, because there's a generic `impl<T: Value> Value for &T`: https://docs.rs/tracing/0.1.35/tracing/trait.Value.html#impl-Value-for-%26%27a%20T\r\n\r\nThere's a simpler change which is just to remove the implicit `Sized` restriction on Q, but that still wouldn't allow passing `false` instead of `&false`.", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2212/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2208", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2208/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2208/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2208/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2208", "id": 1296263253, "node_id": "PR_kwDOCdoc18469by5", "number": 2208, "title": "Readme remove hard coded version link", "user": {"login": "cgbur", "id": 9002722, "node_id": "MDQ6VXNlcjkwMDI3MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/9002722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgbur", "html_url": "https://github.com/cgbur", "followers_url": "https://api.github.com/users/cgbur/followers", "following_url": "https://api.github.com/users/cgbur/following{/other_user}", "gists_url": "https://api.github.com/users/cgbur/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgbur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgbur/subscriptions", "organizations_url": "https://api.github.com/users/cgbur/orgs", "repos_url": "https://api.github.com/users/cgbur/repos", "events_url": "https://api.github.com/users/cgbur/events{/privacy}", "received_events_url": "https://api.github.com/users/cgbur/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-06T19:14:30Z", "updated_at": "2022-07-12T16:04:25Z", "closed_at": "2022-07-12T15:57:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2208", "html_url": "https://github.com/tokio-rs/tracing/pull/2208", "diff_url": "https://github.com/tokio-rs/tracing/pull/2208.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2208.patch", "merged_at": "2022-07-12T15:57:39Z"}, "body": "<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tokio-rs/tracing/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\nWhen a user clicks they they may accidentally get an old version of the crate. Its also out of sync with the current main readme.\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\n## Solution\r\nremoved the hard coded links\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2208/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2204", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2204/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2204/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2204/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2204", "id": 1291737274, "node_id": "PR_kwDOCdoc1846udoC", "number": 2204, "title": "pass through max_level_hint in reload::Layer", "user": {"login": "guswynn", "id": 5404303, "node_id": "MDQ6VXNlcjU0MDQzMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/5404303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guswynn", "html_url": "https://github.com/guswynn", "followers_url": "https://api.github.com/users/guswynn/followers", "following_url": "https://api.github.com/users/guswynn/following{/other_user}", "gists_url": "https://api.github.com/users/guswynn/gists{/gist_id}", "starred_url": "https://api.github.com/users/guswynn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guswynn/subscriptions", "organizations_url": "https://api.github.com/users/guswynn/orgs", "repos_url": "https://api.github.com/users/guswynn/repos", "events_url": "https://api.github.com/users/guswynn/events{/privacy}", "received_events_url": "https://api.github.com/users/guswynn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-01T18:55:46Z", "updated_at": "2022-09-21T20:06:29Z", "closed_at": "2022-07-01T19:39:37Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2204", "html_url": "https://github.com/tokio-rs/tracing/pull/2204", "diff_url": "https://github.com/tokio-rs/tracing/pull/2204.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2204.patch", "merged_at": "2022-07-01T19:39:37Z"}, "body": "## Motivation\r\n\r\nWhen using a `reload` layer, the fast-path current level check doesn't work, as the `max_level_hint` is just `None`, which `rebuild_interest` interprets as `TRACE`\r\n\r\n## Solution\r\n\r\nPass through to the underlying layer/filter. On poisons, when already panicking, just return `None`\r\n", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2203", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2203/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2203/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2203/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2203", "id": 1291692591, "node_id": "PR_kwDOCdoc1846uT2v", "number": 2203, "title": "attributes: prepare to release v0.1.22", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-01T18:00:33Z", "updated_at": "2022-07-01T18:15:49Z", "closed_at": "2022-07-01T18:15:48Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2203", "html_url": "https://github.com/tokio-rs/tracing/pull/2203", "diff_url": "https://github.com/tokio-rs/tracing/pull/2203.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2203.patch", "merged_at": "2022-07-01T18:15:48Z"}, "body": "# 0.1.22 (July 1, 2022)\r\n\r\nThis release fixes an issue where using the `err` or `ret` arguments to\r\n`#[instrument]` along with an overridden target, such as\r\n\r\n```rust\r\n#[instrument(target = \"...\", err, ret)]\r\n```\r\n\r\nwould not propagate the overridden target to the events generated for\r\nerrors/return values.\r\n\r\n### Fixed\r\n\r\n- Error and return value events generated by `#[instrument(err)]` or\r\n  `#[instrument(ret)]` not inheriting an overridden target (#2184)\r\n- Incorrect default level in documentation (#2119)\r\n\r\nThanks to new contributor @tbraun96 for contributing to this release!", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2203/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2202", "repository_url": "https://api.github.com/repos/tokio-rs/tracing", "labels_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2202/labels{/name}", "comments_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2202/comments", "events_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2202/events", "html_url": "https://github.com/tokio-rs/tracing/pull/2202", "id": 1291670698, "node_id": "PR_kwDOCdoc1846uO-k", "number": 2202, "title": "opentelemetry: prepare to release v0.17.4", "user": {"login": "hawkw", "id": 2796466, "node_id": "MDQ6VXNlcjI3OTY0NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2796466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkw", "html_url": "https://github.com/hawkw", "followers_url": "https://api.github.com/users/hawkw/followers", "following_url": "https://api.github.com/users/hawkw/following{/other_user}", "gists_url": "https://api.github.com/users/hawkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkw/subscriptions", "organizations_url": "https://api.github.com/users/hawkw/orgs", "repos_url": "https://api.github.com/users/hawkw/repos", "events_url": "https://api.github.com/users/hawkw/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-01T17:41:37Z", "updated_at": "2022-07-01T18:00:50Z", "closed_at": "2022-07-01T18:00:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/tokio-rs/tracing/pulls/2202", "html_url": "https://github.com/tokio-rs/tracing/pull/2202", "diff_url": "https://github.com/tokio-rs/tracing/pull/2202.diff", "patch_url": "https://github.com/tokio-rs/tracing/pull/2202.patch", "merged_at": "2022-07-01T18:00:49Z"}, "body": "# 0.17.4 (July 1, 2022)\r\n\r\nThis release adds optional support for recording `std::error::Error`s\r\nusing OpenTelemetry's [semantic conventions for exceptions][exn-semconv].\r\n\r\n### Added\r\n\r\n- `Layer::with_exception_fields` to enable emitting `exception.message`\r\n  and `exception.backtrace` semantic-convention fields when an `Error`\r\n  is recorded as a span or event field ([#2135])\r\n- `Layer::with_exception_field_propagation` to enable setting\r\n  `exception.message` and `exception.backtrace` semantic-convention\r\n  fields on the current span when an event with an `Error` field is\r\n  recorded ([#2135])\r\n\r\nThanks to @lilymara-onesignal for contributing to this release!\r\n\r\n[thread-semconv]: https://opentelemetry.io/docs/reference/specification/trace/semantic_conventions/exceptions/\r\n[#2135]: https://github.com/tokio-rs/tracing/pull/2135", "reactions": {"url": "https://api.github.com/repos/tokio-rs/tracing/issues/2202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/tokio-rs/tracing/issues/2202/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]