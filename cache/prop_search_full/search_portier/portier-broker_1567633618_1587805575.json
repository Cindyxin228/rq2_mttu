[{"url": "https://api.github.com/repos/portier/portier-broker/issues/201", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/201/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/201/events", "html_url": "https://github.com/portier/portier-broker/pull/201", "id": 606388471, "node_id": "MDExOlB1bGxSZXF1ZXN0NDA4NjEwNTc3", "number": 201, "title": "Test Safari in CI, set minimum supported Rust to 1.41", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-24T15:14:27Z", "updated_at": "2020-04-25T06:03:13Z", "closed_at": "2020-04-25T06:03:10Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/201", "html_url": "https://github.com/portier/portier-broker/pull/201", "diff_url": "https://github.com/portier/portier-broker/pull/201.diff", "patch_url": "https://github.com/portier/portier-broker/pull/201.patch", "merged_at": "2020-04-25T06:03:10Z"}, "body": "Hopefully, setting a minimum Rust will help downstream packaging in the future, where we may have to rely on whatever Rust version is packaged. We'll probably bump often and not be far behind stable in terms of support, but at least we can indicate something this way.\r\n\r\nWas hoping we could go down to 1.40, but that fails on portier-broker itself. I'm also curious how our dependencies will fare going forward.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/201/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/200", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/200/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/200/events", "html_url": "https://github.com/portier/portier-broker/pull/200", "id": 604245180, "node_id": "MDExOlB1bGxSZXF1ZXN0NDA2ODc1NTEx", "number": 200, "title": "Various fixes, add JSON responses", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-21T19:55:20Z", "updated_at": "2020-04-24T11:01:57Z", "closed_at": "2020-04-24T11:01:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/200", "html_url": "https://github.com/portier/portier-broker/pull/200", "diff_url": "https://github.com/portier/portier-broker/pull/200.diff", "patch_url": "https://github.com/portier/portier-broker/pull/200.patch", "merged_at": "2020-04-24T11:01:53Z"}, "body": "This adds JSON responses, and I believe should be enough to fix #198. I don't believe this adds any additional security concern; no new information is exposed or made accessible compared to the regular HTML responses.\r\n\r\nA notable dependency update is Lettre. The 0.9.3 release should fix error messages.\r\n\r\nAnother notable change is that we attach build products to each CI run. We'll have debug binaries for all platforms for every push.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/200/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/197", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/197/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/197/events", "html_url": "https://github.com/portier/portier-broker/pull/197", "id": 587489995, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkzNDIyMzgx", "number": 197, "title": "Misc small fixes", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-25T07:13:24Z", "updated_at": "2020-03-26T08:43:26Z", "closed_at": "2020-03-26T08:43:23Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/197", "html_url": "https://github.com/portier/portier-broker/pull/197", "diff_url": "https://github.com/portier/portier-broker/pull/197.diff", "patch_url": "https://github.com/portier/portier-broker/pull/197.patch", "merged_at": "2020-03-26T08:43:23Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/197/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/195", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/195/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/195/events", "html_url": "https://github.com/portier/portier-broker/pull/195", "id": 555806405, "node_id": "MDExOlB1bGxSZXF1ZXN0MzY3NjgxNjY3", "number": 195, "title": "Automatic key rotation, Ed25519 support, SQLite & memory stores, flat config", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-27T20:14:21Z", "updated_at": "2020-03-24T18:56:22Z", "closed_at": "2020-03-24T18:56:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/195", "html_url": "https://github.com/portier/portier-broker/pull/195", "diff_url": "https://github.com/portier/portier-broker/pull/195.diff", "patch_url": "https://github.com/portier/portier-broker/pull/195.patch", "merged_at": "2020-03-24T18:56:14Z"}, "body": "- Changes TOML config to a flat layout, matching env vars.\r\n\r\n  - Some TOML name changes:\r\n\r\n    - `smtp : {server,username,password}` \u2192 `smtp_{server,username,password}`\r\n    - `redis : url` \u2192 `redis_url`\r\n    - `limit : per_email` \u2192 `limit_per_email`\r\n    - `google : client_id` \u2192 `google_client_id`\r\n    - Otherwise, section headers can essentially be removed. (Other names were already prefixed.)\r\n\r\n  - Some env name changes:\r\n\r\n    - `BROKER_IP` \u2192 `BROKER_LISTEN_IP`\r\n    - `BROKER_PORT` \u2192 `BROKER_LISTEN_PORT`\r\n\r\n  - Still parses the old format, and emits warnings for deprecated items.\r\n\r\n- Adds Ed25519 support using a non-standard extension to OIDC.\r\n\r\n  Requires that the server adds `\"accepts_id_token_signing_alg_query_param\": true` to its discovery document, and that the client sends the `id_token_signing_alg` query parameter, (which can be `RS256` (default) or `EdDSA` in our case.) In addition, the client should track the chosen algorithm in the session, to prevent a downgrade.\r\n\r\n  This is implemented both for the RP and IdP sides. The broker prefers EdDSA if the IdP supports it.\r\n\r\n- Adds a store abstraction layer, and adds support for SQLite storage (using `rusqlite` crate) and in-memory storage.\r\n\r\n  - The SQLite store allows running the broker with zero external dependencies.\r\n\r\n  - The memory store is useful for tests.\r\n\r\n  - Builds include all stores by default, but features can be disabled to slim builds.\r\n\r\n- Adds automatic key rotation.\r\n\r\n  If no `keyfiles` or `keytext` is set, will attempt to generate keys and store them in the configured store.\r\n\r\n  `ring` can't generate RSA keys, so we invoke an external command. If RSA is used, this uses `openssl genrsa 2048` by default, but can be overriden with `generate_rsa_command`. Whatever command is used, it should print the key in PEM to stdout.\r\n\r\n  Together with the memory store, fixes #60.\r\n\r\n- Replaces custom env var parsing with the `envy` crate.\r\n\r\n- Replaces custom `Error` implementations with the `err-derive` crate.\r\n\r\n- Makes the data directory configurable as `data_dir`. (That is, the base directory of `res`, `lang` and `tmpl`.)\r\n\r\n- Explicit configuration of algorithms, and fail if no keys are available. (Fixes #179)\r\n\r\n  There's now an option `signing_algs` that defaults to `[\"RS256\"]`. When using manual keys, keys must be available for all algorithms, or startup will fail.\r\n\r\n- Enables the threaded runtime in Tokio.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/195/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/194", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/194/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/194/events", "html_url": "https://github.com/portier/portier-broker/pull/194", "id": 555262927, "node_id": "MDExOlB1bGxSZXF1ZXN0MzY3MjQzMjQ2", "number": 194, "title": "Help test master of actions-rs/audit-check", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-26T17:49:01Z", "updated_at": "2020-01-26T17:54:53Z", "closed_at": "2020-01-26T17:54:50Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/194", "html_url": "https://github.com/portier/portier-broker/pull/194", "diff_url": "https://github.com/portier/portier-broker/pull/194.diff", "patch_url": "https://github.com/portier/portier-broker/pull/194.patch", "merged_at": "2020-01-26T17:54:50Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/194/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/193", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/193/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/193/events", "html_url": "https://github.com/portier/portier-broker/pull/193", "id": 552458240, "node_id": "MDExOlB1bGxSZXF1ZXN0MzY0OTYyNDkz", "number": 193, "title": "Validate `scope`, fixes #180", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-20T18:45:55Z", "updated_at": "2020-03-24T17:39:52Z", "closed_at": "2020-03-24T17:39:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/193", "html_url": "https://github.com/portier/portier-broker/pull/193", "diff_url": "https://github.com/portier/portier-broker/pull/193.diff", "patch_url": "https://github.com/portier/portier-broker/pull/193.patch", "merged_at": "2020-03-24T17:39:49Z"}, "body": "This makes it so `openid` is required, and `email` is optional, but provided in the id_token claims regardless. Any other unknown scopes result in an error.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/193/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/192", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/192/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/192/events", "html_url": "https://github.com/portier/portier-broker/pull/192", "id": 551985833, "node_id": "MDExOlB1bGxSZXF1ZXN0MzY0NTc5OTg3", "number": 192, "title": "Add a simple end-to-end test", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-19T21:07:25Z", "updated_at": "2020-01-20T08:27:36Z", "closed_at": "2020-01-20T08:27:33Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/192", "html_url": "https://github.com/portier/portier-broker/pull/192", "diff_url": "https://github.com/portier/portier-broker/pull/192.diff", "patch_url": "https://github.com/portier/portier-broker/pull/192.patch", "merged_at": "2020-01-20T08:27:33Z"}, "body": "This uses Selenium WebDriver from within Node.js to drive any supported browser.\r\n\r\nCI currently tests just Chrome, because geckodriver is not yet available in the Ubuntu images, and I haven't looked into other platforms.\r\n\r\nThere's currently just two simple tests:\r\n - Successful login by typing the code from the email\r\n - Successful login by following the email link", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/192/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/192/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/190", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/190/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/190/events", "html_url": "https://github.com/portier/portier-broker/pull/190", "id": 551505706, "node_id": "MDExOlB1bGxSZXF1ZXN0MzY0MjE2MDc3", "number": 190, "title": "Various improvements", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-17T16:16:50Z", "updated_at": "2020-01-18T15:56:42Z", "closed_at": "2020-01-18T15:56:37Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/190", "html_url": "https://github.com/portier/portier-broker/pull/190", "diff_url": "https://github.com/portier/portier-broker/pull/190.diff", "patch_url": "https://github.com/portier/portier-broker/pull/190.patch", "merged_at": "2020-01-18T15:56:37Z"}, "body": "- Upgraded the `redis` crate, our last outdated dependency.\r\n  - Now also uses the async interface.\r\n- Replaced `openssl` with `ring`. \r\n  - `openssl` is still used indirectly for TLS on Linux through `native-tls` / `hyper-tls`.\r\n  - I was also able to replace `rand` with the RNG from `ring`.\r\n  - We now support PEM files with multiple keys concatenated.\r\n- Bundled the `*.mo` files to remove the build step (`build.rs`) and our dependency on a system gettext install.\r\n  - CI should fail if the files are outdated compared to the source `*.po` files.\r\n- Added support for systemd socket activation, and ready notification.\r\n- Now using GitHub Actions instead of Travis CI:\r\n  - Testing on Rust stable only.\r\n  - Now also tests on Windows and MacOS.\r\n  - Now also checks rustfmt.\r\n- Automated release builds using GitHub actions.\r\n\r\nFixes #55 \r\nFixes #129 \r\nFixes #141", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/190/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/189", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/189/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/189/events", "html_url": "https://github.com/portier/portier-broker/pull/189", "id": 527719676, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQ0OTIyNDAw", "number": 189, "title": "Upgrade to Hyper 0.13, use async/await", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-24T16:07:49Z", "updated_at": "2020-01-14T19:58:58Z", "closed_at": "2020-01-14T19:58:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/189", "html_url": "https://github.com/portier/portier-broker/pull/189", "diff_url": "https://github.com/portier/portier-broker/pull/189.diff", "patch_url": "https://github.com/portier/portier-broker/pull/189.patch", "merged_at": "2020-01-14T19:58:53Z"}, "body": "This is a pretty big deal for code quality, in my opinion.\r\n\r\nWe now have very little usage of `Box`, `Rc` and `Arc`, pretty much just in the outer layers `web.rs` and `main.rs`:\r\n - Our `Config` is still wrapped in an `Arc`. (We could `Box::leak` it? I'm not sure what to prefer.)\r\n - We need to pin-box our big request handling future type so we can provide a concrete type to Hyper's Service trait, and also satisfy its `Unpin` constraint.\r\n - Discovery uses `future::select`, which requires an `Unpin` future, so we have to pin-box that as well.\r\n\r\nAfter this, the only remaining outdated dependency is Redis.\r\n\r\nThis should fix #188 and #183.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/189/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/189/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/187", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/187/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/187/events", "html_url": "https://github.com/portier/portier-broker/pull/187", "id": 507669768, "node_id": "MDExOlB1bGxSZXF1ZXN0MzI4NjEzMTcz", "number": 187, "title": "Upgrade dependencies, fix warnings", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-16T07:32:57Z", "updated_at": "2019-10-16T14:32:53Z", "closed_at": "2019-10-16T14:32:49Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/187", "html_url": "https://github.com/portier/portier-broker/pull/187", "diff_url": "https://github.com/portier/portier-broker/pull/187.diff", "patch_url": "https://github.com/portier/portier-broker/pull/187.patch", "merged_at": "2019-10-16T14:32:49Z"}, "body": "This is a large diff because of rustfmt changes, contained in a single commit. The other commits are quite small.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/187/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/186", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/186/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/186/events", "html_url": "https://github.com/portier/portier-broker/pull/186", "id": 500077858, "node_id": "MDExOlB1bGxSZXF1ZXN0MzIyNjE5OTI2", "number": 186, "title": "Pin Heroku stack to heroku-16 for now.", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-30T06:30:36Z", "updated_at": "2019-09-30T14:44:16Z", "closed_at": "2019-09-30T14:44:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/186", "html_url": "https://github.com/portier/portier-broker/pull/186", "diff_url": "https://github.com/portier/portier-broker/pull/186.diff", "patch_url": "https://github.com/portier/portier-broker/pull/186.patch", "merged_at": "2019-09-30T14:44:12Z"}, "body": "Should fix https://github.com/portier/portier.github.io/issues/40", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/186/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/185", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/185/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/185/events", "html_url": "https://github.com/portier/portier-broker/pull/185", "id": 499797729, "node_id": "MDExOlB1bGxSZXF1ZXN0MzIyNDMwNTY1", "number": 185, "title": "Fixes for the login form", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-28T17:20:35Z", "updated_at": "2019-10-14T06:18:07Z", "closed_at": "2019-10-14T06:17:53Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/185", "html_url": "https://github.com/portier/portier-broker/pull/185", "diff_url": "https://github.com/portier/portier-broker/pull/185.diff", "patch_url": "https://github.com/portier/portier-broker/pull/185.patch", "merged_at": "2019-10-14T06:17:53Z"}, "body": "I apparently never created a PR for these fixes I had lying around locally. These are for the form displayed when no `login_hint` is provided.\r\n\r\n@onli Maybe you can also add the two missing German translations?", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/185/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]