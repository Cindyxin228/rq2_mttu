[{"url": "https://api.github.com/repos/portier/portier-broker/issues/152", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/152/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/152/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/152/events", "html_url": "https://github.com/portier/portier-broker/pull/152", "id": 279028818, "node_id": "MDExOlB1bGxSZXF1ZXN0MTU2MjIxMDY4", "number": 152, "title": "Fix coveralls", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-04T15:08:46Z", "updated_at": "2017-12-15T15:08:17Z", "closed_at": "2017-12-15T15:08:14Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/152", "html_url": "https://github.com/portier/portier-broker/pull/152", "diff_url": "https://github.com/portier/portier-broker/pull/152.diff", "patch_url": "https://github.com/portier/portier-broker/pull/152.patch", "merged_at": "2017-12-15T15:08:14Z"}, "body": "Hopefully this'll work in one go. :)", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/152/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/151", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/151/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/151/events", "html_url": "https://github.com/portier/portier-broker/pull/151", "id": 278993484, "node_id": "MDExOlB1bGxSZXF1ZXN0MTU2MTk1MTE2", "number": 151, "title": "Expose normalization as endpoint & upgrade dependencies", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-12-04T13:21:16Z", "updated_at": "2018-01-05T14:20:28Z", "closed_at": "2018-01-05T14:20:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/151", "html_url": "https://github.com/portier/portier-broker/pull/151", "diff_url": "https://github.com/portier/portier-broker/pull/151.diff", "patch_url": "https://github.com/portier/portier-broker/pull/151.patch", "merged_at": "2018-01-05T14:20:26Z"}, "body": "This adds the `/normalize` endpoint, exposing the email normalization algorithm as a service. This is useful for languages/environments where it is difficult to implement the normalization. (It depends on good Unicode and WHATWG spec implementations.)\r\n\r\nPortier returns a normalized email address in its tokens. Normalization is currently an issue anywhere the RP may want to compare user input to the result of Portier authentication. For example, an RP may store the email input before sending it off to Portier, or it may have a manually administered list of email accounts.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/151/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/150", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/150/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/150/events", "html_url": "https://github.com/portier/portier-broker/pull/150", "id": 269109219, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ5MTkwODc2", "number": 150, "title": "Improve error messages and user feedback.", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-10-27T13:35:15Z", "updated_at": "2017-10-29T16:59:05Z", "closed_at": "2017-10-29T16:55:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/150", "html_url": "https://github.com/portier/portier-broker/pull/150", "diff_url": "https://github.com/portier/portier-broker/pull/150.diff", "patch_url": "https://github.com/portier/portier-broker/pull/150.patch", "merged_at": "2017-10-29T16:55:24Z"}, "body": "This PR is on top of #149.\r\n\r\nThere are a bunch of changes to error handling here:\r\n\r\n - I've added `BrokerError::SessionExpired`, because I expect it to be a very common case, for which we can now give better feedback. The other classes of `BrokerError::Input` are all integration issues, and can use the generic template.\r\n - I've added `BrokerError::ProviderInput`, which covers some of the previous cases for `BrokerError::Provider` and `BrokerError::Input`. This is specifically for errors related to the request input (thus 400), not provider communication (still 503). All `BrokerError::Input` is now related to the RP, while all `BrokerError::Provider*` is related to the provider. Error messages reflect this.\r\n - Internal errors and rate limiting now no longer redirect back to the RP, and always display a message.\r\n - Internal errors are now logged with a reference number, which is also visible on the error page. This number is also z-base-32, so it can also be read on the phone, for example.\r\n - Error pages are now translated.\r\n\r\n@onli Can you push a commit here with German translations for the new messages, if you can spare moment? :)\r\n\r\nExample Dutch 'session expired' page:\r\n<img width=\"603\" alt=\"screen shot 2017-10-27 at 15 24 55\" src=\"https://user-images.githubusercontent.com/89950/32106627-7d9cb140-bb2c-11e7-8dce-f0146dbddc59.png\">\r\n\r\nExample Dutch 'internal error' page:\r\n<img width=\"628\" alt=\"screen shot 2017-10-27 at 15 24 04\" src=\"https://user-images.githubusercontent.com/89950/32106640-863db9ca-bb2c-11e7-9b41-f4ae4275d973.png\">\r\n", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/150/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/149", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/149/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/149/events", "html_url": "https://github.com/portier/portier-broker/pull/149", "id": 269071745, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ5MTYyNTkx", "number": 149, "title": "Fix expired", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-27T11:14:24Z", "updated_at": "2018-01-05T14:36:00Z", "closed_at": "2017-10-28T10:24:04Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/149", "html_url": "https://github.com/portier/portier-broker/pull/149", "diff_url": "https://github.com/portier/portier-broker/pull/149.diff", "patch_url": "https://github.com/portier/portier-broker/pull/149.patch", "merged_at": "2017-10-28T10:24:03Z"}, "body": "Fixes #148", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/149/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/147", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/147/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/147/events", "html_url": "https://github.com/portier/portier-broker/pull/147", "id": 257761723, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQxMTA2MTk1", "number": 147, "title": "Misc fixes", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-14T15:29:05Z", "updated_at": "2017-09-20T20:57:44Z", "closed_at": "2017-09-20T20:57:38Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/147", "html_url": "https://github.com/portier/portier-broker/pull/147", "diff_url": "https://github.com/portier/portier-broker/pull/147.diff", "patch_url": "https://github.com/portier/portier-broker/pull/147.patch", "merged_at": "2017-09-20T20:57:38Z"}, "body": "This PR contains two things:\r\n\r\n - Simpler error handling, through compiler inference.\r\n - Docker build using a regular Dockerfile. Now that Docker has multi-stage builds, we no longer need shell script hacks.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/147/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/146", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/146/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/146/events", "html_url": "https://github.com/portier/portier-broker/pull/146", "id": 252622176, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM3NDY5Njk1", "number": 146, "title": "Implement Proposal A", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-08-24T14:35:00Z", "updated_at": "2017-08-25T11:54:04Z", "closed_at": "2017-08-25T11:54:01Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/146", "html_url": "https://github.com/portier/portier-broker/pull/146", "diff_url": "https://github.com/portier/portier-broker/pull/146.diff", "patch_url": "https://github.com/portier/portier-broker/pull/146.patch", "merged_at": "2017-08-25T11:54:01Z"}, "body": "This is a large PR, which implements Proposal A as documented in: https://docs.google.com/document/d/1fgIGivGrdUjiDtKf_xuwIoowU_H5qSqUXMRApbQoWTg/edit\r\n\r\nIn addition, this PR also has:\r\n - Updates for some dependencies\r\n - Types for sessions (uses serde_json)\r\n - Types for IdP documents (also uses serde_json)\r\n - Improved validation of both emails and URLs\r\n - Improved IdP error handling (no panics, can't have that now)\r\n - Session cleanup once auth completes\r\n\r\nCurrently, Portier only tries the first WebFinger link, ignoring the rest. A timeout of 5 seconds is hardcoded, after which we continue with email fallback. (Discovery continues in the background, so caches are warmed for a next attempt.)\r\n\r\nA currently unspecced custom `rel` is implemented to allow forwarding to Google. A domain can either specify this in the WebFinger response, or Portier can be configured with it per domain using `domain_overrides`.\r\n\r\nA demo IdP is available at: https://github.com/onli/portier_idp", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/146/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/145", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/145/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/145/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/145/events", "html_url": "https://github.com/portier/portier-broker/pull/145", "id": 249164102, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM0OTkxOTgx", "number": 145, "title": "Hyper v0.11 and openssl crate v0.9", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-09T21:14:34Z", "updated_at": "2017-08-18T16:20:33Z", "closed_at": "2017-08-18T16:20:30Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/145", "html_url": "https://github.com/portier/portier-broker/pull/145", "diff_url": "https://github.com/portier/portier-broker/pull/145.diff", "patch_url": "https://github.com/portier/portier-broker/pull/145.patch", "merged_at": "2017-08-18T16:20:30Z"}, "body": "This PR ditches Iron, uses plain Hyper 0.11, and upgrades the openssl crate to 0.9 for compatibility.\r\n\r\nThe entire request path up to calling bridges is async, and the OIDC bridge also does async HTTP requests to external systems. Mail and Redis are not async, but those are less critical I suppose.\r\n\r\nThe async changes don't really make the code any prettier. I've fought with finding a decent structure for things, but in general it's a whole lot of closures and moving things around.\r\n\r\nProbably want to squash the commits at the end.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/145/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/143", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/143/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/143/events", "html_url": "https://github.com/portier/portier-broker/pull/143", "id": 215316240, "node_id": "MDExOlB1bGxSZXF1ZXN0MTExNDgwNDcw", "number": 143, "title": "Show which GET param is invalid (#142)", "user": {"login": "onli", "id": 900380, "node_id": "MDQ6VXNlcjkwMDM4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/900380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/onli", "html_url": "https://github.com/onli", "followers_url": "https://api.github.com/users/onli/followers", "following_url": "https://api.github.com/users/onli/following{/other_user}", "gists_url": "https://api.github.com/users/onli/gists{/gist_id}", "starred_url": "https://api.github.com/users/onli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/onli/subscriptions", "organizations_url": "https://api.github.com/users/onli/orgs", "repos_url": "https://api.github.com/users/onli/repos", "events_url": "https://api.github.com/users/onli/events{/privacy}", "received_events_url": "https://api.github.com/users/onli/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 378658058, "node_id": "MDU6TGFiZWwzNzg2NTgwNTg=", "url": "https://api.github.com/repos/portier/portier-broker/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-03-20T02:07:50Z", "updated_at": "2017-08-07T19:58:38Z", "closed_at": "2017-08-07T19:58:35Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/143", "html_url": "https://github.com/portier/portier-broker/pull/143", "diff_url": "https://github.com/portier/portier-broker/pull/143.diff", "patch_url": "https://github.com/portier/portier-broker/pull/143.patch", "merged_at": "2017-08-07T19:58:35Z"}, "body": "This fixes #142, not showing whether an error was in client_id or redirect_uri. It combines three changes:\r\n\r\n 1. Call valid_uri with the new second function parameter that contains the param name as string\r\n 1. Change ValidationError::BadScheme to ValidationError::BadScheme(String), combining it with a value\r\n 1. Change its fmt trait to show that value, and the Broker error handler to show the formatted error message instead of the description\r\n\r\nThe last change seems to be necessary because description does only return a &str, and combining strings to become one &str is not possible, right?\r\n\r\nTest-URL triggering this error is: https://broker.portier.io/auth?login_hint=mathieu%40agopian.info&scope=openid+email&nonce=ec050b2fa29e4aa2a08c82144734dcbe&response_type=id_token&response_mode=form_post&client_id=None%3A%2F%2FNone&redirect_uri=http%3A%2F%2Flocalhost%3A8888%2Fv1%2Fportier%2Fverify\r\n\r\nWe can then later apply this to the other errors as well.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/143/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/143/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/139", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/139/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/139/events", "html_url": "https://github.com/portier/portier-broker/pull/139", "id": 206904341, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA1NzA0MTQ4", "number": 139, "title": "Upgrade to serde 0.9 and toml 0.3.", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-10T20:55:44Z", "updated_at": "2017-02-15T17:14:28Z", "closed_at": "2017-02-15T17:14:25Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/139", "html_url": "https://github.com/portier/portier-broker/pull/139", "diff_url": "https://github.com/portier/portier-broker/pull/139.diff", "patch_url": "https://github.com/portier/portier-broker/pull/139.patch", "merged_at": "2017-02-15T17:14:25Z"}, "body": " - [x] Waiting on toml 0.3, then we're good to go! :)", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/139/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/138", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/138/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/138/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/138/events", "html_url": "https://github.com/portier/portier-broker/pull/138", "id": 205351368, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA0NjYzMDI0", "number": 138, "title": "Use serde_derive.", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-04T14:39:25Z", "updated_at": "2017-02-08T08:43:12Z", "closed_at": "2017-02-08T08:43:12Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/138", "html_url": "https://github.com/portier/portier-broker/pull/138", "diff_url": "https://github.com/portier/portier-broker/pull/138.diff", "patch_url": "https://github.com/portier/portier-broker/pull/138.patch", "merged_at": "2017-02-08T08:43:12Z"}, "body": "Now that Rust 1.15 is out. \ud83c\udf89\r\n\r\n(We can't move to serde 0.9 yet, waiting on toml support.)", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/138/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/136", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/136/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/136/events", "html_url": "https://github.com/portier/portier-broker/pull/136", "id": 204890033, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA0MzQ4MzQ0", "number": 136, "title": "Add the apt buildpack so Heroku can build i18n", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-02T14:32:14Z", "updated_at": "2017-02-02T14:51:26Z", "closed_at": "2017-02-02T14:51:26Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/136", "html_url": "https://github.com/portier/portier-broker/pull/136", "diff_url": "https://github.com/portier/portier-broker/pull/136.diff", "patch_url": "https://github.com/portier/portier-broker/pull/136.patch", "merged_at": "2017-02-02T14:51:26Z"}, "body": "I've added the `https://github.com/heroku/heroku-buildpack-apt` buildpack and used this to do a deploy on Heroku. So this is already running and working on the public broker!", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/136/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/133", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/133/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/133/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/133/events", "html_url": "https://github.com/portier/portier-broker/pull/133", "id": 203354558, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAzMjk1MDc1", "number": 133, "title": "Fix gettext missing from Docker build.", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-26T12:00:58Z", "updated_at": "2017-01-26T12:56:52Z", "closed_at": "2017-01-26T12:56:52Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/133", "html_url": "https://github.com/portier/portier-broker/pull/133", "diff_url": "https://github.com/portier/portier-broker/pull/133.diff", "patch_url": "https://github.com/portier/portier-broker/pull/133.patch", "merged_at": "2017-01-26T12:56:52Z"}, "body": "I neglected to actually test the Docker build after #124. :/", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/133/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/132", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/132/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/132/events", "html_url": "https://github.com/portier/portier-broker/pull/132", "id": 203197890, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAzMTg2MjMw", "number": 132, "title": "Add cache headers.", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-25T19:24:50Z", "updated_at": "2017-02-01T17:28:11Z", "closed_at": "2017-02-01T17:28:11Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/132", "html_url": "https://github.com/portier/portier-broker/pull/132", "diff_url": "https://github.com/portier/portier-broker/pull/132.diff", "patch_url": "https://github.com/portier/portier-broker/pull/132.patch", "merged_at": "2017-02-01T17:28:11Z"}, "body": "Fixes #41.\r\n\r\nThe approach here is to just set `Cache-Control: no-cache, no-store` for everything, except when overridden explicitly. The overrides are for static files, discovery and keys, each having a config var.\r\n\r\nThe discovery and keys resources don't set Last-Modified and Etag. I feel like it's more trouble than it's worth?", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/132/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/131", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/131/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/131/events", "html_url": "https://github.com/portier/portier-broker/pull/131", "id": 203106196, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAzMTIwOTYx", "number": 131, "title": "Document dummy smtp option for dev (#115)", "user": {"login": "onli", "id": 900380, "node_id": "MDQ6VXNlcjkwMDM4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/900380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/onli", "html_url": "https://github.com/onli", "followers_url": "https://api.github.com/users/onli/followers", "following_url": "https://api.github.com/users/onli/following{/other_user}", "gists_url": "https://api.github.com/users/onli/gists{/gist_id}", "starred_url": "https://api.github.com/users/onli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/onli/subscriptions", "organizations_url": "https://api.github.com/users/onli/orgs", "repos_url": "https://api.github.com/users/onli/repos", "events_url": "https://api.github.com/users/onli/events{/privacy}", "received_events_url": "https://api.github.com/users/onli/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-01-25T13:43:55Z", "updated_at": "2017-01-26T08:26:41Z", "closed_at": "2017-01-26T08:26:41Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/131", "html_url": "https://github.com/portier/portier-broker/pull/131", "diff_url": "https://github.com/portier/portier-broker/pull/131.diff", "patch_url": "https://github.com/portier/portier-broker/pull/131.patch", "merged_at": "2017-01-26T08:26:41Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/131/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/127", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/127/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/127/events", "html_url": "https://github.com/portier/portier-broker/pull/127", "id": 198121726, "node_id": "MDExOlB1bGxSZXF1ZXN0OTk3MzM1MzU=", "number": 127, "title": "Upgrade dependencies.", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-12-30T09:03:39Z", "updated_at": "2017-01-11T14:23:13Z", "closed_at": "2017-01-11T14:23:13Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/127", "html_url": "https://github.com/portier/portier-broker/pull/127", "diff_url": "https://github.com/portier/portier-broker/pull/127.diff", "patch_url": "https://github.com/portier/portier-broker/pull/127.patch", "merged_at": "2017-01-11T14:23:13Z"}, "body": "Unfortunately cannot upgrade OpenSSL to 0.9 yet, because Hyper depends on 0.7.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/127/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/126", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/126/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/126/events", "html_url": "https://github.com/portier/portier-broker/pull/126", "id": 196779882, "node_id": "MDExOlB1bGxSZXF1ZXN0OTg4MjQ1MDc=", "number": 126, "title": "No longer need to pin clippy with v0.0.104.", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-12-20T20:59:33Z", "updated_at": "2016-12-22T05:00:04Z", "closed_at": "2016-12-22T05:00:04Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/126", "html_url": "https://github.com/portier/portier-broker/pull/126", "diff_url": "https://github.com/portier/portier-broker/pull/126.diff", "patch_url": "https://github.com/portier/portier-broker/pull/126.patch", "merged_at": "2016-12-22T05:00:04Z"}, "body": "This reverts commit 437203001508c7ea1c46a54d1340eb4e491ac5b7.\r\n\r\nAt least, I think this should work. Let's see what Travis says.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/126/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/125", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/125/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/125/events", "html_url": "https://github.com/portier/portier-broker/pull/125", "id": 195589249, "node_id": "MDExOlB1bGxSZXF1ZXN0OTc5OTQ0OTA=", "number": 125, "title": "Workaround Clippy failures on current Nightly", "user": {"login": "callahad", "id": 24193, "node_id": "MDQ6VXNlcjI0MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/24193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/callahad", "html_url": "https://github.com/callahad", "followers_url": "https://api.github.com/users/callahad/followers", "following_url": "https://api.github.com/users/callahad/following{/other_user}", "gists_url": "https://api.github.com/users/callahad/gists{/gist_id}", "starred_url": "https://api.github.com/users/callahad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/callahad/subscriptions", "organizations_url": "https://api.github.com/users/callahad/orgs", "repos_url": "https://api.github.com/users/callahad/repos", "events_url": "https://api.github.com/users/callahad/events{/privacy}", "received_events_url": "https://api.github.com/users/callahad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-12-14T17:07:09Z", "updated_at": "2016-12-14T17:48:45Z", "closed_at": "2016-12-14T17:48:45Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/125", "html_url": "https://github.com/portier/portier-broker/pull/125", "diff_url": "https://github.com/portier/portier-broker/pull/125.diff", "patch_url": "https://github.com/portier/portier-broker/pull/125.patch", "merged_at": "2016-12-14T17:48:45Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/125/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/124", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/124/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/124/events", "html_url": "https://github.com/portier/portier-broker/pull/124", "id": 192879201, "node_id": "MDExOlB1bGxSZXF1ZXN0OTYxMTExNzc=", "number": 124, "title": "Support for i18n", "user": {"login": "onli", "id": 900380, "node_id": "MDQ6VXNlcjkwMDM4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/900380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/onli", "html_url": "https://github.com/onli", "followers_url": "https://api.github.com/users/onli/followers", "following_url": "https://api.github.com/users/onli/following{/other_user}", "gists_url": "https://api.github.com/users/onli/gists{/gist_id}", "starred_url": "https://api.github.com/users/onli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/onli/subscriptions", "organizations_url": "https://api.github.com/users/onli/orgs", "repos_url": "https://api.github.com/users/onli/repos", "events_url": "https://api.github.com/users/onli/events{/privacy}", "received_events_url": "https://api.github.com/users/onli/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-12-01T15:34:54Z", "updated_at": "2017-01-26T11:13:58Z", "closed_at": "2017-01-26T11:13:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/124", "html_url": "https://github.com/portier/portier-broker/pull/124", "diff_url": "https://github.com/portier/portier-broker/pull/124.diff", "patch_url": "https://github.com/portier/portier-broker/pull/124.patch", "merged_at": "2017-01-26T11:13:39Z"}, "body": "See the discussion in #116.\r\n\r\nThis implements i18n via gettext, using the rust gettext module from https://github.com/justinas/gettext. A simple makefile is provided to help create the .mo files which the program reads. Translations are given as variables into the templates, but are strings in the sourcecode \u2013 that is not perfect, but https://github.com/nickel-org/rust-mustache does not support the better approach of calling a function from within the template.\r\n\r\nI tested this till the point of sending the email out.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/124/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/118", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/118/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/118/events", "html_url": "https://github.com/portier/portier-broker/pull/118", "id": 191358196, "node_id": "MDExOlB1bGxSZXF1ZXN0OTUwNjM2ODM=", "number": 118, "title": "Use Travis to report on code coverage and clippy lints", "user": {"login": "callahad", "id": 24193, "node_id": "MDQ6VXNlcjI0MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/24193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/callahad", "html_url": "https://github.com/callahad", "followers_url": "https://api.github.com/users/callahad/followers", "following_url": "https://api.github.com/users/callahad/following{/other_user}", "gists_url": "https://api.github.com/users/callahad/gists{/gist_id}", "starred_url": "https://api.github.com/users/callahad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/callahad/subscriptions", "organizations_url": "https://api.github.com/users/callahad/orgs", "repos_url": "https://api.github.com/users/callahad/repos", "events_url": "https://api.github.com/users/callahad/events{/privacy}", "received_events_url": "https://api.github.com/users/callahad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-11-23T19:13:14Z", "updated_at": "2017-08-24T15:08:17Z", "closed_at": "2016-11-24T08:02:42Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/118", "html_url": "https://github.com/portier/portier-broker/pull/118", "diff_url": "https://github.com/portier/portier-broker/pull/118.diff", "patch_url": "https://github.com/portier/portier-broker/pull/118.patch", "merged_at": "2016-11-24T08:02:42Z"}, "body": "Fixes #5 and #65", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/118/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/117", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/117/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/117/events", "html_url": "https://github.com/portier/portier-broker/pull/117", "id": 191337286, "node_id": "MDExOlB1bGxSZXF1ZXN0OTUwNDg4MDY=", "number": 117, "title": "Implement SMTP ratelimit", "user": {"login": "callahad", "id": 24193, "node_id": "MDQ6VXNlcjI0MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/24193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/callahad", "html_url": "https://github.com/callahad", "followers_url": "https://api.github.com/users/callahad/followers", "following_url": "https://api.github.com/users/callahad/following{/other_user}", "gists_url": "https://api.github.com/users/callahad/gists{/gist_id}", "starred_url": "https://api.github.com/users/callahad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/callahad/subscriptions", "organizations_url": "https://api.github.com/users/callahad/orgs", "repos_url": "https://api.github.com/users/callahad/repos", "events_url": "https://api.github.com/users/callahad/events{/privacy}", "received_events_url": "https://api.github.com/users/callahad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-23T17:34:31Z", "updated_at": "2016-11-23T20:23:17Z", "closed_at": "2016-11-23T20:23:17Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/117", "html_url": "https://github.com/portier/portier-broker/pull/117", "diff_url": "https://github.com/portier/portier-broker/pull/117.diff", "patch_url": "https://github.com/portier/portier-broker/pull/117.patch", "merged_at": "2016-11-23T20:23:17Z"}, "body": "Fixes: #70\r\nReplaces: #109 #114", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/117/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/113", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/113/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/113/events", "html_url": "https://github.com/portier/portier-broker/pull/113", "id": 191155164, "node_id": "MDExOlB1bGxSZXF1ZXN0OTQ5MjA4ODM=", "number": 113, "title": "Prevent whitespace from breaking template layout", "user": {"login": "callahad", "id": 24193, "node_id": "MDQ6VXNlcjI0MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/24193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/callahad", "html_url": "https://github.com/callahad", "followers_url": "https://api.github.com/users/callahad/followers", "following_url": "https://api.github.com/users/callahad/following{/other_user}", "gists_url": "https://api.github.com/users/callahad/gists{/gist_id}", "starred_url": "https://api.github.com/users/callahad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/callahad/subscriptions", "organizations_url": "https://api.github.com/users/callahad/orgs", "repos_url": "https://api.github.com/users/callahad/repos", "events_url": "https://api.github.com/users/callahad/events{/privacy}", "received_events_url": "https://api.github.com/users/callahad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-11-22T23:41:13Z", "updated_at": "2016-11-23T17:16:37Z", "closed_at": "2016-11-23T17:16:37Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/113", "html_url": "https://github.com/portier/portier-broker/pull/113", "diff_url": "https://github.com/portier/portier-broker/pull/113.diff", "patch_url": "https://github.com/portier/portier-broker/pull/113.patch", "merged_at": "2016-11-23T17:16:37Z"}, "body": "Note the space between the input widget and the submit button\r\n\r\n---\r\n\r\n![screen shot 2016-11-22 at 17 40 21](https://cloud.githubusercontent.com/assets/24193/20546466/dbda4bda-b0da-11e6-881b-2f6623e52841.png)\r\n", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/113/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/112", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/112/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/112/events", "html_url": "https://github.com/portier/portier-broker/pull/112", "id": 190477038, "node_id": "MDExOlB1bGxSZXF1ZXN0OTQ0NzA5OTk=", "number": 112, "title": "Lowercase domains when looking up provider info", "user": {"login": "callahad", "id": 24193, "node_id": "MDQ6VXNlcjI0MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/24193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/callahad", "html_url": "https://github.com/callahad", "followers_url": "https://api.github.com/users/callahad/followers", "following_url": "https://api.github.com/users/callahad/following{/other_user}", "gists_url": "https://api.github.com/users/callahad/gists{/gist_id}", "starred_url": "https://api.github.com/users/callahad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/callahad/subscriptions", "organizations_url": "https://api.github.com/users/callahad/orgs", "repos_url": "https://api.github.com/users/callahad/repos", "events_url": "https://api.github.com/users/callahad/events{/privacy}", "received_events_url": "https://api.github.com/users/callahad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-19T04:57:24Z", "updated_at": "2016-11-19T11:58:04Z", "closed_at": "2016-11-19T11:58:04Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/112", "html_url": "https://github.com/portier/portier-broker/pull/112", "diff_url": "https://github.com/portier/portier-broker/pull/112.diff", "patch_url": "https://github.com/portier/portier-broker/pull/112.patch", "merged_at": "2016-11-19T11:58:04Z"}, "body": "Fixes #101\r\nCompletes #111", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/112/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/111", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/111/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/111/events", "html_url": "https://github.com/portier/portier-broker/pull/111", "id": 190468487, "node_id": "MDExOlB1bGxSZXF1ZXN0OTQ0NjU3MDQ=", "number": 111, "title": "Lowercase the domain when deciding which flow to follow", "user": {"login": "skorokithakis", "id": 23648, "node_id": "MDQ6VXNlcjIzNjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/23648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skorokithakis", "html_url": "https://github.com/skorokithakis", "followers_url": "https://api.github.com/users/skorokithakis/followers", "following_url": "https://api.github.com/users/skorokithakis/following{/other_user}", "gists_url": "https://api.github.com/users/skorokithakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/skorokithakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skorokithakis/subscriptions", "organizations_url": "https://api.github.com/users/skorokithakis/orgs", "repos_url": "https://api.github.com/users/skorokithakis/repos", "events_url": "https://api.github.com/users/skorokithakis/events{/privacy}", "received_events_url": "https://api.github.com/users/skorokithakis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-19T01:54:08Z", "updated_at": "2016-11-19T04:30:15Z", "closed_at": "2016-11-19T04:11:39Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/111", "html_url": "https://github.com/portier/portier-broker/pull/111", "diff_url": "https://github.com/portier/portier-broker/pull/111.diff", "patch_url": "https://github.com/portier/portier-broker/pull/111.patch", "merged_at": "2016-11-19T04:11:39Z"}, "body": "Possible fix for #101.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/111/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/110", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/110/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/110/events", "html_url": "https://github.com/portier/portier-broker/pull/110", "id": 190448838, "node_id": "MDExOlB1bGxSZXF1ZXN0OTQ0NTcwMzA=", "number": 110, "title": "Fix typo in /ver.txt", "user": {"login": "callahad", "id": 24193, "node_id": "MDQ6VXNlcjI0MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/24193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/callahad", "html_url": "https://github.com/callahad", "followers_url": "https://api.github.com/users/callahad/followers", "following_url": "https://api.github.com/users/callahad/following{/other_user}", "gists_url": "https://api.github.com/users/callahad/gists{/gist_id}", "starred_url": "https://api.github.com/users/callahad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/callahad/subscriptions", "organizations_url": "https://api.github.com/users/callahad/orgs", "repos_url": "https://api.github.com/users/callahad/repos", "events_url": "https://api.github.com/users/callahad/events{/privacy}", "received_events_url": "https://api.github.com/users/callahad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-18T23:47:05Z", "updated_at": "2016-11-19T00:15:34Z", "closed_at": "2016-11-19T00:15:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/110", "html_url": "https://github.com/portier/portier-broker/pull/110", "diff_url": "https://github.com/portier/portier-broker/pull/110.diff", "patch_url": "https://github.com/portier/portier-broker/pull/110.patch", "merged_at": "2016-11-19T00:15:34Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/110/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/108", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/108/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/108/events", "html_url": "https://github.com/portier/portier-broker/pull/108", "id": 190009735, "node_id": "MDExOlB1bGxSZXF1ZXN0OTQxNDI5NzU=", "number": 108, "title": "Remove origin check.", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-11-17T10:46:31Z", "updated_at": "2016-11-18T17:16:48Z", "closed_at": "2016-11-18T17:05:02Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/108", "html_url": "https://github.com/portier/portier-broker/pull/108", "diff_url": "https://github.com/portier/portier-broker/pull/108.diff", "patch_url": "https://github.com/portier/portier-broker/pull/108.patch", "merged_at": "2016-11-18T17:05:02Z"}, "body": "It bugs me a bit, but I fear we have to remove the canonical origin check.\r\n\r\nWhen hosted behind a reverse proxy, there's no indication of the actual scheme and port used to connect to the broker, except unreliable private headers (`X-Remote-*`). Often, the `Host` header may also be rewritten.\r\n\r\nIn this situation, the broker creates a redirect loop.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/108/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/107", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/107/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/107/events", "html_url": "https://github.com/portier/portier-broker/pull/107", "id": 190008443, "node_id": "MDExOlB1bGxSZXF1ZXN0OTQxNDIxNzg=", "number": 107, "title": "Improve email code readability.", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-11-17T10:41:39Z", "updated_at": "2016-11-18T20:14:15Z", "closed_at": "2016-11-18T20:14:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/107", "html_url": "https://github.com/portier/portier-broker/pull/107", "diff_url": "https://github.com/portier/portier-broker/pull/107.diff", "patch_url": "https://github.com/portier/portier-broker/pull/107.patch", "merged_at": "2016-11-18T20:14:15Z"}, "body": "This puts the code on its own line, makes it monospace and larger.\r\n\r\n![screen shot 2016-11-17 at 11 40 34](https://cloud.githubusercontent.com/assets/89950/20386191/cc0ad04a-acba-11e6-8018-df842d167bde.png)\r\n", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/107/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/105", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/105/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/105/events", "html_url": "https://github.com/portier/portier-broker/pull/105", "id": 189876975, "node_id": "MDExOlB1bGxSZXF1ZXN0OTQwNjkyNzU=", "number": 105, "title": "Replace unwrap() with expect() or proper handling", "user": {"login": "callahad", "id": 24193, "node_id": "MDQ6VXNlcjI0MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/24193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/callahad", "html_url": "https://github.com/callahad", "followers_url": "https://api.github.com/users/callahad/followers", "following_url": "https://api.github.com/users/callahad/following{/other_user}", "gists_url": "https://api.github.com/users/callahad/gists{/gist_id}", "starred_url": "https://api.github.com/users/callahad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/callahad/subscriptions", "organizations_url": "https://api.github.com/users/callahad/orgs", "repos_url": "https://api.github.com/users/callahad/repos", "events_url": "https://api.github.com/users/callahad/events{/privacy}", "received_events_url": "https://api.github.com/users/callahad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-16T23:02:35Z", "updated_at": "2016-11-21T07:11:24Z", "closed_at": "2016-11-21T07:11:24Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/105", "html_url": "https://github.com/portier/portier-broker/pull/105", "diff_url": "https://github.com/portier/portier-broker/pull/105.diff", "patch_url": "https://github.com/portier/portier-broker/pull/105.patch", "merged_at": "2016-11-21T07:11:24Z"}, "body": "Still not perfect -- we can still panic in a bunch of places -- but at least this ensures we leave behind sane error messages.\r\n\r\nFixes #56", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/105/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/104", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/104/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/104/events", "html_url": "https://github.com/portier/portier-broker/pull/104", "id": 189185558, "node_id": "MDExOlB1bGxSZXF1ZXN0OTM2MTg4MzY=", "number": 104, "title": "Disable autocomplete for token input (#102)", "user": {"login": "onli", "id": 900380, "node_id": "MDQ6VXNlcjkwMDM4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/900380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/onli", "html_url": "https://github.com/onli", "followers_url": "https://api.github.com/users/onli/followers", "following_url": "https://api.github.com/users/onli/following{/other_user}", "gists_url": "https://api.github.com/users/onli/gists{/gist_id}", "starred_url": "https://api.github.com/users/onli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/onli/subscriptions", "organizations_url": "https://api.github.com/users/onli/orgs", "repos_url": "https://api.github.com/users/onli/repos", "events_url": "https://api.github.com/users/onli/events{/privacy}", "received_events_url": "https://api.github.com/users/onli/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-14T18:16:44Z", "updated_at": "2016-11-16T11:23:56Z", "closed_at": "2016-11-16T11:23:56Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/104", "html_url": "https://github.com/portier/portier-broker/pull/104", "diff_url": "https://github.com/portier/portier-broker/pull/104.diff", "patch_url": "https://github.com/portier/portier-broker/pull/104.patch", "merged_at": "2016-11-16T11:23:56Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/104/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/104/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/103", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/103/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/103/events", "html_url": "https://github.com/portier/portier-broker/pull/103", "id": 187553875, "node_id": "MDExOlB1bGxSZXF1ZXN0OTI0ODMyMzE=", "number": 103, "title": "Implement OTP using 12 chars of z-base-32.", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-06T10:39:42Z", "updated_at": "2016-11-06T21:25:34Z", "closed_at": "2016-11-06T21:25:34Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/103", "html_url": "https://github.com/portier/portier-broker/pull/103", "diff_url": "https://github.com/portier/portier-broker/pull/103.diff", "patch_url": "https://github.com/portier/portier-broker/pull/103.patch", "merged_at": "2016-11-06T21:25:34Z"}, "body": "Implementation of 12 character codes from z-base-32, as discussed in #69.\r\n\r\nThis also ignores case and any other input outside the character set.", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/103/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/portier/portier-broker/issues/86", "repository_url": "https://api.github.com/repos/portier/portier-broker", "labels_url": "https://api.github.com/repos/portier/portier-broker/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/portier/portier-broker/issues/86/comments", "events_url": "https://api.github.com/repos/portier/portier-broker/issues/86/events", "html_url": "https://github.com/portier/portier-broker/pull/86", "id": 186138468, "node_id": "MDExOlB1bGxSZXF1ZXN0OTE1MjI5NDU=", "number": 86, "title": "Implement implicit flow for Google.", "user": {"login": "stephank", "id": 89950, "node_id": "MDQ6VXNlcjg5OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/89950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephank", "html_url": "https://github.com/stephank", "followers_url": "https://api.github.com/users/stephank/followers", "following_url": "https://api.github.com/users/stephank/following{/other_user}", "gists_url": "https://api.github.com/users/stephank/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephank/subscriptions", "organizations_url": "https://api.github.com/users/stephank/orgs", "repos_url": "https://api.github.com/users/stephank/repos", "events_url": "https://api.github.com/users/stephank/events{/privacy}", "received_events_url": "https://api.github.com/users/stephank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-10-30T14:16:38Z", "updated_at": "2017-02-01T16:34:16Z", "closed_at": "2017-02-01T16:34:15Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/portier/portier-broker/pulls/86", "html_url": "https://github.com/portier/portier-broker/pull/86", "diff_url": "https://github.com/portier/portier-broker/pull/86.diff", "patch_url": "https://github.com/portier/portier-broker/pull/86.patch", "merged_at": "2017-02-01T16:34:15Z"}, "body": "Alternative to #84. See also the discussion in #85.\r\n\r\nWhen using the implicit flow with Google, there is apparently never a prompt, not even on the first login. Perhaps that's because we already provide a `login_hint` as well.\r\n\r\nWe're also never listed in 'connected apps' in Google settings, because we don't have an access token. That's pretty good too. (However, if we want to send `prompt=consent` in the future, we _do_ get listed, and we _do_ get scary warnings the second login and beyond, like in #80. Maybe there are more options to control that.)\r\n\r\nGoogle doesn't support `response_mode=form_post`, so we add a small page inbetween to capture the fragment parameters and POST them to us.\r\n\r\nThis removes a roundtrip on the server side, but adds a roundtrip on the client side. However, this also eliminates lingering access tokens, and maybe even preps us for supporting more OIDC providers in the future.\r\n", "reactions": {"url": "https://api.github.com/repos/portier/portier-broker/issues/86/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/portier/portier-broker/issues/86/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]