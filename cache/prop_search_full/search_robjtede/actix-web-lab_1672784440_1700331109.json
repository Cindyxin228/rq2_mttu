[{"url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/65", "repository_url": "https://api.github.com/repos/robjtede/actix-web-lab", "labels_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/65/comments", "events_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/65/events", "html_url": "https://github.com/robjtede/actix-web-lab/pull/65", "id": 1998451425, "node_id": "PR_kwDOGnw7G85ftwwV", "number": 65, "title": "Add middleware to redirect traffic from www host", "user": {"login": "ggueyraud", "id": 6317138, "node_id": "MDQ6VXNlcjYzMTcxMzg=", "avatar_url": "https://avatars.githubusercontent.com/u/6317138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ggueyraud", "html_url": "https://github.com/ggueyraud", "followers_url": "https://api.github.com/users/ggueyraud/followers", "following_url": "https://api.github.com/users/ggueyraud/following{/other_user}", "gists_url": "https://api.github.com/users/ggueyraud/gists{/gist_id}", "starred_url": "https://api.github.com/users/ggueyraud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ggueyraud/subscriptions", "organizations_url": "https://api.github.com/users/ggueyraud/orgs", "repos_url": "https://api.github.com/users/ggueyraud/repos", "events_url": "https://api.github.com/users/ggueyraud/events{/privacy}", "received_events_url": "https://api.github.com/users/ggueyraud/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-11-17T07:28:34Z", "updated_at": "2023-11-18T21:19:32Z", "closed_at": "2023-11-17T12:46:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/robjtede/actix-web-lab/pulls/65", "html_url": "https://github.com/robjtede/actix-web-lab/pull/65", "diff_url": "https://github.com/robjtede/actix-web-lab/pull/65.diff", "patch_url": "https://github.com/robjtede/actix-web-lab/pull/65.patch", "merged_at": "2023-11-17T12:46:11Z"}, "body": "Redirect traffic from www to non-www host. Maybe use .split instead of [..x] could be more standard but it achieve the same work here, tell me I will make the change.", "reactions": {"url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/65/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/65/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/62", "repository_url": "https://api.github.com/repos/robjtede/actix-web-lab", "labels_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/62/comments", "events_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/62/events", "html_url": "https://github.com/robjtede/actix-web-lab/pull/62", "id": 1943068670, "node_id": "PR_kwDOGnw7G85cyuMq", "number": 62, "title": "SSE: Just use Stream instead of SseSender", "user": {"login": "payload", "id": 144412, "node_id": "MDQ6VXNlcjE0NDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/144412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/payload", "html_url": "https://github.com/payload", "followers_url": "https://api.github.com/users/payload/followers", "following_url": "https://api.github.com/users/payload/following{/other_user}", "gists_url": "https://api.github.com/users/payload/gists{/gist_id}", "starred_url": "https://api.github.com/users/payload/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/payload/subscriptions", "organizations_url": "https://api.github.com/users/payload/orgs", "repos_url": "https://api.github.com/users/payload/repos", "events_url": "https://api.github.com/users/payload/events{/privacy}", "received_events_url": "https://api.github.com/users/payload/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-10-14T07:56:34Z", "updated_at": "2023-10-24T23:43:36Z", "closed_at": "2023-10-24T23:42:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/robjtede/actix-web-lab/pulls/62", "html_url": "https://github.com/robjtede/actix-web-lab/pull/62", "diff_url": "https://github.com/robjtede/actix-web-lab/pull/62.diff", "patch_url": "https://github.com/robjtede/actix-web-lab/pull/62.patch", "merged_at": "2023-10-24T23:42:57Z"}, "body": "Looking at the SSE examples, an odd part for me is to use an SSE specific channel call to get a SseSender and use that in a producer. This PR shows that it can be independent of the channel type by sticking to the concept that any Stream trait object can be a producer of server-sent events. So all I need in a producer is something which is Stream eventually.\r\n\r\nIf an unbounded channel or a different kind of channel is preferred by the user it should be obvious that SSE is not imposing any special requirement on the channel type. It just needs to be Stream eventually.\r\n\r\nI view the SSE Responder in this case as a consumer of SSE events and the producer is the user defined thing producing eventually SSE events or things which can be turned into SSE events.\r\n\r\nFunnily tokio mpsc bounded Receiver is not implementing Stream itself but tokio-stream provides a ReceiverStream wrapper type which takes the Receiver and implements Stream. Here in the PR I introduced `Sse::from_receiver` to be a bit more convenient in this regard. The user does not need to use the tokio-stream dependency by himself.\r\n\r\nThere are multiple `Sse::from_*` functions now and it is maybe not the best pattern here. I need feedback if maybe another trait and From implementations for this trait and Receiver (and all the other tokio receiver types) are better such that `Sse::from` can be used in all cases.\r\n\r\nAfter wrapping a Receiver in  a ReceiverStream a user could now also call map on it. So it is more composable than receiver types by themself. For example this allows patterns where the data producer is independent of SSE, for example produces a user defined type or String and than the stream is mapped into Sse::Data.\r\n\r\n## Other feedback to this SSE interface\r\n\r\nWhen the producer is not channels based but a stream by itself, for example a streaming answer from some database query, I can imagine that this is mapped quite well to SSE events. So this is good.\r\n\r\nI got confused by the use of Infallible in the examples because I did not knew Infallible. It also feels a bit clunky to produce Results of Events in a stream. It is discouraging when the example needs to use turbofish to say that there are no errors.\r\n`Ok::<_, Infallible>(sse::Event::Data(data))` Can this be more convenient? Would have expected just `Ok(data)`.\r\n\r\n`Sse::Event::Comment` confused me and I needed to look SSE comments up in MDN to find out that they are actually not showing up on the client side javascript events. I think they don't need to be so prominent in the examples.\r\n\r\nThanks @cjrh for the great discussions on this during #EuroRust23 \ud83e\udd80", "reactions": {"url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/62/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/62/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/61", "repository_url": "https://api.github.com/repos/robjtede/actix-web-lab", "labels_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/61/comments", "events_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/61/events", "html_url": "https://github.com/robjtede/actix-web-lab/pull/61", "id": 1939924631, "node_id": "PR_kwDOGnw7G85coW5f", "number": 61, "title": "add x-forwarded-prefix header", "user": {"login": "robjtede", "id": 3316789, "node_id": "MDQ6VXNlcjMzMTY3ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/3316789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robjtede", "html_url": "https://github.com/robjtede", "followers_url": "https://api.github.com/users/robjtede/followers", "following_url": "https://api.github.com/users/robjtede/following{/other_user}", "gists_url": "https://api.github.com/users/robjtede/gists{/gist_id}", "starred_url": "https://api.github.com/users/robjtede/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robjtede/subscriptions", "organizations_url": "https://api.github.com/users/robjtede/orgs", "repos_url": "https://api.github.com/users/robjtede/repos", "events_url": "https://api.github.com/users/robjtede/events{/privacy}", "received_events_url": "https://api.github.com/users/robjtede/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-12T12:46:59Z", "updated_at": "2023-10-16T22:44:46Z", "closed_at": "2023-10-16T22:44:45Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/robjtede/actix-web-lab/pulls/61", "html_url": "https://github.com/robjtede/actix-web-lab/pull/61", "diff_url": "https://github.com/robjtede/actix-web-lab/pull/61.diff", "patch_url": "https://github.com/robjtede/actix-web-lab/pull/61.patch", "merged_at": "2023-10-16T22:44:45Z"}, "body": "references:\r\n- https://github.com/dotnet/aspnetcore/issues/23263#issuecomment-776192575", "reactions": {"url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/61/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/61/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/60", "repository_url": "https://api.github.com/repos/robjtede/actix-web-lab", "labels_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/60/comments", "events_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/60/events", "html_url": "https://github.com/robjtede/actix-web-lab/pull/60", "id": 1937972747, "node_id": "PR_kwDOGnw7G85cho4Q", "number": 60, "title": "Add json extractor example ", "user": {"login": "midnightexigent", "id": 36641328, "node_id": "MDQ6VXNlcjM2NjQxMzI4", "avatar_url": "https://avatars.githubusercontent.com/u/36641328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midnightexigent", "html_url": "https://github.com/midnightexigent", "followers_url": "https://api.github.com/users/midnightexigent/followers", "following_url": "https://api.github.com/users/midnightexigent/following{/other_user}", "gists_url": "https://api.github.com/users/midnightexigent/gists{/gist_id}", "starred_url": "https://api.github.com/users/midnightexigent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midnightexigent/subscriptions", "organizations_url": "https://api.github.com/users/midnightexigent/orgs", "repos_url": "https://api.github.com/users/midnightexigent/repos", "events_url": "https://api.github.com/users/midnightexigent/events{/privacy}", "received_events_url": "https://api.github.com/users/midnightexigent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-10-11T14:43:45Z", "updated_at": "2023-10-24T14:17:32Z", "closed_at": "2023-10-24T14:17:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/robjtede/actix-web-lab/pulls/60", "html_url": "https://github.com/robjtede/actix-web-lab/pull/60", "diff_url": "https://github.com/robjtede/actix-web-lab/pull/60.diff", "patch_url": "https://github.com/robjtede/actix-web-lab/pull/60.patch", "merged_at": "2023-10-24T14:17:31Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/60/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/robjtede/actix-web-lab/issues/60/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]