[{"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/33", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/33/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/33/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/33", "id": 2522508323, "node_id": "PR_kwDOEUMOTM57T2d9", "number": 33, "title": "psx: Add doc comments to fix CI", "user": {"login": "ayrtonm", "id": 4975834, "node_id": "MDQ6VXNlcjQ5NzU4MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4975834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayrtonm", "html_url": "https://github.com/ayrtonm", "followers_url": "https://api.github.com/users/ayrtonm/followers", "following_url": "https://api.github.com/users/ayrtonm/following{/other_user}", "gists_url": "https://api.github.com/users/ayrtonm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayrtonm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayrtonm/subscriptions", "organizations_url": "https://api.github.com/users/ayrtonm/orgs", "repos_url": "https://api.github.com/users/ayrtonm/repos", "events_url": "https://api.github.com/users/ayrtonm/events{/privacy}", "received_events_url": "https://api.github.com/users/ayrtonm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-09-12T14:06:28Z", "updated_at": "2024-09-12T17:12:57Z", "closed_at": "2024-09-12T14:11:02Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/33", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/33", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/33.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/33.patch", "merged_at": "2024-09-12T14:11:02Z"}, "body": "Should fix CI issue in #32. Not sure why this suddenly broke on nightly or why it was working before tbh.", "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/33/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/33/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/32", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/32/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/32/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/32", "id": 2513180244, "node_id": "PR_kwDOEUMOTM56z04Y", "number": 32, "title": "Enable all Framebuffer NTSC / PAL screen modes", "user": {"login": "hornc", "id": 905545, "node_id": "MDQ6VXNlcjkwNTU0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/905545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hornc", "html_url": "https://github.com/hornc", "followers_url": "https://api.github.com/users/hornc/followers", "following_url": "https://api.github.com/users/hornc/following{/other_user}", "gists_url": "https://api.github.com/users/hornc/gists{/gist_id}", "starred_url": "https://api.github.com/users/hornc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hornc/subscriptions", "organizations_url": "https://api.github.com/users/hornc/orgs", "repos_url": "https://api.github.com/users/hornc/repos", "events_url": "https://api.github.com/users/hornc/events{/privacy}", "received_events_url": "https://api.github.com/users/hornc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-09-09T07:47:24Z", "updated_at": "2024-09-26T01:29:42Z", "closed_at": "2024-09-25T21:15:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/32", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/32", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/32.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/32.patch", "merged_at": "2024-09-25T21:15:49Z"}, "body": "This PR:\r\n* Fixes NTSC 256x240 mode, which previously displayed as 205x240 (in Mednafen emulator at least)\r\n* Enables NTSC 512x240 and NTSC 640x240 modes, which previous paniced on InvalidY from an over-PackedVector\r\n* Autoselects appropriate interlace mode based on Framebuffer height for both PAL and NTSC, previously 480 and 512 heights displayed at the non-interlaced resolutions (240 and 256)\r\n* Enables all PAL mode Framebuffers, by adding them as valid Vres, and fixing an off-by-one error on `lower_right` corners which does not cause errors in NTSC modes, but does for PAL modes in the 512 height VRAM\r\n* Changes the horizontal width 368 to 384. This is a strange mode, it seems theoretical? I was looking at Yaroze documentation which consistently claims 384 is the correct value, happy to revert this if there is a reason why 368 is correct?\r\n\r\nUnfortunately I still don't quite understand the range of values that can be passed to\r\n[GP1(06h) - Horizontal Display range (on Screen)](https://problemkaputt.de/psx-spx.htm#gpudisplaycontrolcommandsgp1), or what the units are.\r\n\r\nI _think_ the exact values are (mostly?) independent of the desired display resolution and have more to do with the analog video output signal and the range of analog display devices (CRTs), and depend on VSYNC and HSYNC timings of PAL/NTSC signals and so on...  The documentation I have seen isn't very clear, and all explanations I have found make sense for NTSC 320x240, but it's difficult to apply to other modes. I could also be missing something.\r\n\r\nSupporting my theory that the value is independent: https://github.com/Lameguy64/PSn00bSDK/blob/702bb601fb5712e2ae962a34b89204c646fe98f5/libpsn00b/psxgpu/env.c#L149 `SetDefDispEnv` appears to set all the _screen_ values to 0 regardless of the supplied `x, y, w, h`, and that causes identical  values to what `psx-sdk-rs` previously calculated for 320x240 to be sent to  GP1(06h) -- so the values are effectively hard coded. I have not disassembled PsyQ to figure out what it uses.\r\n\r\nThe current `psx-sdk-rs`  calculated values for widths 512 and 640 overflow the PackedVertex, and panic with `InvalidY`, so the current formula is not correct for those resolutions. The calculated value for 256 x 240 also truncated the displayed screen to 205x240, so the formula also seems incorrect for lower widths too. This PR's hardcoded value gives expected results for all resolutions (... except 384, but maybe that is expected, or another PSX issue?)\r\n\r\n\r\nI have currently only tested this in one emulator (Mednafen); testing non-interlaced and interlaced double buffering modes for NTSC and PAL with text display and PolyF4 drawing.\r\n\r\nI should be able to test the PAL modes on a real PSX (hopefully GP1(06h) won't damage my stuff!)\r\n\r\nSorry for the description verbosity, there are only a few lines of code changed here, but testing all ~20 mode combinations has taken some time to research and write test examples for. I hope the problems I'm fixing are clear enough!\r\n\r\nIf anyone has any comments or tips for testing, please comment below!\r\n\r\ntagging @Kapouett because you said you were interested in PAL modes (a while ago now!)\r\n@ayrtonm, I'd love to get your feedback on this, you've probably read all the same slightly unclear docs I did.\r\n\r\n### Testing:\r\nnon-interlaced modes, tested in emulator (Mednafen)\r\nVertically stacked disp/draw: `Framebuffer::new((0, 0), (0, y), (x, y), VideoMode::NTSC) `\r\n\r\n<google-sheets-html-origin><style type=\"text/css\"><!--td {border: 1px solid #cccccc;}br {mso-data-placement:same-cell;}--></style>\r\n\r\nmode (NTSC) | BEFORE | AFTER\r\n-- | -- | --\r\nNTSC 256 x 240 | Truncated width, 205 pixels wide, 240 high | WORKING (256 x 240)\r\nNTSC 320 x 240 | WORKING | WORKING\r\nNTSC 512 x 240 | InvalidY @ psx/gpu/vertex PackedVertex::const_try_from() via horizontal_range() | WORKING\r\nNTSC 640 x 240 | InvalidY @ psx/gpu/vertex PackedVertex::const_try_from() via horizontal_range() | WORKING\r\nNTSC 368 x 240 | WORKING (368 wdith) | InvalidX @ psx/hw/gpu/gp1 display_mode()\r\nNTSC 384 x 240 | InvalidX @ psx/hw/gpu/gp1 display_mode() | Truncated width = 364 pixels displayed on screen, (disp and draw are 384)\r\n**mode (PAL)** | **BEFORE** | **AFTER**\r\nPAL 256 x 256 | InvalidY @ psx/gpu/vertex PackedVertex::const_try_from() via psx/gpu/mod lower_right: PackedVertex<3, 10, 9> | WORKING, 256x256\r\nPAL 320 x 256 | InvalidY @ psx/gpu/vertex PackedVertex::const_try_from() via psx/gpu/mod lower_right: PackedVertex<3, 10, 9> | WORKING, 320x256\r\nPAL 512 x 256 | InvalidY @ psx/gpu/vertex PackedVertex::const_try_from() via psx/gpu/mod lower_right: PackedVertex<3, 10, 9> | WORKING, 512x256\r\nPAL 640 x 256 | InvalidY @ psx/gpu/vertex PackedVertex::const_try_from() via psx/gpu/mod lower_right: PackedVertex<3, 10, 9> | WORKING, 640x256\r\nPAL 368 x 256 | InvalidY @ psx/gpu/vertex PackedVertex::const_try_from() via psx/gpu/mod lower_right: PackedVertex<3, 10, 9> | InvalidX @ psx/hw/gpu/gp1 display_mode()\r\nPAL 384 x 256 | InvalidX @ psx/hw/gpu/gp1 display_mode() | Truncated width = 364 pixels displayed on screen, (disp and draw are 384)\r\n\r\nIt looks like maybe I should revert the 368 -> 384 change for now as it seemed more sensible before.\r\n\r\nI also tested Interlaced Display / Draw Framebuffers (side-by-side). They all use the non-interlaced screen height for display since the interlaced mode flag is currently hardcoded. ~I should be able to fix this too.~ *UPDATE:* Interlaced modes are now enabled in 221c2c6d177391af10aa16041a9c5ebe4884f83b \r\n\r\n**TODO later, not in this PR**:\r\n* Looks like pixel mode is also hardcoded to Depth::Bits15. Not sure how to select Depth::Bits24, \"24-bit true-color mode\" https://github.com/ayrtonm/psx-sdk-rs/blob/fe4e0ecccae8123c1bec68071fda53e4cb15dc19/psx/src/framebuffer.rs#L80\r\n* Interlaced PAL (screen height 512) doesn't have the background fill.\r\n\t* `bg_color_cmd: 0x02`, - Fill Rectangle in VRAM, 3rd arg:  `Width+Height      (YsizXsizh)  ;Xsiz counted in halfwords, steps of 10h` , via https://problemkaputt.de/psx-spx.htm#gpumemorytransfercommands\r\n\t* this does _not_ have an off-by-one error: it really is the Y size (not lower right corner), but its max value is 0x1ff (511) so it cannot fully fill a 512 high region, the best it can do is fill 511 and leave one pixel row blank.\r\n\t* Suggested FIX/workaround: in psx/src/gpu/mod.rs accept all values for bg_size, unless bg_size.1 == 512, then change it to 511,  or  `min(bg_size.1, 511)` . This seems a problem with the PSX GPU command, not the sdk.\r\n\r\n\r\nAlso, I don't know why the last test failed on CI -- it appears unrelated to my changes, and I don't get the error locally.", "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/32/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/32/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/31", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/31/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/31/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/31", "id": 2484908580, "node_id": "PR_kwDOEUMOTM55Vs7z", "number": 31, "title": "psx: Updates to panic info for 1.81.0 (~Jun 2024)", "user": {"login": "hornc", "id": 905545, "node_id": "MDQ6VXNlcjkwNTU0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/905545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hornc", "html_url": "https://github.com/hornc", "followers_url": "https://api.github.com/users/hornc/followers", "following_url": "https://api.github.com/users/hornc/following{/other_user}", "gists_url": "https://api.github.com/users/hornc/gists{/gist_id}", "starred_url": "https://api.github.com/users/hornc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hornc/subscriptions", "organizations_url": "https://api.github.com/users/hornc/orgs", "repos_url": "https://api.github.com/users/hornc/repos", "events_url": "https://api.github.com/users/hornc/events{/privacy}", "received_events_url": "https://api.github.com/users/hornc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2024-08-24T22:45:52Z", "updated_at": "2024-08-25T04:39:33Z", "closed_at": "2024-08-25T04:39:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/31", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/31", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/31.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/31.patch", "merged_at": "2024-08-25T04:39:33Z"}, "body": "`panic_info_message` has been stable since 1.81.0\r\n see\r\nhttps://stackoverflow.com/questions/78900800/trying-to-access-the-panic-info-message-causes-a-mismatched-types-error\r\n and\r\nhttps://github.com/rust-lang/rust/pull/115974\r\n\r\nThis PR \r\n* removes the `if let`s following the advice from the stackoverflow post above\r\n* removes the feature attribute for `panic_info_message` now that is is stable (since 1.81.0)\r\n\r\nI was using the recent\r\n```\r\nrustc 1.82.0-nightly (4074d4902 2024-08-23)\r\n```\r\n\r\nAttempting `cargo psx run` of the Ferris example gave me errors like:\r\n\r\n```\r\nerror[E0308]: mismatched types\r\n  --> PATH_REDACTED/src/panic.rs:19:16\r\n   |\r\n19 |         if let Some(msg) = info.message() {\r\n   |                ^^^^^^^^^   -------------- this expression has type `PanicMessage<'_>`\r\n   |                |\r\n   |                expected `PanicMessage<'_>`, found `Option<_>`\r\n   |\r\n   = note: expected struct `PanicMessage<'_>`\r\n                found enum `Option<_>`\r\n\r\n```\r\n\r\nand also\r\n\r\n```\r\nwarning: the feature `panic_info_message` has been stable since 1.81.0 and no longer requires an attribute to enable\r\n  -->  PATH_REDACTED/psx-sdk-rs/psx/src/lib.rs:44:12\r\n   |\r\n44 | #![feature(panic_info_message)]\r\n   |            ^^^^^^^^^^^^^^^^^^\r\n   |\r\n   = note: `#[warn(stable_features)]` on by default\r\n```", "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/31/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/31/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/30", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/30/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/30/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/30", "id": 2068905502, "node_id": "PR_kwDOEUMOTM5jZPmz", "number": 30, "title": "Fix panic by disabling exceptions and more BIOS bug fixes", "user": {"login": "ayrtonm", "id": 4975834, "node_id": "MDQ6VXNlcjQ5NzU4MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4975834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayrtonm", "html_url": "https://github.com/ayrtonm", "followers_url": "https://api.github.com/users/ayrtonm/followers", "following_url": "https://api.github.com/users/ayrtonm/following{/other_user}", "gists_url": "https://api.github.com/users/ayrtonm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayrtonm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayrtonm/subscriptions", "organizations_url": "https://api.github.com/users/ayrtonm/orgs", "repos_url": "https://api.github.com/users/ayrtonm/repos", "events_url": "https://api.github.com/users/ayrtonm/events{/privacy}", "received_events_url": "https://api.github.com/users/ayrtonm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2024-01-07T00:34:18Z", "updated_at": "2024-01-07T01:51:46Z", "closed_at": "2024-01-07T00:43:53Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/30", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/30", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/30.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/30.patch", "merged_at": "2024-01-07T00:43:53Z"}, "body": "Hopefully the BIOS should be bug-free enough to be useful for CI now. See commit messages for details on other fixes.", "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/30/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/30/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/26", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/26/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/26/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/26", "id": 1535209248, "node_id": "PR_kwDOEUMOTM5HeyVh", "number": 26, "title": "ci: Build examples", "user": {"login": "ayrtonm", "id": 4975834, "node_id": "MDQ6VXNlcjQ5NzU4MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4975834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayrtonm", "html_url": "https://github.com/ayrtonm", "followers_url": "https://api.github.com/users/ayrtonm/followers", "following_url": "https://api.github.com/users/ayrtonm/following{/other_user}", "gists_url": "https://api.github.com/users/ayrtonm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayrtonm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayrtonm/subscriptions", "organizations_url": "https://api.github.com/users/ayrtonm/orgs", "repos_url": "https://api.github.com/users/ayrtonm/repos", "events_url": "https://api.github.com/users/ayrtonm/events{/privacy}", "received_events_url": "https://api.github.com/users/ayrtonm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-16T16:32:48Z", "updated_at": "2023-01-16T18:16:14Z", "closed_at": "2023-01-16T18:12:26Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/26", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/26", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/26.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/26.patch", "merged_at": "2023-01-16T18:12:26Z"}, "body": "Running examples with xvfb is kinda annoying so I'm leaving running the examples to a separate PR and just building examples in this one. Closes #21.", "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/26/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/26/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/23", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/23/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/23/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/23", "id": 1534325149, "node_id": "PR_kwDOEUMOTM5HbzI0", "number": 23, "title": "Add --features to cargo-psx and document the subcommand", "user": {"login": "ayrtonm", "id": 4975834, "node_id": "MDQ6VXNlcjQ5NzU4MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4975834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayrtonm", "html_url": "https://github.com/ayrtonm", "followers_url": "https://api.github.com/users/ayrtonm/followers", "following_url": "https://api.github.com/users/ayrtonm/following{/other_user}", "gists_url": "https://api.github.com/users/ayrtonm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayrtonm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayrtonm/subscriptions", "organizations_url": "https://api.github.com/users/ayrtonm/orgs", "repos_url": "https://api.github.com/users/ayrtonm/repos", "events_url": "https://api.github.com/users/ayrtonm/events{/privacy}", "received_events_url": "https://api.github.com/users/ayrtonm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-16T05:28:22Z", "updated_at": "2023-01-16T18:16:07Z", "closed_at": "2023-01-16T17:47:30Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/23", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/23", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/23.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/23.patch", "merged_at": "2023-01-16T17:47:30Z"}, "body": "This is the change mentioned in #21. It shouldn't be much more extensive than, but the basic idea is to add a `--features` flag just like normal `cargo` and remove some of the flags that are made redundant by this. @HazeSystem I'll add the README later in this same PR.", "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/23/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/23/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/22", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/22/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/22/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/22", "id": 1533400064, "node_id": "PR_kwDOEUMOTM5HYyHQ", "number": 22, "title": "Fix donut example", "user": {"login": "HazeSystem", "id": 37942530, "node_id": "MDQ6VXNlcjM3OTQyNTMw", "avatar_url": "https://avatars.githubusercontent.com/u/37942530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HazeSystem", "html_url": "https://github.com/HazeSystem", "followers_url": "https://api.github.com/users/HazeSystem/followers", "following_url": "https://api.github.com/users/HazeSystem/following{/other_user}", "gists_url": "https://api.github.com/users/HazeSystem/gists{/gist_id}", "starred_url": "https://api.github.com/users/HazeSystem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HazeSystem/subscriptions", "organizations_url": "https://api.github.com/users/HazeSystem/orgs", "repos_url": "https://api.github.com/users/HazeSystem/repos", "events_url": "https://api.github.com/users/HazeSystem/events{/privacy}", "received_events_url": "https://api.github.com/users/HazeSystem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-14T17:59:03Z", "updated_at": "2023-01-16T04:38:09Z", "closed_at": "2023-01-16T04:38:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/22", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/22", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/22.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/22.patch", "merged_at": "2023-01-16T04:38:09Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/22/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/22/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/19", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/19/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/19/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/19", "id": 1533015943, "node_id": "PR_kwDOEUMOTM5HXj2O", "number": 19, "title": "ci: Build BIOS with LTO and fix CI", "user": {"login": "ayrtonm", "id": 4975834, "node_id": "MDQ6VXNlcjQ5NzU4MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4975834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayrtonm", "html_url": "https://github.com/ayrtonm", "followers_url": "https://api.github.com/users/ayrtonm/followers", "following_url": "https://api.github.com/users/ayrtonm/following{/other_user}", "gists_url": "https://api.github.com/users/ayrtonm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayrtonm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayrtonm/subscriptions", "organizations_url": "https://api.github.com/users/ayrtonm/orgs", "repos_url": "https://api.github.com/users/ayrtonm/repos", "events_url": "https://api.github.com/users/ayrtonm/events{/privacy}", "received_events_url": "https://api.github.com/users/ayrtonm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-13T23:02:00Z", "updated_at": "2023-01-13T23:14:02Z", "closed_at": "2023-01-13T23:08:06Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/19", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/19", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/19.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/19.patch", "merged_at": "2023-01-13T23:08:06Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/19/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/19/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/18", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/18/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/18/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/18", "id": 1532995145, "node_id": "PR_kwDOEUMOTM5HXfTP", "number": 18, "title": "Run psx crate tests using BIOS example", "user": {"login": "ayrtonm", "id": 4975834, "node_id": "MDQ6VXNlcjQ5NzU4MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4975834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayrtonm", "html_url": "https://github.com/ayrtonm", "followers_url": "https://api.github.com/users/ayrtonm/followers", "following_url": "https://api.github.com/users/ayrtonm/following{/other_user}", "gists_url": "https://api.github.com/users/ayrtonm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayrtonm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayrtonm/subscriptions", "organizations_url": "https://api.github.com/users/ayrtonm/orgs", "repos_url": "https://api.github.com/users/ayrtonm/repos", "events_url": "https://api.github.com/users/ayrtonm/events{/privacy}", "received_events_url": "https://api.github.com/users/ayrtonm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-13T22:35:10Z", "updated_at": "2023-01-13T23:14:05Z", "closed_at": "2023-01-13T22:41:14Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/18", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/18", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/18.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/18.patch", "merged_at": "2023-01-13T22:41:14Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/18/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/18/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/17", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/17/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/17/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/17", "id": 1437044709, "node_id": "PR_kwDOEUMOTM5CQrto", "number": 17, "title": "Replace embedded target json with builtin target", "user": {"login": "ayrtonm", "id": 4975834, "node_id": "MDQ6VXNlcjQ5NzU4MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4975834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayrtonm", "html_url": "https://github.com/ayrtonm", "followers_url": "https://api.github.com/users/ayrtonm/followers", "following_url": "https://api.github.com/users/ayrtonm/following{/other_user}", "gists_url": "https://api.github.com/users/ayrtonm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayrtonm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayrtonm/subscriptions", "organizations_url": "https://api.github.com/users/ayrtonm/orgs", "repos_url": "https://api.github.com/users/ayrtonm/repos", "events_url": "https://api.github.com/users/ayrtonm/events{/privacy}", "received_events_url": "https://api.github.com/users/ayrtonm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-05T14:11:26Z", "updated_at": "2023-01-13T23:14:14Z", "closed_at": "2022-11-05T14:44:48Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/17", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/17", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/17.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/17.patch", "merged_at": "2022-11-05T14:44:48Z"}, "body": "Closes #16. I should check the compiler version and bump the MSRV.", "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/17/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/17/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/14", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/14/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/14/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/14", "id": 1405501727, "node_id": "PR_kwDOEUMOTM5AnYUJ", "number": 14, "title": "Run BIOS main loop in CI", "user": {"login": "ayrtonm", "id": 4975834, "node_id": "MDQ6VXNlcjQ5NzU4MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4975834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayrtonm", "html_url": "https://github.com/ayrtonm", "followers_url": "https://api.github.com/users/ayrtonm/followers", "following_url": "https://api.github.com/users/ayrtonm/following{/other_user}", "gists_url": "https://api.github.com/users/ayrtonm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayrtonm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayrtonm/subscriptions", "organizations_url": "https://api.github.com/users/ayrtonm/orgs", "repos_url": "https://api.github.com/users/ayrtonm/repos", "events_url": "https://api.github.com/users/ayrtonm/events{/privacy}", "received_events_url": "https://api.github.com/users/ayrtonm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-12T03:32:17Z", "updated_at": "2022-10-12T04:46:41Z", "closed_at": "2022-10-12T04:45:30Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/14", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/14", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/14.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/14.patch", "merged_at": "2022-10-12T04:45:30Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/14/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/14/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/12", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/12/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/12/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/12", "id": 1375030983, "node_id": "PR_kwDOEUMOTM4_DVjf", "number": 12, "title": "Fix miscellaneous warnings", "user": {"login": "ayrtonm", "id": 4975834, "node_id": "MDQ6VXNlcjQ5NzU4MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4975834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayrtonm", "html_url": "https://github.com/ayrtonm", "followers_url": "https://api.github.com/users/ayrtonm/followers", "following_url": "https://api.github.com/users/ayrtonm/following{/other_user}", "gists_url": "https://api.github.com/users/ayrtonm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayrtonm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayrtonm/subscriptions", "organizations_url": "https://api.github.com/users/ayrtonm/orgs", "repos_url": "https://api.github.com/users/ayrtonm/repos", "events_url": "https://api.github.com/users/ayrtonm/events{/privacy}", "received_events_url": "https://api.github.com/users/ayrtonm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-15T20:11:35Z", "updated_at": "2022-09-15T20:16:21Z", "closed_at": "2022-09-15T20:14:12Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/12", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/12", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/12.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/12.patch", "merged_at": "2022-09-15T20:14:12Z"}, "body": "Just checking the CI works.", "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/12/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/11", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/11/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/11/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/11", "id": 1375007780, "node_id": "PR_kwDOEUMOTM4_DQfa", "number": 11, "title": "Add basic github CI", "user": {"login": "ayrtonm", "id": 4975834, "node_id": "MDQ6VXNlcjQ5NzU4MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4975834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayrtonm", "html_url": "https://github.com/ayrtonm", "followers_url": "https://api.github.com/users/ayrtonm/followers", "following_url": "https://api.github.com/users/ayrtonm/following{/other_user}", "gists_url": "https://api.github.com/users/ayrtonm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayrtonm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayrtonm/subscriptions", "organizations_url": "https://api.github.com/users/ayrtonm/orgs", "repos_url": "https://api.github.com/users/ayrtonm/repos", "events_url": "https://api.github.com/users/ayrtonm/events{/privacy}", "received_events_url": "https://api.github.com/users/ayrtonm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-15T19:51:29Z", "updated_at": "2022-09-15T20:59:30Z", "closed_at": "2022-09-15T20:07:29Z", "author_association": "OWNER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/11", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/11", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/11.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/11.patch", "merged_at": "2022-09-15T20:07:29Z"}, "body": "PR #10 pointed out that there's an issue that's probably caused by not namespacing the BIOS libc symbols, so this adds some basic CI to check if things at least build. It'd be nice to add the `psx` crate tests to this, but that requires a BIOS so github CI would probably not be an option.", "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/11/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/11/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/10", "repository_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs", "labels_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/10/comments", "events_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/10/events", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/10", "id": 1374728170, "node_id": "PR_kwDOEUMOTM4_CU0L", "number": 10, "title": "Fixed linker issue and improved using features", "user": {"login": "Amjad50", "id": 26300843, "node_id": "MDQ6VXNlcjI2MzAwODQz", "avatar_url": "https://avatars.githubusercontent.com/u/26300843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Amjad50", "html_url": "https://github.com/Amjad50", "followers_url": "https://api.github.com/users/Amjad50/followers", "following_url": "https://api.github.com/users/Amjad50/following{/other_user}", "gists_url": "https://api.github.com/users/Amjad50/gists{/gist_id}", "starred_url": "https://api.github.com/users/Amjad50/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Amjad50/subscriptions", "organizations_url": "https://api.github.com/users/Amjad50/orgs", "repos_url": "https://api.github.com/users/Amjad50/repos", "events_url": "https://api.github.com/users/Amjad50/events{/privacy}", "received_events_url": "https://api.github.com/users/Amjad50/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-09-15T15:39:29Z", "updated_at": "2022-09-16T13:35:18Z", "closed_at": "2022-09-16T13:26:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/pulls/10", "html_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/10", "diff_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/10.diff", "patch_url": "https://github.com/ayrtonm/psx-sdk-rs/pull/10.patch", "merged_at": "2022-09-16T13:26:53Z"}, "body": "For some reason, when compiling anything with psx-cargo, it would generate linker exception because it can't find symbol (putchar).\r\n\r\nThe issue is in `println!` specifically the panic handler (the `cfg` edit is related), and was fixed by replacing the call to `kernel::printf` with `kernel::std_out_puts`, it is also more efficient this way, so I changed it as well in `TTY::write_str`.\n\nThe weird thing, I can't find any function with  the name `putchar`, not sure where it comes from.\r\n\r\nAlso instead if using `cfg!` (which will just be replaced by `true`/`false`, its better to use `#[cfg]` macro, so that the code will not be included if not needed.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ayrtonm/psx-sdk-rs/issues/10/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]