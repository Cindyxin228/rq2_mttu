[{"url": "https://api.github.com/repos/amethyst/legion/issues/240", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/240/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/240/events", "html_url": "https://github.com/amethyst/legion/pull/240", "id": 814874709, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc4NzkxNzg1", "number": 240, "title": "Fix parallel chunk iterator using entire index instead of split slice", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1265015089, "node_id": "MDU6TGFiZWwxMjY1MDE1MDg5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20bug", "name": "type: bug", "color": "84b6eb", "default": false, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-23T22:15:17Z", "updated_at": "2021-02-25T08:21:35Z", "closed_at": "2021-02-24T01:38:46Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/240", "html_url": "https://github.com/amethyst/legion/pull/240", "diff_url": "https://github.com/amethyst/legion/pull/240.diff", "patch_url": "https://github.com/amethyst/legion/pull/240.patch", "merged_at": "2021-02-24T01:38:46Z"}, "body": "Parallel iterators were iterating over all chunks rather than their split sub-set... This is obviously a massively critical bug.\r\n\r\nFixes #239 ", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/240/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/238", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/238/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/238/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/238/events", "html_url": "https://github.com/amethyst/legion/pull/238", "id": 810209069, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc0OTM3OTgy", "number": 238, "title": "Use NonZeroU64 to store entity IDs", "user": {"login": "Rua", "id": 3090610, "node_id": "MDQ6VXNlcjMwOTA2MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3090610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rua", "html_url": "https://github.com/Rua", "followers_url": "https://api.github.com/users/Rua/followers", "following_url": "https://api.github.com/users/Rua/following{/other_user}", "gists_url": "https://api.github.com/users/Rua/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rua/subscriptions", "organizations_url": "https://api.github.com/users/Rua/orgs", "repos_url": "https://api.github.com/users/Rua/repos", "events_url": "https://api.github.com/users/Rua/events{/privacy}", "received_events_url": "https://api.github.com/users/Rua/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730605349, "node_id": "MDU6TGFiZWwyNzMwNjA1MzQ5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20improvement", "name": "type: improvement", "color": "84b6eb", "default": false, "description": "An improvement or change to an existing feature"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-17T13:58:46Z", "updated_at": "2021-02-17T15:28:40Z", "closed_at": "2021-02-17T15:13:53Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/238", "html_url": "https://github.com/amethyst/legion/pull/238", "diff_url": "https://github.com/amethyst/legion/pull/238.diff", "patch_url": "https://github.com/amethyst/legion/pull/238.patch", "merged_at": "2021-02-17T15:13:53Z"}, "body": "This fixes #224. I followed @tomgillen's advice on Discord and made the creation of new `Entity`s use `new_unchecked`. I added `debug_assert_ne` and comments to make sure future editors know the safety conditions.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/238/reactions", "total_count": 4, "+1": 0, "-1": 0, "laugh": 0, "hooray": 4, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/238/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/237", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/237/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/237/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/237/events", "html_url": "https://github.com/amethyst/legion/pull/237", "id": 805391154, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcwOTk5NzIz", "number": 237, "title": "Allow Queries to be requested as parameters in #[system]", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1265015091, "node_id": "MDU6TGFiZWwxMjY1MDE1MDkx", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20feature", "name": "type: feature", "color": "84b6eb", "default": false, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-10T10:39:04Z", "updated_at": "2021-02-25T08:29:56Z", "closed_at": "2021-02-25T07:44:12Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/237", "html_url": "https://github.com/amethyst/legion/pull/237", "diff_url": "https://github.com/amethyst/legion/pull/237.diff", "patch_url": "https://github.com/amethyst/legion/pull/237.patch", "merged_at": "2021-02-25T07:44:12Z"}, "body": "This PR allows users to request queries as parameters in basic `#[system]` macro invocations. This allows a system to request multiple queries without the user having to construct them themselves. It also adds these queries to the system (via `SystemBuilder`), which means (in most cases) users won't need to use `#[read_component(T)]`/`#[write_component(T)]` attributes, and the queries persist between each run of the system, allowing for some level of caching between runs.\r\n\r\nFor example, prior to this PR:\r\n\r\n```rust\r\n#[system]\r\n#[read_component(A, B)]\r\n#[write_component(C)]\r\nfn my_system(world: &mut SubWorld) {\r\n    let query_a = <(&A, &mut C)>::query();\r\n    for (a, c) in query_a.iter_mut(world) {\r\n        ...\r\n    }\r\n\r\n    let query_b = <(&B, &mut C)>::query();\r\n    for (b, c) in query_b.iter_mut(world) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nCan now be written as:\r\n\r\n```rust\r\n#[system]\r\nfn my_system(\r\n    world: &mut SubWorld,\r\n    query_a: &mut Query<(&A, &mut C)>,\r\n    query_b: &mut Query<(&B, &mut C)>,\r\n) {\r\n    for (a, c) in query_a.iter_mut(world) {\r\n        ...\r\n    }\r\n\r\n    for (b, c) in query_b.iter_mut(world) {\r\n        ...\r\n    }\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/237/reactions", "total_count": 5, "+1": 0, "-1": 0, "laugh": 0, "hooray": 5, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/237/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/236", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/236/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/236/events", "html_url": "https://github.com/amethyst/legion/pull/236", "id": 802595005, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4NzA5MTE1", "number": 236, "title": "Fix broken links in docs & readme.md", "user": {"login": "FluffyCreature", "id": 59633007, "node_id": "MDQ6VXNlcjU5NjMzMDA3", "avatar_url": "https://avatars.githubusercontent.com/u/59633007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FluffyCreature", "html_url": "https://github.com/FluffyCreature", "followers_url": "https://api.github.com/users/FluffyCreature/followers", "following_url": "https://api.github.com/users/FluffyCreature/following{/other_user}", "gists_url": "https://api.github.com/users/FluffyCreature/gists{/gist_id}", "starred_url": "https://api.github.com/users/FluffyCreature/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FluffyCreature/subscriptions", "organizations_url": "https://api.github.com/users/FluffyCreature/orgs", "repos_url": "https://api.github.com/users/FluffyCreature/repos", "events_url": "https://api.github.com/users/FluffyCreature/events{/privacy}", "received_events_url": "https://api.github.com/users/FluffyCreature/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1265015089, "node_id": "MDU6TGFiZWwxMjY1MDE1MDg5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20bug", "name": "type: bug", "color": "84b6eb", "default": false, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-06T03:12:55Z", "updated_at": "2021-02-10T09:19:15Z", "closed_at": "2021-02-08T01:36:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/236", "html_url": "https://github.com/amethyst/legion/pull/236", "diff_url": "https://github.com/amethyst/legion/pull/236.diff", "patch_url": "https://github.com/amethyst/legion/pull/236.patch", "merged_at": "2021-02-08T01:36:48Z"}, "body": "- Switch to intra-doc links\r\n- Fix broken links in readme.md", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/236/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/236/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/235", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/235/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/235/events", "html_url": "https://github.com/amethyst/legion/pull/235", "id": 802278843, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY4NDQ4ODc4", "number": 235, "title": "allow read in both subworlds within split in system", "user": {"login": "ezpuzz", "id": 672182, "node_id": "MDQ6VXNlcjY3MjE4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/672182?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezpuzz", "html_url": "https://github.com/ezpuzz", "followers_url": "https://api.github.com/users/ezpuzz/followers", "following_url": "https://api.github.com/users/ezpuzz/following{/other_user}", "gists_url": "https://api.github.com/users/ezpuzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezpuzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezpuzz/subscriptions", "organizations_url": "https://api.github.com/users/ezpuzz/orgs", "repos_url": "https://api.github.com/users/ezpuzz/repos", "events_url": "https://api.github.com/users/ezpuzz/events{/privacy}", "received_events_url": "https://api.github.com/users/ezpuzz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1265015089, "node_id": "MDU6TGFiZWwxMjY1MDE1MDg5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20bug", "name": "type: bug", "color": "84b6eb", "default": false, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-05T15:57:36Z", "updated_at": "2021-02-10T09:19:32Z", "closed_at": "2021-02-08T01:34:32Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/235", "html_url": "https://github.com/amethyst/legion/pull/235", "diff_url": "https://github.com/amethyst/legion/pull/235.diff", "patch_url": "https://github.com/amethyst/legion/pull/235.patch", "merged_at": "2021-02-08T01:34:32Z"}, "body": "This function is only called when splitting a systems subworld as only system subworlds use `ComponentAccess::Allow`.\r\n\r\nI believe that if a split includes read only access to a component then both subworlds should be able to read that component.  It would be consistent with documentation.\r\n\r\nAs of now only the left subworld gets read access to read-only components in the View.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/235/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/233", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/233/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/233/events", "html_url": "https://github.com/amethyst/legion/pull/233", "id": 799841680, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY2NDI4MDQz", "number": 233, "title": "synchronize CI functions with Amethyst", "user": {"login": "ezpuzz", "id": 672182, "node_id": "MDQ6VXNlcjY3MjE4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/672182?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezpuzz", "html_url": "https://github.com/ezpuzz", "followers_url": "https://api.github.com/users/ezpuzz/followers", "following_url": "https://api.github.com/users/ezpuzz/following{/other_user}", "gists_url": "https://api.github.com/users/ezpuzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezpuzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezpuzz/subscriptions", "organizations_url": "https://api.github.com/users/ezpuzz/orgs", "repos_url": "https://api.github.com/users/ezpuzz/repos", "events_url": "https://api.github.com/users/ezpuzz/events{/privacy}", "received_events_url": "https://api.github.com/users/ezpuzz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730606048, "node_id": "MDU6TGFiZWwyNzMwNjA2MDQ4", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20maintenance", "name": "type: maintenance", "color": "84b6eb", "default": false, "description": "A task that has no noticeable user-facing effect. Code cleanup, small refactors, etc"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-03T00:30:19Z", "updated_at": "2021-02-10T09:19:49Z", "closed_at": "2021-02-10T08:49:14Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/233", "html_url": "https://github.com/amethyst/legion/pull/233", "diff_url": "https://github.com/amethyst/legion/pull/233.diff", "patch_url": "https://github.com/amethyst/legion/pull/233.patch", "merged_at": "2021-02-10T08:49:14Z"}, "body": "this copies the configuration from Amethyst repos github CI\r\n\r\nthis will keep org code consistent and test book in CI", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/233/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/232", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/232/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/232/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/232/events", "html_url": "https://github.com/amethyst/legion/pull/232", "id": 797520891, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY0NTAzNDUw", "number": 232, "title": "Removing derivative from dependencies", "user": {"login": "lain-dono", "id": 1550625, "node_id": "MDQ6VXNlcjE1NTA2MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1550625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lain-dono", "html_url": "https://github.com/lain-dono", "followers_url": "https://api.github.com/users/lain-dono/followers", "following_url": "https://api.github.com/users/lain-dono/following{/other_user}", "gists_url": "https://api.github.com/users/lain-dono/gists{/gist_id}", "starred_url": "https://api.github.com/users/lain-dono/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lain-dono/subscriptions", "organizations_url": "https://api.github.com/users/lain-dono/orgs", "repos_url": "https://api.github.com/users/lain-dono/repos", "events_url": "https://api.github.com/users/lain-dono/events{/privacy}", "received_events_url": "https://api.github.com/users/lain-dono/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730605349, "node_id": "MDU6TGFiZWwyNzMwNjA1MzQ5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20improvement", "name": "type: improvement", "color": "84b6eb", "default": false, "description": "An improvement or change to an existing feature"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-30T20:10:49Z", "updated_at": "2021-02-10T09:20:19Z", "closed_at": "2021-02-08T01:46:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/232", "html_url": "https://github.com/amethyst/legion/pull/232", "diff_url": "https://github.com/amethyst/legion/pull/232.diff", "patch_url": "https://github.com/amethyst/legion/pull/232.patch", "merged_at": "2021-02-08T01:46:48Z"}, "body": "All uses of [`derivative`](https://crates.io/crates/derivative) are trivial. Removing this dependency may slightly improve compile time.\r\n\r\nNote: test failures due to `compare_and_swap`, which has been [deprecated](https://github.com/rust-lang/rust/pull/79261).", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/232/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/231", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/231/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/231/events", "html_url": "https://github.com/amethyst/legion/pull/231", "id": 794940864, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYyMzcxMzM1", "number": 231, "title": "Fetching a nonexistent resource prints the name of a type", "user": {"login": "Klok-e", "id": 26795215, "node_id": "MDQ6VXNlcjI2Nzk1MjE1", "avatar_url": "https://avatars.githubusercontent.com/u/26795215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Klok-e", "html_url": "https://github.com/Klok-e", "followers_url": "https://api.github.com/users/Klok-e/followers", "following_url": "https://api.github.com/users/Klok-e/following{/other_user}", "gists_url": "https://api.github.com/users/Klok-e/gists{/gist_id}", "starred_url": "https://api.github.com/users/Klok-e/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Klok-e/subscriptions", "organizations_url": "https://api.github.com/users/Klok-e/orgs", "repos_url": "https://api.github.com/users/Klok-e/repos", "events_url": "https://api.github.com/users/Klok-e/events{/privacy}", "received_events_url": "https://api.github.com/users/Klok-e/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730605349, "node_id": "MDU6TGFiZWwyNzMwNjA1MzQ5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20improvement", "name": "type: improvement", "color": "84b6eb", "default": false, "description": "An improvement or change to an existing feature"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-27T09:46:55Z", "updated_at": "2021-02-10T09:20:38Z", "closed_at": "2021-02-08T01:40:46Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/231", "html_url": "https://github.com/amethyst/legion/pull/231", "diff_url": "https://github.com/amethyst/legion/pull/231.diff", "patch_url": "https://github.com/amethyst/legion/pull/231.patch", "merged_at": "2021-02-08T01:40:46Z"}, "body": "To make debugging easier", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/231/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/231/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/230", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/230/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/230/events", "html_url": "https://github.com/amethyst/legion/pull/230", "id": 782083458, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUxNzA0MTcx", "number": 230, "title": "Some rearranging of serialize/deserialize code", "user": {"login": "Rua", "id": 3090610, "node_id": "MDQ6VXNlcjMwOTA2MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3090610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rua", "html_url": "https://github.com/Rua", "followers_url": "https://api.github.com/users/Rua/followers", "following_url": "https://api.github.com/users/Rua/following{/other_user}", "gists_url": "https://api.github.com/users/Rua/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rua/subscriptions", "organizations_url": "https://api.github.com/users/Rua/orgs", "repos_url": "https://api.github.com/users/Rua/repos", "events_url": "https://api.github.com/users/Rua/events{/privacy}", "received_events_url": "https://api.github.com/users/Rua/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730598477, "node_id": "MDU6TGFiZWwyNzMwNTk4NDc3", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20breaking", "name": "type: breaking", "color": "84b6eb", "default": false, "description": "API breaking change, will require users to change their code"}, {"id": 2730605349, "node_id": "MDU6TGFiZWwyNzMwNjA1MzQ5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20improvement", "name": "type: improvement", "color": "84b6eb", "default": false, "description": "An improvement or change to an existing feature"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-08T12:25:36Z", "updated_at": "2021-02-10T09:21:09Z", "closed_at": "2021-02-08T23:39:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/230", "html_url": "https://github.com/amethyst/legion/pull/230", "diff_url": "https://github.com/amethyst/legion/pull/230.diff", "patch_url": "https://github.com/amethyst/legion/pull/230.patch", "merged_at": "2021-02-08T23:39:42Z"}, "body": "The following changes are made, some of which are breaking.\r\n\r\n- `Canon` is moved out of `Registry` so that it's now a free-standing type. That way there's a clear separation of concerns, between handling `Entity` and handling component types.\r\n- The `with_entity_serializer` methods on `WorldSerializer` and `WorldDeserializer` are consequently removed, while `World::as_serializable` and `Registry::as_deserialize(_into_world)` take an extra `EntitySerializer` argument.\r\n- `Canon` now handles its locking internally, instead of having to be wrapped in a lock.\r\n- `CustomEntitySerializer`'s methods take `&self`, possible due to the change above.\r\n- `EntitySerializer` now has a blanket implementation for anything that implements `CustomEntitySerializer`.\r\n- The custom `run_as_context` logic is replaced with the [`scoped-tls-hkt`](https://github.com/Diggsey/scoped-tls-hkt) crate, which does this more cleanly and is better-tested.\r\n- The `ENTITY_SERIALIZER` variable, introduced by the change above, is made public and documented. This fixes #228.\r\n\r\nI think that the `EntitySerializer` and `CustomEntitySerializer` traits could do with better names, but I've held off on that as I can't think of names that really work well.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/230/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/230/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/223", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/223/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/223/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/223/events", "html_url": "https://github.com/amethyst/legion/pull/223", "id": 754537048, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMwNDIwNDgz", "number": 223, "title": "Add Legion brand", "user": {"login": "dawnlarsson", "id": 61861940, "node_id": "MDQ6VXNlcjYxODYxOTQw", "avatar_url": "https://avatars.githubusercontent.com/u/61861940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dawnlarsson", "html_url": "https://github.com/dawnlarsson", "followers_url": "https://api.github.com/users/dawnlarsson/followers", "following_url": "https://api.github.com/users/dawnlarsson/following{/other_user}", "gists_url": "https://api.github.com/users/dawnlarsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/dawnlarsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dawnlarsson/subscriptions", "organizations_url": "https://api.github.com/users/dawnlarsson/orgs", "repos_url": "https://api.github.com/users/dawnlarsson/repos", "events_url": "https://api.github.com/users/dawnlarsson/events{/privacy}", "received_events_url": "https://api.github.com/users/dawnlarsson/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730606048, "node_id": "MDU6TGFiZWwyNzMwNjA2MDQ4", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20maintenance", "name": "type: maintenance", "color": "84b6eb", "default": false, "description": "A task that has no noticeable user-facing effect. Code cleanup, small refactors, etc"}, {"id": 2730609009, "node_id": "MDU6TGFiZWwyNzMwNjA5MDA5", "url": "https://api.github.com/repos/amethyst/legion/labels/skip-changelog", "name": "skip-changelog", "color": "bfdadc", "default": false, "description": "Don't include this change in the changelog"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-01T16:21:53Z", "updated_at": "2021-02-10T09:22:46Z", "closed_at": "2020-12-03T07:12:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/223", "html_url": "https://github.com/amethyst/legion/pull/223", "diff_url": "https://github.com/amethyst/legion/pull/223.diff", "patch_url": "https://github.com/amethyst/legion/pull/223.patch", "merged_at": "2020-12-03T07:12:07Z"}, "body": "This PR offers a brand to legion in style with what we have with other Amethyst repos.\r\nFeel free to request style changes, currently this only changes the readme.\r\n\r\n![image](https://user-images.githubusercontent.com/61861940/100766595-19f08b00-33f9-11eb-99b3-c9fc6d6411f6.png)\r\n\r\nHope you like it :)", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/223/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/222", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/222/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/222/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/222/events", "html_url": "https://github.com/amethyst/legion/pull/222", "id": 751105672, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI3NjgyNjMw", "number": 222, "title": "adds `EntityFilterTuple` to the public API", "user": {"login": "alyjak", "id": 5151167, "node_id": "MDQ6VXNlcjUxNTExNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/5151167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alyjak", "html_url": "https://github.com/alyjak", "followers_url": "https://api.github.com/users/alyjak/followers", "following_url": "https://api.github.com/users/alyjak/following{/other_user}", "gists_url": "https://api.github.com/users/alyjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/alyjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alyjak/subscriptions", "organizations_url": "https://api.github.com/users/alyjak/orgs", "repos_url": "https://api.github.com/users/alyjak/repos", "events_url": "https://api.github.com/users/alyjak/events{/privacy}", "received_events_url": "https://api.github.com/users/alyjak/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1265015091, "node_id": "MDU6TGFiZWwxMjY1MDE1MDkx", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20feature", "name": "type: feature", "color": "84b6eb", "default": false, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-25T20:41:00Z", "updated_at": "2021-02-10T09:23:25Z", "closed_at": "2020-12-13T20:55:13Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/222", "html_url": "https://github.com/amethyst/legion/pull/222", "diff_url": "https://github.com/amethyst/legion/pull/222.diff", "patch_url": "https://github.com/amethyst/legion/pull/222.patch", "merged_at": "2020-12-13T20:55:13Z"}, "body": "Adding `EntityFilterTuple` to the public API enables complex queries to be stored in application data structures. I'm trying to create a query that has a chain of `Or` filters tied to `maybe_changed::<component_type>()` filters. I want this query to be stored in a data structure such that I can check if I should serialize the world or not after executing my schedule. As-is, I can't because the final query type contains `EntityFilterTuple`.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/222/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/222/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/221", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/221/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/221/events", "html_url": "https://github.com/amethyst/legion/pull/221", "id": 748949921, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI1ODUyNjIw", "number": 221, "title": "Extract canon from registry", "user": {"login": "alyjak", "id": 5151167, "node_id": "MDQ6VXNlcjUxNTExNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/5151167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alyjak", "html_url": "https://github.com/alyjak", "followers_url": "https://api.github.com/users/alyjak/followers", "following_url": "https://api.github.com/users/alyjak/following{/other_user}", "gists_url": "https://api.github.com/users/alyjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/alyjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alyjak/subscriptions", "organizations_url": "https://api.github.com/users/alyjak/orgs", "repos_url": "https://api.github.com/users/alyjak/repos", "events_url": "https://api.github.com/users/alyjak/events{/privacy}", "received_events_url": "https://api.github.com/users/alyjak/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730598477, "node_id": "MDU6TGFiZWwyNzMwNTk4NDc3", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20breaking", "name": "type: breaking", "color": "84b6eb", "default": false, "description": "API breaking change, will require users to change their code"}, {"id": 2730605349, "node_id": "MDU6TGFiZWwyNzMwNjA1MzQ5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20improvement", "name": "type: improvement", "color": "84b6eb", "default": false, "description": "An improvement or change to an existing feature"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-23T16:32:18Z", "updated_at": "2021-02-10T09:26:26Z", "closed_at": "2020-12-13T20:54:35Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/221", "html_url": "https://github.com/amethyst/legion/pull/221", "diff_url": "https://github.com/amethyst/legion/pull/221.diff", "patch_url": "https://github.com/amethyst/legion/pull/221.patch", "merged_at": "2020-12-13T20:54:35Z"}, "body": "Changes `Registry` to use `Arc<RwLock<S: CustomEntitySerializer>`\r\n\r\nThis way `Canon` (and other implementations of `CustomEntitySerializer`) can be used outside of Registry, which is useful for mapping world entities to data outside of legion. RwLock is more friedly for this use case, and requiring `Send + Sync` on `S` instead of just `Send` doesn't seem too burdensome.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/221/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/220", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/220/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/220/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/220/events", "html_url": "https://github.com/amethyst/legion/pull/220", "id": 748420768, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI1NDEwNzA2", "number": 220, "title": "Adds CustomEntitySerializer to the public API", "user": {"login": "alyjak", "id": 5151167, "node_id": "MDQ6VXNlcjUxNTExNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/5151167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alyjak", "html_url": "https://github.com/alyjak", "followers_url": "https://api.github.com/users/alyjak/followers", "following_url": "https://api.github.com/users/alyjak/following{/other_user}", "gists_url": "https://api.github.com/users/alyjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/alyjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alyjak/subscriptions", "organizations_url": "https://api.github.com/users/alyjak/orgs", "repos_url": "https://api.github.com/users/alyjak/repos", "events_url": "https://api.github.com/users/alyjak/events{/privacy}", "received_events_url": "https://api.github.com/users/alyjak/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1265015091, "node_id": "MDU6TGFiZWwxMjY1MDE1MDkx", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20feature", "name": "type: feature", "color": "84b6eb", "default": false, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-23T02:33:21Z", "updated_at": "2021-02-10T09:26:47Z", "closed_at": "2020-12-13T20:50:11Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/220", "html_url": "https://github.com/amethyst/legion/pull/220", "diff_url": "https://github.com/amethyst/legion/pull/220.diff", "patch_url": "https://github.com/amethyst/legion/pull/220.patch", "merged_at": "2020-12-13T20:50:11Z"}, "body": "This enables `serialize::Registry` to take different `Entity`<->`SerializedID` maps than the default (`Canon`).\r\n\r\nI'm trying to access `Entity`<->`SerializedID` maps outside of just the registry, which isn't supported by the `Canon` implementation, which is the trigger for opening this pull request. Looking at the code though, I think the intention was to make this trait public anyways.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/220/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/215", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/215/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/215/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/215/events", "html_url": "https://github.com/amethyst/legion/pull/215", "id": 733699409, "node_id": "MDExOlB1bGxSZXF1ZXN0NTEzNDE3NjE2", "number": 215, "title": "Fix resources link in readme", "user": {"login": "bofh69", "id": 1444315, "node_id": "MDQ6VXNlcjE0NDQzMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1444315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bofh69", "html_url": "https://github.com/bofh69", "followers_url": "https://api.github.com/users/bofh69/followers", "following_url": "https://api.github.com/users/bofh69/following{/other_user}", "gists_url": "https://api.github.com/users/bofh69/gists{/gist_id}", "starred_url": "https://api.github.com/users/bofh69/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bofh69/subscriptions", "organizations_url": "https://api.github.com/users/bofh69/orgs", "repos_url": "https://api.github.com/users/bofh69/repos", "events_url": "https://api.github.com/users/bofh69/events{/privacy}", "received_events_url": "https://api.github.com/users/bofh69/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1265015089, "node_id": "MDU6TGFiZWwxMjY1MDE1MDg5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20bug", "name": "type: bug", "color": "84b6eb", "default": false, "description": "Something isn't working"}, {"id": 2730609009, "node_id": "MDU6TGFiZWwyNzMwNjA5MDA5", "url": "https://api.github.com/repos/amethyst/legion/labels/skip-changelog", "name": "skip-changelog", "color": "bfdadc", "default": false, "description": "Don't include this change in the changelog"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-31T11:33:43Z", "updated_at": "2021-02-10T09:27:29Z", "closed_at": "2020-11-17T11:17:44Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/215", "html_url": "https://github.com/amethyst/legion/pull/215", "diff_url": "https://github.com/amethyst/legion/pull/215.diff", "patch_url": "https://github.com/amethyst/legion/pull/215.patch", "merged_at": "2020-11-17T11:17:44Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/215/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/214", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/214/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/214/events", "html_url": "https://github.com/amethyst/legion/pull/214", "id": 732316219, "node_id": "MDExOlB1bGxSZXF1ZXN0NTEyMjc2NjE2", "number": 214, "title": "Add Resources to CommandBuffer::exec_mut and ::flush", "user": {"login": "Rua", "id": 3090610, "node_id": "MDQ6VXNlcjMwOTA2MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3090610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rua", "html_url": "https://github.com/Rua", "followers_url": "https://api.github.com/users/Rua/followers", "following_url": "https://api.github.com/users/Rua/following{/other_user}", "gists_url": "https://api.github.com/users/Rua/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rua/subscriptions", "organizations_url": "https://api.github.com/users/Rua/orgs", "repos_url": "https://api.github.com/users/Rua/repos", "events_url": "https://api.github.com/users/Rua/events{/privacy}", "received_events_url": "https://api.github.com/users/Rua/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730598477, "node_id": "MDU6TGFiZWwyNzMwNTk4NDc3", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20breaking", "name": "type: breaking", "color": "84b6eb", "default": false, "description": "API breaking change, will require users to change their code"}, {"id": 2730605349, "node_id": "MDU6TGFiZWwyNzMwNjA1MzQ5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20improvement", "name": "type: improvement", "color": "84b6eb", "default": false, "description": "An improvement or change to an existing feature"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-29T13:30:23Z", "updated_at": "2021-02-10T09:28:35Z", "closed_at": "2020-12-13T20:49:21Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/214", "html_url": "https://github.com/amethyst/legion/pull/214", "diff_url": "https://github.com/amethyst/legion/pull/214.diff", "patch_url": "https://github.com/amethyst/legion/pull/214.patch", "merged_at": "2020-12-13T20:49:21Z"}, "body": "This implements #212 by adding `&mut Resources` arguments to some existing functions.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/214/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/213", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/213/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/213/events", "html_url": "https://github.com/amethyst/legion/pull/213", "id": 732296296, "node_id": "MDExOlB1bGxSZXF1ZXN0NTEyMjYwMTg0", "number": 213, "title": "Implement Debug for Schedule, Executor and other subtypes", "user": {"login": "Rua", "id": 3090610, "node_id": "MDQ6VXNlcjMwOTA2MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3090610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rua", "html_url": "https://github.com/Rua", "followers_url": "https://api.github.com/users/Rua/followers", "following_url": "https://api.github.com/users/Rua/following{/other_user}", "gists_url": "https://api.github.com/users/Rua/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rua/subscriptions", "organizations_url": "https://api.github.com/users/Rua/orgs", "repos_url": "https://api.github.com/users/Rua/repos", "events_url": "https://api.github.com/users/Rua/events{/privacy}", "received_events_url": "https://api.github.com/users/Rua/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1265015091, "node_id": "MDU6TGFiZWwxMjY1MDE1MDkx", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20feature", "name": "type: feature", "color": "84b6eb", "default": false, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-29T13:04:18Z", "updated_at": "2021-02-10T09:28:48Z", "closed_at": "2020-12-13T20:58:43Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/213", "html_url": "https://github.com/amethyst/legion/pull/213", "diff_url": "https://github.com/amethyst/legion/pull/213.diff", "patch_url": "https://github.com/amethyst/legion/pull/213.patch", "merged_at": "2020-12-13T20:58:43Z"}, "body": "This is an attempt to implement #198. I've followed the guidelines for the `Debug` trait relatively strictly, so it mostly shows the exact internal state of the various types. I could make some of it a bit more clean and easy to read, for example by grouping the values of `Executor` by index, or showing only the system names instead of the full `SystemId`, but I first wanted some feedback on whether such a deviation from standard `Debug` output would be ok.\r\n\r\nI introduced an instance of `unsafe` in the `SystemBox` implementation. I don't know if that is sound, that should be verified by someone who knows better.\r\n\r\nPerhaps implementing this using the `Debug` trait is the wrong approach here, I just went with that because the original issue described it that way.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/213/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/213/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/210", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/210/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/210/events", "html_url": "https://github.com/amethyst/legion/pull/210", "id": 725656444, "node_id": "MDExOlB1bGxSZXF1ZXN0NTA2ODU3NDEw", "number": 210, "title": "Better error message when fetching nonexistent resources", "user": {"login": "Rua", "id": 3090610, "node_id": "MDQ6VXNlcjMwOTA2MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3090610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rua", "html_url": "https://github.com/Rua", "followers_url": "https://api.github.com/users/Rua/followers", "following_url": "https://api.github.com/users/Rua/following{/other_user}", "gists_url": "https://api.github.com/users/Rua/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rua/subscriptions", "organizations_url": "https://api.github.com/users/Rua/orgs", "repos_url": "https://api.github.com/users/Rua/repos", "events_url": "https://api.github.com/users/Rua/events{/privacy}", "received_events_url": "https://api.github.com/users/Rua/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730605349, "node_id": "MDU6TGFiZWwyNzMwNjA1MzQ5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20improvement", "name": "type: improvement", "color": "84b6eb", "default": false, "description": "An improvement or change to an existing feature"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-20T14:36:13Z", "updated_at": "2021-02-10T09:29:07Z", "closed_at": "2020-10-22T18:54:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/210", "html_url": "https://github.com/amethyst/legion/pull/210", "diff_url": "https://github.com/amethyst/legion/pull/210.diff", "patch_url": "https://github.com/amethyst/legion/pull/210.patch", "merged_at": "2020-10-22T18:54:18Z"}, "body": "When fetching resources via `ResourceSet`, if the resource does not exist, it shows the standard \"unwrap\" error message. This is not very helpful when debugging, so this adds a more descriptive error message.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/210/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/209", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/209/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/209/events", "html_url": "https://github.com/amethyst/legion/pull/209", "id": 724551284, "node_id": "MDExOlB1bGxSZXF1ZXN0NTA1OTE4MTE4", "number": 209, "title": "Re-export FetchMut from systems", "user": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1265015091, "node_id": "MDU6TGFiZWwxMjY1MDE1MDkx", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20feature", "name": "type: feature", "color": "84b6eb", "default": false, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-19T12:09:15Z", "updated_at": "2021-02-25T19:02:21Z", "closed_at": "2020-10-22T19:07:48Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/209", "html_url": "https://github.com/amethyst/legion/pull/209", "diff_url": "https://github.com/amethyst/legion/pull/209.diff", "patch_url": "https://github.com/amethyst/legion/pull/209.patch", "merged_at": "2020-10-22T19:07:48Z"}, "body": "Noticed this re-export was missing since the type didn't get linked properly on the return type in https://docs.rs/legion/0.3.1/legion/struct.Resources.html#method.get_mut.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/209/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/209/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/208", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/208/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/208/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/208/events", "html_url": "https://github.com/amethyst/legion/pull/208", "id": 724189881, "node_id": "MDExOlB1bGxSZXF1ZXN0NTA1NjIwNzkw", "number": 208, "title": "Show appropriate error position on invalid macro usage", "user": {"login": "tyfkda", "id": 7347125, "node_id": "MDQ6VXNlcjczNDcxMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7347125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tyfkda", "html_url": "https://github.com/tyfkda", "followers_url": "https://api.github.com/users/tyfkda/followers", "following_url": "https://api.github.com/users/tyfkda/following{/other_user}", "gists_url": "https://api.github.com/users/tyfkda/gists{/gist_id}", "starred_url": "https://api.github.com/users/tyfkda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tyfkda/subscriptions", "organizations_url": "https://api.github.com/users/tyfkda/orgs", "repos_url": "https://api.github.com/users/tyfkda/repos", "events_url": "https://api.github.com/users/tyfkda/events{/privacy}", "received_events_url": "https://api.github.com/users/tyfkda/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730605349, "node_id": "MDU6TGFiZWwyNzMwNjA1MzQ5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20improvement", "name": "type: improvement", "color": "84b6eb", "default": false, "description": "An improvement or change to an existing feature"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-19T01:14:59Z", "updated_at": "2021-02-10T09:30:14Z", "closed_at": "2020-10-22T18:53:08Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/208", "html_url": "https://github.com/amethyst/legion/pull/208", "diff_url": "https://github.com/amethyst/legion/pull/208.diff", "patch_url": "https://github.com/amethyst/legion/pull/208.patch", "merged_at": "2020-10-22T18:53:08Z"}, "body": "When a user misuse `#[read_component]` macro (ex. forget specifying component type)\r\nRust compiler shows error message at `#[system]` line:\r\n\r\n```\r\n$ cargo test no_component_type\r\n   Compiling legion_codegen v0.3.0 (/Users/admin/tmp/legion/codegen)\r\n   Compiling legion v0.3.1 (/Users/admin/tmp/legion)\r\nerror: expected component type\r\n --> tests/dummy.rs:7:5\r\n  |\r\n7 |     #[system]\r\n  |     ^^^^^^^^^\r\n  |\r\n  = note: this error originates in an attribute macro (in Nightly builds, run with -Z macro-backtrace for more info)\r\n...\r\n```\r\n\r\nSame happens also on `#[filter]` macro.\r\n\r\n\r\nThis change fixes the problem:\r\n\r\n```\r\n$ cargo test no_component_type\r\n   Compiling legion v0.3.1 (/Users/admin/tmp/legion)\r\nerror: expected component type\r\n --> tests/dummy.rs:8:7\r\n  |\r\n8 |     #[read_component]\r\n  |       ^^^^^^^^^^^^^^\r\n...\r\n```\r\n\r\nReturn appropriate `Span` for\r\n`ExpectedComponentType` and `ExpectedFilterExpression` Errors.\r\n\r\n----\r\n\r\nTest code:\r\n\r\n```rs\r\nuse legion::*;\r\nuse world::SubWorld;\r\n\r\n#[test]\r\n#[cfg(feature = \"codegen\")]\r\nfn no_component_type() {\r\n    #[system]\r\n    #[read_component]  // <= Error here\r\n    fn sys(_world: &mut SubWorld) {\r\n    }\r\n}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/208/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/208/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/206", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/206/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/206/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/206/events", "html_url": "https://github.com/amethyst/legion/pull/206", "id": 714929884, "node_id": "MDExOlB1bGxSZXF1ZXN0NDk3OTI2ODk1", "number": 206, "title": "A few minor optimizations to `LocationMap`", "user": {"login": "mjhostet", "id": 4849531, "node_id": "MDQ6VXNlcjQ4NDk1MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/4849531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjhostet", "html_url": "https://github.com/mjhostet", "followers_url": "https://api.github.com/users/mjhostet/followers", "following_url": "https://api.github.com/users/mjhostet/following{/other_user}", "gists_url": "https://api.github.com/users/mjhostet/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjhostet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjhostet/subscriptions", "organizations_url": "https://api.github.com/users/mjhostet/orgs", "repos_url": "https://api.github.com/users/mjhostet/repos", "events_url": "https://api.github.com/users/mjhostet/events{/privacy}", "received_events_url": "https://api.github.com/users/mjhostet/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730605349, "node_id": "MDU6TGFiZWwyNzMwNjA1MzQ5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20improvement", "name": "type: improvement", "color": "84b6eb", "default": false, "description": "An improvement or change to an existing feature"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-05T15:13:17Z", "updated_at": "2021-02-10T09:30:37Z", "closed_at": "2020-10-22T19:04:18Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/206", "html_url": "https://github.com/amethyst/legion/pull/206", "diff_url": "https://github.com/amethyst/legion/pull/206.diff", "patch_url": "https://github.com/amethyst/legion/pull/206.patch", "merged_at": "2020-10-22T19:04:18Z"}, "body": "- Changed `Allocate` to maintain a single counter for allocating new\r\n  Entity values. This should be a bit faster than two counters, and it's\r\n  also nice in that it allocates Entity values in increasing order rather\r\n  than reversing them within each block. That will have a more\r\n  straightforward memory stride pattern when walking through many\r\n  entities.\r\n\r\n- When removing entities from the LocationMap, modify the len just\r\n  once at the end rather than each time we remove something.\r\n\r\n- Compute the index within each block using a simple `%`, which will\r\n  turn into a bit-and since `BLOCK_SIZE` is an unsigned power of two\r\n  (and will surely always be).", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/206/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/205", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/205/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/205/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/205/events", "html_url": "https://github.com/amethyst/legion/pull/205", "id": 714787502, "node_id": "MDExOlB1bGxSZXF1ZXN0NDk3ODExMDE1", "number": 205, "title": "Fix some comment typos", "user": {"login": "mjhostet", "id": 4849531, "node_id": "MDQ6VXNlcjQ4NDk1MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/4849531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjhostet", "html_url": "https://github.com/mjhostet", "followers_url": "https://api.github.com/users/mjhostet/followers", "following_url": "https://api.github.com/users/mjhostet/following{/other_user}", "gists_url": "https://api.github.com/users/mjhostet/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjhostet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjhostet/subscriptions", "organizations_url": "https://api.github.com/users/mjhostet/orgs", "repos_url": "https://api.github.com/users/mjhostet/repos", "events_url": "https://api.github.com/users/mjhostet/events{/privacy}", "received_events_url": "https://api.github.com/users/mjhostet/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730606048, "node_id": "MDU6TGFiZWwyNzMwNjA2MDQ4", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20maintenance", "name": "type: maintenance", "color": "84b6eb", "default": false, "description": "A task that has no noticeable user-facing effect. Code cleanup, small refactors, etc"}, {"id": 2730609009, "node_id": "MDU6TGFiZWwyNzMwNjA5MDA5", "url": "https://api.github.com/repos/amethyst/legion/labels/skip-changelog", "name": "skip-changelog", "color": "bfdadc", "default": false, "description": "Don't include this change in the changelog"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-05T12:16:22Z", "updated_at": "2021-02-10T09:30:54Z", "closed_at": "2020-10-22T18:57:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/205", "html_url": "https://github.com/amethyst/legion/pull/205", "diff_url": "https://github.com/amethyst/legion/pull/205.diff", "patch_url": "https://github.com/amethyst/legion/pull/205.patch", "merged_at": "2020-10-22T18:57:19Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/205/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/204", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/204/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/204/events", "html_url": "https://github.com/amethyst/legion/pull/204", "id": 714429119, "node_id": "MDExOlB1bGxSZXF1ZXN0NDk3NTE4Njk0", "number": 204, "title": "Use write_u64 to special-case hashing 64 bit values", "user": {"login": "mjhostet", "id": 4849531, "node_id": "MDQ6VXNlcjQ4NDk1MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/4849531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjhostet", "html_url": "https://github.com/mjhostet", "followers_url": "https://api.github.com/users/mjhostet/followers", "following_url": "https://api.github.com/users/mjhostet/following{/other_user}", "gists_url": "https://api.github.com/users/mjhostet/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjhostet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjhostet/subscriptions", "organizations_url": "https://api.github.com/users/mjhostet/orgs", "repos_url": "https://api.github.com/users/mjhostet/repos", "events_url": "https://api.github.com/users/mjhostet/events{/privacy}", "received_events_url": "https://api.github.com/users/mjhostet/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730606048, "node_id": "MDU6TGFiZWwyNzMwNjA2MDQ4", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20maintenance", "name": "type: maintenance", "color": "84b6eb", "default": false, "description": "A task that has no noticeable user-facing effect. Code cleanup, small refactors, etc"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-04T23:50:56Z", "updated_at": "2021-02-10T09:31:33Z", "closed_at": "2020-10-22T18:41:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/204", "html_url": "https://github.com/amethyst/legion/pull/204", "diff_url": "https://github.com/amethyst/legion/pull/204.diff", "patch_url": "https://github.com/amethyst/legion/pull/204.patch", "merged_at": "2020-10-22T18:41:29Z"}, "body": "This avoids the need for u64::from_ne_bytes.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/204/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/203", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/203/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/203/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/203/events", "html_url": "https://github.com/amethyst/legion/pull/203", "id": 712357064, "node_id": "MDExOlB1bGxSZXF1ZXN0NDk1ODUzNjU4", "number": 203, "title": "Use a drop guard to prevent leaving a dangling reference in internals::serialize::id::run_as_context", "user": {"login": "autumnontape", "id": 40726037, "node_id": "MDQ6VXNlcjQwNzI2MDM3", "avatar_url": "https://avatars.githubusercontent.com/u/40726037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/autumnontape", "html_url": "https://github.com/autumnontape", "followers_url": "https://api.github.com/users/autumnontape/followers", "following_url": "https://api.github.com/users/autumnontape/following{/other_user}", "gists_url": "https://api.github.com/users/autumnontape/gists{/gist_id}", "starred_url": "https://api.github.com/users/autumnontape/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/autumnontape/subscriptions", "organizations_url": "https://api.github.com/users/autumnontape/orgs", "repos_url": "https://api.github.com/users/autumnontape/repos", "events_url": "https://api.github.com/users/autumnontape/events{/privacy}", "received_events_url": "https://api.github.com/users/autumnontape/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1265015089, "node_id": "MDU6TGFiZWwxMjY1MDE1MDg5", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20bug", "name": "type: bug", "color": "84b6eb", "default": false, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-30T23:36:20Z", "updated_at": "2022-02-18T01:18:10Z", "closed_at": "2020-10-22T18:40:23Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/203", "html_url": "https://github.com/amethyst/legion/pull/203", "diff_url": "https://github.com/amethyst/legion/pull/203.diff", "patch_url": "https://github.com/amethyst/legion/pull/203.patch", "merged_at": "2020-10-22T18:40:23Z"}, "body": "After reading about [the recent improvements to Miri](https://www.ralfj.de/blog/2020/09/28/miri.html), I tried using it to run Legion's tests. Most of them succeed, but `internals::serialize::test::serialize_bincode` and `internals::serialize::test::serialize_json` both panic for reasons I haven't looked into, and because they run in the same thread, the second one finds a dangling pointer and triggers an error in Miri.\r\n\r\nThis pull request fixes that problem, leaving both test results as panics rather than undefined behavior. The comment suggested using `catch_unwind` for this, but I used the more common and probably more efficient pattern of a guard struct with a `Drop` implementation that cleans up. I also added a small test to make sure Miri always has the opportunity to catch this bug, since it was essentially a coincidence that it was caught this time.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/203/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/202", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/202/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/202/events", "html_url": "https://github.com/amethyst/legion/pull/202", "id": 709807741, "node_id": "MDExOlB1bGxSZXF1ZXN0NDkzNzcxMzE0", "number": 202, "title": "Update repository link in Cargo.toml", "user": {"login": "nominolo", "id": 5943, "node_id": "MDQ6VXNlcjU5NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/5943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nominolo", "html_url": "https://github.com/nominolo", "followers_url": "https://api.github.com/users/nominolo/followers", "following_url": "https://api.github.com/users/nominolo/following{/other_user}", "gists_url": "https://api.github.com/users/nominolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/nominolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nominolo/subscriptions", "organizations_url": "https://api.github.com/users/nominolo/orgs", "repos_url": "https://api.github.com/users/nominolo/repos", "events_url": "https://api.github.com/users/nominolo/events{/privacy}", "received_events_url": "https://api.github.com/users/nominolo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 2730606048, "node_id": "MDU6TGFiZWwyNzMwNjA2MDQ4", "url": "https://api.github.com/repos/amethyst/legion/labels/type:%20maintenance", "name": "type: maintenance", "color": "84b6eb", "default": false, "description": "A task that has no noticeable user-facing effect. Code cleanup, small refactors, etc"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-27T20:12:37Z", "updated_at": "2021-02-10T09:32:42Z", "closed_at": "2020-09-28T07:57:19Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/202", "html_url": "https://github.com/amethyst/legion/pull/202", "diff_url": "https://github.com/amethyst/legion/pull/202.diff", "patch_url": "https://github.com/amethyst/legion/pull/202.patch", "merged_at": "2020-09-28T07:57:19Z"}, "body": "Also remove the badges section since (a) legion now uses Github actions and (b) the badges section will actually be deprecated. See https://github.com/rust-lang/crates.io/issues/2436 for details.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/202/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/200", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/200/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/200/events", "html_url": "https://github.com/amethyst/legion/pull/200", "id": 705199022, "node_id": "MDExOlB1bGxSZXF1ZXN0NDg5OTY3OTEx", "number": 200, "title": "Define ECS for search engines and casual readers", "user": {"login": "nealmcb", "id": 119472, "node_id": "MDQ6VXNlcjExOTQ3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/119472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nealmcb", "html_url": "https://github.com/nealmcb", "followers_url": "https://api.github.com/users/nealmcb/followers", "following_url": "https://api.github.com/users/nealmcb/following{/other_user}", "gists_url": "https://api.github.com/users/nealmcb/gists{/gist_id}", "starred_url": "https://api.github.com/users/nealmcb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nealmcb/subscriptions", "organizations_url": "https://api.github.com/users/nealmcb/orgs", "repos_url": "https://api.github.com/users/nealmcb/repos", "events_url": "https://api.github.com/users/nealmcb/events{/privacy}", "received_events_url": "https://api.github.com/users/nealmcb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-20T22:30:24Z", "updated_at": "2020-09-28T07:57:51Z", "closed_at": "2020-09-28T07:57:51Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/200", "html_url": "https://github.com/amethyst/legion/pull/200", "diff_url": "https://github.com/amethyst/legion/pull/200.diff", "patch_url": "https://github.com/amethyst/legion/pull/200.patch", "merged_at": "2020-09-28T07:57:50Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/200/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/196", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/196/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/196/events", "html_url": "https://github.com/amethyst/legion/pull/196", "id": 702240458, "node_id": "MDExOlB1bGxSZXF1ZXN0NDg3NTQ4ODQ3", "number": 196, "title": "2 tiny docs improvements", "user": {"login": "martin-t", "id": 4079823, "node_id": "MDQ6VXNlcjQwNzk4MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/4079823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martin-t", "html_url": "https://github.com/martin-t", "followers_url": "https://api.github.com/users/martin-t/followers", "following_url": "https://api.github.com/users/martin-t/following{/other_user}", "gists_url": "https://api.github.com/users/martin-t/gists{/gist_id}", "starred_url": "https://api.github.com/users/martin-t/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martin-t/subscriptions", "organizations_url": "https://api.github.com/users/martin-t/orgs", "repos_url": "https://api.github.com/users/martin-t/repos", "events_url": "https://api.github.com/users/martin-t/events{/privacy}", "received_events_url": "https://api.github.com/users/martin-t/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-15T20:35:49Z", "updated_at": "2020-09-15T22:18:26Z", "closed_at": "2020-09-15T22:18:26Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/196", "html_url": "https://github.com/amethyst/legion/pull/196", "diff_url": "https://github.com/amethyst/legion/pull/196.diff", "patch_url": "https://github.com/amethyst/legion/pull/196.patch", "merged_at": "2020-09-15T22:18:26Z"}, "body": "Some crates put examples on the struct, some on the module, I couldn't find the examples the first time i was looking for them because i am more used to docs on the struct so now i linked them explicitly. The standard library does it like this (e.g. [Rc](https://doc.rust-lang.org/std/rc/struct.Rc.html) struct links to rc module).\r\n\r\nI would do the same for World vs world but it seems the links wouldn't sometimes work as reported in #195.\r\n\r\nAlso unified whether just \"Entity\" or \"Entity ID\" is part of the link.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/196/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/193", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/193/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/193/events", "html_url": "https://github.com/amethyst/legion/pull/193", "id": 700600323, "node_id": "MDExOlB1bGxSZXF1ZXN0NDg2MjA0NjUw", "number": 193, "title": "Prefer wasm-bindgen over stdweb in readme", "user": {"login": "martin-t", "id": 4079823, "node_id": "MDQ6VXNlcjQwNzk4MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/4079823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martin-t", "html_url": "https://github.com/martin-t", "followers_url": "https://api.github.com/users/martin-t/followers", "following_url": "https://api.github.com/users/martin-t/following{/other_user}", "gists_url": "https://api.github.com/users/martin-t/gists{/gist_id}", "starred_url": "https://api.github.com/users/martin-t/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martin-t/subscriptions", "organizations_url": "https://api.github.com/users/martin-t/orgs", "repos_url": "https://api.github.com/users/martin-t/repos", "events_url": "https://api.github.com/users/martin-t/events{/privacy}", "received_events_url": "https://api.github.com/users/martin-t/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-13T16:18:54Z", "updated_at": "2020-09-15T22:19:07Z", "closed_at": "2020-09-15T22:19:07Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/193", "html_url": "https://github.com/amethyst/legion/pull/193", "diff_url": "https://github.com/amethyst/legion/pull/193.diff", "patch_url": "https://github.com/amethyst/legion/pull/193.patch", "merged_at": "2020-09-15T22:19:07Z"}, "body": "It seems stdweb development is dead so it might be better to show that wasm-bindgen in the example.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/193/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/193/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/192", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/192/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/192/events", "html_url": "https://github.com/amethyst/legion/pull/192", "id": 700600011, "node_id": "MDExOlB1bGxSZXF1ZXN0NDg2MjA0NDEz", "number": 192, "title": "Improve WASM feature docs", "user": {"login": "martin-t", "id": 4079823, "node_id": "MDQ6VXNlcjQwNzk4MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/4079823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martin-t", "html_url": "https://github.com/martin-t", "followers_url": "https://api.github.com/users/martin-t/followers", "following_url": "https://api.github.com/users/martin-t/following{/other_user}", "gists_url": "https://api.github.com/users/martin-t/gists{/gist_id}", "starred_url": "https://api.github.com/users/martin-t/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martin-t/subscriptions", "organizations_url": "https://api.github.com/users/martin-t/orgs", "repos_url": "https://api.github.com/users/martin-t/repos", "events_url": "https://api.github.com/users/martin-t/events{/privacy}", "received_events_url": "https://api.github.com/users/martin-t/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-13T16:17:18Z", "updated_at": "2020-09-15T22:19:45Z", "closed_at": "2020-09-15T22:19:45Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/192", "html_url": "https://github.com/amethyst/legion/pull/192", "diff_url": "https://github.com/amethyst/legion/pull/192.diff", "patch_url": "https://github.com/amethyst/legion/pull/192.patch", "merged_at": "2020-09-15T22:19:45Z"}, "body": "I was puzzled why i was able to compile legion to WASM without the feature - it appears to be only used in serialization so there's no need for everyone to enable it unless they use serialization.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/192/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/192/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/180", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/180/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/180/events", "html_url": "https://github.com/amethyst/legion/pull/180", "id": 686554347, "node_id": "MDExOlB1bGxSZXF1ZXN0NDc0MTAxMjY4", "number": 180, "title": "More flexible EntitySerializer", "user": {"login": "kabergstrom", "id": 625207, "node_id": "MDQ6VXNlcjYyNTIwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/625207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kabergstrom", "html_url": "https://github.com/kabergstrom", "followers_url": "https://api.github.com/users/kabergstrom/followers", "following_url": "https://api.github.com/users/kabergstrom/following{/other_user}", "gists_url": "https://api.github.com/users/kabergstrom/gists{/gist_id}", "starred_url": "https://api.github.com/users/kabergstrom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kabergstrom/subscriptions", "organizations_url": "https://api.github.com/users/kabergstrom/orgs", "repos_url": "https://api.github.com/users/kabergstrom/repos", "events_url": "https://api.github.com/users/kabergstrom/events{/privacy}", "received_events_url": "https://api.github.com/users/kabergstrom/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-26T19:12:22Z", "updated_at": "2020-08-31T06:41:29Z", "closed_at": "2020-08-31T06:41:29Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/180", "html_url": "https://github.com/amethyst/legion/pull/180", "diff_url": "https://github.com/amethyst/legion/pull/180.diff", "patch_url": "https://github.com/amethyst/legion/pull/180.patch", "merged_at": "2020-08-31T06:41:29Z"}, "body": "This PR gives more freedom for the caller in terms of how to store its impl of EntitySerializer. The why is here: https://github.com/TomGillen/legion/issues/169", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/180/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/176", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/176/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/176/events", "html_url": "https://github.com/amethyst/legion/pull/176", "id": 678300430, "node_id": "MDExOlB1bGxSZXF1ZXN0NDY3MjcwODI0", "number": 176, "title": "Fix typo", "user": {"login": "msvbg", "id": 3961616, "node_id": "MDQ6VXNlcjM5NjE2MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/3961616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msvbg", "html_url": "https://github.com/msvbg", "followers_url": "https://api.github.com/users/msvbg/followers", "following_url": "https://api.github.com/users/msvbg/following{/other_user}", "gists_url": "https://api.github.com/users/msvbg/gists{/gist_id}", "starred_url": "https://api.github.com/users/msvbg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msvbg/subscriptions", "organizations_url": "https://api.github.com/users/msvbg/orgs", "repos_url": "https://api.github.com/users/msvbg/repos", "events_url": "https://api.github.com/users/msvbg/events{/privacy}", "received_events_url": "https://api.github.com/users/msvbg/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-13T09:39:45Z", "updated_at": "2020-08-15T09:03:43Z", "closed_at": "2020-08-15T00:53:10Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/176", "html_url": "https://github.com/amethyst/legion/pull/176", "diff_url": "https://github.com/amethyst/legion/pull/176.diff", "patch_url": "https://github.com/amethyst/legion/pull/176.patch", "merged_at": "2020-08-15T00:53:10Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/176/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/170", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/170/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/170/events", "html_url": "https://github.com/amethyst/legion/pull/170", "id": 673082112, "node_id": "MDExOlB1bGxSZXF1ZXN0NDYzMDA4MzM4", "number": 170, "title": "Clarify what runs when", "user": {"login": "CleanCut", "id": 5838512, "node_id": "MDQ6VXNlcjU4Mzg1MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5838512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CleanCut", "html_url": "https://github.com/CleanCut", "followers_url": "https://api.github.com/users/CleanCut/followers", "following_url": "https://api.github.com/users/CleanCut/following{/other_user}", "gists_url": "https://api.github.com/users/CleanCut/gists{/gist_id}", "starred_url": "https://api.github.com/users/CleanCut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CleanCut/subscriptions", "organizations_url": "https://api.github.com/users/CleanCut/orgs", "repos_url": "https://api.github.com/users/CleanCut/repos", "events_url": "https://api.github.com/users/CleanCut/events{/privacy}", "received_events_url": "https://api.github.com/users/CleanCut/received_events", "type": "User", "user_view_type": "public", "site_admin": true}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-04T21:03:54Z", "updated_at": "2020-08-04T22:57:44Z", "closed_at": "2020-08-04T22:57:44Z", "author_association": "MEMBER", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/170", "html_url": "https://github.com/amethyst/legion/pull/170", "diff_url": "https://github.com/amethyst/legion/pull/170.diff", "patch_url": "https://github.com/amethyst/legion/pull/170.patch", "merged_at": "2020-08-04T22:57:44Z"}, "body": "This wording confused me.  It sort of sounds like systems only run once, which doesn't make sense.  Or maybe it meant the system is only setup once--but I don't know why that would be important information at this spot in the documentation.  I _think_ this new wording conveys what was actually intended.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/170/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/167", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/167/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/167/events", "html_url": "https://github.com/amethyst/legion/pull/167", "id": 669766529, "node_id": "MDExOlB1bGxSZXF1ZXN0NDYwMTAwNjk5", "number": 167, "title": "Fix compilation to wasm: the Uuid::new_v4() function is not found", "user": {"login": "tuzz", "id": 892251, "node_id": "MDQ6VXNlcjg5MjI1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/892251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tuzz", "html_url": "https://github.com/tuzz", "followers_url": "https://api.github.com/users/tuzz/followers", "following_url": "https://api.github.com/users/tuzz/following{/other_user}", "gists_url": "https://api.github.com/users/tuzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tuzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tuzz/subscriptions", "organizations_url": "https://api.github.com/users/tuzz/orgs", "repos_url": "https://api.github.com/users/tuzz/repos", "events_url": "https://api.github.com/users/tuzz/events{/privacy}", "received_events_url": "https://api.github.com/users/tuzz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-31T12:29:16Z", "updated_at": "2020-08-03T11:37:05Z", "closed_at": "2020-07-31T16:10:39Z", "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/167", "html_url": "https://github.com/amethyst/legion/pull/167", "diff_url": "https://github.com/amethyst/legion/pull/167.diff", "patch_url": "https://github.com/amethyst/legion/pull/167.patch", "merged_at": "2020-07-31T16:10:39Z"}, "body": "Legion uses the Uuid::new_v4 function in `src/internals/entity.rs` and it\r\ncorrectly depends on the uuid crate with feature 'v4' enabled. However,\r\nfor wasm targets you must additionally enable either the stdweb or\r\nwasm-bindgen feature on that crate: https://github.com/uuid-rs/uuid#dependencies\r\n\r\nTherefore, re-export those features so they may be enabled by downstream\r\nlibraries/binaries that target wasm and use this crate.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/167/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 2, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/167/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/166", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/166/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/166/events", "html_url": "https://github.com/amethyst/legion/pull/166", "id": 667817002, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU4NDE1OTIy", "number": 166, "title": "Allow !Sync resources to be stored in Resources", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-29T12:45:52Z", "updated_at": "2020-07-31T21:19:16Z", "closed_at": "2020-07-31T21:19:13Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/166", "html_url": "https://github.com/amethyst/legion/pull/166", "diff_url": "https://github.com/amethyst/legion/pull/166.diff", "patch_url": "https://github.com/amethyst/legion/pull/166.patch", "merged_at": "2020-07-31T21:19:13Z"}, "body": "Resources which are !Sync can now be stored inside Resources collections. Systems which attempt to access such resources will themselves be marked as !Sync and cannot be scheduled via `add_system`, but must be scheduled as thread-local via `add_thread_local`.\r\n\r\nThis is a breaking change as `Resources` is now no longer `Send` or `Sync`, as it may own resources which themselves need to stay on the main thread.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/166/reactions", "total_count": 4, "+1": 0, "-1": 0, "laugh": 0, "hooray": 4, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/166/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/165", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/165/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/165/events", "html_url": "https://github.com/amethyst/legion/pull/165", "id": 666056273, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU2OTY2ODA2", "number": 165, "title": "#[system] procedural macro", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-27T07:27:47Z", "updated_at": "2020-07-31T17:37:58Z", "closed_at": "2020-07-31T17:37:54Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/165", "html_url": "https://github.com/amethyst/legion/pull/165", "diff_url": "https://github.com/amethyst/legion/pull/165.diff", "patch_url": "https://github.com/amethyst/legion/pull/165.patch", "merged_at": "2020-07-31T17:37:54Z"}, "body": "This PR adds a `#[system]` procedural macro to legion, behind the \"codegen\" feature flag (enabled by default), which generates the code dealing with manually constructing systems with the `SystemBuilder` API, as discussed in #31. The function maked with the attribute is left as-is, so auto-complete and other IDE tooling continue to function as normal.\r\n\r\nTo copy and paste the docs for the macro:\r\n\r\n## #[system]\r\nWraps a function in a system, and generates a new function which constructs that system.\r\n\r\nThere are three types of systems: simple (default), for_each and par_for_each. By default, the system macro will create a new function named `<attributed_fn_name>_system` which can be called to construct the system.\r\n\r\n### Examples\r\n\r\nBy default, the system function is called once when the system runs.\r\n\r\n```rust\r\n#[system]\r\nfn hello_world() {\r\n   println!(\"hello world\");\r\n}\r\n\r\nSchedule::builder()\r\n    .add_system(hello_world_system())\r\n    .build();\r\n```\r\n\r\nThe function can request resources with reference parameters marked with the #[resource] attribute.\r\n\r\n```rust\r\n#[system]\r\nfn hello_world(#[resource] person: &Person) {\r\n   println!(\"hello, {}\", person.name);\r\n}\r\n```\r\n\r\nSystems can also request a world or command buffer.\r\n\r\n```rust\r\n#[system]\r\nfn create_entity(world: &mut SubWorld, cmd: &mut CommandBuffer) {\r\n   cmd.push((1usize, false, Person { name: \"Jane Doe\" }));\r\n}\r\n```\r\n\r\nSystems can declare access to component types with the #[read_component] and #[write_component] attributes.\r\n\r\n```rust\r\n#[system]\r\n#[read_component(usize)]\r\n#[write_component(bool)]\r\nfn run_query(world: &mut SubWorld) {\r\n    let mut query = <(Read<usize>, Write<bool>)>::query();\r\n    for (a, b) in query.iter_mut(world) {\r\n        println!(\"{} {}\", a, b);\r\n    }\r\n}\r\n```\r\n\r\nfor_each and par_for_each system types can be used to implement the query for you. References will be interpreted as Read<T> and Write<T>, while options of references (e.g. Option<&Position>) will be interpreted as TryRead<T> and TryWrite<T>. You can request the entity ID via a &Entity parameter.\r\n\r\n```rust\r\n#[system(for_each)]\r\nfn update_positions(pos: &mut Position, vel: &Velocity, #[resource] time: &Time) {\r\n    pos.x += vel.x * time.seconds;\r\n}\r\n```\r\n\r\nfor_each and par_for_each systems can request attitional filters for their query via the #[filter] attribute.\r\n\r\n```rust\r\n#[system(for_each)]\r\n#[filter(maybe_changed::<Position>())]\r\nfn update_positions(pos: &mut Position, vel: &Velocity, #[resource] time: &Time) {\r\n    pos.x += vel.x * time.seconds;\r\n}\r\n```\r\n\r\nSystems can contain their own state. Add a reference marked with the #[state] parameter to your function. This state will be initialized when you construct the system.\r\n\r\n```rust\r\n#[system]\r\nfn stateful(#[state] counter: &mut usize) {\r\n    *counter += 1;\r\n    println!(\"state: {}\", counter);\r\n}\r\n\r\nSchedule::builder()\r\n     // initialize state when you construct the system\r\n    .add_system(stateful_system(5usize))\r\n    .build();\r\n```\r\n\r\nSystems can contain generic parameters.\r\n\r\n```rust\r\n#[system(for_each)]\r\nfn print_component<T: Component + Debug>(component: &T) {\r\n    println!(\"{:?}\", component);\r\n}\r\n\r\nSchedule::builder()\r\n     // supply generic parameters when constructing the system\r\n    .add_system(print_component_system::<Position>())\r\n    .build();\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/165/reactions", "total_count": 20, "+1": 0, "-1": 0, "laugh": 0, "hooray": 11, "confused": 0, "heart": 9, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/165/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}, {"url": "https://api.github.com/repos/amethyst/legion/issues/115", "repository_url": "https://api.github.com/repos/amethyst/legion", "labels_url": "https://api.github.com/repos/amethyst/legion/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/amethyst/legion/issues/115/comments", "events_url": "https://api.github.com/repos/amethyst/legion/issues/115/events", "html_url": "https://github.com/amethyst/legion/pull/115", "id": 577572141, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg1MzE4NDQ5", "number": 115, "title": "Experimental refactor in legion_experiment crate", "user": {"login": "TomGillen", "id": 534054, "node_id": "MDQ6VXNlcjUzNDA1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/534054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomGillen", "html_url": "https://github.com/TomGillen", "followers_url": "https://api.github.com/users/TomGillen/followers", "following_url": "https://api.github.com/users/TomGillen/following{/other_user}", "gists_url": "https://api.github.com/users/TomGillen/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomGillen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomGillen/subscriptions", "organizations_url": "https://api.github.com/users/TomGillen/orgs", "repos_url": "https://api.github.com/users/TomGillen/repos", "events_url": "https://api.github.com/users/TomGillen/events{/privacy}", "received_events_url": "https://api.github.com/users/TomGillen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 36, "created_at": "2020-03-08T21:51:03Z", "updated_at": "2020-07-27T07:14:05Z", "closed_at": "2020-07-27T07:13:48Z", "author_association": "COLLABORATOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/amethyst/legion/pulls/115", "html_url": "https://github.com/amethyst/legion/pull/115", "diff_url": "https://github.com/amethyst/legion/pull/115.diff", "patch_url": "https://github.com/amethyst/legion/pull/115.patch", "merged_at": "2020-07-27T07:13:48Z"}, "body": "This started as a simple refactor of legion into smaller sub-modules, as some of the module files were well over 1k LoC and were getting unmaintainable. However, while moving things around, I found some soundness issues and saw some opportunity to simplify things. Those in turn caused more changes downstream, and the simplifications made other improvements that I had been planning fairly trivial to implement. This ended up being a _much_ larger and more impactful refactor of the entire legion_core crate than I had originally planned. This work is not yet complete, but it is wide reaching enough that I want to give everyone the opportunity to see what I've been doing and collect some feedback.\r\n\r\nThe general changes are:\r\n * Much shorter module files, each with a more clearly defined scope.\r\n * Simpler code in general. I don't have a line count yet, but I expect this to have shaved a few hundred lines off the library overall.\r\n * Removed many uses of `unsafe`.\r\n\r\nChanges to `World` (which now more closely resembles a std collection):\r\n * Added `len` to retrieve entity count.\r\n * Renamed `insert` to `extend`.\r\n * Added `push` as sugar for inserting a single entity.\r\n * Renamed `delete` to `remove`.\r\n * Renamed `is_alive` to `contains`.\r\n * Added `entity(Entity) -> Entry` and `entity_mut(Entity) -> EntryMut` functions. Entries contain the APIs for interacting with a single entity. e.g. `get_component`, `add_component` and `layout` (which in turn offers `has_component` etc).\r\n * `iter` and `iter_mut` for iterating through all entity entries.\r\n * You can now insert with a tuple of component vecs, in addition to an iterator of component tuples. This is about 50% faster.\r\n\r\nChanges to storage:\r\n * Much clearer distinction between structural changes to storage (e.g. adding entities) and the interior mutability involved in accessing components.\r\n * Chunk metadata has been pulled out into a `LayoutIndex`.\r\n * The layout index is optimised for search and provides a `.search(EntityFilter) -> impl Iterator<Item = ArchetypeIndex>` function.\r\n * Renamed \"archetype\" to \"layout\".\r\n * Renamed \"chunk set\" to \"archetype\".\r\n * Storage now derefs into `[Archetype]` and can be indexed by `ArchetypeIndex`.\r\n * Chunks no longer free their internal memory when empty. Defrag now deletes empty chunks.\r\n * Event subscribers can ask to recieve initial creation/insertion events for pre-existing archetypes and entities when they subscribe.\r\n\r\nChanges to filters:\r\n * No longer implemented as iterators. This was a pain without GATs (it is the canonical streaming iterator problem).\r\n * Filters now only provide their matching logic.\r\n * Distinction made between stateless layout/archetype filters and stateful chunk filters.\r\n * Filters can now _cache their matches_ and incrementally update queries. System queries should do this by default in the future.\r\n\r\nIt is likely that `SystemQuery` won't be needed anymore, too.\r\n\r\nI don't forsee any more major API changes beyond completing this rework, and legion v1.0.0 will likely closely resemble this, after which things should stabilise and breaking changes will hopefully be rare.", "reactions": {"url": "https://api.github.com/repos/amethyst/legion/issues/115/reactions", "total_count": 21, "+1": 13, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 8, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/amethyst/legion/issues/115/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]